{"ast":null,"code":"import _asyncToGenerator from \"/home/jcanulao/Documentos/Miven1.0.0-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _AddItemComponent;\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/inventory.service\";\nimport * as i2 from \"@angular/fire/compat/auth\";\nimport * as i3 from \"@angular/fire/compat/firestore\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ionic/angular\";\nimport * as i6 from \"@angular/forms\";\nfunction AddItemComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2, \"Imagen Capturada:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.capturedImage, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction AddItemComponent_ion_select_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(item_r2);\n  }\n}\nfunction AddItemComponent_ion_item_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\", 3);\n    i0.ɵɵtext(2, \"Nuevo \\u00CDtem\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-input\", 8);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AddItemComponent_ion_item_18_Template_ion_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r0 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r0.newItem.nombre, $event) || (ctx_r0.newItem.nombre = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r0.newItem.nombre);\n  }\n}\nexport class AddItemComponent {\n  constructor(inventoryService, auth, firestore) {\n    this.inventoryService = inventoryService;\n    this.auth = auth;\n    this.firestore = firestore;\n    this.predefinedItems = [];\n    this.availableItems = [];\n    this.selectedItem = null;\n    this.isNewItem = false;\n    this.newItem = {\n      nombre: '',\n      cantidad: 0,\n      fechaVencimiento: '',\n      unidadMedida: ''\n    };\n    this.userId = null;\n    this.capturedImage = null;\n    this.auth.user.subscribe(user => {\n      if (user) {\n        this.userId = user.uid;\n      }\n    });\n  }\n  ngOnInit() {\n    this.loadAvailableItems();\n  }\n  openCamera() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const image = yield Camera.getPhoto({\n          quality: 90,\n          resultType: CameraResultType.Base64,\n          source: CameraSource.Camera\n        });\n        _this.capturedImage = `data:image/jpeg;base64,${image.base64String}`;\n      } catch (error) {\n        console.error('Error al capturar la imagen:', error);\n      }\n    })();\n  }\n  // Cargar los ítems disponibles desde Firestore...\n  loadAvailableItems() {\n    this.firestore.collection('items').valueChanges({\n      idField: 'id'\n    }).subscribe(items => {\n      this.availableItems = [...this.predefinedItems, ...items.map(item => item.nombre)];\n    });\n  }\n  formatFechaVencimiento(fecha) {\n    const date = new Date(fecha);\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return `${day}-${month}-${year}`;\n  }\n  onItemSelected(event) {\n    const selectedItem = event.detail.value;\n    if (selectedItem === 'Otro') {\n      this.isNewItem = true;\n      this.newItem.nombre = '';\n    } else {\n      this.isNewItem = false;\n      this.newItem.nombre = selectedItem;\n    }\n  }\n  addItem() {\n    if (!this.isNewItem && this.selectedItem) {\n      this.newItem.nombre = this.selectedItem;\n    }\n    if (this.userId && this.newItem.nombre && this.newItem.cantidad > 0 && this.newItem.unidadMedida && this.newItem.fechaVencimiento) {\n      const formattedFecha = this.formatFechaVencimiento(this.newItem.fechaVencimiento); // Formatear la fecha\n      const itemToSave = {\n        nombre: this.newItem.nombre,\n        cantidad: this.newItem.cantidad,\n        fechaVencimiento: formattedFecha,\n        unidadMedida: this.newItem.unidadMedida,\n        imageUrl: this.capturedImage // Agregar la imagen capturada\n      };\n      this.inventoryService.addItemToInventory(itemToSave, this.userId).then(() => {\n        if (this.isNewItem) {\n          this.addItemToFirestore(this.newItem.nombre);\n        }\n        console.log('Ítem agregado con éxito');\n        this.resetForm();\n      }).catch(error => {\n        console.error('Error al agregar el ítem:', error);\n      });\n    } else {\n      console.error('Todos los campos son obligatorios');\n    }\n  }\n  // Guardar un ítem nuevo en Firestore\n  addItemToFirestore(nombre) {\n    this.firestore.collection('items').doc(nombre).set({\n      nombre\n    });\n  }\n  // Método para resetear el formulario\n  resetForm() {\n    this.newItem = {\n      nombre: '',\n      cantidad: 0,\n      fechaVencimiento: '',\n      unidadMedida: ''\n    };\n    this.selectedItem = null;\n    this.isNewItem = false;\n    this.capturedImage = null;\n  }\n}\n_AddItemComponent = AddItemComponent;\n_AddItemComponent.ɵfac = function AddItemComponent_Factory(__ngFactoryType__) {\n  return new (__ngFactoryType__ || _AddItemComponent)(i0.ɵɵdirectiveInject(i1.InventoryService), i0.ɵɵdirectiveInject(i2.AngularFireAuth), i0.ɵɵdirectiveInject(i3.AngularFirestore));\n};\n_AddItemComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _AddItemComponent,\n  selectors: [[\"app-add-item\"]],\n  decls: 39,\n  vars: 6,\n  consts: [[\"slot\", \"start\"], [\"expand\", \"block\", 3, \"click\"], [4, \"ngIf\"], [\"position\", \"floating\"], [\"placeholder\", \"Selecciona o agrega un \\u00EDtem\", 3, \"ionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"value\", \"Otro\"], [\"type\", \"number\", 3, \"ngModelChange\", \"ngModel\"], [3, \"ngModelChange\", \"ngModel\"], [\"value\", \"gramos\"], [\"value\", \"ml\"], [\"value\", \"unidad\"], [\"displayFormat\", \"YYYY-MM-DD\", \"min\", \"2024-01-01\", \"max\", \"2030-12-31\", 3, \"ngModelChange\", \"ngModel\"], [\"expand\", \"full\", 3, \"click\"], [\"alt\", \"Imagen Capturada\", 2, \"width\", \"100%\", \"height\", \"auto\", \"margin-top\", \"10px\", 3, \"src\"], [3, \"value\"]],\n  template: function AddItemComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-menu-button\");\n      i0.ɵɵelementStart(4, \"ion-title\");\n      i0.ɵɵtext(5, \"Agregar Item\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"ion-item\")(7, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function AddItemComponent_Template_ion_button_click_7_listener() {\n        return ctx.openCamera();\n      });\n      i0.ɵɵtext(8, \"Capturar Imagen\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(9, \"ion-content\");\n      i0.ɵɵtemplate(10, AddItemComponent_div_10_Template, 4, 1, \"div\", 2);\n      i0.ɵɵelementStart(11, \"ion-item\")(12, \"ion-label\", 3);\n      i0.ɵɵtext(13, \"Selecciona un producto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ion-select\", 4);\n      i0.ɵɵlistener(\"ionChange\", function AddItemComponent_Template_ion_select_ionChange_14_listener($event) {\n        return ctx.onItemSelected($event);\n      });\n      i0.ɵɵtemplate(15, AddItemComponent_ion_select_option_15_Template, 2, 2, \"ion-select-option\", 5);\n      i0.ɵɵelementStart(16, \"ion-select-option\", 6);\n      i0.ɵɵtext(17, \"Otro (Agregar nuevo)\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(18, AddItemComponent_ion_item_18_Template, 4, 1, \"ion-item\", 2);\n      i0.ɵɵelementStart(19, \"ion-item\")(20, \"ion-label\", 3);\n      i0.ɵɵtext(21, \"Cantidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"ion-input\", 7);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function AddItemComponent_Template_ion_input_ngModelChange_22_listener($event) {\n        i0.ɵɵtwoWayBindingSet(ctx.newItem.cantidad, $event) || (ctx.newItem.cantidad = $event);\n        return $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"ion-item\")(24, \"ion-label\");\n      i0.ɵɵtext(25, \"Unidad\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"ion-select\", 8);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function AddItemComponent_Template_ion_select_ngModelChange_26_listener($event) {\n        i0.ɵɵtwoWayBindingSet(ctx.newItem.unidadMedida, $event) || (ctx.newItem.unidadMedida = $event);\n        return $event;\n      });\n      i0.ɵɵelementStart(27, \"ion-select-option\", 9);\n      i0.ɵɵtext(28, \"Gramos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"ion-select-option\", 10);\n      i0.ɵɵtext(30, \"Mililitros\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"ion-select-option\", 11);\n      i0.ɵɵtext(32, \"Unidad\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(33, \"ion-item\")(34, \"ion-label\", 3);\n      i0.ɵɵtext(35, \"Fecha de Vencimiento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"ion-datetime\", 12);\n      i0.ɵɵtwoWayListener(\"ngModelChange\", function AddItemComponent_Template_ion_datetime_ngModelChange_36_listener($event) {\n        i0.ɵɵtwoWayBindingSet(ctx.newItem.fechaVencimiento, $event) || (ctx.newItem.fechaVencimiento = $event);\n        return $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(37, \"ion-button\", 13);\n      i0.ɵɵlistener(\"click\", function AddItemComponent_Template_ion_button_click_37_listener() {\n        return ctx.addItem();\n      });\n      i0.ɵɵtext(38, \"Agregar \\u00CDtem\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", ctx.capturedImage);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", ctx.availableItems);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isNewItem);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.newItem.cantidad);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.newItem.unidadMedida);\n      i0.ɵɵadvance(10);\n      i0.ɵɵtwoWayProperty(\"ngModel\", ctx.newItem.fechaVencimiento);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.IonButton, i5.IonButtons, i5.IonContent, i5.IonDatetime, i5.IonHeader, i5.IonInput, i5.IonItem, i5.IonLabel, i5.IonMenuButton, i5.IonSelect, i5.IonSelectOption, i5.IonTitle, i5.IonToolbar, i5.NumericValueAccessor, i5.SelectValueAccessor, i5.TextValueAccessor, i6.NgControlStatus, i6.NgModel],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["Camera","CameraResultType","CameraSource","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵproperty","ctx_r0","capturedImage","ɵɵsanitizeUrl","item_r2","ɵɵtextInterpolate","ɵɵtwoWayListener","AddItemComponent_ion_item_18_Template_ion_input_ngModelChange_3_listener","$event","ɵɵrestoreView","_r3","ɵɵnextContext","ɵɵtwoWayBindingSet","newItem","nombre","ɵɵresetView","ɵɵtwoWayProperty","AddItemComponent","constructor","inventoryService","auth","firestore","predefinedItems","availableItems","selectedItem","isNewItem","cantidad","fechaVencimiento","unidadMedida","userId","user","subscribe","uid","ngOnInit","loadAvailableItems","openCamera","_this","_asyncToGenerator","image","getPhoto","quality","resultType","Base64","source","base64String","error","console","collection","valueChanges","idField","items","map","item","formatFechaVencimiento","fecha","date","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","onItemSelected","event","detail","value","addItem","formattedFecha","itemToSave","imageUrl","addItemToInventory","then","addItemToFirestore","log","resetForm","catch","doc","set","ɵɵdirectiveInject","i1","InventoryService","i2","AngularFireAuth","i3","AngularFirestore","selectors","decls","vars","consts","template","AddItemComponent_Template","rf","ctx","ɵɵlistener","AddItemComponent_Template_ion_button_click_7_listener","ɵɵtemplate","AddItemComponent_div_10_Template","AddItemComponent_Template_ion_select_ionChange_14_listener","AddItemComponent_ion_select_option_15_Template","AddItemComponent_ion_item_18_Template","AddItemComponent_Template_ion_input_ngModelChange_22_listener","AddItemComponent_Template_ion_select_ngModelChange_26_listener","AddItemComponent_Template_ion_datetime_ngModelChange_36_listener","AddItemComponent_Template_ion_button_click_37_listener"],"sources":["/home/jcanulao/Documentos/Miven1.0.0-main/src/app/components/add-item/add-item.component.ts","/home/jcanulao/Documentos/Miven1.0.0-main/src/app/components/add-item/add-item.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { InventoryService } from '../../services/inventory.service';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport { AngularFirestore } from '@angular/fire/compat/firestore';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\n\n@Component({\n  selector: 'app-add-item',\n  templateUrl: './add-item.component.html',\n  styleUrls: ['./add-item.component.scss']\n})\nexport class AddItemComponent implements OnInit {\n  predefinedItems: string[] = [];\n  availableItems: string[] = [];\n  selectedItem: string | null = null;\n  isNewItem: boolean = false;\n  newItem: any = {\n    nombre: '',\n    cantidad: 0,\n    fechaVencimiento: '',\n    unidadMedida: ''\n  };\n  userId: string | null = null;\n  capturedImage: string | null = null;\n\n\n  constructor(private inventoryService: InventoryService, private auth: AngularFireAuth, private firestore: AngularFirestore) {\n    this.auth.user.subscribe(user => {\n      if (user) {\n        this.userId = user.uid;\n      }\n    });\n  }\n\n\n\n  ngOnInit() {\n    this.loadAvailableItems();\n  }\n\n  async openCamera() {\n    try {\n      const image = await Camera.getPhoto({\n        quality: 90,\n        resultType: CameraResultType.Base64,\n        source: CameraSource.Camera,\n      });\n      this.capturedImage = `data:image/jpeg;base64,${image.base64String}`;\n    } catch (error) {\n      console.error('Error al capturar la imagen:', error);\n    }\n  }\n\n\n  // Cargar los ítems disponibles desde Firestore...\n  loadAvailableItems() {\n    this.firestore.collection('items').valueChanges({ idField: 'id' }).subscribe((items: any[]) => {\n      this.availableItems = [...this.predefinedItems, ...items.map(item => item.nombre)];\n    });\n  }\n\n  formatFechaVencimiento(fecha: string): string {\n    const date = new Date(fecha);\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n\n    return `${day}-${month}-${year}`;\n  }\n\n  onItemSelected(event: any) {\n    const selectedItem = event.detail.value;\n    if (selectedItem === 'Otro') {\n      this.isNewItem = true;\n      this.newItem.nombre = '';  \n    } else {\n      this.isNewItem = false;\n      this.newItem.nombre = selectedItem;  \n    }\n  }\n\n  addItem() {\n    if (!this.isNewItem && this.selectedItem) {\n      this.newItem.nombre = this.selectedItem;\n    }\n\n    if (this.userId && this.newItem.nombre && this.newItem.cantidad > 0 && this.newItem.unidadMedida  && this.newItem.fechaVencimiento) {\n      const formattedFecha = this.formatFechaVencimiento(this.newItem.fechaVencimiento); // Formatear la fecha\n      \n      const itemToSave = {\n        nombre: this.newItem.nombre,\n        cantidad: this.newItem.cantidad,\n        fechaVencimiento: formattedFecha,\n        unidadMedida: this.newItem.unidadMedida,\n        imageUrl: this.capturedImage // Agregar la imagen capturada\n      };\n\n      this.inventoryService.addItemToInventory(itemToSave, this.userId).then(() => {\n        if (this.isNewItem) {\n          this.addItemToFirestore(this.newItem.nombre);\n        }\n        console.log('Ítem agregado con éxito');\n        this.resetForm();\n      }).catch(error => {\n        console.error('Error al agregar el ítem:', error);\n      });\n    } else {\n      console.error('Todos los campos son obligatorios');\n    }\n  }\n\n  // Guardar un ítem nuevo en Firestore\n  addItemToFirestore(nombre: string) {\n    this.firestore.collection('items').doc(nombre).set({ nombre });\n  }\n\n  // Método para resetear el formulario\n  resetForm() {\n    this.newItem = { nombre: '', cantidad: 0, fechaVencimiento: '', unidadMedida:'' };\n    this.selectedItem = null;\n    this.isNewItem = false;\n    this.capturedImage = null;\n  }\n}","<ion-header>\n  <ion-toolbar>\n   <ion-buttons slot=\"start\">\n     <ion-menu-button></ion-menu-button>\n   <ion-title>Agregar Item</ion-title>\n   <ion-item>\n    <ion-button expand=\"block\" (click)=\"openCamera()\">Capturar Imagen</ion-button>\n  </ion-item>\n   </ion-buttons>\n </ion-toolbar>\n</ion-header>\n\n\n<ion-content>\n  <div *ngIf=\"capturedImage\">\n    <h3>Imagen Capturada:</h3>\n    <img [src]=\"capturedImage\" alt=\"Imagen Capturada\" style=\"width: 100%; height: auto; margin-top: 10px;\" />\n  </div>\n  <ion-item>\n    <ion-label position=\"floating\">Selecciona un producto</ion-label>\n    <ion-select (ionChange)=\"onItemSelected($event)\" placeholder=\"Selecciona o agrega un ítem\">\n      <ion-select-option *ngFor=\"let item of availableItems\" [value]=\"item\">{{ item }}</ion-select-option>\n      <ion-select-option value=\"Otro\">Otro (Agregar nuevo)</ion-select-option>\n    </ion-select>\n  </ion-item>\n\n  <ion-item *ngIf=\"isNewItem\">\n    <ion-label position=\"floating\">Nuevo Ítem</ion-label>\n    <ion-input [(ngModel)]=\"newItem.nombre\"></ion-input>\n  </ion-item>\n\n  <ion-item>\n    <ion-label position=\"floating\">Cantidad</ion-label>\n    <ion-input type=\"number\" [(ngModel)]=\"newItem.cantidad\"></ion-input>\n  </ion-item>\n\n\n  <ion-item>\n    <ion-label>Unidad</ion-label>\n    <ion-select [(ngModel)]=\"newItem.unidadMedida\">\n      <ion-select-option value=\"gramos\">Gramos</ion-select-option>\n      <ion-select-option value=\"ml\">Mililitros</ion-select-option>\n      <ion-select-option value=\"unidad\">Unidad</ion-select-option>\n    </ion-select>\n  </ion-item>\n\n  <ion-item>\n    <ion-label position=\"floating\">Fecha de Vencimiento</ion-label>\n    <ion-datetime displayFormat=\"YYYY-MM-DD\" min=\"2024-01-01\" max=\"2030-12-31\" [(ngModel)]=\"newItem.fechaVencimiento\"></ion-datetime>\n  </ion-item>\n\n  <ion-button expand=\"full\" (click)=\"addItem()\">Agregar Ítem</ion-button>\n</ion-content>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}