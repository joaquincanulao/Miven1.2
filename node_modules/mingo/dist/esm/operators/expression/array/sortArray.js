import { Aggregator } from "../../../aggregator";
import { computeValue } from "../../../core";
import { assert, compare, isArray, isNil, isObject } from "../../../util";
const $sortArray = (obj, expr, options) => {
  const { input, sortBy } = computeValue(obj, expr, null, options);
<<<<<<< HEAD
<<<<<<< HEAD
  if (isNil(input))
    return null;
=======
  if (isNil(input)) return null;
>>>>>>> 7cb31df57 (se integro la edicion de las recetas)
=======
  if (isNil(input)) return null;
>>>>>>> cfa17b8e4 (favorite)
  assert(isArray(input), "$sortArray expression must resolve to an array");
  if (isObject(sortBy)) {
    return new Aggregator([{ $sort: sortBy }]).run(input);
  }
  const result = [...input];
  result.sort(compare);
<<<<<<< HEAD
<<<<<<< HEAD
  if (sortBy === -1)
    result.reverse();
=======
  if (sortBy === -1) result.reverse();
>>>>>>> 7cb31df57 (se integro la edicion de las recetas)
=======
  if (sortBy === -1) result.reverse();
>>>>>>> cfa17b8e4 (favorite)
  return result;
};
export {
  $sortArray
};
