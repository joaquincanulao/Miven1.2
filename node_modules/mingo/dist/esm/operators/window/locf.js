import { isNil } from "../../util";
import { $push } from "../accumulator/push";
import { withMemo } from "./_internal";
<<<<<<< HEAD
<<<<<<< HEAD
function $locf(_, collection, expr, options) {
=======
const $locf = (_, collection, expr, options) => {
>>>>>>> 7cb31df57 (se integro la edicion de las recetas)
=======
const $locf = (_, collection, expr, options) => {
>>>>>>> cfa17b8e4 (favorite)
  return withMemo(
    collection,
    expr,
    () => {
      const values = $push(collection, expr.inputExpr, options);
      for (let i = 1; i < values.length; i++) {
<<<<<<< HEAD
<<<<<<< HEAD
        if (isNil(values[i]))
          values[i] = values[i - 1];
=======
        if (isNil(values[i])) values[i] = values[i - 1];
>>>>>>> 7cb31df57 (se integro la edicion de las recetas)
=======
        if (isNil(values[i])) values[i] = values[i - 1];
>>>>>>> cfa17b8e4 (favorite)
      }
      return values;
    },
    (series) => series[expr.documentNumber - 1]
  );
<<<<<<< HEAD
<<<<<<< HEAD
}
=======
};
>>>>>>> 7cb31df57 (se integro la edicion de las recetas)
=======
};
>>>>>>> cfa17b8e4 (favorite)
export {
  $locf
};
