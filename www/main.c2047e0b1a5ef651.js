(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(Mn,St,x)=>{"use strict";x.d(St,{E_:()=>mt,F3:()=>Je,I9:()=>st,Ii:()=>Qe});var h=x(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var He=function(ht){return ht.Unimplemented="UNIMPLEMENTED",ht.Unavailable="UNAVAILABLE",ht}(He||{});class st extends Error{constructor(tt,Ft,Vt){super(tt),this.message=tt,this.code=Ft,this.data=Vt}}const Ie=ht=>{var tt,Ft,Vt,cn,qe;const De=ht.CapacitorCustomPlatform||null,Y=ht.Capacitor||{},ie=Y.Plugins=Y.Plugins||{},se=ht.CapacitorPlatforms,et=(null===(tt=null==se?void 0:se.currentPlatform)||void 0===tt?void 0:tt.getPlatform)||(()=>null!==De?De.name:(ht=>{var tt,Ft;return null!=ht&&ht.androidBridge?"android":null!==(Ft=null===(tt=null==ht?void 0:ht.webkit)||void 0===tt?void 0:tt.messageHandlers)&&void 0!==Ft&&Ft.bridge?"ios":"web"})(ht)),ze=(null===(Ft=null==se?void 0:se.currentPlatform)||void 0===Ft?void 0:Ft.isNativePlatform)||(()=>"web"!==et()),In=(null===(Vt=null==se?void 0:se.currentPlatform)||void 0===Vt?void 0:Vt.isPluginAvailable)||(Yt=>{const Hn=Sn.get(Yt);return!!(null!=Hn&&Hn.platforms.has(et())||Rn(Yt))}),Rn=(null===(cn=null==se?void 0:se.currentPlatform)||void 0===cn?void 0:cn.getPluginHeader)||(Yt=>{var Hn;return null===(Hn=Y.PluginHeaders)||void 0===Hn?void 0:Hn.find(vt=>vt.name===Yt)}),Sn=new Map,Qt=(null===(qe=null==se?void 0:se.currentPlatform)||void 0===qe?void 0:qe.registerPlugin)||((Yt,Hn={})=>{const vt=Sn.get(Yt);if(vt)return console.warn(`Capacitor plugin "${Yt}" already registered. Cannot register plugins twice.`),vt.proxy;const Ne=et(),je=Rn(Yt);let rn;const Gn=function(){var or=(0,h.A)(function*(){return!rn&&Ne in Hn?rn=rn="function"==typeof Hn[Ne]?yield Hn[Ne]():Hn[Ne]:null!==De&&!rn&&"web"in Hn&&(rn=rn="function"==typeof Hn.web?yield Hn.web():Hn.web),rn});return function(){return or.apply(this,arguments)}}(),sr=or=>{let Zn;const Tr=(...pi)=>{const An=Gn().then(ti=>{const Un=((or,Zn)=>{var Tr,pi;if(!je){if(or)return null===(pi=or[Zn])||void 0===pi?void 0:pi.bind(or);throw new st(`"${Yt}" plugin is not implemented on ${Ne}`,He.Unimplemented)}{const An=null==je?void 0:je.methods.find(ti=>Zn===ti.name);if(An)return"promise"===An.rtype?ti=>Y.nativePromise(Yt,Zn.toString(),ti):(ti,Un)=>Y.nativeCallback(Yt,Zn.toString(),ti,Un);if(or)return null===(Tr=or[Zn])||void 0===Tr?void 0:Tr.bind(or)}})(ti,or);if(Un){const qn=Un(...pi);return Zn=null==qn?void 0:qn.remove,qn}throw new st(`"${Yt}.${or}()" is not implemented on ${Ne}`,He.Unimplemented)});return"addListener"===or&&(An.remove=(0,h.A)(function*(){return Zn()})),An};return Tr.toString=()=>`${or.toString()}() { [capacitor code] }`,Object.defineProperty(Tr,"name",{value:or,writable:!1,configurable:!1}),Tr},kn=sr("addListener"),Jt=sr("removeListener"),Ar=(or,Zn)=>{const Tr=kn({eventName:or},Zn),pi=function(){var ti=(0,h.A)(function*(){const Un=yield Tr;Jt({eventName:or,callbackId:Un},Zn)});return function(){return ti.apply(this,arguments)}}(),An=new Promise(ti=>Tr.then(()=>ti({remove:pi})));return An.remove=(0,h.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield pi()}),An},dr=new Proxy({},{get(or,Zn){switch(Zn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return je?Ar:kn;case"removeListener":return Jt;default:return sr(Zn)}}});return ie[Yt]=dr,Sn.set(Yt,{name:Yt,proxy:dr,platforms:new Set([...Object.keys(Hn),...je?[Ne]:[]])}),dr});return Y.convertFileSrc||(Y.convertFileSrc=Yt=>Yt),Y.getPlatform=et,Y.handleError=Yt=>ht.console.error(Yt),Y.isNativePlatform=ze,Y.isPluginAvailable=In,Y.pluginMethodNoop=(Yt,Hn,vt)=>Promise.reject(`${vt} does not have an implementation of "${Hn}".`),Y.registerPlugin=Qt,Y.Exception=st,Y.DEBUG=!!Y.DEBUG,Y.isLoggingEnabled=!!Y.isLoggingEnabled,Y.platform=Y.getPlatform(),Y.isNative=Y.isNativePlatform(),Y},Qe=(ht=>ht.Capacitor=Ie(ht))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Je=Qe.registerPlugin;class mt{constructor(tt){this.listeners={},this.retainedEventArguments={},this.windowListeners={},tt&&(console.warn(`Capacitor WebPlugin "${tt.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=tt)}addListener(tt,Ft){var Vt=this;let cn=!1;this.listeners[tt]||(this.listeners[tt]=[],cn=!0),this.listeners[tt].push(Ft);const De=this.windowListeners[tt];De&&!De.registered&&this.addWindowListener(De),cn&&this.sendRetainedArgumentsForEvent(tt);const Y=function(){var se=(0,h.A)(function*(){return Vt.removeListener(tt,Ft)});return function(){return se.apply(this,arguments)}}();return Promise.resolve({remove:Y})}removeAllListeners(){var tt=this;return(0,h.A)(function*(){tt.listeners={};for(const Ft in tt.windowListeners)tt.removeWindowListener(tt.windowListeners[Ft]);tt.windowListeners={}})()}notifyListeners(tt,Ft,Vt){const cn=this.listeners[tt];if(cn)cn.forEach(qe=>qe(Ft));else if(Vt){let qe=this.retainedEventArguments[tt];qe||(qe=[]),qe.push(Ft),this.retainedEventArguments[tt]=qe}}hasListeners(tt){return!!this.listeners[tt].length}registerWindowListener(tt,Ft){this.windowListeners[Ft]={registered:!1,windowEventName:tt,pluginEventName:Ft,handler:Vt=>{this.notifyListeners(Ft,Vt)}}}unimplemented(tt="not implemented"){return new Qe.Exception(tt,He.Unimplemented)}unavailable(tt="not available"){return new Qe.Exception(tt,He.Unavailable)}removeListener(tt,Ft){var Vt=this;return(0,h.A)(function*(){const cn=Vt.listeners[tt];if(!cn)return;const qe=cn.indexOf(Ft);Vt.listeners[tt].splice(qe,1),Vt.listeners[tt].length||Vt.removeWindowListener(Vt.windowListeners[tt])})()}addWindowListener(tt){window.addEventListener(tt.windowEventName,tt.handler),tt.registered=!0}removeWindowListener(tt){tt&&(window.removeEventListener(tt.windowEventName,tt.handler),tt.registered=!1)}sendRetainedArgumentsForEvent(tt){const Ft=this.retainedEventArguments[tt];Ft&&(delete this.retainedEventArguments[tt],Ft.forEach(Vt=>{this.notifyListeners(tt,Vt)}))}}const Nt=ht=>encodeURIComponent(ht).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),wt=ht=>ht.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Me extends mt{getCookies(){return(0,h.A)(function*(){const tt=document.cookie,Ft={};return tt.split(";").forEach(Vt=>{if(Vt.length<=0)return;let[cn,qe]=Vt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");cn=wt(cn).trim(),qe=wt(qe).trim(),Ft[cn]=qe}),Ft})()}setCookie(tt){return(0,h.A)(function*(){try{const Ft=Nt(tt.key),Vt=Nt(tt.value),cn=`; expires=${(tt.expires||"").replace("expires=","")}`,qe=(tt.path||"/").replace("path=",""),De=null!=tt.url&&tt.url.length>0?`domain=${tt.url}`:"";document.cookie=`${Ft}=${Vt||""}${cn}; path=${qe}; ${De};`}catch(Ft){return Promise.reject(Ft)}})()}deleteCookie(tt){return(0,h.A)(function*(){try{document.cookie=`${tt.key}=; Max-Age=0`}catch(Ft){return Promise.reject(Ft)}})()}clearCookies(){return(0,h.A)(function*(){try{const tt=document.cookie.split(";")||[];for(const Ft of tt)document.cookie=Ft.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(tt){return Promise.reject(tt)}})()}clearAllCookies(){var tt=this;return(0,h.A)(function*(){try{yield tt.clearCookies()}catch(Ft){return Promise.reject(Ft)}})()}}Je("CapacitorCookies",{web:()=>new Me});const Le=function(){var ht=(0,h.A)(function*(tt){return new Promise((Ft,Vt)=>{const cn=new FileReader;cn.onload=()=>{const qe=cn.result;Ft(qe.indexOf(",")>=0?qe.split(",")[1]:qe)},cn.onerror=qe=>Vt(qe),cn.readAsDataURL(tt)})});return function(Ft){return ht.apply(this,arguments)}}();class he extends mt{request(tt){return(0,h.A)(function*(){const Ft=((ht,tt={})=>{const Ft=Object.assign({method:ht.method||"GET",headers:ht.headers},tt),cn=((ht={})=>{const tt=Object.keys(ht);return Object.keys(ht).map(cn=>cn.toLocaleLowerCase()).reduce((cn,qe,De)=>(cn[qe]=ht[tt[De]],cn),{})})(ht.headers)["content-type"]||"";if("string"==typeof ht.data)Ft.body=ht.data;else if(cn.includes("application/x-www-form-urlencoded")){const qe=new URLSearchParams;for(const[De,Y]of Object.entries(ht.data||{}))qe.set(De,Y);Ft.body=qe.toString()}else if(cn.includes("multipart/form-data")||ht.data instanceof FormData){const qe=new FormData;if(ht.data instanceof FormData)ht.data.forEach((Y,ie)=>{qe.append(ie,Y)});else for(const Y of Object.keys(ht.data))qe.append(Y,ht.data[Y]);Ft.body=qe;const De=new Headers(Ft.headers);De.delete("content-type"),Ft.headers=De}else(cn.includes("application/json")||"object"==typeof ht.data)&&(Ft.body=JSON.stringify(ht.data));return Ft})(tt,tt.webFetchExtra),Vt=((ht,tt=!0)=>ht?Object.entries(ht).reduce((Vt,cn)=>{const[qe,De]=cn;let Y,ie;return Array.isArray(De)?(ie="",De.forEach(se=>{Y=tt?encodeURIComponent(se):se,ie+=`${qe}=${Y}&`}),ie.slice(0,-1)):(Y=tt?encodeURIComponent(De):De,ie=`${qe}=${Y}`),`${Vt}&${ie}`},"").substr(1):null)(tt.params,tt.shouldEncodeUrlParams),cn=Vt?`${tt.url}?${Vt}`:tt.url,qe=yield fetch(cn,Ft),De=qe.headers.get("content-type")||"";let ie,se,{responseType:Y="text"}=qe.ok?tt:{};switch(De.includes("application/json")&&(Y="json"),Y){case"arraybuffer":case"blob":se=yield qe.blob(),ie=yield Le(se);break;case"json":ie=yield qe.json();break;default:ie=yield qe.text()}const Ue={};return qe.headers.forEach((et,Et)=>{Ue[Et]=et}),{data:ie,headers:Ue,status:qe.status,url:qe.url}})()}get(tt){var Ft=this;return(0,h.A)(function*(){return Ft.request(Object.assign(Object.assign({},tt),{method:"GET"}))})()}post(tt){var Ft=this;return(0,h.A)(function*(){return Ft.request(Object.assign(Object.assign({},tt),{method:"POST"}))})()}put(tt){var Ft=this;return(0,h.A)(function*(){return Ft.request(Object.assign(Object.assign({},tt),{method:"PUT"}))})()}patch(tt){var Ft=this;return(0,h.A)(function*(){return Ft.request(Object.assign(Object.assign({},tt),{method:"PATCH"}))})()}delete(tt){var Ft=this;return(0,h.A)(function*(){return Ft.request(Object.assign(Object.assign({},tt),{method:"DELETE"}))})()}}Je("CapacitorHttp",{web:()=>new he})},576:(Mn,St,x)=>{"use strict";x.d(St,{$:()=>Ke,A:()=>Ie,G:()=>Je,K:()=>Cs,L:()=>Io,N:()=>Yn,P:()=>Zl,R:()=>$i,U:()=>ir,V:()=>_i,W:()=>Ts,X:()=>xa,Y:()=>uo,Z:()=>$o,_:()=>_e,a:()=>Jc,a0:()=>tr,a1:()=>q,a2:()=>ce,a3:()=>pe,a4:()=>Mo,a5:()=>Ko,a6:()=>ka,a7:()=>Ka,a8:()=>wr,a9:()=>is,aA:()=>Go,aB:()=>Fe,aC:()=>he,aD:()=>ru,aE:()=>hn,aF:()=>vr,aG:()=>oc,aH:()=>Gd,aI:()=>Hd,aJ:()=>Wn,aN:()=>vo,aQ:()=>oi,aa:()=>Xa,ab:()=>Xs,ac:()=>Sl,ad:()=>ql,ae:()=>Ql,af:()=>Qa,ag:()=>qs,ah:()=>Rl,ak:()=>Fa,al:()=>Yc,am:()=>Po,ap:()=>Fr,aq:()=>Ve,as:()=>ys,at:()=>Yr,au:()=>ht,av:()=>Do,aw:()=>Ei,ax:()=>Me,ay:()=>ps,az:()=>gr,b:()=>Ac,c:()=>Ja,d:()=>Xh,e:()=>sd,f:()=>zd,g:()=>Fo,h:()=>Ta,i:()=>Ys,j:()=>Oc,k:()=>su,l:()=>Yi,m:()=>Kd,o:()=>mm,p:()=>He,r:()=>Sc,s:()=>Oo,u:()=>ja});var h=x(467),s=x(8742),V=x(1076),Ee=x(8041),z=x(1635),Ae=x(1362);const He={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ie={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Je=function nt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ct=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ct=new V.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new Ee.Vy("@firebase/auth");function wt(A,...p){lt.logLevel<=Ee.$b.ERROR&&lt.error(`Auth (${s.SDK_VERSION}): ${A}`,...p)}function Me(A,...p){throw it(A,...p)}function Fe(A,...p){return it(A,...p)}function Le(A,p,m){const R=Object.assign(Object.assign({},ct()),{[p]:m});return new V.FA("auth","Firebase",R).create(p,{appName:A.name})}function ot(A){return Le(A,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ut(A,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(A,"argument-error"),Le(A,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function it(A,...p){if("string"!=typeof A){const m=p[0],R=[...p.slice(1)];return R[0]&&(R[0].appName=A.name),A._errorFactory.create(m,...R)}return Ct.create(A,...p)}function he(A,p,...m){if(!A)throw it(p,...m)}function ft(A){const p="INTERNAL ASSERTION FAILED: "+A;throw wt(p),new Error(p)}function ht(A,p){A||ft(p)}function tt(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.href)||""}function Ft(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var A;return typeof self<"u"&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class De{constructor(p,m){this.shortDelay=p,this.longDelay=m,ht(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.jZ)()||(0,V.lV)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,V.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Y(A,p){ht(A.emulator,"Emulator should always be set here");const{url:m}=A.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ie{static initialize(p,m,R){this.fetchImpl=p,m&&(this.headersImpl=m),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ue=new De(3e4,6e4);function et(A,p){return A.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:A.tenantId}):p}function Et(A,p,m,R){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.A)(function*(A,p,m,R,re={}){return Bt(A,re,(0,h.A)(function*(){let be={},Mt={};R&&("GET"===p?Mt=R:be={body:JSON.stringify(R)});const en=(0,V.Am)(Object.assign({key:A.config.apiKey},Mt)).slice(1),Cn=yield A._getAdditionalHeaders();return Cn["Content-Type"]="application/json",A.languageCode&&(Cn["X-Firebase-Locale"]=A.languageCode),ie.fetch()(Pt(A,A.config.apiHost,m,en),Object.assign({method:p,headers:Cn,referrerPolicy:"no-referrer"},be))}))})).apply(this,arguments)}function Bt(A,p,m){return In.apply(this,arguments)}function In(){return(In=(0,h.A)(function*(A,p,m){A._canInitEmulator=!1;const R=Object.assign(Object.assign({},se),p);try{const re=new Sn(A),be=yield Promise.race([m(),re.promise]);re.clearNetworkTimeout();const Mt=yield be.json();if("needConfirmation"in Mt)throw Ln(A,"account-exists-with-different-credential",Mt);if(be.ok&&!("errorMessage"in Mt))return Mt;{const en=be.ok?Mt.errorMessage:Mt.error.message,[Cn,cr]=en.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Cn)throw Ln(A,"credential-already-in-use",Mt);if("EMAIL_EXISTS"===Cn)throw Ln(A,"email-already-in-use",Mt);if("USER_DISABLED"===Cn)throw Ln(A,"user-disabled",Mt);const Rr=R[Cn]||Cn.toLowerCase().replace(/[_\s]+/g,"-");if(cr)throw Le(A,Rr,cr);Me(A,Rr)}}catch(re){if(re instanceof V.g)throw re;Me(A,"network-request-failed",{message:String(re)})}})).apply(this,arguments)}function xt(A,p,m,R){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,h.A)(function*(A,p,m,R,re={}){const be=yield Et(A,p,m,R,re);return"mfaPendingCredential"in be&&Me(A,"multi-factor-auth-required",{_serverResponse:be}),be})).apply(this,arguments)}function Pt(A,p,m,R){const re=`${p}${m}?${R}`;return A.config.emulator?Y(A.config,re):`${A.config.apiScheme}://${re}`}function Pn(A){switch(A){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,R)=>{this.timer=setTimeout(()=>R(Fe(this.auth,"network-request-failed")),Ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(A,p,m){const R={appName:A.name};m.email&&(R.email=m.email),m.phoneNumber&&(R.phoneNumber=m.phoneNumber);const re=Fe(A,p,R);return re.customData._tokenResponse=m,re}function Qt(A){return void 0!==A&&void 0!==A.getResponse}function Yt(A){return void 0!==A&&void 0!==A.enterprise}class Hn{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===p)return Pn(m.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Ne(){return(Ne=(0,h.A)(function*(A){return(yield Et(A,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function je(A,p){return rn.apply(this,arguments)}function rn(){return(rn=(0,h.A)(function*(A,p){return Et(A,"GET","/v2/recaptchaConfig",et(A,p))})).apply(this,arguments)}function hr(){return(hr=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function kn(){return(kn=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jt(A,p){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function dr(A){if(A)try{const p=new Date(Number(A));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Tr(){return(Tr=(0,h.A)(function*(A,p=!1){const m=(0,V.Ku)(A),R=yield m.getIdToken(p),re=An(R);he(re&&re.exp&&re.auth_time&&re.iat,m.auth,"internal-error");const be="object"==typeof re.firebase?re.firebase:void 0,Mt=null==be?void 0:be.sign_in_provider;return{claims:re,token:R,authTime:dr(pi(re.auth_time)),issuedAtTime:dr(pi(re.iat)),expirationTime:dr(pi(re.exp)),signInProvider:Mt||null,signInSecondFactor:(null==be?void 0:be.sign_in_second_factor)||null}})).apply(this,arguments)}function pi(A){return 1e3*Number(A)}function An(A){const[p,m,R]=A.split(".");if(void 0===p||void 0===m||void 0===R)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,V.u)(m);return re?JSON.parse(re):(wt("Failed to decode base64 JWT payload"),null)}catch(re){return wt("Caught error parsing JWT payload as JSON",null==re?void 0:re.toString()),null}}function ti(A){const p=An(A);return he(p,"internal-error"),he(typeof p.exp<"u","internal-error"),he(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Un(A,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.A)(function*(A,p,m=!1){if(m)return p;try{return yield p}catch(R){throw R instanceof V.g&&function Xn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}(R)&&A.auth.currentUser===A&&(yield A.auth.signOut()),R}})).apply(this,arguments)}class bi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const re=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const R=this.getInterval(p);this.timerId=setTimeout((0,h.A)(function*(){yield m.iteration()}),R)}iteration(){var p=this;return(0,h.A)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class rr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ii(A){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.A)(function*(A){var p;const m=A.auth,R=yield A.getIdToken(),re=yield Un(A,Jt(m,{idToken:R}));he(null==re?void 0:re.users.length,m,"internal-error");const be=re.users[0];A._notifyReloadListener(be);const Mt=null!==(p=be.providerUserInfo)&&void 0!==p&&p.length?Tt(be.providerUserInfo):[],en=function Wt(A,p){return[...A.filter(R=>!p.some(re=>re.providerId===R.providerId)),...p]}(A.providerData,Mt),Rr=!!A.isAnonymous&&!(A.email&&be.passwordHash||null!=en&&en.length),yi={uid:be.localId,displayName:be.displayName||null,photoURL:be.photoUrl||null,email:be.email||null,emailVerified:be.emailVerified||!1,phoneNumber:be.phoneNumber||null,tenantId:be.tenantId||null,providerData:en,metadata:new rr(be.createdAt,be.lastLoginAt),isAnonymous:Rr};Object.assign(A,yi)})).apply(this,arguments)}function di(){return(di=(0,h.A)(function*(A){const p=(0,V.Ku)(A);yield Ii(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Tt(A){return A.map(p=>{var{providerId:m}=p,R=(0,z.Tt)(p,["providerId"]);return{providerId:m,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function Te(){return(Te=(0,h.A)(function*(A,p){const m=yield Bt(A,{},(0,h.A)(function*(){const R=(0,V.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:re,apiKey:be}=A.config,Mt=Pt(A,re,"/v1/token",`key=${be}`),en=yield A._getAdditionalHeaders();return en["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(Mt,{method:"POST",headers:en,body:R})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function W(){return(W=(0,h.A)(function*(A,p){return Et(A,"POST","/v2/accounts:revokeToken",et(A,p))})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){he(p.idToken,"internal-error"),he(typeof p.idToken<"u","internal-error"),he(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):ti(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}updateFromIdToken(p){he(0!==p.length,"internal-error");const m=ti(p);this.updateTokensAndExpiration(p,null,m)}getToken(p,m=!1){var R=this;return(0,h.A)(function*(){return m||!R.accessToken||R.isExpired?(he(R.refreshToken,p,"user-token-expired"),R.refreshToken?(yield R.refresh(p,R.refreshToken),R.accessToken):null):R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var R=this;return(0,h.A)(function*(){const{accessToken:re,refreshToken:be,expiresIn:Mt}=yield function yt(A,p){return Te.apply(this,arguments)}(p,m);R.updateTokensAndExpiration(re,be,Number(Mt))})()}updateTokensAndExpiration(p,m,R){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(p,m){const{refreshToken:R,accessToken:re,expirationTime:be}=m,Mt=new Q;return R&&(he("string"==typeof R,"internal-error",{appName:p}),Mt.refreshToken=R),re&&(he("string"==typeof re,"internal-error",{appName:p}),Mt.accessToken=re),be&&(he("number"==typeof be,"internal-error",{appName:p}),Mt.expirationTime=be),Mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return ft("not implemented")}}function le(A,p){he("string"==typeof A||typeof A>"u","internal-error",{appName:p})}class Se{constructor(p){var{uid:m,auth:R,stsTokenManager:re}=p,be=(0,z.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=R,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=be.displayName||null,this.email=be.email||null,this.emailVerified=be.emailVerified||!1,this.phoneNumber=be.phoneNumber||null,this.photoURL=be.photoURL||null,this.isAnonymous=be.isAnonymous||!1,this.tenantId=be.tenantId||null,this.providerData=be.providerData?[...be.providerData]:[],this.metadata=new rr(be.createdAt||void 0,be.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.A)(function*(){const R=yield Un(m,m.stsTokenManager.getToken(m.auth,p));return he(R,m.auth,"internal-error"),m.accessToken!==R&&(m.accessToken=R,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),R})()}getIdTokenResult(p){return function Zn(A){return Tr.apply(this,arguments)}(this,p)}reload(){return function wn(A){return di.apply(this,arguments)}(this)}_assign(p){this!==p&&(he(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Se(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var R=this;return(0,h.A)(function*(){let re=!1;p.idToken&&p.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(p),re=!0),m&&(yield Ii(R)),yield R.auth._persistUserIfCurrent(R),re&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var p=this;return(0,h.A)(function*(){if((0,s._isFirebaseServerApp)(p.auth.app))return Promise.reject(ot(p.auth));const m=yield p.getIdToken();return yield Un(p,function Gn(A,p){return hr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var R,re,be,Mt,en,Cn,cr,Rr;const yi=null!==(R=m.displayName)&&void 0!==R?R:void 0,ea=null!==(re=m.email)&&void 0!==re?re:void 0,rl=null!==(be=m.phoneNumber)&&void 0!==be?be:void 0,Ou=null!==(Mt=m.photoURL)&&void 0!==Mt?Mt:void 0,Nu=null!==(en=m.tenantId)&&void 0!==en?en:void 0,xu=null!==(Cn=m._redirectEventId)&&void 0!==Cn?Cn:void 0,la=null!==(cr=m.createdAt)&&void 0!==cr?cr:void 0,Bc=null!==(Rr=m.lastLoginAt)&&void 0!==Rr?Rr:void 0,{uid:$c,emailVerified:Ni,isAnonymous:uu,providerData:Ll,stsTokenManager:Ds}=m;he($c&&Ds,p,"internal-error");const mp=Q.fromJSON(this.name,Ds);he("string"==typeof $c,p,"internal-error"),le(yi,p.name),le(ea,p.name),he("boolean"==typeof Ni,p,"internal-error"),he("boolean"==typeof uu,p,"internal-error"),le(rl,p.name),le(Ou,p.name),le(Nu,p.name),le(xu,p.name),le(la,p.name),le(Bc,p.name);const ac=new Se({uid:$c,auth:p,email:ea,emailVerified:Ni,displayName:yi,isAnonymous:uu,photoURL:Ou,phoneNumber:rl,tenantId:Nu,stsTokenManager:mp,createdAt:la,lastLoginAt:Bc});return Ll&&Array.isArray(Ll)&&(ac.providerData=Ll.map(El=>Object.assign({},El))),xu&&(ac._redirectEventId=xu),ac}static _fromIdTokenResponse(p,m,R=!1){return(0,h.A)(function*(){const re=new Q;re.updateFromServerResponse(m);const be=new Se({uid:m.localId,auth:p,stsTokenManager:re,isAnonymous:R});return yield Ii(be),be})()}static _fromGetAccountInfoResponse(p,m,R){return(0,h.A)(function*(){const re=m.users[0];he(void 0!==re.localId,"internal-error");const be=void 0!==re.providerUserInfo?Tt(re.providerUserInfo):[],Mt=!(re.email&&re.passwordHash||null!=be&&be.length),en=new Q;en.updateFromIdToken(R);const Cn=new Se({uid:re.localId,auth:p,stsTokenManager:en,isAnonymous:Mt}),cr={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:be,metadata:new rr(re.createdAt,re.lastLoginAt),isAnonymous:!(re.email&&re.passwordHash||null!=be&&be.length)};return Object.assign(Cn,cr),Cn})()}}const kt=new Map;function hn(A){ht(A instanceof Function,"Expected a class definition");let p=kt.get(A);return p?(ht(p instanceof A,"Instance stored in cache mismatched with class"),p):(p=new A,kt.set(A,p),p)}const ir=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.A)(function*(){return!0})()}_set(m,R){var re=this;return(0,h.A)(function*(){re.storage[m]=R})()}_get(m){var R=this;return(0,h.A)(function*(){const re=R.storage[m];return void 0===re?null:re})()}_remove(m){var R=this;return(0,h.A)(function*(){delete R.storage[m]})()}_addListener(m,R){}_removeListener(m,R){}}return A.type="NONE",A})();function vr(A,p,m){return`firebase:${A}:${p}:${m}`}class At{constructor(p,m,R){this.persistence=p,this.auth=m,this.userKey=R;const{config:re,name:be}=this.auth;this.fullUserKey=vr(this.userKey,re.apiKey,be),this.fullPersistenceKey=vr("persistence",re.apiKey,be),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.A)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Se._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.A)(function*(){if(m.persistence===p)return;const R=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,R?m.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,R="authUser"){return(0,h.A)(function*(){if(!m.length)return new At(hn(ir),p,R);const re=(yield Promise.all(m.map(function(){var cr=(0,h.A)(function*(Rr){if(yield Rr._isAvailable())return Rr});return function(Rr){return cr.apply(this,arguments)}}()))).filter(cr=>cr);let be=re[0]||hn(ir);const Mt=vr(R,p.config.apiKey,p.name);let en=null;for(const cr of m)try{const Rr=yield cr._get(Mt);if(Rr){const yi=Se._fromJSON(p,Rr);cr!==be&&(en=yi),be=cr;break}}catch{}const Cn=re.filter(cr=>cr._shouldAllowMigration);return be._shouldAllowMigration&&Cn.length?(be=Cn[0],en&&(yield be._set(Mt,en.toJSON())),yield Promise.all(m.map(function(){var cr=(0,h.A)(function*(Rr){if(Rr!==be)try{yield Rr._remove(Mt)}catch{}});return function(Rr){return cr.apply(this,arguments)}}())),new At(be,p,R)):new At(be,p,R)})()}}function er(A){const p=A.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(co(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Jn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(xo(p))return"Blackberry";if(Ui(p))return"Webos";if(ei(p))return"Safari";if((p.includes("chrome/")||Ki(p))&&!p.includes("edge/"))return"Chrome";if(Ei(p))return"Android";{const R=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function Jn(A=(0,V.ZQ)()){return/firefox\//i.test(A)}function ei(A=(0,V.ZQ)()){const p=A.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ki(A=(0,V.ZQ)()){return/crios\//i.test(A)}function co(A=(0,V.ZQ)()){return/iemobile/i.test(A)}function Ei(A=(0,V.ZQ)()){return/android/i.test(A)}function xo(A=(0,V.ZQ)()){return/blackberry/i.test(A)}function Ui(A=(0,V.ZQ)()){return/webos/i.test(A)}function Do(A=(0,V.ZQ)()){return/iphone|ipad|ipod/i.test(A)||/macintosh/i.test(A)&&/mobile/i.test(A)}function Go(A=(0,V.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(A)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(A)}function we(A=(0,V.ZQ)()){return Do(A)||Ei(A)||Ui(A)||xo(A)||/windows phone/i.test(A)||co(A)}function bt(A,p=[]){let m;switch(A){case"Browser":m=er((0,V.ZQ)());break;case"Worker":m=`${er((0,V.ZQ)())}-${A}`;break;default:m=A}const R=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${s.SDK_VERSION}/${R}`}class ge{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const R=be=>new Promise((Mt,en)=>{try{Mt(p(be))}catch(Cn){en(Cn)}});R.onAbort=m,this.queue.push(R);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.A)(function*(){if(m.auth.currentUser===p)return;const R=[];try{for(const re of m.queue)yield re(p),re.onAbort&&R.push(re.onAbort)}catch(re){R.reverse();for(const be of R)try{be()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==re?void 0:re.message})}})()}}function We(){return(We=(0,h.A)(function*(A,p={}){return Et(A,"GET","/v2/passwordPolicy",et(A,p))})).apply(this,arguments)}class gn{constructor(p){var m,R,re,be;const Mt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=Mt.minPasswordLength)&&void 0!==m?m:6,Mt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Mt.maxPasswordLength),void 0!==Mt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Mt.containsLowercaseCharacter),void 0!==Mt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Mt.containsUppercaseCharacter),void 0!==Mt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Mt.containsNumericCharacter),void 0!==Mt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Mt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(re=null===(R=p.allowedNonAlphanumericCharacters)||void 0===R?void 0:R.join(""))&&void 0!==re?re:"",this.forceUpgradeOnSignin=null!==(be=p.forceUpgradeOnSignin)&&void 0!==be&&be,this.schemaVersion=p.schemaVersion}validatePassword(p){var m,R,re,be,Mt,en;const Cn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Cn),this.validatePasswordCharacterOptions(p,Cn),Cn.isValid&&(Cn.isValid=null===(m=Cn.meetsMinPasswordLength)||void 0===m||m),Cn.isValid&&(Cn.isValid=null===(R=Cn.meetsMaxPasswordLength)||void 0===R||R),Cn.isValid&&(Cn.isValid=null===(re=Cn.containsLowercaseLetter)||void 0===re||re),Cn.isValid&&(Cn.isValid=null===(be=Cn.containsUppercaseLetter)||void 0===be||be),Cn.isValid&&(Cn.isValid=null===(Mt=Cn.containsNumericCharacter)||void 0===Mt||Mt),Cn.isValid&&(Cn.isValid=null===(en=Cn.containsNonAlphanumericCharacter)||void 0===en||en),Cn}validatePasswordLengthOptions(p,m){const R=this.customStrengthOptions.minPasswordLength,re=this.customStrengthOptions.maxPasswordLength;R&&(m.meetsMinPasswordLength=p.length>=R),re&&(m.meetsMaxPasswordLength=p.length<=re)}validatePasswordCharacterOptions(p,m){let R;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let re=0;re<p.length;re++)R=p.charAt(re),this.updatePasswordCharacterOptionsStatuses(m,R>="a"&&R<="z",R>="A"&&R<="Z",R>="0"&&R<="9",this.allowedNonAlphanumericCharacters.includes(R))}updatePasswordCharacterOptionsStatuses(p,m,R,re,be){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=R)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=re)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=be))}}class Dn{constructor(p,m,R,re){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=R,this.config=re,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mr(this),this.idTokenSubscription=new Mr(this),this.beforeStateQueue=new ge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=re.sdkClientVersion}_initializeWithPersistence(p,m){var R=this;return m&&(this._popupRedirectResolver=hn(m)),this._initializationPromise=this.queue((0,h.A)(function*(){var re,be;if(!R._deleted&&(R.persistenceManager=yield At.create(R,p),!R._deleted)){if(null!==(re=R._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch{}yield R.initializeCurrentUser(m),R.lastNotifiedUid=(null===(be=R.currentUser)||void 0===be?void 0:be.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.A)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUserFromIdToken(p){var m=this;return(0,h.A)(function*(){try{const R=yield Jt(m,{idToken:p}),re=yield Se._fromGetAccountInfoResponse(m,R,p);yield m.directlySetCurrentUser(re)}catch(R){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",R),yield m.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var m=this;return(0,h.A)(function*(){var R;if((0,s._isFirebaseServerApp)(m.app)){const en=m.app.settings.authIdToken;return en?new Promise(Cn=>{setTimeout(()=>m.initializeCurrentUserFromIdToken(en).then(Cn,Cn))}):m.directlySetCurrentUser(null)}const re=yield m.assertedPersistence.getCurrentUser();let be=re,Mt=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const en=null===(R=m.redirectUser)||void 0===R?void 0:R._redirectEventId,Cn=null==be?void 0:be._redirectEventId,cr=yield m.tryRedirectSignIn(p);(!en||en===Cn)&&null!=cr&&cr.user&&(be=cr.user,Mt=!0)}if(!be)return m.directlySetCurrentUser(null);if(!be._redirectEventId){if(Mt)try{yield m.beforeStateQueue.runMiddleware(be)}catch(en){be=re,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(en))}return be?m.reloadAndSetCurrentUserOrClear(be):m.directlySetCurrentUser(null)}return he(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===be._redirectEventId?m.directlySetCurrentUser(be):m.reloadAndSetCurrentUserOrClear(be)})()}tryRedirectSignIn(p){var m=this;return(0,h.A)(function*(){let R=null;try{R=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.A)(function*(){try{yield Ii(p)}catch(R){if("auth/network-request-failed"!==(null==R?void 0:R.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function qe(){if(typeof navigator>"u")return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var p=this;return(0,h.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.A)(function*(){if((0,s._isFirebaseServerApp)(m.app))return Promise.reject(ot(m));const R=p?(0,V.Ku)(p):null;return R&&he(R.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(R&&R._clone(m))})()}_updateCurrentUser(p,m=!1){var R=this;return(0,h.A)(function*(){if(!R._deleted)return p&&he(R.tenantId===p.tenantId,R,"tenant-id-mismatch"),m||(yield R.beforeStateQueue.runMiddleware(p)),R.queue((0,h.A)(function*(){yield R.directlySetCurrentUser(p),R.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.A)(function*(){return(0,s._isFirebaseServerApp)(p.app)?Promise.reject(ot(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var m=this;return(0,s._isFirebaseServerApp)(this.app)?Promise.reject(ot(this)):this.queue((0,h.A)(function*(){yield m.assertedPersistence.setPersistence(hn(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var m=this;return(0,h.A)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const R=m._getPasswordPolicyInternal();return R.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):R.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,h.A)(function*(){const m=yield function de(A){return We.apply(this,arguments)}(p),R=new gn(m);null===p.tenantId?p._projectPasswordPolicy=R:p._tenantPasswordPolicies[p.tenantId]=R})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.FA("auth","Firebase",p())}onAuthStateChanged(p,m,R){return this.registerStateListener(this.authStateSubscription,p,m,R)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,R){return this.registerStateListener(this.idTokenSubscription,p,m,R)}authStateReady(){return new Promise((p,m)=>{if(this.currentUser)p();else{const R=this.onAuthStateChanged(()=>{R(),p()},m)}})}revokeAccessToken(p){var m=this;return(0,h.A)(function*(){if(m.currentUser){const R=yield m.currentUser.getIdToken(),re={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:R};null!=m.tenantId&&(re.tenantId=m.tenantId),yield function oe(A,p){return W.apply(this,arguments)}(m,re)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var R=this;return(0,h.A)(function*(){const re=yield R.getOrInitRedirectPersistenceManager(m);return null===p?re.removeCurrentUser():re.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.A)(function*(){if(!m.redirectPersistenceManager){const R=p&&hn(p)||m._popupRedirectResolver;he(R,m,"argument-error"),m.redirectPersistenceManager=yield At.create(m,[hn(R._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.A)(function*(){var R,re;return m._isInitialized&&(yield m.queue((0,h.A)(function*(){}))),(null===(R=m._currentUser)||void 0===R?void 0:R._redirectEventId)===p?m._currentUser:(null===(re=m.redirectUser)||void 0===re?void 0:re._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.A)(function*(){if(p===m.currentUser)return m.queue((0,h.A)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,R,re){if(this._deleted)return()=>{};const be="function"==typeof m?m:m.next.bind(m);let Mt=!1;const en=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(en,this,"internal-error"),en.then(()=>{Mt||be(this.currentUser)}),"function"==typeof m){const Cn=p.addObserver(m,R,re);return()=>{Mt=!0,Cn()}}{const Cn=p.addObserver(m);return()=>{Mt=!0,Cn()}}}directlySetCurrentUser(p){var m=this;return(0,h.A)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.A)(function*(){var m;const R={"X-Client-Version":p.clientVersion};p.app.options.appId&&(R["X-Firebase-gmpid"]=p.app.options.appId);const re=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();re&&(R["X-Firebase-Client"]=re);const be=yield p._getAppCheckToken();return be&&(R["X-Firebase-AppCheck"]=be),R})()}_getAppCheckToken(){var p=this;return(0,h.A)(function*(){var m;const R=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=R&&R.error&&function Nt(A,...p){lt.logLevel<=Ee.$b.WARN&&lt.warn(`Auth (${s.SDK_VERSION}): ${A}`,...p)}(`Error while retrieving App Check token: ${R.error}`),null==R?void 0:R.token})()}}function Wn(A){return(0,V.Ku)(A)}class Mr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.tD)(m=>this.observer=m)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wi={loadJS:()=>(0,h.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fr(A){return wi.loadJS(A)}function ri(A){return`__${A}${Math.floor(1e6*Math.random())}`}class to{constructor(p){this.type="recaptcha-enterprise",this.auth=Wn(p)}verify(p="verify",m=!1){var R=this;return(0,h.A)(function*(){function be(){return be=(0,h.A)(function*(en){if(!m){if(null==en.tenantId&&null!=en._agentRecaptchaConfig)return en._agentRecaptchaConfig.siteKey;if(null!=en.tenantId&&void 0!==en._tenantRecaptchaConfigs[en.tenantId])return en._tenantRecaptchaConfigs[en.tenantId].siteKey}return new Promise(function(){var Cn=(0,h.A)(function*(cr,Rr){je(en,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(yi=>{if(void 0!==yi.recaptchaKey){const ea=new Hn(yi);return null==en.tenantId?en._agentRecaptchaConfig=ea:en._tenantRecaptchaConfigs[en.tenantId]=ea,cr(ea.siteKey)}Rr(new Error("recaptcha Enterprise site key undefined"))}).catch(yi=>{Rr(yi)})});return function(cr,Rr){return Cn.apply(this,arguments)}}())}),be.apply(this,arguments)}function Mt(en,Cn,cr){const Rr=window.grecaptcha;Yt(Rr)?Rr.enterprise.ready(()=>{Rr.enterprise.execute(en,{action:p}).then(yi=>{Cn(yi)}).catch(()=>{Cn("NO_RECAPTCHA")})}):cr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((en,Cn)=>{(function re(en){return be.apply(this,arguments)})(R.auth).then(cr=>{if(!m&&Yt(window.grecaptcha))Mt(cr,en,Cn);else{if(typeof window>"u")return void Cn(new Error("RecaptchaVerifier is only supported in browser"));let Rr=function Zi(){return wi.recaptchaEnterpriseScript}();0!==Rr.length&&(Rr+=cr),fr(Rr).then(()=>{Mt(cr,en,Cn)}).catch(yi=>{Cn(yi)})}}).catch(cr=>{Cn(cr)})})})()}}function go(A,p,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.A)(function*(A,p,m,R=!1){const re=new to(A);let be;try{be=yield re.verify(m)}catch{be=yield re.verify(m,!0)}const Mt=Object.assign({},p);return Object.assign(Mt,R?{captchaResp:be}:{captchaResponse:be}),Object.assign(Mt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Mt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Mt})).apply(this,arguments)}function So(A,p,m,R){return Ss.apply(this,arguments)}function Ss(){return Ss=(0,h.A)(function*(A,p,m,R){var re;if(null!==(re=A._getRecaptchaConfig())&&void 0!==re&&re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const be=yield go(A,p,m,"getOobCode"===m);return R(A,be)}return R(A,p).catch(function(){var be=(0,h.A)(function*(Mt){if("auth/missing-recaptcha-token"===Mt.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const en=yield go(A,p,m,"getOobCode"===m);return R(A,en)}return Promise.reject(Mt)});return function(Mt){return be.apply(this,arguments)}}())}),Ss.apply(this,arguments)}function Cs(A,p,m){const R=Wn(A);he(R._canInitEmulator,R,"emulator-config-failed"),he(/^https?:\/\//.test(p),R,"invalid-emulator-scheme");const re=!(null==m||!m.disableWarnings),be=Pi(p),{host:Mt,port:en}=function Rs(A){const p=Pi(A),m=/(\/\/)?([^?#/]+)/.exec(A.substr(p.length));if(!m)return{host:"",port:null};const R=m[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(R);if(re){const be=re[1];return{host:be,port:Hs(R.substr(be.length+1))}}{const[be,Mt]=R.split(":");return{host:be,port:Hs(Mt)}}}(p);R.config.emulator={url:`${be}//${Mt}${null===en?"":`:${en}`}/`},R.settings.appVerificationDisabledForTesting=!0,R.emulatorConfig=Object.freeze({host:Mt,port:en,protocol:be.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function Gs(){function A(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",A):A())}()}function Pi(A){const p=A.indexOf(":");return p<0?"":A.substr(0,p+1)}function Hs(A){if(!A)return null;const p=Number(A);return isNaN(p)?null:p}class Io{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ft("not implemented")}_getIdTokenResponse(p){return ft("not implemented")}_linkToIdToken(p,m){return ft("not implemented")}_getReauthenticationResolver(p){return ft("not implemented")}}function gi(A,p){return As.apply(this,arguments)}function As(){return(As=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:resetPassword",et(A,p))})).apply(this,arguments)}function Vo(){return(Vo=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ta(A,p){return br.apply(this,arguments)}function br(){return(br=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Hi(){return(Hi=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:update",et(A,p))})).apply(this,arguments)}function Wr(A,p){return O.apply(this,arguments)}function O(){return(O=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signInWithPassword",et(A,p))})).apply(this,arguments)}function te(A,p){return me.apply(this,arguments)}function me(){return(me=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:sendOobCode",et(A,p))})).apply(this,arguments)}function Re(){return(Re=(0,h.A)(function*(A,p){return te(A,p)})).apply(this,arguments)}function It(A,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.A)(function*(A,p){return te(A,p)})).apply(this,arguments)}function X(A,p){return ae.apply(this,arguments)}function ae(){return(ae=(0,h.A)(function*(A,p){return te(A,p)})).apply(this,arguments)}function Ze(){return(Ze=(0,h.A)(function*(A,p){return te(A,p)})).apply(this,arguments)}function pt(){return(pt=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signInWithEmailLink",et(A,p))})).apply(this,arguments)}function an(){return(an=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signInWithEmailLink",et(A,p))})).apply(this,arguments)}class nn extends Io{constructor(p,m,R,re=null){super("password",R),this._email=p,this._password=m,this._tenantId=re}static _fromEmailAndPassword(p,m){return new nn(p,m,"password")}static _fromEmailAndCode(p,m,R=null){return new nn(p,m,"emailLink",R)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.A)(function*(){switch(m.signInMethod){case"password":return So(p,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wr);case"emailLink":return function gt(A,p){return pt.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var R=this;return(0,h.A)(function*(){switch(R.signInMethod){case"password":return So(p,{idToken:m,returnSecureToken:!0,email:R._email,password:R._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ta);case"emailLink":return function sn(A,p){return an.apply(this,arguments)}(p,{idToken:m,email:R._email,oobCode:R._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function dn(A,p){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signInWithIdp",et(A,p))})).apply(this,arguments)}class Yn extends Io{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Yn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:R,signInMethod:re}=m,be=(0,z.Tt)(m,["providerId","signInMethod"]);if(!R||!re)return null;const Mt=new Yn(R,re);return Mt.idToken=be.idToken||void 0,Mt.accessToken=be.accessToken||void 0,Mt.secret=be.secret,Mt.nonce=be.nonce,Mt.pendingToken=be.pendingToken||null,Mt}_getIdTokenResponse(p){return dn(p,this.buildRequest())}_linkToIdToken(p,m){const R=this.buildRequest();return R.idToken=m,dn(p,R)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,dn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,V.Am)(m)}return p}}function Ur(){return(Ur=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:sendVerificationCode",et(A,p))})).apply(this,arguments)}function Xr(){return(Xr=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signInWithPhoneNumber",et(A,p))})).apply(this,arguments)}function qr(){return(qr=(0,h.A)(function*(A,p){const m=yield xt(A,"POST","/v1/accounts:signInWithPhoneNumber",et(A,p));if(m.temporaryProof)throw Ln(A,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ns={USER_NOT_FOUND:"user-not-found"};function zn(){return(zn=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signInWithPhoneNumber",et(A,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ns)})).apply(this,arguments)}class Gi extends Io{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Gi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Gi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Oi(A,p){return Xr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function mi(A,p){return qr.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function mo(A,p){return zn.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:R,verificationCode:re}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:R,code:re}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:R,phoneNumber:re,temporaryProof:be}=p;return R||m||re||be?new Gi({verificationId:m,verificationCode:R,phoneNumber:re,temporaryProof:be}):null}}class Bo{constructor(p){var m,R,re,be,Mt,en;const Cn=(0,V.I9)((0,V.hp)(p)),cr=null!==(m=Cn.apiKey)&&void 0!==m?m:null,Rr=null!==(R=Cn.oobCode)&&void 0!==R?R:null,yi=function Uo(A){switch(A){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=Cn.mode)&&void 0!==re?re:null);he(cr&&Rr&&yi,"argument-error"),this.apiKey=cr,this.operation=yi,this.code=Rr,this.continueUrl=null!==(be=Cn.continueUrl)&&void 0!==be?be:null,this.languageCode=null!==(Mt=Cn.languageCode)&&void 0!==Mt?Mt:null,this.tenantId=null!==(en=Cn.tenantId)&&void 0!==en?en:null}static parseLink(p){const m=function Ms(A){const p=(0,V.I9)((0,V.hp)(A)).link,m=p?(0,V.I9)((0,V.hp)(p)).deep_link_id:null,R=(0,V.I9)((0,V.hp)(A)).deep_link_id;return(R?(0,V.I9)((0,V.hp)(R)).link:null)||R||m||p||A}(p);try{return new Bo(m)}catch{return null}}}let _i=(()=>{class A{constructor(){this.providerId=A.PROVIDER_ID}static credential(m,R){return nn._fromEmailAndPassword(m,R)}static credentialWithLink(m,R){const re=Bo.parseLink(R);return he(re,"argument-error"),nn._fromEmailAndCode(m,re.code,re.tenantId)}}return A.PROVIDER_ID="password",A.EMAIL_PASSWORD_SIGN_IN_METHOD="password",A.EMAIL_LINK_SIGN_IN_METHOD="emailLink",A})();class no{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class zo extends no{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $o extends zo{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return he("providerId"in m&&"signInMethod"in m,"argument-error"),Yn._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return he(p.idToken||p.accessToken,"argument-error"),Yn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $o.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $o.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:R,oauthTokenSecret:re,pendingToken:be,nonce:Mt,providerId:en}=p;if(!R&&!re&&!m&&!be||!en)return null;try{return new $o(en)._credential({idToken:m,accessToken:R,nonce:Mt,pendingToken:be})}catch{return null}}}let Ts=(()=>{class A extends zo{constructor(){super("facebook.com")}static credential(m){return Yn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return A.credentialFromTaggedObject(m)}static credentialFromError(m){return A.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return A.credential(m.oauthAccessToken)}catch{return null}}}return A.FACEBOOK_SIGN_IN_METHOD="facebook.com",A.PROVIDER_ID="facebook.com",A})(),xa=(()=>{class A extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(m,R){return Yn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:R})}static credentialFromResult(m){return A.credentialFromTaggedObject(m)}static credentialFromError(m){return A.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:R,oauthAccessToken:re}=m;if(!R&&!re)return null;try{return A.credential(R,re)}catch{return null}}}return A.GOOGLE_SIGN_IN_METHOD="google.com",A.PROVIDER_ID="google.com",A})(),uo=(()=>{class A extends zo{constructor(){super("github.com")}static credential(m){return Yn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return A.credentialFromTaggedObject(m)}static credentialFromError(m){return A.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return A.credential(m.oauthAccessToken)}catch{return null}}}return A.GITHUB_SIGN_IN_METHOD="github.com",A.PROVIDER_ID="github.com",A})();class oi extends Io{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return dn(p,this.buildRequest())}_linkToIdToken(p,m){const R=this.buildRequest();return R.idToken=m,dn(p,R)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,dn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:R,signInMethod:re,pendingToken:be}=m;return R&&re&&be&&R===re?new oi(R,be):null}static _create(p,m){return new oi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _e extends no{constructor(p){he(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return _e.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return _e.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=oi.fromJSON(p);return he(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:R}=p;if(!m||!R)return null;try{return oi._create(R,m)}catch{return null}}}let Ke=(()=>{class A extends zo{constructor(){super("twitter.com")}static credential(m,R){return Yn._fromParams({providerId:A.PROVIDER_ID,signInMethod:A.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:R})}static credentialFromResult(m){return A.credentialFromTaggedObject(m)}static credentialFromError(m){return A.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:R,oauthTokenSecret:re}=m;if(!R||!re)return null;try{return A.credential(R,re)}catch{return null}}}return A.TWITTER_SIGN_IN_METHOD="twitter.com",A.PROVIDER_ID="twitter.com",A})();function Rt(A,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signUp",et(A,p))})).apply(this,arguments)}class xn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,R,re=!1){return(0,h.A)(function*(){const be=yield Se._fromIdTokenResponse(p,R,re),Mt=Tn(R);return new xn({user:be,providerId:Mt,_tokenResponse:R,operationType:m})})()}static _forOperation(p,m,R){return(0,h.A)(function*(){yield p._updateTokensIfNecessary(R,!0);const re=Tn(R);return new xn({user:p,providerId:re,_tokenResponse:R,operationType:m})})()}}function Tn(A){return A.providerId?A.providerId:"phoneNumber"in A?"phone":null}function tr(A){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.A)(function*(A){var p;if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const m=Wn(A);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new xn({user:m.currentUser,providerId:null,operationType:"signIn"});const R=yield Rt(m,{returnSecureToken:!0}),re=yield xn._fromIdTokenResponse(m,"signIn",R,!0);return yield m._updateCurrentUser(re.user),re})).apply(this,arguments)}class Xi extends V.g{constructor(p,m,R,re){var be;super(m.code,m.message),this.operationType=R,this.user=re,Object.setPrototypeOf(this,Xi.prototype),this.customData={appName:p.name,tenantId:null!==(be=p.tenantId)&&void 0!==be?be:void 0,_serverResponse:m.customData._serverResponse,operationType:R}}static _fromErrorAndOperation(p,m,R,re){return new Xi(p,m,R,re)}}function lr(A,p,m,R){return("reauthenticate"===p?m._getReauthenticationResolver(A):m._getIdTokenResponse(A)).catch(be=>{throw"auth/multi-factor-auth-required"===be.code?Xi._fromErrorAndOperation(A,be,p,R):be})}function rs(A){return new Set(A.map(({providerId:p})=>p).filter(p=>!!p))}function Fr(A,p){return al.apply(this,arguments)}function al(){return al=(0,h.A)(function*(A,p){const m=(0,V.Ku)(A);yield Wo(!0,m,p);const{providerUserInfo:R}=yield function sr(A,p){return kn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),re=rs(R||[]);return m.providerData=m.providerData.filter(be=>re.has(be.providerId)),re.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),al.apply(this,arguments)}function Wa(A,p){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,h.A)(function*(A,p,m=!1){const R=yield Un(A,p._linkToIdToken(A.auth,yield A.getIdToken()),m);return xn._forOperation(A,"link",R)})).apply(this,arguments)}function Wo(A,p,m){return cs.apply(this,arguments)}function cs(){return(cs=(0,h.A)(function*(A,p,m){yield Ii(p);const re=!1===A?"provider-already-linked":"no-such-provider";he(rs(p.providerData).has(m)===A,p.auth,re)})).apply(this,arguments)}function Kl(A,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,h.A)(function*(A,p,m=!1){const{auth:R}=A;if((0,s._isFirebaseServerApp)(R.app))return Promise.reject(ot(R));const re="reauthenticate";try{const be=yield Un(A,lr(R,re,p,A),m);he(be.idToken,R,"internal-error");const Mt=An(be.idToken);he(Mt,R,"internal-error");const{sub:en}=Mt;return he(A.uid===en,R,"user-mismatch"),xn._forOperation(A,re,be)}catch(be){throw"auth/user-not-found"===(null==be?void 0:be.code)&&Me(R,"user-mismatch"),be}})).apply(this,arguments)}function Xl(A,p){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,h.A)(function*(A,p,m=!1){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const R="signIn",re=yield lr(A,R,p),be=yield xn._fromIdTokenResponse(A,R,re);return m||(yield A._updateCurrentUser(be.user)),be})).apply(this,arguments)}function q(A,p){return k.apply(this,arguments)}function k(){return(k=(0,h.A)(function*(A,p){return Xl(Wn(A),p)})).apply(this,arguments)}function ce(A,p){return G.apply(this,arguments)}function G(){return(G=(0,h.A)(function*(A,p){const m=(0,V.Ku)(A);return yield Wo(!1,m,p.providerId),Wa(m,p)})).apply(this,arguments)}function pe(A,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.A)(function*(A,p){return Kl((0,V.Ku)(A),p)})).apply(this,arguments)}function ki(){return(ki=(0,h.A)(function*(A,p){return xt(A,"POST","/v1/accounts:signInWithCustomToken",et(A,p))})).apply(this,arguments)}function Mo(A,p){return _o.apply(this,arguments)}function _o(){return _o=(0,h.A)(function*(A,p){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const m=Wn(A),R=yield function pr(A,p){return ki.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),re=yield xn._fromIdTokenResponse(m,"signIn",R);return yield m._updateCurrentUser(re.user),re}),_o.apply(this,arguments)}class kr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Eo._fromServerResponse(p,m):"totpInfo"in m?jo._fromServerResponse(p,m):Me(p,"internal-error")}}class Eo extends kr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Eo(m)}}class jo extends kr{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new jo(m)}}function na(A,p,m){var R;he((null===(R=m.url)||void 0===R?void 0:R.length)>0,A,"invalid-continue-uri"),he(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,A,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(he(m.iOS.bundleId.length>0,A,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(he(m.android.packageName.length>0,A,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function zs(A){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.A)(function*(A){const p=Wn(A);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Ko(A,p,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,h.A)(function*(A,p,m){const R=Wn(A),re={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};m&&na(R,re,m),yield So(R,re,"getOobCode",It)})).apply(this,arguments)}function ka(A,p,m){return Ks.apply(this,arguments)}function Ks(){return Ks=(0,h.A)(function*(A,p,m){yield gi((0,V.Ku)(A),{oobCode:p,newPassword:m}).catch(function(){var R=(0,h.A)(function*(re){throw"auth/password-does-not-meet-requirements"===re.code&&zs(A),re});return function(re){return R.apply(this,arguments)}}())}),Ks.apply(this,arguments)}function Ka(A,p){return ra.apply(this,arguments)}function ra(){return ra=(0,h.A)(function*(A,p){yield function ts(A,p){return Hi.apply(this,arguments)}((0,V.Ku)(A),{oobCode:p})}),ra.apply(this,arguments)}function wr(A,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.A)(function*(A,p){const m=(0,V.Ku)(A),R=yield gi(m,{oobCode:p}),re=R.requestType;switch(he(re,m,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(R.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(R.mfaInfo,m,"internal-error");default:he(R.email,m,"internal-error")}let be=null;return R.mfaInfo&&(be=kr._fromServerResponse(Wn(m),R.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.newEmail:R.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===R.requestType?R.email:R.newEmail)||null,multiFactorInfo:be},operation:re}})).apply(this,arguments)}function is(A,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.A)(function*(A,p){const{data:m}=yield wr((0,V.Ku)(A),p);return m.email})).apply(this,arguments)}function Xa(A,p,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,h.A)(function*(A,p,m){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const R=Wn(A),Mt=yield So(R,{returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rt).catch(Cn=>{throw"auth/password-does-not-meet-requirements"===Cn.code&&zs(A),Cn}),en=yield xn._fromIdTokenResponse(R,"signIn",Mt);return yield R._updateCurrentUser(en.user),en})).apply(this,arguments)}function Xs(A,p,m){return(0,s._isFirebaseServerApp)(A.app)?Promise.reject(ot(A)):q((0,V.Ku)(A),_i.credential(p,m)).catch(function(){var R=(0,h.A)(function*(re){throw"auth/password-does-not-meet-requirements"===re.code&&zs(A),re});return function(re){return R.apply(this,arguments)}}())}function Sl(A,p,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,h.A)(function*(A,p,m){const R=Wn(A),re={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function be(Mt,en){he(en.handleCodeInApp,R,"argument-error"),en&&na(R,Mt,en)})(re,m),yield So(R,re,"getOobCode",X)})).apply(this,arguments)}function ql(A,p){const m=Bo.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Ql(A,p,m){return va.apply(this,arguments)}function va(){return(va=(0,h.A)(function*(A,p,m){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const R=(0,V.Ku)(A),re=_i.credentialWithLink(p,m||tt());return he(re._tenantId===(R.tenantId||null),R,"tenant-id-mismatch"),q(R,re)})).apply(this,arguments)}function qa(){return(qa=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:createAuthUri",et(A,p))})).apply(this,arguments)}function Qa(A,p){return cl.apply(this,arguments)}function cl(){return cl=(0,h.A)(function*(A,p){const R={identifier:p,continueUri:Ft()?tt():"http://localhost"},{signinMethods:re}=yield function us(A,p){return qa.apply(this,arguments)}((0,V.Ku)(A),R);return re||[]}),cl.apply(this,arguments)}function qs(A,p){return xr.apply(this,arguments)}function xr(){return xr=(0,h.A)(function*(A,p){const m=(0,V.Ku)(A),re={requestType:"VERIFY_EMAIL",idToken:yield A.getIdToken()};p&&na(m.auth,re,p);const{email:be}=yield function L(A,p){return Re.apply(this,arguments)}(m.auth,re);be!==A.email&&(yield A.reload())}),xr.apply(this,arguments)}function Rl(A,p,m){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,h.A)(function*(A,p,m){const R=(0,V.Ku)(A),be={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield A.getIdToken(),newEmail:p};m&&na(R.auth,be,m);const{email:Mt}=yield function Ge(A,p){return Ze.apply(this,arguments)}(R.auth,be);Mt!==A.email&&(yield A.reload())}),Dr.apply(this,arguments)}function Ec(){return(Ec=(0,h.A)(function*(A,p){return Et(A,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Fa(A,p){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,h.A)(function*(A,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const R=(0,V.Ku)(A),be={idToken:yield R.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Mt=yield Un(R,function Ai(A,p){return Ec.apply(this,arguments)}(R.auth,be));R.displayName=Mt.displayName||null,R.photoURL=Mt.photoUrl||null;const en=R.providerData.find(({providerId:Cn})=>"password"===Cn);en&&(en.displayName=R.displayName,en.photoURL=R.photoURL),yield R._updateTokensIfNecessary(Mt)}),Ya.apply(this,arguments)}function Yc(A,p){const m=(0,V.Ku)(A);return(0,s._isFirebaseServerApp)(m.auth.app)?Promise.reject(ot(m.auth)):ya(m,p,null)}function Po(A,p){return ya((0,V.Ku)(A),null,p)}function ya(A,p,m){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,h.A)(function*(A,p,m){const{auth:R}=A,be={idToken:yield A.getIdToken(),returnSecureToken:!0};p&&(be.email=p),m&&(be.password=m);const Mt=yield Un(A,function es(A,p){return Vo.apply(this,arguments)}(R,be));yield A._updateTokensIfNecessary(Mt,!0)}),Hr.apply(this,arguments)}class ia{constructor(p,m,R={}){this.isNewUser=p,this.providerId=m,this.profile=R}}class qi extends ia{constructor(p,m,R,re){super(p,m,R),this.username=re}}class Cc extends ia{constructor(p,m){super(p,"facebook.com",m)}}class os extends qi{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class D extends ia{constructor(p,m){super(p,"google.com",m)}}class K extends qi{constructor(p,m,R){super(p,"twitter.com",m,R)}}function Ve(A){const{user:p,_tokenResponse:m}=A;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Xo(A){var p,m;if(!A)return null;const{providerId:R}=A,re=A.rawUserInfo?JSON.parse(A.rawUserInfo):{},be=A.isNewUser||"identitytoolkit#SignupNewUserResponse"===A.kind;if(!R&&null!=A&&A.idToken){const Mt=null===(m=null===(p=An(A.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Mt)return new ia(be,"anonymous"!==Mt&&"custom"!==Mt?Mt:null)}if(!R)return null;switch(R){case"facebook.com":return new Cc(be,re);case"github.com":return new os(be,re);case"google.com":return new D(be,re);case"twitter.com":return new K(be,re,A.screenName||null);case"custom":case"anonymous":return new ia(be,null);default:return new ia(be,R,re)}}(m)}class Li{constructor(p,m,R){this.type=p,this.credential=m,this.user=R}static _fromIdtoken(p,m){return new Li("enroll",p,m)}static _fromMfaPendingCredential(p){return new Li("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,R;if(null!=p&&p.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Li._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(R=p.multiFactorSession)&&void 0!==R&&R.idToken)return Li._fromIdtoken(p.multiFactorSession.idToken)}return null}}class vs{constructor(p,m,R){this.session=p,this.hints=m,this.signInResolver=R}static _fromError(p,m){const R=Wn(p),re=m.customData._serverResponse,be=(re.mfaInfo||[]).map(en=>kr._fromServerResponse(R,en));he(re.mfaPendingCredential,R,"internal-error");const Mt=Li._fromMfaPendingCredential(re.mfaPendingCredential);return new vs(Mt,be,function(){var en=(0,h.A)(function*(Cn){const cr=yield Cn._process(R,Mt);delete re.mfaInfo,delete re.mfaPendingCredential;const Rr=Object.assign(Object.assign({},re),{idToken:cr.idToken,refreshToken:cr.refreshToken});switch(m.operationType){case"signIn":const yi=yield xn._fromIdTokenResponse(R,m.operationType,Rr);return yield R._updateCurrentUser(yi.user),yi;case"reauthenticate":return he(m.user,R,"internal-error"),xn._forOperation(m.user,m.operationType,Rr);default:Me(R,"internal-error")}});return function(Cn){return en.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.A)(function*(){return m.signInResolver(p)})()}}function ys(A,p){var m;const R=(0,V.Ku)(A),re=p;return he(p.customData.operationType,R,"argument-error"),he(null===(m=re.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,R,"argument-error"),vs._fromError(R,re)}class Ml{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(R=>kr._fromServerResponse(p.auth,R)))})}static _fromUser(p){return new Ml(p)}getSession(){var p=this;return(0,h.A)(function*(){return Li._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,m){var R=this;return(0,h.A)(function*(){const re=p,be=yield R.getSession(),Mt=yield Un(R.user,re._process(R.user.auth,be,m));return yield R.user._updateTokensIfNecessary(Mt),R.user.reload()})()}unenroll(p){var m=this;return(0,h.A)(function*(){const R="string"==typeof p?p:p.uid,re=yield m.user.getIdToken();try{const be=yield Un(m.user,function vu(A,p){return Et(A,"POST","/v2/accounts/mfaEnrollment:withdraw",et(A,p))}(m.user.auth,{idToken:re,mfaEnrollmentId:R}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Mt})=>Mt!==R),yield m.user._updateTokensIfNecessary(be),yield m.user.reload()}catch(be){throw be}})()}}const Co=new WeakMap;function Yr(A){const p=(0,V.Ku)(A);return Co.has(p)||Co.set(p,Ml._fromUser(p)),Co.get(p)}const ul="__sak";class hs{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ul,"1"),this.storage.removeItem(ul),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ac=(()=>{class A extends hs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,R)=>this.onStorageEvent(m,R),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const R of Object.keys(this.listeners)){const re=this.storage.getItem(R),be=this.localCache[R];re!==be&&m(R,be,re)}}onStorageEvent(m,R=!1){if(!m.key)return void this.forAllChangedKeys((en,Cn,cr)=>{this.notifyListeners(en,cr)});const re=m.key;R?this.detachListener():this.stopPolling();const be=()=>{const en=this.storage.getItem(re);!R&&this.localCache[re]===en||this.notifyListeners(re,en)},Mt=this.storage.getItem(re);!function Ye(){return(0,V.lT)()&&10===document.documentMode}()||Mt===m.newValue||m.newValue===m.oldValue?be():setTimeout(be,10)}notifyListeners(m,R){this.localCache[m]=R;const re=this.listeners[m];if(re)for(const be of Array.from(re))be(R&&JSON.parse(R))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,R,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:R,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,R){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(R)}_removeListener(m,R){this.listeners[m]&&(this.listeners[m].delete(R),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,R){var re=()=>super._set,be=this;return(0,h.A)(function*(){yield re().call(be,m,R),be.localCache[m]=JSON.stringify(R)})()}_get(m){var R=()=>super._get,re=this;return(0,h.A)(function*(){const be=yield R().call(re,m);return re.localCache[m]=JSON.stringify(be),be})()}_remove(m){var R=()=>super._remove,re=this;return(0,h.A)(function*(){yield R().call(re,m),delete re.localCache[m]})()}}return A.type="LOCAL",A})(),Jc=(()=>{class A extends hs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,R){}_removeListener(m,R){}}return A.type="SESSION",A})();let Yl=(()=>{class A{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const R=this.receivers.find(be=>be.isListeningto(m));if(R)return R;const re=new A(m);return this.receivers.push(re),re}isListeningto(m){return this.eventTarget===m}handleEvent(m){var R=this;return(0,h.A)(function*(){const re=m,{eventId:be,eventType:Mt,data:en}=re.data,Cn=R.handlersMap[Mt];if(null==Cn||!Cn.size)return;re.ports[0].postMessage({status:"ack",eventId:be,eventType:Mt});const cr=Array.from(Cn).map(function(){var yi=(0,h.A)(function*(ea){return ea(re.origin,en)});return function(ea){return yi.apply(this,arguments)}}()),Rr=yield function dl(A){return Promise.all(A.map(function(){var p=(0,h.A)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(R){return{fulfilled:!1,reason:R}}});return function(m){return p.apply(this,arguments)}}()))}(cr);re.ports[0].postMessage({status:"done",eventId:be,eventType:Mt,response:Rr})})()}_subscribe(m,R){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(R)}_unsubscribe(m,R){this.handlersMap[m]&&R&&this.handlersMap[m].delete(R),(!R||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return A.receivers=[],A})();function vo(A="",p=10){let m="";for(let R=0;R<p;R++)m+=Math.floor(10*Math.random());return A+m}class Pl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,R=50){var re=this;return(0,h.A)(function*(){const be=typeof MessageChannel<"u"?new MessageChannel:null;if(!be)throw new Error("connection_unavailable");let Mt,en;return new Promise((Cn,cr)=>{const Rr=vo("",20);be.port1.start();const yi=setTimeout(()=>{cr(new Error("unsupported_event"))},R);en={messageChannel:be,onMessage(ea){const rl=ea;if(rl.data.eventId===Rr)switch(rl.data.status){case"ack":clearTimeout(yi),Mt=setTimeout(()=>{cr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Mt),Cn(rl.data.response);break;default:clearTimeout(yi),clearTimeout(Mt),cr(new Error("invalid_response"))}}},re.handlers.add(en),be.port1.addEventListener("message",en.onMessage),re.target.postMessage({eventType:p,eventId:Rr,data:m},[be.port2])}).finally(()=>{en&&re.removeMessageHandler(en)})})()}}function ro(){return window}function Ol(){return typeof ro().WorkerGlobalScope<"u"&&"function"==typeof ro().importScripts}function vi(){return(vi=(0,h.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Tc="firebaseLocalStorageDb",Ua="firebaseLocalStorage",Os="fbase_key";class qo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ns(A,p){return A.transaction([Ua],p?"readwrite":"readonly").objectStore(Ua)}function so(){const A=indexedDB.open(Tc,1);return new Promise((p,m)=>{A.addEventListener("error",()=>{m(A.error)}),A.addEventListener("upgradeneeded",()=>{const R=A.result;try{R.createObjectStore(Ua,{keyPath:Os})}catch(re){m(re)}}),A.addEventListener("success",(0,h.A)(function*(){const R=A.result;R.objectStoreNames.contains(Ua)?p(R):(R.close(),yield function wc(){const A=indexedDB.deleteDatabase(Tc);return new qo(A).toPromise()}(),p(yield so()))}))})}function Jl(A,p,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,h.A)(function*(A,p,m){const R=Ns(A,!0).put({[Os]:p,value:m});return new qo(R).toPromise()})).apply(this,arguments)}function $a(){return($a=(0,h.A)(function*(A,p){const m=Ns(A,!1).get(p),R=yield new qo(m).toPromise();return void 0===R?null:R.value})).apply(this,arguments)}function aa(A,p){const m=Ns(A,!0).delete(p);return new qo(m).toPromise()}const Ys=(()=>{class A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.A)(function*(){return m.db||(m.db=yield so()),m.db})()}_withRetries(m){var R=this;return(0,h.A)(function*(){let re=0;for(;;)try{const be=yield R._openDb();return yield m(be)}catch(be){if(re++>3)throw be;R.db&&(R.db.close(),R.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.A)(function*(){return Ol()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.A)(function*(){m.receiver=Yl._getInstance(function Bd(){return Ol()?self:null}()),m.receiver._subscribe("keyChanged",function(){var R=(0,h.A)(function*(re,be){return{keyProcessed:(yield m._poll()).includes(be.key)}});return function(re,be){return R.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var R=(0,h.A)(function*(re,be){return["keyChanged"]});return function(re,be){return R.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.A)(function*(){var R,re;if(m.activeServiceWorker=yield function Va(){return vi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Pl(m.activeServiceWorker);const be=yield m.sender._send("ping",{},800);be&&null!==(R=be[0])&&void 0!==R&&R.fulfilled&&null!==(re=be[0])&&void 0!==re&&re.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var R=this;return(0,h.A)(function*(){if(R.sender&&R.activeServiceWorker&&function Ia(){var A;return(null===(A=null==navigator?void 0:navigator.serviceWorker)||void 0===A?void 0:A.controller)||null}()===R.activeServiceWorker)try{yield R.sender._send("keyChanged",{key:m},R.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.A)(function*(){try{if(!indexedDB)return!1;const m=yield so();return yield Jl(m,ul,"1"),yield aa(m,ul),!0}catch{}return!1})()}_withPendingWrite(m){var R=this;return(0,h.A)(function*(){R.pendingWrites++;try{yield m()}finally{R.pendingWrites--}})()}_set(m,R){var re=this;return(0,h.A)(function*(){return re._withPendingWrite((0,h.A)(function*(){return yield re._withRetries(be=>Jl(be,m,R)),re.localCache[m]=R,re.notifyServiceWorker(m)}))})()}_get(m){var R=this;return(0,h.A)(function*(){const re=yield R._withRetries(be=>function Zc(A,p){return $a.apply(this,arguments)}(be,m));return R.localCache[m]=re,re})()}_remove(m){var R=this;return(0,h.A)(function*(){return R._withPendingWrite((0,h.A)(function*(){return yield R._withRetries(re=>aa(re,m)),delete R.localCache[m],R.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.A)(function*(){const R=yield m._withRetries(Mt=>{const en=Ns(Mt,!1).getAll();return new qo(en).toPromise()});if(!R)return[];if(0!==m.pendingWrites)return[];const re=[],be=new Set;if(0!==R.length)for(const{fbase_key:Mt,value:en}of R)be.add(Mt),JSON.stringify(m.localCache[Mt])!==JSON.stringify(en)&&(m.notifyListeners(Mt,en),re.push(Mt));for(const Mt of Object.keys(m.localCache))m.localCache[Mt]&&!be.has(Mt)&&(m.notifyListeners(Mt,null),re.push(Mt));return re})()}notifyListeners(m,R){this.localCache[m]=R;const re=this.listeners[m];if(re)for(const be of Array.from(re))be(R)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.A)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,R){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(R)}_removeListener(m,R){this.listeners[m]&&(this.listeners[m].delete(R),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return A.type="LOCAL",A})(),S=1e12;class B{constructor(p){this.auth=p,this.counter=S,this._widgets=new Map}render(p,m){const R=this.counter;return this._widgets.set(R,new fe(p,this.auth.name,m||{})),this.counter++,R}reset(p){var m;const R=p||S;null===(m=this._widgets.get(R))||void 0===m||m.delete(),this._widgets.delete(R)}getResponse(p){var m;return(null===(m=this._widgets.get(p||S))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.A)(function*(){var R;return null===(R=m._widgets.get(p||S))||void 0===R||R.execute(),""})()}}class fe{constructor(p,m,R){this.params=R,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof p?document.getElementById(p):p;he(re,"argument-error",{appName:m}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ce(A){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let R=0;R<A;R++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ut=ri("rcb"),pn=new De(3e4,6e4);class Gt{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ro().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return he(function Qn(A){return A.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(A)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Qt(ro().grecaptcha)?Promise.resolve(ro().grecaptcha):new Promise((R,re)=>{const be=ro().setTimeout(()=>{re(Fe(p,"network-request-failed"))},pn.get());ro()[Ut]=()=>{ro().clearTimeout(be),delete ro()[Ut];const en=ro().grecaptcha;if(!en||!Qt(en))return void re(Fe(p,"internal-error"));const Cn=en.render;en.render=(cr,Rr)=>{const yi=Cn(cr,Rr);return this.counter++,yi},this.hostLanguage=m,R(en)},fr(`${function Mi(){return wi.recaptchaV2Script}()}?${(0,V.Am)({onload:Ut,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(be),re(Fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=ro().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Or{load(p){return(0,h.A)(function*(){return new B(p)})()}clearedOneInstance(){}}const Ti="recaptcha",Br={theme:"light",type:"image"};class $i{constructor(p,m,R=Object.assign({},Br)){this.parameters=R,this.type=Ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(p),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof m?document.getElementById(m):m;he(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Or:new Gt,this.validateStartingState()}verify(){var p=this;return(0,h.A)(function*(){p.assertNotDestroyed();const m=yield p.render(),R=p.getAssertedRecaptcha();return R.getResponse(m)||new Promise(be=>{const Mt=en=>{en&&(p.tokenChangeListeners.delete(Mt),be(en))};p.tokenChangeListeners.add(Mt),p.isInvisible&&R.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(R=>R(m)),"function"==typeof p)p(m);else if("string"==typeof p){const R=ro()[p];"function"==typeof R&&R(m)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.A)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const R=document.createElement("div");m.appendChild(R),m=R}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.A)(function*(){he(Ft()&&!Ol(),p.auth,"internal-error"),yield function Er(){let A=null;return new Promise(p=>{"complete"!==document.readyState?(A=()=>p(),window.addEventListener("load",A)):p()}).catch(p=>{throw A&&window.removeEventListener("load",A),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function vt(A){return Ne.apply(this,arguments)}(p.auth);he(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Si{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Gi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Oo(A,p,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.A)(function*(A,p,m){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const R=Wn(A),re=yield Ea(R,p,(0,V.Ku)(m));return new Si(re,be=>q(R,be))})).apply(this,arguments)}function Yi(A,p,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,h.A)(function*(A,p,m){const R=(0,V.Ku)(A);yield Wo(!1,R,"phone");const re=yield Ea(R.auth,p,(0,V.Ku)(m));return new Si(re,be=>ce(R,be))})).apply(this,arguments)}function Sc(A,p,m){return fl.apply(this,arguments)}function fl(){return(fl=(0,h.A)(function*(A,p,m){const R=(0,V.Ku)(A);if((0,s._isFirebaseServerApp)(R.auth.app))return Promise.reject(ot(R.auth));const re=yield Ea(R.auth,p,(0,V.Ku)(m));return new Si(re,be=>pe(R,be))})).apply(this,arguments)}function Ea(A,p,m){return pl.apply(this,arguments)}function pl(){return pl=(0,h.A)(function*(A,p,m){var R;const re=yield m.verify();try{let be;if(he("string"==typeof re,A,"argument-error"),he(m.type===Ti,A,"argument-error"),be="string"==typeof p?{phoneNumber:p}:p,"session"in be){const Mt=be.session;if("phoneNumber"in be)return he("enroll"===Mt.type,A,"internal-error"),(yield function Is(A,p){return Et(A,"POST","/v2/accounts/mfaEnrollment:start",et(A,p))}(A,{idToken:Mt.credential,phoneEnrollmentInfo:{phoneNumber:be.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{he("signin"===Mt.type,A,"internal-error");const en=(null===(R=be.multiFactorHint)||void 0===R?void 0:R.uid)||be.multiFactorUid;return he(en,A,"missing-multi-factor-info"),(yield function id(A,p){return Et(A,"POST","/v2/accounts/mfaSignIn:start",et(A,p))}(A,{mfaPendingCredential:Mt.credential,mfaEnrollmentId:en,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Mt}=yield function ar(A,p){return Ur.apply(this,arguments)}(A,{phoneNumber:be.phoneNumber,recaptchaToken:re});return Mt}}finally{m._reset()}}),pl.apply(this,arguments)}function ja(A,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,h.A)(function*(A,p){const m=(0,V.Ku)(A);if((0,s._isFirebaseServerApp)(m.auth.app))return Promise.reject(ot(m.auth));yield Wa(m,p)})).apply(this,arguments)}let Zl=(()=>{class A{constructor(m){this.providerId=A.PROVIDER_ID,this.auth=Wn(m)}verifyPhoneNumber(m,R){return Ea(this.auth,m,(0,V.Ku)(R))}static credential(m,R){return Gi._fromVerification(m,R)}static credentialFromResult(m){return A.credentialFromTaggedObject(m)}static credentialFromError(m){return A.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:R,temporaryProof:re}=m;return R&&re?Gi._fromTokenResponse(R,re):null}}return A.PROVIDER_ID="phone",A.PHONE_SIGN_IN_METHOD="phone",A})();function ml(A,p){return p?hn(p):(he(A._popupRedirectResolver,A,"argument-error"),A._popupRedirectResolver)}class Nl extends Io{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return dn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return dn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return dn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function $d(A){return Xl(A.auth,new Nl(A),A.bypassAuthState)}function Au(A){const{auth:p,user:m}=A;return he(m,p,"internal-error"),Kl(m,new Nl(A),A.bypassAuthState)}function jd(A){return tu.apply(this,arguments)}function tu(){return(tu=(0,h.A)(function*(A){const{auth:p,user:m}=A;return he(m,p,"internal-error"),Wa(m,new Nl(A),A.bypassAuthState)})).apply(this,arguments)}class Tu{constructor(p,m,R,re,be=!1){this.auth=p,this.resolver=R,this.user=re,this.bypassAuthState=be,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.A)(function*(R,re){p.pendingPromise={resolve:R,reject:re};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(be){p.reject(be)}});return function(R,re){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.A)(function*(){const{urlResponse:R,sessionId:re,postBody:be,tenantId:Mt,error:en,type:Cn}=p;if(en)return void m.reject(en);const cr={auth:m.auth,requestUri:R,sessionId:re,tenantId:Mt||void 0,postBody:be||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Cn)(cr))}catch(Rr){m.reject(Rr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return $d;case"linkViaPopup":case"linkViaRedirect":return jd;case"reauthViaPopup":case"reauthViaRedirect":return Au;default:Me(this.auth,"internal-error")}}resolve(p){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const od=new De(2e3,1e4);function Ja(A,p,m){return ec.apply(this,arguments)}function ec(){return(ec=(0,h.A)(function*(A,p,m){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(Fe(A,"operation-not-supported-in-this-environment"));const R=Wn(A);ut(A,p,no);const re=ml(R,m);return new Mc(R,"signInViaPopup",p,re).executeNotNull()})).apply(this,arguments)}function sd(A,p,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,h.A)(function*(A,p,m){const R=(0,V.Ku)(A);if((0,s._isFirebaseServerApp)(R.auth.app))return Promise.reject(Fe(R.auth,"operation-not-supported-in-this-environment"));ut(R.auth,p,no);const re=ml(R.auth,m);return new Mc(R.auth,"reauthViaPopup",p,re,R).executeNotNull()})).apply(this,arguments)}function Xh(A,p,m){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,h.A)(function*(A,p,m){const R=(0,V.Ku)(A);ut(R.auth,p,no);const re=ml(R.auth,m);return new Mc(R.auth,"linkViaPopup",p,re,R).executeNotNull()})).apply(this,arguments)}let Mc=(()=>{class A extends Tu{constructor(m,R,re,be,Mt){super(m,R,be,Mt),this.provider=re,this.authWindow=null,this.pollId=null,A.currentPopupAction&&A.currentPopupAction.cancel(),A.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.A)(function*(){const R=yield m.execute();return he(R,m.auth,"internal-error"),R})()}onExecution(){var m=this;return(0,h.A)(function*(){ht(1===m.filter.length,"Popup operations only handle one event");const R=vo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],R),m.authWindow.associatedEvent=R,m.resolver._originValidation(m.auth).catch(re=>{m.reject(re)}),m.resolver._isIframeWebStorageSupported(m.auth,re=>{re||m.reject(Fe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,A.currentPopupAction=null}pollUserCancellation(){const m=()=>{var R,re;this.pollId=null!==(re=null===(R=this.authWindow)||void 0===R?void 0:R.window)&&void 0!==re&&re.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,od.get())};m()}}return A.currentPopupAction=null,A})();const Aa="pendingRedirect",Za=new Map;class tc extends Tu{constructor(p,m,R=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,R),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.A)(function*(){let R=Za.get(m.auth._key());if(!R){try{const be=(yield function nc(A,p){return el.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;R=()=>Promise.resolve(be)}catch(re){R=()=>Promise.reject(re)}Za.set(m.auth._key(),R)}return m.bypassAuthState||Za.set(m.auth._key(),()=>Promise.resolve(null)),R()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,R=this;return(0,h.A)(function*(){if("signInViaRedirect"===p.type)return m().call(R,p);if("unknown"!==p.type){if(p.eventId){const re=yield R.auth._redirectUserForId(p.eventId);if(re)return R.user=re,m().call(R,p);R.resolve(null)}}else R.resolve(null)})()}onExecution(){return(0,h.A)(function*(){})()}cleanUp(){}}function el(){return(el=(0,h.A)(function*(A,p){const m=Pc(p),R=bu(A);if(!(yield R._isAvailable()))return!1;const re="true"===(yield R._get(m));return yield R._remove(m),re})).apply(this,arguments)}function nu(A,p){return _l.apply(this,arguments)}function _l(){return(_l=(0,h.A)(function*(A,p){return bu(A)._set(Pc(p),"true")})).apply(this,arguments)}function Hd(){Za.clear()}function Gd(A,p){Za.set(A._key(),p)}function bu(A){return hn(A._redirectPersistence)}function Pc(A){return vr(Aa,A.config.apiKey,A.name)}function zd(A,p,m){return function wu(A,p,m){return rc.apply(this,arguments)}(A,p,m)}function rc(){return(rc=(0,h.A)(function*(A,p,m){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const R=Wn(A);ut(A,p,no),yield R._initializationPromise;const re=ml(R,m);return yield nu(re,R),re._openRedirect(R,p,"signInViaRedirect")})).apply(this,arguments)}function Ta(A,p,m){return function ic(A,p,m){return Du.apply(this,arguments)}(A,p,m)}function Du(){return(Du=(0,h.A)(function*(A,p,m){const R=(0,V.Ku)(A);if(ut(R.auth,p,no),(0,s._isFirebaseServerApp)(R.auth.app))return Promise.reject(ot(R.auth));yield R.auth._initializationPromise;const re=ml(R.auth,m);yield nu(re,R.auth);const be=yield ld(R);return re._openRedirect(R.auth,p,"reauthViaRedirect",be)})).apply(this,arguments)}function Fo(A,p,m){return function Su(A,p,m){return ad.apply(this,arguments)}(A,p,m)}function ad(){return(ad=(0,h.A)(function*(A,p,m){const R=(0,V.Ku)(A);ut(R.auth,p,no),yield R.auth._initializationPromise;const re=ml(R.auth,m);yield Wo(!1,R,p.providerId),yield nu(re,R.auth);const be=yield ld(R);return re._openRedirect(R.auth,p,"linkViaRedirect",be)})).apply(this,arguments)}function Oc(A,p){return xl.apply(this,arguments)}function xl(){return(xl=(0,h.A)(function*(A,p){return yield Wn(A)._initializationPromise,oc(A,p,!1)})).apply(this,arguments)}function oc(A,p){return kl.apply(this,arguments)}function kl(){return(kl=(0,h.A)(function*(A,p,m=!1){if((0,s._isFirebaseServerApp)(A.app))return Promise.reject(ot(A));const R=Wn(A),re=ml(R,p),Mt=yield new tc(R,re,m).execute();return Mt&&!m&&(delete Mt.user._redirectEventId,yield R._persistUserIfCurrent(Mt.user),yield R._setRedirectUser(null,p)),Mt})).apply(this,arguments)}function ld(A){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,h.A)(function*(A){const p=vo(`${A.uid}:::`);return A._redirectEventId=p,yield A.auth._setRedirectUser(A),yield A.auth._persistUserIfCurrent(A),p})).apply(this,arguments)}class ru{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(R=>{this.isEventForConsumer(p,R)&&(m=!0,this.sendToConsumer(p,R),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function $n(A){switch(A.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return io(A);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var R;if(p.error&&!io(p)){const re=(null===(R=p.error.code)||void 0===R?void 0:R.split("auth/")[1])||"internal-error";m.onError(Fe(this.auth,re))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const R=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&R}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fl(p))}saveEventToCache(p){this.cachedEventUids.add(Fl(p)),this.lastProcessedEventTime=Date.now()}}function Fl(A){return[A.type,A.eventId,A.sessionId,A.tenantId].filter(p=>p).join("-")}function io({type:A,error:p}){return"unknown"===A&&"auth/no-auth-event"===(null==p?void 0:p.code)}function gr(A){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.A)(function*(A,p={}){return Et(A,"GET","/v1/projects",p)})).apply(this,arguments)}const ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ji=/^https?/;function xs(){return(xs=(0,h.A)(function*(A){if(A.config.emulator)return;const{authorizedDomains:p}=yield gr(A);for(const m of p)try{if(ho(m))return}catch{}Me(A,"unauthorized-domain")})).apply(this,arguments)}function ho(A){const p=tt(),{protocol:m,hostname:R}=new URL(p);if(A.startsWith("chrome-extension://")){const Mt=new URL(A);return""===Mt.hostname&&""===R?"chrome-extension:"===m&&A.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Mt.hostname===R}if(!Ji.test(m))return!1;if(ba.test(A))return R===A;const re=A.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(R)}const lo=new De(3e4,6e4);function Js(){const A=ro().___jsl;if(null!=A&&A.H)for(const p of Object.keys(A.H))if(A.H[p].r=A.H[p].r||[],A.H[p].L=A.H[p].L||[],A.H[p].r=[...A.H[p].L],A.CP)for(let m=0;m<A.CP.length;m++)A.CP[m]=null}let vl=null;const Nc=new De(5e3,15e3),To="__/auth/iframe",yl="emulator/auth/iframe",xc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Il=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sc(A){const p=A.config;he(p.authDomain,A,"auth-domain-config-required");const m=p.emulator?Y(p,yl):`https://${A.config.authDomain}/${To}`,R={apiKey:p.apiKey,appName:A.name,v:s.SDK_VERSION},re=Il.get(A.config.apiHost);re&&(R.eid=re);const be=A._getFrameworks();return be.length&&(R.fw=be.join(",")),`${m}?${(0,V.Am)(R).slice(1)}`}function tl(){return tl=(0,h.A)(function*(A){const p=yield function Wd(A){return vl=vl||function $r(A){return new Promise((p,m)=>{var R,re,be;function Mt(){Js(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Js(),m(Fe(A,"network-request-failed"))},timeout:lo.get()})}if(null!==(re=null===(R=ro().gapi)||void 0===R?void 0:R.iframes)&&void 0!==re&&re.Iframe)p(gapi.iframes.getContext());else{if(null===(be=ro().gapi)||void 0===be||!be.load){const en=ri("iframefcb");return ro()[en]=()=>{gapi.load?Mt():m(Fe(A,"network-request-failed"))},fr(`${function oo(){return wi.gapiScript}()}?onload=${en}`).catch(Cn=>m(Cn))}Mt()}}).catch(p=>{throw vl=null,p})}(A),vl}(A),m=ro().gapi;return he(m,A,"internal-error"),p.open({where:document.body,url:sc(A),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xc,dontclear:!0},R=>new Promise(function(){var re=(0,h.A)(function*(be,Mt){yield R.restyle({setHideOnLeave:!1});const en=Fe(A,"network-request-failed"),Cn=ro().setTimeout(()=>{Mt(en)},Nc.get());function cr(){ro().clearTimeout(Cn),be(R)}R.ping(cr).then(cr,()=>{Mt(en)})});return function(be,Mt){return re.apply(this,arguments)}}()))}),tl.apply(this,arguments)}const nl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zs{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const No="__/auth/handler",Fc="emulator/auth/handler",Ri=encodeURIComponent("fac");function ps(A,p,m,R,re,be){return ou.apply(this,arguments)}function ou(){return(ou=(0,h.A)(function*(A,p,m,R,re,be){he(A.config.authDomain,A,"auth-domain-config-required"),he(A.config.apiKey,A,"invalid-api-key");const Mt={apiKey:A.config.apiKey,appName:A.name,authType:m,redirectUrl:R,v:s.SDK_VERSION,eventId:re};if(p instanceof no){p.setDefaultLanguage(A.languageCode),Mt.providerId=p.providerId||"",(0,V.Im)(p.getCustomParameters())||(Mt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Rr,yi]of Object.entries(be||{}))Mt[Rr]=yi}if(p instanceof zo){const Rr=p.getScopes().filter(yi=>""!==yi);Rr.length>0&&(Mt.scopes=Rr.join(","))}A.tenantId&&(Mt.tid=A.tenantId);const en=Mt;for(const Rr of Object.keys(en))void 0===en[Rr]&&delete en[Rr];const Cn=yield A._getAppCheckToken(),cr=Cn?`#${Ri}=${encodeURIComponent(Cn)}`:"";return`${function Lc({config:A}){return A.emulator?Y(A,Fc):`https://${A.authDomain}/${No}`}(A)}?${(0,V.Am)(en).slice(1)}${cr}`})).apply(this,arguments)}const Vc="webStorageSupport",su=class wa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jc,this._completeRedirectFn=oc,this._overrideRedirectResult=Gd}_openPopup(p,m,R,re){var be=this;return(0,h.A)(function*(){var Mt;ht(null===(Mt=be.eventManagers[p._key()])||void 0===Mt?void 0:Mt.manager,"_initialize() not called before _openPopup()");const en=yield ps(p,m,R,tt(),re);return function Mu(A,p,m,R=500,re=600){const be=Math.max((window.screen.availHeight-re)/2,0).toString(),Mt=Math.max((window.screen.availWidth-R)/2,0).toString();let en="";const Cn=Object.assign(Object.assign({},nl),{width:R.toString(),height:re.toString(),top:be,left:Mt}),cr=(0,V.ZQ)().toLowerCase();m&&(en=Ki(cr)?"_blank":m),Jn(cr)&&(p=p||"http://localhost",Cn.scrollbars="yes");const Rr=Object.entries(Cn).reduce((ea,[rl,Ou])=>`${ea}${rl}=${Ou},`,"");if(function po(A=(0,V.ZQ)()){var p;return Do(A)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(cr)&&"_self"!==en)return function iu(A,p){const m=document.createElement("a");m.href=A,m.target=p;const R=document.createEvent("MouseEvent");R.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(R)}(p||"",en),new Zs(null);const yi=window.open(p||"",en,Rr);he(yi,A,"popup-blocked");try{yi.focus()}catch{}return new Zs(yi)}(p,en,vo())})()}_openRedirect(p,m,R,re){var be=this;return(0,h.A)(function*(){return yield be._originValidation(p),function rd(A){ro().location.href=A}(yield ps(p,m,R,tt(),re)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:re,promise:be}=this.eventManagers[m];return re?Promise.resolve(re):(ht(be,"If manager is not set, promise should be"),be)}const R=this.initAndGetManager(p);return this.eventManagers[m]={promise:R},R.catch(()=>{delete this.eventManagers[m]}),R}initAndGetManager(p){var m=this;return(0,h.A)(function*(){const R=yield function qh(A){return tl.apply(this,arguments)}(p),re=new ru(p);return R.register("authEvent",be=>(he(null==be?void 0:be.authEvent,p,"invalid-auth-event"),{status:re.onEvent(be.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:re},m.iframes[p._key()]=R,re})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Vc,{type:Vc},re=>{var be;const Mt=null===(be=null==re?void 0:re[0])||void 0===be?void 0:be[Vc];void 0!==Mt&&m(!!Mt),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function fs(A){return xs.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return we()||ei()||Do()}};class au{constructor(p){this.factorId=p}_process(p,m,R){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,R);case"signin":return this._finalizeSignIn(p,m.credential);default:return ft("unexpected MultiFactorSessionType")}}}class lu extends au{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new lu(p)}_finalizeEnroll(p,m,R){return function Ps(A,p){return Et(A,"POST","/v2/accounts/mfaEnrollment:finalize",et(A,p))}(p,{idToken:m,displayName:R,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Cu(A,p){return Et(A,"POST","/v2/accounts/mfaSignIn:finalize",et(A,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kd=(()=>{class A{constructor(){}static assertion(m){return lu._fromCredential(m)}}return A.FACTOR_ID="phone",A})();var ud="@firebase/auth";class Yh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.A)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(R=>{p((null==R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pp=(0,V.XA)("authIdTokenMaxAge")||300;let Jh=null;const Zh=A=>function(){var p=(0,h.A)(function*(m){const R=m&&(yield m.getIdTokenResult()),re=R&&((new Date).getTime()-Date.parse(R.issuedAtTime))/1e3;if(re&&re>pp)return;const be=null==R?void 0:R.token;Jh!==be&&(Jh=be,yield fetch(A,{method:be?"POST":"DELETE",headers:be?{Authorization:`Bearer ${be}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function mm(A=(0,s.getApp)()){const p=(0,s._getProvider)(A,"auth");if(p.isInitialized())return p.getImmediate();const m=function ls(A,p){const m=(0,s._getProvider)(A,"auth");if(m.isInitialized()){const re=m.getImmediate(),be=m.getOptions();if((0,V.bD)(be,null!=p?p:{}))return re;Me(re,"already-initialized")}return m.initialize({options:p})}(A,{popupRedirectResolver:su,persistence:[Ys,Ac,Jc]}),R=(0,V.XA)("authTokenSyncURL");if(R&&"boolean"==typeof isSecureContext&&isSecureContext){const be=new URL(R,location.origin);if(location.origin===be.origin){const Mt=Zh(be.toString());(function Sr(A,p,m){(0,V.Ku)(A).beforeAuthStateChanged(p,m)})(m,Mt,()=>Mt(m.currentUser)),function bn(A,p,m,R){(0,V.Ku)(A).onIdTokenChanged(p,m,R)}(m,en=>Mt(en))}}const re=(0,V.Tj)("auth");return re&&Cs(m,`http://${re}`),m}(function ji(A){wi=A})({loadJS:A=>new Promise((p,m)=>{const R=document.createElement("script");R.setAttribute("src",A),R.onload=p,R.onerror=re=>{const be=Fe("internal-error");be.customData=re,m(be)},R.type="text/javascript",R.charset="UTF-8",function gp(){var A,p;return null!==(p=null===(A=document.getElementsByTagName("head"))||void 0===A?void 0:A[0])&&void 0!==p?p:document}().appendChild(R)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function fp(A){(0,s._registerComponent)(new Ae.uA("auth",(p,{options:m})=>{const R=p.getProvider("app").getImmediate(),re=p.getProvider("heartbeat"),be=p.getProvider("app-check-internal"),{apiKey:Mt,authDomain:en}=R.options;he(Mt&&!Mt.includes(":"),"invalid-api-key",{appName:R.name});const Cn={apiKey:Mt,authDomain:en,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bt(A)},cr=new Dn(R,re,be,Cn);return function ii(A,p){const m=(null==p?void 0:p.persistence)||[],R=(Array.isArray(m)?m:[m]).map(hn);null!=p&&p.errorMap&&A._updateErrorMap(p.errorMap),A._initializeWithPersistence(R,null==p?void 0:p.popupRedirectResolver)}(cr,m),cr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,R)=>{p.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new Ae.uA("auth-internal",p=>{const m=Wn(p.getProvider("auth").getImmediate());return new Yh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(ud,"1.7.8",function hp(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(A)),(0,s.registerVersion)(ud,"1.7.8","esm2017")}("Browser")},1076:(Mn,St,x)=>{"use strict";x.d(St,{Am:()=>hr,Bd:()=>ft,FA:()=>ze,Fy:()=>ot,I9:()=>sr,Im:()=>vt,Ku:()=>Te,Ll:()=>he,T9:()=>Me,Tj:()=>Nt,Uj:()=>st,XA:()=>Fe,ZQ:()=>ut,bD:()=>je,cY:()=>Le,dM:()=>Ue,eX:()=>se,g:()=>Et,gR:()=>Yt,hp:()=>kn,jZ:()=>it,lT:()=>cn,lV:()=>Ft,mS:()=>Je,nr:()=>Y,p7:()=>ht,sr:()=>tt,tD:()=>Ar,u:()=>xe,zW:()=>ie,zw:()=>nt});const Ee=function(oe){const W=[];let Q=0;for(let le=0;le<oe.length;le++){let Se=oe.charCodeAt(le);Se<128?W[Q++]=Se:Se<2048?(W[Q++]=Se>>6|192,W[Q++]=63&Se|128):55296==(64512&Se)&&le+1<oe.length&&56320==(64512&oe.charCodeAt(le+1))?(Se=65536+((1023&Se)<<10)+(1023&oe.charCodeAt(++le)),W[Q++]=Se>>18|240,W[Q++]=Se>>12&63|128,W[Q++]=Se>>6&63|128,W[Q++]=63&Se|128):(W[Q++]=Se>>12|224,W[Q++]=Se>>6&63|128,W[Q++]=63&Se|128)}return W},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,W){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Se=0;Se<oe.length;Se+=3){const kt=oe[Se],hn=Se+1<oe.length,Fn=hn?oe[Se+1]:0,ir=Se+2<oe.length,vr=ir?oe[Se+2]:0;let Jn=(15&Fn)<<2|vr>>6,ei=63&vr;ir||(ei=64,hn||(Jn=64)),le.push(Q[kt>>2],Q[(3&kt)<<4|Fn>>4],Q[Jn],Q[ei])}return le.join("")},encodeString(oe,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(oe):this.encodeByteArray(Ee(oe),W)},decodeString(oe,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(oe):function(oe){const W=[];let Q=0,le=0;for(;Q<oe.length;){const Se=oe[Q++];if(Se<128)W[le++]=String.fromCharCode(Se);else if(Se>191&&Se<224){const kt=oe[Q++];W[le++]=String.fromCharCode((31&Se)<<6|63&kt)}else if(Se>239&&Se<365){const ir=((7&Se)<<18|(63&oe[Q++])<<12|(63&oe[Q++])<<6|63&oe[Q++])-65536;W[le++]=String.fromCharCode(55296+(ir>>10)),W[le++]=String.fromCharCode(56320+(1023&ir))}else{const kt=oe[Q++],hn=oe[Q++];W[le++]=String.fromCharCode((15&Se)<<12|(63&kt)<<6|63&hn)}}return W.join("")}(this.decodeStringToByteArray(oe,W))},decodeStringToByteArray(oe,W){this.init_();const Q=W?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Se=0;Se<oe.length;){const kt=Q[oe.charAt(Se++)],Fn=Se<oe.length?Q[oe.charAt(Se)]:0;++Se;const vr=Se<oe.length?Q[oe.charAt(Se)]:64;++Se;const er=Se<oe.length?Q[oe.charAt(Se)]:64;if(++Se,null==kt||null==Fn||null==vr||null==er)throw new Oe;le.push(kt<<2|Fn>>4),64!==vr&&(le.push(Fn<<4&240|vr>>2),64!==er&&le.push(vr<<6&192|er))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const st=function(oe){return function(oe){const W=Ee(oe);return Ae.encodeByteArray(W,!0)}(oe).replace(/\./g,"")},xe=function(oe){try{return Ae.decodeString(oe,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function nt(oe,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return W}for(const Q in W)!W.hasOwnProperty(Q)||!Qe(Q)||(oe[Q]=nt(oe[Q],W[Q]));return oe}function Qe(oe){return"__proto__"!==oe}function Je(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lt=()=>{try{return Je().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=oe&&xe(oe[1]);return W&&JSON.parse(W)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},Nt=oe=>{var W,Q;return null===(Q=null===(W=lt())||void 0===W?void 0:W.emulatorHosts)||void 0===Q?void 0:Q[oe]},Me=()=>{var oe;return null===(oe=lt())||void 0===oe?void 0:oe.config},Fe=oe=>{var W;return null===(W=lt())||void 0===W?void 0:W[`_${oe}`]};class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Q)=>{this.resolve=W,this.reject=Q})}wrapCallback(W){return(Q,le)=>{Q?this.reject(Q):this.resolve(le),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Q):W(Q,le))}}}function ot(oe,W){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=W||"demo-project",Se=oe.iat||0,kt=oe.sub||oe.user_id;if(!kt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const hn=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Se,exp:Se+3600,auth_time:Se,sub:kt,user_id:kt,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[st(JSON.stringify({alg:"none",type:"JWT"})),st(JSON.stringify(hn)),""].join(".")}function ut(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function it(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function he(){var oe;const W=null===(oe=lt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ft(){return typeof window<"u"||ht()}function ht(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function tt(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function cn(){const oe=ut();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function Y(){return!he()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function se(){return new Promise((oe,W)=>{try{let Q=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Se=self.indexedDB.open(le);Se.onsuccess=()=>{Se.result.close(),Q||self.indexedDB.deleteDatabase(le),oe(!0)},Se.onupgradeneeded=()=>{Q=!1},Se.onerror=()=>{var kt;W((null===(kt=Se.error)||void 0===kt?void 0:kt.message)||"")}}catch(Q){W(Q)}})}function Ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Et extends Error{constructor(W,Q,le){super(Q),this.code=W,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ze.prototype.create)}}class ze{constructor(W,Q,le){this.service=W,this.serviceName=Q,this.errors=le}create(W,...Q){const le=Q[0]||{},Se=`${this.service}/${W}`,kt=this.errors[W],hn=kt?function Bt(oe,W){return oe.replace(In,(Q,le)=>{const Se=W[le];return null!=Se?String(Se):`<${le}?>`})}(kt,le):"Error";return new Et(Se,`${this.serviceName}: ${hn} (${Se}).`,le)}}const In=/\{\$([^}]+)}/g;function Yt(oe,W){return Object.prototype.hasOwnProperty.call(oe,W)}function vt(oe){for(const W in oe)if(Object.prototype.hasOwnProperty.call(oe,W))return!1;return!0}function je(oe,W){if(oe===W)return!0;const Q=Object.keys(oe),le=Object.keys(W);for(const Se of Q){if(!le.includes(Se))return!1;const kt=oe[Se],hn=W[Se];if(rn(kt)&&rn(hn)){if(!je(kt,hn))return!1}else if(kt!==hn)return!1}for(const Se of le)if(!Q.includes(Se))return!1;return!0}function rn(oe){return null!==oe&&"object"==typeof oe}function hr(oe){const W=[];for(const[Q,le]of Object.entries(oe))Array.isArray(le)?le.forEach(Se=>{W.push(encodeURIComponent(Q)+"="+encodeURIComponent(Se))}):W.push(encodeURIComponent(Q)+"="+encodeURIComponent(le));return W.length?"&"+W.join("&"):""}function sr(oe){const W={};return oe.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Se,kt]=le.split("=");W[decodeURIComponent(Se)]=decodeURIComponent(kt)}}),W}function kn(oe){const W=oe.indexOf("?");if(!W)return"";const Q=oe.indexOf("#",W);return oe.substring(W,Q>0?Q:void 0)}function Ar(oe,W){const Q=new dr(oe,W);return Q.subscribe.bind(Q)}class dr{constructor(W,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{W(this)}).catch(le=>{this.error(le)})}next(W){this.forEachObserver(Q=>{Q.next(W)})}error(W){this.forEachObserver(Q=>{Q.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Q,le){let Se;if(void 0===W&&void 0===Q&&void 0===le)throw new Error("Missing Observer.");Se=function Zn(oe,W){if("object"!=typeof oe||null===oe)return!1;for(const Q of W)if(Q in oe&&"function"==typeof oe[Q])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Q,complete:le},void 0===Se.next&&(Se.next=Tr),void 0===Se.error&&(Se.error=Tr),void 0===Se.complete&&(Se.complete=Tr);const kt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Se.error(this.finalError):Se.complete()}catch{}}),this.observers.push(Se),kt}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,W)}sendOne(W,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Q(this.observers[W])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tr(){}function Te(oe){return oe&&oe._delegate?oe._delegate:oe}},4442:(Mn,St,x)=>{"use strict";x.d(St,{L:()=>z,a:()=>Ae,b:()=>Oe,c:()=>He,d:()=>st,g:()=>qe}),x(5531);const z="ionViewWillEnter",Ae="ionViewDidEnter",Oe="ionViewWillLeave",He="ionViewDidLeave",st="ionViewWillUnload",qe=De=>De.classList.contains("ion-page")?De:De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||De},5531:(Mn,St,x)=>{"use strict";x.d(St,{a:()=>xe,c:()=>s,g:()=>st});class h{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,Y){const ie=this.m.get(De);return void 0!==ie?ie:Y}getBoolean(De,Y=!1){const ie=this.m.get(De);return void 0===ie?Y:"string"==typeof ie?"true"===ie:!!ie}getNumber(De,Y){const ie=parseFloat(this.m.get(De));return isNaN(ie)?void 0!==Y?Y:NaN:ie}set(De,Y){this.m.set(De,Y)}}const s=new h,st=qe=>Ie(qe),xe=(qe,De)=>("string"==typeof qe&&(De=qe,qe=void 0),st(qe).includes(De)),Ie=(qe=window)=>{if(typeof qe>"u")return[];qe.Ionic=qe.Ionic||{};let De=qe.Ionic.platforms;return null==De&&(De=qe.Ionic.platforms=nt(qe),De.forEach(Y=>qe.document.documentElement.classList.add(`plt-${Y}`))),De},nt=qe=>{const De=s.get("platform");return Object.keys(tt).filter(Y=>{const ie=null==De?void 0:De[Y];return"function"==typeof ie?ie(qe):tt[Y](qe)})},Je=qe=>!!(ft(qe,/iPad/i)||ft(qe,/Macintosh/i)&&Me(qe)),mt=qe=>ft(qe,/android|sink/i),Me=qe=>ht(qe,"(any-pointer:coarse)"),Le=qe=>ot(qe)||ut(qe),ot=qe=>!!(qe.cordova||qe.phonegap||qe.PhoneGap),ut=qe=>{const De=qe.Capacitor;return!(null==De||!De.isNative)},ft=(qe,De)=>De.test(qe.navigator.userAgent),ht=(qe,De)=>{var Y;return null===(Y=qe.matchMedia)||void 0===Y?void 0:Y.call(qe,De).matches},tt={ipad:Je,iphone:qe=>ft(qe,/iPhone/i),ios:qe=>ft(qe,/iPhone|iPod/i)||Je(qe),android:mt,phablet:qe=>{const De=qe.innerWidth,Y=qe.innerHeight,ie=Math.min(De,Y),se=Math.max(De,Y);return ie>390&&ie<520&&se>620&&se<800},tablet:qe=>{const De=qe.innerWidth,Y=qe.innerHeight,ie=Math.min(De,Y),se=Math.max(De,Y);return Je(qe)||(qe=>mt(qe)&&!ft(qe,/mobile/i))(qe)||ie>460&&ie<820&&se>780&&se<1400},cordova:ot,capacitor:ut,electron:qe=>ft(qe,/electron/i),pwa:qe=>{var De;return!!(null!==(De=qe.matchMedia)&&void 0!==De&&De.call(qe,"(display-mode: standalone)").matches||qe.navigator.standalone)},mobile:Me,mobileweb:qe=>Me(qe)&&!Le(qe),desktop:qe=>!Me(qe),hybrid:Le}},9986:(Mn,St,x)=>{"use strict";x.d(St,{c:()=>Ae});var h=x(8476);let s;const Ee=(Oe,He,st)=>{const xe=He.startsWith("animation")?(Oe=>(void 0===s&&(s=void 0===Oe.style.animationName&&void 0!==Oe.style.webkitAnimationName?"-webkit-":""),s))(Oe):"";Oe.style.setProperty(xe+He,st)},z=(Oe=[],He)=>{if(void 0!==He){const st=Array.isArray(He)?He:[He];return[...Oe,...st]}return Oe},Ae=Oe=>{let He,st,xe,Ie,nt,Qe,lt,it,he,ft,Vt,Je=[],ct=[],Ct=[],mt=!1,Nt={},wt=[],Me=[],Fe={},Le=0,ot=!1,ut=!1,ht=!0,tt=!1,Ft=!0,cn=!1;const qe=Oe,De=[],Y=[],ie=[],se=[],Ue=[],et=[],Et=[],ze=[],Bt=[],In=[],xt=[],Rn="function"==typeof AnimationEffect||void 0!==h.w&&"function"==typeof h.w.AnimationEffect,Pt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Rn,Pn=()=>xt,Hn=(de,We)=>{const Kt=We.findIndex(gn=>gn.c===de);Kt>-1&&We.splice(Kt,1)},Ne=(de,We)=>((null!=We&&We.oneTimeCallback?Y:De).push({c:de,o:We}),Vt),rn=()=>{Pt&&(xt.forEach(de=>{de.cancel()}),xt.length=0)},Gn=()=>{et.forEach(de=>{null!=de&&de.parentNode&&de.parentNode.removeChild(de)}),et.length=0},Un=()=>void 0!==nt?nt:lt?lt.getFill():"both",qn=()=>void 0!==it?it:void 0!==Qe?Qe:lt?lt.getDirection():"normal",Xn=()=>ot?"linear":void 0!==xe?xe:lt?lt.getEasing():"linear",bi=()=>ut?0:void 0!==he?he:void 0!==st?st:lt?lt.getDuration():0,rr=()=>void 0!==Ie?Ie:lt?lt.getIterations():1,Ii=()=>void 0!==ft?ft:void 0!==He?He:lt?lt.getDelay():0,Fn=()=>{0!==Le&&(Le--,0===Le&&((()=>{Bt.forEach(Dn=>Dn()),In.forEach(Dn=>Dn());const de=ht?1:0,We=wt,Kt=Me,gn=Fe;se.forEach(Dn=>{const Wn=Dn.classList;We.forEach(Mr=>Wn.add(Mr)),Kt.forEach(Mr=>Wn.remove(Mr));for(const Mr in gn)gn.hasOwnProperty(Mr)&&Ee(Dn,Mr,gn[Mr])}),he=void 0,it=void 0,ft=void 0,De.forEach(Dn=>Dn.c(de,Vt)),Y.forEach(Dn=>Dn.c(de,Vt)),Y.length=0,Ft=!0,ht&&(tt=!0),ht=!0})(),lt&&lt.animationFinish()))},vr=()=>{(()=>{Et.forEach(gn=>gn()),ze.forEach(gn=>gn());const de=ct,We=Ct,Kt=Nt;se.forEach(gn=>{const Dn=gn.classList;de.forEach(Wn=>Dn.add(Wn)),We.forEach(Wn=>Dn.remove(Wn));for(const Wn in Kt)Kt.hasOwnProperty(Wn)&&Ee(gn,Wn,Kt[Wn])})})(),Je.length>0&&Pt&&(se.forEach(de=>{const We=de.animate(Je,{id:qe,delay:Ii(),duration:bi(),easing:Xn(),iterations:rr(),fill:Un(),direction:qn()});We.pause(),xt.push(We)}),xt.length>0&&(xt[0].onfinish=()=>{Fn()})),mt=!0},At=de=>{de=Math.min(Math.max(de,0),.9999),Pt&&xt.forEach(We=>{We.currentTime=We.effect.getComputedTiming().delay+bi()*de,We.pause()})},er=de=>{xt.forEach(We=>{We.effect.updateTiming({delay:Ii(),duration:bi(),easing:Xn(),iterations:rr(),fill:Un(),direction:qn()})}),void 0!==de&&At(de)},Jn=(de=!1,We=!0,Kt)=>(de&&Ue.forEach(gn=>{gn.update(de,We,Kt)}),Pt&&er(Kt),Vt),Ei=()=>{mt&&(Pt?xt.forEach(de=>{de.pause()}):se.forEach(de=>{Ee(de,"animation-play-state","paused")}),cn=!0)},po=de=>new Promise(We=>{null!=de&&de.sync&&(ut=!0,Ne(()=>ut=!1,{oneTimeCallback:!0})),mt||vr(),tt&&(Pt&&(At(0),er()),tt=!1),Ft&&(Le=Ue.length+1,Ft=!1);const Kt=()=>{Hn(gn,Y),We()},gn=()=>{Hn(Kt,ie),We()};Ne(gn,{oneTimeCallback:!0}),(de=>{ie.push({c:de,o:{oneTimeCallback:!0}})})(Kt),Ue.forEach(Dn=>{Dn.play()}),Pt?(xt.forEach(de=>{de.play()}),(0===Je.length||0===se.length)&&Fn()):Fn(),cn=!1}),we=(de,We)=>{const Kt=Je[0];return void 0===Kt||void 0!==Kt.offset&&0!==Kt.offset?Je=[{offset:0,[de]:We},...Je]:Kt[de]=We,Vt};return Vt={parentAnimation:lt,elements:se,childAnimations:Ue,id:qe,animationFinish:Fn,from:we,to:(de,We)=>{const Kt=Je[Je.length-1];return void 0===Kt||void 0!==Kt.offset&&1!==Kt.offset?Je=[...Je,{offset:1,[de]:We}]:Kt[de]=We,Vt},fromTo:(de,We,Kt)=>we(de,We).to(de,Kt),parent:de=>(lt=de,Vt),play:po,pause:()=>(Ue.forEach(de=>{de.pause()}),Ei(),Vt),stop:()=>{Ue.forEach(de=>{de.stop()}),mt&&(rn(),mt=!1),ot=!1,ut=!1,Ft=!0,it=void 0,he=void 0,ft=void 0,Le=0,tt=!1,ht=!0,cn=!1,ie.forEach(de=>de.c(0,Vt)),ie.length=0},destroy:de=>(Ue.forEach(We=>{We.destroy(de)}),(de=>{rn(),de&&Gn()})(de),se.length=0,Ue.length=0,Je.length=0,De.length=0,Y.length=0,mt=!1,Ft=!0,Vt),keyframes:de=>{const We=Je!==de;return Je=de,We&&(de=>{Pt&&Pn().forEach(We=>{const Kt=We.effect;if(Kt.setKeyframes)Kt.setKeyframes(de);else{const gn=new KeyframeEffect(Kt.target,de,Kt.getTiming());We.effect=gn}})})(Je),Vt},addAnimation:de=>{if(null!=de)if(Array.isArray(de))for(const We of de)We.parent(Vt),Ue.push(We);else de.parent(Vt),Ue.push(de);return Vt},addElement:de=>{if(null!=de)if(1===de.nodeType)se.push(de);else if(de.length>=0)for(let We=0;We<de.length;We++)se.push(de[We]);else console.error("Invalid addElement value");return Vt},update:Jn,fill:de=>(nt=de,Jn(!0),Vt),direction:de=>(Qe=de,Jn(!0),Vt),iterations:de=>(Ie=de,Jn(!0),Vt),duration:de=>(!Pt&&0===de&&(de=1),st=de,Jn(!0),Vt),easing:de=>(xe=de,Jn(!0),Vt),delay:de=>(He=de,Jn(!0),Vt),getWebAnimations:Pn,getKeyframes:()=>Je,getFill:Un,getDirection:qn,getDelay:Ii,getIterations:rr,getEasing:Xn,getDuration:bi,afterAddRead:de=>(Bt.push(de),Vt),afterAddWrite:de=>(In.push(de),Vt),afterClearStyles:(de=[])=>{for(const We of de)Fe[We]="";return Vt},afterStyles:(de={})=>(Fe=de,Vt),afterRemoveClass:de=>(Me=z(Me,de),Vt),afterAddClass:de=>(wt=z(wt,de),Vt),beforeAddRead:de=>(Et.push(de),Vt),beforeAddWrite:de=>(ze.push(de),Vt),beforeClearStyles:(de=[])=>{for(const We of de)Nt[We]="";return Vt},beforeStyles:(de={})=>(Nt=de,Vt),beforeRemoveClass:de=>(Ct=z(Ct,de),Vt),beforeAddClass:de=>(ct=z(ct,de),Vt),onFinish:Ne,isRunning:()=>0!==Le&&!cn,progressStart:(de=!1,We)=>(Ue.forEach(Kt=>{Kt.progressStart(de,We)}),Ei(),ot=de,mt||vr(),Jn(!1,!0,We),Vt),progressStep:de=>(Ue.forEach(We=>{We.progressStep(de)}),At(de),Vt),progressEnd:(de,We,Kt)=>(ot=!1,Ue.forEach(gn=>{gn.progressEnd(de,We,Kt)}),void 0!==Kt&&(he=Kt),tt=!1,ht=!0,0===de?(it="reverse"===qn()?"normal":"reverse","reverse"===it&&(ht=!1),Pt?(Jn(),At(1-We)):(ft=(1-We)*bi()*-1,Jn(!1,!1))):1===de&&(Pt?(Jn(),At(We)):(ft=We*bi()*-1,Jn(!1,!1))),void 0!==de&&!lt&&po(),Vt)}}},464:(Mn,St,x)=>{"use strict";x.d(St,{E:()=>xe,a:()=>h,s:()=>He});const h=Ie=>{try{if(Ie instanceof Oe)return Ie.value;if(!Ee()||"string"!=typeof Ie||""===Ie)return Ie;if(Ie.includes("onload="))return"";const nt=document.createDocumentFragment(),Qe=document.createElement("div");nt.appendChild(Qe),Qe.innerHTML=Ie,Ae.forEach(mt=>{const lt=nt.querySelectorAll(mt);for(let Nt=lt.length-1;Nt>=0;Nt--){const wt=lt[Nt];wt.parentNode?wt.parentNode.removeChild(wt):nt.removeChild(wt);const Me=V(wt);for(let Fe=0;Fe<Me.length;Fe++)s(Me[Fe])}});const Je=V(nt);for(let mt=0;mt<Je.length;mt++)s(Je[mt]);const ct=document.createElement("div");ct.appendChild(nt);const Ct=ct.querySelector("div");return null!==Ct?Ct.innerHTML:ct.innerHTML}catch(nt){return console.error(nt),""}},s=Ie=>{if(Ie.nodeType&&1!==Ie.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Ie.attributes instanceof NamedNodeMap))return void Ie.remove();for(let Qe=Ie.attributes.length-1;Qe>=0;Qe--){const Je=Ie.attributes.item(Qe),ct=Je.name;if(!z.includes(ct.toLowerCase())){Ie.removeAttribute(ct);continue}const Ct=Je.value,mt=Ie[ct];(null!=Ct&&Ct.toLowerCase().includes("javascript:")||null!=mt&&mt.toLowerCase().includes("javascript:"))&&Ie.removeAttribute(ct)}const nt=V(Ie);for(let Qe=0;Qe<nt.length;Qe++)s(nt[Qe])},V=Ie=>null!=Ie.children?Ie.children:Ie.childNodes,Ee=()=>{var Ie;const nt=window,Qe=null===(Ie=null==nt?void 0:nt.Ionic)||void 0===Ie?void 0:Ie.config;return!Qe||(Qe.get?Qe.get("sanitizerEnabled",!0):!0===Qe.sanitizerEnabled||void 0===Qe.sanitizerEnabled)},z=["class","id","href","src","name","slot"],Ae=["script","style","iframe","meta","link","object","embed"];class Oe{constructor(nt){this.value=nt}}const He=Ie=>{const nt=window,Qe=nt.Ionic;if(!Qe||!Qe.config||"Object"===Qe.config.constructor.name)return nt.Ionic=nt.Ionic||{},nt.Ionic.config=Object.assign(Object.assign({},nt.Ionic.config),Ie),nt.Ionic.config},xe=!1},8621:(Mn,St,x)=>{"use strict";x.d(St,{C:()=>z,a:()=>V,d:()=>Ee});var h=x(467),s=x(4920);const V=function(){var Ae=(0,h.A)(function*(Oe,He,st,xe,Ie,nt){var Qe;if(Oe)return Oe.attachViewToDom(He,st,Ie,xe);if(!(nt||"string"==typeof st||st instanceof HTMLElement))throw new Error("framework delegate is missing");const Je="string"==typeof st?null===(Qe=He.ownerDocument)||void 0===Qe?void 0:Qe.createElement(st):st;return xe&&xe.forEach(ct=>Je.classList.add(ct)),Ie&&Object.assign(Je,Ie),He.appendChild(Je),yield new Promise(ct=>(0,s.c)(Je,ct)),Je});return function(He,st,xe,Ie,nt,Qe){return Ae.apply(this,arguments)}}(),Ee=(Ae,Oe)=>{if(Oe){if(Ae)return Ae.removeViewFromDom(Oe.parentElement,Oe);Oe.remove()}return Promise.resolve()},z=()=>{let Ae,Oe;return{attachViewToDom:function(){var xe=(0,h.A)(function*(Ie,nt,Qe={},Je=[]){var ct,Ct;let mt;if(Ae=Ie,nt){const Nt="string"==typeof nt?null===(ct=Ae.ownerDocument)||void 0===ct?void 0:ct.createElement(nt):nt;Je.forEach(wt=>Nt.classList.add(wt)),Object.assign(Nt,Qe),Ae.appendChild(Nt),mt=Nt,yield new Promise(wt=>(0,s.c)(Nt,wt))}else if(Ae.children.length>0&&("ION-MODAL"===Ae.tagName||"ION-POPOVER"===Ae.tagName)&&!(mt=Ae.children[0]).classList.contains("ion-delegate-host")){const wt=null===(Ct=Ae.ownerDocument)||void 0===Ct?void 0:Ct.createElement("div");wt.classList.add("ion-delegate-host"),Je.forEach(Me=>wt.classList.add(Me)),wt.append(...Ae.children),Ae.appendChild(wt),mt=wt}const lt=document.querySelector("ion-app")||document.body;return Oe=document.createComment("ionic teleport"),Ae.parentNode.insertBefore(Oe,Ae),lt.appendChild(Ae),null!=mt?mt:Ae});return function(nt,Qe){return xe.apply(this,arguments)}}(),removeViewFromDom:()=>(Ae&&Oe&&(Oe.parentNode.insertBefore(Ae,Oe),Oe.remove()),Promise.resolve())}}},1970:(Mn,St,x)=>{"use strict";x.d(St,{B:()=>Ee,G:()=>z});class s{constructor(Oe,He,st,xe,Ie){this.id=He,this.name=st,this.disableScroll=Ie,this.priority=1e6*xe+He,this.ctrl=Oe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Oe=this.ctrl.capture(this.name,this.id,this.priority);return Oe&&this.disableScroll&&this.ctrl.disableScroll(this.id),Oe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class V{constructor(Oe,He,st,xe){this.id=He,this.disable=st,this.disableScroll=xe,this.ctrl=Oe}block(){if(this.ctrl){if(this.disable)for(const Oe of this.disable)this.ctrl.disableGesture(Oe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Oe of this.disable)this.ctrl.enableGesture(Oe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ee="backdrop-no-scroll",z=new class h{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Oe){var He;return new s(this,this.newID(),Oe.name,null!==(He=Oe.priority)&&void 0!==He?He:0,!!Oe.disableScroll)}createBlocker(Oe={}){return new V(this,this.newID(),Oe.disable,!!Oe.disableScroll)}start(Oe,He,st){return this.canStart(Oe)?(this.requestedStart.set(He,st),!0):(this.requestedStart.delete(He),!1)}capture(Oe,He,st){if(!this.start(Oe,He,st))return!1;const xe=this.requestedStart;let Ie=-1e4;if(xe.forEach(nt=>{Ie=Math.max(Ie,nt)}),Ie===st){this.capturedId=He,xe.clear();const nt=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Oe}});return document.dispatchEvent(nt),!0}return xe.delete(He),!1}release(Oe){this.requestedStart.delete(Oe),this.capturedId===Oe&&(this.capturedId=void 0)}disableGesture(Oe,He){let st=this.disabledGestures.get(Oe);void 0===st&&(st=new Set,this.disabledGestures.set(Oe,st)),st.add(He)}enableGesture(Oe,He){const st=this.disabledGestures.get(Oe);void 0!==st&&st.delete(He)}disableScroll(Oe){this.disabledScroll.add(Oe),1===this.disabledScroll.size&&document.body.classList.add(Ee)}enableScroll(Oe){this.disabledScroll.delete(Oe),0===this.disabledScroll.size&&document.body.classList.remove(Ee)}canStart(Oe){return!(void 0!==this.capturedId||this.isDisabled(Oe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Oe){const He=this.disabledGestures.get(Oe);return!!(He&&He.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Mn,St,x)=>{"use strict";x.r(St),x.d(St,{MENU_BACK_BUTTON_PRIORITY:()=>st,OVERLAY_BACK_BUTTON_PRIORITY:()=>He,blockHardwareBackButton:()=>Ae,shouldUseCloseWatcher:()=>z,startHardwareBackButton:()=>Oe});var h=x(467),s=x(8476),V=x(9483);x(4261);const z=()=>V.c.get("experimentalCloseWatcher",!1)&&void 0!==s.w&&"CloseWatcher"in s.w,Ae=()=>{document.addEventListener("backbutton",()=>{})},Oe=()=>{const xe=document;let Ie=!1;const nt=()=>{if(Ie)return;let Qe=0,Je=[];const ct=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(lt,Nt){Je.push({priority:lt,handler:Nt,id:Qe++})}}});xe.dispatchEvent(ct);const Ct=function(){var lt=(0,h.A)(function*(Nt){try{if(null!=Nt&&Nt.handler){const wt=Nt.handler(mt);null!=wt&&(yield wt)}}catch(wt){console.error(wt)}});return function(wt){return lt.apply(this,arguments)}}(),mt=()=>{if(Je.length>0){let lt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Je.forEach(Nt=>{Nt.priority>=lt.priority&&(lt=Nt)}),Ie=!0,Je=Je.filter(Nt=>Nt.id!==lt.id),Ct(lt).then(()=>Ie=!1)}};mt()};if(z()){let Qe;const Je=()=>{null==Qe||Qe.destroy(),Qe=new s.w.CloseWatcher,Qe.onclose=()=>{nt(),Je()}};Je()}else xe.addEventListener("backbutton",nt)},He=100,st=99},4920:(Mn,St,x)=>{"use strict";x.d(St,{a:()=>He,b:()=>st,c:()=>V,d:()=>Je,e:()=>Nt,f:()=>Qe,g:()=>xe,h:()=>z,i:()=>Oe,j:()=>ct,k:()=>Ee,l:()=>nt,m:()=>Ct,n:()=>lt,o:()=>wt,p:()=>mt,r:()=>Ie,s:()=>Me,t:()=>h});const h=(Fe,Le=0)=>new Promise(ot=>{s(Fe,Le,ot)}),s=(Fe,Le=0,ot)=>{let ut,it;const he={passive:!0},ht=()=>{ut&&ut()},tt=Ft=>{(void 0===Ft||Fe===Ft.target)&&(ht(),ot(Ft))};return Fe&&(Fe.addEventListener("webkitTransitionEnd",tt,he),Fe.addEventListener("transitionend",tt,he),it=setTimeout(tt,Le+500),ut=()=>{void 0!==it&&(clearTimeout(it),it=void 0),Fe.removeEventListener("webkitTransitionEnd",tt,he),Fe.removeEventListener("transitionend",tt,he)}),ht},V=(Fe,Le)=>{Fe.componentOnReady?Fe.componentOnReady().then(ot=>Le(ot)):Ie(()=>Le(Fe))},Ee=Fe=>void 0!==Fe.componentOnReady,z=(Fe,Le=[])=>{const ot={};return Le.forEach(ut=>{Fe.hasAttribute(ut)&&(null!==Fe.getAttribute(ut)&&(ot[ut]=Fe.getAttribute(ut)),Fe.removeAttribute(ut))}),ot},Ae=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Oe=(Fe,Le)=>{let ot=Ae;return Le&&Le.length>0&&(ot=ot.filter(ut=>!Le.includes(ut))),z(Fe,ot)},He=(Fe,Le,ot,ut)=>{var it;if(typeof window<"u"){const he=window,ft=null===(it=null==he?void 0:he.Ionic)||void 0===it?void 0:it.config;if(ft){const ht=ft.get("_ael");if(ht)return ht(Fe,Le,ot,ut);if(ft._ael)return ft._ael(Fe,Le,ot,ut)}}return Fe.addEventListener(Le,ot,ut)},st=(Fe,Le,ot,ut)=>{var it;if(typeof window<"u"){const he=window,ft=null===(it=null==he?void 0:he.Ionic)||void 0===it?void 0:it.config;if(ft){const ht=ft.get("_rel");if(ht)return ht(Fe,Le,ot,ut);if(ft._rel)return ft._rel(Fe,Le,ot,ut)}}return Fe.removeEventListener(Le,ot,ut)},xe=(Fe,Le=Fe)=>Fe.shadowRoot||Le,Ie=Fe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Fe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Fe):setTimeout(Fe),nt=Fe=>!!Fe.shadowRoot&&!!Fe.attachShadow,Qe=Fe=>{if(Fe.focus(),Fe.classList.contains("ion-focusable")){const Le=Fe.closest("ion-app");Le&&Le.setFocus([Fe])}},Je=(Fe,Le,ot,ut,it)=>{if(Fe||nt(Le)){let he=Le.querySelector("input.aux-input");he||(he=Le.ownerDocument.createElement("input"),he.type="hidden",he.classList.add("aux-input"),Le.appendChild(he)),he.disabled=it,he.name=ot,he.value=ut||""}},ct=(Fe,Le,ot)=>Math.max(Fe,Math.min(Le,ot)),Ct=(Fe,Le)=>{if(!Fe){const ot="ASSERT: "+Le;throw console.error(ot),new Error(ot)}},mt=Fe=>{if(Fe){const Le=Fe.changedTouches;if(Le&&Le.length>0){const ot=Le[0];return{x:ot.clientX,y:ot.clientY}}if(void 0!==Fe.pageX)return{x:Fe.pageX,y:Fe.pageY}}return{x:0,y:0}},lt=Fe=>{const Le="rtl"===document.dir;switch(Fe){case"start":return Le;case"end":return!Le;default:throw new Error(`"${Fe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Nt=(Fe,Le)=>{const ot=Fe._original||Fe;return{_original:Fe,emit:wt(ot.emit.bind(ot),Le)}},wt=(Fe,Le=0)=>{let ot;return(...ut)=>{clearTimeout(ot),ot=setTimeout(Fe,Le,...ut)}},Me=(Fe,Le)=>{if(null!=Fe||(Fe={}),null!=Le||(Le={}),Fe===Le)return!0;const ot=Object.keys(Fe);if(ot.length!==Object.keys(Le).length)return!1;for(const ut of ot)if(!(ut in Le)||Fe[ut]!==Le[ut])return!1;return!0}},4261:(Mn,St,x)=>{"use strict";x.d(St,{B:()=>Ae,a:()=>Ft,b:()=>te,c:()=>Un,d:()=>rr,e:()=>Bt,f:()=>Jt,g:()=>qn,h:()=>sr,i:()=>bi,j:()=>ri,k:()=>xt,r:()=>st,w:()=>In});var h=x(467);var Ee=Object.defineProperty,Ae={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Oe=new WeakMap,He=X=>Oe.get(X),st=(X,ae)=>Oe.set(ae.$lazyInstance$=X,ae),Ie=(X,ae)=>ae in X,nt=(X,ae)=>(0,console.error)(X,ae),Qe=new Map,ct=new Map,Ct=[],Me="s-id",ut="slot-fb{display:contents}slot-fb[hidden]{display:none}",it="http://www.w3.org/1999/xlink",he=typeof window<"u"?window:{},ft=he.document||{head:{}},tt={$flags$:0,$resourcesUrl$:"",jmp:X=>X(),raf:X=>requestAnimationFrame(X),ael:(X,ae,Ge,Ze)=>X.addEventListener(ae,Ge,Ze),rel:(X,ae,Ge,Ze)=>X.removeEventListener(ae,Ge,Ze),ce:(X,ae)=>new CustomEvent(X,ae)},Ft=X=>{Object.assign(tt,X)},cn=(()=>{let X=!1;try{ft.addEventListener("e",null,Object.defineProperty({},"passive",{get(){X=!0}}))}catch{}return X})(),De=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Y=!1,ie=[],se=[],Ue=(X,ae)=>Ge=>{X.push(Ge),Y||(Y=!0,ae&&4&tt.$flags$?ze(Et):tt.raf(Et))},et=X=>{for(let ae=0;ae<X.length;ae++)try{X[ae](performance.now())}catch(Ge){nt(Ge)}X.length=0},Et=()=>{et(ie),et(se),(Y=ie.length>0)&&tt.raf(Et)},ze=X=>Promise.resolve(void 0).then(X),Bt=Ue(ie,!1),In=Ue(se,!0),xt=X=>{const ae=new URL(X,tt.$resourcesUrl$);return ae.origin!==he.location.origin?ae.href:ae.pathname},Rn={},Ln=X=>"object"==(X=typeof X)||"function"===X;function Qt(X){var ae,Ge,Ze;return null!=(Ze=null==(Ge=null==(ae=X.head)?void 0:ae.querySelector('meta[name="csp-nonce"]'))?void 0:Ge.getAttribute("content"))?Ze:void 0}((X,ae)=>{for(var Ge in ae)Ee(X,Ge,{get:ae[Ge],enumerable:!0})})({},{err:()=>vt,map:()=>Ne,ok:()=>Hn,unwrap:()=>je,unwrapErr:()=>rn});var Hn=X=>({isOk:!0,isErr:!1,value:X}),vt=X=>({isOk:!1,isErr:!0,value:X});function Ne(X,ae){if(X.isOk){const Ge=ae(X.value);return Ge instanceof Promise?Ge.then(Ze=>Hn(Ze)):Hn(Ge)}if(X.isErr)return vt(X.value);throw"should never get here"}var je=X=>{if(X.isOk)return X.value;throw X.value},rn=X=>{if(X.isErr)return X.value;throw X.value},sr=(X,ae,...Ge)=>{let Ze=null,gt=null,pt=null,sn=!1,an=!1;const nn=[],dn=Bn=>{for(let Yn=0;Yn<Bn.length;Yn++)Ze=Bn[Yn],Array.isArray(Ze)?dn(Ze):null!=Ze&&"boolean"!=typeof Ze&&((sn="function"!=typeof X&&!Ln(Ze))&&(Ze=String(Ze)),sn&&an?nn[nn.length-1].$text$+=Ze:nn.push(sn?kn(null,Ze):Ze),an=sn)};if(dn(Ge),ae){ae.key&&(gt=ae.key),ae.name&&(pt=ae.name);{const Bn=ae.className||ae.class;Bn&&(ae.class="object"!=typeof Bn?Bn:Object.keys(Bn).filter(Yn=>Bn[Yn]).join(" "))}}if("function"==typeof X)return X(null===ae?{}:ae,nn,dr);const Nn=kn(X,null);return Nn.$attrs$=ae,nn.length>0&&(Nn.$children$=nn),Nn.$key$=gt,Nn.$name$=pt,Nn},kn=(X,ae)=>({$flags$:0,$tag$:X,$text$:ae,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Jt={},dr={forEach:(X,ae)=>X.map(or).forEach(ae),map:(X,ae)=>X.map(or).map(ae).map(Zn)},or=X=>({vattrs:X.$attrs$,vchildren:X.$children$,vkey:X.$key$,vname:X.$name$,vtag:X.$tag$,vtext:X.$text$}),Zn=X=>{if("function"==typeof X.vtag){const Ge={...X.vattrs};return X.vkey&&(Ge.key=X.vkey),X.vname&&(Ge.name=X.vname),sr(X.vtag,Ge,...X.vchildren||[])}const ae=kn(X.vtag,X.vtext);return ae.$attrs$=X.vattrs,ae.$children$=X.vchildren,ae.$key$=X.vkey,ae.$name$=X.vname,ae},pi=(X,ae,Ge,Ze,gt,pt,sn)=>{let an,nn,dn,Nn;if(1===pt.nodeType){if(an=pt.getAttribute("c-id"),an&&(nn=an.split("."),(nn[0]===sn||"0"===nn[0])&&(dn={$flags$:0,$hostId$:nn[0],$nodeId$:nn[1],$depth$:nn[2],$index$:nn[3],$tag$:pt.tagName.toLowerCase(),$elm$:pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ae.push(dn),pt.removeAttribute("c-id"),X.$children$||(X.$children$=[]),X.$children$[dn.$index$]=dn,X=dn,Ze&&"0"===dn.$depth$&&(Ze[dn.$index$]=dn.$elm$))),pt.shadowRoot)for(Nn=pt.shadowRoot.childNodes.length-1;Nn>=0;Nn--)pi(X,ae,Ge,Ze,gt,pt.shadowRoot.childNodes[Nn],sn);for(Nn=pt.childNodes.length-1;Nn>=0;Nn--)pi(X,ae,Ge,Ze,gt,pt.childNodes[Nn],sn)}else if(8===pt.nodeType)nn=pt.nodeValue.split("."),(nn[1]===sn||"0"===nn[1])&&(an=nn[0],dn={$flags$:0,$hostId$:nn[1],$nodeId$:nn[2],$depth$:nn[3],$index$:nn[4],$elm$:pt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===an?(dn.$elm$=pt.nextSibling,dn.$elm$&&3===dn.$elm$.nodeType&&(dn.$text$=dn.$elm$.textContent,ae.push(dn),pt.remove(),X.$children$||(X.$children$=[]),X.$children$[dn.$index$]=dn,Ze&&"0"===dn.$depth$&&(Ze[dn.$index$]=dn.$elm$))):dn.$hostId$===sn&&("s"===an?(dn.$tag$="slot",pt["s-sn"]=nn[5]?dn.$name$=nn[5]:"",pt["s-sr"]=!0,Ze&&(dn.$elm$=ft.createElement(dn.$tag$),dn.$name$&&dn.$elm$.setAttribute("name",dn.$name$),pt.parentNode.insertBefore(dn.$elm$,pt),pt.remove(),"0"===dn.$depth$&&(Ze[dn.$index$]=dn.$elm$)),Ge.push(dn),X.$children$||(X.$children$=[]),X.$children$[dn.$index$]=dn):"r"===an&&(Ze?pt.remove():(gt["s-cr"]=pt,pt["s-cn"]=!0))));else if(X&&"style"===X.$tag$){const Bn=kn(null,pt.textContent);Bn.$elm$=pt,Bn.$index$="0",X.$children$=[Bn]}},An=(X,ae)=>{if(1===X.nodeType){let Ge=0;if(X.shadowRoot)for(;Ge<X.shadowRoot.childNodes.length;Ge++)An(X.shadowRoot.childNodes[Ge],ae);for(Ge=0;Ge<X.childNodes.length;Ge++)An(X.childNodes[Ge],ae)}else if(8===X.nodeType){const Ge=X.nodeValue.split(".");"o"===Ge[0]&&(ae.set(Ge[1]+"."+Ge[2],X),X.nodeValue="",X["s-en"]=Ge[3])}},Un=X=>Ct.push(X),qn=X=>He(X).$modeName$,bi=X=>He(X).$hostElement$,rr=(X,ae,Ge)=>{const Ze=bi(X);return{emit:gt=>Ii(Ze,ae,{bubbles:!!(4&Ge),composed:!!(2&Ge),cancelable:!!(1&Ge),detail:gt})}},Ii=(X,ae,Ge)=>{const Ze=tt.ce(ae,Ge);return X.dispatchEvent(Ze),Ze},_r=new WeakMap,di=(X,ae,Ge)=>{var Ze;const gt=Tt(ae,Ge),pt=ct.get(gt);if(X=11===X.nodeType?X:ft,pt)if("string"==typeof pt){let an,sn=_r.get(X=X.head||X);if(sn||_r.set(X,sn=new Set),!sn.has(gt)){if(X.host&&(an=X.querySelector(`[sty-id="${gt}"]`)))an.innerHTML=pt;else{an=ft.createElement("style"),an.innerHTML=pt;const nn=null!=(Ze=tt.$nonce$)?Ze:Qt(ft);null!=nn&&an.setAttribute("nonce",nn),(!(1&ae.$flags$)||1&ae.$flags$&&"HEAD"!==X.nodeName)&&X.insertBefore(an,X.querySelector("link"))}4&ae.$flags$&&(an.innerHTML+=ut),sn&&sn.add(gt)}}else X.adoptedStyleSheets.includes(pt)||(X.adoptedStyleSheets=[...X.adoptedStyleSheets,pt]);return gt},Tt=(X,ae)=>"sc-"+(ae&&32&X.$flags$?X.$tagName$+"-"+ae:X.$tagName$),yt=(X,ae,Ge,Ze,gt,pt)=>{if(Ge!==Ze){let sn=Ie(X,ae),an=ae.toLowerCase();if("class"===ae){const nn=X.classList,dn=oe(Ge),Nn=oe(Ze);nn.remove(...dn.filter(Bn=>Bn&&!Nn.includes(Bn))),nn.add(...Nn.filter(Bn=>Bn&&!dn.includes(Bn)))}else if("style"===ae){for(const nn in Ge)(!Ze||null==Ze[nn])&&(nn.includes("-")?X.style.removeProperty(nn):X.style[nn]="");for(const nn in Ze)(!Ge||Ze[nn]!==Ge[nn])&&(nn.includes("-")?X.style.setProperty(nn,Ze[nn]):X.style[nn]=Ze[nn])}else if("key"!==ae)if("ref"===ae)Ze&&Ze(X);else if(sn||"o"!==ae[0]||"n"!==ae[1]){const nn=Ln(Ze);if((sn||nn&&null!==Ze)&&!gt)try{if(X.tagName.includes("-"))X[ae]=Ze;else{const Nn=null==Ze?"":Ze;"list"===ae?sn=!1:(null==Ge||X[ae]!=Nn)&&(X[ae]=Nn)}}catch{}let dn=!1;an!==(an=an.replace(/^xlink\:?/,""))&&(ae=an,dn=!0),null==Ze||!1===Ze?(!1!==Ze||""===X.getAttribute(ae))&&(dn?X.removeAttributeNS(it,ae):X.removeAttribute(ae)):(!sn||4&pt||gt)&&!nn&&(Ze=!0===Ze?"":Ze,dn?X.setAttributeNS(it,ae,Ze):X.setAttribute(ae,Ze))}else if(ae="-"===ae[2]?ae.slice(3):Ie(he,an)?an.slice(2):an[2]+ae.slice(3),Ge||Ze){const nn=ae.endsWith(W);ae=ae.replace(Q,""),Ge&&tt.rel(X,ae,Ge,nn),Ze&&tt.ael(X,ae,Ze,nn)}}},Te=/\s/,oe=X=>X?X.split(Te):[],W="Capture",Q=new RegExp(W+"$"),le=(X,ae,Ge)=>{const Ze=11===ae.$elm$.nodeType&&ae.$elm$.host?ae.$elm$.host:ae.$elm$,gt=X&&X.$attrs$||Rn,pt=ae.$attrs$||Rn;for(const sn of Se(Object.keys(gt)))sn in pt||yt(Ze,sn,gt[sn],void 0,Ge,ae.$flags$);for(const sn of Se(Object.keys(pt)))yt(Ze,sn,gt[sn],pt[sn],Ge,ae.$flags$)};function Se(X){return X.includes("ref")?[...X.filter(ae=>"ref"!==ae),"ref"]:X}var kt,hn,Fn,ir=!1,vr=!1,At=!1,er=!1,Jn=(X,ae,Ge,Ze)=>{var gt;const pt=ae.$children$[Ge];let an,nn,dn,sn=0;if(ir||(At=!0,"slot"===pt.$tag$&&(kt&&Ze.classList.add(kt+"-s"),pt.$flags$|=pt.$children$?2:1)),null!==pt.$text$)an=pt.$elm$=ft.createTextNode(pt.$text$);else if(1&pt.$flags$)an=pt.$elm$=ft.createTextNode("");else{if(er||(er="svg"===pt.$tag$),an=pt.$elm$=ft.createElementNS(er?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!ir&&2&pt.$flags$?"slot-fb":pt.$tag$),er&&"foreignObject"===pt.$tag$&&(er=!1),le(null,pt,er),!!an.getRootNode().querySelector("body")&&(X=>null!=X)(kt)&&an["s-si"]!==kt&&an.classList.add(an["s-si"]=kt),gn(an,Ze),pt.$children$)for(sn=0;sn<pt.$children$.length;++sn)nn=Jn(X,pt,sn,an),nn&&an.appendChild(nn);"svg"===pt.$tag$?er=!1:"foreignObject"===an.tagName&&(er=!0)}return an["s-hn"]=Fn,3&pt.$flags$&&(an["s-sr"]=!0,an["s-cr"]=hn,an["s-sn"]=pt.$name$||"",an["s-rf"]=null==(gt=pt.$attrs$)?void 0:gt.ref,dn=X&&X.$children$&&X.$children$[Ge],dn&&dn.$tag$===pt.$tag$&&X.$elm$&&ei(X.$elm$)),an},ei=X=>{tt.$flags$|=1;const ae=X.closest(Fn.toLowerCase());if(null!=ae){const Ge=Array.from(ae.childNodes).find(gt=>gt["s-cr"]),Ze=Array.from(X.childNodes);for(const gt of Ge?Ze.reverse():Ze)null!=gt["s-sh"]&&(We(ae,gt,null!=Ge?Ge:null),gt["s-sh"]=void 0,At=!0)}tt.$flags$&=-2},Ki=(X,ae)=>{tt.$flags$|=1;const Ge=Array.from(X.childNodes);if(X["s-sr"]){let Ze=X;for(;Ze=Ze.nextSibling;)Ze&&Ze["s-sn"]===X["s-sn"]&&Ze["s-sh"]===Fn&&Ge.push(Ze)}for(let Ze=Ge.length-1;Ze>=0;Ze--){const gt=Ge[Ze];gt["s-hn"]!==Fn&&gt["s-ol"]&&(We(Go(gt),gt,Do(gt)),gt["s-ol"].remove(),gt["s-ol"]=void 0,gt["s-sh"]=void 0,At=!0),ae&&Ki(gt,ae)}tt.$flags$&=-2},co=(X,ae,Ge,Ze,gt,pt)=>{let an,sn=X["s-cr"]&&X["s-cr"].parentNode||X;for(sn.shadowRoot&&sn.tagName===Fn&&(sn=sn.shadowRoot);gt<=pt;++gt)Ze[gt]&&(an=Jn(null,Ge,gt,X),an&&(Ze[gt].$elm$=an,We(sn,an,Do(ae))))},Ei=(X,ae,Ge)=>{for(let Ze=ae;Ze<=Ge;++Ze){const gt=X[Ze];if(gt){const pt=gt.$elm$;de(gt),pt&&(vr=!0,pt["s-ol"]?pt["s-ol"].remove():Ki(pt,!0),pt.remove())}}},Ui=(X,ae,Ge=!1)=>!(X.$tag$!==ae.$tag$||("slot"===X.$tag$?"$nodeId$"in X&&Ge&&8!==X.$elm$.nodeType||X.$name$!==ae.$name$:!Ge&&X.$key$!==ae.$key$)),Do=X=>X&&X["s-ol"]||X,Go=X=>(X["s-ol"]?X["s-ol"]:X).parentNode,po=(X,ae,Ge=!1)=>{const Ze=ae.$elm$=X.$elm$,gt=X.$children$,pt=ae.$children$,sn=ae.$tag$,an=ae.$text$;let nn;null===an?(er="svg"===sn||"foreignObject"!==sn&&er,"slot"!==sn||ir?le(X,ae,er):X.$name$!==ae.$name$&&(ae.$elm$["s-sn"]=ae.$name$||"",ei(ae.$elm$.parentElement)),null!==gt&&null!==pt?((X,ae,Ge,Ze,gt=!1)=>{let Oi,Xr,pt=0,sn=0,an=0,nn=0,dn=ae.length-1,Nn=ae[0],Bn=ae[dn],Yn=Ze.length-1,ar=Ze[0],Ur=Ze[Yn];for(;pt<=dn&&sn<=Yn;)if(null==Nn)Nn=ae[++pt];else if(null==Bn)Bn=ae[--dn];else if(null==ar)ar=Ze[++sn];else if(null==Ur)Ur=Ze[--Yn];else if(Ui(Nn,ar,gt))po(Nn,ar,gt),Nn=ae[++pt],ar=Ze[++sn];else if(Ui(Bn,Ur,gt))po(Bn,Ur,gt),Bn=ae[--dn],Ur=Ze[--Yn];else if(Ui(Nn,Ur,gt))("slot"===Nn.$tag$||"slot"===Ur.$tag$)&&Ki(Nn.$elm$.parentNode,!1),po(Nn,Ur,gt),We(X,Nn.$elm$,Bn.$elm$.nextSibling),Nn=ae[++pt],Ur=Ze[--Yn];else if(Ui(Bn,ar,gt))("slot"===Nn.$tag$||"slot"===Ur.$tag$)&&Ki(Bn.$elm$.parentNode,!1),po(Bn,ar,gt),We(X,Bn.$elm$,Nn.$elm$),Bn=ae[--dn],ar=Ze[++sn];else{for(an=-1,nn=pt;nn<=dn;++nn)if(ae[nn]&&null!==ae[nn].$key$&&ae[nn].$key$===ar.$key$){an=nn;break}an>=0?(Xr=ae[an],Xr.$tag$!==ar.$tag$?Oi=Jn(ae&&ae[sn],Ge,an,X):(po(Xr,ar,gt),ae[an]=void 0,Oi=Xr.$elm$),ar=Ze[++sn]):(Oi=Jn(ae&&ae[sn],Ge,sn,X),ar=Ze[++sn]),Oi&&We(Go(Nn.$elm$),Oi,Do(Nn.$elm$))}pt>dn?co(X,null==Ze[Yn+1]?null:Ze[Yn+1].$elm$,Ge,Ze,sn,Yn):sn>Yn&&Ei(ae,pt,dn)})(Ze,gt,ae,pt,Ge):null!==pt?(null!==X.$text$&&(Ze.textContent=""),co(Ze,null,ae,pt,0,pt.length-1)):!Ge&&null!==gt&&Ei(gt,0,gt.length-1),er&&"svg"===sn&&(er=!1)):(nn=Ze["s-cr"])?nn.parentNode.textContent=an:X.$text$!==an&&(Ze.data=an)},Ye=X=>{const ae=X.childNodes;for(const Ge of ae)if(1===Ge.nodeType){if(Ge["s-sr"]){const Ze=Ge["s-sn"];Ge.hidden=!1;for(const gt of ae)if(gt!==Ge)if(gt["s-hn"]!==Ge["s-hn"]||""!==Ze){if(1===gt.nodeType&&(Ze===gt.getAttribute("slot")||Ze===gt["s-sn"])||3===gt.nodeType&&Ze===gt["s-sn"]){Ge.hidden=!0;break}}else if(1===gt.nodeType||3===gt.nodeType&&""!==gt.textContent.trim()){Ge.hidden=!0;break}}Ye(Ge)}},we=[],bt=X=>{let ae,Ge,Ze;for(const gt of X.childNodes){if(gt["s-sr"]&&(ae=gt["s-cr"])&&ae.parentNode){Ge=ae.parentNode.childNodes;const pt=gt["s-sn"];for(Ze=Ge.length-1;Ze>=0;Ze--)if(ae=Ge[Ze],!(ae["s-cn"]||ae["s-nr"]||ae["s-hn"]===gt["s-hn"]||ae["s-sh"]&&ae["s-sh"]===gt["s-hn"]))if(ge(ae,pt)){let sn=we.find(an=>an.$nodeToRelocate$===ae);vr=!0,ae["s-sn"]=ae["s-sn"]||pt,sn?(sn.$nodeToRelocate$["s-sh"]=gt["s-hn"],sn.$slotRefNode$=gt):(ae["s-sh"]=gt["s-hn"],we.push({$slotRefNode$:gt,$nodeToRelocate$:ae})),ae["s-sr"]&&we.map(an=>{ge(an.$nodeToRelocate$,ae["s-sn"])&&(sn=we.find(nn=>nn.$nodeToRelocate$===ae),sn&&!an.$slotRefNode$&&(an.$slotRefNode$=sn.$slotRefNode$))})}else we.some(sn=>sn.$nodeToRelocate$===ae)||we.push({$nodeToRelocate$:ae})}1===gt.nodeType&&bt(gt)}},ge=(X,ae)=>1===X.nodeType?null===X.getAttribute("slot")&&""===ae||X.getAttribute("slot")===ae:X["s-sn"]===ae||""===ae,de=X=>{X.$attrs$&&X.$attrs$.ref&&X.$attrs$.ref(null),X.$children$&&X.$children$.map(de)},We=(X,ae,Ge)=>{const Ze=null==X?void 0:X.insertBefore(ae,Ge);return gn(ae,X),Ze},Kt=X=>{const ae=[];return X&&ae.push(...X["s-scs"]||[],X["s-si"],X["s-sc"],...Kt(X.parentElement)),ae},gn=(X,ae,Ge=!1)=>{var Ze;if(X&&ae&&1===X.nodeType){const gt=new Set(Kt(ae).filter(Boolean));if(gt.size&&(null==(Ze=X.classList)||Ze.add(...X["s-scs"]=[...gt]),X["s-ol"]||Ge))for(const pt of Array.from(X.childNodes))gn(pt,X,!0)}},Wn=(X,ae)=>{ae&&!X.$onRenderResolve$&&ae["s-p"]&&ae["s-p"].push(new Promise(Ge=>X.$onRenderResolve$=Ge))},Mr=(X,ae)=>{if(X.$flags$|=16,!(4&X.$flags$))return Wn(X,X.$ancestorComponent$),In(()=>wi(X,ae));X.$flags$|=512},wi=(X,ae)=>{const gt=X.$lazyInstance$;if(!gt)throw new Error(`Can't render component <${X.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let pt;return ae&&(X.$flags$|=256,X.$queuedListeners$&&(X.$queuedListeners$.map(([sn,an])=>Qi(gt,sn,an)),X.$queuedListeners$=void 0),pt=Qi(gt,"componentWillLoad")),pt=ji(pt,()=>Qi(gt,"componentWillRender")),ji(pt,()=>Mi(X,gt,ae))},ji=(X,ae)=>fr(X)?X.then(ae).catch(Ge=>{console.error(Ge),ae()}):ae(),fr=X=>X instanceof Promise||X&&X.then&&"function"==typeof X.then,Mi=function(){var X=(0,h.A)(function*(ae,Ge,Ze){var gt;const pt=ae.$hostElement$,an=pt["s-rc"];Ze&&(X=>{const ae=X.$cmpMeta$,Ge=X.$hostElement$,Ze=ae.$flags$,pt=di(Ge.shadowRoot?Ge.shadowRoot:Ge.getRootNode(),ae,X.$modeName$);10&Ze&&2&Ze&&(Ge["s-sc"]=pt,Ge.classList.add(pt+"-h"),2&Ze&&Ge.classList.add(pt+"-s"))})(ae);Zi(ae,Ge,pt,Ze),an&&(an.map(dn=>dn()),pt["s-rc"]=void 0);{const dn=null!=(gt=pt["s-p"])?gt:[],Nn=()=>oo(ae);0===dn.length?Nn():(Promise.all(dn).then(Nn),ae.$flags$|=4,dn.length=0)}});return function(Ge,Ze,gt){return X.apply(this,arguments)}}(),Zi=(X,ae,Ge,Ze)=>{try{ae=ae.render&&ae.render(),X.$flags$&=-17,X.$flags$|=2,((X,ae,Ge=!1)=>{var Ze,gt,pt,sn,an;const nn=X.$hostElement$,dn=X.$cmpMeta$,Nn=X.$vnode$||kn(null,null),Bn=(X=>X&&X.$tag$===Jt)(ae)?ae:sr(null,null,ae);if(Fn=nn.tagName,dn.$attrsToReflect$&&(Bn.$attrs$=Bn.$attrs$||{},dn.$attrsToReflect$.map(([Yn,ar])=>Bn.$attrs$[ar]=nn[Yn])),Ge&&Bn.$attrs$)for(const Yn of Object.keys(Bn.$attrs$))nn.hasAttribute(Yn)&&!["key","ref","style","class"].includes(Yn)&&(Bn.$attrs$[Yn]=nn[Yn]);if(Bn.$tag$=null,Bn.$flags$|=4,X.$vnode$=Bn,Bn.$elm$=Nn.$elm$=nn.shadowRoot||nn,kt=nn["s-sc"],ir=!!(1&dn.$flags$),hn=nn["s-cr"],vr=!1,po(Nn,Bn,Ge),tt.$flags$|=1,At){bt(Bn.$elm$);for(const Yn of we){const ar=Yn.$nodeToRelocate$;if(!ar["s-ol"]){const Ur=ft.createTextNode("");Ur["s-nr"]=ar,We(ar.parentNode,ar["s-ol"]=Ur,ar)}}for(const Yn of we){const ar=Yn.$nodeToRelocate$,Ur=Yn.$slotRefNode$;if(Ur){const Oi=Ur.parentNode;let Xr=Ur.nextSibling;if(Xr&&1===Xr.nodeType){let mi=null==(Ze=ar["s-ol"])?void 0:Ze.previousSibling;for(;mi;){let qr=null!=(gt=mi["s-nr"])?gt:null;if(qr&&qr["s-sn"]===ar["s-sn"]&&Oi===qr.parentNode){for(qr=qr.nextSibling;qr===ar||null!=qr&&qr["s-sr"];)qr=null==qr?void 0:qr.nextSibling;if(!qr||!qr["s-nr"]){Xr=qr;break}}mi=mi.previousSibling}}(!Xr&&Oi!==ar.parentNode||ar.nextSibling!==Xr)&&ar!==Xr&&(We(Oi,ar,Xr),1===ar.nodeType&&(ar.hidden=null!=(pt=ar["s-ih"])&&pt)),ar&&"function"==typeof Ur["s-rf"]&&Ur["s-rf"](ar)}else 1===ar.nodeType&&(Ge&&(ar["s-ih"]=null!=(sn=ar.hidden)&&sn),ar.hidden=!0)}}if(vr&&Ye(Bn.$elm$),tt.$flags$&=-2,we.length=0,2&dn.$flags$)for(const Yn of Bn.$elm$.childNodes)Yn["s-hn"]!==Fn&&!Yn["s-sh"]&&(Ge&&null==Yn["s-ih"]&&(Yn["s-ih"]=null!=(an=Yn.hidden)&&an),Yn.hidden=!0);hn=void 0})(X,ae,Ze)}catch(gt){nt(gt,X.$hostElement$)}return null},oo=X=>{const Ge=X.$hostElement$,gt=X.$lazyInstance$,pt=X.$ancestorComponent$;Qi(gt,"componentDidRender"),64&X.$flags$?Qi(gt,"componentDidUpdate"):(X.$flags$|=64,to(Ge),Qi(gt,"componentDidLoad"),X.$onReadyResolve$(Ge),pt||eo()),X.$onInstanceResolve$(Ge),X.$onRenderResolve$&&(X.$onRenderResolve$(),X.$onRenderResolve$=void 0),512&X.$flags$&&ze(()=>Mr(X,!1)),X.$flags$&=-517},ri=X=>{{const ae=He(X),Ge=ae.$hostElement$.isConnected;return Ge&&2==(18&ae.$flags$)&&Mr(ae,!1),Ge}},eo=X=>{to(ft.documentElement),ze(()=>Ii(he,"appload",{detail:{namespace:"ionic"}}))},Qi=(X,ae,Ge)=>{if(X&&X[ae])try{return X[ae](Ge)}catch(Ze){nt(Ze)}},to=X=>X.classList.add("hydrated"),So=(X,ae,Ge)=>{var Ze,gt;const pt=X.prototype;if(ae.$members$||ae.$watchers$||X.watchers){X.watchers&&!ae.$watchers$&&(ae.$watchers$=X.watchers);const sn=Object.entries(null!=(Ze=ae.$members$)?Ze:{});if(sn.map(([an,[nn]])=>{31&nn||2&Ge&&32&nn?Object.defineProperty(pt,an,{get(){return((X,ae)=>He(this).$instanceValues$.get(ae))(0,an)},set(dn){((X,ae,Ge,Ze)=>{const gt=He(X);if(!gt)throw new Error(`Couldn't find host element for "${Ze.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const pt=gt.$hostElement$,sn=gt.$instanceValues$.get(ae),an=gt.$flags$,nn=gt.$lazyInstance$;Ge=((X,ae)=>null==X||Ln(X)?X:4&ae?"false"!==X&&(""===X||!!X):2&ae?parseFloat(X):1&ae?String(X):X)(Ge,Ze.$members$[ae][0]);const dn=Number.isNaN(sn)&&Number.isNaN(Ge);if((!(8&an)||void 0===sn)&&Ge!==sn&&!dn&&(gt.$instanceValues$.set(ae,Ge),nn)){if(Ze.$watchers$&&128&an){const Bn=Ze.$watchers$[ae];Bn&&Bn.map(Yn=>{try{nn[Yn](Ge,sn,ae)}catch(ar){nt(ar,pt)}})}2==(18&an)&&Mr(gt,!1)}})(this,an,dn,ae)},configurable:!0,enumerable:!0}):1&Ge&&64&nn&&Object.defineProperty(pt,an,{value(...dn){var Nn;const Bn=He(this);return null==(Nn=null==Bn?void 0:Bn.$onInstancePromise$)?void 0:Nn.then(()=>{var Yn;return null==(Yn=Bn.$lazyInstance$)?void 0:Yn[an](...dn)})}})}),1&Ge){const an=new Map;pt.attributeChangedCallback=function(nn,dn,Nn){tt.jmp(()=>{var Bn;const Yn=an.get(nn);if(this.hasOwnProperty(Yn))Nn=this[Yn],delete this[Yn];else{if(pt.hasOwnProperty(Yn)&&"number"==typeof this[Yn]&&this[Yn]==Nn)return;if(null==Yn){const ar=He(this),Ur=null==ar?void 0:ar.$flags$;if(Ur&&!(8&Ur)&&128&Ur&&Nn!==dn){const Oi=ar.$lazyInstance$,Xr=null==(Bn=ae.$watchers$)?void 0:Bn[nn];null==Xr||Xr.forEach(mi=>{null!=Oi[mi]&&Oi[mi].call(Oi,Nn,dn,nn)})}return}}this[Yn]=(null!==Nn||"boolean"!=typeof this[Yn])&&Nn})},X.observedAttributes=Array.from(new Set([...Object.keys(null!=(gt=ae.$watchers$)?gt:{}),...sn.filter(([nn,dn])=>15&dn[0]).map(([nn,dn])=>{var Nn;const Bn=dn[1]||nn;return an.set(Bn,nn),512&dn[0]&&(null==(Nn=ae.$attrsToReflect$)||Nn.push([nn,Bn])),Bn})]))}}return X},Ss=function(){var X=(0,h.A)(function*(ae,Ge,Ze,gt){let pt;if(!(32&Ge.$flags$)){if(Ge.$flags$|=32,Ze.$lazyBundleId$){const dn=(X=>{const Ze=X.$tagName$.replace(/-/g,"_"),gt=X.$lazyBundleId$;if(!gt)return;const pt=Qe.get(gt);return pt?pt[Ze]:x(8996)(`./${gt}.entry.js`).then(sn=>(Qe.set(gt,sn),sn[Ze]),nt)})(Ze);if(dn&&"then"in dn){const Bn=()=>{};pt=yield dn,Bn()}else pt=dn;if(!pt)throw new Error(`Constructor for "${Ze.$tagName$}#${Ge.$modeName$}" was not found`);pt.isProxied||(Ze.$watchers$=pt.watchers,So(pt,Ze,2),pt.isProxied=!0);const Nn=()=>{};Ge.$flags$|=8;try{new pt(Ge)}catch(Bn){nt(Bn)}Ge.$flags$&=-9,Ge.$flags$|=128,Nn(),gs(Ge.$lazyInstance$)}else pt=ae.constructor,customElements.whenDefined(ae.localName).then(()=>Ge.$flags$|=128);if(pt&&pt.style){let dn;"string"==typeof pt.style?dn=pt.style:"string"!=typeof pt.style&&(Ge.$modeName$=(X=>Ct.map(ae=>ae(X)).find(ae=>!!ae))(ae),Ge.$modeName$&&(dn=pt.style[Ge.$modeName$]));const Nn=Tt(Ze,Ge.$modeName$);if(!ct.has(Nn)){const Bn=()=>{};((X,ae,Ge)=>{let Ze=ct.get(X);De&&Ge?(Ze=Ze||new CSSStyleSheet,"string"==typeof Ze?Ze=ae:Ze.replaceSync(ae)):Ze=ae,ct.set(X,Ze)})(Nn,dn,!!(1&Ze.$flags$)),Bn()}}}const sn=Ge.$ancestorComponent$,an=()=>Mr(Ge,!0);sn&&sn["s-rc"]?sn["s-rc"].push(an):an()});return function(Ge,Ze,gt,pt){return X.apply(this,arguments)}}(),gs=X=>{Qi(X,"connectedCallback")},ls=X=>{const ae=X["s-cr"]=ft.createComment("");ae["s-cn"]=!0,We(X,ae,X.firstChild)},ii=X=>{Qi(X,"disconnectedCallback")},Cs=function(){var X=(0,h.A)(function*(ae){if(!(1&tt.$flags$)){const Ge=He(ae);Ge.$rmListeners$&&(Ge.$rmListeners$.map(Ze=>Ze()),Ge.$rmListeners$=void 0),null!=Ge&&Ge.$lazyInstance$?ii(Ge.$lazyInstance$):null!=Ge&&Ge.$onReadyPromise$&&Ge.$onReadyPromise$.then(()=>ii(Ge.$lazyInstance$))}});return function(Ge){return X.apply(this,arguments)}}(),Rs=X=>{const ae=X.cloneNode;X.cloneNode=function(Ge){const Ze=this,gt=Ze.shadowRoot&&true,pt=ae.call(Ze,!!gt&&Ge);if(!gt&&Ge){let an,nn,sn=0;const dn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;sn<Ze.childNodes.length;sn++)an=Ze.childNodes[sn]["s-nr"],nn=dn.every(Nn=>!Ze.childNodes[sn][Nn]),an&&(pt.__appendChild?pt.__appendChild(an.cloneNode(!0)):pt.appendChild(an.cloneNode(!0))),nn&&pt.appendChild(Ze.childNodes[sn].cloneNode(!0))}return pt}},Hs=X=>{X.__appendChild=X.appendChild,X.appendChild=function(ae){const Ge=ae["s-sn"]=Hi(ae),Ze=Wr(this.childNodes,Ge,this.tagName);if(Ze){const gt=O(Ze,Ge),pt=gt[gt.length-1],sn=We(pt.parentNode,ae,pt.nextSibling);return Ye(this),sn}return this.__appendChild(ae)}},Gs=X=>{X.__removeChild=X.removeChild,X.removeChild=function(ae){if(ae&&typeof ae["s-sn"]<"u"){const Ge=Wr(this.childNodes,ae["s-sn"],this.tagName);if(Ge){const gt=O(Ge,ae["s-sn"]).find(pt=>pt===ae);if(gt)return gt.remove(),void Ye(this)}}return this.__removeChild(ae)}},Io=X=>{const ae=X.prepend;X.prepend=function(...Ge){Ge.forEach(Ze=>{"string"==typeof Ze&&(Ze=this.ownerDocument.createTextNode(Ze));const gt=Ze["s-sn"]=Hi(Ze),pt=Wr(this.childNodes,gt,this.tagName);if(pt){const sn=document.createTextNode("");sn["s-nr"]=Ze,pt["s-cr"].parentNode.__appendChild(sn),Ze["s-ol"]=sn;const nn=O(pt,gt)[0];return We(nn.parentNode,Ze,nn.nextSibling)}return 1===Ze.nodeType&&Ze.getAttribute("slot")&&(Ze.hidden=!0),ae.call(this,Ze)})}},gi=X=>{X.append=function(...ae){ae.forEach(Ge=>{"string"==typeof Ge&&(Ge=this.ownerDocument.createTextNode(Ge)),this.appendChild(Ge)})}},As=X=>{const ae=X.insertAdjacentHTML;X.insertAdjacentHTML=function(Ge,Ze){if("afterbegin"!==Ge&&"beforeend"!==Ge)return ae.call(this,Ge,Ze);const gt=this.ownerDocument.createElement("_");let pt;if(gt.innerHTML=Ze,"afterbegin"===Ge)for(;pt=gt.firstChild;)this.prepend(pt);else if("beforeend"===Ge)for(;pt=gt.firstChild;)this.append(pt)}},es=X=>{X.insertAdjacentText=function(ae,Ge){this.insertAdjacentHTML(ae,Ge)}},Vo=X=>{const ae=X.insertAdjacentElement;X.insertAdjacentElement=function(Ge,Ze){return"afterbegin"!==Ge&&"beforeend"!==Ge?ae.call(this,Ge,Ze):"afterbegin"===Ge?(this.prepend(Ze),Ze):("beforeend"===Ge&&this.append(Ze),Ze)}},ta=X=>{const ae=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(X,"__textContent",ae),Object.defineProperty(X,"textContent",{get(){return" "+ts(this.childNodes).map(gt=>{var pt,sn;const an=[];let nn=gt.nextSibling;for(;nn&&nn["s-sn"]===gt["s-sn"];)(3===nn.nodeType||1===nn.nodeType)&&an.push(null!=(sn=null==(pt=nn.textContent)?void 0:pt.trim())?sn:""),nn=nn.nextSibling;return an.filter(dn=>""!==dn).join(" ")}).filter(gt=>""!==gt).join(" ")+" "},set(Ge){ts(this.childNodes).forEach(gt=>{let pt=gt.nextSibling;for(;pt&&pt["s-sn"]===gt["s-sn"];){const sn=pt;pt=pt.nextSibling,sn.remove()}if(""===gt["s-sn"]){const sn=this.ownerDocument.createTextNode(Ge);sn["s-sn"]="",We(gt.parentElement,sn,gt.nextSibling)}else gt.remove()})}})},br=(X,ae)=>{class Ge extends Array{item(gt){return this[gt]}}if(8&ae.$flags$){const Ze=X.__lookupGetter__("childNodes");Object.defineProperty(X,"children",{get(){return this.childNodes.map(gt=>1===gt.nodeType)}}),Object.defineProperty(X,"childElementCount",{get:()=>X.children.length}),Object.defineProperty(X,"childNodes",{get(){const gt=Ze.call(this);if(!(1&tt.$flags$)&&2&He(this).$flags$){const pt=new Ge;for(let sn=0;sn<gt.length;sn++){const an=gt[sn]["s-nr"];an&&pt.push(an)}return pt}return Ge.from(gt)}})}},ts=X=>{const ae=[];for(const Ge of Array.from(X))Ge["s-sr"]&&ae.push(Ge),ae.push(...ts(Ge.childNodes));return ae},Hi=X=>X["s-sn"]||1===X.nodeType&&X.getAttribute("slot")||"",Wr=(X,ae,Ge)=>{let gt,Ze=0;for(;Ze<X.length;Ze++)if(gt=X[Ze],gt["s-sr"]&&gt["s-sn"]===ae&&gt["s-hn"]===Ge||(gt=Wr(gt.childNodes,ae,Ge),gt))return gt;return null},O=(X,ae)=>{const Ge=[X];for(;(X=X.nextSibling)&&X["s-sn"]===ae;)Ge.push(X);return Ge},te=(X,ae={})=>{var Ge;const gt=[],pt=ae.exclude||[],sn=he.customElements,an=ft.head,nn=an.querySelector("meta[charset]"),dn=ft.createElement("style"),Nn=[];let Bn,Yn=!0;Object.assign(tt,ae),tt.$resourcesUrl$=new URL(ae.resourcesUrl||"./",ft.baseURI).href,tt.$flags$|=2;let ar=!1;if(X.map(Ur=>{Ur[1].map(Oi=>{var Xr;const mi={$flags$:Oi[0],$tagName$:Oi[1],$members$:Oi[2],$listeners$:Oi[3]};4&mi.$flags$&&(ar=!0),mi.$members$=Oi[2],mi.$listeners$=Oi[3],mi.$attrsToReflect$=[],mi.$watchers$=null!=(Xr=Oi[4])?Xr:{};const qr=mi.$tagName$,ns=class extends HTMLElement{constructor(mo){if(super(mo),this.hasRegisteredEventListeners=!1,((X,ae)=>{const Ge={$flags$:0,$hostElement$:X,$cmpMeta$:ae,$instanceValues$:new Map};Ge.$onInstancePromise$=new Promise(Ze=>Ge.$onInstanceResolve$=Ze),Ge.$onReadyPromise$=new Promise(Ze=>Ge.$onReadyResolve$=Ze),X["s-p"]=[],X["s-rc"]=[],Oe.set(X,Ge)})(mo=this,mi),1&mi.$flags$)if(mo.shadowRoot){if("open"!==mo.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${mi.$tagName$}! Mode is set to ${mo.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else mo.attachShadow({mode:"open",delegatesFocus:!!(16&mi.$flags$)})}connectedCallback(){const mo=He(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,me(this,mo,mi.$listeners$)),Bn&&(clearTimeout(Bn),Bn=null),Yn?Nn.push(this):tt.jmp(()=>(X=>{if(!(1&tt.$flags$)){const ae=He(X),Ge=ae.$cmpMeta$,Ze=()=>{};if(1&ae.$flags$)me(X,ae,Ge.$listeners$),null!=ae&&ae.$lazyInstance$?gs(ae.$lazyInstance$):null!=ae&&ae.$onReadyPromise$&&ae.$onReadyPromise$.then(()=>gs(ae.$lazyInstance$));else{let gt;if(ae.$flags$|=1,gt=X.getAttribute(Me),gt){if(1&Ge.$flags$){const pt=di(X.shadowRoot,Ge,X.getAttribute("s-mode"));X.classList.remove(pt+"-h",pt+"-s")}((X,ae,Ge,Ze)=>{const pt=X.shadowRoot,sn=[],nn=pt?[]:null,dn=Ze.$vnode$=kn(ae,null);tt.$orgLocNodes$||An(ft.body,tt.$orgLocNodes$=new Map),X[Me]=Ge,X.removeAttribute(Me),pi(dn,sn,[],nn,X,X,Ge),sn.map(Nn=>{const Bn=Nn.$hostId$+"."+Nn.$nodeId$,Yn=tt.$orgLocNodes$.get(Bn),ar=Nn.$elm$;Yn&&""===Yn["s-en"]&&Yn.parentNode.insertBefore(ar,Yn.nextSibling),pt||(ar["s-hn"]=ae,Yn&&(ar["s-ol"]=Yn,ar["s-ol"]["s-nr"]=ar)),tt.$orgLocNodes$.delete(Bn)}),pt&&nn.map(Nn=>{Nn&&pt.appendChild(Nn)})})(X,Ge.$tagName$,gt,ae)}gt||12&Ge.$flags$&&ls(X);{let pt=X;for(;pt=pt.parentNode||pt.host;)if(1===pt.nodeType&&pt.hasAttribute("s-id")&&pt["s-p"]||pt["s-p"]){Wn(ae,ae.$ancestorComponent$=pt);break}}Ge.$members$&&Object.entries(Ge.$members$).map(([pt,[sn]])=>{if(31&sn&&X.hasOwnProperty(pt)){const an=X[pt];delete X[pt],X[pt]=an}}),Ss(X,ae,Ge)}Ze()}})(this))}disconnectedCallback(){tt.jmp(()=>Cs(this))}componentOnReady(){return He(this).$onReadyPromise$}};2&mi.$flags$&&((X,ae)=>{Rs(X),Hs(X),gi(X),Io(X),Vo(X),As(X),es(X),ta(X),br(X,ae),Gs(X)})(ns.prototype,mi),mi.$lazyBundleId$=Ur[0],!pt.includes(qr)&&!sn.get(qr)&&(gt.push(qr),sn.define(qr,So(ns,mi,1)))})}),gt.length>0&&(ar&&(dn.textContent+=ut),dn.textContent+=gt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",dn.innerHTML.length)){dn.setAttribute("data-styles","");const Ur=null!=(Ge=tt.$nonce$)?Ge:Qt(ft);null!=Ur&&dn.setAttribute("nonce",Ur),an.insertBefore(dn,nn?nn.nextSibling:an.firstChild)}Yn=!1,Nn.length?Nn.map(Ur=>Ur.connectedCallback()):tt.jmp(()=>Bn=setTimeout(eo,30))},me=(X,ae,Ge,Ze)=>{Ge&&Ge.map(([gt,pt,sn])=>{const an=Re(X,gt),nn=L(ae,sn),dn=It(gt);tt.ael(an,pt,nn,dn),(ae.$rmListeners$=ae.$rmListeners$||[]).push(()=>tt.rel(an,pt,nn,dn))})},L=(X,ae)=>Ge=>{var Ze;try{256&X.$flags$?null==(Ze=X.$lazyInstance$)||Ze[ae](Ge):(X.$queuedListeners$=X.$queuedListeners$||[]).push([ae,Ge])}catch(gt){nt(gt)}},Re=(X,ae)=>4&ae?ft:8&ae?he:16&ae?ft.body:X,It=X=>cn?{passive:!!(1&X),capture:!!(2&X)}:!!(2&X)},8607:(Mn,St,x)=>{"use strict";x.r(St),x.d(St,{GESTURE_CONTROLLER:()=>h.G,createGesture:()=>st});var h=x(1970);const s=(Qe,Je,ct,Ct)=>{const mt=V(Qe)?{capture:!!Ct.capture,passive:!!Ct.passive}:!!Ct.capture;let lt,Nt;return Qe.__zone_symbol__addEventListener?(lt="__zone_symbol__addEventListener",Nt="__zone_symbol__removeEventListener"):(lt="addEventListener",Nt="removeEventListener"),Qe[lt](Je,ct,mt),()=>{Qe[Nt](Je,ct,mt)}},V=Qe=>{if(void 0===Ee)try{const Je=Object.defineProperty({},"passive",{get:()=>{Ee=!0}});Qe.addEventListener("optsTest",()=>{},Je)}catch{Ee=!1}return!!Ee};let Ee;const Oe=Qe=>Qe instanceof Document?Qe:Qe.ownerDocument,st=Qe=>{let Je=!1,ct=!1,Ct=!0,mt=!1;const lt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Qe),Nt=lt.canStart,wt=lt.onWillStart,Me=lt.onStart,Fe=lt.onEnd,Le=lt.notCaptured,ot=lt.onMove,ut=lt.threshold,it=lt.passive,he=lt.blurOnStart,ft={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ht=((Qe,Je,ct)=>{const Ct=ct*(Math.PI/180),mt="x"===Qe,lt=Math.cos(Ct),Nt=Je*Je;let wt=0,Me=0,Fe=!1,Le=0;return{start(ot,ut){wt=ot,Me=ut,Le=0,Fe=!0},detect(ot,ut){if(!Fe)return!1;const it=ot-wt,he=ut-Me,ft=it*it+he*he;if(ft<Nt)return!1;const ht=Math.sqrt(ft),tt=(mt?it:he)/ht;return Le=tt>lt?1:tt<-lt?-1:0,Fe=!1,!0},isGesture:()=>0!==Le,getDirection:()=>Le}})(lt.direction,lt.threshold,lt.maxAngle),tt=h.G.createGesture({name:Qe.gestureName,priority:Qe.gesturePriority,disableScroll:Qe.disableScroll}),cn=()=>{Je&&(mt=!1,ot&&ot(ft))},qe=()=>!!tt.capture()&&(Je=!0,Ct=!1,ft.startX=ft.currentX,ft.startY=ft.currentY,ft.startTime=ft.currentTime,wt?wt(ft).then(Y):Y(),!0),Y=()=>{he&&(()=>{if(typeof document<"u"){const Et=document.activeElement;null!=Et&&Et.blur&&Et.blur()}})(),Me&&Me(ft),Ct=!0},ie=()=>{Je=!1,ct=!1,mt=!1,Ct=!0,tt.release()},se=Et=>{const ze=Je,Bt=Ct;if(ie(),Bt){if(xe(ft,Et),ze)return void(Fe&&Fe(ft));Le&&Le(ft)}},Ue=((Qe,Je,ct,Ct,mt)=>{let lt,Nt,wt,Me,Fe,Le,ot,ut=0;const it=De=>{ut=Date.now()+2e3,Je(De)&&(!Nt&&ct&&(Nt=s(Qe,"touchmove",ct,mt)),wt||(wt=s(De.target,"touchend",ft,mt)),Me||(Me=s(De.target,"touchcancel",ft,mt)))},he=De=>{ut>Date.now()||Je(De)&&(!Le&&ct&&(Le=s(Oe(Qe),"mousemove",ct,mt)),ot||(ot=s(Oe(Qe),"mouseup",ht,mt)))},ft=De=>{tt(),Ct&&Ct(De)},ht=De=>{Ft(),Ct&&Ct(De)},tt=()=>{Nt&&Nt(),wt&&wt(),Me&&Me(),Nt=wt=Me=void 0},Ft=()=>{Le&&Le(),ot&&ot(),Le=ot=void 0},Vt=()=>{tt(),Ft()},cn=(De=!0)=>{De?(lt||(lt=s(Qe,"touchstart",it,mt)),Fe||(Fe=s(Qe,"mousedown",he,mt))):(lt&&lt(),Fe&&Fe(),lt=Fe=void 0,Vt())};return{enable:cn,stop:Vt,destroy:()=>{cn(!1),Ct=ct=Je=void 0}}})(lt.el,Et=>{const ze=nt(Et);return!(ct||!Ct||(Ie(Et,ft),ft.startX=ft.currentX,ft.startY=ft.currentY,ft.startTime=ft.currentTime=ze,ft.velocityX=ft.velocityY=ft.deltaX=ft.deltaY=0,ft.event=Et,Nt&&!1===Nt(ft))||(tt.release(),!tt.start()))&&(ct=!0,0===ut?qe():(ht.start(ft.startX,ft.startY),!0))},Et=>{Je?!mt&&Ct&&(mt=!0,xe(ft,Et),requestAnimationFrame(cn)):(xe(ft,Et),ht.detect(ft.currentX,ft.currentY)&&(!ht.isGesture()||!qe())&&et())},se,{capture:!1,passive:it}),et=()=>{ie(),Ue.stop(),Le&&Le(ft)};return{enable(Et=!0){Et||(Je&&se(void 0),ie()),Ue.enable(Et)},destroy(){tt.destroy(),Ue.destroy()}}},xe=(Qe,Je)=>{if(!Je)return;const ct=Qe.currentX,Ct=Qe.currentY,mt=Qe.currentTime;Ie(Je,Qe);const lt=Qe.currentX,Nt=Qe.currentY,Me=(Qe.currentTime=nt(Je))-mt;if(Me>0&&Me<100){const Le=(Nt-Ct)/Me;Qe.velocityX=(lt-ct)/Me*.7+.3*Qe.velocityX,Qe.velocityY=.7*Le+.3*Qe.velocityY}Qe.deltaX=lt-Qe.startX,Qe.deltaY=Nt-Qe.startY,Qe.event=Je},Ie=(Qe,Je)=>{let ct=0,Ct=0;if(Qe){const mt=Qe.changedTouches;if(mt&&mt.length>0){const lt=mt[0];ct=lt.clientX,Ct=lt.clientY}else void 0!==Qe.pageX&&(ct=Qe.pageX,Ct=Qe.pageY)}Je.currentX=ct,Je.currentY=Ct},nt=Qe=>Qe.timeStamp||Date.now()},3604:(Mn,St,x)=>{"use strict";x.d(St,{b:()=>He,c:()=>st,d:()=>xe,e:()=>Vt,g:()=>De,l:()=>tt,s:()=>cn,t:()=>lt,w:()=>Ft});var h=x(467),s=x(9483),V=x(4261),Ee=x(4929),z=x(4920);const He="ionViewWillLeave",st="ionViewDidLeave",xe="ionViewWillUnload",Ie=Y=>{Y.tabIndex=-1,Y.focus()},nt=Y=>null!==Y.offsetParent,Je="ion-last-focus",mt_saveViewFocus=se=>{if(s.c.get("focusManagerPriority",!1)){const et=document.activeElement;null!==et&&null!=se&&se.contains(et)&&et.setAttribute(Je,"true")}},mt_setViewFocus=se=>{const Ue=s.c.get("focusManagerPriority",!1);if(Array.isArray(Ue)&&!se.contains(document.activeElement)){const et=se.querySelector(`[${Je}]`);if(et&&nt(et))return void Ie(et);for(const Et of Ue)switch(Et){case"content":const ze=se.querySelector('main, [role="main"]');if(ze&&nt(ze))return void Ie(ze);break;case"heading":const Bt=se.querySelector('h1, [role="heading"][aria-level="1"]');if(Bt&&nt(Bt))return void Ie(Bt);break;case"banner":const In=se.querySelector('header, [role="banner"]');if(In&&nt(In))return void Ie(In);break;default:(0,Ee.p)(`Unrecognized focus manager priority value ${Et}`)}Ie(se)}},lt=Y=>new Promise((ie,se)=>{(0,V.w)(()=>{Nt(Y),wt(Y).then(Ue=>{Ue.animation&&Ue.animation.destroy(),Me(Y),ie(Ue)},Ue=>{Me(Y),se(Ue)})})}),Nt=Y=>{const ie=Y.enteringEl,se=Y.leavingEl;mt_saveViewFocus(se),qe(ie,se,Y.direction),Y.showGoBack?ie.classList.add("can-go-back"):ie.classList.remove("can-go-back"),cn(ie,!1),ie.style.setProperty("pointer-events","none"),se&&(cn(se,!1),se.style.setProperty("pointer-events","none"))},wt=function(){var Y=(0,h.A)(function*(ie){const se=yield Fe(ie);return se&&V.B.isBrowser?Le(se,ie):ot(ie)});return function(se){return Y.apply(this,arguments)}}(),Me=Y=>{const ie=Y.enteringEl,se=Y.leavingEl;ie.classList.remove("ion-page-invisible"),ie.style.removeProperty("pointer-events"),void 0!==se&&(se.classList.remove("ion-page-invisible"),se.style.removeProperty("pointer-events")),mt_setViewFocus(ie)},Fe=function(){var Y=(0,h.A)(function*(ie){return ie.leavingEl&&ie.animated&&0!==ie.duration?ie.animationBuilder?ie.animationBuilder:"ios"===ie.mode?(yield Promise.resolve().then(x.bind(x,5022))).iosTransitionAnimation:(yield Promise.resolve().then(x.bind(x,3615))).mdTransitionAnimation:void 0});return function(se){return Y.apply(this,arguments)}}(),Le=function(){var Y=(0,h.A)(function*(ie,se){yield ut(se,!0);const Ue=ie(se.baseEl,se);ft(se.enteringEl,se.leavingEl);const et=yield he(Ue,se);return se.progressCallback&&se.progressCallback(void 0),et&&ht(se.enteringEl,se.leavingEl),{hasCompleted:et,animation:Ue}});return function(se,Ue){return Y.apply(this,arguments)}}(),ot=function(){var Y=(0,h.A)(function*(ie){const se=ie.enteringEl,Ue=ie.leavingEl,et=s.c.get("focusManagerPriority",!1);return yield ut(ie,et),ft(se,Ue),ht(se,Ue),{hasCompleted:!0}});return function(se){return Y.apply(this,arguments)}}(),ut=function(){var Y=(0,h.A)(function*(ie,se){(void 0!==ie.deepWait?ie.deepWait:se)&&(yield Promise.all([Vt(ie.enteringEl),Vt(ie.leavingEl)])),yield it(ie.viewIsReady,ie.enteringEl)});return function(se,Ue){return Y.apply(this,arguments)}}(),it=function(){var Y=(0,h.A)(function*(ie,se){ie&&(yield ie(se))});return function(se,Ue){return Y.apply(this,arguments)}}(),he=(Y,ie)=>{const se=ie.progressCallback,Ue=new Promise(et=>{Y.onFinish(Et=>et(1===Et))});return se?(Y.progressStart(!0),se(Y)):Y.play(),Ue},ft=(Y,ie)=>{tt(ie,He),tt(Y,"ionViewWillEnter")},ht=(Y,ie)=>{tt(Y,"ionViewDidEnter"),tt(ie,st)},tt=(Y,ie)=>{if(Y){const se=new CustomEvent(ie,{bubbles:!1,cancelable:!1});Y.dispatchEvent(se)}},Ft=()=>new Promise(Y=>(0,z.r)(()=>(0,z.r)(()=>Y()))),Vt=function(){var Y=(0,h.A)(function*(ie){const se=ie;if(se){if(null!=se.componentOnReady){if(null!=(yield se.componentOnReady()))return}else if(null!=se.__registerHost)return void(yield new Promise(et=>(0,z.r)(et)));yield Promise.all(Array.from(se.children).map(Vt))}});return function(se){return Y.apply(this,arguments)}}(),cn=(Y,ie)=>{ie?(Y.setAttribute("aria-hidden","true"),Y.classList.add("ion-page-hidden")):(Y.hidden=!1,Y.removeAttribute("aria-hidden"),Y.classList.remove("ion-page-hidden"))},qe=(Y,ie,se)=>{void 0!==Y&&(Y.style.zIndex="back"===se?"99":"101"),void 0!==ie&&(ie.style.zIndex="100")},De=Y=>Y.classList.contains("ion-page")?Y:Y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Y},4929:(Mn,St,x)=>{"use strict";x.d(St,{a:()=>s,b:()=>V,p:()=>h});const h=(Ee,...z)=>console.warn(`[Ionic Warning]: ${Ee}`,...z),s=(Ee,...z)=>console.error(`[Ionic Error]: ${Ee}`,...z),V=(Ee,...z)=>console.error(`<${Ee.tagName.toLowerCase()}> must be used inside ${z.join(" or ")}.`)},8476:(Mn,St,x)=>{"use strict";x.d(St,{d:()=>s,w:()=>h});const h=typeof window<"u"?window:void 0,s=typeof document<"u"?document:void 0},9568:(Mn,St,x)=>{"use strict";x.d(St,{m:()=>Qe});var h=x(467),s=x(8476),V=x(7192),Ee=x(4929),z=x(4920),Ae=x(9483),Oe=x(9986);const He=Je=>(0,Oe.c)().duration(Je?400:300),st=Je=>{let ct,Ct;const mt=Je.width+8,lt=(0,Oe.c)(),Nt=(0,Oe.c)();Je.isEndSide?(ct=mt+"px",Ct="0px"):(ct=-mt+"px",Ct="0px"),lt.addElement(Je.menuInnerEl).fromTo("transform",`translateX(${ct})`,`translateX(${Ct})`);const Me="ios"===(0,Ae.b)(Je),Fe=Me?.2:.25;return Nt.addElement(Je.backdropEl).fromTo("opacity",.01,Fe),He(Me).addAnimation([lt,Nt])},xe=Je=>{let ct,Ct;const mt=(0,Ae.b)(Je),lt=Je.width;Je.isEndSide?(ct=-lt+"px",Ct=lt+"px"):(ct=lt+"px",Ct=-lt+"px");const Nt=(0,Oe.c)().addElement(Je.menuInnerEl).fromTo("transform",`translateX(${Ct})`,"translateX(0px)"),wt=(0,Oe.c)().addElement(Je.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`),Me=(0,Oe.c)().addElement(Je.backdropEl).fromTo("opacity",.01,.32);return He("ios"===mt).addAnimation([Nt,wt,Me])},Ie=Je=>{const ct=(0,Ae.b)(Je),Ct=Je.width*(Je.isEndSide?-1:1)+"px",mt=(0,Oe.c)().addElement(Je.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ct})`);return He("ios"===ct).addAnimation(mt)},Qe=(()=>{const Je=new Map,ct=[],Ct=function(){var ie=(0,h.A)(function*(se){const Ue=yield Le(se,!0);return!!Ue&&Ue.open()});return function(Ue){return ie.apply(this,arguments)}}(),mt=function(){var ie=(0,h.A)(function*(se){const Ue=yield void 0!==se?Le(se,!0):ot();return void 0!==Ue&&Ue.close()});return function(Ue){return ie.apply(this,arguments)}}(),lt=function(){var ie=(0,h.A)(function*(se){const Ue=yield Le(se,!0);return!!Ue&&Ue.toggle()});return function(Ue){return ie.apply(this,arguments)}}(),Nt=function(){var ie=(0,h.A)(function*(se,Ue){const et=yield Le(Ue);return et&&(et.disabled=!se),et});return function(Ue,et){return ie.apply(this,arguments)}}(),wt=function(){var ie=(0,h.A)(function*(se,Ue){const et=yield Le(Ue);return et&&(et.swipeGesture=se),et});return function(Ue,et){return ie.apply(this,arguments)}}(),Me=function(){var ie=(0,h.A)(function*(se){if(null!=se){const Ue=yield Le(se);return void 0!==Ue&&Ue.isOpen()}return void 0!==(yield ot())});return function(Ue){return ie.apply(this,arguments)}}(),Fe=function(){var ie=(0,h.A)(function*(se){const Ue=yield Le(se);return!!Ue&&!Ue.disabled});return function(Ue){return ie.apply(this,arguments)}}(),Le=function(){var ie=(0,h.A)(function*(se,Ue=!1){if(yield Y(),"start"===se||"end"===se){const Et=ct.filter(Bt=>Bt.side===se&&!Bt.disabled);if(Et.length>=1)return Et.length>1&&Ue&&(0,Ee.p)(`menuController queried for a menu on the "${se}" side, but ${Et.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Et.map(Bt=>Bt.el)),Et[0].el;const ze=ct.filter(Bt=>Bt.side===se);if(ze.length>=1)return ze.length>1&&Ue&&(0,Ee.p)(`menuController queried for a menu on the "${se}" side, but ${ze.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ze.map(Bt=>Bt.el)),ze[0].el}else if(null!=se)return De(Et=>Et.menuId===se);return De(Et=>!Et.disabled)||(ct.length>0?ct[0].el:void 0)});return function(Ue){return ie.apply(this,arguments)}}(),ot=function(){var ie=(0,h.A)(function*(){return yield Y(),Vt()});return function(){return ie.apply(this,arguments)}}(),ut=function(){var ie=(0,h.A)(function*(){return yield Y(),cn()});return function(){return ie.apply(this,arguments)}}(),it=function(){var ie=(0,h.A)(function*(){return yield Y(),qe()});return function(){return ie.apply(this,arguments)}}(),he=(ie,se)=>{Je.set(ie,se)},tt=function(){var ie=(0,h.A)(function*(se,Ue,et){if(qe())return!1;if(Ue){const Et=yield ot();Et&&se.el!==Et&&(yield Et.setOpen(!1,!1))}return se._setOpen(Ue,et)});return function(Ue,et,Et){return ie.apply(this,arguments)}}(),Vt=()=>De(ie=>ie._isOpen),cn=()=>ct.map(ie=>ie.el),qe=()=>ct.some(ie=>ie.isAnimating),De=ie=>{const se=ct.find(ie);if(void 0!==se)return se.el},Y=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ie=>new Promise(se=>(0,z.c)(ie,se))));return he("reveal",Ie),he("push",xe),he("overlay",st),null==s.d||s.d.addEventListener("ionBackButton",ie=>{const se=Vt();se&&ie.detail.register(V.MENU_BACK_BUTTON_PRIORITY,()=>se.close())}),{registerAnimation:he,get:Le,getMenus:ut,getOpen:ot,isEnabled:Fe,swipeGesture:wt,isAnimating:it,isOpen:Me,enable:Nt,toggle:lt,close:mt,open:Ct,_getOpenSync:Vt,_createAnimation:(ie,se)=>{const Ue=Je.get(ie);if(!Ue)throw new Error("animation not registered");return Ue(se)},_register:ie=>{ct.indexOf(ie)<0&&ct.push(ie)},_unregister:ie=>{const se=ct.indexOf(ie);se>-1&&ct.splice(se,1)},_setOpen:tt}})()},9483:(Mn,St,x)=>{"use strict";x.d(St,{a:()=>Ie,b:()=>cn,c:()=>V,i:()=>qe});var h=x(4261);class s{constructor(){this.m=new Map}reset(Y){this.m=new Map(Object.entries(Y))}get(Y,ie){const se=this.m.get(Y);return void 0!==se?se:ie}getBoolean(Y,ie=!1){const se=this.m.get(Y);return void 0===se?ie:"string"==typeof se?"true"===se:!!se}getNumber(Y,ie){const se=parseFloat(this.m.get(Y));return isNaN(se)?void 0!==ie?ie:NaN:se}set(Y,ie){this.m.set(Y,ie)}}const V=new s,st="ionic-persist-config",Ie=(De,Y)=>("string"==typeof De&&(Y=De,De=void 0),(De=>nt(De))(De).includes(Y)),nt=(De=window)=>{if(typeof De>"u")return[];De.Ionic=De.Ionic||{};let Y=De.Ionic.platforms;return null==Y&&(Y=De.Ionic.platforms=Qe(De),Y.forEach(ie=>De.document.documentElement.classList.add(`plt-${ie}`))),Y},Qe=De=>{const Y=V.get("platform");return Object.keys(Ft).filter(ie=>{const se=null==Y?void 0:Y[ie];return"function"==typeof se?se(De):Ft[ie](De)})},ct=De=>!!(ht(De,/iPad/i)||ht(De,/Macintosh/i)&&Fe(De)),lt=De=>ht(De,/android|sink/i),Fe=De=>tt(De,"(any-pointer:coarse)"),ot=De=>ut(De)||it(De),ut=De=>!!(De.cordova||De.phonegap||De.PhoneGap),it=De=>{const Y=De.Capacitor;return!(null==Y||!Y.isNative)},ht=(De,Y)=>Y.test(De.navigator.userAgent),tt=(De,Y)=>{var ie;return null===(ie=De.matchMedia)||void 0===ie?void 0:ie.call(De,Y).matches},Ft={ipad:ct,iphone:De=>ht(De,/iPhone/i),ios:De=>ht(De,/iPhone|iPod/i)||ct(De),android:lt,phablet:De=>{const Y=De.innerWidth,ie=De.innerHeight,se=Math.min(Y,ie),Ue=Math.max(Y,ie);return se>390&&se<520&&Ue>620&&Ue<800},tablet:De=>{const Y=De.innerWidth,ie=De.innerHeight,se=Math.min(Y,ie),Ue=Math.max(Y,ie);return ct(De)||(De=>lt(De)&&!ht(De,/mobile/i))(De)||se>460&&se<820&&Ue>780&&Ue<1400},cordova:ut,capacitor:it,electron:De=>ht(De,/electron/i),pwa:De=>{var Y;return!!(null!==(Y=De.matchMedia)&&void 0!==Y&&Y.call(De,"(display-mode: standalone)").matches||De.navigator.standalone)},mobile:Fe,mobileweb:De=>Fe(De)&&!ot(De),desktop:De=>!Fe(De),hybrid:ot};let Vt;const cn=De=>De&&(0,h.g)(De)||Vt,qe=(De={})=>{if(typeof window>"u")return;const Y=window.document,ie=window,se=ie.Ionic=ie.Ionic||{},Ue={};De._ael&&(Ue.ael=De._ael),De._rel&&(Ue.rel=De._rel),De._ce&&(Ue.ce=De._ce),(0,h.a)(Ue);const et=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(De=>{try{const Y=De.sessionStorage.getItem(st);return null!==Y?JSON.parse(Y):{}}catch{return{}}})(ie)),{persistConfig:!1}),se.config),(De=>{const Y={};return De.location.search.slice(1).split("&").map(ie=>ie.split("=")).map(([ie,se])=>{try{return[decodeURIComponent(ie),decodeURIComponent(se)]}catch{return["",""]}}).filter(([ie])=>((De,Y)=>De.substr(0,Y.length)===Y)(ie,"ionic:")).map(([ie,se])=>[ie.slice(6),se]).forEach(([ie,se])=>{Y[ie]=se}),Y})(ie)),De);V.reset(et),V.getBoolean("persistConfig")&&((De,Y)=>{try{De.sessionStorage.setItem(st,JSON.stringify(Y))}catch{return}})(ie,et),nt(ie),se.config=V,se.mode=Vt=V.get("mode",Y.documentElement.getAttribute("mode")||(Ie(ie,"ios")?"ios":"md")),V.set("mode",Vt),Y.documentElement.setAttribute("mode",Vt),Y.documentElement.classList.add(Vt),V.getBoolean("_testing")&&V.set("animated",!1);const Et=Bt=>{var In;return null===(In=Bt.tagName)||void 0===In?void 0:In.startsWith("ION-")},ze=Bt=>["ios","md"].includes(Bt);(0,h.c)(Bt=>{for(;Bt;){const In=Bt.mode||Bt.getAttribute("mode");if(In){if(ze(In))return In;Et(Bt)&&console.warn('Invalid ionic mode: "'+In+'", expected: "ios" or "md"')}Bt=Bt.parentElement}return Vt})}},5022:(Mn,St,x)=>{"use strict";x.r(St),x.d(St,{iosTransitionAnimation:()=>Je,shadow:()=>He});var h=x(9986),s=x(3604);x(8476),x(9483),x(4261);const Oe=Ct=>document.querySelector(`${Ct}.ion-cloned-element`),He=Ct=>Ct.shadowRoot||Ct,st=Ct=>{const mt="ION-TABS"===Ct.tagName?Ct:Ct.querySelector("ion-tabs"),lt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=mt){const Nt=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Nt?Nt.querySelector(lt):null}return Ct.querySelector(lt)},xe=(Ct,mt)=>{const lt="ION-TABS"===Ct.tagName?Ct:Ct.querySelector("ion-tabs");let Nt=[];if(null!=lt){const wt=lt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=wt&&(Nt=wt.querySelectorAll("ion-buttons"))}else Nt=Ct.querySelectorAll("ion-buttons");for(const wt of Nt){const Me=wt.closest("ion-header"),Fe=Me&&!Me.classList.contains("header-collapse-condense-inactive"),Le=wt.querySelector("ion-back-button"),ot=wt.classList.contains("buttons-collapse");if(null!==Le&&("start"===wt.slot||""===wt.slot)&&(ot&&Fe&&mt||!ot))return Le}return null},nt=(Ct,mt,lt,Nt,wt,Me,Fe,Le,ot)=>{var ut,it;const he=mt?`calc(100% - ${wt.right+4}px)`:wt.left-4+"px",ft=mt?"right":"left",ht=mt?"left":"right",tt=mt?"right":"left";let Ft=1,Vt=1,cn=`scale(${Vt})`;const qe="scale(1)";if(Me&&Fe){const je=(null===(ut=Me.textContent)||void 0===ut?void 0:ut.trim())===(null===(it=Le.textContent)||void 0===it?void 0:it.trim());Ft=ot.width/Fe.width,Vt=(ot.height-ct)/Fe.height,cn=je?`scale(${Ft}, ${Vt})`:`scale(${Vt})`}const Y=He(Nt).querySelector("ion-icon").getBoundingClientRect(),ie=mt?Y.width/2-(Y.right-wt.right)+"px":wt.left-Y.width/2+"px",se=mt?`-${window.innerWidth-wt.right}px`:`${wt.left}px`,Ue=`${ot.top}px`,et=`${wt.top}px`,Bt=lt?[{offset:0,transform:`translate3d(${se}, ${et}, 0)`},{offset:1,transform:`translate3d(${ie}, ${Ue}, 0)`}]:[{offset:0,transform:`translate3d(${ie}, ${Ue}, 0)`},{offset:1,transform:`translate3d(${se}, ${et}, 0)`}],Rn=lt?[{offset:0,opacity:1,transform:qe},{offset:1,opacity:0,transform:cn}]:[{offset:0,opacity:0,transform:cn},{offset:1,opacity:1,transform:qe}],Sn=lt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ln=(0,h.c)(),Qt=(0,h.c)(),Yt=(0,h.c)(),Hn=Oe("ion-back-button"),vt=He(Hn).querySelector(".button-text"),Ne=He(Hn).querySelector("ion-icon");Hn.text=Nt.text,Hn.mode=Nt.mode,Hn.icon=Nt.icon,Hn.color=Nt.color,Hn.disabled=Nt.disabled,Hn.style.setProperty("display","block"),Hn.style.setProperty("position","fixed"),Qt.addElement(Ne),Ln.addElement(vt),Yt.addElement(Hn),Yt.beforeStyles({position:"absolute",top:"0px",[tt]:"0px"}).beforeAddWrite(()=>{Nt.style.setProperty("display","none"),Hn.style.setProperty(ft,he)}).afterAddWrite(()=>{Nt.style.setProperty("display",""),Hn.style.setProperty("display","none"),Hn.style.removeProperty(ft)}).keyframes(Bt),Ln.beforeStyles({"transform-origin":`${ft} top`}).keyframes(Rn),Qt.beforeStyles({"transform-origin":`${ht} center`}).keyframes(Sn),Ct.addAnimation([Ln,Qt,Yt])},Qe=(Ct,mt,lt,Nt,wt,Me,Fe,Le,ot)=>{var ut,it;const he=mt?"right":"left",ft=mt?`calc(100% - ${wt.right}px)`:`${wt.left}px`,tt=`${wt.top}px`;let Vt=mt?`-${window.innerWidth-Fe.right-8}px`:`${Fe.x+8}px`,cn=.5;const qe="scale(1)";let De=`scale(${cn})`;if(Le&&ot){Vt=mt?`-${window.innerWidth-ot.right-8}px`:ot.x-8+"px";const In=(null===(ut=Le.textContent)||void 0===ut?void 0:ut.trim())===(null===(it=Nt.textContent)||void 0===it?void 0:it.trim());cn=ot.height/(Me.height-ct),De=In?`scale(${ot.width/Me.width}, ${cn})`:`scale(${cn})`}const se=Fe.top+Fe.height/2-wt.height*cn/2+"px",Et=lt?[{offset:0,opacity:0,transform:`translate3d(${Vt}, ${se}, 0) ${De}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${tt}, 0) ${qe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${tt}, 0) ${qe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Vt}, ${se}, 0) ${De}`}],ze=Oe("ion-title"),Bt=(0,h.c)();ze.innerText=Nt.innerText,ze.size=Nt.size,ze.color=Nt.color,Bt.addElement(ze),Bt.beforeStyles({"transform-origin":`${he} top`,height:`${wt.height}px`,display:"",position:"relative",[he]:ft}).beforeAddWrite(()=>{Nt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Nt.style.setProperty("opacity",""),ze.style.setProperty("display","none")}).keyframes(Et),Ct.addAnimation(Bt)},Je=(Ct,mt)=>{var lt;try{const Nt="cubic-bezier(0.32,0.72,0,1)",wt="opacity",Me="transform",Fe="0%",ot="rtl"===Ct.ownerDocument.dir,ut=ot?"-99.5%":"99.5%",it=ot?"33%":"-33%",he=mt.enteringEl,ft=mt.leavingEl,ht="back"===mt.direction,tt=he.querySelector(":scope > ion-content"),Ft=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Vt=he.querySelectorAll(":scope > ion-header > ion-toolbar"),cn=(0,h.c)(),qe=(0,h.c)();if(cn.addElement(he).duration((null!==(lt=mt.duration)&&void 0!==lt?lt:0)||540).easing(mt.easing||Nt).fill("both").beforeRemoveClass("ion-page-invisible"),ft&&null!=Ct){const se=(0,h.c)();se.addElement(Ct),cn.addAnimation(se)}if(tt||0!==Vt.length||0!==Ft.length?(qe.addElement(tt),qe.addElement(Ft)):qe.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),cn.addAnimation(qe),ht?qe.beforeClearStyles([wt]).fromTo("transform",`translateX(${it})`,`translateX(${Fe})`).fromTo(wt,.8,1):qe.beforeClearStyles([wt]).fromTo("transform",`translateX(${ut})`,`translateX(${Fe})`),tt){const se=He(tt).querySelector(".transition-effect");if(se){const Ue=se.querySelector(".transition-cover"),et=se.querySelector(".transition-shadow"),Et=(0,h.c)(),ze=(0,h.c)(),Bt=(0,h.c)();Et.addElement(se).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ze.addElement(Ue).beforeClearStyles([wt]).fromTo(wt,0,.1),Bt.addElement(et).beforeClearStyles([wt]).fromTo(wt,.03,.7),Et.addAnimation([ze,Bt]),qe.addAnimation([Et])}}const De=he.querySelector("ion-header.header-collapse-condense"),{forward:Y,backward:ie}=((Ct,mt,lt,Nt,wt)=>{const Me=xe(Nt,lt),Fe=st(wt),Le=st(Nt),ot=xe(wt,lt),ut=null!==Me&&null!==Fe&&!lt,it=null!==Le&&null!==ot&&lt;if(ut){const he=Fe.getBoundingClientRect(),ft=Me.getBoundingClientRect(),ht=He(Me).querySelector(".button-text"),tt=null==ht?void 0:ht.getBoundingClientRect(),Vt=He(Fe).querySelector(".toolbar-title").getBoundingClientRect();Qe(Ct,mt,lt,Fe,he,Vt,ft,ht,tt),nt(Ct,mt,lt,Me,ft,ht,tt,Fe,Vt)}else if(it){const he=Le.getBoundingClientRect(),ft=ot.getBoundingClientRect(),ht=He(ot).querySelector(".button-text"),tt=null==ht?void 0:ht.getBoundingClientRect(),Vt=He(Le).querySelector(".toolbar-title").getBoundingClientRect();Qe(Ct,mt,lt,Le,he,Vt,ft,ht,tt),nt(Ct,mt,lt,ot,ft,ht,tt,Le,Vt)}return{forward:ut,backward:it}})(cn,ot,ht,he,ft);if(Vt.forEach(se=>{const Ue=(0,h.c)();Ue.addElement(se),cn.addAnimation(Ue);const et=(0,h.c)();et.addElement(se.querySelector("ion-title"));const Et=(0,h.c)(),ze=Array.from(se.querySelectorAll("ion-buttons,[menuToggle]")),Bt=se.closest("ion-header"),In=null==Bt?void 0:Bt.classList.contains("header-collapse-condense-inactive");let xt;xt=ze.filter(ht?Ln=>{const Qt=Ln.classList.contains("buttons-collapse");return Qt&&!In||!Qt}:Ln=>!Ln.classList.contains("buttons-collapse")),Et.addElement(xt);const Rn=(0,h.c)();Rn.addElement(se.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Pt=(0,h.c)();Pt.addElement(He(se).querySelector(".toolbar-background"));const Pn=(0,h.c)(),Sn=se.querySelector("ion-back-button");if(Sn&&Pn.addElement(Sn),Ue.addAnimation([et,Et,Rn,Pt,Pn]),Et.fromTo(wt,.01,1),Rn.fromTo(wt,.01,1),ht)In||et.fromTo("transform",`translateX(${it})`,`translateX(${Fe})`).fromTo(wt,.01,1),Rn.fromTo("transform",`translateX(${it})`,`translateX(${Fe})`),Pn.fromTo(wt,.01,1);else if(De||et.fromTo("transform",`translateX(${ut})`,`translateX(${Fe})`).fromTo(wt,.01,1),Rn.fromTo("transform",`translateX(${ut})`,`translateX(${Fe})`),Pt.beforeClearStyles([wt,"transform"]),(null==Bt?void 0:Bt.translucent)?Pt.fromTo("transform",ot?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Pt.fromTo(wt,.01,"var(--opacity)"),Y||Pn.fromTo(wt,.01,1),Sn&&!Y){const Qt=(0,h.c)();Qt.addElement(He(Sn).querySelector(".button-text")).fromTo("transform",ot?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ue.addAnimation(Qt)}}),ft){const se=(0,h.c)(),Ue=ft.querySelector(":scope > ion-content"),et=ft.querySelectorAll(":scope > ion-header > ion-toolbar"),Et=ft.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ue||0!==et.length||0!==Et.length?(se.addElement(Ue),se.addElement(Et)):se.addElement(ft.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),cn.addAnimation(se),ht){se.beforeClearStyles([wt]).fromTo("transform",`translateX(${Fe})`,ot?"translateX(-100%)":"translateX(100%)");const ze=(0,s.g)(ft);cn.afterAddWrite(()=>{"normal"===cn.getDirection()&&ze.style.setProperty("display","none")})}else se.fromTo("transform",`translateX(${Fe})`,`translateX(${it})`).fromTo(wt,1,.8);if(Ue){const ze=He(Ue).querySelector(".transition-effect");if(ze){const Bt=ze.querySelector(".transition-cover"),In=ze.querySelector(".transition-shadow"),xt=(0,h.c)(),Rn=(0,h.c)(),Pt=(0,h.c)();xt.addElement(ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Rn.addElement(Bt).beforeClearStyles([wt]).fromTo(wt,.1,0),Pt.addElement(In).beforeClearStyles([wt]).fromTo(wt,.7,.03),xt.addAnimation([Rn,Pt]),se.addAnimation([xt])}}et.forEach(ze=>{const Bt=(0,h.c)();Bt.addElement(ze);const In=(0,h.c)();In.addElement(ze.querySelector("ion-title"));const xt=(0,h.c)(),Rn=ze.querySelectorAll("ion-buttons,[menuToggle]"),Pt=ze.closest("ion-header"),Pn=null==Pt?void 0:Pt.classList.contains("header-collapse-condense-inactive"),Sn=Array.from(Rn).filter(Ne=>{const je=Ne.classList.contains("buttons-collapse");return je&&!Pn||!je});xt.addElement(Sn);const Ln=(0,h.c)(),Qt=ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Qt.length>0&&Ln.addElement(Qt);const Yt=(0,h.c)();Yt.addElement(He(ze).querySelector(".toolbar-background"));const Hn=(0,h.c)(),vt=ze.querySelector("ion-back-button");if(vt&&Hn.addElement(vt),Bt.addAnimation([In,xt,Ln,Hn,Yt]),cn.addAnimation(Bt),Hn.fromTo(wt,.99,0),xt.fromTo(wt,.99,0),Ln.fromTo(wt,.99,0),ht){if(Pn||In.fromTo("transform",`translateX(${Fe})`,ot?"translateX(-100%)":"translateX(100%)").fromTo(wt,.99,0),Ln.fromTo("transform",`translateX(${Fe})`,ot?"translateX(-100%)":"translateX(100%)"),Yt.beforeClearStyles([wt,"transform"]),(null==Pt?void 0:Pt.translucent)?Yt.fromTo("transform","translateX(0px)",ot?"translateX(-100%)":"translateX(100%)"):Yt.fromTo(wt,"var(--opacity)",0),vt&&!ie){const je=(0,h.c)();je.addElement(He(vt).querySelector(".button-text")).fromTo("transform",`translateX(${Fe})`,`translateX(${(ot?-124:124)+"px"})`),Bt.addAnimation(je)}}else Pn||In.fromTo("transform",`translateX(${Fe})`,`translateX(${it})`).fromTo(wt,.99,0).afterClearStyles([Me,wt]),Ln.fromTo("transform",`translateX(${Fe})`,`translateX(${it})`).afterClearStyles([Me,wt]),Hn.afterClearStyles([wt]),In.afterClearStyles([wt]),xt.afterClearStyles([wt])})}return cn}catch(Nt){throw Nt}},ct=10},3615:(Mn,St,x)=>{"use strict";x.r(St),x.d(St,{mdTransitionAnimation:()=>Ae});var h=x(9986),s=x(3604);x(8476),x(9483),x(4261);const Ae=(Oe,He)=>{var st,xe,Ie;const Je="back"===He.direction,Ct=He.leavingEl,mt=(0,s.g)(He.enteringEl),lt=mt.querySelector("ion-toolbar"),Nt=(0,h.c)();if(Nt.addElement(mt).fill("both").beforeRemoveClass("ion-page-invisible"),Je?Nt.duration((null!==(st=He.duration)&&void 0!==st?st:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Nt.duration((null!==(xe=He.duration)&&void 0!==xe?xe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),lt){const wt=(0,h.c)();wt.addElement(lt),Nt.addAnimation(wt)}if(Ct&&Je){Nt.duration((null!==(Ie=He.duration)&&void 0!==Ie?Ie:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const wt=(0,h.c)();wt.addElement((0,s.g)(Ct)).onFinish(Me=>{1===Me&&wt.elements.length>0&&wt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Nt.addAnimation(wt)}return Nt}},9440:(Mn,St,x)=>{"use strict";x.d(St,{B:()=>Rn,F:()=>Hn,G:()=>Pt,O:()=>Pn,a:()=>mt,b:()=>lt,c:()=>Fe,d:()=>Sn,e:()=>Ln,f:()=>Y,g:()=>se,h:()=>Et,i:()=>Bt,j:()=>ot,k:()=>ut,m:()=>wt,n:()=>xe,o:()=>qe,q:()=>Ie,s:()=>xt});var h=x(467),s=x(8476),V=x(4920),Ee=x(7192),z=x(9483),Ae=x(8621),Oe=x(1970),He=x(4929);const st='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',xe=(vt,Ne)=>{const je=vt.querySelector(st);nt(je,null!=Ne?Ne:vt)},Ie=(vt,Ne)=>{const je=Array.from(vt.querySelectorAll(st));nt(je.length>0?je[je.length-1]:null,null!=Ne?Ne:vt)},nt=(vt,Ne)=>{let je=vt;const rn=null==vt?void 0:vt.shadowRoot;rn&&(je=rn.querySelector(st)||vt),je?(0,V.f)(je):Ne.focus()};let Qe=0,Je=0;const ct=new WeakMap,Ct=vt=>({create:Ne=>it(vt,Ne),dismiss:(Ne,je,rn)=>Ft(document,Ne,je,vt,rn),getTop:()=>(0,h.A)(function*(){return qe(document,vt)})()}),mt=Ct("ion-alert"),lt=Ct("ion-action-sheet"),wt=Ct("ion-modal"),Fe=Ct("ion-popover"),ot=vt=>{typeof document<"u"&&tt(document);const Ne=Qe++;vt.overlayIndex=Ne},ut=vt=>(vt.hasAttribute("id")||(vt.id="ion-overlay-"+ ++Je),vt.id),it=(vt,Ne)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(vt).then(()=>{const je=document.createElement(vt);return je.classList.add("overlay-hidden"),Object.assign(je,Object.assign(Object.assign({},Ne),{hasController:!0})),Ue(document).appendChild(je),new Promise(rn=>(0,V.c)(je,rn))}):Promise.resolve(),ft=(vt,Ne)=>{let je=vt;const rn=null==vt?void 0:vt.shadowRoot;rn&&(je=rn.querySelector(st)||vt),je?(0,V.f)(je):Ne.focus()},tt=vt=>{0===Qe&&(Qe=1,vt.addEventListener("focus",Ne=>{((vt,Ne)=>{const je=qe(Ne,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),rn=vt.target;je&&rn&&!je.classList.contains(Hn)&&(je.shadowRoot?(()=>{if(je.contains(rn))je.lastFocus=rn;else if("ION-TOAST"===rn.tagName)ft(je.lastFocus,je);else{const sr=je.lastFocus;xe(je),sr===Ne.activeElement&&Ie(je),je.lastFocus=Ne.activeElement}})():(()=>{if(je===rn)je.lastFocus=void 0;else if("ION-TOAST"===rn.tagName)ft(je.lastFocus,je);else{const sr=(0,V.g)(je);if(!sr.contains(rn))return;const kn=sr.querySelector(".ion-overlay-wrapper");if(!kn)return;if(kn.contains(rn)||rn===sr.querySelector("ion-backdrop"))je.lastFocus=rn;else{const Jt=je.lastFocus;xe(kn,je),Jt===Ne.activeElement&&Ie(kn,je),je.lastFocus=Ne.activeElement}}})())})(Ne,vt)},!0),vt.addEventListener("ionBackButton",Ne=>{const je=qe(vt);null!=je&&je.backdropDismiss&&Ne.detail.register(Ee.OVERLAY_BACK_BUTTON_PRIORITY,()=>{je.dismiss(void 0,Rn)})}),(0,Ee.shouldUseCloseWatcher)()||vt.addEventListener("keydown",Ne=>{if("Escape"===Ne.key){const je=qe(vt);null!=je&&je.backdropDismiss&&je.dismiss(void 0,Rn)}}))},Ft=(vt,Ne,je,rn,Gn)=>{const hr=qe(vt,rn,Gn);return hr?hr.dismiss(Ne,je):Promise.reject("overlay does not exist")},cn=(vt,Ne)=>((vt,Ne)=>(void 0===Ne&&(Ne="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(vt.querySelectorAll(Ne)).filter(je=>je.overlayIndex>0)))(vt,Ne).filter(je=>!(vt=>vt.classList.contains("overlay-hidden"))(je)),qe=(vt,Ne,je)=>{const rn=cn(vt,Ne);return void 0===je?rn[rn.length-1]:rn.find(Gn=>Gn.id===je)},De=(vt=!1)=>{const je=Ue(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");je&&(vt?je.setAttribute("aria-hidden","true"):je.removeAttribute("aria-hidden"))},Y=function(){var vt=(0,h.A)(function*(Ne,je,rn,Gn,hr){var sr,kn;if(Ne.presented)return;De(!0),document.body.classList.add(Oe.B),Qt(Ne.el),Ne.presented=!0,Ne.willPresent.emit(),null===(sr=Ne.willPresentShorthand)||void 0===sr||sr.emit();const Jt=(0,z.b)(Ne),Ar=Ne.enterAnimation?Ne.enterAnimation:z.c.get(je,"ios"===Jt?rn:Gn);(yield et(Ne,Ar,Ne.el,hr))&&(Ne.didPresent.emit(),null===(kn=Ne.didPresentShorthand)||void 0===kn||kn.emit()),"ION-TOAST"!==Ne.el.tagName&&ie(Ne.el),Ne.keyboardClose&&(null===document.activeElement||!Ne.el.contains(document.activeElement))&&Ne.el.focus(),Ne.el.removeAttribute("aria-hidden")});return function(je,rn,Gn,hr,sr){return vt.apply(this,arguments)}}(),ie=function(){var vt=(0,h.A)(function*(Ne){let je=document.activeElement;if(!je)return;const rn=null==je?void 0:je.shadowRoot;rn&&(je=rn.querySelector(st)||je),yield Ne.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&je.focus()});return function(je){return vt.apply(this,arguments)}}(),se=function(){var vt=(0,h.A)(function*(Ne,je,rn,Gn,hr,sr,kn){var Jt,Ar;if(!Ne.presented)return!1;void 0!==s.d&&1===cn(s.d).length&&(De(!1),document.body.classList.remove(Oe.B)),Ne.presented=!1;try{Ne.el.style.setProperty("pointer-events","none"),Ne.willDismiss.emit({data:je,role:rn}),null===(Jt=Ne.willDismissShorthand)||void 0===Jt||Jt.emit({data:je,role:rn});const or=(0,z.b)(Ne),Zn=Ne.leaveAnimation?Ne.leaveAnimation:z.c.get(Gn,"ios"===or?hr:sr);rn!==Pt&&(yield et(Ne,Zn,Ne.el,kn)),Ne.didDismiss.emit({data:je,role:rn}),null===(Ar=Ne.didDismissShorthand)||void 0===Ar||Ar.emit({data:je,role:rn}),(ct.get(Ne)||[]).forEach(pi=>pi.destroy()),ct.delete(Ne),Ne.el.classList.add("overlay-hidden"),Ne.el.style.removeProperty("pointer-events"),void 0!==Ne.el.lastFocus&&(Ne.el.lastFocus=void 0)}catch(or){console.error(or)}return Ne.el.remove(),Yt(),!0});return function(je,rn,Gn,hr,sr,kn,Jt){return vt.apply(this,arguments)}}(),Ue=vt=>vt.querySelector("ion-app")||vt.body,et=function(){var vt=(0,h.A)(function*(Ne,je,rn,Gn){rn.classList.remove("overlay-hidden");const sr=je(Ne.el,Gn);(!Ne.animated||!z.c.getBoolean("animated",!0))&&sr.duration(0),Ne.keyboardClose&&sr.beforeAddWrite(()=>{const Jt=rn.ownerDocument.activeElement;null!=Jt&&Jt.matches("input,ion-input, ion-textarea")&&Jt.blur()});const kn=ct.get(Ne)||[];return ct.set(Ne,[...kn,sr]),yield sr.play(),!0});return function(je,rn,Gn,hr){return vt.apply(this,arguments)}}(),Et=(vt,Ne)=>{let je;const rn=new Promise(Gn=>je=Gn);return ze(vt,Ne,Gn=>{je(Gn.detail)}),rn},ze=(vt,Ne,je)=>{const rn=Gn=>{(0,V.b)(vt,Ne,rn),je(Gn)};(0,V.a)(vt,Ne,rn)},Bt=vt=>"cancel"===vt||vt===Rn,In=vt=>vt(),xt=(vt,Ne)=>{if("function"==typeof vt)return z.c.get("_zoneGate",In)(()=>{try{return vt(Ne)}catch(rn){throw rn}})},Rn="backdrop",Pt="gesture",Pn=39,Sn=vt=>{let je,Ne=!1;const rn=(0,Ae.C)(),Gn=(kn=!1)=>{if(je&&!kn)return{delegate:je,inline:Ne};const{el:Jt,hasController:Ar,delegate:dr}=vt;return Ne=null!==Jt.parentNode&&!Ar,je=Ne?dr||rn:dr,{inline:Ne,delegate:je}};return{attachViewToDom:function(){var kn=(0,h.A)(function*(Jt){const{delegate:Ar}=Gn(!0);if(Ar)return yield Ar.attachViewToDom(vt.el,Jt);const{hasController:dr}=vt;if(dr&&void 0!==Jt)throw new Error("framework delegate is missing");return null});return function(Ar){return kn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:kn}=Gn();kn&&void 0!==vt.el&&kn.removeViewFromDom(vt.el.parentElement,vt.el)}}},Ln=()=>{let vt;const Ne=()=>{vt&&(vt(),vt=void 0)};return{addClickListener:(rn,Gn)=>{Ne();const hr=void 0!==Gn?document.getElementById(Gn):null;hr?vt=((kn,Jt)=>{const Ar=()=>{Jt.present()};return kn.addEventListener("click",Ar),()=>{kn.removeEventListener("click",Ar)}})(hr,rn):(0,He.p)(`A trigger element with the ID "${Gn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,rn)},removeClickListener:Ne}},Qt=vt=>{var Ne;if(void 0===s.d)return;const je=cn(s.d);for(let rn=je.length-1;rn>=0;rn--){const Gn=je[rn],hr=null!==(Ne=je[rn+1])&&void 0!==Ne?Ne:vt;(hr.hasAttribute("aria-hidden")||"ION-TOAST"!==hr.tagName)&&Gn.setAttribute("aria-hidden","true")}},Yt=()=>{if(void 0===s.d)return;const vt=cn(s.d);for(let Ne=vt.length-1;Ne>=0;Ne--){const je=vt[Ne];if(je.removeAttribute("aria-hidden"),"ION-TOAST"!==je.tagName)break}},Hn="ion-disable-focus-trap"},5312:(Mn,St,x)=>{"use strict";x.d(St,{c:()=>h});const h={production:!0,vapidKey:"BOV3uao1z47YpCi69vF5IMWazjO2ciGDGuLi_7DRcvKi4WinbLI2Hv2hScOCJtfiTpdQ9Yu6bK9n-fRTXN5S5Gc",firebaseConfig:{apiKey:"AIzaSyC7SViDJ3MAfnpzls1znWTVYTvO6S5K1ys",authDomain:"miven-c5f93.firebaseapp.com",projectId:"miven-c5f93",storageBucket:"miven-c5f93.appspot.com",messagingSenderId:"46504601832",appId:"1:46504601832:web:ecc2f1c0f13346da7c415d"}}},3381:(Mn,St,x)=>{"use strict";var h=x(345),s=x(3953),V=x(9384),Ee=x(2872),z=x(4742),Ae=x(8079),Oe=x(467),He=x(5083);const Ie=(0,He.F3)("FirebaseMessaging",{web:()=>x.e(196).then(x.bind(x,196)).then(v=>new v.FirebaseMessagingWeb)});var nt=x(3146),Qe=x(1182);const Je=(0,He.F3)("PushNotifications",{});var ct=x(6354),Ct=x(7673),mt=x(1985),lt=x(8455),Nt=x(274),wt=x(5964),Me=x(980),Fe=x(5558),Le=x(177);class ot{}class ut{}class it{constructor(E){this.normalizedNames=new Map,this.lazyUpdate=null,E?"string"==typeof E?this.lazyInit=()=>{this.headers=new Map,E.split("\n").forEach(T=>{const b=T.indexOf(":");if(b>0){const N=T.slice(0,b),Z=N.toLowerCase(),Pe=T.slice(b+1).trim();this.maybeSetNormalizedName(N,Z),this.headers.has(Z)?this.headers.get(Z).push(Pe):this.headers.set(Z,[Pe])}})}:typeof Headers<"u"&&E instanceof Headers?(this.headers=new Map,E.forEach((T,b)=>{this.setHeaderEntries(b,T)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(E).forEach(([T,b])=>{this.setHeaderEntries(T,b)})}:this.headers=new Map}has(E){return this.init(),this.headers.has(E.toLowerCase())}get(E){this.init();const T=this.headers.get(E.toLowerCase());return T&&T.length>0?T[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(E){return this.init(),this.headers.get(E.toLowerCase())||null}append(E,T){return this.clone({name:E,value:T,op:"a"})}set(E,T){return this.clone({name:E,value:T,op:"s"})}delete(E,T){return this.clone({name:E,value:T,op:"d"})}maybeSetNormalizedName(E,T){this.normalizedNames.has(T)||this.normalizedNames.set(T,E)}init(){this.lazyInit&&(this.lazyInit instanceof it?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(E=>this.applyUpdate(E)),this.lazyUpdate=null))}copyFrom(E){E.init(),Array.from(E.headers.keys()).forEach(T=>{this.headers.set(T,E.headers.get(T)),this.normalizedNames.set(T,E.normalizedNames.get(T))})}clone(E){const T=new it;return T.lazyInit=this.lazyInit&&this.lazyInit instanceof it?this.lazyInit:this,T.lazyUpdate=(this.lazyUpdate||[]).concat([E]),T}applyUpdate(E){const T=E.name.toLowerCase();switch(E.op){case"a":case"s":let b=E.value;if("string"==typeof b&&(b=[b]),0===b.length)return;this.maybeSetNormalizedName(E.name,T);const N=("a"===E.op?this.headers.get(T):void 0)||[];N.push(...b),this.headers.set(T,N);break;case"d":const Z=E.value;if(Z){let Pe=this.headers.get(T);if(!Pe)return;Pe=Pe.filter(Lt=>-1===Z.indexOf(Lt)),0===Pe.length?(this.headers.delete(T),this.normalizedNames.delete(T)):this.headers.set(T,Pe)}else this.headers.delete(T),this.normalizedNames.delete(T)}}setHeaderEntries(E,T){const b=(Array.isArray(T)?T:[T]).map(Z=>Z.toString()),N=E.toLowerCase();this.headers.set(N,b),this.maybeSetNormalizedName(E,N)}forEach(E){this.init(),Array.from(this.normalizedNames.keys()).forEach(T=>E(this.normalizedNames.get(T),this.headers.get(T)))}}class ft{encodeKey(E){return Vt(E)}encodeValue(E){return Vt(E)}decodeKey(E){return decodeURIComponent(E)}decodeValue(E){return decodeURIComponent(E)}}const tt=/%(\d[a-f0-9])/gi,Ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vt(v){return encodeURIComponent(v).replace(tt,(E,T)=>{var b;return null!==(b=Ft[T])&&void 0!==b?b:E})}function cn(v){return`${v}`}class qe{constructor(E={}){if(this.updates=null,this.cloneFrom=null,this.encoder=E.encoder||new ft,E.fromString){if(E.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ht(v,E){const T=new Map;return v.length>0&&v.replace(/^\?/,"").split("&").forEach(N=>{const Z=N.indexOf("="),[Pe,Lt]=-1==Z?[E.decodeKey(N),""]:[E.decodeKey(N.slice(0,Z)),E.decodeValue(N.slice(Z+1))],ln=T.get(Pe)||[];ln.push(Lt),T.set(Pe,ln)}),T}(E.fromString,this.encoder)}else E.fromObject?(this.map=new Map,Object.keys(E.fromObject).forEach(T=>{const b=E.fromObject[T],N=Array.isArray(b)?b.map(cn):[cn(b)];this.map.set(T,N)})):this.map=null}has(E){return this.init(),this.map.has(E)}get(E){this.init();const T=this.map.get(E);return T?T[0]:null}getAll(E){return this.init(),this.map.get(E)||null}keys(){return this.init(),Array.from(this.map.keys())}append(E,T){return this.clone({param:E,value:T,op:"a"})}appendAll(E){const T=[];return Object.keys(E).forEach(b=>{const N=E[b];Array.isArray(N)?N.forEach(Z=>{T.push({param:b,value:Z,op:"a"})}):T.push({param:b,value:N,op:"a"})}),this.clone(T)}set(E,T){return this.clone({param:E,value:T,op:"s"})}delete(E,T){return this.clone({param:E,value:T,op:"d"})}toString(){return this.init(),this.keys().map(E=>{const T=this.encoder.encodeKey(E);return this.map.get(E).map(b=>T+"="+this.encoder.encodeValue(b)).join("&")}).filter(E=>""!==E).join("&")}clone(E){const T=new qe({encoder:this.encoder});return T.cloneFrom=this.cloneFrom||this,T.updates=(this.updates||[]).concat(E),T}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(E=>this.map.set(E,this.cloneFrom.map.get(E))),this.updates.forEach(E=>{switch(E.op){case"a":case"s":const T=("a"===E.op?this.map.get(E.param):void 0)||[];T.push(cn(E.value)),this.map.set(E.param,T);break;case"d":if(void 0===E.value){this.map.delete(E.param);break}{let b=this.map.get(E.param)||[];const N=b.indexOf(cn(E.value));-1!==N&&b.splice(N,1),b.length>0?this.map.set(E.param,b):this.map.delete(E.param)}}}),this.cloneFrom=this.updates=null)}}class Y{constructor(){this.map=new Map}set(E,T){return this.map.set(E,T),this}get(E){return this.map.has(E)||this.map.set(E,E.defaultValue()),this.map.get(E)}delete(E){return this.map.delete(E),this}has(E){return this.map.has(E)}keys(){return this.map.keys()}}function se(v){return typeof ArrayBuffer<"u"&&v instanceof ArrayBuffer}function Ue(v){return typeof Blob<"u"&&v instanceof Blob}function et(v){return typeof FormData<"u"&&v instanceof FormData}class ze{constructor(E,T,b,N){var Z,Pe;let Lt;if(this.url=T,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=E.toUpperCase(),function ie(v){switch(v){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||N?(this.body=void 0!==b?b:null,Lt=N):Lt=b,Lt&&(this.reportProgress=!!Lt.reportProgress,this.withCredentials=!!Lt.withCredentials,Lt.responseType&&(this.responseType=Lt.responseType),Lt.headers&&(this.headers=Lt.headers),Lt.context&&(this.context=Lt.context),Lt.params&&(this.params=Lt.params),this.transferCache=Lt.transferCache),null!==(Z=this.headers)&&void 0!==Z||(this.headers=new it),null!==(Pe=this.context)&&void 0!==Pe||(this.context=new Y),this.params){const ln=this.params.toString();if(0===ln.length)this.urlWithParams=T;else{const vn=T.indexOf("?");this.urlWithParams=T+(-1===vn?"?":vn<T.length-1?"&":"")+ln}}else this.params=new qe,this.urlWithParams=T}serializeBody(){return null===this.body?null:"string"==typeof this.body||se(this.body)||Ue(this.body)||et(this.body)||function Et(v){return typeof URLSearchParams<"u"&&v instanceof URLSearchParams}(this.body)?this.body:this.body instanceof qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:Ue(this.body)?this.body.type||null:se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(E={}){var T,b,N,Z;const Pe=E.method||this.method,Lt=E.url||this.url,ln=E.responseType||this.responseType,vn=null!==(T=E.transferCache)&&void 0!==T?T:this.transferCache,ur=void 0!==E.body?E.body:this.body,Jr=null!==(b=E.withCredentials)&&void 0!==b?b:this.withCredentials,hi=null!==(N=E.reportProgress)&&void 0!==N?N:this.reportProgress;let Gr=E.headers||this.headers,ui=E.params||this.params;const xi=null!==(Z=E.context)&&void 0!==Z?Z:this.context;return void 0!==E.setHeaders&&(Gr=Object.keys(E.setHeaders).reduce((Pr,zt)=>Pr.set(zt,E.setHeaders[zt]),Gr)),E.setParams&&(ui=Object.keys(E.setParams).reduce((Pr,zt)=>Pr.set(zt,E.setParams[zt]),ui)),new ze(Pe,Lt,ur,{params:ui,headers:Gr,context:xi,reportProgress:hi,responseType:ln,withCredentials:Jr,transferCache:vn})}}var Bt=function(v){return v[v.Sent=0]="Sent",v[v.UploadProgress=1]="UploadProgress",v[v.ResponseHeader=2]="ResponseHeader",v[v.DownloadProgress=3]="DownloadProgress",v[v.Response=4]="Response",v[v.User=5]="User",v}(Bt||{});class In{constructor(E,T=200,b="OK"){this.headers=E.headers||new it,this.status=void 0!==E.status?E.status:T,this.statusText=E.statusText||b,this.url=E.url||null,this.ok=this.status>=200&&this.status<300}}class xt extends In{constructor(E={}){super(E),this.type=Bt.ResponseHeader}clone(E={}){return new xt({headers:E.headers||this.headers,status:void 0!==E.status?E.status:this.status,statusText:E.statusText||this.statusText,url:E.url||this.url||void 0})}}class Rn extends In{constructor(E={}){super(E),this.type=Bt.Response,this.body=void 0!==E.body?E.body:null}clone(E={}){return new Rn({body:void 0!==E.body?E.body:this.body,headers:E.headers||this.headers,status:void 0!==E.status?E.status:this.status,statusText:E.statusText||this.statusText,url:E.url||this.url||void 0})}}class Pt extends In{constructor(E){super(E,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${E.url||"(unknown url)"}`:`Http failure response for ${E.url||"(unknown url)"}: ${E.status} ${E.statusText}`,this.error=E.error||null}}function Qt(v,E){return{body:E,headers:v.headers,context:v.context,observe:v.observe,params:v.params,reportProgress:v.reportProgress,responseType:v.responseType,withCredentials:v.withCredentials,transferCache:v.transferCache}}let Yt=(()=>{var v;class E{constructor(b){this.handler=b}request(b,N,Z={}){let Pe;if(b instanceof ze)Pe=b;else{let vn,ur;vn=Z.headers instanceof it?Z.headers:new it(Z.headers),Z.params&&(ur=Z.params instanceof qe?Z.params:new qe({fromObject:Z.params})),Pe=new ze(b,N,void 0!==Z.body?Z.body:null,{headers:vn,context:Z.context,params:ur,reportProgress:Z.reportProgress,responseType:Z.responseType||"json",withCredentials:Z.withCredentials,transferCache:Z.transferCache})}const Lt=(0,Ct.of)(Pe).pipe((0,Nt.H)(vn=>this.handler.handle(vn)));if(b instanceof ze||"events"===Z.observe)return Lt;const ln=Lt.pipe((0,wt.p)(vn=>vn instanceof Rn));switch(Z.observe||"body"){case"body":switch(Pe.responseType){case"arraybuffer":return ln.pipe((0,ct.T)(vn=>{if(null!==vn.body&&!(vn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return vn.body}));case"blob":return ln.pipe((0,ct.T)(vn=>{if(null!==vn.body&&!(vn.body instanceof Blob))throw new Error("Response is not a Blob.");return vn.body}));case"text":return ln.pipe((0,ct.T)(vn=>{if(null!==vn.body&&"string"!=typeof vn.body)throw new Error("Response is not a string.");return vn.body}));default:return ln.pipe((0,ct.T)(vn=>vn.body))}case"response":return ln;default:throw new Error(`Unreachable: unhandled observe type ${Z.observe}}`)}}delete(b,N={}){return this.request("DELETE",b,N)}get(b,N={}){return this.request("GET",b,N)}head(b,N={}){return this.request("HEAD",b,N)}jsonp(b,N){return this.request("JSONP",b,{params:(new qe).append(N,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(b,N={}){return this.request("OPTIONS",b,N)}patch(b,N,Z={}){return this.request("PATCH",b,Qt(Z,N))}post(b,N,Z={}){return this.request("POST",b,Qt(Z,N))}put(b,N,Z={}){return this.request("PUT",b,Qt(Z,N))}}return(v=E).\u0275fac=function(b){return new(b||v)(s.KVO(ot))},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac}),E})();const Hn=/^\)\]\}',?\n/;function Ne(v){if(v.url)return v.url;const E="X-Request-URL".toLocaleLowerCase();return v.headers.get(E)}let je=(()=>{var v;class E{constructor(){var b,N;this.fetchImpl=null!==(b=null===(N=(0,s.WQX)(rn,{optional:!0}))||void 0===N?void 0:N.fetch)&&void 0!==b?b:fetch.bind(globalThis),this.ngZone=(0,s.WQX)(s.SKi)}handle(b){return new mt.c(N=>{const Z=new AbortController;return this.doRequest(b,Z.signal,N).then(Gn,Pe=>N.error(new Pt({error:Pe}))),()=>Z.abort()})}doRequest(b,N,Z){var Pe=this;return(0,Oe.A)(function*(){var Lt;const ln=Pe.createRequestInit(b);let vn;try{const Vi=Pe.ngZone.runOutsideAngular(()=>Pe.fetchImpl(b.urlWithParams,{signal:N,...ln}));(function hr(v){v.then(Gn,Gn)})(Vi),Z.next({type:Bt.Sent}),vn=yield Vi}catch(Vi){var ur;return void Z.error(new Pt({error:Vi,status:null!==(ur=Vi.status)&&void 0!==ur?ur:0,statusText:Vi.statusText,url:b.urlWithParams,headers:Vi.headers}))}const Jr=new it(vn.headers),hi=vn.statusText,Gr=null!==(Lt=Ne(vn))&&void 0!==Lt?Lt:b.urlWithParams;let ui=vn.status,xi=null;if(b.reportProgress&&Z.next(new xt({headers:Jr,status:ui,statusText:hi,url:Gr})),vn.body){const Vi=vn.headers.get("content-length"),fi=[],ai=vn.body.getReader();let ua,ss,Fs=0;const lc=typeof Zone<"u"&&Zone.current;yield Pe.ngZone.runOutsideAngular((0,Oe.A)(function*(){for(;;){const{done:Ev,value:pd}=yield ai.read();if(Ev)break;if(fi.push(pd),Fs+=pd.length,b.reportProgress){var Vl,yp;ss="text"===b.responseType?(null!==(Vl=ss)&&void 0!==Vl?Vl:"")+(null!==(yp=ua)&&void 0!==yp?yp:ua=new TextDecoder).decode(pd,{stream:!0}):void 0;const Yd=()=>Z.next({type:Bt.DownloadProgress,total:Vi?+Vi:void 0,loaded:Fs,partialText:ss});lc?lc.run(Yd):Yd()}}}));const jc=Pe.concatChunks(fi,Fs);try{var Pr;const Vl=null!==(Pr=vn.headers.get("Content-Type"))&&void 0!==Pr?Pr:"";xi=Pe.parseBody(b,jc,Vl)}catch(Vl){var zt;return void Z.error(new Pt({error:Vl,headers:new it(vn.headers),status:vn.status,statusText:vn.statusText,url:null!==(zt=Ne(vn))&&void 0!==zt?zt:b.urlWithParams}))}}0===ui&&(ui=xi?200:0),ui>=200&&ui<300?(Z.next(new Rn({body:xi,headers:Jr,status:ui,statusText:hi,url:Gr})),Z.complete()):Z.error(new Pt({error:xi,headers:Jr,status:ui,statusText:hi,url:Gr}))})()}parseBody(b,N,Z){switch(b.responseType){case"json":const Pe=(new TextDecoder).decode(N).replace(Hn,"");return""===Pe?null:JSON.parse(Pe);case"text":return(new TextDecoder).decode(N);case"blob":return new Blob([N],{type:Z});case"arraybuffer":return N.buffer}}createRequestInit(b){const N={},Z=b.withCredentials?"include":void 0;if(b.headers.forEach((Pe,Lt)=>N[Pe]=Lt.join(",")),b.headers.has("Accept")||(N.Accept="application/json, text/plain, */*"),!b.headers.has("Content-Type")){const Pe=b.detectContentTypeHeader();null!==Pe&&(N["Content-Type"]=Pe)}return{body:b.serializeBody(),method:b.method,headers:N,credentials:Z}}concatChunks(b,N){const Z=new Uint8Array(N);let Pe=0;for(const Lt of b)Z.set(Lt,Pe),Pe+=Lt.length;return Z}}return(v=E).\u0275fac=function(b){return new(b||v)},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac}),E})();class rn{}function Gn(){}function sr(v,E){return E(v)}function kn(v,E){return(T,b)=>E.intercept(T,{handle:N=>v(N,b)})}const Ar=new s.nKC(""),dr=new s.nKC(""),or=new s.nKC(""),Zn=new s.nKC("",{providedIn:"root",factory:()=>!0});function Tr(){let v=null;return(E,T)=>{var b;null===v&&(v=(null!==(b=(0,s.WQX)(Ar,{optional:!0}))&&void 0!==b?b:[]).reduceRight(kn,sr));const N=(0,s.WQX)(s.TgB);if((0,s.WQX)(Zn)){const Pe=N.add();return v(E,T).pipe((0,Me.j)(()=>N.remove(Pe)))}return v(E,T)}}let ti=(()=>{var v;class E extends ot{constructor(b,N){super(),this.backend=b,this.injector=N,this.chain=null,this.pendingTasks=(0,s.WQX)(s.TgB),this.contributeToStability=(0,s.WQX)(Zn)}handle(b){if(null===this.chain){const N=Array.from(new Set([...this.injector.get(dr),...this.injector.get(or,[])]));this.chain=N.reduceRight((Z,Pe)=>function Jt(v,E,T){return(b,N)=>(0,s.N4e)(T,()=>E(b,Z=>v(Z,N)))}(Z,Pe,this.injector),sr)}if(this.contributeToStability){const N=this.pendingTasks.add();return this.chain(b,Z=>this.backend.handle(Z)).pipe((0,Me.j)(()=>this.pendingTasks.remove(N)))}return this.chain(b,N=>this.backend.handle(N))}}return(v=E).\u0275fac=function(b){return new(b||v)(s.KVO(ut),s.KVO(s.uvJ))},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac}),E})();const yt=/^\)\]\}',?\n/;let oe=(()=>{var v;class E{constructor(b){this.xhrFactory=b}handle(b){if("JSONP"===b.method)throw new s.wOt(-2800,!1);const N=this.xhrFactory;return(N.\u0275loadImpl?(0,lt.H)(N.\u0275loadImpl()):(0,Ct.of)(null)).pipe((0,Fe.n)(()=>new mt.c(Pe=>{const Lt=N.build();if(Lt.open(b.method,b.urlWithParams),b.withCredentials&&(Lt.withCredentials=!0),b.headers.forEach((Pr,zt)=>Lt.setRequestHeader(Pr,zt.join(","))),b.headers.has("Accept")||Lt.setRequestHeader("Accept","application/json, text/plain, */*"),!b.headers.has("Content-Type")){const Pr=b.detectContentTypeHeader();null!==Pr&&Lt.setRequestHeader("Content-Type",Pr)}if(b.responseType){const Pr=b.responseType.toLowerCase();Lt.responseType="json"!==Pr?Pr:"text"}const ln=b.serializeBody();let vn=null;const ur=()=>{if(null!==vn)return vn;const Pr=Lt.statusText||"OK",zt=new it(Lt.getAllResponseHeaders()),yr=function Te(v){return"responseURL"in v&&v.responseURL?v.responseURL:/^X-Request-URL:/m.test(v.getAllResponseHeaders())?v.getResponseHeader("X-Request-URL"):null}(Lt)||b.url;return vn=new xt({headers:zt,status:Lt.status,statusText:Pr,url:yr}),vn},Jr=()=>{let{headers:Pr,status:zt,statusText:yr,url:Vi}=ur(),fi=null;204!==zt&&(fi=typeof Lt.response>"u"?Lt.responseText:Lt.response),0===zt&&(zt=fi?200:0);let ai=zt>=200&&zt<300;if("json"===b.responseType&&"string"==typeof fi){const Fs=fi;fi=fi.replace(yt,"");try{fi=""!==fi?JSON.parse(fi):null}catch(ua){fi=Fs,ai&&(ai=!1,fi={error:ua,text:fi})}}ai?(Pe.next(new Rn({body:fi,headers:Pr,status:zt,statusText:yr,url:Vi||void 0})),Pe.complete()):Pe.error(new Pt({error:fi,headers:Pr,status:zt,statusText:yr,url:Vi||void 0}))},hi=Pr=>{const{url:zt}=ur(),yr=new Pt({error:Pr,status:Lt.status||0,statusText:Lt.statusText||"Unknown Error",url:zt||void 0});Pe.error(yr)};let Gr=!1;const ui=Pr=>{Gr||(Pe.next(ur()),Gr=!0);let zt={type:Bt.DownloadProgress,loaded:Pr.loaded};Pr.lengthComputable&&(zt.total=Pr.total),"text"===b.responseType&&Lt.responseText&&(zt.partialText=Lt.responseText),Pe.next(zt)},xi=Pr=>{let zt={type:Bt.UploadProgress,loaded:Pr.loaded};Pr.lengthComputable&&(zt.total=Pr.total),Pe.next(zt)};return Lt.addEventListener("load",Jr),Lt.addEventListener("error",hi),Lt.addEventListener("timeout",hi),Lt.addEventListener("abort",hi),b.reportProgress&&(Lt.addEventListener("progress",ui),null!==ln&&Lt.upload&&Lt.upload.addEventListener("progress",xi)),Lt.send(ln),Pe.next({type:Bt.Sent}),()=>{Lt.removeEventListener("error",hi),Lt.removeEventListener("abort",hi),Lt.removeEventListener("load",Jr),Lt.removeEventListener("timeout",hi),b.reportProgress&&(Lt.removeEventListener("progress",ui),null!==ln&&Lt.upload&&Lt.upload.removeEventListener("progress",xi)),Lt.readyState!==Lt.DONE&&Lt.abort()}})))}}return(v=E).\u0275fac=function(b){return new(b||v)(s.KVO(Le.N0))},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac}),E})();const W=new s.nKC(""),le=new s.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),kt=new s.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hn{}let Fn=(()=>{var v;class E{constructor(b,N,Z){this.doc=b,this.platform=N,this.cookieName=Z,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const b=this.doc.cookie||"";return b!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Le._b)(b,this.cookieName),this.lastCookieString=b),this.lastToken}}return(v=E).\u0275fac=function(b){return new(b||v)(s.KVO(Le.qQ),s.KVO(s.Agw),s.KVO(le))},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac}),E})();function ir(v,E){const T=v.url.toLowerCase();if(!(0,s.WQX)(W)||"GET"===v.method||"HEAD"===v.method||T.startsWith("http://")||T.startsWith("https://"))return E(v);const b=(0,s.WQX)(hn).getToken(),N=(0,s.WQX)(kt);return null!=b&&!v.headers.has(N)&&(v=v.clone({headers:v.headers.set(N,b)})),E(v)}var At=function(v){return v[v.Interceptors=0]="Interceptors",v[v.LegacyInterceptors=1]="LegacyInterceptors",v[v.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",v[v.NoXsrfProtection=3]="NoXsrfProtection",v[v.JsonpSupport=4]="JsonpSupport",v[v.RequestsMadeViaParent=5]="RequestsMadeViaParent",v[v.Fetch=6]="Fetch",v}(At||{});function er(v,E){return{\u0275kind:v,\u0275providers:E}}function Jn(...v){const E=[Yt,oe,ti,{provide:ot,useExisting:ti},{provide:ut,useFactory:()=>{var T;return null!==(T=(0,s.WQX)(je,{optional:!0}))&&void 0!==T?T:(0,s.WQX)(oe)}},{provide:dr,useValue:ir,multi:!0},{provide:W,useValue:!0},{provide:hn,useClass:Fn}];for(const T of v)E.push(...T.\u0275providers);return(0,s.EmA)(E)}const Ki=new s.nKC("");let Ye=(()=>{var v;class E{}return(v=E).\u0275fac=function(b){return new(b||v)},v.\u0275mod=s.$C({type:v}),v.\u0275inj=s.G2t({providers:[Jn(er(At.LegacyInterceptors,[{provide:Ki,useFactory:Tr},{provide:dr,useExisting:Ki,multi:!0}]))]}),E})(),go=(()=>{var v;class E{constructor(b,N,Z){this.firestore=b,this.auth=N,this.http=Z,this.fcmServerKey="BOV3uao1z47YpCi69vF5IMWazjO2ciGDGuLi_7DRcvKi4WinbLI2Hv2hScOCJtfiTpdQ9Yu6bK9n-fRTXN5S5Gc"}getInventory(b){return this.firestore.collection("usuarios").doc(b).collection("inventario").valueChanges({idField:"id"})}addItemToInventory(b,N){return this.firestore.collection("usuarios").doc(N).collection("inventario").add(b)}addItemToGlobalCollection(b){return this.firestore.collection("items").add(b)}getGlobalItems(){return this.firestore.collection("items").valueChanges({idField:"id"})}deleteItemFromInventory(b,N){return this.firestore.collection("usuarios").doc(N).collection("inventario").doc(b).delete()}updateItemQuantity(b,N,Z){return this.firestore.collection("usuarios").doc(b).collection("inventario").doc(N).update({cantidad:Z})}getExpiringItems(b){const N=new Date,Z=new Date;return Z.setDate(N.getDate()+7),this.getInventory(b).pipe((0,ct.T)(Pe=>Pe.filter(Lt=>{const ln=new Date(Lt.fechaVencimiento);return ln<=Z&&ln>=N})))}notifyExpiringItems(b,N){this.getExpiringItems(b).subscribe(Z=>{Z.length>0&&this.http.post("https://fcm.googleapis.com/fcm/send",{notification:{title:"\xa1Atenci\xf3n!",body:`Tienes ${Z.length} \xedtems por vencer en tu inventario.`,click_action:"FCM_PLUGIN_ACTIVITY",icon:"fcm_push_icon"},to:N},{headers:{Authorization:`key=${this.fcmServerKey}`,"Content-Type":"application/json"}}).subscribe(()=>console.log("Notificaci\xf3n enviada con \xe9xito"),Lt=>console.error("Error al enviar la notificaci\xf3n:",Lt))})}}return(v=E).\u0275fac=function(b){return new(b||v)(s.KVO(Ae.Qe),s.KVO(Qe.DS),s.KVO(Yt))},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),E})(),Jo=(()=>{var v;class E{constructor(){this.InteractionService=(0,s.WQX)(go)}init(){console.log("Initializing NotificationsPushService"),Je.requestPermissions().then(b=>{"granted"===b.receive&&Je.register()}),this.addListener()}addListener(){Je.addListener("registration",b=>{alert("Push registration success, token: "+b.value)}),Je.addListener("registrationError",b=>{alert("Error on registration: "+JSON.stringify(b))}),Je.addListener("pushNotificationReceived",b=>{alert("Push received: "+JSON.stringify(b))}),Je.addListener("pushNotificationActionPerformed",b=>{alert("Push action performed: "+JSON.stringify(b))})}}return(v=E).\u0275fac=function(b){return new(b||v)},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),E})();const So=v=>[v];function Ss(v,E){if(1&v&&(s.j41(0,"ion-menu-toggle",12)(1,"ion-item",13),s.nrm(2,"ion-icon",14),s.j41(3,"ion-label"),s.EFF(4),s.k0s()()()),2&v){const T=E.$implicit,b=s.XpG(2).$implicit;s.R7$(),s.Y8G("routerLink",s.eq3(4,So,T.url)),s.R7$(),s.Y8G("ios",b.icon+"-outline")("md",T.icon+"-sharp"),s.R7$(2),s.JRh(T.title)}}function gs(v,E){if(1&v&&(s.j41(0,"ion-accordion-group",7)(1,"ion-accordion",8)(2,"ion-item",9)(3,"ion-label"),s.EFF(4),s.k0s()(),s.j41(5,"ion-list",10),s.DNE(6,Ss,5,6,"ion-menu-toggle",11),s.k0s()()()),2&v){const T=s.XpG().$implicit;s.FS9("value",T.title),s.R7$(),s.FS9("value",T.title),s.R7$(3),s.JRh(T.title),s.R7$(2),s.Y8G("ngForOf",T.items)}}function Zo(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-item",15),s.bIt("click",function(){s.eBV(T);const N=s.XpG(2);return s.Njj(N.closeMenu())}),s.nrm(1,"ion-icon",16),s.j41(2,"ion-label"),s.EFF(3),s.k0s()()}if(2&v){const T=s.XpG().$implicit;s.Y8G("routerLink",s.eq3(4,So,T.url)),s.R7$(),s.Y8G("ios",T.icon+"-outline")("md",T.icon+"-sharp"),s.R7$(2),s.JRh(T.title)}}function ls(v,E){if(1&v&&s.DNE(0,gs,7,4,"ng-template",6)(1,Zo,4,6,"ng-template",null,0,s.C5r),2&v){const T=E.$implicit,b=s.sdS(2);s.Y8G("ngIf",(null==T.items?null:T.items.length)>0)("ngIfElse",b)}}let ii=(()=>{var v;class E{constructor(b,N,Z,Pe,Lt,ln){this.navCtrl=b,this.auth=N,this.firestore=Z,this.platform=Pe,this.notificationsPushService=Lt,this.menuController=ln,this.userId=null,this.appPages=[{title:"Inicio",url:"/home",icon:"Home"},{title:"Inventario",url:"/inventory",icon:"clipboard"},{title:"Favoritos",url:"/favorites",icon:"heart"},{title:"Recetas",icon:"restaurant",items:[{title:"Desayuno",url:"/breakfast-recipes",icon:"restaurant"},{title:"Almuerzo",url:"/lunch-recipes",icon:"restaurant"},{title:"Cena",url:"/dinner-recipes",icon:"restaurant"},{title:"Postres",url:"/dessert-recipes",icon:"restaurant"},{title:"Agregar recetas",url:"/add-recipe",icon:"add"}]},{title:"Perfil",url:"/perfilusuario",icon:"person"},{title:"Cerrar sesi\xf3n",url:"/login",icon:"close"}],this.initializeFCM(),this.listenToMessages(),this.init()}navigateToAlmuerzo(){this.navCtrl.navigateForward("/almuerzo")}navigateToCena(){this.navCtrl.navigateForward("/cena")}navigateToDesayunos(){this.navCtrl.navigateForward("/desayunos")}navigateToPostres(){this.navCtrl.navigateForward("/postres")}init(){He.Ii.isNativePlatform()&&this.notificationsPushService.init()}initializeApp(){this.platform.ready().then(()=>{this.requestNotificationPermission(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(b=>{console.log("Service Worker registrado:",b)}).catch(b=>{console.log("Error al registrar el Service Worker:",b)})})}requestNotificationPermission(){Notification.requestPermission().then(b=>{"granted"===b?console.log("Permiso para notificaciones concedido"):console.error("Permiso para notificaciones denegado")})}listenToMessages(){const b=(0,nt.dG)();(0,nt.xD)(b,N=>{console.log("Mensaje recibido en primer plano: ",N)})}initializeFCM(){var b=this;return(0,Oe.A)(function*(){b.auth.user.subscribe(function(){var N=(0,Oe.A)(function*(Z){if(Z)if(b.userId=Z.uid,"granted"===(yield Ie.requestPermissions()).receive){const Lt=yield Ie.getToken();console.log("FCM Token:",Lt),b.firestore.collection("usuarios").doc(b.userId).set({fcmToken:Lt},{merge:!0}),Ie.addListener("notificationReceived",ln=>{console.log("Notificaci\xf3n recibida:",ln)}),Ie.addListener("notificationActionPerformed",ln=>{console.log("Acci\xf3n de notificaci\xf3n:",ln)})}else console.log("Permisos de notificaci\xf3n denegados")});return function(Z){return N.apply(this,arguments)}}())})()}closeMenu(){var b=this;return(0,Oe.A)(function*(){yield b.menuController.close()})()}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(Ee.q9),s.rXU(Qe.DS),s.rXU(Ae.Qe),s.rXU(Ee.OD),s.rXU(Jo),s.rXU(z._t))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-root"]],decls:11,vars:1,consts:[["sinItems",""],["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],["ngFor","",3,"ngForOf"],["id","main-content"],[3,"ngIf","ngIfElse"],[3,"value"],["toggle-icon","arrow-down-circle",3,"value"],["slot","header"],["id","inbox-list","slot","content"],["auto-hide","false",4,"ngFor","ngForOf"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"ios","md"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"click","routerLink"],["aria-hidden","true","slot","start",3,"ios","md"]],template:function(b,N){1&b&&(s.j41(0,"ion-app")(1,"ion-split-pane",1)(2,"ion-menu",2)(3,"ion-content")(4,"ion-list",3)(5,"ion-list-header"),s.EFF(6,"Miven"),s.k0s(),s.j41(7,"ion-note"),s.EFF(8,"V.1"),s.k0s(),s.DNE(9,ls,3,2,"ng-template",4),s.k0s()()(),s.nrm(10,"ion-router-outlet",5),s.k0s()()),2&b&&(s.R7$(9),s.Y8G("ngForOf",N.appPages))},dependencies:[Le.Sq,Le.bT,z.xk,z.YH,z.U1,z.W9,z.iq,z.uz,z.he,z.nf,z.AF,z.oS,z.cA,z.JI,z.HP,z.Rg,z.N7,V.Wk,V.wQ],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-background-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}[_ngcontent-%COMP%]:root{--ion-background-color: #ffffff;--ion-text-color: #000000}.dark-theme[_ngcontent-%COMP%]{--ion-background-color: #000000;--ion-text-color: #ffffff}"]}),E})(),Cs=(()=>{var v;class E{constructor(b){this.popoverController=b}selectSort(b){this.popoverController.dismiss(b)}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(z.IE))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-sort-menu"]],decls:7,vars:0,consts:[["button","",3,"click"]],template:function(b,N){1&b&&(s.j41(0,"ion-list")(1,"ion-item",0),s.bIt("click",function(){return N.selectSort("alphabetical")}),s.j41(2,"ion-label"),s.EFF(3,"Orden Alfab\xe9tico"),s.k0s()(),s.j41(4,"ion-item",0),s.bIt("click",function(){return N.selectSort("expiration")}),s.j41(5,"ion-label"),s.EFF(6,"Fecha de Vencimiento"),s.k0s()()())},dependencies:[z.uz,z.he,z.nf]}),E})();var Pi=x(4341);function Rs(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-item")(1,"ion-label")(2,"h2"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.k0s()(),s.j41(8,"ion-button",1),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.startEditItem(N))}),s.EFF(9,"Editar"),s.k0s(),s.j41(10,"ion-button",7),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.deleteItem(N.id))}),s.EFF(11,"Eliminar"),s.k0s()()}if(2&v){const T=E.$implicit;s.R7$(3),s.SpI("",T.nombre," "),s.R7$(2),s.Lme("Cantidad: ",T.cantidad," ",T.unidadMedida,""),s.R7$(2),s.SpI("Fecha de Vencimiento: ",T.fechaVencimiento,"")}}function Hs(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3,"Editar Cantidad"),s.k0s(),s.j41(4,"ion-buttons",8)(5,"ion-button",1),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeEditModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",9),s.EFF(10,"Nueva Cantidad"),s.k0s(),s.j41(11,"ion-input",10),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.editItemCantidad,N)||(Z.editItemCantidad=N),s.Njj(N)}),s.k0s()(),s.j41(12,"ion-button",11),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.updateItemQuantity())}),s.EFF(13,"Guardar Cambios"),s.k0s()()}if(2&v){const T=s.XpG();s.R7$(11),s.R50("ngModel",T.editItemCantidad)}}function Gs(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label")(2,"h2"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s()()()),2&v){const T=E.$implicit;s.R7$(3),s.JRh(T.nombre),s.R7$(2),s.SpI("Vence el: ",T.fechaVencimiento,"")}}function Io(v,E){if(1&v&&(s.j41(0,"ion-list"),s.DNE(1,Gs,6,2,"ion-item",3),s.k0s()),2&v){const T=s.XpG();s.R7$(),s.Y8G("ngForOf",T.expiringItems)}}let gi=(()=>{var v;class E{constructor(b,N,Z){this.inventoryService=b,this.auth=N,this.popoverController=Z,this.inventoryItems=[],this.sortedInventory=[],this.expiringItems=[],this.userId=null,this.editItemCantidad=null,this.editItemId=null,this.isEditModalOpen=!1}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadInventory())}),this.requestNotificationPermission()}loadInventory(){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(b=>{this.inventoryItems=b,this.sortInventory("alphabetical")})}openSortMenu(b){var N=this;return(0,Oe.A)(function*(){const Z=yield N.popoverController.create({component:Cs,event:b,translucent:!0});yield Z.present();const{data:Pe}=yield Z.onDidDismiss();Pe&&N.sortInventory(Pe)})()}sortInventory(b){"alphabetical"===b?this.sortedInventory=[...this.inventoryItems].sort((N,Z)=>N.nombre.localeCompare(Z.nombre)):"expiration"===b&&(this.sortedInventory=[...this.inventoryItems].sort((N,Z)=>new Date(N.fechaVencimiento).getTime()-new Date(Z.fechaVencimiento).getTime()))}requestNotificationPermission(){"Notification"in window&&Notification.requestPermission().then(b=>{console.log("granted"===b?"Permiso para notificaciones otorgado":"Notificaciones bloqueadas")})}sendNotification(b,N){"Notification"in window&&"granted"===Notification.permission&&new Notification("Producto por vencer",{body:`El \xedtem ${b} vence el ${N}.`,icon:"assets/icon/alert.png"})}deleteItem(b){this.userId&&confirm("\xbfEst\xe1s seguro de que deseas eliminar este \xedtem del inventario?")&&this.inventoryService.deleteItemFromInventory(b,this.userId).then(()=>{console.log("\xcdtem eliminado con \xe9xito"),this.loadInventory()}).catch(N=>{console.error("Error al eliminar el \xedtem:",N)})}startEditItem(b){this.editItemCantidad=b.cantidad,this.editItemId=b.id,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editItemCantidad=null,this.editItemId=null}updateItemQuantity(){this.userId&&this.editItemId&&null!=this.editItemCantidad&&this.inventoryService.updateItemQuantity(this.userId,this.editItemId,this.editItemCantidad).then(()=>{console.log("Cantidad actualizada con \xe9xito"),this.closeEditModal()}).catch(b=>{console.error("Error al actualizar la cantidad:",b)})}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(go),s.rXU(Qe.DS),s.rXU(z.IE))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-inventory"]],decls:16,vars:3,consts:[["slot","start"],[3,"click"],["name","funnel","slot","icon-only"],[4,"ngFor","ngForOf"],[3,"isOpen"],[4,"ngIf"],["routerLink","/add-item"],["color","danger",3,"click"],["slot","end"],["position","floating"],["type","number",3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-menu-button"),s.j41(4,"ion-title"),s.EFF(5,"Inventario"),s.k0s(),s.j41(6,"ion-button",1),s.bIt("click",function(Pe){return N.openSortMenu(Pe)}),s.nrm(7,"ion-icon",2),s.k0s()()()(),s.j41(8,"ion-content")(9,"ion-list"),s.DNE(10,Rs,12,4,"ion-item",3),s.k0s(),s.j41(11,"ion-modal",4),s.DNE(12,Hs,14,1,"ng-template"),s.k0s(),s.DNE(13,Io,2,1,"ion-list",5),s.k0s(),s.j41(14,"ion-button",6),s.EFF(15,"Agregar Item"),s.k0s()),2&b&&(s.R7$(10),s.Y8G("ngForOf",N.sortedInventory),s.R7$(),s.Y8G("isOpen",N.isEditModalOpen),s.R7$(2),s.Y8G("ngIf",N.expiringItems.length>0))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.W9,z.eU,z.iq,z.$w,z.uz,z.he,z.nf,z.MC,z.BC,z.ai,z.Sb,z.su,z.N7,V.Wk,Pi.BC,Pi.vS]}),E})();var As=x(4572),es=x(7935);let Vo=(()=>{var v;class E{constructor(b,N){this.firestore=b,this.auth=N}addRecipe(b){return this.firestore.collection("recetas").add(b)}getAllRecipes(){return this.firestore.collection("recetas").valueChanges({idField:"id"})}getRecipesByCategory(b){return this.firestore.collection("recetas",N=>N.where("categoria","==",b)).valueChanges({idField:"id"})}deleteRecipe(b){return this.firestore.collection("recetas").doc(b).delete()}getRecipeCommentsWithUser(b){return this.firestore.collection("recetas").doc(b).collection("comentarios",N=>N.orderBy("timestamp","desc")).snapshotChanges().pipe((0,Fe.n)(N=>{const Z=N.map(Pe=>{const Lt=Pe.payload.doc.data(),ln=Pe.payload.doc.id;return this.firestore.collection("usuarios").doc(Lt.userId).get().pipe((0,ct.T)(vn=>{const ur=vn.data()||{};return{...Lt,id:ln,userName:ur.nombre||"Usuario An\xf3nimo",timestamp:Lt.timestamp.toDate()}}))});return(0,As.z)(Z)}))}addCommentWithRating(b,N,Z,Pe){var Lt=this;return this.firestore.firestore.runTransaction(function(){var ln=(0,Oe.A)(function*(vn){var ur,Jr;const hi=Lt.firestore.collection("recetas").doc(b).ref,Gr=yield vn.get(hi);if(!Gr.exists)throw new Error("Receta no encontrada");const ui=Gr.data()||{},zt=(null!==(ur=ui.ratingCount)&&void 0!==ur?ur:0)+1,yr=(null!==(Jr=ui.ratingTotal)&&void 0!==Jr?Jr:0)+Z;vn.update(hi,{ratingCount:zt,ratingTotal:yr,rating:yr/zt});const fi=Lt.firestore.collection("recetas").doc(b).collection("comentarios").doc();vn.set(fi.ref,{userId:N,rating:Z,comment:Pe,timestamp:es.A.firestore.FieldValue.serverTimestamp()})});return function(vn){return ln.apply(this,arguments)}}())}markAsFavorite(b,N,Z){return this.firestore.collection("usuarios").doc(N).collection("favoritos").doc(b).set({favorita:Z})}getFavoriteRecipes(b){return this.firestore.collection("usuarios").doc(b).collection("favoritos").valueChanges()}}return(v=E).\u0275fac=function(b){return new(b||v)(s.KVO(Ae.Qe),s.KVO(Qe.DS))},v.\u0275prov=s.jDH({token:v,factory:v.\u0275fac,providedIn:"root"}),E})();var ta=x(9842),br=x(5407),ts=x(3236),Hi=x(9974),Wr=x(4360),te=x(9253),me=x(3345),L=x(8742),Re=x(1076),It=x(1362);const Kr="firebasestorage.googleapis.com",X="storageBucket";class gt extends Re.g{constructor(E,T,b=0){super(sn(E),`Firebase Storage: ${T} (${sn(E)})`),this.status_=b,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(E){this.status_=E}_codeEquals(E){return sn(E)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(E){this.customData.serverResponse=E,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var pt=function(v){return v.UNKNOWN="unknown",v.OBJECT_NOT_FOUND="object-not-found",v.BUCKET_NOT_FOUND="bucket-not-found",v.PROJECT_NOT_FOUND="project-not-found",v.QUOTA_EXCEEDED="quota-exceeded",v.UNAUTHENTICATED="unauthenticated",v.UNAUTHORIZED="unauthorized",v.UNAUTHORIZED_APP="unauthorized-app",v.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",v.INVALID_CHECKSUM="invalid-checksum",v.CANCELED="canceled",v.INVALID_EVENT_NAME="invalid-event-name",v.INVALID_URL="invalid-url",v.INVALID_DEFAULT_BUCKET="invalid-default-bucket",v.NO_DEFAULT_BUCKET="no-default-bucket",v.CANNOT_SLICE_BLOB="cannot-slice-blob",v.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",v.NO_DOWNLOAD_URL="no-download-url",v.INVALID_ARGUMENT="invalid-argument",v.INVALID_ARGUMENT_COUNT="invalid-argument-count",v.APP_DELETED="app-deleted",v.INVALID_ROOT_OPERATION="invalid-root-operation",v.INVALID_FORMAT="invalid-format",v.INTERNAL_ERROR="internal-error",v.UNSUPPORTED_ENVIRONMENT="unsupported-environment",v}(pt||{});function sn(v){return"storage/"+v}function an(){return new gt(pt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ar(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ur(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function qr(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Gi(v){return new gt(pt.INVALID_ARGUMENT,v)}function Uo(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function Ms(v){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+v+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bo(v,E){return new gt(pt.INVALID_FORMAT,"String does not match format '"+v+"': "+E)}function ms(v){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+v)}class _i{constructor(E,T){this.bucket=E,this.path_=T}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const E=encodeURIComponent;return"/b/"+E(this.bucket)+"/o/"+E(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(E,T){let b;try{b=_i.makeFromUrl(E,T)}catch{return new _i(E,"")}if(""===b.path)return b;throw function Xr(v){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+v+"'.")}(E)}static makeFromUrl(E,T){let b=null;const N="([A-Za-z0-9.\\-_]+)",Lt=new RegExp("^gs://"+N+"(/(.*))?$","i");function vn(fi){fi.path_=decodeURIComponent(fi.path)}const Jr=T.replace(/[.]/g,"\\."),Vi=[{regex:Lt,indices:{bucket:1,path:3},postModify:function Z(fi){"/"===fi.path.charAt(fi.path.length-1)&&(fi.path_=fi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Jr}/v[A-Za-z0-9_]+/b/${N}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:vn},{regex:new RegExp(`^https?://${T===Kr?"(?:storage.googleapis.com|storage.cloud.google.com)":T}/${N}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:vn}];for(let fi=0;fi<Vi.length;fi++){const ai=Vi[fi],Fs=ai.regex.exec(E);if(Fs){let ss=Fs[ai.indices.path];ss||(ss=""),b=new _i(Fs[ai.indices.bucket],ss),ai.postModify(b);break}}if(null==b)throw function Oi(v){return new gt(pt.INVALID_URL,"Invalid URL '"+v+"'.")}(E);return b}}class no{constructor(E){this.promise_=Promise.reject(E)}getPromise(){return this.promise_}cancel(E=!1){}}function Ro(v){return"string"==typeof v||v instanceof String}function oi(v){return Di()&&v instanceof Blob}function Di(){return typeof Blob<"u"}function _e(v,E,T,b){if(b<E)throw Gi(`Invalid value for '${v}'. Expected ${E} or greater.`);if(b>T)throw Gi(`Invalid value for '${v}'. Expected ${T} or less.`)}function Ke(v,E,T){let b=E;return null==T&&(b=`https://${E}`),`${T}://${b}/v0${v}`}function Rt(v){const E=encodeURIComponent;let T="?";for(const b in v)v.hasOwnProperty(b)&&(T=T+(E(b)+"=")+E(v[b])+"&");return T=T.slice(0,-1),T}var mn=function(v){return v[v.NO_ERROR=0]="NO_ERROR",v[v.NETWORK_ERROR=1]="NETWORK_ERROR",v[v.ABORT=2]="ABORT",v}(mn||{});function xn(v,E){const T=v>=500&&v<600,N=-1!==[408,429].indexOf(v),Z=-1!==E.indexOf(v);return T||N||Z}class Tn{constructor(E,T,b,N,Z,Pe,Lt,ln,vn,ur,Jr,hi=!0){this.url_=E,this.method_=T,this.headers_=b,this.body_=N,this.successCodes_=Z,this.additionalRetryCodes_=Pe,this.callback_=Lt,this.errorCallback_=ln,this.timeout_=vn,this.progressCallback_=ur,this.connectionFactory_=Jr,this.retry=hi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Gr,ui)=>{this.resolve_=Gr,this.reject_=ui,this.start_()})}start_(){const T=(b,N)=>{const Z=this.resolve_,Pe=this.reject_,Lt=N.connection;if(N.wasSuccessCode)try{const ln=this.callback_(Lt,Lt.getResponse());!function Ts(v){return void 0!==v}(ln)?Z():Z(ln)}catch(ln){Pe(ln)}else if(null!==Lt){const ln=an();ln.serverResponse=Lt.getErrorText(),Pe(this.errorCallback_?this.errorCallback_(Lt,ln):ln)}else Pe(N.canceled?this.appDelete_?Uo():Ur():ar())};this.canceled_?T(0,new tr(!1,null,!0)):this.backoffId_=function zo(v,E,T){let b=1,N=null,Z=null,Pe=!1,Lt=0;function ln(){return 2===Lt}let vn=!1;function ur(...Pr){vn||(vn=!0,E.apply(null,Pr))}function Jr(Pr){N=setTimeout(()=>{N=null,v(Gr,ln())},Pr)}function hi(){Z&&clearTimeout(Z)}function Gr(Pr,...zt){if(vn)return void hi();if(Pr)return hi(),void ur.call(null,Pr,...zt);if(ln()||Pe)return hi(),void ur.call(null,Pr,...zt);let Vi;b<64&&(b*=2),1===Lt?(Lt=2,Vi=0):Vi=1e3*(b+Math.random()),Jr(Vi)}let ui=!1;function xi(Pr){ui||(ui=!0,hi(),!vn&&(null!==N?(Pr||(Lt=2),clearTimeout(N),Jr(0)):Pr||(Lt=1)))}return Jr(0),Z=setTimeout(()=>{Pe=!0,xi(!0)},T),xi}((b,N)=>{if(N)return void b(!1,new tr(!1,null,!0));const Z=this.connectionFactory_();this.pendingConnection_=Z;const Pe=Lt=>{null!==this.progressCallback_&&this.progressCallback_(Lt.loaded,Lt.lengthComputable?Lt.total:-1)};null!==this.progressCallback_&&Z.addUploadProgressListener(Pe),Z.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Z.removeUploadProgressListener(Pe),this.pendingConnection_=null;const Lt=Z.getErrorCode()===mn.NO_ERROR,ln=Z.getStatus();if(!Lt||xn(ln,this.additionalRetryCodes_)&&this.retry){const ur=Z.getErrorCode()===mn.ABORT;return void b(!1,new tr(!1,null,ur))}const vn=-1!==this.successCodes_.indexOf(ln);b(!0,new tr(vn,Z))})},T,this.timeout_)}getPromise(){return this.promise_}cancel(E){this.canceled_=!0,this.appDelete_=E||!1,null!==this.backoffId_&&function $o(v){v(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tr{constructor(E,T,b){this.wasSuccessCode=E,this.connection=T,this.canceled=!!b}}function Wa(...v){const E=function al(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==E){const T=new E;for(let b=0;b<v.length;b++)T.append(v[b]);return T.getBlob()}if(Di())return new Blob(v);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kl{constructor(E,T){this.data=E,this.contentType=T||null}}function ll(v,E){switch(v){case cs.RAW:return new Kl(Xl(E));case cs.BASE64:case cs.BASE64URL:return new Kl(q(v,E));case cs.DATA_URL:return new Kl(function ce(v){const E=new k(v);return E.base64?q(cs.BASE64,E.rest):function Dl(v){let E;try{E=decodeURIComponent(v)}catch{throw Bo(cs.DATA_URL,"Malformed data URL.")}return Xl(E)}(E.rest)}(E),function G(v){return new k(v).contentType}(E))}throw an()}function Xl(v){const E=[];for(let T=0;T<v.length;T++){let b=v.charCodeAt(T);b<=127?E.push(b):b<=2047?E.push(192|b>>6,128|63&b):55296==(64512&b)?T<v.length-1&&56320==(64512&v.charCodeAt(T+1))?(b=65536|(1023&b)<<10|1023&v.charCodeAt(++T),E.push(240|b>>18,128|b>>12&63,128|b>>6&63,128|63&b)):E.push(239,191,189):56320==(64512&b)?E.push(239,191,189):E.push(224|b>>12,128|b>>6&63,128|63&b)}return new Uint8Array(E)}function q(v,E){switch(v){case cs.BASE64:{const N=-1!==E.indexOf("-"),Z=-1!==E.indexOf("_");if(N||Z)throw Bo(v,"Invalid character '"+(N?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const N=-1!==E.indexOf("+"),Z=-1!==E.indexOf("/");if(N||Z)throw Bo(v,"Invalid character '"+(N?"+":"/")+"' found: is it base64 encoded?");E=E.replace(/-/g,"+").replace(/_/g,"/");break}}let T;try{T=function Wo(v){if(typeof atob>"u")throw function zn(v){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${v} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(v)}(E)}catch(N){throw N.message.includes("polyfill")?N:Bo(v,"Invalid character found")}const b=new Uint8Array(T.length);for(let N=0;N<T.length;N++)b[N]=T.charCodeAt(N);return b}class k{constructor(E){this.base64=!1,this.contentType=null;const T=E.match(/^data:([^,]+)?,/);if(null===T)throw Bo(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const b=T[1]||null;null!=b&&(this.base64=function pe(v,E){return v.length>=E.length&&v.substring(v.length-E.length)===E}(b,";base64"),this.contentType=this.base64?b.substring(0,b.length-7):b),this.rest=E.substring(E.indexOf(",")+1)}}class _n{constructor(E,T){let b=0,N="";oi(E)?(this.data_=E,b=E.size,N=E.type):E instanceof ArrayBuffer?(T?this.data_=new Uint8Array(E):(this.data_=new Uint8Array(E.byteLength),this.data_.set(new Uint8Array(E))),b=this.data_.length):E instanceof Uint8Array&&(T?this.data_=E:(this.data_=new Uint8Array(E.length),this.data_.set(E)),b=E.length),this.size_=b,this.type_=N}size(){return this.size_}type(){return this.type_}slice(E,T){if(oi(this.data_)){const N=function Ci(v,E,T){return v.webkitSlice?v.webkitSlice(E,T):v.mozSlice?v.mozSlice(E,T):v.slice?v.slice(E,T):null}(this.data_,E,T);return null===N?null:new _n(N)}{const b=new Uint8Array(this.data_.buffer,E,T-E);return new _n(b,!0)}}static getBlob(...E){if(Di()){const T=E.map(b=>b instanceof _n?b.data_:b);return new _n(Wa.apply(null,T))}{const T=E.map(Pe=>Ro(Pe)?ll(cs.RAW,Pe).data:Pe.data_);let b=0;T.forEach(Pe=>{b+=Pe.byteLength});const N=new Uint8Array(b);let Z=0;return T.forEach(Pe=>{for(let Lt=0;Lt<Pe.length;Lt++)N[Z++]=Pe[Lt]}),new _n(N,!0)}}uploadData(){return this.data_}}function pr(v){let E;try{E=JSON.parse(v)}catch{return null}return function uo(v){return"object"==typeof v&&!Array.isArray(v)}(E)?E:null}function _o(v){const E=v.lastIndexOf("/",v.length-2);return-1===E?v:v.slice(E+1)}function kr(v,E){return E}class Eo{constructor(E,T,b,N){this.server=E,this.local=T||E,this.writable=!!b,this.xform=N||kr}}let jo=null;function zs(){if(jo)return jo;const v=[];v.push(new Eo("bucket")),v.push(new Eo("generation")),v.push(new Eo("metageneration")),v.push(new Eo("name","fullPath",!0));const T=new Eo("name");T.xform=function E(Z,Pe){return function na(v){return!Ro(v)||v.length<2?v:_o(v)}(Pe)},v.push(T);const N=new Eo("size");return N.xform=function b(Z,Pe){return void 0!==Pe?Number(Pe):Pe},v.push(N),v.push(new Eo("timeCreated")),v.push(new Eo("updated")),v.push(new Eo("md5Hash",null,!0)),v.push(new Eo("cacheControl",null,!0)),v.push(new Eo("contentDisposition",null,!0)),v.push(new Eo("contentEncoding",null,!0)),v.push(new Eo("contentLanguage",null,!0)),v.push(new Eo("contentType",null,!0)),v.push(new Eo("metadata","customMetadata",!0)),jo=v,jo}function Ws(v,E,T){const b=pr(E);return null===b?null:function Ko(v,E,T){const b={type:"file"},N=T.length;for(let Z=0;Z<N;Z++){const Pe=T[Z];b[Pe.local]=Pe.xform(b,E[Pe.server])}return function _a(v,E){Object.defineProperty(v,"ref",{get:function T(){const Z=new _i(v.bucket,v.fullPath);return E._makeStorageReference(Z)}})}(b,v),b}(v,b,T)}function Ks(v,E){const T={},b=E.length;for(let N=0;N<b;N++){const Z=E[N];Z.writable&&(T[Z.server]=v[Z.local])}return JSON.stringify(T)}const Ka="prefixes",ra="items";class is{constructor(E,T,b,N){this.url=E,this.method=T,this.handler=b,this.timeout=N,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _s(v){if(!v)throw an()}function Xa(v,E){return function T(b,N){const Z=Ws(v,N,E);return _s(null!==Z),Z}}function Sl(v){return function E(T,b){let N;return N=401===T.getStatus()?T.getErrorText().includes("Firebase App Check token is invalid")?function Bn(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Nn(){return new gt(pt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===T.getStatus()?function dn(v){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+v+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(v.bucket):403===T.getStatus()?function Yn(v){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+v+"'.")}(v.path):b,N.status=T.getStatus(),N.serverResponse=b.serverResponse,N}}function ko(v){const E=Sl(v);return function T(b,N){let Z=E(b,N);return 404===b.getStatus()&&(Z=function nn(v){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+v+"' does not exist.")}(v.path)),Z.serverResponse=N.serverResponse,Z}}function ql(v,E,T){const N=Ke(E.fullServerUrl(),v.host,v._protocol),Pe=v.maxOperationRetryTime,Lt=new is(N,"GET",Xa(v,T),Pe);return Lt.errorHandler=ko(E),Lt}function Ql(v,E,T,b,N){const Z={};Z.prefix=E.isRoot?"":E.path+"/",T&&T.length>0&&(Z.delimiter=T),b&&(Z.pageToken=b),N&&(Z.maxResults=N);const Lt=Ke(E.bucketOnlyServerUrl(),v.host,v._protocol),vn=v.maxOperationRetryTime,ur=new is(Lt,"GET",function Ic(v,E){return function T(b,N){const Z=function bs(v,E,T){const b=pr(T);return null===b?null:function wr(v,E,T){const b={prefixes:[],items:[],nextPageToken:T.nextPageToken};if(T[Ka])for(const N of T[Ka]){const Z=N.replace(/\/$/,""),Pe=v._makeStorageReference(new _i(E,Z));b.prefixes.push(Pe)}if(T[ra])for(const N of T[ra]){const Z=v._makeStorageReference(new _i(E,N.name));b.items.push(Z)}return b}(v,E,b)}(v,E,N);return _s(null!==Z),Z}}(v,E.bucket),vn);return ur.urlParams=Z,ur.errorHandler=Sl(E),ur}function qs(v,E,T){const b=Object.assign({},T);return b.fullPath=v.path,b.size=E.size(),b.contentType||(b.contentType=function cl(v,E){return v&&v.contentType||E&&E.type()||"application/octet-stream"}(null,E)),b}class Rl{constructor(E,T,b,N){this.current=E,this.total=T,this.finalized=!!b,this.metadata=N||null}}function Dr(v,E){let T=null;try{T=v.getResponseHeader("X-Goog-Upload-Status")}catch{_s(!1)}return _s(!!T&&-1!==(E||["active"]).indexOf(T)),T}const Yc={STATE_CHANGED:"state_changed"},Po={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ya(v){switch(v){case"running":case"pausing":case"canceling":return Po.RUNNING;case"paused":return Po.PAUSED;case"success":return Po.SUCCESS;case"canceled":return Po.CANCELED;default:return Po.ERROR}}class Hr{constructor(E,T,b){if(function xa(v){return"function"==typeof v}(E)||null!=T||null!=b)this.next=E,this.error=null!=T?T:void 0,this.complete=null!=b?b:void 0;else{const Z=E;this.next=Z.next,this.error=Z.error,this.complete=Z.complete}}}function Xo(v){return(...E)=>{Promise.resolve().then(()=>v(...E))}}let ia=null;class qi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mn.NO_ERROR,this.sendPromise_=new Promise(E=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mn.ABORT,E()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mn.NETWORK_ERROR,E()}),this.xhr_.addEventListener("load",()=>{E()})})}send(E,T,b,N){if(this.sent_)throw ms("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(T,E,!0),void 0!==N)for(const Z in N)N.hasOwnProperty(Z)&&this.xhr_.setRequestHeader(Z,N[Z].toString());return void 0!==b?this.xhr_.send(b):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ms("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ms("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ms("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ms("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(E){return this.xhr_.getResponseHeader(E)}addUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",E)}removeUploadProgressListener(E){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",E)}}class Cc extends qi{initXhr(){this.xhr_.responseType="text"}}function os(){return ia?ia():new Cc}class ye{constructor(E,T,b=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=E,this._blob=T,this._metadata=b,this._mappings=zs(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=N=>{if(this._request=void 0,this._chunkMultiplier=1,N._codeEquals(pt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Z=this.isExponentialBackoffExpired();if(xn(N.status,[])){if(!Z)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();N=ar()}this._error=N,this._transition("error")}},this._metadataErrorHandler=N=>{this._request=void 0,N._codeEquals(pt.CANCELED)?this.completeTransitions_():(this._error=N,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((N,Z)=>{this._resolve=N,this._reject=Z,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const E=this._transferred;return T=>this._updateProgress(E+T)}_shouldDoResumable(E){return E.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(E){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([T,b])=>{switch(this._state){case"running":E(T,b);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((E,T)=>{const b=function Ai(v,E,T,b,N){const Z=E.bucketOnlyServerUrl(),Pe=qs(E,b,N),Lt={name:Pe.fullPath},ln=Ke(Z,v.host,v._protocol),ur={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${b.size()}`,"X-Goog-Upload-Header-Content-Type":Pe.contentType,"Content-Type":"application/json; charset=utf-8"},Jr=Ks(Pe,T),ui=new is(ln,"POST",function Gr(xi){let Pr;Dr(xi);try{Pr=xi.getResponseHeader("X-Goog-Upload-URL")}catch{_s(!1)}return _s(Ro(Pr)),Pr},v.maxUploadRetryTime);return ui.urlParams=Lt,ui.headers=ur,ui.body=Jr,ui.errorHandler=Sl(E),ui}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),N=this._ref.storage._makeRequest(b,os,E,T);this._request=N,N.getPromise().then(Z=>{this._request=void 0,this._uploadUrl=Z,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const E=this._uploadUrl;this._resolveToken((T,b)=>{const N=function Ec(v,E,T,b){const ln=new is(T,"POST",function Z(vn){const ur=Dr(vn,["active","final"]);let Jr=null;try{Jr=vn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{_s(!1)}Jr||_s(!1);const hi=Number(Jr);return _s(!isNaN(hi)),new Rl(hi,b.size(),"final"===ur)},v.maxUploadRetryTime);return ln.headers={"X-Goog-Upload-Command":"query"},ln.errorHandler=Sl(E),ln}(this._ref.storage,this._ref._location,E,this._blob),Z=this._ref.storage._makeRequest(N,os,T,b);this._request=Z,Z.getPromise().then(Pe=>{this._request=void 0,this._updateProgress(Pe.current),this._needToFetchStatus=!1,Pe.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const E=262144*this._chunkMultiplier,T=new Rl(this._transferred,this._blob.size()),b=this._uploadUrl;this._resolveToken((N,Z)=>{let Pe;try{Pe=function Ya(v,E,T,b,N,Z,Pe,Lt){const ln=new Rl(0,0);if(Pe?(ln.current=Pe.current,ln.total=Pe.total):(ln.current=0,ln.total=b.size()),b.size()!==ln.total)throw function ns(){return new gt(pt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const vn=ln.total-ln.current;let ur=vn;N>0&&(ur=Math.min(ur,N));const Jr=ln.current;let Gr="";Gr=0===ur?"finalize":vn===ur?"upload, finalize":"upload";const ui={"X-Goog-Upload-Command":Gr,"X-Goog-Upload-Offset":`${ln.current}`},xi=b.slice(Jr,Jr+ur);if(null===xi)throw qr();const Vi=new is(T,"POST",function Pr(fi,ai){const Fs=Dr(fi,["active","final"]),ua=ln.current+ur,ss=b.size();let lc;return lc="final"===Fs?Xa(E,Z)(fi,ai):null,new Rl(ua,ss,"final"===Fs,lc)},E.maxUploadRetryTime);return Vi.headers=ui,Vi.body=xi.uploadData(),Vi.progressCallback=Lt||null,Vi.errorHandler=Sl(v),Vi}(this._ref._location,this._ref.storage,b,this._blob,E,this._mappings,T,this._makeProgressCallback())}catch(ln){return this._error=ln,void this._transition("error")}const Lt=this._ref.storage._makeRequest(Pe,os,N,Z,!1);this._request=Lt,Lt.getPromise().then(ln=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(ln.current),ln.finalized?(this._metadata=ln.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((E,T)=>{const b=ql(this._ref.storage,this._ref._location,this._mappings),N=this._ref.storage._makeRequest(b,os,E,T);this._request=N,N.getPromise().then(Z=>{this._request=void 0,this._metadata=Z,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((E,T)=>{const b=function xr(v,E,T,b,N){const Z=E.bucketOnlyServerUrl(),Pe={"X-Goog-Upload-Protocol":"multipart"},ln=function Lt(){let Vi="";for(let fi=0;fi<2;fi++)Vi+=Math.random().toString().slice(2);return Vi}();Pe["Content-Type"]="multipart/related; boundary="+ln;const vn=qs(E,b,N),ur=Ks(vn,T),Gr=_n.getBlob("--"+ln+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ur+"\r\n--"+ln+"\r\nContent-Type: "+vn.contentType+"\r\n\r\n",b,"\r\n--"+ln+"--");if(null===Gr)throw qr();const ui={name:vn.fullPath},xi=Ke(Z,v.host,v._protocol),zt=v.maxUploadRetryTime,yr=new is(xi,"POST",Xa(v,T),zt);return yr.urlParams=ui,yr.headers=Pe,yr.body=Gr.uploadData(),yr.errorHandler=Sl(E),yr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),N=this._ref.storage._makeRequest(b,os,E,T);this._request=N,N.getPromise().then(Z=>{this._request=void 0,this._metadata=Z,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(E){const T=this._transferred;this._transferred=E,this._transferred!==T&&this._notifyObservers()}_transition(E){if(this._state!==E)switch(E){case"canceling":case"pausing":this._state=E,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const T="paused"===this._state;this._state=E,T&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=E,this._notifyObservers();break;case"canceled":this._error=Ur(),this._state=E,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const E=ya(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:E,metadata:this._metadata,task:this,ref:this._ref}}on(E,T,b,N){const Z=new Hr(T||void 0,b||void 0,N||void 0);return this._addObserver(Z),()=>{this._removeObserver(Z)}}then(E,T){return this._promise.then(E,T)}catch(E){return this.then(null,E)}_addObserver(E){this._observers.push(E),this._notifyObserver(E)}_removeObserver(E){const T=this._observers.indexOf(E);-1!==T&&this._observers.splice(T,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(T=>{this._notifyObserver(T)})}_finishPromise(){if(void 0!==this._resolve){let E=!0;switch(ya(this._state)){case Po.SUCCESS:Xo(this._resolve.bind(null,this.snapshot))();break;case Po.CANCELED:case Po.ERROR:Xo(this._reject.bind(null,this._error))();break;default:E=!1}E&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(E){switch(ya(this._state)){case Po.RUNNING:case Po.PAUSED:E.next&&Xo(E.next.bind(E,this.snapshot))();break;case Po.SUCCESS:E.complete&&Xo(E.complete.bind(E))();break;default:E.error&&Xo(E.error.bind(E,this._error))()}}resume(){const E="paused"===this._state||"pausing"===this._state;return E&&this._transition("running"),E}pause(){const E="running"===this._state;return E&&this._transition("pausing"),E}cancel(){const E="running"===this._state||"pausing"===this._state;return E&&this._transition("canceling"),E}}class $e{constructor(E,T){this._service=E,this._location=T instanceof _i?T:_i.makeFromUrl(T,E.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(E,T){return new $e(E,T)}get root(){const E=new _i(this._location.bucket,"");return this._newRef(this._service,E)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _o(this._location.path)}get storage(){return this._service}get parent(){const E=function ki(v){if(0===v.length)return null;const E=v.lastIndexOf("/");return-1===E?"":v.slice(0,E)}(this._location.path);if(null===E)return null;const T=new _i(this._location.bucket,E);return new $e(this._service,T)}_throwIfRoot(E){if(""===this._location.path)throw Ms(E)}}function Vr(v,E,T){return ci.apply(this,arguments)}function ci(){return(ci=(0,Oe.A)(function*(v,E,T){const N=yield Kn(v,{pageToken:T});E.prefixes.push(...N.prefixes),E.items.push(...N.items),null!=N.nextPageToken&&(yield Vr(v,E,N.nextPageToken))})).apply(this,arguments)}function Kn(v,E){null!=E&&"number"==typeof E.maxResults&&_e("options.maxResults",1,1e3,E.maxResults);const T=E||{},b=Ql(v.storage,v._location,"/",T.pageToken,T.maxResults);return v.storage.makeRequestWithTokens(b,os)}function vs(v){v._throwIfRoot("getDownloadURL");const E=function us(v,E,T){const N=Ke(E.fullServerUrl(),v.host,v._protocol),Pe=v.maxOperationRetryTime,Lt=new is(N,"GET",function Xs(v,E){return function T(b,N){const Z=Ws(v,N,E);return _s(null!==Z),function ka(v,E,T,b){const N=pr(E);if(null===N||!Ro(N.downloadTokens))return null;const Z=N.downloadTokens;if(0===Z.length)return null;const Pe=encodeURIComponent;return Z.split(",").map(vn=>{const Jr=v.fullPath;return Ke("/b/"+Pe(v.bucket)+"/o/"+Pe(Jr),T,b)+Rt({alt:"media",token:vn})})[0]}(Z,N,v.host,v._protocol)}}(v,T),Pe);return Lt.errorHandler=ko(E),Lt}(v.storage,v._location,zs());return v.storage.makeRequestWithTokens(E,os).then(T=>{if(null===T)throw function mo(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return T})}function Is(v,E){const T=function Mo(v,E){const T=E.split("/").filter(b=>b.length>0).join("/");return 0===v.length?T:v+"/"+T}(v._location.path,E),b=new _i(v._location.bucket,T);return new $e(v.storage,b)}function Qs(v,E){if(v instanceof Yr){const T=v;if(null==T._bucket)throw function mi(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+X+"' property when initializing the app?")}();const b=new $e(T,T._bucket);return null!=E?Qs(b,E):b}return void 0!==E?Is(v,E):v}function vu(v,E){if(E&&function Ps(v){return/^[A-Za-z]+:\/\//.test(v)}(E)){if(v instanceof Yr)return function La(v,E){return new $e(v,E)}(v,E);throw Gi("To use ref(service, url), the first argument must be a Storage instance.")}return Qs(v,E)}function Ml(v,E){const T=null==E?void 0:E[X];return null==T?null:_i.makeFromBucketSpec(T,v)}class Yr{constructor(E,T,b,N,Z){this.app=E,this._authProvider=T,this._appCheckProvider=b,this._url=N,this._firebaseVersion=Z,this._bucket=null,this._host=Kr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=N?_i.makeFromBucketSpec(N,this._host):Ml(this._host,this.app.options)}get host(){return this._host}set host(E){this._host=E,this._bucket=null!=this._url?_i.makeFromBucketSpec(this._url,E):Ml(E,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(E){_e("time",0,Number.POSITIVE_INFINITY,E),this._maxUploadRetryTime=E}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(E){_e("time",0,Number.POSITIVE_INFINITY,E),this._maxOperationRetryTime=E}_getAuthToken(){var E=this;return(0,Oe.A)(function*(){if(E._overrideAuthToken)return E._overrideAuthToken;const T=E._authProvider.getImmediate({optional:!0});if(T){const b=yield T.getToken();if(null!==b)return b.accessToken}return null})()}_getAppCheckToken(){var E=this;return(0,Oe.A)(function*(){const T=E._appCheckProvider.getImmediate({optional:!0});return T?(yield T.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(E=>E.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(E){return new $e(this,E)}_makeRequest(E,T,b,N,Z=!0){if(this._deleted)return new no(Uo());{const Pe=function Fr(v,E,T,b,N,Z,Pe=!0){const Lt=Rt(v.urlParams),ln=v.url+Lt,vn=Object.assign({},v.headers);return function lr(v,E){E&&(v["X-Firebase-GMPID"]=E)}(vn,E),function Bi(v,E){null!==E&&E.length>0&&(v.Authorization="Firebase "+E)}(vn,T),function Xi(v,E){v["X-Firebase-Storage-Version"]="webjs/"+(null!=E?E:"AppManager")}(vn,Z),function rs(v,E){null!==E&&(v["X-Firebase-AppCheck"]=E)}(vn,b),new Tn(ln,v.method,vn,v.body,v.successCodes,v.additionalRetryCodes,v.handler,v.errorHandler,v.timeout,v.progressCallback,N,Pe)}(E,this._appId,b,N,T,this._firebaseVersion,Z);return this._requests.add(Pe),Pe.getPromise().then(()=>this._requests.delete(Pe),()=>this._requests.delete(Pe)),Pe}}makeRequestWithTokens(E,T){var b=this;return(0,Oe.A)(function*(){const[N,Z]=yield Promise.all([b._getAuthToken(),b._getAppCheckToken()]);return b._makeRequest(E,T,N,Z).getPromise()})()}}const ul="@firebase/storage";function rd(v,E){return vu(v=(0,Re.Ku)(v),E)}function Tc(v,{instanceIdentifier:E}){const T=v.getProvider("app").getImmediate(),b=v.getProvider("auth-internal"),N=v.getProvider("app-check-internal");return new Yr(T,b,N,E,L.SDK_VERSION)}!function bc(){(0,L._registerComponent)(new It.uA("storage",Tc,"PUBLIC").setMultipleInstances(!0)),(0,L.registerVersion)(ul,"0.13.1",""),(0,L.registerVersion)(ul,"0.13.1","esm2017")}();class Ua{constructor(E,T,b){this._delegate=E,this.task=T,this.ref=b}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Os{constructor(E,T){this._delegate=E,this._ref=T,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ua(this._delegate.snapshot,this,this._ref)}then(E,T){return this._delegate.then(b=>{if(E)return E(new Ua(b,this,this._ref))},T)}on(E,T,b,N){let Z;return T&&(Z="function"==typeof T?Pe=>T(new Ua(Pe,this,this._ref)):{next:T.next?Pe=>T.next(new Ua(Pe,this,this._ref)):void 0,complete:T.complete||void 0,error:T.error||void 0}),this._delegate.on(E,Z,b||void 0,N||void 0)}}class qo{constructor(E,T){this._delegate=E,this._service=T}get prefixes(){return this._delegate.prefixes.map(E=>new Ns(E,this._service))}get items(){return this._delegate.items.map(E=>new Ns(E,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ns{constructor(E,T){this._delegate=E,this.storage=T}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(E){const T=function Ol(v,E){return Is(v,E)}(this._delegate,E);return new Ns(T,this.storage)}get root(){return new Ns(this._delegate.root,this.storage)}get parent(){const E=this._delegate.parent;return null==E?null:new Ns(E,this.storage)}put(E,T){return this._throwIfRoot("put"),new Os(function Iu(v,E,T){return function si(v,E,T){return v._throwIfRoot("uploadBytesResumable"),new ye(v,new _n(E),T)}(v=(0,Re.Ku)(v),E,T)}(this._delegate,E,T),this)}putString(E,T=cs.RAW,b){this._throwIfRoot("putString");const N=ll(T,E),Z=Object.assign({},b);return null==Z.contentType&&null!=N.contentType&&(Z.contentType=N.contentType),new Os(new ye(this._delegate,new _n(N.data,!0),Z),this)}listAll(){return function vo(v){return function Lr(v){const E={prefixes:[],items:[]};return Vr(v,E).then(()=>E)}(v=(0,Re.Ku)(v))}(this._delegate).then(E=>new qo(E,this.storage))}list(E){return function Yl(v,E){return Kn(v=(0,Re.Ku)(v),E)}(this._delegate,E||void 0).then(T=>new qo(T,this.storage))}getMetadata(){return function Jc(v){return function ds(v){v._throwIfRoot("getMetadata");const E=ql(v.storage,v._location,zs());return v.storage.makeRequestWithTokens(E,os)}(v=(0,Re.Ku)(v))}(this._delegate)}updateMetadata(E){return function dl(v,E){return function Li(v,E){v._throwIfRoot("updateMetadata");const T=function qa(v,E,T,b){const Z=Ke(E.fullServerUrl(),v.host,v._protocol),Lt=Ks(T,b),vn=v.maxOperationRetryTime,ur=new is(Z,"PATCH",Xa(v,b),vn);return ur.headers={"Content-Type":"application/json; charset=utf-8"},ur.body=Lt,ur.errorHandler=ko(E),ur}(v.storage,v._location,E,zs());return v.storage.makeRequestWithTokens(T,os)}(v=(0,Re.Ku)(v),E)}(this._delegate,E)}getDownloadURL(){return function Pl(v){return vs(v=(0,Re.Ku)(v))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ro(v){return function ys(v){v._throwIfRoot("deleteObject");const E=function Qa(v,E){const b=Ke(E.fullServerUrl(),v.host,v._protocol),Lt=new is(b,"DELETE",function Pe(ln,vn){},v.maxOperationRetryTime);return Lt.successCodes=[200,204],Lt.errorHandler=ko(E),Lt}(v.storage,v._location);return v.storage.makeRequestWithTokens(E,os)}(v=(0,Re.Ku)(v))}(this._delegate)}_throwIfRoot(E){if(""===this._delegate._location.path)throw Ms(E)}}class wc{constructor(E,T){this.app=E,this._delegate=T}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(E){if(so(E))throw Gi("ref() expected a child path but got a URL, use refFromURL instead.");return new Ns(rd(this._delegate,E),this)}refFromURL(E){if(!so(E))throw Gi("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_i.makeFromUrl(E,this._delegate.host)}catch{throw Gi("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ns(rd(this._delegate,E),this)}setMaxUploadRetryTime(E){this._delegate.maxUploadRetryTime=E}setMaxOperationRetryTime(E){this._delegate.maxOperationRetryTime=E}useEmulator(E,T,b={}){!function vi(v,E,T,b={}){!function Co(v,E,T,b={}){v.host=`${E}:${T}`,v._protocol="http";const{mockUserToken:N}=b;N&&(v._overrideAuthToken="string"==typeof N?N:(0,Re.Fy)(N,v.app.options.projectId))}(v,E,T,b)}(this._delegate,E,T,b)}}function so(v){return/^[A-Za-z]+:\/\//.test(v)}function $a(v,{instanceIdentifier:E}){const T=v.getProvider("app-compat").getImmediate(),b=v.getProvider("storage").getImmediate({identifier:E});return new wc(T,b)}function Eu(v){const E=function eu(v){return new mt.c(E=>{const T=Pe=>E.next(Pe);T(v.snapshot);const Z=v.on("state_changed",T);return v.then(Pe=>{T(Pe),E.complete()},Pe=>{T(v.snapshot),(Pe=>{E.error(Pe)})(Pe)}),function(){Z()}}).pipe(function O(v,E=ts.E){return(0,Hi.N)((T,b)=>{let N=null,Z=null,Pe=null;const Lt=()=>{if(N){N.unsubscribe(),N=null;const vn=Z;Z=null,b.next(vn)}};function ln(){const vn=Pe+v,ur=E.now();if(ur<vn)return N=this.schedule(void 0,vn-ur),void b.add(N);Lt()}T.subscribe((0,Wr._)(b,vn=>{Z=vn,Pe=E.now(),N||(N=E.schedule(ln,v),b.add(N))},()=>{Lt(),b.complete()},void 0,()=>{Z=N=null}))})}(0))}(v);return{task:v,then:v.then.bind(v),catch:v.catch.bind(v),pause:v.pause.bind(v),cancel:v.cancel.bind(v),resume:v.resume.bind(v),snapshotChanges:()=>E,percentageChanges:()=>E.pipe((0,ct.T)(T=>T.bytesTransferred/T.totalBytes*100))}}function Dc(v){return{getDownloadURL:()=>(0,Ct.of)(void 0).pipe(br.Oe,(0,Fe.n)(()=>v.getDownloadURL()),br.U0),getMetadata:()=>(0,Ct.of)(void 0).pipe(br.Oe,(0,Fe.n)(()=>v.getMetadata()),br.U0),delete:()=>(0,lt.H)(v.delete()),child:E=>Dc(v.child(E)),updateMetadata:E=>(0,lt.H)(v.updateMetadata(E)),put:(E,T)=>Eu(v.put(E,T)),putString:(E,T,b)=>Eu(v.putString(E,T,b)),list:E=>(0,lt.H)(v.list(E)),listAll:()=>(0,lt.H)(v.listAll())}}!function aa(v){const E={TaskState:Po,TaskEvent:Yc,StringFormat:cs,Storage:wc,Reference:Ns};v.INTERNAL.registerComponent(new It.uA("storage-compat",$a,"PUBLIC").setServiceProps(E).setMultipleInstances(!0)),v.registerVersion("@firebase/storage-compat","0.3.11")}(me.A);const Ys=new s.nKC("angularfire2.storageBucket"),id=new s.nKC("angularfire2.storage.maxUploadRetryTime"),Cu=new s.nKC("angularfire2.storage.maxOperationRetryTime"),C=new s.nKC("angularfire2.storage.use-emulator");let M=(()=>{var v;class E{constructor(b,N,Z,Pe,Lt,ln,vn,ur,Jr,hi){(0,ta.A)(this,"storage",void 0);const Gr=(0,te.iB)(b,Lt,N);this.storage=(0,te.BM)(`${Gr.name}.storage.${Z}`,"AngularFireStorage",Gr.name,()=>{const ui=Lt.runOutsideAngular(()=>Gr.storage(Z||void 0)),xi=Jr;return xi&&ui.useEmulator(...xi),vn&&ui.setMaxUploadRetryTime(vn),ur&&ui.setMaxOperationRetryTime(ur),ui},[vn,ur])}ref(b){return Dc(this.storage.ref(b))}refFromURL(b){return Dc(this.storage.refFromURL(b))}upload(b,N,Z){return Dc(this.storage.ref(b)).put(N,Z)}}return v=E,(0,ta.A)(E,"\u0275fac",function(b){return new(b||v)(s.KVO(te.rx),s.KVO(te.uP,8),s.KVO(Ys,8),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(br.u0),s.KVO(id,8),s.KVO(Cu,8),s.KVO(C,8),s.KVO(br.Jv,8))}),(0,ta.A)(E,"\u0275prov",s.jDH({token:v,factory:v.\u0275fac,providedIn:"any"})),E})();function fe(v,E){if(1&v&&(s.j41(0,"ion-item"),s.nrm(1,"img",17),s.k0s()),2&v){const T=s.XpG();s.R7$(),s.Y8G("src",T.imagePreview,s.B4B)}}function Ce(v,E){if(1&v&&(s.j41(0,"ion-select-option",18),s.EFF(1),s.k0s()),2&v){const T=E.$implicit;s.Y8G("value",T.nombre),s.R7$(),s.JRh(T.nombre)}}function Ut(v,E){if(1&v&&(s.j41(0,"ion-item"),s.EFF(1),s.k0s()),2&v){const T=E.$implicit;s.R7$(),s.E5c(" ",T.nombre," - ",T.cantidad," ",T.unidad," ")}}let pn=(()=>{var v;class E{constructor(b,N,Z,Pe){this.recipeService=b,this.inventoryService=N,this.auth=Z,this.storage=Pe,this.titulo="",this.imageUrl=null,this.descripcion="",this.categoria="desayuno",this.ingredientes=[],this.ingrediente="",this.cantidadIngrediente=1,this.unidadIngrediente="unidad",this.selectedFile=null,this.imagePreview=null,this.globalItems=[]}ngOnInit(){this.loadGlobalItems()}loadGlobalItems(){this.inventoryService.getGlobalItems().subscribe(b=>{this.globalItems=b})}addIngredient(){if(this.ingrediente.trim()){const b={nombre:this.ingrediente.trim(),cantidad:this.cantidadIngrediente,unidad:this.unidadIngrediente};this.ingredientes.push(b),this.ingrediente="",this.cantidadIngrediente=1,this.unidadIngrediente="unidad"}}addRecipe(){if(this.selectedFile){const b=`recipes/${(new Date).getTime()}_${this.selectedFile.name}`,N=this.storage.ref(b);this.storage.upload(b,this.selectedFile).snapshotChanges().pipe((0,Me.j)(()=>{N.getDownloadURL().subscribe(Pe=>{this.imageUrl=Pe,this.saveRecipe()})})).subscribe(()=>{},Pe=>console.error("Error al subir la imagen:",Pe))}else this.saveRecipe()}saveRecipe(){this.auth.user.subscribe(b=>{b&&this.recipeService.addRecipe({titulo:this.titulo,imageUrl:this.imageUrl,descripcion:this.descripcion,categoria:this.categoria,ingredientes:this.ingredientes,creadorId:b.uid}).then(()=>{}).catch(Z=>{console.error("Error al agregar la receta:",Z)})})}onFileSelected(b){var N;const Z=null===(N=b.target.files)||void 0===N?void 0:N[0];if(Z){this.selectedFile=Z;const Pe=new FileReader;Pe.onload=()=>{this.imagePreview=Pe.result},Pe.readAsDataURL(Z)}}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(Vo),s.rXU(go),s.rXU(Qe.DS),s.rXU(M))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-add-recipe"]],decls:57,vars:9,consts:[["slot","start"],["position","stacked"],[3,"ngModelChange","ngModel"],["type","file","accept","image/*",3,"change"],[4,"ngIf"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModelChange","ngModel"],["value","gramos"],["value","ml"],["value","unidad"],[3,"click"],[4,"ngFor","ngForOf"],["expand","full",3,"click"],["alt","Vista previa de la imagen",2,"width","100%","max-height","200px",3,"src"],[3,"value"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-menu-button"),s.k0s(),s.j41(4,"ion-title"),s.EFF(5,"Agregar Receta"),s.k0s()()(),s.j41(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-label",1),s.EFF(10,"T\xedtulo"),s.k0s(),s.j41(11,"ion-input",2),s.mxI("ngModelChange",function(Pe){return s.DH7(N.titulo,Pe)||(N.titulo=Pe),Pe}),s.k0s()(),s.j41(12,"ion-item")(13,"input",3),s.bIt("change",function(Pe){return N.onFileSelected(Pe)}),s.k0s()(),s.DNE(14,fe,2,1,"ion-item",4),s.j41(15,"ion-item")(16,"ion-label",1),s.EFF(17,"Descripci\xf3n"),s.k0s(),s.j41(18,"ion-textarea",2),s.mxI("ngModelChange",function(Pe){return s.DH7(N.descripcion,Pe)||(N.descripcion=Pe),Pe}),s.k0s()(),s.j41(19,"ion-item")(20,"ion-label"),s.EFF(21,"Categor\xeda"),s.k0s(),s.j41(22,"ion-select",2),s.mxI("ngModelChange",function(Pe){return s.DH7(N.categoria,Pe)||(N.categoria=Pe),Pe}),s.j41(23,"ion-select-option",5),s.EFF(24,"Desayuno"),s.k0s(),s.j41(25,"ion-select-option",6),s.EFF(26,"Almuerzo"),s.k0s(),s.j41(27,"ion-select-option",7),s.EFF(28,"Cena"),s.k0s(),s.j41(29,"ion-select-option",8),s.EFF(30,"Postre"),s.k0s()()(),s.j41(31,"ion-item")(32,"ion-label"),s.EFF(33,"Seleccionar Ingrediente"),s.k0s(),s.j41(34,"ion-select",2),s.mxI("ngModelChange",function(Pe){return s.DH7(N.ingrediente,Pe)||(N.ingrediente=Pe),Pe}),s.DNE(35,Ce,2,2,"ion-select-option",9),s.k0s()(),s.j41(36,"ion-item")(37,"ion-label",1),s.EFF(38,"Cantidad"),s.k0s(),s.j41(39,"ion-input",10),s.mxI("ngModelChange",function(Pe){return s.DH7(N.cantidadIngrediente,Pe)||(N.cantidadIngrediente=Pe),Pe}),s.k0s()(),s.j41(40,"ion-item")(41,"ion-label"),s.EFF(42,"Unidad"),s.k0s(),s.j41(43,"ion-select",2),s.mxI("ngModelChange",function(Pe){return s.DH7(N.unidadIngrediente,Pe)||(N.unidadIngrediente=Pe),Pe}),s.j41(44,"ion-select-option",11),s.EFF(45,"Gramos"),s.k0s(),s.j41(46,"ion-select-option",12),s.EFF(47,"Mililitros"),s.k0s(),s.j41(48,"ion-select-option",13),s.EFF(49,"Unidad"),s.k0s()()(),s.j41(50,"ion-item")(51,"ion-button",14),s.bIt("click",function(){return N.addIngredient()}),s.EFF(52,"A\xf1adir Ingrediente"),s.k0s()(),s.j41(53,"ion-list"),s.DNE(54,Ut,2,3,"ion-item",15),s.k0s(),s.j41(55,"ion-button",16),s.bIt("click",function(){return N.addRecipe()}),s.EFF(56,"Agregar Receta"),s.k0s()()()),2&b&&(s.R7$(11),s.R50("ngModel",N.titulo),s.R7$(3),s.Y8G("ngIf",N.imagePreview),s.R7$(4),s.R50("ngModel",N.descripcion),s.R7$(4),s.R50("ngModel",N.categoria),s.R7$(12),s.R50("ngModel",N.ingrediente),s.R7$(),s.Y8G("ngForOf",N.globalItems),s.R7$(4),s.R50("ngModel",N.cantidadIngrediente),s.R7$(4),s.R50("ngModel",N.unidadIngrediente),s.R7$(11),s.Y8G("ngForOf",N.ingredientes))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.W9,z.eU,z.$w,z.uz,z.he,z.nf,z.MC,z.Nm,z.Ip,z.nc,z.BC,z.ai,z.su,z.Je,z.Gw,Pi.BC,Pi.vS]}),E})();const Gt=()=>[1,2,3,4,5];function Qn(v,E){if(1&v&&s.nrm(0,"ion-img",11),2&v){const T=s.XpG().$implicit;s.Y8G("src",T.imageUrl)}}function Or(v,E){if(1&v&&s.nrm(0,"ion-icon",12),2&v){const T=E.$implicit,b=s.XpG().$implicit;s.Y8G("name",T<=b.calificacionPromedio?"star":"star-outline")}}function Ti(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-button",13),s.bIt("click",function(){s.eBV(T);const N=s.XpG().$implicit,Z=s.XpG();return s.Njj(Z.deleteRecipe(N.id))}),s.EFF(1," Eliminar "),s.k0s()}}function Br(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-card",4),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.DNE(1,Qn,1,1,"ion-img",5),s.j41(2,"div",6),s.DNE(3,Or,1,1,"ion-icon",7),s.k0s(),s.j41(4,"ion-card-header")(5,"ion-card-title"),s.EFF(6),s.k0s()(),s.j41(7,"ion-card-content"),s.EFF(8),s.nI1(9,"slice"),s.j41(10,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.EFF(11,"Ver m\xe1s"),s.k0s(),s.DNE(12,Ti,2,0,"ion-button",9),s.j41(13,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.addToFavorites(N.id,N.categoria))}),s.nrm(14,"ion-icon",10),s.k0s()()()}if(2&v){const T=E.$implicit,b=s.XpG();s.R7$(),s.Y8G("ngIf",T.imageUrl),s.R7$(2),s.Y8G("ngForOf",s.lJ4(11,Gt)),s.R7$(3),s.JRh(T.titulo),s.R7$(2),s.SpI(" ",s.brH(9,7,T.descripcion,0,100),"... "),s.R7$(4),s.Y8G("ngIf",T.creadorId===b.userId),s.R7$(2),s.Y8G("name",b.isFavorite(T.id)?"heart":"heart-outline")("color",b.isFavorite(T.id)?"danger":"medium")}}function $i(v,E){if(1&v&&s.nrm(0,"ion-img",11),2&v){const T=s.XpG(2);s.Y8G("src",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl)}}function Er(v,E){1&v&&(s.j41(0,"span",23),s.EFF(1,"Disponible"),s.k0s())}function Si(v,E){1&v&&(s.j41(0,"span",24),s.EFF(1,"No disponible"),s.k0s())}function Oo(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label"),s.EFF(2),s.DNE(3,Er,2,0,"span",21)(4,Si,2,0,"span",22),s.k0s()()),2&v){const T=E.$implicit;s.R7$(2),s.E5c(" ",T.nombre," - ",T.cantidad," ",T.unidad," "),s.R7$(),s.Y8G("ngIf",T.disponible),s.R7$(),s.Y8G("ngIf",!T.disponible)}}function Ao(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label")(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.nI1(6,"number"),s.k0s(),s.j41(7,"p"),s.EFF(8),s.nI1(9,"date"),s.k0s()()()),2&v){const T=E.$implicit,b=s.XpG(2);s.R7$(3),s.JRh(T.comment),s.R7$(2),s.SpI("Calificaci\xf3n promedio: ",s.i5U(6,3,b.selectedRecipe.averageRating,"1.1-1"),""),s.R7$(3),s.SpI("Fecha: ",s.bMT(9,6,T.timestamp),"")}}function Yi(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3),s.k0s(),s.j41(4,"ion-buttons",14)(5,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content"),s.DNE(8,$i,1,1,"ion-img",5),s.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),s.EFF(13),s.k0s()()(),s.DNE(14,Oo,5,5,"ion-item",15),s.j41(15,"ion-item")(16,"ion-label")(17,"h2"),s.EFF(18),s.k0s()()(),s.DNE(19,Ao,10,8,"ion-item",15),s.k0s(),s.j41(20,"ion-item")(21,"ion-label",16),s.EFF(22,"Escribe tu comentario"),s.k0s(),s.j41(23,"ion-textarea",17),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newComment,N)||(Z.newComment=N),s.Njj(N)}),s.k0s()(),s.j41(24,"ion-item")(25,"ion-label"),s.EFF(26,"Califica esta receta"),s.k0s(),s.j41(27,"ion-range",18),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newRating,N)||(Z.newRating=N),s.Njj(N)}),s.nrm(28,"ion-icon",19)(29,"ion-icon",20),s.k0s()(),s.j41(30,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.submitComment())}),s.EFF(31,"Enviar"),s.k0s(),s.j41(32,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(33,"Cerrar"),s.k0s()()}if(2&v){const T=s.XpG();s.R7$(3),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(5),s.Y8G("ngIf",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl),s.R7$(5),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(),s.Y8G("ngForOf",T.availableIngredients),s.R7$(4),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.descripcion),s.R7$(),s.Y8G("ngForOf",null==T.selectedRecipe?null:T.selectedRecipe.comentarios),s.R7$(4),s.R50("ngModel",T.newComment),s.R7$(4),s.R50("ngModel",T.newRating)}}let hl=(()=>{var v;class E{constructor(b,N,Z,Pe){this.recipeService=b,this.inventoryService=N,this.auth=Z,this.firestore=Pe,this.breakfastRecipes=[],this.filteredBreakfastRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadBreakfastRecipes()}loadBreakfastRecipes(){this.recipeService.getRecipesByCategory("desayuno").subscribe(b=>{this.breakfastRecipes=b,this.filteredBreakfastRecipes=b;const N=this.breakfastRecipes.map(Z=>this.loadRecipeRatings(Z.id).then(Pe=>{Z.averageRating=Pe}));Promise.all(N).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredBreakfastRecipes.sort((b,N)=>(N.averageRating||0)-(b.averageRating||0))}onSearch(b){var N;const Z=(null===(N=b.target.value)||void 0===N?void 0:N.toLowerCase())||"";this.filteredBreakfastRecipes=Z?this.breakfastRecipes.filter(Pe=>Pe.titulo.toLowerCase().includes(Z)):this.breakfastRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(N=>{this.selectedRecipe.comentarios=N}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(N=>{this.availableIngredients=b.map(Z=>{const Pe=N.find(Lt=>Lt.nombre.toLowerCase()===Z.nombre.toLowerCase());return{nombre:Z.nombre,cantidad:Z.cantidad,unidad:Z.unidad,disponible:!!Pe&&Pe.cantidad>=Z.cantidad}})})}rateRecipe(b){this.newRating=b}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(b){return new Promise(N=>{this.firestore.collection("recetas").doc(b).collection("comentarios").valueChanges().subscribe(Z=>{if(Z.length>0){const Lt=Z.reduce((ln,vn)=>ln+vn.rating,0)/Z.length;N(Lt)}else N(0)})})}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadBreakfastRecipes()}).catch(N=>{console.error("Error al eliminar la receta:",N)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,N){if(this.userId){if(this.isFavorite(b))return void console.log("La receta ya est\xe1 en favoritos");const Z={recipeId:b,category:N,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Z).then(()=>{console.log("Receta agregada a favoritos")}).catch(Pe=>{console.error("Error al agregar a favoritos:",Pe)})}}isFavorite(b){return this.favorites.some(N=>N.recipeId===b)}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(Vo),s.rXU(go),s.rXU(Qe.DS),s.rXU(Ae.Qe))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-breakfast-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","danger",3,"click",4,"ngIf"],[3,"name","color"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","danger",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-menu-button"),s.j41(4,"ion-title"),s.EFF(5,"Recetas de Desayuno"),s.k0s()()()(),s.j41(6,"ion-content")(7,"ion-searchbar",1),s.bIt("ionInput",function(Pe){return N.onSearch(Pe)}),s.k0s(),s.j41(8,"ion-list"),s.DNE(9,Br,15,12,"ion-card",2),s.k0s(),s.j41(10,"ion-modal",3),s.bIt("didDismiss",function(){return N.closeModal()}),s.DNE(11,Yi,34,8,"ng-template"),s.k0s()()),2&b&&(s.R7$(9),s.Y8G("ngForOf",N.filteredBreakfastRecipes),s.R7$(),s.Y8G("isOpen",N.isModalOpen))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.b_,z.I9,z.ME,z.tN,z.W9,z.eU,z.iq,z.KW,z.uz,z.he,z.nf,z.MC,z.Ob,z.S1,z.nc,z.BC,z.ai,z.Sb,z.su,z.Gw,Pi.BC,Pi.vS,Le.P9,Le.QX,Le.vh]}),E})();const Sc=()=>[1,2,3,4,5];function fl(v,E){if(1&v&&s.nrm(0,"ion-img",10),2&v){const T=s.XpG().$implicit;s.Y8G("src",T.imageUrl)}}function Ea(v,E){if(1&v&&s.nrm(0,"ion-icon",11),2&v){const T=E.$implicit,b=s.XpG().$implicit;s.Y8G("name",T<=b.calificacionPromedio?"star":"star-outline")}}function pl(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-button",12),s.bIt("click",function(){s.eBV(T);const N=s.XpG().$implicit,Z=s.XpG();return s.Njj(Z.deleteRecipe(N.id))}),s.EFF(1," Eliminar "),s.k0s()}}function ja(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-card",4),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.DNE(1,fl,1,1,"ion-img",5),s.j41(2,"div",6),s.DNE(3,Ea,1,1,"ion-icon",7),s.k0s(),s.j41(4,"ion-card-header")(5,"ion-card-title"),s.EFF(6),s.k0s()(),s.j41(7,"ion-card-content"),s.EFF(8),s.nI1(9,"slice"),s.j41(10,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.EFF(11,"Ver m\xe1s"),s.k0s(),s.DNE(12,pl,2,0,"ion-button",9),s.j41(13,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.addToFavorites(N.id,N.categoria))}),s.EFF(14,"Agregar a Favoritos"),s.k0s()()()}if(2&v){const T=E.$implicit,b=s.XpG();s.R7$(),s.Y8G("ngIf",T.imageUrl),s.R7$(2),s.Y8G("ngForOf",s.lJ4(9,Sc)),s.R7$(3),s.JRh(T.titulo),s.R7$(2),s.SpI(" ",s.brH(9,5,T.descripcion,0,100),"... "),s.R7$(4),s.Y8G("ngIf",T.creadorId===b.userId)}}function gl(v,E){if(1&v&&s.nrm(0,"ion-img",10),2&v){const T=s.XpG(2);s.Y8G("src",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl)}}function Zl(v,E){1&v&&(s.j41(0,"span",22),s.EFF(1,"Disponible"),s.k0s())}function ml(v,E){1&v&&(s.j41(0,"span",23),s.EFF(1,"No disponible"),s.k0s())}function Nl(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label"),s.EFF(2),s.DNE(3,Zl,2,0,"span",20)(4,ml,2,0,"span",21),s.k0s()()),2&v){const T=E.$implicit;s.R7$(2),s.E5c(" ",T.nombre," - ",T.cantidad," ",T.unidad," "),s.R7$(),s.Y8G("ngIf",T.disponible),s.R7$(),s.Y8G("ngIf",!T.disponible)}}function $d(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label")(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.nI1(8,"date"),s.k0s()()()),2&v){const T=E.$implicit;s.R7$(3),s.JRh(T.comment),s.R7$(2),s.SpI("Calificaci\xf3n: ",T.rating," / 5"),s.R7$(2),s.SpI("Fecha: ",s.bMT(8,3,T.timestamp),"")}}function Au(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3),s.k0s(),s.j41(4,"ion-buttons",13)(5,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content"),s.DNE(8,gl,1,1,"ion-img",5),s.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),s.EFF(13),s.k0s()()(),s.DNE(14,Nl,5,5,"ion-item",14),s.j41(15,"ion-item")(16,"ion-label")(17,"h2"),s.EFF(18),s.k0s()()(),s.DNE(19,$d,9,5,"ion-item",14),s.k0s(),s.j41(20,"ion-item")(21,"ion-label",15),s.EFF(22,"Escribe tu comentario"),s.k0s(),s.j41(23,"ion-textarea",16),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newComment,N)||(Z.newComment=N),s.Njj(N)}),s.k0s()(),s.j41(24,"ion-item")(25,"ion-label"),s.EFF(26,"Califica esta receta"),s.k0s(),s.j41(27,"ion-range",17),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newRating,N)||(Z.newRating=N),s.Njj(N)}),s.nrm(28,"ion-icon",18)(29,"ion-icon",19),s.k0s()(),s.j41(30,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.submitComment())}),s.EFF(31,"Enviar"),s.k0s(),s.j41(32,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(33,"Cerrar"),s.k0s()()}if(2&v){const T=s.XpG();s.R7$(3),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(5),s.Y8G("ngIf",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl),s.R7$(5),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(),s.Y8G("ngForOf",T.availableIngredients),s.R7$(4),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.descripcion),s.R7$(),s.Y8G("ngForOf",null==T.selectedRecipe?null:T.selectedRecipe.comentarios),s.R7$(4),s.R50("ngModel",T.newComment),s.R7$(4),s.R50("ngModel",T.newRating)}}let jd=(()=>{var v;class E{constructor(b,N,Z,Pe){this.recipeService=b,this.inventoryService=N,this.auth=Z,this.firestore=Pe,this.lunchRecipes=[],this.filteredlunch=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadLunchRecipes()}loadLunchRecipes(){this.recipeService.getRecipesByCategory("almuerzo").subscribe(b=>{this.lunchRecipes=b})}onSearch(b){var N;const Z=(null===(N=b.target.value)||void 0===N?void 0:N.toLowerCase())||"";this.filteredlunch=Z?this.lunchRecipes.filter(Pe=>Pe.titulo.toLowerCase().includes(Z)):this.lunchRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(N=>{this.selectedRecipe.comentarios=N}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(N=>{this.availableIngredients=b.map(Z=>{const Pe=N.find(Lt=>Lt.nombre.toLowerCase()===Z.nombre.toLowerCase());return{nombre:Z.nombre,cantidad:Z.cantidad,unidad:Z.unidad,disponible:!!Pe&&Pe.cantidad>=Z.cantidad}})})}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadLunchRecipes()}).catch(N=>{console.error("Error al eliminar la receta:",N)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,N){if(this.userId){const Z={recipeId:b,category:N,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Z).then(()=>{console.log("Receta agregada a favoritos")}).catch(Pe=>{console.error("Error al agregar a favoritos:",Pe)})}}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(Vo),s.rXU(go),s.rXU(Qe.DS),s.rXU(Ae.Qe))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-lunch-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","danger",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-menu-button"),s.j41(4,"ion-title"),s.EFF(5,"Recetas de almuerzo"),s.k0s()()()(),s.j41(6,"ion-content")(7,"ion-searchbar",1),s.bIt("ionInput",function(Pe){return N.onSearch(Pe)}),s.k0s(),s.j41(8,"ion-list"),s.DNE(9,ja,15,10,"ion-card",2),s.k0s(),s.j41(10,"ion-modal",3),s.bIt("didDismiss",function(){return N.closeModal()}),s.DNE(11,Au,34,8,"ng-template"),s.k0s()()),2&b&&(s.R7$(9),s.Y8G("ngForOf",N.filteredlunch),s.R7$(),s.Y8G("isOpen",N.isModalOpen))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.b_,z.I9,z.ME,z.tN,z.W9,z.eU,z.iq,z.KW,z.uz,z.he,z.nf,z.MC,z.Ob,z.S1,z.nc,z.BC,z.ai,z.Sb,z.su,z.Gw,Pi.BC,Pi.vS,Le.P9,Le.vh]}),E})();const tu=()=>[1,2,3,4,5];function Tu(v,E){if(1&v&&s.nrm(0,"ion-img",10),2&v){const T=s.XpG().$implicit;s.Y8G("src",T.imageUrl)}}function od(v,E){if(1&v&&s.nrm(0,"ion-icon",11),2&v){const T=E.$implicit,b=s.XpG().$implicit;s.Y8G("name",T<=b.calificacionPromedio?"star":"star-outline")}}function Ja(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-button",12),s.bIt("click",function(){s.eBV(T);const N=s.XpG().$implicit,Z=s.XpG();return s.Njj(Z.deleteRecipe(N.id))}),s.EFF(1," Eliminar "),s.k0s()}}function ec(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-card",4),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.DNE(1,Tu,1,1,"ion-img",5),s.j41(2,"div",6),s.DNE(3,od,1,1,"ion-icon",7),s.k0s(),s.j41(4,"ion-card-header")(5,"ion-card-title"),s.EFF(6),s.k0s()(),s.j41(7,"ion-card-content"),s.EFF(8),s.nI1(9,"slice"),s.j41(10,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.EFF(11,"Ver m\xe1s"),s.k0s(),s.DNE(12,Ja,2,0,"ion-button",9),s.j41(13,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.addToFavorites(N.id,N.categoria))}),s.EFF(14,"Agregar a Favoritos"),s.k0s()()()}if(2&v){const T=E.$implicit,b=s.XpG();s.R7$(),s.Y8G("ngIf",T.imageUrl),s.R7$(2),s.Y8G("ngForOf",s.lJ4(9,tu)),s.R7$(3),s.JRh(T.titulo),s.R7$(2),s.SpI(" ",s.brH(9,5,T.descripcion,0,100),"... "),s.R7$(4),s.Y8G("ngIf",T.creadorId===b.userId)}}function sd(v,E){if(1&v&&s.nrm(0,"ion-img",10),2&v){const T=s.XpG(2);s.Y8G("src",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl)}}function Ca(v,E){1&v&&(s.j41(0,"span",22),s.EFF(1,"Disponible"),s.k0s())}function Xh(v,E){1&v&&(s.j41(0,"span",23),s.EFF(1,"No disponible"),s.k0s())}function Rc(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label"),s.EFF(2),s.DNE(3,Ca,2,0,"span",20)(4,Xh,2,0,"span",21),s.k0s()()),2&v){const T=E.$implicit;s.R7$(2),s.E5c(" ",T.nombre," - ",T.cantidad," ",T.unidad," "),s.R7$(),s.Y8G("ngIf",T.disponible),s.R7$(),s.Y8G("ngIf",!T.disponible)}}function Mc(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label")(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.nI1(8,"date"),s.k0s()()()),2&v){const T=E.$implicit;s.R7$(3),s.JRh(T.comment),s.R7$(2),s.SpI("Calificaci\xf3n: ",T.rating," / 5"),s.R7$(2),s.SpI("Fecha: ",s.bMT(8,3,T.timestamp),"")}}function Aa(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3),s.k0s(),s.j41(4,"ion-buttons",13)(5,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content"),s.DNE(8,sd,1,1,"ion-img",5),s.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),s.EFF(13),s.k0s()()(),s.DNE(14,Rc,5,5,"ion-item",14),s.j41(15,"ion-item")(16,"ion-label")(17,"h2"),s.EFF(18),s.k0s()()(),s.DNE(19,Mc,9,5,"ion-item",14),s.k0s(),s.j41(20,"ion-item")(21,"ion-label",15),s.EFF(22,"Escribe tu comentario"),s.k0s(),s.j41(23,"ion-textarea",16),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newComment,N)||(Z.newComment=N),s.Njj(N)}),s.k0s()(),s.j41(24,"ion-item")(25,"ion-label"),s.EFF(26,"Califica esta receta"),s.k0s(),s.j41(27,"ion-range",17),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newRating,N)||(Z.newRating=N),s.Njj(N)}),s.nrm(28,"ion-icon",18)(29,"ion-icon",19),s.k0s()(),s.j41(30,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.submitComment())}),s.EFF(31,"Enviar"),s.k0s(),s.j41(32,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(33,"Cerrar"),s.k0s()()}if(2&v){const T=s.XpG();s.R7$(3),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(5),s.Y8G("ngIf",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl),s.R7$(5),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(),s.Y8G("ngForOf",T.availableIngredients),s.R7$(4),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.descripcion),s.R7$(),s.Y8G("ngForOf",null==T.selectedRecipe?null:T.selectedRecipe.comentarios),s.R7$(4),s.R50("ngModel",T.newComment),s.R7$(4),s.R50("ngModel",T.newRating)}}let Za=(()=>{var v;class E{constructor(b,N,Z,Pe){this.recipeService=b,this.inventoryService=N,this.auth=Z,this.firestore=Pe,this.dinnerRecipes=[],this.filtereddinner=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadDinnerRecipes()}loadDinnerRecipes(){this.recipeService.getRecipesByCategory("cena").subscribe(b=>{this.dinnerRecipes=b,this.filtereddinner=b})}onSearch(b){var N;const Z=(null===(N=b.target.value)||void 0===N?void 0:N.toLowerCase())||"";this.filtereddinner=Z?this.dinnerRecipes.filter(Pe=>Pe.titulo.toLowerCase().includes(Z)):this.dinnerRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(N=>{this.selectedRecipe.comentarios=N}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(N=>{this.availableIngredients=b.map(Z=>{const Pe=N.find(Lt=>Lt.nombre.toLowerCase()===Z.nombre.toLowerCase());return{nombre:Z.nombre,cantidad:Z.cantidad,unidad:Z.unidad,disponible:!!Pe&&Pe.cantidad>=Z.cantidad}})})}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadDinnerRecipes()}).catch(N=>{console.error("Error al eliminar la receta:",N)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,N){if(this.userId){const Z={recipeId:b,category:N,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Z).then(()=>{console.log("Receta agregada a favoritos")}).catch(Pe=>{console.error("Error al agregar a favoritos:",Pe)})}}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(Vo),s.rXU(go),s.rXU(Qe.DS),s.rXU(Ae.Qe))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-dinner-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","danger",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-menu-button"),s.j41(4,"ion-title"),s.EFF(5,"Recetas de Cena"),s.k0s()()()(),s.j41(6,"ion-content")(7,"ion-searchbar",1),s.bIt("ionInput",function(Pe){return N.onSearch(Pe)}),s.k0s(),s.j41(8,"ion-list"),s.DNE(9,ec,15,10,"ion-card",2),s.k0s(),s.j41(10,"ion-modal",3),s.bIt("didDismiss",function(){return N.closeModal()}),s.DNE(11,Aa,34,8,"ng-template"),s.k0s()()),2&b&&(s.R7$(9),s.Y8G("ngForOf",N.filtereddinner),s.R7$(),s.Y8G("isOpen",N.isModalOpen))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.b_,z.I9,z.ME,z.tN,z.W9,z.eU,z.iq,z.KW,z.uz,z.he,z.nf,z.MC,z.Ob,z.S1,z.nc,z.BC,z.ai,z.Sb,z.su,z.Gw,Pi.BC,Pi.vS,Le.P9,Le.vh]}),E})();const tc=()=>[1,2,3,4,5];function nc(v,E){if(1&v&&s.nrm(0,"ion-img",10),2&v){const T=s.XpG().$implicit;s.Y8G("src",T.imageUrl)}}function el(v,E){if(1&v&&s.nrm(0,"ion-icon",11),2&v){const T=E.$implicit,b=s.XpG().$implicit;s.Y8G("name",T<=b.calificacionPromedio?"star":"star-outline")}}function nu(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-button",12),s.bIt("click",function(){s.eBV(T);const N=s.XpG().$implicit,Z=s.XpG();return s.Njj(Z.deleteRecipe(N.id))}),s.EFF(1," Eliminar "),s.k0s()}}function _l(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-card",4),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.DNE(1,nc,1,1,"ion-img",5),s.j41(2,"div",6),s.DNE(3,el,1,1,"ion-icon",7),s.k0s(),s.j41(4,"ion-card-header")(5,"ion-card-title"),s.EFF(6),s.k0s()(),s.j41(7,"ion-card-content"),s.EFF(8),s.nI1(9,"slice"),s.j41(10,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.EFF(11,"Ver m\xe1s"),s.k0s(),s.DNE(12,nu,2,0,"ion-button",9),s.j41(13,"ion-button",8),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.addToFavorites(N.id,N.categoria))}),s.EFF(14,"Agregar a Favoritos"),s.k0s()()()}if(2&v){const T=E.$implicit,b=s.XpG();s.R7$(),s.Y8G("ngIf",T.imageUrl),s.R7$(2),s.Y8G("ngForOf",s.lJ4(9,tc)),s.R7$(3),s.JRh(T.titulo),s.R7$(2),s.SpI(" ",s.brH(9,5,T.descripcion,0,100),"... "),s.R7$(4),s.Y8G("ngIf",T.creadorId===b.userId)}}function Hd(v,E){if(1&v&&s.nrm(0,"ion-img",10),2&v){const T=s.XpG(2);s.Y8G("src",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl)}}function Gd(v,E){1&v&&(s.j41(0,"span",22),s.EFF(1,"Disponible"),s.k0s())}function bu(v,E){1&v&&(s.j41(0,"span",23),s.EFF(1,"No disponible"),s.k0s())}function Pc(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label"),s.EFF(2),s.DNE(3,Gd,2,0,"span",20)(4,bu,2,0,"span",21),s.k0s()()),2&v){const T=E.$implicit;s.R7$(2),s.E5c(" ",T.nombre," - ",T.cantidad," ",T.unidad," "),s.R7$(),s.Y8G("ngIf",T.disponible),s.R7$(),s.Y8G("ngIf",!T.disponible)}}function zd(v,E){if(1&v&&(s.j41(0,"ion-item")(1,"ion-label")(2,"h3"),s.EFF(3),s.k0s(),s.j41(4,"p"),s.EFF(5),s.k0s(),s.j41(6,"p"),s.EFF(7),s.nI1(8,"date"),s.k0s()()()),2&v){const T=E.$implicit;s.R7$(3),s.JRh(T.comment),s.R7$(2),s.SpI("Calificaci\xf3n: ",T.rating," / 5"),s.R7$(2),s.SpI("Fecha: ",s.bMT(8,3,T.timestamp),"")}}function wu(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3),s.k0s(),s.j41(4,"ion-buttons",13)(5,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content"),s.DNE(8,Hd,1,1,"ion-img",5),s.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),s.EFF(13),s.k0s()()(),s.DNE(14,Pc,5,5,"ion-item",14),s.j41(15,"ion-item")(16,"ion-label")(17,"h2"),s.EFF(18),s.k0s()()(),s.DNE(19,zd,9,5,"ion-item",14),s.k0s(),s.j41(20,"ion-item")(21,"ion-label",15),s.EFF(22,"Escribe tu comentario"),s.k0s(),s.j41(23,"ion-textarea",16),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newComment,N)||(Z.newComment=N),s.Njj(N)}),s.k0s()(),s.j41(24,"ion-item")(25,"ion-label"),s.EFF(26,"Califica esta receta"),s.k0s(),s.j41(27,"ion-range",17),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newRating,N)||(Z.newRating=N),s.Njj(N)}),s.nrm(28,"ion-icon",18)(29,"ion-icon",19),s.k0s()(),s.j41(30,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.submitComment())}),s.EFF(31,"Enviar"),s.k0s(),s.j41(32,"ion-button",4),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(33,"Cerrar"),s.k0s()()}if(2&v){const T=s.XpG();s.R7$(3),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(5),s.Y8G("ngIf",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl),s.R7$(5),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(),s.Y8G("ngForOf",T.availableIngredients),s.R7$(4),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.descripcion),s.R7$(),s.Y8G("ngForOf",null==T.selectedRecipe?null:T.selectedRecipe.comentarios),s.R7$(4),s.R50("ngModel",T.newComment),s.R7$(4),s.R50("ngModel",T.newRating)}}let rc=(()=>{var v;class E{constructor(b,N,Z,Pe){this.recipeService=b,this.inventoryService=N,this.auth=Z,this.firestore=Pe,this.dessertRecipes=[],this.filterdessert=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadDessertRecipes()}loadDessertRecipes(){this.recipeService.getRecipesByCategory("postre").subscribe(b=>{this.dessertRecipes=b,this.filterdessert=b})}onSearch(b){var N;const Z=(null===(N=b.target.value)||void 0===N?void 0:N.toLowerCase())||"";this.filterdessert=Z?this.dessertRecipes.filter(Pe=>Pe.titulo.toLowerCase().includes(Z)):this.dessertRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(N=>{this.selectedRecipe.comentarios=N}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(N=>{this.availableIngredients=b.map(Z=>{const Pe=N.find(Lt=>Lt.nombre.toLowerCase()===Z.nombre.toLowerCase());return{nombre:Z.nombre,cantidad:Z.cantidad,unidad:Z.unidad,disponible:!!Pe&&Pe.cantidad>=Z.cantidad}})})}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadDessertRecipes()}).catch(N=>{console.error("Error al eliminar la receta:",N)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,N){if(this.userId){const Z={recipeId:b,category:N,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Z).then(()=>{console.log("Receta agregada a favoritos")}).catch(Pe=>{console.error("Error al agregar a favoritos:",Pe)})}}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(Vo),s.rXU(go),s.rXU(Qe.DS),s.rXU(Ae.Qe))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-dessert-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","danger",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-menu-button"),s.j41(4,"ion-title"),s.EFF(5,"Recetas de Postre"),s.k0s()()()(),s.j41(6,"ion-content")(7,"ion-searchbar",1),s.bIt("ionInput",function(Pe){return N.onSearch(Pe)}),s.k0s(),s.j41(8,"ion-list"),s.DNE(9,_l,15,10,"ion-card",2),s.k0s(),s.j41(10,"ion-modal",3),s.bIt("didDismiss",function(){return N.closeModal()}),s.DNE(11,wu,34,8,"ng-template"),s.k0s()()),2&b&&(s.R7$(9),s.Y8G("ngForOf",N.filterdessert),s.R7$(),s.Y8G("isOpen",N.isModalOpen))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.b_,z.I9,z.ME,z.tN,z.W9,z.eU,z.iq,z.KW,z.uz,z.he,z.nf,z.MC,z.Ob,z.S1,z.nc,z.BC,z.ai,z.Sb,z.su,z.Gw,Pi.BC,Pi.vS,Le.P9,Le.vh]}),E})();var Ta=function(v){return v.Prompt="PROMPT",v.Camera="CAMERA",v.Photos="PHOTOS",v}(Ta||{}),ic=function(v){return v.Rear="REAR",v.Front="FRONT",v}(ic||{}),Du=function(v){return v.Uri="uri",v.Base64="base64",v.DataUrl="dataUrl",v}(Du||{});class Fo extends He.E_{getPhoto(E){var T=this;return(0,Oe.A)(function*(){return new Promise(function(){var b=(0,Oe.A)(function*(N,Z){if(E.webUseInput||E.source===Ta.Photos)T.fileInputExperience(E,N,Z);else if(E.source===Ta.Prompt){let Pe=document.querySelector("pwa-action-sheet");Pe||(Pe=document.createElement("pwa-action-sheet"),document.body.appendChild(Pe)),Pe.header=E.promptLabelHeader||"Photo",Pe.cancelable=!1,Pe.options=[{title:E.promptLabelPhoto||"From Photos"},{title:E.promptLabelPicture||"Take Picture"}],Pe.addEventListener("onSelection",function(){var Lt=(0,Oe.A)(function*(ln){0===ln.detail?T.fileInputExperience(E,N,Z):T.cameraExperience(E,N,Z)});return function(ln){return Lt.apply(this,arguments)}}())}else T.cameraExperience(E,N,Z)});return function(N,Z){return b.apply(this,arguments)}}())})()}pickImages(E){var T=this;return(0,Oe.A)(function*(){return new Promise(function(){var b=(0,Oe.A)(function*(N,Z){T.multipleFileInputExperience(N,Z)});return function(N,Z){return b.apply(this,arguments)}}())})()}cameraExperience(E,T,b){var N=this;return(0,Oe.A)(function*(){if(customElements.get("pwa-camera-modal")){const Z=document.createElement("pwa-camera-modal");Z.facingMode=E.direction===ic.Front?"user":"environment",document.body.appendChild(Z);try{yield Z.componentOnReady(),Z.addEventListener("onPhoto",function(){var Pe=(0,Oe.A)(function*(Lt){const ln=Lt.detail;null===ln?b(new He.I9("User cancelled photos app")):ln instanceof Error?b(ln):T(yield N._getCameraPhoto(ln,E)),Z.dismiss(),document.body.removeChild(Z)});return function(Lt){return Pe.apply(this,arguments)}}()),Z.present()}catch{N.fileInputExperience(E,T,b)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),N.fileInputExperience(E,T,b)})()}fileInputExperience(E,T,b){let N=document.querySelector("#_capacitor-camera-input");const Z=()=>{var Pe;null===(Pe=N.parentNode)||void 0===Pe||Pe.removeChild(N)};N||(N=document.createElement("input"),N.id="_capacitor-camera-input",N.type="file",N.hidden=!0,document.body.appendChild(N),N.addEventListener("change",Pe=>{const Lt=N.files[0];let ln="jpeg";if("image/png"===Lt.type?ln="png":"image/gif"===Lt.type&&(ln="gif"),"dataUrl"===E.resultType||"base64"===E.resultType){const vn=new FileReader;vn.addEventListener("load",()=>{if("dataUrl"===E.resultType)T({dataUrl:vn.result,format:ln});else if("base64"===E.resultType){const ur=vn.result.split(",")[1];T({base64String:ur,format:ln})}Z()}),vn.readAsDataURL(Lt)}else T({webPath:URL.createObjectURL(Lt),format:ln}),Z()}),N.addEventListener("cancel",Pe=>{b(new He.I9("User cancelled photos app")),Z()})),N.accept="image/*",N.capture=!0,E.source===Ta.Photos||E.source===Ta.Prompt?N.removeAttribute("capture"):E.direction===ic.Front?N.capture="user":E.direction===ic.Rear&&(N.capture="environment"),N.click()}multipleFileInputExperience(E,T){let b=document.querySelector("#_capacitor-camera-input-multiple");const N=()=>{var Z;null===(Z=b.parentNode)||void 0===Z||Z.removeChild(b)};b||(b=document.createElement("input"),b.id="_capacitor-camera-input-multiple",b.type="file",b.hidden=!0,b.multiple=!0,document.body.appendChild(b),b.addEventListener("change",Z=>{const Pe=[];for(let Lt=0;Lt<b.files.length;Lt++){const ln=b.files[Lt];let vn="jpeg";"image/png"===ln.type?vn="png":"image/gif"===ln.type&&(vn="gif"),Pe.push({webPath:URL.createObjectURL(ln),format:vn})}E({photos:Pe}),N()}),b.addEventListener("cancel",Z=>{T(new He.I9("User cancelled photos app")),N()})),b.accept="image/*",b.click()}_getCameraPhoto(E,T){return new Promise((b,N)=>{const Z=new FileReader,Pe=E.type.split("/")[1];"uri"===T.resultType?b({webPath:URL.createObjectURL(E),format:Pe,saved:!1}):(Z.readAsDataURL(E),Z.onloadend=()=>{const Lt=Z.result;b("dataUrl"===T.resultType?{dataUrl:Lt,format:Pe,saved:!1}:{base64String:Lt.split(",")[1],format:Pe,saved:!1})},Z.onerror=Lt=>{N(Lt)})})}checkPermissions(){var E=this;return(0,Oe.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw E.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw E.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var E=this;return(0,Oe.A)(function*(){throw E.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var E=this;return(0,Oe.A)(function*(){throw E.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var E=this;return(0,Oe.A)(function*(){throw E.unavailable("Not implemented on web.")})()}}new Fo;const ad=(0,He.F3)("Camera",{web:()=>new Fo});function Oc(v,E){if(1&v&&(s.j41(0,"div")(1,"h3"),s.EFF(2,"Imagen Capturada:"),s.k0s(),s.nrm(3,"img",14),s.k0s()),2&v){const T=s.XpG();s.R7$(3),s.Y8G("src",T.capturedImage,s.B4B)}}function xl(v,E){if(1&v&&(s.j41(0,"ion-select-option",15),s.EFF(1),s.k0s()),2&v){const T=E.$implicit;s.Y8G("value",T),s.R7$(),s.JRh(T)}}function oc(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-item")(1,"ion-label",3),s.EFF(2,"Nuevo \xcdtem"),s.k0s(),s.j41(3,"ion-input",8),s.mxI("ngModelChange",function(N){s.eBV(T);const Z=s.XpG();return s.DH7(Z.newItem.nombre,N)||(Z.newItem.nombre=N),s.Njj(N)}),s.k0s()()}if(2&v){const T=s.XpG();s.R7$(3),s.R50("ngModel",T.newItem.nombre)}}function ld(v,E){if(1&v&&s.nrm(0,"ion-img",12),2&v){const T=s.XpG().$implicit;s.Y8G("src",T.imageUrl)}}function Ru(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-card"),s.DNE(1,ld,1,1,"ion-img",8),s.j41(2,"ion-card-header")(3,"ion-card-title"),s.EFF(4),s.k0s()(),s.j41(5,"ion-card-content"),s.EFF(6),s.nI1(7,"slice"),s.j41(8,"ion-button",9),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.openRecipeModal(N))}),s.EFF(9,"Ver m\xe1s"),s.k0s(),s.j41(10,"ion-button",10),s.bIt("click",function(){const N=s.eBV(T).$implicit,Z=s.XpG();return s.Njj(Z.removeFromFavorites(N.id))}),s.nrm(11,"ion-icon",11),s.k0s()()()}if(2&v){const T=E.$implicit,b=s.XpG();s.R7$(),s.Y8G("ngIf",T.imageUrl),s.R7$(3),s.JRh(T.titulo),s.R7$(2),s.SpI(" ",s.brH(7,5,T.descripcion,0,100),"... "),s.R7$(5),s.Y8G("name",b.isFavorite(T.id)?"heart":"heart-outline")("color",b.isFavorite(T.id)?"danger":"medium")}}function ws(v,E){if(1&v&&s.nrm(0,"ion-img",12),2&v){const T=s.XpG(2);s.Y8G("src",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl)}}function ru(v,E){1&v&&s.nrm(0,"ion-icon",17)}function Fl(v,E){1&v&&s.nrm(0,"ion-icon",18)}function io(v,E){if(1&v&&(s.j41(0,"ion-item"),s.EFF(1),s.DNE(2,ru,1,0,"ion-icon",15)(3,Fl,1,0,"ion-icon",16),s.k0s()),2&v){const T=E.$implicit;s.R7$(),s.SpI(" ",T.name," "),s.R7$(),s.Y8G("ngIf",T.inInventory),s.R7$(),s.Y8G("ngIf",!T.inInventory)}}function $n(v,E){if(1&v){const T=s.RV6();s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),s.EFF(3),s.k0s(),s.j41(4,"ion-buttons",13)(5,"ion-button",14),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(6,"Cerrar"),s.k0s()()()(),s.j41(7,"ion-content"),s.DNE(8,ws,1,1,"ion-img",8),s.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),s.EFF(13),s.k0s()()(),s.DNE(14,io,4,3,"ion-item",6),s.j41(15,"ion-item")(16,"ion-label")(17,"h2"),s.EFF(18),s.k0s()()()(),s.j41(19,"ion-button",14),s.bIt("click",function(){s.eBV(T);const N=s.XpG();return s.Njj(N.closeModal())}),s.EFF(20,"Cerrar"),s.k0s()()}if(2&v){const T=s.XpG();s.R7$(3),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(5),s.Y8G("ngIf",null==T.selectedRecipe?null:T.selectedRecipe.imageUrl),s.R7$(5),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.titulo),s.R7$(),s.Y8G("ngForOf",T.availableIngredients),s.R7$(4),s.JRh(null==T.selectedRecipe?null:T.selectedRecipe.descripcion)}}const ao=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>x.e(8812).then(x.bind(x,8812)).then(v=>v.FolderPageModule)},{path:"login",loadChildren:()=>Promise.all([x.e(2076),x.e(3485)]).then(x.bind(x,3485)).then(v=>v.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([x.e(2076),x.e(8618)]).then(x.bind(x,8618)).then(v=>v.RegisterPageModule)},{path:"inventory",component:gi},{path:"",redirectTo:"/inventory",pathMatch:"full"},{path:"add-recipe",component:pn},{path:"",redirectTo:"/add-recipe",pathMatch:"full"},{path:"breakfast-recipes",component:hl},{path:"",redirectTo:"/breakfast-recipes",pathMatch:"full"},{path:"lunch-recipes",component:jd},{path:"",redirectTo:"/lunch-recipes",pathMatch:"full"},{path:"dinner-recipes",component:Za},{path:"",redirectTo:"/dinner-recipes",pathMatch:"full"},{path:"dessert-recipes",component:rc},{path:"",redirectTo:"/dessert-recipes",pathMatch:"full"},{path:"inventory",component:gi},{path:"",redirectTo:"/inventory",pathMatch:"full"},{path:"add-item",component:(()=>{var v;class E{constructor(b,N,Z){this.inventoryService=b,this.auth=N,this.firestore=Z,this.predefinedItems=[],this.availableItems=[],this.selectedItem=null,this.isNewItem=!1,this.newItem={nombre:"",cantidad:0,fechaVencimiento:"",unidadMedida:""},this.userId=null,this.capturedImage=null,this.auth.user.subscribe(Pe=>{Pe&&(this.userId=Pe.uid)})}ngOnInit(){this.loadAvailableItems()}openCamera(){var b=this;return(0,Oe.A)(function*(){try{const N=yield ad.getPhoto({quality:90,resultType:Du.Base64,source:Ta.Camera});b.capturedImage=`data:image/jpeg;base64,${N.base64String}`}catch(N){console.error("Error al capturar la imagen:",N)}})()}loadAvailableItems(){this.firestore.collection("items").valueChanges({idField:"id"}).subscribe(b=>{this.availableItems=[...this.predefinedItems,...b.map(N=>N.nombre)]})}formatFechaVencimiento(b){const N=new Date(b);return`${String(N.getDate()).padStart(2,"0")}-${String(N.getMonth()+1).padStart(2,"0")}-${N.getFullYear()}`}onItemSelected(b){const N=b.detail.value;"Otro"===N?(this.isNewItem=!0,this.newItem.nombre=""):(this.isNewItem=!1,this.newItem.nombre=N)}addItem(){if(!this.isNewItem&&this.selectedItem&&(this.newItem.nombre=this.selectedItem),this.userId&&this.newItem.nombre&&this.newItem.cantidad>0&&this.newItem.unidadMedida&&this.newItem.fechaVencimiento){const b=this.formatFechaVencimiento(this.newItem.fechaVencimiento);this.inventoryService.addItemToInventory({nombre:this.newItem.nombre,cantidad:this.newItem.cantidad,fechaVencimiento:b,unidadMedida:this.newItem.unidadMedida,imageUrl:this.capturedImage},this.userId).then(()=>{this.isNewItem&&this.addItemToFirestore(this.newItem.nombre),console.log("\xcdtem agregado con \xe9xito"),this.resetForm()}).catch(Z=>{console.error("Error al agregar el \xedtem:",Z)})}else console.error("Todos los campos son obligatorios")}addItemToFirestore(b){this.firestore.collection("items").doc(b).set({nombre:b})}resetForm(){this.newItem={nombre:"",cantidad:0,fechaVencimiento:"",unidadMedida:""},this.selectedItem=null,this.isNewItem=!1,this.capturedImage=null}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(go),s.rXU(Qe.DS),s.rXU(Ae.Qe))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-add-item"]],decls:39,vars:6,consts:[["slot","start"],["expand","block",3,"click"],[4,"ngIf"],["position","floating"],["placeholder","Selecciona o agrega un \xedtem",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["value","Otro"],["type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","gramos"],["value","ml"],["value","unidad"],["displayFormat","YYYY-MM-DD","min","2024-01-01","max","2030-12-31",3,"ngModelChange","ngModel"],["expand","full",3,"click"],["alt","Imagen Capturada",2,"width","100%","height","auto","margin-top","10px",3,"src"],[3,"value"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),s.nrm(3,"ion-menu-button"),s.j41(4,"ion-title"),s.EFF(5,"Agregar Item"),s.k0s(),s.j41(6,"ion-item")(7,"ion-button",1),s.bIt("click",function(){return N.openCamera()}),s.EFF(8,"Capturar Imagen"),s.k0s()()()()(),s.j41(9,"ion-content"),s.DNE(10,Oc,4,1,"div",2),s.j41(11,"ion-item")(12,"ion-label",3),s.EFF(13,"Selecciona un producto"),s.k0s(),s.j41(14,"ion-select",4),s.bIt("ionChange",function(Pe){return N.onItemSelected(Pe)}),s.DNE(15,xl,2,2,"ion-select-option",5),s.j41(16,"ion-select-option",6),s.EFF(17,"Otro (Agregar nuevo)"),s.k0s()()(),s.DNE(18,oc,4,1,"ion-item",2),s.j41(19,"ion-item")(20,"ion-label",3),s.EFF(21,"Cantidad"),s.k0s(),s.j41(22,"ion-input",7),s.mxI("ngModelChange",function(Pe){return s.DH7(N.newItem.cantidad,Pe)||(N.newItem.cantidad=Pe),Pe}),s.k0s()(),s.j41(23,"ion-item")(24,"ion-label"),s.EFF(25,"Unidad"),s.k0s(),s.j41(26,"ion-select",8),s.mxI("ngModelChange",function(Pe){return s.DH7(N.newItem.unidadMedida,Pe)||(N.newItem.unidadMedida=Pe),Pe}),s.j41(27,"ion-select-option",9),s.EFF(28,"Gramos"),s.k0s(),s.j41(29,"ion-select-option",10),s.EFF(30,"Mililitros"),s.k0s(),s.j41(31,"ion-select-option",11),s.EFF(32,"Unidad"),s.k0s()()(),s.j41(33,"ion-item")(34,"ion-label",3),s.EFF(35,"Fecha de Vencimiento"),s.k0s(),s.j41(36,"ion-datetime",12),s.mxI("ngModelChange",function(Pe){return s.DH7(N.newItem.fechaVencimiento,Pe)||(N.newItem.fechaVencimiento=Pe),Pe}),s.k0s()(),s.j41(37,"ion-button",13),s.bIt("click",function(){return N.addItem()}),s.EFF(38,"Agregar \xcdtem"),s.k0s()()),2&b&&(s.R7$(10),s.Y8G("ngIf",N.capturedImage),s.R7$(5),s.Y8G("ngForOf",N.availableItems),s.R7$(3),s.Y8G("ngIf",N.isNewItem),s.R7$(4),s.R50("ngModel",N.newItem.cantidad),s.R7$(4),s.R50("ngModel",N.newItem.unidadMedida),s.R7$(10),s.R50("ngModel",N.newItem.fechaVencimiento))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.W9,z.A9,z.eU,z.$w,z.uz,z.he,z.MC,z.Nm,z.Ip,z.BC,z.ai,z.su,z.Je,z.Gw,Pi.BC,Pi.vS]}),E})()},{path:"",redirectTo:"/add-item",pathMatch:"full"},{path:"favorites",component:(()=>{var v;class E{constructor(b,N,Z,Pe){this.auth=b,this.firestore=N,this.recipeService=Z,this.inventoryService=Pe,this.userId=null,this.favorites=[],this.filteredFavorites=[],this.isModalOpen=!1,this.selectedRecipe=null,this.selectedCategory="desayuno",this.isAuthenticated=!1,this.availableIngredients=[],console.log(" en cosntruct")}ngOnInit(){this.auth.authState.subscribe(b=>{this.isAuthenticated=!!b,console.log(" isAuthenticated subscribe :: ",this.isAuthenticated),this.isAuthenticated&&b&&b.uid&&(this.userId=b.uid,this.filterFavorites())})}filterFavorites(){console.log(" this === ",this.userId),this.userId&&(this.filteredFavorites=[],this.firestore.collection("usuarios").doc(this.userId).collection("favoritos",N=>N.where("category","==",this.selectedCategory)).get().forEach(N=>{N.forEach(Z=>{const Pe=Z.data();console.log("datos  ID :: ",Z.id),this.firestore.collection("recetas").doc(Pe.recipeId).get().forEach(Lt=>{const ln=Lt.data();ln.id=Z.id,this.filteredFavorites.push(ln)})})}))}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}removeFromFavorites(b){console.log("recipeId :: ",b),this.userId&&(this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").doc(b).delete(),this.filterFavorites())}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(N=>{this.availableIngredients=b.map(Z=>({name:Z,inInventory:N.some(Pe=>Pe.nombre.toLowerCase()===Z.toLowerCase())}))})}isFavorite(b){return this.favorites.some(N=>N.recipeId===b)}}return(v=E).\u0275fac=function(b){return new(b||v)(s.rXU(Qe.DS),s.rXU(Ae.Qe),s.rXU(Vo),s.rXU(go))},v.\u0275cmp=s.VBU({type:v,selectors:[["app-favorites"]],decls:24,vars:3,consts:[["slot","start"],[3,"ngModelChange","ionChange","ngModel"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],[4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],["alt","Imagen de la receta",3,"src",4,"ngIf"],["fill","clear",3,"click"],["fill","clear","color","danger",3,"click"],[3,"name","color"],["alt","Imagen de la receta",3,"src"],["slot","end"],[3,"click"],["name","checkmark-circle","color","success",4,"ngIf"],["name","close-circle","color","danger",4,"ngIf"],["name","checkmark-circle","color","success"],["name","close-circle","color","danger"]],template:function(b,N){1&b&&(s.j41(0,"ion-header")(1,"ion-buttons",0),s.nrm(2,"ion-menu-button"),s.j41(3,"ion-title"),s.EFF(4,"Recetas Favoritas"),s.k0s()()(),s.j41(5,"ion-toolbar")(6,"ion-segment",1),s.mxI("ngModelChange",function(Pe){return s.DH7(N.selectedCategory,Pe)||(N.selectedCategory=Pe),Pe}),s.bIt("ionChange",function(){return N.filterFavorites()}),s.j41(7,"ion-segment-button",2)(8,"ion-label"),s.EFF(9,"Desayuno"),s.k0s()(),s.j41(10,"ion-segment-button",3)(11,"ion-label"),s.EFF(12,"Almuerzo"),s.k0s()(),s.j41(13,"ion-segment-button",4)(14,"ion-label"),s.EFF(15,"Cena"),s.k0s()(),s.j41(16,"ion-segment-button",5)(17,"ion-label"),s.EFF(18,"Postre"),s.k0s()()()(),s.j41(19,"ion-content")(20,"ion-list"),s.DNE(21,Ru,12,9,"ion-card",6),s.k0s(),s.j41(22,"ion-modal",7),s.bIt("didDismiss",function(){return N.closeModal()}),s.DNE(23,$n,21,5,"ng-template"),s.k0s()()),2&b&&(s.R7$(6),s.R50("ngModel",N.selectedCategory),s.R7$(15),s.Y8G("ngForOf",N.filteredFavorites),s.R7$(),s.Y8G("isOpen",N.isModalOpen))},dependencies:[Le.Sq,Le.bT,z.Jm,z.QW,z.b_,z.I9,z.ME,z.tN,z.W9,z.eU,z.iq,z.KW,z.uz,z.he,z.nf,z.MC,z.Gp,z.eP,z.BC,z.ai,z.Sb,z.Je,Pi.BC,Pi.vS,Le.P9]}),E})()},{path:"",redirectTo:"/favorites",pathMatch:"full"},{path:"home",loadChildren:()=>x.e(5075).then(x.bind(x,5075)).then(v=>v.HomePageModule)},{path:"perfilusuario",loadChildren:()=>Promise.all([x.e(2076),x.e(4617)]).then(x.bind(x,4617)).then(v=>v.PerfilusuarioPageModule)}];let ba=(()=>{var v;class E{}return(v=E).\u0275fac=function(b){return new(b||v)},v.\u0275mod=s.$C({type:v}),v.\u0275inj=s.G2t({imports:[V.iI.forRoot(ao,{preloadingStrategy:V.Kp}),V.iI]}),E})();var Ji=x(2214);class fs{constructor(E){return E}}class xs{constructor(){return(0,Ji.Dk)()}}const Js=new s.nKC("angularfire2._apps"),$r={provide:fs,useFactory:function lo(v){return v&&1===v.length?v[0]:new fs((0,Ji.Sx)())},deps:[[new s.Xx1,Js]]},vl={provide:xs,deps:[[new s.Xx1,Js]]};function Wd(v){return(E,T)=>{const b=T.get(s.Agw);(0,Ji.KO)("angularfire",br.xv.full,"core"),(0,Ji.KO)("angularfire",br.xv.full,"app"),(0,Ji.KO)("angular",s.xvI.full,b.toString());const N=E.runOutsideAngular(()=>v(T));return new fs(N)}}function To(v,...E){return(0,s.EmA)([$r,vl,{provide:Js,useFactory:Wd(v),multi:!0,deps:[s.SKi,s.zZn,br.u0,...E]}])}const sc=(0,br.S3)(Ji.Wp,!0);var mr=x(576);x(8041);class Zs{constructor(E){return E}}const No=new s.nKC("angularfire2.auth-instances");function Ri(v){return(E,T)=>{const b=E.runOutsideAngular(()=>v(T));return new Zs(b)}}const ps={provide:class Mu{constructor(){return(0,br.CA)("auth")}},deps:[[new s.Xx1,No]]},ou={provide:Zs,useFactory:function Fc(v,E){const T=(0,br.lR)("auth",v,E);return T&&new Zs(T)},deps:[[new s.Xx1,No],fs]};function Vc(v,...E){return(0,Ji.KO)("angularfire",br.xv.full,"auth"),(0,s.EmA)([ou,ps,{provide:No,useFactory:Ri(v),multi:!0,deps:[s.SKi,s.zZn,br.u0,xs,[new s.Xx1,br.Jv],...E]}])}const hp=(0,br.S3)(mr.o,!0);var fd=x(5312);let Qd=(()=>{var v;class E{}return(v=E).\u0275fac=function(b){return new(b||v)},v.\u0275mod=s.$C({type:v,bootstrap:[ii]}),v.\u0275inj=s.G2t({providers:[{provide:V.b,useClass:Ee.jM},To(()=>sc({projectId:"miven-c5f93",appId:"1:46504601832:web:ecc2f1c0f13346da7c415d",storageBucket:"miven-c5f93.appspot.com",apiKey:"AIzaSyC7SViDJ3MAfnpzls1znWTVYTvO6S5K1ys",authDomain:"miven-c5f93.firebaseapp.com",messagingSenderId:"46504601832"})),Vc(()=>hp())],imports:[h.Bb,z.bv.forRoot(),ba,te.bf.initializeApp(fd.c.firebaseConfig),Pi.YN,Qe.X8,Ae.cM,Ye]}),E})();fd.c.production&&(0,s.SmG)(),h.sG().bootstrapModule(Qd).catch(v=>console.log(v))},4412:(Mn,St,x)=>{"use strict";x.d(St,{t:()=>s});var h=x(1413);class s extends h.B{constructor(Ee){super(),this._value=Ee}get value(){return this.getValue()}_subscribe(Ee){const z=super._subscribe(Ee);return!z.closed&&Ee.next(this._value),z}getValue(){const{hasError:Ee,thrownError:z,_value:Ae}=this;if(Ee)throw z;return this._throwIfClosed(),Ae}next(Ee){super.next(this._value=Ee)}}},1985:(Mn,St,x)=>{"use strict";x.d(St,{c:()=>He});var h=x(7707),s=x(8359),V=x(3494),Ee=x(1203),z=x(1026),Ae=x(8071),Oe=x(9786);let He=(()=>{class nt{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const ct=new nt;return ct.source=this,ct.operator=Je,ct}subscribe(Je,ct,Ct){const mt=function Ie(nt){return nt&&nt instanceof h.vU||function xe(nt){return nt&&(0,Ae.T)(nt.next)&&(0,Ae.T)(nt.error)&&(0,Ae.T)(nt.complete)}(nt)&&(0,s.Uv)(nt)}(Je)?Je:new h.Ms(Je,ct,Ct);return(0,Oe.Y)(()=>{const{operator:lt,source:Nt}=this;mt.add(lt?lt.call(mt,Nt):Nt?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(Je){try{return this._subscribe(Je)}catch(ct){Je.error(ct)}}forEach(Je,ct){return new(ct=st(ct))((Ct,mt)=>{const lt=new h.Ms({next:Nt=>{try{Je(Nt)}catch(wt){mt(wt),lt.unsubscribe()}},error:mt,complete:Ct});this.subscribe(lt)})}_subscribe(Je){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Je)}[V.s](){return this}pipe(...Je){return(0,Ee.m)(Je)(this)}toPromise(Je){return new(Je=st(Je))((ct,Ct)=>{let mt;this.subscribe(lt=>mt=lt,lt=>Ct(lt),()=>ct(mt))})}}return nt.create=Qe=>new nt(Qe),nt})();function st(nt){var Qe;return null!==(Qe=null!=nt?nt:z.$.Promise)&&void 0!==Qe?Qe:Promise}},1413:(Mn,St,x)=>{"use strict";x.d(St,{B:()=>Oe});var h=x(1985),s=x(8359);const Ee=(0,x(1853).L)(st=>function(){st(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=x(7908),Ae=x(9786);let Oe=(()=>{class st extends h.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ie){const nt=new He(this,this);return nt.operator=Ie,nt}_throwIfClosed(){if(this.closed)throw new Ee}next(Ie){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const nt of this.currentObservers)nt.next(Ie)}})}error(Ie){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ie;const{observers:nt}=this;for(;nt.length;)nt.shift().error(Ie)}})}complete(){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ie}=this;for(;Ie.length;)Ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ie;return(null===(Ie=this.observers)||void 0===Ie?void 0:Ie.length)>0}_trySubscribe(Ie){return this._throwIfClosed(),super._trySubscribe(Ie)}_subscribe(Ie){return this._throwIfClosed(),this._checkFinalizedStatuses(Ie),this._innerSubscribe(Ie)}_innerSubscribe(Ie){const{hasError:nt,isStopped:Qe,observers:Je}=this;return nt||Qe?s.Kn:(this.currentObservers=null,Je.push(Ie),new s.yU(()=>{this.currentObservers=null,(0,z.o)(Je,Ie)}))}_checkFinalizedStatuses(Ie){const{hasError:nt,thrownError:Qe,isStopped:Je}=this;nt?Ie.error(Qe):Je&&Ie.complete()}asObservable(){const Ie=new h.c;return Ie.source=this,Ie}}return st.create=(xe,Ie)=>new He(xe,Ie),st})();class He extends Oe{constructor(xe,Ie){super(),this.destination=xe,this.source=Ie}next(xe){var Ie,nt;null===(nt=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.next)||void 0===nt||nt.call(Ie,xe)}error(xe){var Ie,nt;null===(nt=null===(Ie=this.destination)||void 0===Ie?void 0:Ie.error)||void 0===nt||nt.call(Ie,xe)}complete(){var xe,Ie;null===(Ie=null===(xe=this.destination)||void 0===xe?void 0:xe.complete)||void 0===Ie||Ie.call(xe)}_subscribe(xe){var Ie,nt;return null!==(nt=null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(xe))&&void 0!==nt?nt:s.Kn}}},7707:(Mn,St,x)=>{"use strict";x.d(St,{Ms:()=>Ct,vU:()=>nt});var h=x(8071),s=x(8359),V=x(1026),Ee=x(5334),z=x(5343);const Ae=st("C",void 0,void 0);function st(Me,Fe,Le){return{kind:Me,value:Fe,error:Le}}var xe=x(9270),Ie=x(9786);class nt extends s.yU{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,s.Uv)(Fe)&&Fe.add(this)):this.destination=wt}static create(Fe,Le,ot){return new Ct(Fe,Le,ot)}next(Fe){this.isStopped?Nt(function He(Me){return st("N",Me,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Nt(function Oe(Me){return st("E",void 0,Me)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Nt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Je(Me,Fe){return Qe.call(Me,Fe)}class ct{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Le}=this;if(Le.next)try{Le.next(Fe)}catch(ot){mt(ot)}}error(Fe){const{partialObserver:Le}=this;if(Le.error)try{Le.error(Fe)}catch(ot){mt(ot)}else mt(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Le){mt(Le)}}}class Ct extends nt{constructor(Fe,Le,ot){let ut;if(super(),(0,h.T)(Fe)||!Fe)ut={next:null!=Fe?Fe:void 0,error:null!=Le?Le:void 0,complete:null!=ot?ot:void 0};else{let it;this&&V.$.useDeprecatedNextContext?(it=Object.create(Fe),it.unsubscribe=()=>this.unsubscribe(),ut={next:Fe.next&&Je(Fe.next,it),error:Fe.error&&Je(Fe.error,it),complete:Fe.complete&&Je(Fe.complete,it)}):ut=Fe}this.destination=new ct(ut)}}function mt(Me){V.$.useDeprecatedSynchronousErrorHandling?(0,Ie.l)(Me):(0,Ee.m)(Me)}function Nt(Me,Fe){const{onStoppedNotification:Le}=V.$;Le&&xe.f.setTimeout(()=>Le(Me,Fe))}const wt={closed:!0,next:z.l,error:function lt(Me){throw Me},complete:z.l}},8359:(Mn,St,x)=>{"use strict";x.d(St,{Kn:()=>Ae,yU:()=>z,Uv:()=>Oe});var h=x(8071);const V=(0,x(1853).L)(st=>function(Ie){st(this),this.message=Ie?`${Ie.length} errors occurred during unsubscription:\n${Ie.map((nt,Qe)=>`${Qe+1}) ${nt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ie});var Ee=x(7908);class z{constructor(xe){this.initialTeardown=xe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let xe;if(!this.closed){this.closed=!0;const{_parentage:Ie}=this;if(Ie)if(this._parentage=null,Array.isArray(Ie))for(const Je of Ie)Je.remove(this);else Ie.remove(this);const{initialTeardown:nt}=this;if((0,h.T)(nt))try{nt()}catch(Je){xe=Je instanceof V?Je.errors:[Je]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Je of Qe)try{He(Je)}catch(ct){xe=null!=xe?xe:[],ct instanceof V?xe=[...xe,...ct.errors]:xe.push(ct)}}if(xe)throw new V(xe)}}add(xe){var Ie;if(xe&&xe!==this)if(this.closed)He(xe);else{if(xe instanceof z){if(xe.closed||xe._hasParent(this))return;xe._addParent(this)}(this._finalizers=null!==(Ie=this._finalizers)&&void 0!==Ie?Ie:[]).push(xe)}}_hasParent(xe){const{_parentage:Ie}=this;return Ie===xe||Array.isArray(Ie)&&Ie.includes(xe)}_addParent(xe){const{_parentage:Ie}=this;this._parentage=Array.isArray(Ie)?(Ie.push(xe),Ie):Ie?[Ie,xe]:xe}_removeParent(xe){const{_parentage:Ie}=this;Ie===xe?this._parentage=null:Array.isArray(Ie)&&(0,Ee.o)(Ie,xe)}remove(xe){const{_finalizers:Ie}=this;Ie&&(0,Ee.o)(Ie,xe),xe instanceof z&&xe._removeParent(this)}}z.EMPTY=(()=>{const st=new z;return st.closed=!0,st})();const Ae=z.EMPTY;function Oe(st){return st instanceof z||st&&"closed"in st&&(0,h.T)(st.remove)&&(0,h.T)(st.add)&&(0,h.T)(st.unsubscribe)}function He(st){(0,h.T)(st)?st():st.unsubscribe()}},1026:(Mn,St,x)=>{"use strict";x.d(St,{$:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Mn,St,x)=>{"use strict";x.d(St,{z:()=>xe});var h=x(1985),s=x(3073),V=x(8455),Ee=x(3669),z=x(6450),Ae=x(3794),Oe=x(8496),He=x(4360),st=x(5225);function xe(...Qe){const Je=(0,Ae.lI)(Qe),ct=(0,Ae.ms)(Qe),{args:Ct,keys:mt}=(0,s.D)(Qe);if(0===Ct.length)return(0,V.H)([],Je);const lt=new h.c(function Ie(Qe,Je,ct=Ee.D){return Ct=>{nt(Je,()=>{const{length:mt}=Qe,lt=new Array(mt);let Nt=mt,wt=mt;for(let Me=0;Me<mt;Me++)nt(Je,()=>{const Fe=(0,V.H)(Qe[Me],Je);let Le=!1;Fe.subscribe((0,He._)(Ct,ot=>{lt[Me]=ot,Le||(Le=!0,wt--),wt||Ct.next(ct(lt.slice()))},()=>{--Nt||Ct.complete()}))},Ct)},Ct)}}(Ct,Je,mt?Nt=>(0,Oe.e)(mt,Nt):Ee.D));return ct?lt.pipe((0,z.I)(ct)):lt}function nt(Qe,Je,ct){Qe?(0,st.N)(ct,Qe,Je):Je()}},8793:(Mn,St,x)=>{"use strict";x.d(St,{x:()=>z});var h=x(6365),V=x(3794),Ee=x(8455);function z(...Ae){return function s(){return(0,h.U)(1)}()((0,Ee.H)(Ae,(0,V.lI)(Ae)))}},983:(Mn,St,x)=>{"use strict";x.d(St,{w:()=>s});const s=new(x(1985).c)(z=>z.complete())},8455:(Mn,St,x)=>{"use strict";x.d(St,{H:()=>Fe});var h=x(8750),s=x(941),V=x(6745),Ae=x(1985),He=x(4761),st=x(8071),xe=x(5225);function nt(Le,ot){if(!Le)throw new Error("Iterable cannot be null");return new Ae.c(ut=>{(0,xe.N)(ut,ot,()=>{const it=Le[Symbol.asyncIterator]();(0,xe.N)(ut,ot,()=>{it.next().then(he=>{he.done?ut.complete():ut.next(he.value)})},0,!0)})})}var Qe=x(5055),Je=x(9858),ct=x(7441),Ct=x(5397),mt=x(7953),lt=x(591),Nt=x(5196);function Fe(Le,ot){return ot?function Me(Le,ot){if(null!=Le){if((0,Qe.l)(Le))return function Ee(Le,ot){return(0,h.Tg)(Le).pipe((0,V._)(ot),(0,s.Q)(ot))}(Le,ot);if((0,ct.X)(Le))return function Oe(Le,ot){return new Ae.c(ut=>{let it=0;return ot.schedule(function(){it===Le.length?ut.complete():(ut.next(Le[it++]),ut.closed||this.schedule())})})}(Le,ot);if((0,Je.y)(Le))return function z(Le,ot){return(0,h.Tg)(Le).pipe((0,V._)(ot),(0,s.Q)(ot))}(Le,ot);if((0,mt.T)(Le))return nt(Le,ot);if((0,Ct.x)(Le))return function Ie(Le,ot){return new Ae.c(ut=>{let it;return(0,xe.N)(ut,ot,()=>{it=Le[He.l](),(0,xe.N)(ut,ot,()=>{let he,ft;try{({value:he,done:ft}=it.next())}catch(ht){return void ut.error(ht)}ft?ut.complete():ut.next(he)},0,!0)}),()=>(0,st.T)(null==it?void 0:it.return)&&it.return()})}(Le,ot);if((0,Nt.U)(Le))return function wt(Le,ot){return nt((0,Nt.C)(Le),ot)}(Le,ot)}throw(0,lt.L)(Le)}(Le,ot):(0,h.Tg)(Le)}},3726:(Mn,St,x)=>{"use strict";x.d(St,{R:()=>xe});var h=x(8750),s=x(1985),V=x(1397),Ee=x(7441),z=x(8071),Ae=x(6450);const Oe=["addListener","removeListener"],He=["addEventListener","removeEventListener"],st=["on","off"];function xe(ct,Ct,mt,lt){if((0,z.T)(mt)&&(lt=mt,mt=void 0),lt)return xe(ct,Ct,mt).pipe((0,Ae.I)(lt));const[Nt,wt]=function Je(ct){return(0,z.T)(ct.addEventListener)&&(0,z.T)(ct.removeEventListener)}(ct)?He.map(Me=>Fe=>ct[Me](Ct,Fe,mt)):function nt(ct){return(0,z.T)(ct.addListener)&&(0,z.T)(ct.removeListener)}(ct)?Oe.map(Ie(ct,Ct)):function Qe(ct){return(0,z.T)(ct.on)&&(0,z.T)(ct.off)}(ct)?st.map(Ie(ct,Ct)):[];if(!Nt&&(0,Ee.X)(ct))return(0,V.Z)(Me=>xe(Me,Ct,mt))((0,h.Tg)(ct));if(!Nt)throw new TypeError("Invalid event target");return new s.c(Me=>{const Fe=(...Le)=>Me.next(1<Le.length?Le:Le[0]);return Nt(Fe),()=>wt(Fe)})}function Ie(ct,Ct){return mt=>lt=>ct[mt](Ct,lt)}},8750:(Mn,St,x)=>{"use strict";x.d(St,{Tg:()=>Qe});var h=x(1635),s=x(7441),V=x(9858),Ee=x(1985),z=x(5055),Ae=x(7953),Oe=x(591),He=x(5397),st=x(5196),xe=x(8071),Ie=x(5334),nt=x(3494);function Qe(Me){if(Me instanceof Ee.c)return Me;if(null!=Me){if((0,z.l)(Me))return function Je(Me){return new Ee.c(Fe=>{const Le=Me[nt.s]();if((0,xe.T)(Le.subscribe))return Le.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,s.X)(Me))return function ct(Me){return new Ee.c(Fe=>{for(let Le=0;Le<Me.length&&!Fe.closed;Le++)Fe.next(Me[Le]);Fe.complete()})}(Me);if((0,V.y)(Me))return function Ct(Me){return new Ee.c(Fe=>{Me.then(Le=>{Fe.closed||(Fe.next(Le),Fe.complete())},Le=>Fe.error(Le)).then(null,Ie.m)})}(Me);if((0,Ae.T)(Me))return lt(Me);if((0,He.x)(Me))return function mt(Me){return new Ee.c(Fe=>{for(const Le of Me)if(Fe.next(Le),Fe.closed)return;Fe.complete()})}(Me);if((0,st.U)(Me))return function Nt(Me){return lt((0,st.C)(Me))}(Me)}throw(0,Oe.L)(Me)}function lt(Me){return new Ee.c(Fe=>{(function wt(Me,Fe){var Le,ot,ut,it;return(0,h.sH)(this,void 0,void 0,function*(){try{for(Le=(0,h.xN)(Me);!(ot=yield Le.next()).done;)if(Fe.next(ot.value),Fe.closed)return}catch(he){ut={error:he}}finally{try{ot&&!ot.done&&(it=Le.return)&&(yield it.call(Le))}finally{if(ut)throw ut.error}}Fe.complete()})})(Me,Fe).catch(Le=>Fe.error(Le))})}},7673:(Mn,St,x)=>{"use strict";x.d(St,{of:()=>V});var h=x(3794),s=x(8455);function V(...Ee){const z=(0,h.lI)(Ee);return(0,s.H)(Ee,z)}},4360:(Mn,St,x)=>{"use strict";x.d(St,{_:()=>s});var h=x(7707);function s(Ee,z,Ae,Oe,He){return new V(Ee,z,Ae,Oe,He)}class V extends h.vU{constructor(z,Ae,Oe,He,st,xe){super(z),this.onFinalize=st,this.shouldUnsubscribe=xe,this._next=Ae?function(Ie){try{Ae(Ie)}catch(nt){z.error(nt)}}:super._next,this._error=He?function(Ie){try{He(Ie)}catch(nt){z.error(nt)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(Ie){z.error(Ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},274:(Mn,St,x)=>{"use strict";x.d(St,{H:()=>V});var h=x(1397),s=x(8071);function V(Ee,z){return(0,s.T)(z)?(0,h.Z)(Ee,z,1):(0,h.Z)(Ee,1)}},9901:(Mn,St,x)=>{"use strict";x.d(St,{U:()=>V});var h=x(9974),s=x(4360);function V(Ee){return(0,h.N)((z,Ae)=>{let Oe=!1;z.subscribe((0,s._)(Ae,He=>{Oe=!0,Ae.next(He)},()=>{Oe||Ae.next(Ee),Ae.complete()}))})}},3294:(Mn,St,x)=>{"use strict";x.d(St,{F:()=>Ee});var h=x(3669),s=x(9974),V=x(4360);function Ee(Ae,Oe=h.D){return Ae=null!=Ae?Ae:z,(0,s.N)((He,st)=>{let xe,Ie=!0;He.subscribe((0,V._)(st,nt=>{const Qe=Oe(nt);(Ie||!Ae(xe,Qe))&&(Ie=!1,xe=Qe,st.next(nt))}))})}function z(Ae,Oe){return Ae===Oe}},5964:(Mn,St,x)=>{"use strict";x.d(St,{p:()=>V});var h=x(9974),s=x(4360);function V(Ee,z){return(0,h.N)((Ae,Oe)=>{let He=0;Ae.subscribe((0,s._)(Oe,st=>Ee.call(z,st,He++)&&Oe.next(st)))})}},980:(Mn,St,x)=>{"use strict";x.d(St,{j:()=>s});var h=x(9974);function s(V){return(0,h.N)((Ee,z)=>{try{Ee.subscribe(z)}finally{z.add(V)}})}},1594:(Mn,St,x)=>{"use strict";x.d(St,{$:()=>Oe});var h=x(9350),s=x(5964),V=x(6697),Ee=x(9901),z=x(3774),Ae=x(3669);function Oe(He,st){const xe=arguments.length>=2;return Ie=>Ie.pipe(He?(0,s.p)((nt,Qe)=>He(nt,Qe,Ie)):Ae.D,(0,V.s)(1),xe?(0,Ee.U)(st):(0,z.v)(()=>new h.G))}},6354:(Mn,St,x)=>{"use strict";x.d(St,{T:()=>V});var h=x(9974),s=x(4360);function V(Ee,z){return(0,h.N)((Ae,Oe)=>{let He=0;Ae.subscribe((0,s._)(Oe,st=>{Oe.next(Ee.call(z,st,He++))}))})}},6365:(Mn,St,x)=>{"use strict";x.d(St,{U:()=>V});var h=x(1397),s=x(3669);function V(Ee=1/0){return(0,h.Z)(s.D,Ee)}},1397:(Mn,St,x)=>{"use strict";x.d(St,{Z:()=>He});var h=x(6354),s=x(8750),V=x(9974),Ee=x(5225),z=x(4360),Oe=x(8071);function He(st,xe,Ie=1/0){return(0,Oe.T)(xe)?He((nt,Qe)=>(0,h.T)((Je,ct)=>xe(nt,Je,Qe,ct))((0,s.Tg)(st(nt,Qe))),Ie):("number"==typeof xe&&(Ie=xe),(0,V.N)((nt,Qe)=>function Ae(st,xe,Ie,nt,Qe,Je,ct,Ct){const mt=[];let lt=0,Nt=0,wt=!1;const Me=()=>{wt&&!mt.length&&!lt&&xe.complete()},Fe=ot=>lt<nt?Le(ot):mt.push(ot),Le=ot=>{Je&&xe.next(ot),lt++;let ut=!1;(0,s.Tg)(Ie(ot,Nt++)).subscribe((0,z._)(xe,it=>{null==Qe||Qe(it),Je?Fe(it):xe.next(it)},()=>{ut=!0},void 0,()=>{if(ut)try{for(lt--;mt.length&&lt<nt;){const it=mt.shift();ct?(0,Ee.N)(xe,ct,()=>Le(it)):Le(it)}Me()}catch(it){xe.error(it)}}))};return st.subscribe((0,z._)(xe,Fe,()=>{wt=!0,Me()})),()=>{null==Ct||Ct()}}(nt,Qe,st,Ie)))}},941:(Mn,St,x)=>{"use strict";x.d(St,{Q:()=>Ee});var h=x(5225),s=x(9974),V=x(4360);function Ee(z,Ae=0){return(0,s.N)((Oe,He)=>{Oe.subscribe((0,V._)(He,st=>(0,h.N)(He,z,()=>He.next(st),Ae),()=>(0,h.N)(He,z,()=>He.complete(),Ae),st=>(0,h.N)(He,z,()=>He.error(st),Ae)))})}},2816:(Mn,St,x)=>{"use strict";x.d(St,{S:()=>Ee});var h=x(9974),s=x(4360);function Ee(z,Ae){return(0,h.N)(function V(z,Ae,Oe,He,st){return(xe,Ie)=>{let nt=Oe,Qe=Ae,Je=0;xe.subscribe((0,s._)(Ie,ct=>{const Ct=Je++;Qe=nt?z(Qe,ct,Ct):(nt=!0,ct),He&&Ie.next(Qe)},st&&(()=>{nt&&Ie.next(Qe),Ie.complete()})))}}(z,Ae,arguments.length>=2,!0))}},9172:(Mn,St,x)=>{"use strict";x.d(St,{Z:()=>Ee});var h=x(8793),s=x(3794),V=x(9974);function Ee(...z){const Ae=(0,s.lI)(z);return(0,V.N)((Oe,He)=>{(Ae?(0,h.x)(z,Oe,Ae):(0,h.x)(z,Oe)).subscribe(He)})}},6745:(Mn,St,x)=>{"use strict";x.d(St,{_:()=>s});var h=x(9974);function s(V,Ee=0){return(0,h.N)((z,Ae)=>{Ae.add(V.schedule(()=>z.subscribe(Ae),Ee))})}},5558:(Mn,St,x)=>{"use strict";x.d(St,{n:()=>Ee});var h=x(8750),s=x(9974),V=x(4360);function Ee(z,Ae){return(0,s.N)((Oe,He)=>{let st=null,xe=0,Ie=!1;const nt=()=>Ie&&!st&&He.complete();Oe.subscribe((0,V._)(He,Qe=>{null==st||st.unsubscribe();let Je=0;const ct=xe++;(0,h.Tg)(z(Qe,ct)).subscribe(st=(0,V._)(He,Ct=>He.next(Ae?Ae(Qe,Ct,ct,Je++):Ct),()=>{st=null,nt()}))},()=>{Ie=!0,nt()}))})}},6697:(Mn,St,x)=>{"use strict";x.d(St,{s:()=>Ee});var h=x(983),s=x(9974),V=x(4360);function Ee(z){return z<=0?()=>h.w:(0,s.N)((Ae,Oe)=>{let He=0;Ae.subscribe((0,V._)(Oe,st=>{++He<=z&&(Oe.next(st),z<=He&&Oe.complete())}))})}},8141:(Mn,St,x)=>{"use strict";x.d(St,{M:()=>z});var h=x(8071),s=x(9974),V=x(4360),Ee=x(3669);function z(Ae,Oe,He){const st=(0,h.T)(Ae)||Oe||He?{next:Ae,error:Oe,complete:He}:Ae;return st?(0,s.N)((xe,Ie)=>{var nt;null===(nt=st.subscribe)||void 0===nt||nt.call(st);let Qe=!0;xe.subscribe((0,V._)(Ie,Je=>{var ct;null===(ct=st.next)||void 0===ct||ct.call(st,Je),Ie.next(Je)},()=>{var Je;Qe=!1,null===(Je=st.complete)||void 0===Je||Je.call(st),Ie.complete()},Je=>{var ct;Qe=!1,null===(ct=st.error)||void 0===ct||ct.call(st,Je),Ie.error(Je)},()=>{var Je,ct;Qe&&(null===(Je=st.unsubscribe)||void 0===Je||Je.call(st)),null===(ct=st.finalize)||void 0===ct||ct.call(st)}))}):Ee.D}},3774:(Mn,St,x)=>{"use strict";x.d(St,{v:()=>Ee});var h=x(9350),s=x(9974),V=x(4360);function Ee(Ae=z){return(0,s.N)((Oe,He)=>{let st=!1;Oe.subscribe((0,V._)(He,xe=>{st=!0,He.next(xe)},()=>st?He.complete():He.error(Ae())))})}function z(){return new h.G}},6780:(Mn,St,x)=>{"use strict";x.d(St,{R:()=>z});var h=x(8359);class s extends h.yU{constructor(Oe,He){super()}schedule(Oe,He=0){return this}}const V={setInterval(Ae,Oe,...He){const{delegate:st}=V;return null!=st&&st.setInterval?st.setInterval(Ae,Oe,...He):setInterval(Ae,Oe,...He)},clearInterval(Ae){const{delegate:Oe}=V;return((null==Oe?void 0:Oe.clearInterval)||clearInterval)(Ae)},delegate:void 0};var Ee=x(7908);class z extends s{constructor(Oe,He){super(Oe,He),this.scheduler=Oe,this.work=He,this.pending=!1}schedule(Oe,He=0){var st;if(this.closed)return this;this.state=Oe;const xe=this.id,Ie=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(Ie,xe,He)),this.pending=!0,this.delay=He,this.id=null!==(st=this.id)&&void 0!==st?st:this.requestAsyncId(Ie,this.id,He),this}requestAsyncId(Oe,He,st=0){return V.setInterval(Oe.flush.bind(Oe,this),st)}recycleAsyncId(Oe,He,st=0){if(null!=st&&this.delay===st&&!1===this.pending)return He;null!=He&&V.clearInterval(He)}execute(Oe,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const st=this._execute(Oe,He);if(st)return st;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,He){let xe,st=!1;try{this.work(Oe)}catch(Ie){st=!0,xe=Ie||new Error("Scheduled action threw falsy error")}if(st)return this.unsubscribe(),xe}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:He}=this,{actions:st}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ee.o)(st,this),null!=Oe&&(this.id=this.recycleAsyncId(He,Oe,null)),this.delay=null,super.unsubscribe()}}}},9687:(Mn,St,x)=>{"use strict";x.d(St,{q:()=>V});var h=x(6129);class s{constructor(z,Ae=s.now){this.schedulerActionCtor=z,this.now=Ae}schedule(z,Ae=0,Oe){return new this.schedulerActionCtor(this,z).schedule(Oe,Ae)}}s.now=h.U.now;class V extends s{constructor(z,Ae=s.now){super(z,Ae),this.actions=[],this._active=!1}flush(z){const{actions:Ae}=this;if(this._active)return void Ae.push(z);let Oe;this._active=!0;do{if(Oe=z.execute(z.state,z.delay))break}while(z=Ae.shift());if(this._active=!1,Oe){for(;z=Ae.shift();)z.unsubscribe();throw Oe}}}},3236:(Mn,St,x)=>{"use strict";x.d(St,{E:()=>V});var h=x(6780);const V=new(x(9687).q)(h.R)},6129:(Mn,St,x)=>{"use strict";x.d(St,{U:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},9270:(Mn,St,x)=>{"use strict";x.d(St,{f:()=>h});const h={setTimeout(s,V,...Ee){const{delegate:z}=h;return null!=z&&z.setTimeout?z.setTimeout(s,V,...Ee):setTimeout(s,V,...Ee)},clearTimeout(s){const{delegate:V}=h;return((null==V?void 0:V.clearTimeout)||clearTimeout)(s)},delegate:void 0}},4761:(Mn,St,x)=>{"use strict";x.d(St,{l:()=>s});const s=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Mn,St,x)=>{"use strict";x.d(St,{s:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Mn,St,x)=>{"use strict";x.d(St,{G:()=>s});const s=(0,x(1853).L)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Mn,St,x)=>{"use strict";x.d(St,{R0:()=>Ae,ms:()=>Ee,lI:()=>z});var h=x(8071);function V(Oe){return Oe[Oe.length-1]}function Ee(Oe){return(0,h.T)(V(Oe))?Oe.pop():void 0}function z(Oe){return function s(Oe){return Oe&&(0,h.T)(Oe.schedule)}(V(Oe))?Oe.pop():void 0}function Ae(Oe,He){return"number"==typeof V(Oe)?Oe.pop():He}},3073:(Mn,St,x)=>{"use strict";x.d(St,{D:()=>z});const{isArray:h}=Array,{getPrototypeOf:s,prototype:V,keys:Ee}=Object;function z(Oe){if(1===Oe.length){const He=Oe[0];if(h(He))return{args:He,keys:null};if(function Ae(Oe){return Oe&&"object"==typeof Oe&&s(Oe)===V}(He)){const st=Ee(He);return{args:st.map(xe=>He[xe]),keys:st}}}return{args:Oe,keys:null}}},7908:(Mn,St,x)=>{"use strict";function h(s,V){if(s){const Ee=s.indexOf(V);0<=Ee&&s.splice(Ee,1)}}x.d(St,{o:()=>h})},1853:(Mn,St,x)=>{"use strict";function h(s){const Ee=s(z=>{Error.call(z),z.stack=(new Error).stack});return Ee.prototype=Object.create(Error.prototype),Ee.prototype.constructor=Ee,Ee}x.d(St,{L:()=>h})},8496:(Mn,St,x)=>{"use strict";function h(s,V){return s.reduce((Ee,z,Ae)=>(Ee[z]=V[Ae],Ee),{})}x.d(St,{e:()=>h})},9786:(Mn,St,x)=>{"use strict";x.d(St,{Y:()=>V,l:()=>Ee});var h=x(1026);let s=null;function V(z){if(h.$.useDeprecatedSynchronousErrorHandling){const Ae=!s;if(Ae&&(s={errorThrown:!1,error:null}),z(),Ae){const{errorThrown:Oe,error:He}=s;if(s=null,Oe)throw He}}else z()}function Ee(z){h.$.useDeprecatedSynchronousErrorHandling&&s&&(s.errorThrown=!0,s.error=z)}},5225:(Mn,St,x)=>{"use strict";function h(s,V,Ee,z=0,Ae=!1){const Oe=V.schedule(function(){Ee(),Ae?s.add(this.schedule(null,z)):this.unsubscribe()},z);if(s.add(Oe),!Ae)return Oe}x.d(St,{N:()=>h})},3669:(Mn,St,x)=>{"use strict";function h(s){return s}x.d(St,{D:()=>h})},7441:(Mn,St,x)=>{"use strict";x.d(St,{X:()=>h});const h=s=>s&&"number"==typeof s.length&&"function"!=typeof s},7953:(Mn,St,x)=>{"use strict";x.d(St,{T:()=>s});var h=x(8071);function s(V){return Symbol.asyncIterator&&(0,h.T)(null==V?void 0:V[Symbol.asyncIterator])}},8071:(Mn,St,x)=>{"use strict";function h(s){return"function"==typeof s}x.d(St,{T:()=>h})},5055:(Mn,St,x)=>{"use strict";x.d(St,{l:()=>V});var h=x(3494),s=x(8071);function V(Ee){return(0,s.T)(Ee[h.s])}},5397:(Mn,St,x)=>{"use strict";x.d(St,{x:()=>V});var h=x(4761),s=x(8071);function V(Ee){return(0,s.T)(null==Ee?void 0:Ee[h.l])}},9858:(Mn,St,x)=>{"use strict";x.d(St,{y:()=>s});var h=x(8071);function s(V){return(0,h.T)(null==V?void 0:V.then)}},5196:(Mn,St,x)=>{"use strict";x.d(St,{C:()=>V,U:()=>Ee});var h=x(1635),s=x(8071);function V(z){return(0,h.AQ)(this,arguments,function*(){const Oe=z.getReader();try{for(;;){const{value:He,done:st}=yield(0,h.N3)(Oe.read());if(st)return yield(0,h.N3)(void 0);yield yield(0,h.N3)(He)}}finally{Oe.releaseLock()}})}function Ee(z){return(0,s.T)(null==z?void 0:z.getReader)}},9974:(Mn,St,x)=>{"use strict";x.d(St,{N:()=>V,S:()=>s});var h=x(8071);function s(Ee){return(0,h.T)(null==Ee?void 0:Ee.lift)}function V(Ee){return z=>{if(s(z))return z.lift(function(Ae){try{return Ee(Ae,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Mn,St,x)=>{"use strict";x.d(St,{I:()=>Ee});var h=x(6354);const{isArray:s}=Array;function Ee(z){return(0,h.T)(Ae=>function V(z,Ae){return s(Ae)?z(...Ae):z(Ae)}(z,Ae))}},5343:(Mn,St,x)=>{"use strict";function h(){}x.d(St,{l:()=>h})},1203:(Mn,St,x)=>{"use strict";x.d(St,{F:()=>s,m:()=>V});var h=x(3669);function s(...Ee){return V(Ee)}function V(Ee){return 0===Ee.length?h.D:1===Ee.length?Ee[0]:function(Ae){return Ee.reduce((Oe,He)=>He(Oe),Ae)}}},5334:(Mn,St,x)=>{"use strict";x.d(St,{m:()=>V});var h=x(1026),s=x(9270);function V(Ee){s.f.setTimeout(()=>{const{onUnhandledError:z}=h.$;if(!z)throw Ee;z(Ee)})}},591:(Mn,St,x)=>{"use strict";function h(s){return new TypeError(`You provided ${null!==s&&"object"==typeof s?"an invalid object":`'${s}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(St,{L:()=>h})},8996:(Mn,St,x)=>{var h={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function s(V){if(!x.o(h,V))return Promise.resolve().then(()=>{var Ae=new Error("Cannot find module '"+V+"'");throw Ae.code="MODULE_NOT_FOUND",Ae});var Ee=h[V],z=Ee[0];return Promise.all(Ee.slice(1).map(x.e)).then(()=>x(z))}s.keys=()=>Object.keys(h),s.id=8996,Mn.exports=s},177:(Mn,St,x)=>{"use strict";x.d(St,{AJ:()=>sn,MD:()=>pt,N0:()=>Oi,P9:()=>Ze,QT:()=>V,QX:()=>It,Sm:()=>Ct,Sq:()=>wi,T3:()=>Zo,VF:()=>z,Vy:()=>dn,Xr:()=>Bn,ZD:()=>Ee,_b:()=>de,aZ:()=>lt,bT:()=>Mi,fw:()=>mt,hb:()=>Je,hj:()=>st,qQ:()=>Oe,vh:()=>ts});var h=x(3953);let s=null;function V(){return s}function Ee(D){var K;null!==(K=s)&&void 0!==K||(s=D)}class z{}const Oe=new h.nKC("");let He=(()=>{var D;class K{historyGo(H){throw new Error("")}}return(D=K).\u0275fac=function(H){return new(H||D)},D.\u0275prov=h.jDH({token:D,factory:()=>(0,h.WQX)(xe),providedIn:"platform"}),K})();const st=new h.nKC("");let xe=(()=>{var D;class K extends He{constructor(){super(),this._doc=(0,h.WQX)(Oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(H){const ye=V().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("popstate",H,!1),()=>ye.removeEventListener("popstate",H)}onHashChange(H){const ye=V().getGlobalEventTarget(this._doc,"window");return ye.addEventListener("hashchange",H,!1),()=>ye.removeEventListener("hashchange",H)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(H){this._location.pathname=H}pushState(H,ye,$e){this._history.pushState(H,ye,$e)}replaceState(H,ye,$e){this._history.replaceState(H,ye,$e)}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return(D=K).\u0275fac=function(H){return new(H||D)},D.\u0275prov=h.jDH({token:D,factory:()=>new D,providedIn:"platform"}),K})();function Ie(D,K){if(0==D.length)return K;if(0==K.length)return D;let Ve=0;return D.endsWith("/")&&Ve++,K.startsWith("/")&&Ve++,2==Ve?D+K.substring(1):1==Ve?D+K:D+"/"+K}function nt(D){const K=D.match(/#|\?|$/),Ve=K&&K.index||D.length;return D.slice(0,Ve-("/"===D[Ve-1]?1:0))+D.slice(Ve)}function Qe(D){return D&&"?"!==D[0]?"?"+D:D}let Je=(()=>{var D;class K{historyGo(H){throw new Error("")}}return(D=K).\u0275fac=function(H){return new(H||D)},D.\u0275prov=h.jDH({token:D,factory:()=>(0,h.WQX)(Ct),providedIn:"root"}),K})();const ct=new h.nKC("");let Ct=(()=>{var D;class K extends Je{constructor(H,ye){var $e,tn,bn;super(),this._platformLocation=H,this._removeListenerFns=[],this._baseHref=null!==($e=null!==(tn=null!=ye?ye:this._platformLocation.getBaseHrefFromDOM())&&void 0!==tn?tn:null===(bn=(0,h.WQX)(Oe).location)||void 0===bn?void 0:bn.origin)&&void 0!==$e?$e:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return Ie(this._baseHref,H)}path(H=!1){const ye=this._platformLocation.pathname+Qe(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&H?`${ye}${$e}`:ye}pushState(H,ye,$e,tn){const bn=this.prepareExternalUrl($e+Qe(tn));this._platformLocation.pushState(H,ye,bn)}replaceState(H,ye,$e,tn){const bn=this.prepareExternalUrl($e+Qe(tn));this._platformLocation.replaceState(H,ye,bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ye,$e;null===(ye=($e=this._platformLocation).historyGo)||void 0===ye||ye.call($e,H)}}return(D=K).\u0275fac=function(H){return new(H||D)(h.KVO(He),h.KVO(ct,8))},D.\u0275prov=h.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),K})(),mt=(()=>{var D;class K extends Je{constructor(H,ye){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ye&&(this._baseHref=ye)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){var ye;const $e=null!==(ye=this._platformLocation.hash)&&void 0!==ye?ye:"#";return $e.length>0?$e.substring(1):$e}prepareExternalUrl(H){const ye=Ie(this._baseHref,H);return ye.length>0?"#"+ye:ye}pushState(H,ye,$e,tn){let bn=this.prepareExternalUrl($e+Qe(tn));0==bn.length&&(bn=this._platformLocation.pathname),this._platformLocation.pushState(H,ye,bn)}replaceState(H,ye,$e,tn){let bn=this.prepareExternalUrl($e+Qe(tn));0==bn.length&&(bn=this._platformLocation.pathname),this._platformLocation.replaceState(H,ye,bn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(H=0){var ye,$e;null===(ye=($e=this._platformLocation).historyGo)||void 0===ye||ye.call($e,H)}}return(D=K).\u0275fac=function(H){return new(H||D)(h.KVO(He),h.KVO(ct,8))},D.\u0275prov=h.jDH({token:D,factory:D.\u0275fac}),K})(),lt=(()=>{var D;class K{constructor(H){this._subject=new h.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=H;const ye=this._locationStrategy.getBaseHref();this._basePath=function Fe(D){if(new RegExp("^(https?:)?//").test(D)){const[,Ve]=D.split(/\/\/[^\/]+/);return Ve}return D}(nt(Me(ye))),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){var H;null===(H=this._urlChangeSubscription)||void 0===H||H.unsubscribe(),this._urlChangeListeners=[]}path(H=!1){return this.normalize(this._locationStrategy.path(H))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(H,ye=""){return this.path()==this.normalize(H+Qe(ye))}normalize(H){return K.stripTrailingSlash(function wt(D,K){if(!D||!K.startsWith(D))return K;const Ve=K.substring(D.length);return""===Ve||["/",";","?","#"].includes(Ve[0])?Ve:K}(this._basePath,Me(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._locationStrategy.prepareExternalUrl(H)}go(H,ye="",$e=null){this._locationStrategy.pushState($e,"",H,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Qe(ye)),$e)}replaceState(H,ye="",$e=null){this._locationStrategy.replaceState($e,"",H,ye),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Qe(ye)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(H=0){var ye,$e;null===(ye=($e=this._locationStrategy).historyGo)||void 0===ye||ye.call($e,H)}onUrlChange(H){var ye;return this._urlChangeListeners.push(H),null!==(ye=this._urlChangeSubscription)&&void 0!==ye||(this._urlChangeSubscription=this.subscribe($e=>{this._notifyUrlChangeListeners($e.url,$e.state)})),()=>{const $e=this._urlChangeListeners.indexOf(H);var tn;this._urlChangeListeners.splice($e,1),0===this._urlChangeListeners.length&&(null===(tn=this._urlChangeSubscription)||void 0===tn||tn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(H="",ye){this._urlChangeListeners.forEach($e=>$e(H,ye))}subscribe(H,ye,$e){return this._subject.subscribe({next:H,error:ye,complete:$e})}}return(D=K).normalizeQueryParams=Qe,D.joinWithSlash=Ie,D.stripTrailingSlash=nt,D.\u0275fac=function(H){return new(H||D)(h.KVO(Je))},D.\u0275prov=h.jDH({token:D,factory:()=>function Nt(){return new lt((0,h.KVO)(Je))}(),providedIn:"root"}),K})();function Me(D){return D.replace(/\/index.html$/,"")}var ot=function(D){return D[D.Decimal=0]="Decimal",D[D.Percent=1]="Percent",D[D.Currency=2]="Currency",D[D.Scientific=3]="Scientific",D}(ot||{}),it=function(D){return D[D.Format=0]="Format",D[D.Standalone=1]="Standalone",D}(it||{}),he=function(D){return D[D.Narrow=0]="Narrow",D[D.Abbreviated=1]="Abbreviated",D[D.Wide=2]="Wide",D[D.Short=3]="Short",D}(he||{}),ft=function(D){return D[D.Short=0]="Short",D[D.Medium=1]="Medium",D[D.Long=2]="Long",D[D.Full=3]="Full",D}(ft||{});const ht={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function se(D,K){return Yt((0,h.H5H)(D)[h.KH2.DateFormat],K)}function Ue(D,K){return Yt((0,h.H5H)(D)[h.KH2.TimeFormat],K)}function et(D,K){return Yt((0,h.H5H)(D)[h.KH2.DateTimeFormat],K)}function Et(D,K){const Ve=(0,h.H5H)(D),H=Ve[h.KH2.NumberSymbols][K];if(typeof H>"u"){if(K===ht.CurrencyDecimal)return Ve[h.KH2.NumberSymbols][ht.Decimal];if(K===ht.CurrencyGroup)return Ve[h.KH2.NumberSymbols][ht.Group]}return H}function Pn(D){if(!D[h.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${D[h.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yt(D,K){for(let Ve=K;Ve>-1;Ve--)if(typeof D[Ve]<"u")return D[Ve];throw new Error("Locale data API: locale data undefined")}function Hn(D){const[K,Ve]=D.split(":");return{hours:+K,minutes:+Ve}}const rn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gn={},hr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var sr=function(D){return D[D.Short=0]="Short",D[D.ShortGMT=1]="ShortGMT",D[D.Long=2]="Long",D[D.Extended=3]="Extended",D}(sr||{}),kn=function(D){return D[D.FullYear=0]="FullYear",D[D.Month=1]="Month",D[D.Date=2]="Date",D[D.Hours=3]="Hours",D[D.Minutes=4]="Minutes",D[D.Seconds=5]="Seconds",D[D.FractionalSeconds=6]="FractionalSeconds",D[D.Day=7]="Day",D}(kn||{}),Jt=function(D){return D[D.DayPeriods=0]="DayPeriods",D[D.Days=1]="Days",D[D.Months=2]="Months",D[D.Eras=3]="Eras",D}(Jt||{});function Ar(D,K,Ve,H){let ye=function W(D){if(le(D))return D;if("number"==typeof D&&!isNaN(D))return new Date(D);if("string"==typeof D){if(D=D.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(D)){const[ye,$e=1,tn=1]=D.split("-").map(bn=>+bn);return dr(ye,$e-1,tn)}const Ve=parseFloat(D);if(!isNaN(D-Ve))return new Date(Ve);let H;if(H=D.match(rn))return function Q(D){const K=new Date(0);let Ve=0,H=0;const ye=D[8]?K.setUTCFullYear:K.setFullYear,$e=D[8]?K.setUTCHours:K.setHours;D[9]&&(Ve=Number(D[9]+D[10]),H=Number(D[9]+D[11])),ye.call(K,Number(D[1]),Number(D[2])-1,Number(D[3]));const tn=Number(D[4]||0)-Ve,bn=Number(D[5]||0)-H,Sr=Number(D[6]||0),si=Math.floor(1e3*parseFloat("0."+(D[7]||0)));return $e.call(K,tn,bn,Sr,si),K}(H)}const K=new Date(D);if(!le(K))throw new Error(`Unable to convert "${D}" into a date`);return K}(D);K=or(Ve,K)||K;let bn,tn=[];for(;K;){if(bn=hr.exec(K),!bn){tn.push(K);break}{tn=tn.concat(bn.slice(1));const Qr=tn.pop();if(!Qr)break;K=Qr}}let Sr=ye.getTimezoneOffset();H&&(Sr=yt(H,Sr),ye=function oe(D,K,Ve){const H=Ve?-1:1,ye=D.getTimezoneOffset();return function Te(D,K){return(D=new Date(D.getTime())).setMinutes(D.getMinutes()+K),D}(D,H*(yt(K,ye)-ye))}(ye,H,!0));let si="";return tn.forEach(Qr=>{const Lr=function Tt(D){if(Wt[D])return Wt[D];let K;switch(D){case"G":case"GG":case"GGG":K=Un(Jt.Eras,he.Abbreviated);break;case"GGGG":K=Un(Jt.Eras,he.Wide);break;case"GGGGG":K=Un(Jt.Eras,he.Narrow);break;case"y":K=An(kn.FullYear,1,0,!1,!0);break;case"yy":K=An(kn.FullYear,2,0,!0,!0);break;case"yyy":K=An(kn.FullYear,3,0,!1,!0);break;case"yyyy":K=An(kn.FullYear,4,0,!1,!0);break;case"Y":K=di(1);break;case"YY":K=di(2,!0);break;case"YYY":K=di(3);break;case"YYYY":K=di(4);break;case"M":case"L":K=An(kn.Month,1,1);break;case"MM":case"LL":K=An(kn.Month,2,1);break;case"MMM":K=Un(Jt.Months,he.Abbreviated);break;case"MMMM":K=Un(Jt.Months,he.Wide);break;case"MMMMM":K=Un(Jt.Months,he.Narrow);break;case"LLL":K=Un(Jt.Months,he.Abbreviated,it.Standalone);break;case"LLLL":K=Un(Jt.Months,he.Wide,it.Standalone);break;case"LLLLL":K=Un(Jt.Months,he.Narrow,it.Standalone);break;case"w":K=wn(1);break;case"ww":K=wn(2);break;case"W":K=wn(1,!0);break;case"d":K=An(kn.Date,1);break;case"dd":K=An(kn.Date,2);break;case"c":case"cc":K=An(kn.Day,1);break;case"ccc":K=Un(Jt.Days,he.Abbreviated,it.Standalone);break;case"cccc":K=Un(Jt.Days,he.Wide,it.Standalone);break;case"ccccc":K=Un(Jt.Days,he.Narrow,it.Standalone);break;case"cccccc":K=Un(Jt.Days,he.Short,it.Standalone);break;case"E":case"EE":case"EEE":K=Un(Jt.Days,he.Abbreviated);break;case"EEEE":K=Un(Jt.Days,he.Wide);break;case"EEEEE":K=Un(Jt.Days,he.Narrow);break;case"EEEEEE":K=Un(Jt.Days,he.Short);break;case"a":case"aa":case"aaa":K=Un(Jt.DayPeriods,he.Abbreviated);break;case"aaaa":K=Un(Jt.DayPeriods,he.Wide);break;case"aaaaa":K=Un(Jt.DayPeriods,he.Narrow);break;case"b":case"bb":case"bbb":K=Un(Jt.DayPeriods,he.Abbreviated,it.Standalone,!0);break;case"bbbb":K=Un(Jt.DayPeriods,he.Wide,it.Standalone,!0);break;case"bbbbb":K=Un(Jt.DayPeriods,he.Narrow,it.Standalone,!0);break;case"B":case"BB":case"BBB":K=Un(Jt.DayPeriods,he.Abbreviated,it.Format,!0);break;case"BBBB":K=Un(Jt.DayPeriods,he.Wide,it.Format,!0);break;case"BBBBB":K=Un(Jt.DayPeriods,he.Narrow,it.Format,!0);break;case"h":K=An(kn.Hours,1,-12);break;case"hh":K=An(kn.Hours,2,-12);break;case"H":K=An(kn.Hours,1);break;case"HH":K=An(kn.Hours,2);break;case"m":K=An(kn.Minutes,1);break;case"mm":K=An(kn.Minutes,2);break;case"s":K=An(kn.Seconds,1);break;case"ss":K=An(kn.Seconds,2);break;case"S":K=An(kn.FractionalSeconds,1);break;case"SS":K=An(kn.FractionalSeconds,2);break;case"SSS":K=An(kn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":K=Xn(sr.Short);break;case"ZZZZZ":K=Xn(sr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":K=Xn(sr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":K=Xn(sr.Long);break;default:return null}return Wt[D]=K,K}(Qr);si+=Lr?Lr(ye,Ve,Sr):"''"===Qr?"'":Qr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),si}function dr(D,K,Ve){const H=new Date(0);return H.setFullYear(D,K,Ve),H.setHours(0,0,0),H}function or(D,K){var Ve;const H=function Ft(D){return(0,h.H5H)(D)[h.KH2.LocaleId]}(D);if(null!==(Ve=Gn[H])&&void 0!==Ve||(Gn[H]={}),Gn[H][K])return Gn[H][K];let ye="";switch(K){case"shortDate":ye=se(D,ft.Short);break;case"mediumDate":ye=se(D,ft.Medium);break;case"longDate":ye=se(D,ft.Long);break;case"fullDate":ye=se(D,ft.Full);break;case"shortTime":ye=Ue(D,ft.Short);break;case"mediumTime":ye=Ue(D,ft.Medium);break;case"longTime":ye=Ue(D,ft.Long);break;case"fullTime":ye=Ue(D,ft.Full);break;case"short":const $e=or(D,"shortTime"),tn=or(D,"shortDate");ye=Zn(et(D,ft.Short),[$e,tn]);break;case"medium":const bn=or(D,"mediumTime"),Sr=or(D,"mediumDate");ye=Zn(et(D,ft.Medium),[bn,Sr]);break;case"long":const si=or(D,"longTime"),Qr=or(D,"longDate");ye=Zn(et(D,ft.Long),[si,Qr]);break;case"full":const Lr=or(D,"fullTime"),Vr=or(D,"fullDate");ye=Zn(et(D,ft.Full),[Lr,Vr])}return ye&&(Gn[H][K]=ye),ye}function Zn(D,K){return K&&(D=D.replace(/\{([^}]+)}/g,function(Ve,H){return null!=K&&H in K?K[H]:Ve})),D}function Tr(D,K,Ve="-",H,ye){let $e="";(D<0||ye&&D<=0)&&(ye?D=1-D:(D=-D,$e=Ve));let tn=String(D);for(;tn.length<K;)tn="0"+tn;return H&&(tn=tn.slice(tn.length-K)),$e+tn}function An(D,K,Ve=0,H=!1,ye=!1){return function($e,tn){let bn=function ti(D,K){switch(D){case kn.FullYear:return K.getFullYear();case kn.Month:return K.getMonth();case kn.Date:return K.getDate();case kn.Hours:return K.getHours();case kn.Minutes:return K.getMinutes();case kn.Seconds:return K.getSeconds();case kn.FractionalSeconds:return K.getMilliseconds();case kn.Day:return K.getDay();default:throw new Error(`Unknown DateType value "${D}".`)}}(D,$e);if((Ve>0||bn>-Ve)&&(bn+=Ve),D===kn.Hours)0===bn&&-12===Ve&&(bn=12);else if(D===kn.FractionalSeconds)return function pi(D,K){return Tr(D,3).substring(0,K)}(bn,K);const Sr=Et(tn,ht.MinusSign);return Tr(bn,K,Sr,H,ye)}}function Un(D,K,Ve=it.Format,H=!1){return function(ye,$e){return function qn(D,K,Ve,H,ye,$e){switch(Ve){case Jt.Months:return function qe(D,K,Ve){const H=(0,h.H5H)(D),$e=Yt([H[h.KH2.MonthsFormat],H[h.KH2.MonthsStandalone]],K);return Yt($e,Ve)}(K,ye,H)[D.getMonth()];case Jt.Days:return function cn(D,K,Ve){const H=(0,h.H5H)(D),$e=Yt([H[h.KH2.DaysFormat],H[h.KH2.DaysStandalone]],K);return Yt($e,Ve)}(K,ye,H)[D.getDay()];case Jt.DayPeriods:const tn=D.getHours(),bn=D.getMinutes();if($e){const si=function Sn(D){const K=(0,h.H5H)(D);return Pn(K),(K[h.KH2.ExtraData][2]||[]).map(H=>"string"==typeof H?Hn(H):[Hn(H[0]),Hn(H[1])])}(K),Qr=function Ln(D,K,Ve){const H=(0,h.H5H)(D);Pn(H);const $e=Yt([H[h.KH2.ExtraData][0],H[h.KH2.ExtraData][1]],K)||[];return Yt($e,Ve)||[]}(K,ye,H),Lr=si.findIndex(Vr=>{if(Array.isArray(Vr)){const[ci,Kn]=Vr,ds=tn>=ci.hours&&bn>=ci.minutes,Li=tn<Kn.hours||tn===Kn.hours&&bn<Kn.minutes;if(ci.hours<Kn.hours){if(ds&&Li)return!0}else if(ds||Li)return!0}else if(Vr.hours===tn&&Vr.minutes===bn)return!0;return!1});if(-1!==Lr)return Qr[Lr]}return function Vt(D,K,Ve){const H=(0,h.H5H)(D),$e=Yt([H[h.KH2.DayPeriodsFormat],H[h.KH2.DayPeriodsStandalone]],K);return Yt($e,Ve)}(K,ye,H)[tn<12?0:1];case Jt.Eras:return function De(D,K){return Yt((0,h.H5H)(D)[h.KH2.Eras],K)}(K,H)[D.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ve}`)}}(ye,$e,D,K,Ve,H)}}function Xn(D){return function(K,Ve,H){const ye=-1*H,$e=Et(Ve,ht.MinusSign),tn=ye>0?Math.floor(ye/60):Math.ceil(ye/60);switch(D){case sr.Short:return(ye>=0?"+":"")+Tr(tn,2,$e)+Tr(Math.abs(ye%60),2,$e);case sr.ShortGMT:return"GMT"+(ye>=0?"+":"")+Tr(tn,1,$e);case sr.Long:return"GMT"+(ye>=0?"+":"")+Tr(tn,2,$e)+":"+Tr(Math.abs(ye%60),2,$e);case sr.Extended:return 0===H?"Z":(ye>=0?"+":"")+Tr(tn,2,$e)+":"+Tr(Math.abs(ye%60),2,$e);default:throw new Error(`Unknown zone width "${D}"`)}}}const bi=0,rr=4;function _r(D){const K=D.getDay(),Ve=0===K?-3:rr-K;return dr(D.getFullYear(),D.getMonth(),D.getDate()+Ve)}function wn(D,K=!1){return function(Ve,H){let ye;if(K){const $e=new Date(Ve.getFullYear(),Ve.getMonth(),1).getDay()-1,tn=Ve.getDate();ye=1+Math.floor((tn+$e)/7)}else{const $e=_r(Ve),tn=function Ii(D){const K=dr(D,bi,1).getDay();return dr(D,0,1+(K<=rr?rr:rr+7)-K)}($e.getFullYear()),bn=$e.getTime()-tn.getTime();ye=1+Math.round(bn/6048e5)}return Tr(ye,D,Et(H,ht.MinusSign))}}function di(D,K=!1){return function(Ve,H){return Tr(_r(Ve).getFullYear(),D,Et(H,ht.MinusSign),K)}}const Wt={};function yt(D,K){D=D.replace(/:/g,"");const Ve=Date.parse("Jan 01, 1970 00:00:00 "+D)/6e4;return isNaN(Ve)?K:Ve}function le(D){return D instanceof Date&&!isNaN(D.valueOf())}const Se=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function po(D){const K=parseInt(D);if(isNaN(K))throw new Error("Invalid integer literal when parsing "+D);return K}function de(D,K){K=encodeURIComponent(K);for(const Ve of D.split(";")){const H=Ve.indexOf("="),[ye,$e]=-1==H?[Ve,""]:[Ve.slice(0,H),Ve.slice(H+1)];if(ye.trim()===K)return decodeURIComponent($e)}return null}class Mr{constructor(K,Ve,H,ye){this.$implicit=K,this.ngForOf=Ve,this.index=H,this.count=ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wi=(()=>{var D;class K{set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}constructor(H,ye,$e){this._viewContainer=H,this._template=ye,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;!this._differ&&H&&(this._differ=this._differs.find(H).create(this.ngForTrackBy))}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ye=this._viewContainer;H.forEachOperation(($e,tn,bn)=>{if(null==$e.previousIndex)ye.createEmbeddedView(this._template,new Mr($e.item,this._ngForOf,-1,-1),null===bn?void 0:bn);else if(null==bn)ye.remove(null===tn?void 0:tn);else if(null!==tn){const Sr=ye.get(tn);ye.move(Sr,bn),ji(Sr,$e)}});for(let $e=0,tn=ye.length;$e<tn;$e++){const Sr=ye.get($e).context;Sr.index=$e,Sr.count=tn,Sr.ngForOf=this._ngForOf}H.forEachIdentityChange($e=>{ji(ye.get($e.currentIndex),$e)})}static ngTemplateContextGuard(H,ye){return!0}}return(D=K).\u0275fac=function(H){return new(H||D)(h.rXU(h.c1b),h.rXU(h.C4Q),h.rXU(h._q3))},D.\u0275dir=h.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),K})();function ji(D,K){D.context.$implicit=K.item}let Mi=(()=>{var D;class K{constructor(H,ye){this._viewContainer=H,this._context=new Zi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ye}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){oo("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){oo("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ye){return!0}}return(D=K).\u0275fac=function(H){return new(H||D)(h.rXU(h.c1b),h.rXU(h.C4Q))},D.\u0275dir=h.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),K})();class Zi{constructor(){this.$implicit=null,this.ngIf=null}}function oo(D,K){if(K&&!K.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,h.Tbb)(K)}'.`)}let Zo=(()=>{var D;class K{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(H){if(this._shouldRecreateView(H)){var ye;const $e=this._viewContainerRef;if(this._viewRef&&$e.remove($e.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const tn=this._createContextForwardProxy();this._viewRef=$e.createEmbeddedView(this.ngTemplateOutlet,tn,{injector:null!==(ye=this.ngTemplateOutletInjector)&&void 0!==ye?ye:void 0})}}_shouldRecreateView(H){return!!H.ngTemplateOutlet||!!H.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(H,ye,$e)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ye,$e),get:(H,ye,$e)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ye,$e)}})}}return(D=K).\u0275fac=function(H){return new(H||D)(h.rXU(h.c1b))},D.\u0275dir=h.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.OA$]}),K})();function ii(D,K){return new h.wOt(2100,!1)}const ta=new h.nKC(""),br=new h.nKC("");let ts=(()=>{var D;class K{constructor(H,ye,$e){this.locale=H,this.defaultTimezone=ye,this.defaultOptions=$e}transform(H,ye,$e,tn){if(null==H||""===H||H!=H)return null;try{var bn,Sr,si,Qr,Lr;const Vr=null!==(bn=null!=ye?ye:null===(Sr=this.defaultOptions)||void 0===Sr?void 0:Sr.dateFormat)&&void 0!==bn?bn:"mediumDate",ci=null!==(si=null!==(Qr=null!=$e?$e:null===(Lr=this.defaultOptions)||void 0===Lr?void 0:Lr.timezone)&&void 0!==Qr?Qr:this.defaultTimezone)&&void 0!==si?si:void 0;return Ar(H,Vr,tn||this.locale,ci)}catch(Vr){throw ii()}}}return(D=K).\u0275fac=function(H){return new(H||D)(h.rXU(h.xe9,16),h.rXU(ta,24),h.rXU(br,24))},D.\u0275pipe=h.EJ8({name:"date",type:D,pure:!0,standalone:!0}),K})(),It=(()=>{var D;class K{constructor(H){this._locale=H}transform(H,ye,$e){if(!function ae(D){return!(null==D||""===D||D!=D)}(H))return null;$e||($e=this._locale);try{return function Ei(D,K,Ve){return function ei(D,K,Ve,H,ye,$e,tn=!1){let bn="",Sr=!1;if(isFinite(D)){let si=function Do(D){let H,ye,$e,tn,bn,K=Math.abs(D)+"",Ve=0;for((ye=K.indexOf("."))>-1&&(K=K.replace(".","")),($e=K.search(/e/i))>0?(ye<0&&(ye=$e),ye+=+K.slice($e+1),K=K.substring(0,$e)):ye<0&&(ye=K.length),$e=0;"0"===K.charAt($e);$e++);if($e===(bn=K.length))H=[0],ye=1;else{for(bn--;"0"===K.charAt(bn);)bn--;for(ye-=$e,H=[],tn=0;$e<=bn;$e++,tn++)H[tn]=Number(K.charAt($e))}return ye>22&&(H=H.splice(0,21),Ve=ye-1,ye=1),{digits:H,exponent:Ve,integerLen:ye}}(D);tn&&(si=function Ui(D){if(0===D.digits[0])return D;const K=D.digits.length-D.integerLen;return D.exponent?D.exponent+=2:(0===K?D.digits.push(0,0):1===K&&D.digits.push(0),D.integerLen+=2),D}(si));let Qr=K.minInt,Lr=K.minFrac,Vr=K.maxFrac;if($e){const ys=$e.match(Se);if(null===ys)throw new Error(`${$e} is not a valid digit info`);const Is=ys[1],Ps=ys[3],La=ys[5];null!=Is&&(Qr=po(Is)),null!=Ps&&(Lr=po(Ps)),null!=La?Vr=po(La):null!=Ps&&Lr>Vr&&(Vr=Lr)}!function Go(D,K,Ve){if(K>Ve)throw new Error(`The minimum number of digits after fraction (${K}) is higher than the maximum (${Ve}).`);let H=D.digits,ye=H.length-D.integerLen;const $e=Math.min(Math.max(K,ye),Ve);let tn=$e+D.integerLen,bn=H[tn];if(tn>0){H.splice(Math.max(D.integerLen,tn));for(let Lr=tn;Lr<H.length;Lr++)H[Lr]=0}else{ye=Math.max(0,ye),D.integerLen=1,H.length=Math.max(1,tn=$e+1),H[0]=0;for(let Lr=1;Lr<tn;Lr++)H[Lr]=0}if(bn>=5)if(tn-1<0){for(let Lr=0;Lr>tn;Lr--)H.unshift(0),D.integerLen++;H.unshift(1),D.integerLen++}else H[tn-1]++;for(;ye<Math.max(0,$e);ye++)H.push(0);let Sr=0!==$e;const si=K+D.integerLen,Qr=H.reduceRight(function(Lr,Vr,ci,Kn){return Kn[ci]=(Vr+=Lr)<10?Vr:Vr-10,Sr&&(0===Kn[ci]&&ci>=si?Kn.pop():Sr=!1),Vr>=10?1:0},0);Qr&&(H.unshift(Qr),D.integerLen++)}(si,Lr,Vr);let ci=si.digits,Kn=si.integerLen;const ds=si.exponent;let Li=[];for(Sr=ci.every(ys=>!ys);Kn<Qr;Kn++)ci.unshift(0);for(;Kn<0;Kn++)ci.unshift(0);Kn>0?Li=ci.splice(Kn,ci.length):(Li=ci,ci=[0]);const vs=[];for(ci.length>=K.lgSize&&vs.unshift(ci.splice(-K.lgSize,ci.length).join(""));ci.length>K.gSize;)vs.unshift(ci.splice(-K.gSize,ci.length).join(""));ci.length&&vs.unshift(ci.join("")),bn=vs.join(Et(Ve,H)),Li.length&&(bn+=Et(Ve,ye)+Li.join("")),ds&&(bn+=Et(Ve,ht.Exponential)+"+"+ds)}else bn=Et(Ve,ht.Infinity);return bn=D<0&&!Sr?K.negPre+bn+K.negSuf:K.posPre+bn+K.posSuf,bn}(D,function xo(D,K="-"){const Ve={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},H=D.split(";"),ye=H[0],$e=H[1],tn=-1!==ye.indexOf(".")?ye.split("."):[ye.substring(0,ye.lastIndexOf("0")+1),ye.substring(ye.lastIndexOf("0")+1)],bn=tn[0],Sr=tn[1]||"";Ve.posPre=bn.substring(0,bn.indexOf("#"));for(let Qr=0;Qr<Sr.length;Qr++){const Lr=Sr.charAt(Qr);"0"===Lr?Ve.minFrac=Ve.maxFrac=Qr+1:"#"===Lr?Ve.maxFrac=Qr+1:Ve.posSuf+=Lr}const si=bn.split(",");if(Ve.gSize=si[1]?si[1].length:0,Ve.lgSize=si[2]||si[1]?(si[2]||si[1]).length:0,$e){const Qr=ye.length-Ve.posPre.length-Ve.posSuf.length,Lr=$e.indexOf("#");Ve.negPre=$e.substring(0,Lr).replace(/'/g,""),Ve.negSuf=$e.slice(Lr+Qr).replace(/'/g,"")}else Ve.negPre=K+Ve.posPre,Ve.negSuf=Ve.posSuf;return Ve}(function ze(D,K){return(0,h.H5H)(D)[h.KH2.NumberFormats][K]}(K,ot.Decimal),Et(K,ht.MinusSign)),K,ht.Group,ht.Decimal,Ve)}(function Ge(D){if("string"==typeof D&&!isNaN(Number(D)-parseFloat(D)))return Number(D);if("number"!=typeof D)throw new Error(`${D} is not a number`);return D}(H),$e,ye)}catch(tn){throw ii()}}}return(D=K).\u0275fac=function(H){return new(H||D)(h.rXU(h.xe9,16))},D.\u0275pipe=h.EJ8({name:"number",type:D,pure:!0,standalone:!0}),K})();let Ze=(()=>{var D;class K{transform(H,ye,$e){if(null==H)return null;if(!this.supports(H))throw ii();return H.slice(ye,$e)}supports(H){return"string"==typeof H||Array.isArray(H)}}return(D=K).\u0275fac=function(H){return new(H||D)},D.\u0275pipe=h.EJ8({name:"slice",type:D,pure:!1,standalone:!0}),K})(),pt=(()=>{var D;class K{}return(D=K).\u0275fac=function(H){return new(H||D)},D.\u0275mod=h.$C({type:D}),D.\u0275inj=h.G2t({}),K})();const sn="browser",an="server";function dn(D){return D===an}let Bn=(()=>{var D;class K{}return(D=K).\u0275prov=(0,h.jDH)({token:D,providedIn:"root",factory:()=>function nn(D){return D===sn}((0,h.WQX)(h.Agw))?new Yn((0,h.WQX)(Oe),window):new Ur}),K})();class Yn{constructor(K,Ve){this.document=K,this.window=Ve,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(K){this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){const Ve=function ar(D,K){const Ve=D.getElementById(K)||D.getElementsByName(K)[0];if(Ve)return Ve;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const H=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ye=H.currentNode;for(;ye;){const $e=ye.shadowRoot;if($e){const tn=$e.getElementById(K)||$e.querySelector(`[name="${K}"]`);if(tn)return tn}ye=H.nextNode()}}return null}(this.document,K);Ve&&(this.scrollToElement(Ve),Ve.focus())}setHistoryScrollRestoration(K){this.window.history.scrollRestoration=K}scrollToElement(K){const Ve=K.getBoundingClientRect(),H=Ve.left+this.window.pageXOffset,ye=Ve.top+this.window.pageYOffset,$e=this.offset();this.window.scrollTo(H-$e[0],ye-$e[1])}}class Ur{setOffset(K){}getScrollPosition(){return[0,0]}scrollToPosition(K){}scrollToAnchor(K){}setHistoryScrollRestoration(K){}}class Oi{}},3953:(Mn,St,x)=>{"use strict";function h(e,t){return Object.is(e,t)}x.d(St,{iLQ:()=>O0,sZ2:()=>Jp,hnV:()=>Zw,Hbi:()=>hN,o8S:()=>nd,BIS:()=>Af,gRc:()=>gD,Ql9:()=>xO,Ocv:()=>$O,Z63:()=>Ia,aKT:()=>il,uvJ:()=>Aa,zcH:()=>Gc,bkB:()=>Bl,$GK:()=>Hr,nKC:()=>wr,zZn:()=>Sa,_q3:()=>RC,MKu:()=>MC,xe9:()=>CC,Co$:()=>eT,Vns:()=>op,SKi:()=>Qo,Xx1:()=>Qs,Agw:()=>hh,PLl:()=>t_,sFG:()=>MS,_9s:()=>aE,czy:()=>Zr,kdw:()=>Ml,C4Q:()=>Lh,NYb:()=>DO,giA:()=>Yw,xvI:()=>tO,RxE:()=>Gw,c1b:()=>n0,gXe:()=>Os,mal:()=>h0,L39:()=>HN,EWP:()=>zN,a0P:()=>JN,Ol2:()=>AE,w6W:()=>ER,oH4:()=>dD,SmG:()=>YO,Rfq:()=>Xi,WQX:()=>Kn,naY:()=>QO,QuC:()=>Ao,EmA:()=>ja,fpN:()=>dN,HJs:()=>ZN,N4e:()=>zd,vPA:()=>FA,O8t:()=>WN,H3F:()=>zw,zAP:()=>BD,H8p:()=>sd,KH2:()=>hm,TgB:()=>Vu,wOt:()=>zn,WHO:()=>qw,e01:()=>Qw,H5H:()=>qE,Zy3:()=>Gi,mq5:()=>ob,JZv:()=>Di,LfX:()=>zs,plB:()=>Hh,jNT:()=>vC,zjR:()=>Jw,TL$:()=>iy,Tbb:()=>xn,Vt3:()=>IE,GFd:()=>ZA,OA$:()=>Cn,Jv_:()=>fw,aNF:()=>pw,R7$:()=>b_,BMQ:()=>FE,AVh:()=>jE,wni:()=>$b,VBU:()=>pn,FsC:()=>Br,jDH:()=>kr,G2t:()=>jo,$C:()=>Or,EJ8:()=>$i,rXU:()=>wh,nrm:()=>KE,eu8:()=>XE,bVm:()=>E0,qex:()=>I0,k0s:()=>y0,j41:()=>v0,RV6:()=>nb,xGo:()=>Np,KVO:()=>Vr,kS0:()=>kp,QTQ:()=>wy,bIt:()=>JE,lsd:()=>Gb,XpG:()=>Mb,nI1:()=>Tw,bMT:()=>bw,i5U:()=>ww,brH:()=>Dw,SdG:()=>Ob,NAR:()=>Pb,Y8G:()=>BE,FS9:()=>eC,Mz_:()=>w0,lJ4:()=>_w,eq3:()=>vw,mGM:()=>Hb,sdS:()=>zb,Njj:()=>fi,eBV:()=>Vi,B4B:()=>pu,n$t:()=>_y,DNE:()=>bE,C5r:()=>Sw,EFF:()=>tw,JRh:()=>nC,SpI:()=>D0,Lme:()=>rC,E5c:()=>iC,DH7:()=>cw,mxI:()=>sC,R50:()=>oC,GBs:()=>jb});let s=null,V=!1,Ee=1;const z=Symbol("SIGNAL");function Ae(e){const t=s;return s=e,t}const xe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ie(e){if(V)throw new Error("");if(null===s)return;s.consumerOnSignalRead(e);const t=s.nextProducerIndex++;ot(s),t<s.producerNode.length&&s.producerNode[t]!==e&&Le(s)&&Fe(s.producerNode[t],s.producerIndexOfThis[t]),s.producerNode[t]!==e&&(s.producerNode[t]=e,s.producerIndexOfThis[t]=Le(s)?Me(e,s,t):0),s.producerLastReadVersion[t]=e.version}function Qe(e){if((!Le(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Ee)){if(!e.producerMustRecompute(e)&&!Nt(e))return e.dirty=!1,void(e.lastCleanEpoch=Ee);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Ee}}function Je(e){if(void 0===e.liveConsumerNode)return;const t=V;V=!0;try{for(const r of e.liveConsumerNode)r.dirty||Ct(r)}finally{V=t}}function ct(){var e;return!1!==(null===(e=s)||void 0===e?void 0:e.consumerAllowSignalWrites)}function Ct(e){var t;e.dirty=!0,Je(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function mt(e){return e&&(e.nextProducerIndex=0),Ae(e)}function lt(e,t){if(Ae(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Le(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Fe(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Nt(e){ot(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(Qe(r),o!==r.version))return!0}return!1}function wt(e){if(ot(e),Le(e))for(let t=0;t<e.producerNode.length;t++)Fe(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Me(e,t,r){if(ut(e),0===e.liveConsumerNode.length&&it(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Me(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Fe(e,t){if(ut(e),1===e.liveConsumerNode.length&&it(e))for(let o=0;o<e.producerNode.length;o++)Fe(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];ot(l),l.producerIndexOfThis[o]=t}}function Le(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function ot(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function ut(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function it(e){return void 0!==e.producerNode}const ft=Symbol("UNSET"),ht=Symbol("COMPUTING"),tt=Symbol("ERRORED"),Ft={...xe,value:ft,dirty:!0,error:null,equal:h,producerMustRecompute:e=>e.value===ft||e.value===ht,producerRecomputeValue(e){if(e.value===ht)throw new Error("Detected cycle in computations.");const t=e.value;e.value=ht;const r=mt(e);let o;try{o=e.computation()}catch(l){o=tt,e.error=l}finally{lt(e,r)}t!==ft&&t!==tt&&o!==tt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let cn=function Vt(){throw new Error};function qe(){cn()}let Y=null;function et(e,t){ct()||qe(),e.equal(e.value,t)||(e.value=t,function In(e){var t;e.version++,function nt(){Ee++}(),Je(e),null===(t=Y)||void 0===t||t()}(e))}const Bt={...xe,equal:h,value:void 0};var Xr,qr,Sn=x(4412),Ln=x(1413),Qt=x(8359),Yt=x(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const mo="https://g.co/ng/security#xss";class zn extends Error{constructor(t,r){super(Gi(t,r)),this.code=t}}function Gi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function no(e){return{toString:e}.toString()}const $o="__parameters__";function Ro(e,t,r){return no(()=>{const o=function uo(e){return function(...r){if(e){const o=e(...r);for(const l in o)this[l]=o[l]}}}(t);function l(...d){if(this instanceof l)return o.apply(this,d),this;const g=new l(...d);return I.annotation=g,I;function I(w,j,J){const ue=w.hasOwnProperty($o)?w[$o]:Object.defineProperty(w,$o,{value:[]})[$o];for(;ue.length<=J;)ue.push(null);return(ue[J]=ue[J]||[]).push(g),w}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Di=globalThis;function Rt(e){for(let t in e)if(e[t]===Rt)return t;throw Error("Could not find renamed property on target object.")}function mn(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function xn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Tn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Bi=Rt({__forward_ref__:Rt});function Xi(e){return e.__forward_ref__=Xi,e.toString=function(){return xn(this())},e}function lr(e){return rs(e)?e():e}function rs(e){return"function"==typeof e&&e.hasOwnProperty(Bi)&&e.__forward_ref__===Xi}function kr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jo(e){return{providers:e.providers||[],imports:e.imports||[]}}function na(e){return _a(e,ka)||_a(e,Ka)}function zs(e){return null!==na(e)}function _a(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ws(e){return e&&(e.hasOwnProperty(Ks)||e.hasOwnProperty(ra))?e[Ks]:null}const ka=Rt({\u0275prov:Rt}),Ks=Rt({\u0275inj:Rt}),Ka=Rt({ngInjectableDef:Rt}),ra=Rt({ngInjectorDef:Rt});class wr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=kr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function va(e){return e&&!!e.\u0275providers}const us=Rt({\u0275cmp:Rt}),qa=Rt({\u0275dir:Rt}),Qa=Rt({\u0275pipe:Rt}),cl=Rt({\u0275mod:Rt}),qs=Rt({\u0275fac:Rt}),xr=Rt({__NG_ELEMENT_ID__:Rt}),Rl=Rt({__NG_ENV_ID__:Rt});function Dr(e){return"string"==typeof e?e:null==e?"":String(e)}function ya(e,t){throw new zn(-201,!1)}var Hr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Hr||{});let Xo;function ia(){return Xo}function qi(e){const t=Xo;return Xo=e,t}function Cc(e,t,r){const o=na(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Hr.Optional?null:void 0!==t?t:void ya()}const K={},Ve="__NG_DI_FLAG__",H="ngTempTokenPath",$e=/\n/gm,bn="__source";let Sr;function Qr(e){const t=Sr;return Sr=e,t}function Lr(e,t=Hr.Default){if(void 0===Sr)throw new zn(-203,!1);return null===Sr?Cc(e,void 0,t):Sr.get(e,t&Hr.Optional?null:void 0,t)}function Vr(e,t=Hr.Default){return(ia()||Lr)(lr(e),t)}function Kn(e,t=Hr.Default){return Vr(e,ds(t))}function ds(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Li(e){const t=[];for(let r=0;r<e.length;r++){const o=lr(e[r]);if(Array.isArray(o)){if(0===o.length)throw new zn(900,!1);let l,d=Hr.Default;for(let g=0;g<o.length;g++){const I=o[g],w=ys(I);"number"==typeof w?-1===w?l=I.token:d|=w:l=I}t.push(Vr(l,d))}else t.push(Vr(o))}return t}function vs(e,t){return e[Ve]=t,e.prototype[Ve]=t,e}function ys(e){return e[Ve]}const Qs=vs(Ro("Optional"),8),Ml=vs(Ro("SkipSelf"),4);function Yr(e,t){return e.hasOwnProperty(qs)?e[qs]:null}function oa(e,t){e.forEach(r=>Array.isArray(r)?oa(r,t):t(r))}function sa(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function yu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function vo(e,t,r){let o=ro(e,t);return o>=0?e[1|o]=r:(o=~o,function dl(e,t,r,o){let l=e.length;if(l==t)e.push(r,o);else if(1===l)e.push(o,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function Pl(e,t){const r=ro(e,t);if(r>=0)return e[1|r]}function ro(e,t){return function Ol(e,t,r){let o=0,l=e.length>>r;for(;l!==o;){const d=o+(l-o>>1),g=e[d<<r];if(t===g)return d<<r;g>t?l=d:o=d+1}return~(l<<r)}(e,t,1)}const Va={},vi=[],Ia=new wr(""),Bd=new wr("",-1),Tc=new wr("");class bc{get(t,r=K){if(r===K){const o=new Error(`NullInjectorError: No provider for ${xn(t)}!`);throw o.name="NullInjectorError",o}return r}}var Ua=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ua||{}),Os=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Os||{}),qo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(qo||{});function Ns(e,t,r){let o=e.length;for(;;){const l=e.indexOf(t,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const d=t.length;if(l+d===o||e.charCodeAt(l+d)<=32)return l}r=l+1}}function wc(e,t,r){let o=0;for(;o<r.length;){const l=r[o];if("number"==typeof l){if(0!==l)break;o++;const d=r[o++],g=r[o++],I=r[o++];e.setAttribute(t,g,I,d)}else{const d=l,g=r[++o];Jl(d)?e.setProperty(t,d,g):e.setAttribute(t,d,g),o++}}return o}function so(e){return 3===e||4===e||6===e}function Jl(e){return 64===e.charCodeAt(0)}function Ba(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?r=l:0===r||Zc(e,r,l,null,-1===r||2===r?t[++o]:null)}}return e}function Zc(e,t,r,o,l){let d=0,g=e.length;if(-1===t)g=-1;else for(;d<e.length;){const I=e[d++];if("number"==typeof I){if(I===t){g=-1;break}if(I>t){g=d-1;break}}}for(;d<e.length;){const I=e[d];if("number"==typeof I)break;if(I===r){if(null===o)return void(null!==l&&(e[d+1]=l));if(o===e[d+1])return void(e[d+2]=l)}d++,null!==o&&d++,null!==l&&d++}-1!==g&&(e.splice(g,0,t),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==l&&e.splice(d++,0,l)}const $a="ng-template";function aa(e,t,r,o){let l=0;if(o){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==Ns(t[l+1].toLowerCase(),r,0))return!0}else if(eu(e))return!1;if(l=t.indexOf(1,l),l>-1){let d;for(;++l<t.length&&"string"==typeof(d=t[l]);)if(d.toLowerCase()===r)return!0}return!1}function eu(e){return 4===e.type&&e.value!==$a}function Eu(e,t,r){return t===(4!==e.type||r?e.value:$a)}function Dc(e,t,r){let o=4;const l=e.attrs,d=null!==l?function M(e){for(let t=0;t<e.length;t++)if(so(e[t]))return t;return e.length}(l):0;let g=!1;for(let I=0;I<t.length;I++){const w=t[I];if("number"!=typeof w){if(!g)if(4&o){if(o=2|1&o,""!==w&&!Eu(e,w,r)||""===w&&1===t.length){if(Ys(o))return!1;g=!0}}else if(8&o){if(null===l||!aa(e,l,w,r)){if(Ys(o))return!1;g=!0}}else{const j=t[++I],J=id(w,l,eu(e),r);if(-1===J){if(Ys(o))return!1;g=!0;continue}if(""!==j){let ue;if(ue=J>d?"":l[J+1].toLowerCase(),2&o&&j!==ue){if(Ys(o))return!1;g=!0}}}}else{if(!g&&!Ys(o)&&!Ys(w))return!1;if(g&&Ys(w))continue;g=!1,o=w|1&o}}return Ys(o)||g}function Ys(e){return!(1&e)}function id(e,t,r,o){if(null===t)return-1;let l=0;if(o||!r){let d=!1;for(;l<t.length;){const g=t[l];if(g===e)return l;if(3===g||6===g)d=!0;else{if(1===g||2===g){let I=t[++l];for(;"string"==typeof I;)I=t[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=d?1:2}return-1}return function F(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Cu(e,t,r=!1){for(let o=0;o<t.length;o++)if(Dc(e,t[o],r))return!0;return!1}function S(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let l=0;l<e.length;l++)if(e[l]!==o[l])continue e;return!0}}return!1}function B(e,t){return e?":not("+t.trim()+")":t}function fe(e){let t=e[0],r=1,o=2,l="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const I=e[++r];l+="["+g+(I.length>0?'="'+I+'"':"")+"]"}else 8&o?l+="."+g:4&o&&(l+=" "+g);else""!==l&&!Ys(g)&&(t+=B(d,l),l=""),o=g,d=d||!Ys(o);r++}return""!==l&&(t+=B(d,l)),t}function pn(e){return no(()=>{var t;const r=hl(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ua.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||Os.Emulated,styles:e.styles||vi,_:null,schemas:e.schemas||null,tView:null,id:""};Sc(o);const l=e.dependencies;return o.directiveDefs=fl(l,!1),o.pipeDefs=fl(l,!0),o.id=function pl(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of r)t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function Gt(e){return Er(e)||Si(e)}function Qn(e){return null!==e}function Or(e){return no(()=>({type:e.type,bootstrap:e.bootstrap||vi,declarations:e.declarations||vi,imports:e.imports||vi,exports:e.exports||vi,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ti(e,t){if(null==e)return Va;const r={};for(const l in e)if(e.hasOwnProperty(l)){const d=e[l];let g,I,w=qo.None;var o;Array.isArray(d)?(w=d[0],g=d[1],I=null!==(o=d[2])&&void 0!==o?o:g):(g=d,I=d),t?(r[g]=w!==qo.None?[l,w]:l,t[g]=I):r[g]=l}return r}function Br(e){return no(()=>{const t=hl(e);return Sc(t),t})}function $i(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Er(e){return e[us]||null}function Si(e){return e[qa]||null}function Oo(e){return e[Qa]||null}function Ao(e){const t=Er(e)||Si(e)||Oo(e);return null!==t&&t.standalone}function Yi(e,t){const r=e[cl]||null;if(!r&&!0===t)throw new Error(`Type ${xn(e)} does not have '\u0275mod' property.`);return r}function hl(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Va,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||vi,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ti(e.inputs,t),outputs:Ti(e.outputs),debugInfo:null}}function Sc(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function fl(e,t){if(!e)return null;const r=t?Oo:Gt;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Qn)}function ja(e){return{\u0275providers:e}}function gl(...e){return{\u0275providers:Zl(0,e),\u0275fromNgModule:!0}}function Zl(e,...t){const r=[],o=new Set;let l;const d=g=>{r.push(g)};return oa(t,g=>{const I=g;Nl(I,d,[],o)&&(l||(l=[]),l.push(I))}),void 0!==l&&ml(l,d),r}function ml(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:l}=e[r];Au(l,d=>{t(d,o)})}}function Nl(e,t,r,o){if(!(e=lr(e)))return!1;let l=null,d=Ws(e);const g=!d&&Er(e);if(d||g){if(g&&!g.standalone)return!1;l=e}else{const w=e.ngModule;if(d=Ws(w),!d)return!1;l=w}const I=o.has(l);if(g){if(I)return!1;if(o.add(l),g.dependencies){const w="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const j of w)Nl(j,t,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let j;o.add(l);try{oa(d.imports,J=>{Nl(J,t,r,o)&&(j||(j=[]),j.push(J))})}finally{}void 0!==j&&ml(j,t)}if(!I){const j=Yr(l)||(()=>new l);t({provide:l,useFactory:j,deps:vi},l),t({provide:Tc,useValue:l,multi:!0},l),t({provide:Ia,useValue:()=>Vr(l),multi:!0},l)}const w=d.providers;if(null!=w&&!I){const j=e;Au(w,J=>{t(J,j)})}}}return l!==e&&void 0!==e.providers}function Au(e,t){for(let r of e)va(r)&&(r=r.\u0275providers),Array.isArray(r)?Au(r,t):t(r)}const jd=Rt({provide:String,useValue:Rt});function tu(e){return null!==e&&"object"==typeof e&&jd in e}function Ja(e){return"function"==typeof e}const sd=new wr(""),Ca={},Xh={};let Rc;function Mc(){return void 0===Rc&&(Rc=new bc),Rc}class Aa{}class Za extends Aa{get destroyed(){return this._destroyed}constructor(t,r,o,l){super(),this.parent=r,this.source=o,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Pc(t,g=>this.processProvider(g)),this.records.set(Bd,_l(void 0,this)),l.has("environment")&&this.records.set(Aa,_l(void 0,this));const d=this.records.get(sd);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Tc,vi,Hr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=Ae(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Qr(this),o=qi(void 0);try{return t()}finally{Qr(r),qi(o)}}get(t,r=K,o=Hr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Rl))return t[Rl](this);o=ds(o);const d=Qr(this),g=qi(void 0);try{if(!(o&Hr.SkipSelf)){let w=this.records.get(t);if(void 0===w){const j=function bu(e){return"function"==typeof e||"object"==typeof e&&e instanceof wr}(t)&&na(t);w=j&&this.injectableDefInScope(j)?_l(tc(t),Ca):null,this.records.set(t,w)}if(null!=w)return this.hydrate(t,w)}return(o&Hr.Self?Mc():this.parent).get(t,r=o&Hr.Optional&&r===K?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[H]=I[H]||[]).unshift(xn(t)),d)throw I;return function Is(e,t,r,o){const l=e[H];throw t[bn]&&l.unshift(t[bn]),e.message=function Ps(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=xn(t);if(Array.isArray(t))l=t.map(xn).join(" -> ");else if("object"==typeof t){let d=[];for(let g in t)if(t.hasOwnProperty(g)){let I=t[g];d.push(g+":"+("string"==typeof I?JSON.stringify(I):xn(I)))}l=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${l}]: ${e.replace($e,"\n  ")}`}("\n"+e.message,l,r,o),e.ngTokenPath=l,e[H]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{qi(g),Qr(d)}}resolveInjectorInitializers(){const t=Ae(null),r=Qr(this),o=qi(void 0);try{const d=this.get(Ia,vi,Hr.Self);for(const g of d)g()}finally{Qr(r),qi(o),Ae(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(xn(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new zn(205,!1)}processProvider(t){let r=Ja(t=lr(t))?t:lr(t&&t.provide);const o=function el(e){return tu(e)?_l(void 0,e.useValue):_l(nu(e),Ca)}(t);if(!Ja(t)&&!0===t.multi){let l=this.records.get(r);l||(l=_l(void 0,Ca,!0),l.factory=()=>Li(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=Ae(null);try{return r.value===Ca&&(r.value=Xh,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Gd(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ae(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=lr(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function tc(e){const t=na(e),r=null!==t?t.factory:Yr(e);if(null!==r)return r;if(e instanceof wr)throw new zn(204,!1);if(e instanceof Function)return function nc(e){if(e.length>0)throw new zn(204,!1);const r=function Ko(e){return e&&(e[ka]||e[Ka])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new zn(204,!1)}function nu(e,t,r){let o;if(Ja(e)){const l=lr(e);return Yr(l)||tc(l)}if(tu(e))o=()=>lr(e.useValue);else if(function od(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Li(e.deps||[]));else if(function Tu(e){return!(!e||!e.useExisting)}(e))o=()=>Vr(lr(e.useExisting));else{const l=lr(e&&(e.useClass||e.provide));if(!function Hd(e){return!!e.deps}(e))return Yr(l)||tc(l);o=()=>new l(...Li(e.deps))}return o}function _l(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Pc(e,t){for(const r of e)Array.isArray(r)?Pc(r,t):r&&va(r)?Pc(r.\u0275providers,t):t(r)}function zd(e,t){e instanceof Za&&e.assertNotDestroyed();const o=Qr(e),l=qi(void 0);try{return t()}finally{Qr(o),qi(l)}}function wu(){return void 0!==ia()||null!=function si(){return Sr}()}const io=0,$n=1,gr=2,ao=3,ba=4,Ji=5,fs=6,xs=7,ho=8,lo=9,Js=10,$r=11,vl=12,Wd=13,Nc=14,To=15,yl=16,xc=17,Il=18,sc=19,qh=20,tl=21,nl=22,ks=23,mr=25,cd=1,Zs=7,iu=9,No=10;var Fc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Fc||{});function Ri(e){return Array.isArray(e)&&"object"==typeof e[cd]}function ps(e){return Array.isArray(e)&&!0===e[cd]}function ou(e){return!!(4&e.flags)}function Lc(e){return e.componentOffset>-1}function Vc(e){return!(1&~e.flags)}function wa(e){return!!e.template}function su(e){return!!(512&e[gr])}class Mt{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function en(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function Cn(){return cr}function cr(e){return e.type.prototype.ngOnChanges&&(e.setInput=yi),Rr}function Rr(){const e=rl(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Va)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function yi(e,t,r,o,l){const d=this.declaredInputs[o],g=rl(e)||function Ou(e,t){return e[ea]=t}(e,{previous:Va,current:null}),I=g.current||(g.current={}),w=g.previous,j=w[d];I[d]=new Mt(j&&j.currentValue,r,w===Va),en(e,t,l,r)}Cn.ngInherit=!0;const ea="__ngSimpleChanges__";function rl(e){return e[ea]||null}const la=function(e,t,r){};function Ni(e){for(;Array.isArray(e);)e=e[io];return e}function Ll(e,t){return Ni(t[e])}function Ds(e,t){return Ni(t[e.index])}function ac(e,t){return e.data[t]}function El(e,t){return e[t]}function Da(e,t){const r=t[e];return Ri(r)?r:r[io]}function _p(e){return!(128&~e[gr])}function Cl(e,t){return null==t?null:e[t]}function vp(e){e[xc]=0}function qd(e){1024&e[gr]||(e[gr]|=1024,_p(e)&&fd(e))}function hd(e){var t;return!!(9216&e[gr]||null!==(t=e[ks])&&void 0!==t&&t.dirty)}function ef(e){var t;null===(t=e[Js].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[gr]&&(e[gr]|=1024),hd(e)&&fd(e)}function fd(e){var t;null===(t=e[Js].changeDetectionScheduler)||void 0===t||t.notify(0);let r=E(e);for(;null!==r&&!(8192&r[gr])&&(r[gr]|=8192,_p(r));)r=E(r)}function Qd(e,t){if(!(256&~e[gr]))throw new zn(911,!1);null===e[tl]&&(e[tl]=[]),e[tl].push(t)}function E(e){const t=e[ao];return ps(t)?t[ao]:t}const T={lFrame:md(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Z=!1;function ur(){return T.bindingsEnabled}function Jr(){return null!==T.skipHydrationRootTNode}function zt(){return T.lFrame.lView}function yr(){return T.lFrame.tView}function Vi(e){return T.lFrame.contextLView=e,e[ho]}function fi(e){return T.lFrame.contextLView=null,e}function ai(){let e=Fs();for(;null!==e&&64===e.type;)e=e.parent;return e}function Fs(){return T.lFrame.currentTNode}function ss(e,t){const r=T.lFrame;r.currentTNode=e,r.isParent=t}function lc(){return T.lFrame.isParent}function jc(){T.lFrame.isParent=!1}function Yd(){return Z}function Cv(e){Z=e}function da(){const e=T.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function du(){return T.lFrame.bindingIndex}function cc(){return T.lFrame.bindingIndex++}function uc(e){const t=T.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Av(e,t){const r=T.lFrame;r.bindingIndex=r.bindingRootIndex=e,tf(t)}function tf(e){T.lFrame.currentDirectiveIndex=e}function ku(){return T.lFrame.currentQueryIndex}function dc(e){T.lFrame.currentQueryIndex=e}function vm(e){const t=e[$n];return 2===t.type?t.declTNode:1===t.type?e[Ji]:null}function gd(e,t,r){if(r&Hr.SkipSelf){let l=t,d=e;for(;!(l=l.parent,null!==l||r&Hr.Host||(l=vm(d),null===l||(d=d[Nc],10&l.type))););if(null===l)return!1;t=l,e=d}const o=T.lFrame=ym();return o.currentTNode=t,o.lView=e,!0}function Fu(e){const t=ym(),r=e[$n];T.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function ym(){const e=T.lFrame,t=null===e?null:e.child;return null===t?md(e):t}function md(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Tv(){const e=T.lFrame;return T.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const bv=Tv;function Cp(){const e=Tv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ls(){return T.lFrame.selectedIndex}function hu(e){T.lFrame.selectedIndex=e}function bo(){const e=T.lFrame;return ac(e.tView,e.selectedIndex)}let Ap=!0;function rf(){return Ap}function hc(e){Ap=e}function sf(e,t){for(let j=t.directiveStart,J=t.directiveEnd;j<J;j++){const Xe=e.data[j].type.prototype,{ngAfterContentInit:at,ngAfterContentChecked:rt,ngAfterViewInit:on,ngAfterViewChecked:En,ngOnDestroy:Vn}=Xe;var r,o,l,d,g,I,w;at&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-j,at),rt&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(j,rt),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push(j,rt)),on&&(null!==(d=e.viewHooks)&&void 0!==d?d:e.viewHooks=[]).push(-j,on),En&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(j,En),(null!==(I=e.viewCheckHooks)&&void 0!==I?I:e.viewCheckHooks=[]).push(j,En)),null!=Vn&&(null!==(w=e.destroyHooks)&&void 0!==w?w:e.destroyHooks=[]).push(j,Vn)}}function af(e,t,r){wv(e,t,3,r)}function lf(e,t,r,o){(3&e[gr])===r&&wv(e,t,r,o)}function Tp(e,t){let r=e[gr];(3&r)===t&&(r&=16383,r+=1,e[gr]=r)}function wv(e,t,r,o){const d=null!=o?o:-1,g=t.length-1;let I=0;for(let w=void 0!==o?65535&e[xc]:0;w<g;w++)if("number"==typeof t[w+1]){if(I=t[w],null!=o&&I>=o)break}else t[w]<0&&(e[xc]+=65536),(I<d||-1==d)&&(K0(e,r,t,w),e[xc]=(4294901760&e[xc])+w+2),w++}function Dv(e,t){la(4,e,t);const r=Ae(null);try{t.call(e)}finally{Ae(r),la(5,e,t)}}function K0(e,t,r,o){const l=r[o]<0,d=r[o+1],I=e[l?-r[o]:r[o]];l?e[gr]>>14<e[xc]>>16&&(3&e[gr])===t&&(e[gr]+=16384,Dv(I,d)):Dv(I,d)}const Jd=-1;class _d{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const uf={};class vd{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=ds(o);const l=this.injector.get(t,uf,o);return l!==uf||r===uf?l:this.parentInjector.get(t,r,o)}}function df(e){return e!==Jd}function hf(e){return 32767&e}function Zd(e,t){let r=function Dm(e){return e>>16}(e),o=t;for(;r>0;)o=o[Nc],r--;return o}let bp=!0;function wp(e){const t=bp;return bp=e,t}const Mv=255,Dp=5;let q0=0;const Ul={};function eh(e,t){const r=Sp(e,t);if(-1!==r)return r;const o=t[$n];o.firstCreatePass&&(e.injectorIndex=t.length,ff(o.data,e),ff(t,null),ff(o.blueprint,null));const l=fu(e,t),d=e.injectorIndex;if(df(l)){const g=hf(l),I=Zd(l,t),w=I[$n].data;for(let j=0;j<8;j++)t[d+j]=I[g+j]|w[g+j]}return t[d+8]=l,d}function ff(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Sp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function fu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,l=t;for(;null!==l;){if(o=Pm(l),null===o)return Jd;if(r++,l=l[Nc],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Jd}function Rp(e,t,r){!function Q0(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(xr)&&(o=r[xr]),null==o&&(o=r[xr]=q0++);const l=o&Mv;t.data[e+(l>>Dp)]|=1<<l}(e,t,r)}function Pv(e,t,r){if(r&Hr.Optional||void 0!==e)return e;ya()}function Mp(e,t,r,o){if(r&Hr.Optional&&void 0===o&&(o=null),!(r&(Hr.Self|Hr.Host))){const l=e[lo],d=qi(void 0);try{return l?l.get(t,o,r&Hr.Optional):Cc(t,o,r&Hr.Optional)}finally{qi(d)}}return Pv(o,0,r)}function Hc(e,t,r,o=Hr.Default,l){if(null!==e){if(2048&t[gr]&&!(o&Hr.Self)){const g=function Mm(e,t,r,o,l){let d=e,g=t;for(;null!==d&&null!==g&&2048&g[gr]&&!(512&g[gr]);){const I=Pp(d,g,r,o|Hr.Self,Ul);if(I!==Ul)return I;let w=d.parent;if(!w){const j=g[qh];if(j){const J=j.get(r,Ul,o);if(J!==Ul)return J}w=Pm(g),g=g[Nc]}d=w}return l}(e,t,r,o,Ul);if(g!==Ul)return g}const d=Pp(e,t,r,o,Ul);if(d!==Ul)return d}return Mp(t,r,o,l)}function Pp(e,t,r,o,l){const d=function J0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(xr)?e[xr]:void 0;return"number"==typeof t?t>=0?t&Mv:Z0:t}(r);if("function"==typeof d){if(!gd(t,e,o))return o&Hr.Host?Pv(l,0,o):Mp(t,r,o,l);try{let g;if(g=d(o),null!=g||o&Hr.Optional)return g;ya()}finally{bv()}}else if("number"==typeof d){let g=null,I=Sp(e,t),w=Jd,j=o&Hr.Host?t[To][Ji]:null;for((-1===I||o&Hr.SkipSelf)&&(w=-1===I?fu(e,t):t[I+8],w!==Jd&&Ov(o,!1)?(g=t[$n],I=hf(w),t=Zd(w,t)):I=-1);-1!==I;){const J=t[$n];if(Op(d,I,J.data)){const ue=Y0(I,t,r,g,o,j);if(ue!==Ul)return ue}w=t[I+8],w!==Jd&&Ov(o,t[$n].data[I+8]===j)&&Op(d,I,t)?(g=J,I=hf(w),t=Zd(w,t)):I=-1}}return l}function Y0(e,t,r,o,l,d){const g=t[$n],I=g.data[e+8],J=th(I,g,r,null==o?Lc(I)&&bp:o!=g&&!!(3&I.type),l&Hr.Host&&d===I);return null!==J?yd(t,g,J,I):Ul}function th(e,t,r,o,l){const d=e.providerIndexes,g=t.data,I=1048575&d,w=e.directiveStart,J=d>>20,Xe=l?I+J:e.directiveEnd;for(let at=o?I:I+J;at<Xe;at++){const rt=g[at];if(at<w&&r===rt||at>=w&&rt.type===r)return at}if(l){const at=g[w];if(at&&wa(at)&&at.type===r)return w}return null}function yd(e,t,r,o){let l=e[r];const d=t.data;if(function X0(e){return e instanceof _d}(l)){const g=l;g.resolving&&function Ya(e,t){throw t&&t.join(" > "),new zn(-200,e)}(function Ai(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Dr(e)}(d[r]));const I=wp(g.canSeeViewProviders);g.resolving=!0;const j=g.injectImpl?qi(g.injectImpl):null;gd(e,o,Hr.Default);try{l=e[r]=g.factory(void 0,d,e,o),t.firstCreatePass&&r>=o.directiveStart&&function W0(e,t,r){const{ngOnChanges:o,ngOnInit:l,ngDoCheck:d}=t.type.prototype;if(o){var g,I;const ue=cr(t);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,ue),(null!==(I=r.preOrderCheckHooks)&&void 0!==I?I:r.preOrderCheckHooks=[]).push(e,ue)}var w,j,J;l&&(null!==(w=r.preOrderHooks)&&void 0!==w?w:r.preOrderHooks=[]).push(0-e,l),d&&((null!==(j=r.preOrderHooks)&&void 0!==j?j:r.preOrderHooks=[]).push(e,d),(null!==(J=r.preOrderCheckHooks)&&void 0!==J?J:r.preOrderCheckHooks=[]).push(e,d))}(r,d[r],t)}finally{null!==j&&qi(j),wp(I),g.resolving=!1,bv()}}return l}function Op(e,t,r){return!!(r[t+(e>>Dp)]&1<<e)}function Ov(e,t){return!(e&Hr.Self||e&Hr.Host&&t)}class Es{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Hc(this._tNode,this._lView,t,ds(o),r)}}function Z0(){return new Es(ai(),zt())}function Np(e){return no(()=>{const t=e.prototype.constructor,r=t[qs]||xp(t),o=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==o;){const d=l[qs]||xp(l);if(d&&d!==r)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function xp(e){return rs(e)?()=>{const t=xp(lr(e));return t&&t()}:Yr(e)}function Pm(e){const t=e[$n],r=t.type;return 2===r?t.declTNode:1===r?e[Ji]:null}function kp(e){return function Rm(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let l=0;for(;l<o;){const d=r[l];if(so(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<o&&"string"==typeof r[l];)l++;else{if(d===t)return r[l+1];l+=2}}}return null}(ai(),e)}function kv(e,t=null,r=null,o){const l=Fv(e,t,r,o);return l.resolveInjectorInitializers(),l}function Fv(e,t=null,r=null,o,l=new Set){const d=[r||vi,gl(e)];return o=o||("object"==typeof e?void 0:xn(e)),new Za(d,t||Mc(),o||null,l)}class Sa{static create(t,r){if(Array.isArray(t))return kv({name:""},r,t,"");{var o;const l=null!==(o=t.name)&&void 0!==o?o:"";return kv({name:l},t.parent,t.providers,l)}}}(Xr=Sa).THROW_IF_NOT_FOUND=K,Xr.NULL=new bc,Xr.\u0275prov=kr({token:Xr,providedIn:"any",factory:()=>Vr(Bd)}),Xr.__NG_ELEMENT_ID__=-1,new wr("").__NG_ELEMENT_ID__=e=>{const t=ai();if(null===t)throw new zn(204,!1);if(2&t.type)return t.value;if(e&Hr.Optional)return null;throw new zn(204,!1)};function Up(e){return e.ngOriginalError}const Bp=!0;let Id=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Lm,e.__NG_ENV_ID__=r=>r,t})();class $p extends Id{constructor(t){super(),this._lView=t}onDestroy(t){return Qd(this._lView,t),()=>function v(e,t){if(null===e[tl])return;const r=e[tl].indexOf(t);-1!==r&&e[tl].splice(r,1)}(this._lView,t)}}function Lm(){return new $p(zt())}let Vu=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Sn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=kr({token:e,providedIn:"root",factory:()=>new e}),t})();const Bl=class Uv extends Ln.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,wu()&&(this.destroyRef=null!==(r=Kn(Id,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=Kn(Vu,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=Ae(null);try{super.next(t)}finally{Ae(r)}}subscribe(t,r,o){let l=t,d=r||(()=>null),g=o;if(t&&"object"==typeof t){var I,w,j;const ue=t;l=null===(I=ue.next)||void 0===I?void 0:I.bind(ue),d=null===(w=ue.error)||void 0===w?void 0:w.bind(ue),g=null===(j=ue.complete)||void 0===j?void 0:j.bind(ue)}this.__isAsync&&(d=this.wrapInTimeout(d),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const J=super.subscribe({next:l,error:d,complete:g});return t instanceof Qt.yU&&t.add(J),J}wrapInTimeout(t){return r=>{var o;const l=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var d;t(r),void 0!==l&&(null===(d=this.pendingTasks)||void 0===d||d.remove(l))})}}};function mf(...e){}function Ed(e){let t,r;function o(){e=mf;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function jp(e){return queueMicrotask(()=>e()),()=>{e=mf}}const Vm="isAngularZone",Hp=Vm+"_ID";let Bv=0;class Qo{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bl(!1),this.onMicrotaskEmpty=new Bl(!1),this.onStable=new Bl(!1),this.onError=new Bl(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:d=Bp}=t;if(typeof Zone>"u")throw new zn(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&o,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=d,function rI(e){const t=()=>{!function nI(e){function t(){Ed(()=>{e.callbackScheduled=!1,Bm(e),e.isCheckStableRunning=!0,Um(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Bm(e))}(e)},r=Bv++;e._inner=e._inner.fork({name:"angular",properties:{[Vm]:!0,[Hp]:r,[Hp+r]:!0},onInvokeTask:(o,l,d,g,I,w)=>{if(function Gv(e){return Gp(e,"__ignore_ng_zone__")}(w))return o.invokeTask(d,g,I,w);try{return jv(e),o.invokeTask(d,g,I,w)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),Hv(e)}},onInvoke:(o,l,d,g,I,w,j)=>{try{return jv(e),o.invoke(d,g,I,w,j)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function zv(e){return Gp(e,"__scheduler_tick__")}(w)&&t(),Hv(e)}},onHasTask:(o,l,d,g)=>{o.hasTask(d,g),l===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,Bm(e),Um(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,l,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Vm)}static assertInAngularZone(){if(!Qo.isInAngularZone())throw new zn(909,!1)}static assertNotInAngularZone(){if(Qo.isInAngularZone())throw new zn(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,l){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+l,t,$v,mf,mf);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const $v={};function Um(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function jv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Hv(e){e._nesting--,Um(e)}class $m{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bl,this.onMicrotaskEmpty=new Bl,this.onStable=new Bl,this.onError=new Bl}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,l){return t.apply(r,o)}}function Gp(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class Gc{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Up(t);for(;r&&Up(r);)r=Up(r);return r||null}}const Kv=new wr("",{providedIn:"root",factory:()=>{const e=Kn(Qo),t=Kn(Gc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function ha(){return fo(ai(),zt())}function fo(e,t){return new il(Ds(e,t))}let il=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=ha,t})();function jm(e){return e instanceof il?e.nativeElement:e}function aI(){return this._results[Symbol.iterator]()}class sh{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new Bl}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=sh.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=aI)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function hs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ul(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let l=e[o],d=t[o];if(r&&(l=r(l),d=r(d)),d!==l)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function vf(e){return!(128&~e.flags)}const Xv=new Map;let VC=0;function zm(e){Xv.delete(e[sc])}const Kp="__ngContext__";function Ra(e,t){Ri(t)?(e[Kp]=t[sc],function qv(e){Xv.set(e[sc],e)}(t)):e[Kp]=t}function Ef(e){return Bu(e[vl])}function ny(e){return Bu(e[ba])}function Bu(e){for(;null!==e&&!ps(e);)e=e[ba];return e}let dh;function iy(e){dh=e}const Jp=new wr("",{providedIn:"root",factory:()=>Zp}),Zp="ng",t_=new wr(""),hh=new wr("",{providedIn:"platform",factory:()=>"unknown"}),Af=new wr("",{providedIn:"root",factory:()=>{var e;return(null===(e=function $l(){if(void 0!==dh)return dh;if(typeof document<"u")return document;throw new zn(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let oy=()=>null;function i_(e,t,r=!1){return oy(e,t,r)}const ag=new wr("",{providedIn:"root",factory:()=>!1});let ug;function uy(e){var t;return(null===(t=function u_(){if(void 0===ug&&(ug=null,Di.trustedTypes))try{ug=Di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ug}())||void 0===t?void 0:t.createScriptURL(e))||e}class d_{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mo})`}}function Gu(e){return e instanceof d_?e.changingThisBreaksApplicationSecurity:e}function wf(e,t){const r=function bI(e){return e instanceof d_&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${mo})`)}return r===t}const dy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Eh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Eh||{});function pu(e){const t=Mf();return t?t.sanitize(Eh.URL,e)||"":wf(e,"URL")?Gu(e):function dg(e){return(e=String(e)).match(dy)?e:"unsafe:"+e}(Dr(e))}function vg(e){const t=Mf();if(t)return uy(t.sanitize(Eh.RESOURCE_URL,e)||"");if(wf(e,"ResourceURL"))return uy(Gu(e));throw new zn(904,!1)}function _y(e,t,r){return function NI(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?vg:pu}(t,r)(e)}function Mf(){const e=zt();return e&&e[Js].sanitizer}const g_=/^>|^->|<!--|-->|--!>|<!-$/g,vy=/(<|>)/g,yg="\u200b$1\u200b";function _t(e){return e instanceof Function?e():e}var Zr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Zr||{});let $t;function dt(e,t){return $t(e,t)}function jt(e,t,r,o,l){if(null!=o){let d,g=!1;ps(o)?d=o:Ri(o)&&(g=!0,o=o[io]);const I=Ni(o);0===e&&null!==r?null==l?xf(t,r,I):Nd(t,r,I,l||null,!0):1===e&&null!==r?Nd(t,r,I,l||null,!0):2===e?function Vf(e,t,r){e.removeChild(null,t,r)}(t,I,g):3===e&&t.destroyNode(I),null!=d&&function Dg(e,t,r,o,l){const d=r[Zs];d!==Ni(r)&&jt(t,e,o,d,l);for(let I=No;I<r.length;I++){const w=r[I];Th(w[$n],w,e,t,o,d)}}(t,e,d,r,l)}}function Dt(e,t){return e.createComment(function m_(e){return e.replace(g_,t=>t.replace(vy,yg))}(t))}function Gl(e,t,r){return e.createElement(t,r)}function Ah(e,t){var r;null===(r=t[Js].changeDetectionScheduler)||void 0===r||r.notify(9),Th(e,t,t[$r],2,null,null)}function I_(e,t){const r=e[iu],o=t[ao];(Ri(o)||t[To]!==o[ao][To])&&(e[gr]|=Fc.HasTransplantedViews),null===r?e[iu]=[t]:r.push(t)}function E_(e,t){const r=e[iu],o=r.indexOf(t);r.splice(o,1)}function zl(e,t){if(e.length<=No)return;const r=No+t,o=e[r];if(o){const l=o[yl];null!==l&&l!==e&&E_(l,o),t>0&&(e[r-1][ba]=o[ba]);const d=yu(e,No+t);!function Pf(e,t){Ah(e,t),t[io]=null,t[Ji]=null}(o[$n],o);const g=d[Il];null!==g&&g.detachView(d[$n]),o[ao]=null,o[ba]=null,o[gr]&=-129}return o}function Vs(e,t){if(!(256&t[gr])){const r=t[$r];r.destroyNode&&Th(e,t,r,3,null,null),function Of(e){let t=e[vl];if(!t)return C_(e[$n],e);for(;t;){let r=null;if(Ri(t))r=t[vl];else{const o=t[No];o&&(r=o)}if(!r){for(;t&&!t[ba]&&t!==e;)Ri(t)&&C_(t[$n],t),t=t[ao];null===t&&(t=e),Ri(t)&&C_(t[$n],t),r=t&&t[ba]}t=r}}(t)}}function C_(e,t){if(256&t[gr])return;const r=Ae(null);try{t[gr]&=-129,t[gr]|=256,t[ks]&&wt(t[ks]),function jI(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const l=t[r[o]];if(!(l instanceof _d)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const I=l[d[g]],w=d[g+1];la(4,I,w);try{w.call(I)}finally{la(5,I,w)}}else{la(4,l,d);try{d.call(l)}finally{la(5,l,d)}}}}}(e,t),function Nf(e,t){const r=e.cleanup,o=t[xs];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const g=r[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(t[xs]=null);const l=t[tl];if(null!==l){t[tl]=null;for(let d=0;d<l.length;d++)(0,l[d])()}}(e,t),1===t[$n].type&&t[$r].destroy();const o=t[yl];if(null!==o&&ps(t[ao])){o!==t[ao]&&E_(o,t);const l=t[Il];null!==l&&l.detachView(e)}zm(t)}finally{Ae(r)}}function Od(e,t,r){return function Ey(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[io];{const{componentOffset:l}=o;if(l>-1){const{encapsulation:d}=e.data[o.directiveStart+l];if(d===Os.None||d===Os.Emulated)return null}return Ds(o,r)}}(e,t.parent,r)}function Nd(e,t,r,o,l){e.insertBefore(t,r,o,l)}function xf(e,t,r){e.appendChild(t,r)}function kf(e,t,r,o,l){null!==o?Nd(e,t,r,o,l):xf(e,t,r)}function Ff(e,t){return e.parentNode(t)}function Eg(e,t,r){return T_(e,t,r)}let Ag,T_=function Cg(e,t,r){return 40&e.type?Ds(e,r):null};function Lf(e,t,r,o){const l=Od(e,o,t),d=t[$r],I=Eg(o.parent||t[Ji],o,t);if(null!=l)if(Array.isArray(r))for(let w=0;w<r.length;w++)kf(d,l,r[w],I,!1);else kf(d,l,r,I,!1);void 0!==Ag&&Ag(d,o,t,r,l)}function Ku(e,t){if(null!==t){const r=t.type;if(3&r)return Ds(t,e);if(4&r)return bg(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return Ku(e,o);{const l=e[t.index];return ps(l)?bg(-1,l):Ni(l)}}if(128&r)return Ku(e,t.next);if(32&r)return dt(t,e)()||Ni(e[t.index]);{const o=Tg(e,t);return null!==o?Array.isArray(o)?o[0]:Ku(E(e[To]),o):Ku(e,t.next)}}return null}function Tg(e,t){return null!==t?e[To][Ji].projection[t.projection]:null}function bg(e,t){const r=No+e+1;if(r<t.length){const o=t[r],l=o[$n].firstChild;if(null!==l)return Ku(o,l)}return t[Zs]}function Uf(e,t,r,o,l,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=o[r.index],w=r.type;if(g&&0===t&&(I&&Ra(Ni(I),o),r.flags|=2),32&~r.flags)if(8&w)Uf(e,t,r.child,o,l,d,!1),jt(t,e,l,I,d);else if(32&w){const j=dt(r,o);let J;for(;J=j();)jt(t,e,l,J,d);jt(t,e,l,I,d)}else 16&w?Pa(e,t,o,r,l,d):jt(t,e,l,I,d);r=g?r.projectionNext:r.next}}function Th(e,t,r,o,l,d){Uf(r,o,e.firstChild,t,l,d,!1)}function Pa(e,t,r,o,l,d){const g=r[To],w=g[Ji].projection[o.projection];if(Array.isArray(w))for(let j=0;j<w.length;j++)jt(t,e,l,w[j],d);else{let j=w;const J=g[ao];vf(o)&&(j.flags|=128),Uf(e,t,j,J,l,d,!0)}}function by(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function bh(e,t,r){const{mergedAttrs:o,classes:l,styles:d}=r;null!==o&&wc(e,t,o),null!==l&&by(e,t,l),null!==d&&function Ty(e,t,r){e.setAttribute(t,"style",r)}(e,t,d)}const li={};function b_(e=1){Sg(yr(),zt(),Ls()+e,!1)}function Sg(e,t,r,o){if(!o)if(3&~t[gr]){const d=e.preOrderHooks;null!==d&&lf(t,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&af(t,d,r)}hu(r)}function wh(e,t=Hr.Default){const r=zt();return null===r?Vr(e,t):Hc(ai(),r,lr(e),t)}function wy(){throw new Error("invalid")}function Rg(e,t,r,o,l,d){const g=Ae(null);try{let I=null;l&qo.SignalBased&&(I=t[o][z]),null!==I&&void 0!==I.transformFn&&(d=I.transformFn(d)),l&qo.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(t,d)),null!==e.setInput?e.setInput(t,I,d,r,o):en(t,I,o,d)}finally{Ae(g)}}function Bf(e,t,r,o,l,d,g,I,w,j,J){const ue=t.blueprint.slice();return ue[io]=l,ue[gr]=204|o,(null!==j||e&&2048&e[gr])&&(ue[gr]|=2048),vp(ue),ue[ao]=ue[Nc]=e,ue[ho]=r,ue[Js]=g||e&&e[Js],ue[$r]=I||e&&e[$r],ue[lo]=w||e&&e[lo]||null,ue[Ji]=d,ue[sc]=function Yo(){return VC++}(),ue[fs]=J,ue[qh]=j,ue[To]=2==t.type?e[To]:ue,ue}function fc(e,t,r,o,l){let d=e.data[t];if(null===d)d=function $f(e,t,r,o,l){const d=Fs(),g=lc(),w=e.data[t]=function zI(e,t,r,o,l,d){let g=t?t.injectorIndex:-1,I=0;return Jr()&&(I|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,t,o,l);return null===e.firstChild&&(e.firstChild=w),null!==d&&(g?null==d.child&&null!==w.parent&&(d.child=w):null===d.next&&(d.next=w,w.prev=d)),w}(e,t,r,o,l),function H0(){return T.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=l;const g=function ua(){const e=T.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return ss(d,!0),d}function xd(e,t,r,o){if(0===r)return-1;const l=t.length;for(let d=0;d<r;d++)t.push(o),e.blueprint.push(o),e.data.push(null);return l}function Xu(e,t,r,o,l){const d=Ls(),g=2&o;try{hu(-1),g&&t.length>mr&&Sg(e,t,mr,!1),la(g?2:0,l),r(o,l)}finally{hu(d),la(g?3:1,l)}}function Mg(e,t,r){if(ou(t)){const o=Ae(null);try{const d=t.directiveEnd;for(let g=t.directiveStart;g<d;g++){const I=e.data[g];I.contentQueries&&I.contentQueries(1,r[g],g)}}finally{Ae(o)}}}function Dh(e,t,r){ur()&&(function KI(e,t,r,o){const l=r.directiveStart,d=r.directiveEnd;Lc(r)&&function Fy(e,t,r){const o=Ds(t,e),l=Sh(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const I=xg(e,Bf(e,l,null,g,o,t,null,e[Js].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=I}(t,r,e.data[l+r.componentOffset]),e.firstCreatePass||eh(r,t),Ra(o,t);const g=r.initialInputs;for(let I=l;I<d;I++){const w=e.data[I],j=yd(t,e,I,r);Ra(j,t),null!==g&&R_(0,I-l,j,w,0,g),wa(w)&&(Da(r.index,t)[ho]=yd(t,e,I,r))}}(e,t,r,Ds(r,t)),!(64&~r.flags)&&zf(e,t,r))}function Pg(e,t,r=Ds){const o=t.localNames;if(null!==o){let l=t.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],I=-1===g?r(t,e):e[g];e[l++]=I}}}function Sh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Og(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Og(e,t,r,o,l,d,g,I,w,j,J){const ue=mr+o,Xe=ue+l,at=function za(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:li);return r}(ue,Xe),rt="function"==typeof j?j():j;return at[$n]={type:e,blueprint:at,template:r,queries:null,viewQuery:I,declTNode:t,data:at.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:rt,incompleteFirstPass:!1,ssrId:J}}let Rh=()=>null;function Ry(e,t,r,o,l){for(let g in t){var d;if(!t.hasOwnProperty(g))continue;const I=t[g];if(void 0===I)continue;null!==(d=o)&&void 0!==d||(o={});let w,j=qo.None;Array.isArray(I)?(w=I[0],j=I[1]):w=I;let J=g;if(null!==l){if(!l.hasOwnProperty(g))continue;J=l[g]}0===e?Hf(o,r,J,w,j):Hf(o,r,J,w)}return o}function Hf(e,t,r,o,l){let d;e.hasOwnProperty(r)?(d=e[r]).push(t,o):d=e[r]=[t,o],void 0!==l&&d.push(l)}function fa(e,t,r,o,l,d,g,I){const w=Ds(t,r);let J,j=t.inputs;!I&&null!=j&&(J=j[o])?(Ph(e,r,J,o,l),Lc(t)&&function qu(e,t){const r=Da(t,e);16&r[gr]||(r[gr]|=64)}(r,t.index)):3&t.type&&(o=function w_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),l=null!=g?g(l,t.value||"",o):l,d.setProperty(w,o,l))}function Gf(e,t,r,o){if(ur()){const l=null===o?null:{"":-1},d=function D_(e,t){const r=e.directiveRegistry;let o=null,l=null;if(r)for(let g=0;g<r.length;g++){const I=r[g];if(Cu(t,I.selectors,!1))if(o||(o=[]),wa(I))if(null!==I.findHostDirectiveDefs){const w=[];l=l||new Map,I.findHostDirectiveDefs(I,w,l),o.unshift(...w,I),kd(e,t,w.length)}else o.unshift(I),kd(e,t,0);else{var d;l=l||new Map,null===(d=I.findHostDirectiveDefs)||void 0===d||d.call(I,I,o,l),o.push(I)}}return null===o?null:[o,l]}(e,r);let g,I;null===d?g=I=null:[g,I]=d,null!==g&&Ng(e,t,r,g,l,I),l&&function Fd(e,t,r){if(t){const o=e.localNames=[];for(let l=0;l<t.length;l+=2){const d=r[t[l+1]];if(null==d)throw new zn(-301,!1);o.push(t[l],d)}}}(r,o,l)}r.mergedAttrs=Ba(r.mergedAttrs,r.attrs)}function Ng(e,t,r,o,l,d){for(let ue=0;ue<o.length;ue++)Rp(eh(r,t),e,o[ue].type);!function XI(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let ue=0;ue<o.length;ue++){const Xe=o[ue];Xe.providersResolver&&Xe.providersResolver(Xe)}let g=!1,I=!1,w=xd(e,t,o.length,null);for(let ue=0;ue<o.length;ue++){const Xe=o[ue];r.mergedAttrs=Ba(r.mergedAttrs,Xe.hostAttrs),ky(e,r,t,w,Xe),S_(w,Xe,l),null!==Xe.contentQueries&&(r.flags|=4),(null!==Xe.hostBindings||null!==Xe.hostAttrs||0!==Xe.hostVars)&&(r.flags|=64);const at=Xe.type.prototype;var j,J;!g&&(at.ngOnChanges||at.ngOnInit||at.ngDoCheck)&&((null!==(j=e.preOrderHooks)&&void 0!==j?j:e.preOrderHooks=[]).push(r.index),g=!0),I||!at.ngOnChanges&&!at.ngDoCheck||((null!==(J=e.preOrderCheckHooks)&&void 0!==J?J:e.preOrderCheckHooks=[]).push(r.index),I=!0),w++}!function My(e,t,r){const l=t.directiveEnd,d=e.data,g=t.attrs,I=[];let w=null,j=null;for(let J=t.directiveStart;J<l;J++){const ue=d[J],Xe=r?r.get(ue):null,rt=Xe?Xe.outputs:null;w=Ry(0,ue.inputs,J,w,Xe?Xe.inputs:null),j=Ry(1,ue.outputs,J,j,rt);const on=null===w||null===g||eu(t)?null:Ly(w,J,g);I.push(on)}null!==w&&(w.hasOwnProperty("class")&&(t.flags|=8),w.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=I,t.inputs=w,t.outputs=j}(e,r,d)}function zf(e,t,r){const o=r.directiveStart,l=r.directiveEnd,d=r.index,g=function _m(){return T.lFrame.currentDirectiveIndex}();try{hu(d);for(let I=o;I<l;I++){const w=e.data[I],j=t[I];tf(I),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&xy(w,j)}}finally{hu(-1),tf(g)}}function xy(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function kd(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function S_(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;wa(t)&&(r[""]=e)}}function ky(e,t,r,o,l){e.data[o]=l;const d=l.factory||(l.factory=Yr(l.type)),g=new _d(d,wa(l),wh);e.blueprint[o]=g,r[o]=g,function Oy(e,t,r,o,l){const d=l.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const I=~t.index;(function Ny(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=I&&g.push(I),g.push(r,o,d)}}(e,t,o,xd(e,r,l.hostVars,li),l)}function pc(e,t,r,o,l,d){const g=Ds(e,t);!function Wf(e,t,r,o,l,d,g){if(null==d)e.removeAttribute(t,l,r);else{const I=null==g?Dr(d):g(d,o||"",l);e.setAttribute(t,l,I,r)}}(t[$r],g,d,e.value,r,o,l)}function R_(e,t,r,o,l,d){const g=d[t];if(null!==g)for(let I=0;I<g.length;)Rg(o,r,g[I++],g[I++],g[I++],g[I++])}function Ly(e,t,r){let o=null,l=0;for(;l<r.length;){const d=r[l];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let I=0;I<g.length;I+=3)if(g[I]===t){o.push(d,g[I+1],g[I+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return o}function M_(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function Vy(e,t){const r=e.contentQueries;if(null!==r){const o=Ae(null);try{for(let l=0;l<r.length;l+=2){const g=r[l+1];if(-1!==g){const I=e.data[g];dc(r[l]),I.contentQueries(2,t[g],g)}}}finally{Ae(o)}}}function xg(e,t){return e[vl]?e[Wd][ba]=t:e[vl]=t,e[Wd]=t,t}function kg(e,t,r){dc(0);const o=Ae(null);try{t(e,r)}finally{Ae(o)}}function Uy(e){var t;return null!==(t=e[xs])&&void 0!==t?t:e[xs]=[]}function Qu(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function Ld(e,t){const r=e[lo],o=r?r.get(Gc,null):null;o&&o.handleError(t)}function Ph(e,t,r,o,l){for(let d=0;d<r.length;){const g=r[d++],I=r[d++],w=r[d++];Rg(e.data[g],t[g],o,I,w,l)}}function qc(e,t,r){const o=Ll(t,e);!function Zt(e,t,r){e.setValue(t,r)}(e[$r],o,r)}function Ho(e,t){const r=Da(t,e),o=r[$n];!function Fg(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const l=r[io];null!==l&&null===r[fs]&&(r[fs]=i_(l,r[lo])),Vd(o,r,r[ho])}function Vd(e,t,r){Fu(t);try{var o;const l=e.viewQuery;null!==l&&kg(1,l,r);const d=e.template;null!==d&&Xu(e,t,d,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Il])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&Vy(e,t),e.staticViewQueries&&kg(2,e.viewQuery,r);const g=e.components;null!==g&&function Kf(e,t){for(let r=0;r<t.length;r++)Ho(e,t[r])}(t,g)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[gr]&=-5,Cp()}}function Oh(e,t,r,o){const l=Ae(null);try{var d,g,I;const w=t.tView,ue=Bf(e,w,r,4096&e[gr]?4096:16,null,t,null,null,null!==(d=null==o?void 0:o.injector)&&void 0!==d?d:null,null!==(g=null==o?void 0:o.embeddedViewInjector)&&void 0!==g?g:null,null!==(I=null==o?void 0:o.dehydratedView)&&void 0!==I?I:null);ue[yl]=e[t.index];const at=e[Il];return null!==at&&(ue[Il]=at.createEmbeddedView(w)),Vd(w,ue,r),ue}finally{Ae(l)}}function Ud(e,t){return!t||null===t.firstChild||vf(e)}function Nh(e,t,r,o=!0){const l=t[$n];if(function y_(e,t,r,o){const l=No+o,d=r.length;o>0&&(r[l-1][ba]=t),o<d-No?(t[ba]=r[l],sa(r,No+o,t)):(r.push(t),t[ba]=null),t[ao]=r;const g=t[yl];null!==g&&r!==g&&I_(g,t);const I=t[Il];null!==I&&I.insertView(e),ef(t),t[gr]|=128}(l,t,e,r),o){const g=bg(r,e),I=t[$r],w=Ff(I,e[Zs]);null!==w&&function $I(e,t,r,o,l,d){o[io]=l,o[Ji]=t,Th(e,o,r,1,l,d)}(l,e[Ji],I,t,w,g)}const d=t[fs];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Xf(e,t,r,o,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const d=t[r.index];null!==d&&o.push(Ni(d)),ps(d)&&xh(d,o);const g=r.type;if(8&g)Xf(e,t,r.child,o);else if(32&g){const I=dt(r,t);let w;for(;w=I();)o.push(w)}else if(16&g){const I=Tg(t,r);if(Array.isArray(I))o.push(...I);else{const w=E(t[To]);Xf(w[$n],w,I,o,!0)}}r=l?r.projectionNext:r.next}return o}function xh(e,t){for(let r=No;r<e.length;r++){const o=e[r],l=o[$n].firstChild;null!==l&&Xf(o[$n],o,l,t)}e[Zs]!==e[io]&&t.push(e[Zs])}let gu=[];const kh={...xe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fd(e.lView)},consumerOnSignalRead(){this.lView[ks]=this}},YI={...xe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=E(e.lView);for(;t&&!Hy(t[$n]);)t=E(t);t&&qd(t)},consumerOnSignalRead(){this.lView[ks]=this}};function Hy(e){return 2!==e.type}const Yu=100;function Lg(e,t=!0,r=0){const o=e[Js],l=o.rendererFactory;var g;null===(g=l.begin)||void 0===g||g.call(l);try{!function JI(e,t){const r=Yd();try{Cv(!0),Yf(e,t);let o=0;for(;hd(e);){if(o===Yu)throw new zn(103,!1);o++,Yf(e,1)}}finally{Cv(r)}}(e,r)}catch(j){throw t&&Ld(e,j),j}finally{var I,w;null===(I=l.end)||void 0===I||I.call(l),null===(w=o.inlineEffectRunner)||void 0===w||w.flush()}}function Vg(e,t,r,o){var l;const d=t[gr];if(!(256&~d))return;null===(l=t[Js].inlineEffectRunner)||void 0===l||l.flush(),Fu(t);let w=!0,j=null,J=null;Hy(e)?(J=function By(e){var t;return null!==(t=e[ks])&&void 0!==t?t:function $y(e){var t;const r=null!==(t=gu.pop())&&void 0!==t?t:Object.create(kh);return r.lView=e,r}(e)}(t),j=mt(J)):null===function Oe(){return s}()?(w=!1,J=function QI(e){var t;const r=null!==(t=e[ks])&&void 0!==t?t:Object.create(YI);return r.lView=e,r}(t),j=mt(J)):t[ks]&&(wt(t[ks]),t[ks]=null);try{vp(t),function Ip(e){return T.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Xu(e,t,r,2,o);const ue=!(3&~d);if(ue){const rt=e.preOrderCheckHooks;null!==rt&&af(t,rt,null)}else{const rt=e.preOrderHooks;null!==rt&&lf(t,rt,0,null),Tp(t,0)}if(function qf(e){for(let t=Ef(e);null!==t;t=ny(t)){if(!(t[gr]&Fc.HasTransplantedViews))continue;const r=t[iu];for(let o=0;o<r.length;o++)qd(r[o])}}(t),N_(t,0),null!==e.contentQueries&&Vy(e,t),ue){const rt=e.contentCheckHooks;null!==rt&&af(t,rt)}else{const rt=e.contentHooks;null!==rt&&lf(t,rt,1),Tp(t,1)}!function Dy(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const l=r[o];if(l<0)hu(~l);else{const d=l,g=r[++o],I=r[++o];Av(g,d),I(2,t[d])}}}finally{hu(-1)}}(e,t);const Xe=e.components;null!==Xe&&as(t,Xe,0);const at=e.viewQuery;if(null!==at&&kg(2,at,o),ue){const rt=e.viewCheckHooks;null!==rt&&af(t,rt)}else{const rt=e.viewHooks;null!==rt&&lf(t,rt,2),Tp(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[nl]){for(const rt of t[nl])rt();t[nl]=null}t[gr]&=-73}catch(ue){throw fd(t),ue}finally{null!==J&&(lt(J,j),w&&function jy(e){e.lView[ks]!==e&&(e.lView=null,gu.push(e))}(J)),Cp()}}function N_(e,t){for(let r=Ef(e);null!==r;r=ny(r))for(let o=No;o<r.length;o++)x_(r[o],t)}function Qf(e,t,r){x_(Da(t,e),r)}function x_(e,t){_p(e)&&Yf(e,t)}function Yf(e,t){const o=e[$n],l=e[gr],d=e[ks];let g=!!(0===t&&16&l);if(g||(g=!!(64&l&&0===t)),g||(g=!!(1024&l)),g||(g=!(null==d||!d.dirty||!Nt(d))),g||(g=!1),d&&(d.dirty=!1),e[gr]&=-9217,g)Vg(o,e,o.template,e[ho]);else if(8192&l){N_(e,1);const I=o.components;null!==I&&as(e,I,1)}}function as(e,t,r){for(let o=0;o<t.length;o++)Qf(e,t[o],r)}function Jf(e,t){var r;const o=Yd()?64:1088;for(null===(r=e[Js].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[gr]|=o;const l=E(e);if(su(e)&&!l)return e;e=l}return null}class Zf{get rootNodes(){const t=this._lView,r=t[$n];return Xf(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ho]}set context(t){this._lView[ho]=t}get destroyed(){return!(256&~this._lView[gr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ao];if(ps(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(zl(t,o),yu(r,o))}this._attachedToViewContainer=!1}Vs(this._lView[$n],this._lView)}onDestroy(t){Qd(this._lView,t)}markForCheck(){Jf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[gr]&=-129}reattach(){ef(this._lView),this._lView[gr]|=128}detectChanges(){this._lView[gr]|=1024,Lg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new zn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=su(this._lView),r=this._lView[yl];null!==r&&!t&&E_(r,this._lView),Ah(this._lView[$n],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new zn(902,!1);this._appRef=t;const r=su(this._lView),o=this._lView[yl];null!==o&&!r&&I_(o,this._lView),ef(this._lView)}}let Lh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ug,t})();const Gy=Lh,zy=class extends Gy{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const l=Oh(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Zf(l)}};function Ug(){return ep(ai(),zt())}function ep(e,t){return 4&e.type?new zy(t,e,fo(e,t)):null}let fA=()=>null;function ip(e,t){return fA(e,t)}class zg{}const X_=new wr("",{providedIn:"root",factory:()=>!1}),pA=new wr(""),sE=new wr("");class DS{}class gA{}class RS{resolveComponentFactory(t){throw function SS(e){const t=Error(`No component factory found for ${xn(e)}.`);return t.ngComponent=e,t}(t)}}class q_{}q_.NULL=new RS;class aE{}let MS=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function PS(){const e=zt(),r=Da(ai().index,e);return(Ri(r)?r:e)[$r]}(),t})(),OS=(()=>{var e;class t{}return(e=t).\u0275prov=kr({token:e,providedIn:"root",factory:()=>null}),t})();function Hh(e){return!!Yi(e)}function t0(e,t,r){let o=r?e.styles:null,l=r?e.classes:null,d=0;if(null!==t)for(let g=0;g<t.length;g++){const I=t[g];"number"==typeof I?d=I:1==d?l=Tn(l,I):2==d&&(o=Tn(o,I+": "+t[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=l:e.classesWithoutHost=l}class yA extends q_{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Er(t);return new J_(r,this.ngModule)}}function IA(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const l=e[o];if(void 0===l)continue;const d=Array.isArray(l),g=d?l[0]:l;r.push(t?{propName:g,templateName:o,isSignal:!!((d?l[1]:qo.None)&qo.SignalBased)}:{propName:g,templateName:o})}return r}class J_ extends gA{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=IA(t.inputs,!0);if(null!==r)for(const l of o)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return o}get outputs(){return IA(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Ce(e){return e.map(fe).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,l){const d=Ae(null);try{var I;let w=(l=l||this.ngModule)instanceof Aa?l:null===(I=l)||void 0===I?void 0:I.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const j=w?new vd(t,w):t,J=j.get(aE,null);if(null===J)throw new zn(407,!1);const at={rendererFactory:J,sanitizer:j.get(OS,null),inlineEffectRunner:null,changeDetectionScheduler:j.get(zg,null)},rt=J.createRenderer(null,this.componentDef),on=this.componentDef.selectors[0][0]||"div",En=o?function Sy(e,t,r,o){const d=o.get(ag,!1)||r===Os.ShadowDom,g=e.selectRootElement(t,d);return function jf(e){Rh(e)}(g),g}(rt,o,this.componentDef.encapsulation,j):Gl(rt,on,function kS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(on));let Vn=512;this.componentDef.signals?Vn|=4096:this.componentDef.onPush||(Vn|=16);let fn=null;null!==En&&(fn=i_(En,j,!0));const jr=Og(0,null,null,1,0,null,null,null,null,null,null),ni=Bf(null,jr,null,Vn,null,null,at,rt,j,null,fn);Fu(ni);let Lo,ma,sl=null;try{const yc=this.componentDef;let dp,xC=null;yc.findHostDirectiveDefs?(dp=[],xC=new Map,yc.findHostDirectiveDefs(yc,dp,xC),dp.push(yc)):dp=[yc];const ex=function LS(e,t){const r=e[$n],o=mr;return e[o]=t,fc(r,o,2,"#host",null)}(ni,En);sl=function VS(e,t,r,o,l,d,g){const I=l[$n];!function US(e,t,r,o){for(const l of e)t.mergedAttrs=Ba(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&(t0(t,t.mergedAttrs,!0),null!==r&&bh(o,r,t))}(o,e,t,g);let w=null;null!==t&&(w=i_(t,l[lo]));const j=d.rendererFactory.createRenderer(t,r);let J=16;r.signals?J=4096:r.onPush&&(J=64);const ue=Bf(l,Sh(r),null,J,l[e.index],e,d,j,null,null,w);return I.firstCreatePass&&kd(I,e,o.length-1),xg(l,ue),l[e.index]=ue}(ex,En,yc,dp,ni,at,rt),ma=ac(jr,mr),En&&function $S(e,t,r,o){if(o)wc(e,r,["ng-version","18.2.2"]);else{const{attrs:l,classes:d}=function Ut(e){const t=[],r=[];let o=1,l=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===l?""!==d&&t.push(d,e[++o]):8===l&&r.push(d);else{if(!Ys(l))break;l=d}o++}return{attrs:t,classes:r}}(t.selectors[0]);l&&wc(e,r,l),d&&d.length>0&&by(e,r,d.join(" "))}}(rt,yc,En,o),void 0!==r&&function jS(e,t,r){const o=e.projection=[];for(let l=0;l<t.length;l++){const d=r[l];o.push(null!=d?Array.from(d):null)}}(ma,this.ngContentSelectors,r),Lo=function BS(e,t,r,o,l,d){const g=ai(),I=l[$n],w=Ds(g,l);Ng(I,l,g,r,null,o);for(let J=0;J<r.length;J++)Ra(yd(l,I,g.directiveStart+J,g),l);zf(I,l,g),w&&Ra(w,l);const j=yd(l,I,g.directiveStart+g.componentOffset,g);if(e[ho]=l[ho]=j,null!==d)for(const J of d)J(j,t);return Mg(I,g,l),j}(sl,yc,dp,xC,ni,[HS]),Vd(jr,ni,null)}catch(yc){throw null!==sl&&zm(sl),zm(ni),yc}finally{Cp()}return new FS(this.componentType,Lo,fo(ma,ni),ni,ma)}finally{Ae(d)}}}class FS extends DS{constructor(t,r,o,l,d){super(),this.location=o,this._rootLView=l,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Zf(l,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let l;if(null!==o&&(l=o[t])){var d;if(null!==(d=this.previousInputValues)&&void 0!==d||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const g=this._rootLView;Ph(g[$n],g,l,t,r),this.previousInputValues.set(t,r),Jf(Da(this._tNode.index,g),1)}}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function HS(){const e=ai();sf(zt()[$n],e)}let n0=(()=>{class t{}return t.__NG_ELEMENT_ID__=GS,t})();function GS(){return AA(ai(),zt())}const zS=n0,EA=class extends zS{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return fo(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const t=fu(this._hostTNode,this._hostLView);if(df(t)){const r=Zd(t,this._hostLView),o=hf(t);return new Es(r[$n].data[o+8],r)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=CA(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-No}createEmbeddedView(t,r,o){let l,d;"number"==typeof o?l=o:null!=o&&(l=o.index,d=o.injector);const g=ip(this._lContainer,t.ssrId),I=t.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(I,l,Ud(this._hostTNode,g)),I}createComponent(t,r,o,l,d){var g,I,w;const j=t&&!function Oc(e){return"function"==typeof e}(t);let J;if(j)J=r;else{const Vn=r||{};J=Vn.index,o=Vn.injector,l=Vn.projectableNodes,d=Vn.environmentInjector||Vn.ngModuleRef}const ue=j?t:new J_(Er(t)),Xe=o||this.parentInjector;if(!d&&null==ue.ngModule){const fn=(j?Xe:this.parentInjector).get(Aa,null);fn&&(d=fn)}const at=Er(null!==(g=ue.componentType)&&void 0!==g?g:{}),rt=ip(this._lContainer,null!==(I=null==at?void 0:at.id)&&void 0!==I?I:null),on=null!==(w=null==rt?void 0:rt.firstChild)&&void 0!==w?w:null,En=ue.create(Xe,l,on,d);return this.insertImpl(En.hostView,J,Ud(this._hostTNode,rt)),En}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const l=t._lView;if(function ca(e){return ps(e[ao])}(l)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const w=l[ao],j=new EA(w,w[Ji],w[ao]);j.detach(j.indexOf(t))}}const d=this._adjustIndex(r),g=this._lContainer;return Nh(g,l,d,o),t.attachToViewContainerRef(),sa(uE(g),d,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=CA(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=zl(this._lContainer,r);o&&(yu(uE(this._lContainer),r),Vs(o[$n],o))}detach(t){const r=this._adjustIndex(t,-1),o=zl(this._lContainer,r);return o&&null!=yu(uE(this._lContainer),r)?new Zf(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function CA(e){return e[8]}function uE(e){return e[8]||(e[8]=[])}function AA(e,t){let r;const o=t[e.index];return ps(o)?r=o:(r=M_(o,t,null,e),t[e.index]=r,xg(t,r)),TA(r,t,e,o),new EA(r,e,t)}let TA=function wA(e,t,r,o){if(e[Zs])return;let l;l=8&r.type?Ni(o):function WS(e,t){const r=e[$r],o=r.createComment(""),l=Ds(t,e);return Nd(r,Ff(r,l),o,function A_(e,t){return e.nextSibling(t)}(r,l),!1),o}(t,r),e[Zs]=l},dE=()=>!1;class hE{constructor(t){this.queryList=t,this.matches=null}clone(){return new hE(this.queryList)}setDirty(){this.queryList.setDirty()}}class fE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,l=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);l.push(this.queries[g.indexInDeclarationView].clone())}return new fE(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==vE(t,r).matches&&this.queries[r].setDirty()}}class DA{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function eR(e){return e.split(",").map(t=>t.trim())}(t):t}}class pE{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const l=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(t,l);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new pE(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gE{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new gE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let l=0;l<o.length;l++){const d=o[l];this.matchTNodeWithReadOption(t,r,QS(r,d)),this.matchTNodeWithReadOption(t,r,th(r,t,d,!1,!1))}else o===Lh?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,th(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const l=this.metadata.read;if(null!==l)if(l===il||l===n0||l===Lh&&4&r.type)this.addMatch(r.index,-2);else{const d=th(r,t,l,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function QS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function JS(e,t,r,o){return-1===r?function YS(e,t){return 11&e.type?fo(e,t):4&e.type?ep(e,t):null}(t,e):-2===r?function ZS(e,t,r){return r===il?fo(t,e):r===Lh?ep(t,e):r===n0?AA(t,e):void 0}(e,t,o):yd(e,e[$n],r,t)}function SA(e,t,r,o){const l=t[Il].queries[o];if(null===l.matches){const d=e.data,g=r.matches,I=[];for(let w=0;null!==g&&w<g.length;w+=2){const j=g[w];I.push(j<0?null:JS(t,d[j],g[w+1],r.metadata.read))}l.matches=I}return l.matches}function mE(e,t,r,o){const l=e.queries.getByIndex(r),d=l.matches;if(null!==d){const g=SA(e,t,l,r);for(let I=0;I<d.length;I+=2){const w=d[I];if(w>0)o.push(g[I/2]);else{const j=d[I+1],J=t[-w];for(let ue=No;ue<J.length;ue++){const Xe=J[ue];Xe[yl]===Xe[ao]&&mE(Xe[$n],Xe,j,o)}if(null!==J[iu]){const ue=J[iu];for(let Xe=0;Xe<ue.length;Xe++){const at=ue[Xe];mE(at[$n],at,j,o)}}}}}return o}function RA(e,t,r){var o;const l=new sh(!(4&~r));return function Mh(e,t,r,o){const l=Uy(t);l.push(r),e.firstCreatePass&&Qu(e).push(o,l.length-1)}(e,t,l,l.destroy),(null!==(o=t[Il])&&void 0!==o?o:t[Il]=new fE).queries.push(new hE(l))-1}function OA(e,t,r){null===e.queries&&(e.queries=new pE),e.queries.track(new gE(t,r))}function vE(e,t){return e.queries.getByIndex(t)}function NA(e,t){const r=e[$n],o=vE(r,t);return o.crossesNgTemplate?mE(r,e,t,[]):SA(r,e,o,t)}const xA=new Set;function bl(e){var t,r;xA.has(e)||(xA.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function FA(e,t){bl("NgSignals");const r=function ie(e){const t=Object.create(Bt);t.value=e;const r=()=>(Ie(t),t.value);return r[z]=t,r}(e),o=r[z];return null!=t&&t.equal&&(o.equal=t.equal),r.set=l=>et(o,l),r.update=l=>function Et(e,t){ct()||qe(),et(e,t(e.value))}(o,l),r.asReadonly=LA.bind(r),r}function LA(){const e=this[z];if(void 0===e.readonlyFn){const t=()=>this();t[z]=e,e.readonlyFn=t}return e.readonlyFn}function VA(e){return function kA(e){return"function"==typeof e&&void 0!==e[z]}(e)&&"function"==typeof e.set}function IE(e){let t=function qA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let l;if(wa(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new zn(903,!1);l=t.\u0275dir}if(l){if(r){o.push(l);const g=e;g.inputs=o0(e.inputs),g.inputTransforms=o0(e.inputTransforms),g.declaredInputs=o0(e.declaredInputs),g.outputs=o0(e.outputs);const I=l.hostBindings;I&&gR(e,I);const w=l.viewQuery,j=l.contentQueries;if(w&&fR(e,w),j&&pR(e,j),dR(e,l),mn(e.outputs,l.outputs),wa(l)&&l.data.animation){const J=e.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let g=0;g<d.length;g++){const I=d[g];I&&I.ngInherit&&I(e),I===IE&&(r=!1)}}t=Object.getPrototypeOf(t)}!function hR(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const l=e[o];l.hostVars=t+=l.hostVars,l.hostAttrs=Ba(l.hostAttrs,r=Ba(r,l.hostAttrs))}}(o)}function dR(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const l=t.inputs[o];if(void 0!==l&&(e.inputs[o]=l,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const d=Array.isArray(l)?l[0]:l;if(!t.inputTransforms.hasOwnProperty(d))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[d]=t.inputTransforms[d]}}}function o0(e){return e===Va?{}:e===vi?[]:e}function fR(e,t){const r=e.viewQuery;e.viewQuery=r?(o,l)=>{t(o,l),r(o,l)}:t}function pR(e,t){const r=e.contentQueries;e.contentQueries=r?(o,l,d)=>{t(o,l,d),r(o,l,d)}:t}function gR(e,t){const r=e.hostBindings;e.hostBindings=r?(o,l)=>{t(o,l),r(o,l)}:t}function ZA(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const l=t[o];Array.isArray(l)&&l[3]&&(r[o]=l[3])}e.inputTransforms=r}class op{}class eT{}function ER(e,t){return new EE(e,null!=t?t:null,[])}class EE extends op{constructor(t,r,o,l=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yA(this);const d=Yi(t);this._bootstrapComponents=_t(d.bootstrap),this._r3Injector=Fv(t,r,[{provide:op,useValue:this},{provide:q_,useValue:this.componentFactoryResolver},...o],xn(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class CE extends eT{constructor(t){super(),this.moduleType=t}create(t){return new EE(this.moduleType,t,[])}}class tT extends op{constructor(t){super(),this.componentFactoryResolver=new yA(this),this.instance=null;const r=new Za([...t.providers,{provide:op,useValue:this},{provide:q_,useValue:this.componentFactoryResolver}],t.parent||Mc(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function AE(e,t,r=null){return new tT({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function s0(e){return!!TE(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function TE(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zu(e,t,r){return e[t]=r}function Bs(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function sp(e,t,r,o){const l=Bs(e,t,r);return Bs(e,t+1,o)||l}function a0(e,t,r,o,l){const d=sp(e,t,r,o);return Bs(e,t+2,l)||d}function tv(e,t,r,o,l,d,g,I,w,j){const J=r+mr,ue=t.firstCreatePass?function DR(e,t,r,o,l,d,g,I,w){const j=t.consts,J=fc(t,e,4,g||null,I||null);Gf(t,r,J,Cl(j,w)),sf(t,J);const ue=J.tView=Og(2,J,o,l,d,t.directiveRegistry,t.pipeRegistry,null,t.schemas,j,null);return null!==t.queries&&(t.queries.template(t,J),ue.queries=t.queries.embeddedTView(J)),J}(J,t,e,o,l,d,g,I,w):t.data[J];ss(ue,!1);const Xe=nT(t,e,ue,r);rf()&&Lf(t,e,Xe,ue),Ra(Xe,e);const at=M_(Xe,e,Xe,ue);return e[J]=at,xg(e,at),function bA(e,t,r){return dE(e,t,r)}(at,ue,e),Vc(ue)&&Dh(t,e,ue),null!=w&&Pg(e,ue,j),ue}function bE(e,t,r,o,l,d,g,I){const w=zt(),j=yr();return tv(w,j,e,t,r,o,l,Cl(j.consts,d),g,I),bE}let nT=function rT(e,t,r,o){return hc(!0),t[$r].createComment("")};var qg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(qg||{});let cT=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=kr({token:e,providedIn:"root",factory:()=>new e}),t})();class d0{constructor(){this.ngZone=Kn(Qo),this.scheduler=Kn(zg),this.errorHandler=Kn(Gc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of d0.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(l){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(l)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(qr=d0).PHASES=[qg.EarlyRead,qg.Write,qg.MixedReadWrite,qg.Read],qr.\u0275prov=kr({token:qr,providedIn:"root",factory:()=>new qr});class PR{constructor(t,r,o,l){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=l.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function h0(e,t){var r;(null==t||!t.injector)&&function rc(e){if(!wu())throw new zn(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Kn(Sa);return function Ht(e){return"browser"===(null!=e?e:Kn(Sa)).get(hh)}(o)?(bl("NgAfterNextRender"),function uT(e,t,r,o){var l,d;const g=t.get(cT);null!==(l=g.impl)&&void 0!==l||(g.impl=t.get(d0));const I=null!==(d=null==r?void 0:r.phase)&&void 0!==d?d:qg.MixedReadWrite,w=new PR(g.impl,function NR(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,I),o,t.get(Id));return g.impl.register(w),w}(e,o,t,!0)):dT}const dT={destroy(){}};function FE(e,t,r,o){const l=zt();return Bs(l,cc(),t)&&(yr(),pc(bo(),l,e,t,r,o)),FE}function nm(e,t,r,o){return Bs(e,cc(),r)?t+Dr(r)+o:li}function g0(e,t){return e<<17|t<<2}function Wh(e){return e>>17&32767}function LE(e){return 2|e}function lp(e){return(131068&e)>>2}function VE(e,t){return-131069&e|t<<2}function UE(e){return 1|e}function LT(e,t,r,o){const l=e[r+1],d=null===t;let g=o?Wh(l):lp(l),I=!1;for(;0!==g&&(!1===I||d);){const j=e[g+1];gM(e[g],t)&&(I=!0,e[g+1]=o?UE(j):LE(j)),g=o?Wh(j):lp(j)}I&&(e[r+1]=o?LE(l):UE(l))}function gM(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ro(e,t)>=0}function BE(e,t,r){const o=zt();return Bs(o,cc(),t)&&fa(yr(),bo(),o,e,t,o[$r],r,!1),BE}function $E(e,t,r,o,l){const g=l?"class":"style";Ph(e,r,t.inputs[g],g,o)}function jE(e,t){return function mu(e,t,r,o){const l=zt(),d=yr(),g=uc(2);d.firstUpdatePass&&function WT(e,t,r,o){const l=e.data;if(null===l[r+1]){const d=l[Ls()],g=function zT(e,t){return t>=e.expandoStartIndex}(e,r);(function QT(e,t){return!!(e.flags&(t?8:16))})(d,o)&&null===t&&!g&&(t=!1),t=function TM(e,t,r,o){const l=function nf(e){const t=T.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let d=o?t.residualClasses:t.residualStyles;if(null===l)0===(o?t.classBindings:t.styleBindings)&&(r=ov(r=HE(null,e,t,r,o),t.attrs,o),d=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==l)if(r=HE(l,e,t,r,o),null===d){let w=function bM(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==lp(o))return e[Wh(o)]}(e,t,o);void 0!==w&&Array.isArray(w)&&(w=HE(null,e,t,w[1],o),w=ov(w,t.attrs,o),function wM(e,t,r,o){e[Wh(r?t.classBindings:t.styleBindings)]=o}(e,t,o,w))}else d=function DM(e,t,r){let o;const l=t.directiveEnd;for(let d=1+t.directiveStylingLast;d<l;d++)o=ov(o,e[d].hostAttrs,r);return ov(o,t.attrs,r)}(e,t,o)}return void 0!==d&&(o?t.residualClasses=d:t.residualStyles=d),r}(l,d,t,o),function fM(e,t,r,o,l,d){let g=d?t.classBindings:t.styleBindings,I=Wh(g),w=lp(g);e[o]=r;let J,j=!1;if(Array.isArray(r)?(J=r[1],(null===J||ro(r,J)>0)&&(j=!0)):J=r,l)if(0!==w){const Xe=Wh(e[I+1]);e[o+1]=g0(Xe,I),0!==Xe&&(e[Xe+1]=VE(e[Xe+1],o)),e[I+1]=function dM(e,t){return 131071&e|t<<17}(e[I+1],o)}else e[o+1]=g0(I,0),0!==I&&(e[I+1]=VE(e[I+1],o)),I=o;else e[o+1]=g0(w,0),0===I?I=o:e[w+1]=VE(e[w+1],o),w=o;j&&(e[o+1]=LE(e[o+1])),LT(e,J,o,!0),LT(e,J,o,!1),function pM(e,t,r,o,l){const d=l?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof t&&ro(d,t)>=0&&(r[o+1]=UE(r[o+1]))}(t,J,e,o,d),g=g0(I,w),d?t.classBindings=g:t.styleBindings=g}(l,d,t,r,g,o)}}(d,e,g,o),t!==li&&Bs(l,g,t)&&function XT(e,t,r,o,l,d,g,I){if(!(3&t.type))return;const w=e.data,j=w[I+1],J=function hM(e){return!(1&~e)}(j)?qT(w,t,r,l,lp(j),g):void 0;m0(J)||(m0(d)||function uM(e){return!(2&~e)}(j)&&(d=qT(w,null,r,l,I,g)),function Ay(e,t,r,o,l){if(t)l?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Zr.DashCase;null==l?e.removeStyle(r,o,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Zr.Important),e.setStyle(r,o,l,d))}}(o,g,Ll(Ls(),r),l,d))}(d,d.data[Ls()],l,l[$r],e,l[g+1]=function PM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=xn(Gu(e)))),e}(t,r),o,g)}(e,t,null,!0),jE}function HE(e,t,r,o,l){let d=null;const g=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<g&&(d=t[I],o=ov(o,d.hostAttrs,l),d!==e);)I++;return null!==e&&(r.directiveStylingLast=I),o}function ov(e,t,r){const o=r?1:2;let l=-1;if(null!==t)for(let d=0;d<t.length;d++){const g=t[d];"number"==typeof g?l=g:l===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vo(e,g,!!r||t[++d]))}return void 0===e?null:e}function qT(e,t,r,o,l,d){const g=null===t;let I;for(;l>0;){const w=e[l],j=Array.isArray(w),J=j?w[1]:w,ue=null===J;let Xe=r[l+1];Xe===li&&(Xe=ue?vi:void 0);let at=ue?Pl(Xe,o):J===o?Xe:void 0;if(j&&!m0(at)&&(at=Pl(w,o)),m0(at)&&(I=at,g))return I;const rt=e[l+1];l=g?Wh(rt):lp(rt)}if(null!==t){let w=d?t.residualClasses:t.residualStyles;null!=w&&(I=Pl(w,o))}return I}function m0(e){return void 0!==e}function v0(e,t,r,o){const l=zt(),d=yr(),g=mr+e,I=l[$r],w=d.firstCreatePass?function eP(e,t,r,o,l,d){const g=t.consts,w=fc(t,e,2,o,Cl(g,l));return Gf(t,r,w,Cl(g,d)),null!==w.attrs&&t0(w,w.attrs,!1),null!==w.mergedAttrs&&t0(w,w.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,w),w}(g,d,l,t,r,o):d.data[g],j=eb(d,l,w,I,t,e);l[g]=j;const J=Vc(w);return ss(w,!0),bh(I,j,w),!function Kg(e){return!(32&~e.flags)}(w)&&rf()&&Lf(d,l,j,w),0===function Lt(){return T.lFrame.elementDepthCount}()&&Ra(j,l),function ln(){T.lFrame.elementDepthCount++}(),J&&(Dh(d,l,w),Mg(d,w,l)),null!==o&&Pg(l,w),v0}function y0(){let e=ai();lc()?jc():(e=e.parent,ss(e,!1));const t=e;(function hi(e){return T.skipHydrationRootTNode===e})(t)&&function Pr(){T.skipHydrationRootTNode=null}(),function vn(){T.lFrame.elementDepthCount--}();const r=yr();return r.firstCreatePass&&(sf(r,e),ou(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function bm(e){return!!(8&e.flags)}(t)&&$E(r,t,zt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function wm(e){return!!(16&e.flags)}(t)&&$E(r,t,zt(),t.stylesWithoutHost,!1),y0}function KE(e,t,r,o){return v0(e,t,r,o),y0(),KE}let eb=(e,t,r,o,l,d)=>(hc(!0),Gl(o,l,function Am(){return T.lFrame.currentNamespace}()));function I0(e,t,r){const o=zt(),l=yr(),d=e+mr,g=l.firstCreatePass?function rP(e,t,r,o,l){const d=t.consts,g=Cl(d,o),I=fc(t,e,8,"ng-container",g);return null!==g&&t0(I,g,!0),Gf(t,r,I,Cl(d,l)),null!==t.queries&&t.queries.elementStart(t,I),I}(d,l,o,t,r):l.data[d];ss(g,!0);const I=tb(l,o,g,e);return o[d]=I,rf()&&Lf(l,o,I,g),Ra(I,o),Vc(g)&&(Dh(l,o,g),Mg(l,g,o)),null!=r&&Pg(o,g),I0}function E0(){let e=ai();const t=yr();return lc()?jc():(e=e.parent,ss(e,!1)),t.firstCreatePass&&(sf(t,e),ou(e)&&t.queries.elementEnd(e)),E0}function XE(e,t,r){return I0(e,t,r),E0(),XE}let tb=(e,t,r,o)=>(hc(!0),Dt(t[$r],""));function nb(){return zt()}const cp=void 0;var aP=["en",[["a","p"],["AM","PM"],cp],[["AM","PM"],cp,cp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cp,"{1} 'at' {0}",cp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sP(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let dm={};function qE(e){const t=function lP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=sb(t);if(r)return r;const o=t.split("-")[0];if(r=sb(o),r)return r;if("en"===o)return aP;throw new zn(701,!1)}function ob(e){return qE(e)[hm.PluralCase]}function sb(e){return e in dm||(dm[e]=Di.ng&&Di.ng.common&&Di.ng.common.locales&&Di.ng.common.locales[e]),dm[e]}var hm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(hm||{});const C0="en-US";let ab=C0,bb=(e,t,r)=>{};function JE(e,t,r,o){const l=zt(),d=yr(),g=ai();return ZE(d,l,l[$r],g,e,t,o),JE}function ZE(e,t,r,o,l,d,g){const I=Vc(o),j=e.firstCreatePass&&Qu(e),J=t[ho],ue=Uy(t);let Xe=!0;if(3&o.type||g){const on=Ds(o,t),En=g?g(on):on,Vn=ue.length,fn=g?ni=>g(Ni(ni[o.index])):o.index;let jr=null;if(!g&&I&&(jr=function QP(e,t,r,o){const l=e.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const g=l[d];if(g===r&&l[d+1]===o){const I=t[xs],w=l[d+2];return I.length>w?I[w]:null}"string"==typeof g&&(d+=2)}return null}(e,t,l,o.index)),null!==jr)(jr.__ngLastListenerFn__||jr).__ngNextListenerFn__=d,jr.__ngLastListenerFn__=d,Xe=!1;else{d=Rb(o,t,J,d),bb(on,l,d);const ni=r.listen(En,l,d);ue.push(d,ni),j&&j.push(l,fn,Vn,Vn+1)}}else d=Rb(o,t,J,d);const at=o.outputs;let rt;if(Xe&&null!==at&&(rt=at[l])){const on=rt.length;if(on)for(let En=0;En<on;En+=2){const Lo=t[rt[En]][rt[En+1]].subscribe(d),ma=ue.length;ue.push(d,Lo),j&&j.push(l,o.index,ma,-(ma+1))}}}function Sb(e,t,r,o){const l=Ae(null);try{return la(6,t,r),!1!==r(o)}catch(d){return Ld(e,d),!1}finally{la(7,t,r),Ae(l)}}function Rb(e,t,r,o){return function l(d){if(d===Function)return o;Jf(e.componentOffset>-1?Da(e.index,t):t,5);let I=Sb(t,r,o,d),w=l.__ngNextListenerFn__;for(;w;)I=Sb(t,r,w,d)&&I,w=w.__ngNextListenerFn__;return I}}function Mb(e=1){return function Im(e){return(T.lFrame.contextLView=function dd(e,t){for(;e>0;)t=t[Nc],e--;return t}(e,T.lFrame.contextLView))[ho]}(e)}function YP(e,t){let r=null;const o=function C(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let l=0;l<t.length;l++){const d=t[l];if("*"!==d){if(null===o?Cu(e,d,!0):S(o,d))return l}else r=l}return r}function Pb(e){const t=zt()[To][Ji];if(!t.projection){const o=t.projection=function Ac(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),l=o.slice();let d=t.child;for(;null!==d;){if(128!==d.type){const g=e?YP(d,e):0;null!==g&&(l[g]?l[g].projectionNext=d:o[g]=d,l[g]=d)}d=d.next}}}function Ob(e,t=0,r,o,l,d){const g=zt(),I=yr(),w=o?e+1:null;null!==w&&tv(g,I,w,o,l,d,null,r);const j=fc(I,mr+e,16,null,r||null);null===j.projection&&(j.projection=t),jc();const ue=!g[fs]||Jr();null===g[To][Ji].projection[j.projection]&&null!==w?function JP(e,t,r){const o=mr+r,l=t.data[o],d=e[o],g=ip(d,l.tView.ssrId);Nh(d,Oh(e,l,void 0,{dehydratedView:g}),0,Ud(l,g))}(g,I,w):ue&&32&~j.flags&&function Ma(e,t,r){Pa(t[$r],0,t,r,Od(e,r,t),Eg(r.parent||t[Ji],r,t))}(I,g,j)}function eC(e,t,r){return w0(e,"",t,"",r),eC}function w0(e,t,r,o,l){const d=zt(),g=nm(d,t,r,o);return g!==li&&fa(yr(),bo(),d,e,g,d[$r],l,!1),w0}function $b(e,t,r,o){!function PA(e,t,r,o){const l=yr();if(l.firstCreatePass){const d=ai();OA(l,new DA(t,r,o),d.index),function tR(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return RA(l,zt(),r)}(e,t,r,o)}function jb(e,t,r){!function MA(e,t,r){const o=yr();return o.firstCreatePass&&(OA(o,new DA(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),RA(o,zt(),t)}(e,t,r)}function Hb(e){const t=zt(),r=yr(),o=ku();dc(o+1);const l=vE(r,o);if(e.dirty&&function Iv(e){return!(4&~e[gr])}(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const d=NA(t,o);e.reset(d,jm),e.notifyOnChanges()}return!0}return!1}function Gb(){return function _E(e,t){return e[Il].queries[t].queryList}(zt(),ku())}function zb(e){return El(function Vl(){return T.lFrame.contextLView}(),mr+e)}function tw(e,t=""){const r=zt(),o=yr(),l=e+mr,d=o.firstCreatePass?fc(o,l,1,t,null):o.data[l],g=nw(o,r,d,t,e);r[l]=g,rf()&&Lf(o,r,g,d),ss(d,!1)}let nw=(e,t,r,o,l)=>(hc(!0),function Xt(e,t){return e.createText(t)}(t[$r],o));function nC(e){return D0("",e,""),nC}function D0(e,t,r){const o=zt(),l=nm(o,e,t,r);return l!==li&&qc(o,Ls(),l),D0}function rC(e,t,r,o,l){const d=zt(),g=function rm(e,t,r,o,l,d){const I=sp(e,du(),r,l);return uc(2),I?t+Dr(r)+o+Dr(l)+d:li}(d,e,t,r,o,l);return g!==li&&qc(d,Ls(),g),rC}function iC(e,t,r,o,l,d,g){const I=zt(),w=function im(e,t,r,o,l,d,g,I){const j=a0(e,du(),r,l,g);return uc(3),j?t+Dr(r)+o+Dr(l)+d+Dr(g)+I:li}(I,e,t,r,o,l,d,g);return w!==li&&qc(I,Ls(),w),iC}function oC(e,t,r){VA(t)&&(t=t());const o=zt();return Bs(o,cc(),t)&&fa(yr(),bo(),o,e,t,o[$r],r,!1),oC}function cw(e,t){const r=VA(e);return r&&e.set(t),r}function sC(e,t){const r=zt(),o=yr(),l=ai();return ZE(o,r,r[$r],l,e,t),sC}function aC(e,t,r,o,l){if(e=lr(e),Array.isArray(e))for(let d=0;d<e.length;d++)aC(e[d],t,r,o,l);else{const d=yr(),g=zt(),I=ai();let w=Ja(e)?e:lr(e.provide);const j=nu(e),J=1048575&I.providerIndexes,ue=I.directiveStart,Xe=I.providerIndexes>>20;if(Ja(e)||!e.multi){const at=new _d(j,l,wh),rt=cC(w,t,l?J:J+Xe,ue);-1===rt?(Rp(eh(I,g),d,w),lC(d,e,t.length),t.push(w),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),r.push(at),g.push(at)):(r[rt]=at,g[rt]=at)}else{const at=cC(w,t,J+Xe,ue),rt=cC(w,t,J,J+Xe),En=rt>=0&&r[rt];if(l&&!En||!l&&!(at>=0&&r[at])){Rp(eh(I,g),d,w);const Vn=function v1(e,t,r,o,l){const d=new _d(e,r,wh);return d.multi=[],d.index=t,d.componentProviders=0,hw(d,l,o&&!r),d}(l?_1:m1,r.length,l,o,j);!l&&En&&(r[rt].providerFactory=Vn),lC(d,e,t.length,0),t.push(w),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),r.push(Vn),g.push(Vn)}else lC(d,e,at>-1?at:rt,hw(r[l?rt:at],j,!l&&o));!l&&o&&En&&r[rt].componentProviders++}}}function lC(e,t,r,o){const l=Ja(t),d=function ec(e){return!!e.useClass}(t);if(l||d){const w=(d?lr(t.useClass):t).prototype.ngOnDestroy;if(w){const j=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const J=j.indexOf(r);-1===J?j.push(r,[o,w]):j[J+1].push(o,w)}else j.push(r,w)}}}function hw(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function cC(e,t,r,o){for(let l=r;l<o;l++)if(t[l]===e)return l;return-1}function m1(e,t,r,o){return uC(this.multi,[])}function _1(e,t,r,o){const l=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,I=yd(r,r[$n],this.providerFactory.index,o);d=I.slice(0,g),uC(l,d);for(let w=g;w<I.length;w++)d.push(I[w])}else d=[],uC(l,d);return d}function uC(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function fw(e,t=[]){return r=>{r.providersResolver=(o,l)=>function g1(e,t,r){const o=yr();if(o.firstCreatePass){const l=wa(e);aC(r,o.data,o.blueprint,l,!0),aC(t,o.data,o.blueprint,l,!1)}}(o,l?l(e):e,t)}}let y1=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=Zl(0,o.type),d=l.length>0?AE([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=kr({token:e,providedIn:"environment",factory:()=>new e(Vr(Aa))}),t})();function pw(e){bl("NgStandalone"),e.getStandaloneInjector=t=>t.get(y1).getOrCreateStandaloneInjector(e)}function _w(e,t,r){const o=da()+e,l=zt();return l[o]===li?Zu(l,o,r?t.call(r):t()):function ev(e,t){return e[t]}(l,o)}function vw(e,t,r,o){return yw(zt(),da(),e,t,r,o)}function dv(e,t){const r=e[t];return r===li?void 0:r}function yw(e,t,r,o,l,d){const g=t+r;return Bs(e,g,l)?Zu(e,g+1,d?o.call(d,l):o(l)):dv(e,g+1)}function Tw(e,t){const r=yr();let o;const l=e+mr;var d;r.firstCreatePass?(o=function P1(e,t){if(t)for(let r=t.length-1;r>=0;r--){const o=t[r];if(e===o.name)return o}}(t,r.pipeRegistry),r.data[l]=o,o.onDestroy&&(null!==(d=r.destroyHooks)&&void 0!==d?d:r.destroyHooks=[]).push(l,o.onDestroy)):o=r.data[l];const g=o.factory||(o.factory=Yr(o.type)),w=qi(wh);try{const j=wp(!1),J=g();return wp(j),function tC(e,t,r,o){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=o}(r,zt(),l,J),J}finally{qi(w)}}function bw(e,t,r){const o=e+mr,l=zt(),d=El(l,o);return hv(l,o)?yw(l,da(),t,d.transform,r,d):d.transform(r)}function ww(e,t,r,o){const l=e+mr,d=zt(),g=El(d,l);return hv(d,l)?function Iw(e,t,r,o,l,d,g){const I=t+r;return sp(e,I,l,d)?Zu(e,I+2,g?o.call(g,l,d):o(l,d)):dv(e,I+2)}(d,da(),t,g.transform,r,o,g):g.transform(r,o)}function Dw(e,t,r,o,l){const d=e+mr,g=zt(),I=El(g,d);return hv(g,d)?function Ew(e,t,r,o,l,d,g,I){const w=t+r;return a0(e,w,l,d,g)?Zu(e,w+3,I?o.call(I,l,d,g):o(l,d,g)):dv(e,w+3)}(g,da(),t,I.transform,r,o,l,I):I.transform(r,o,l)}function hv(e,t){return e[$n].data[t].pure}function Sw(e,t){return ep(e,t)}class Gw{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const tO=new Gw("18.2.2");let zw=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const qw=new wr(""),Qw=new wr("");let _C,DO=(()=>{var e;class t{constructor(o,l,d){this._ngZone=o,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,_C||(function SO(e){_C=e}(d),d.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),o()},l)),this._callbacks.push({doneCb:o,timeoutId:g,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,d){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(Vr(Qo),Vr(Yw),Vr(Qw))},e.\u0275prov=kr({token:e,factory:e.\u0275fac}),t})(),Yw=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){var d,g;return null!==(d=null===(g=_C)||void 0===g?void 0:g.findTestabilityInTree(this,o,l))&&void 0!==d?d:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function vC(e){return!!e&&"function"==typeof e.then}function Jw(e){return!!e&&"function"==typeof e.subscribe}const Zw=new wr("");let eD=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=null!==(o=Kn(Zw,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const g=d();if(vC(g))o.push(g);else if(Jw(g)){const I=new Promise((w,j)=>{g.subscribe({complete:w,error:j})});o.push(I)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const O0=new wr("");function nD(e,t){return Array.isArray(t)?t.reduce(nD,e):{...e,...t}}let nd=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kn(Kv),this.afterRenderManager=Kn(cT),this.zonelessEnabled=Kn(X_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ln.B,this.afterTick=new Ln.B,this.componentTypes=[],this.components=[],this.isStable=Kn(Vu).hasPendingTasks.pipe((0,Yt.T)(o=>!o)),this._injector=Kn(Aa)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(l=>{o=this.isStable.subscribe({next:d=>{d&&l()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,l){const d=o instanceof gA;if(!this._injector.get(eD).done)throw!d&&Ao(o),new zn(405,!1);let I;I=d?o:this._injector.get(q_).resolveComponentFactory(o),this.componentTypes.push(I.componentType);const w=function RO(e){return e.isBoundToModule}(I)?void 0:this._injector.get(op),J=I.create(Sa.NULL,[],l||I.selector,w),ue=J.location.nativeElement,Xe=J.injector.get(qw,null);return null==Xe||Xe.registerApplication(ue),J.onDestroy(()=>{this.detachView(J.hostView),N0(this.components,J),null==Xe||Xe.unregisterApplication(ue)}),this._loadComponent(J),J}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new zn(101,!1);const o=Ae(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,Ae(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(aE,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:I,notifyErrorHandler:w}of this._views)OO(I,w,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var l,d;null==o||null===(l=o.begin)||void 0===l||l.call(o),null==o||null===(d=o.end)||void 0===d||d.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>hd(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;N0(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(O0,[]);[...this._bootstrapListeners,...l].forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>N0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new zn(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function N0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function OO(e,t,r,o){(r||hd(e))&&Lg(e,t,r&&!o?0:1)}class NO{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let xO=(()=>{var e;class t{compileModuleSync(o){return new CE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),g=_t(Yi(o).declarations).reduce((I,w)=>{const j=Er(w);return j&&I.push(new J_(j)),I},[]);return new NO(l,g)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),LO=(()=>{var e;class t{constructor(){this.zone=Kn(Qo),this.changeDetectionScheduler=Kn(zg),this.applicationRef=Kn(nd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function yC({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new Qo({...IC(),scheduleInRootZone:r})),[{provide:Qo,useFactory:e},{provide:Ia,multi:!0,useFactory:()=>{const l=Kn(LO,{optional:!0});return()=>l.initialize()}},{provide:Ia,multi:!0,useFactory:()=>{const l=Kn(UO);return()=>{l.initialize()}}},!0===t?{provide:pA,useValue:!0}:[],{provide:sE,useValue:null!=r?r:Bp}]}function IC(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let UO=(()=>{var e;class t{constructor(){this.subscription=new Qt.yU,this.initialized=!1,this.zone=Kn(Qo),this.pendingTasks=Kn(Vu)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Qo.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;Qo.assertInAngularZone(),null!==(l=o)&&void 0!==l||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),mv=(()=>{var e;class t{constructor(){var o,l,d;this.appRef=Kn(nd),this.taskService=Kn(Vu),this.ngZone=Kn(Qo),this.zonelessEnabled=Kn(X_),this.disableScheduling=null!==(o=Kn(pA,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Qt.yU,this.angularZoneId=this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get(Hp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(d=Kn(sE,{optional:!0}))&&void 0!==d&&d,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof $m||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?jp:Ed;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(o),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const CC=new wr("",{providedIn:"root",factory:()=>Kn(CC,Hr.Optional|Hr.SkipSelf)||function BO(){return typeof $localize<"u"&&$localize.locale||C0}()}),$O=new wr("",{providedIn:"root",factory:()=>"USD"}),AC=new wr("");function x0(e){return!!e.platformInjector}let cD=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const d=null==l?void 0:l.scheduleInRootZone,w=[yC({ngZoneFactory:()=>function Wv(e="zone.js",t){return"noop"===e?new $m:"zone.js"===e?new Qo(t):e}(null==l?void 0:l.ngZone,{...IC({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:d}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:zg,useExisting:mv}],j=function CR(e,t,r){return new EE(e,t,r,!1)}(o.moduleType,this.injector,w);return function lD(e){const t=x0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Qo);return r.run(()=>{x0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(Gc,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:d=>{o.handleError(d)}})}),x0(e)){const d=()=>t.destroy(),g=e.platformInjector.get(AC);g.add(d),t.onDestroy(()=>{l.unsubscribe(),g.delete(d)})}else e.moduleRef.onDestroy(()=>{N0(e.allPlatformModules,e.moduleRef),l.unsubscribe()});return function PO(e,t,r){try{const o=r();return vC(o)?o.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=t.get(eD);return d.runInitializers(),d.donePromise.then(()=>{if(function hP(e){"string"==typeof e&&(ab=e.toLowerCase().replace(/_/g,"-"))}(t.get(CC,C0)||C0),x0(e)){const I=t.get(nd);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function WO(e,t){const r=e.injector.get(nd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new zn(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:j,allPlatformModules:this._modules})}bootstrapModule(o,l=[]){const d=nD({},l);return function FO(e,t,r){const o=new CE(r);return Promise.resolve(o)}(0,0,o).then(g=>this.bootstrapModuleFactory(g,d))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new zn(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(AC,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(Vr(Sa))},e.\u0275prov=kr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Kh=null;const uD=new wr("");function dD(e,t,r=[]){const o=`Platform: ${t}`,l=new wr(o);return(d=[])=>{let g=TC();if(!g||g.injector.get(uD,!1)){const I=[...r,...d,{provide:l,useValue:!0}];e?e(I):function KO(e){if(Kh&&!Kh.get(uD,!1))throw new zn(400,!1);(function tD(){!function De(e){cn=e}(()=>{throw new zn(600,!1)})})(),Kh=e;const t=e.get(cD);(function fD(e){const t=e.get(t_,null);null==t||t.forEach(r=>r())})(e)}(function hD(e=[],t){return Sa.create({name:t,providers:[{provide:sd,useValue:"platform"},{provide:AC,useValue:new Set([()=>Kh=null])},...e]})}(I,o))}return function XO(){const t=TC();if(!t)throw new zn(401,!1);return t}()}}function TC(){var e,t;return null!==(e=null===(t=Kh)||void 0===t?void 0:t.get(cD))&&void 0!==e?e:null}function QO(){return!1}function YO(){}let gD=(()=>{class t{}return t.__NG_ELEMENT_ID__=JO,t})();function JO(e){return function ZO(e,t,r){if(Lc(e)&&!r){const o=Da(e.index,t);return new Zf(o,o)}return 175&e.type?new Zf(t[To],t):null}(ai(),zt(),!(16&~e))}class yD{constructor(){}supports(t){return s0(t)}create(t){return new iN(t)}}const rN=(e,t)=>t;class iN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,l=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<ED(o,l,d)?r:o,I=ED(g,l,d),w=g.currentIndex;if(g===o)l--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)l++;else{d||(d=[]);const j=I-l,J=w-l;if(j!=J){for(let Xe=0;Xe<j;Xe++){const at=Xe<d.length?d[Xe]:d[Xe]=0,rt=at+Xe;J<=rt&&rt<j&&(d[Xe]=at+1)}d[g.previousIndex]=J-j}}I!==w&&t(g,I,w)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!s0(t))throw new zn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,d,g,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)d=t[I],g=this._trackByFn(I,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,I)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,I),o=!0),r=r._next}else l=0,function bR(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,I=>{g=this._trackByFn(l,I),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,I,g,l)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,g,l),o=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,l){let d;return null===t?d=this._itTail:(d=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,d,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,l))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,d,l)):t=this._addAfter(new oN(r,o),d,l),t}_verifyReinsertion(t,r,o,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?t=this._reinsertAfter(d,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,d=t._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const l=null===r?this._itHead:r._next;return t._next=l,t._prev=r,null===l?this._itTail=t:l._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new ID),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ID),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oN{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class ID{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new sN,this.map.set(r,o)),o.add(t)}get(t,r){const l=this.map.get(t);return l?l.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ED(e,t,r){const o=e.previousIndex;if(null===o)return o;let l=0;return r&&o<r.length&&(l=r[o]),o+t+l}class CD{constructor(){}supports(t){return t instanceof Map||TE(t)}create(){return new aN}}class aN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||TE(t)))throw new zn(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(l,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,r);const d=l._prev,g=l._next;return d&&(d._next=g),g&&(g._prev=d),l._next=null,l._prev=null,l}const o=new lN(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class lN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AD(){return new RC([new yD])}let RC=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||AD()),deps:[[t,new Ml,new Qs]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new zn(901,!1)}}return(e=t).\u0275prov=kr({token:e,providedIn:"root",factory:AD}),t})();function TD(){return new MC([new CD])}let MC=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new t(o)}static extend(o){return{provide:t,useFactory:l=>t.create(o,l||TD()),deps:[[t,new Ml,new Qs]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new zn(901,!1)}}return(e=t).\u0275prov=kr({token:e,providedIn:"root",factory:TD}),t})();const dN=dD(null,"core",[]);let hN=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(Vr(nd))},e.\u0275mod=Or({type:e}),e.\u0275inj=jo({}),t})();const BD=new wr("");function HN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function zN(e,t){bl("NgSignals");const r=function he(e){const t=Object.create(Ft);t.computation=e;const r=()=>{if(Qe(t),Ie(t),t.value===tt)throw t.error;return t.value};return r[z]=t,r}(e);return null!=t&&t.equal&&(r[z].equal=t.equal),r}function WN(e){const t=Ae(null);try{return e()}finally{Ae(t)}}function JN(e,t){const r=Er(e),o=t.elementInjector||Mc();return new J_(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function ZN(e){const t=Er(e);if(!t)return null;const r=new J_(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(Mn,St,x)=>{"use strict";x.d(St,{DS:()=>et,X8:()=>Et,$z:()=>Y,UB:()=>se,yy:()=>qe,ZP:()=>De,AU:()=>ie,CP:()=>cn,gF:()=>Ue});var h=x(9842),V=(x(2438),x(177)),Ee=x(3953),z=x(5407),Ae=x(9253),Oe=x(1413),He=x(7673),st=x(1985),xe=x(8455),Ie=x(6365),nt=x(8750),Qe=x(983),Je=x(3794),Ct=x(941),mt=x(5558),lt=x(6354),Nt=x(6129);class wt extends Oe.B{constructor(Bt=1/0,In=1/0,xt=Nt.U){super(),this._bufferSize=Bt,this._windowTime=In,this._timestampProvider=xt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=In===1/0,this._bufferSize=Math.max(1,Bt),this._windowTime=Math.max(1,In)}next(Bt){const{isStopped:In,_buffer:xt,_infiniteTimeWindow:Rn,_timestampProvider:Pt,_windowTime:Pn}=this;In||(xt.push(Bt),!Rn&&xt.push(Pt.now()+Pn)),this._trimBuffer(),super.next(Bt)}_subscribe(Bt){this._throwIfClosed(),this._trimBuffer();const In=this._innerSubscribe(Bt),{_infiniteTimeWindow:xt,_buffer:Rn}=this,Pt=Rn.slice();for(let Pn=0;Pn<Pt.length&&!Bt.closed;Pn+=xt?1:2)Bt.next(Pt[Pn]);return this._checkFinalizedStatuses(Bt),In}_trimBuffer(){const{_bufferSize:Bt,_timestampProvider:In,_buffer:xt,_infiniteTimeWindow:Rn}=this,Pt=(Rn?1:2)*Bt;if(Bt<1/0&&Pt<xt.length&&xt.splice(0,xt.length-Pt),!Rn){const Pn=In.now();let Sn=0;for(let Ln=1;Ln<xt.length&&xt[Ln]<=Pn;Ln+=2)Sn=Ln;Sn&&xt.splice(0,Sn+1)}}}var Me=x(7707),Fe=x(9974);function ot(ze,Bt,...In){if(!0===Bt)return void ze();if(!1===Bt)return;const xt=new Me.Ms({next:()=>{xt.unsubscribe(),ze()}});return(0,nt.Tg)(Bt(...In)).subscribe(xt)}function ut(ze,Bt,In){let xt,Rn=!1;return ze&&"object"==typeof ze?({bufferSize:xt=1/0,windowTime:Bt=1/0,refCount:Rn=!1,scheduler:In}=ze):xt=null!=ze?ze:1/0,function Le(ze={}){const{connector:Bt=()=>new Oe.B,resetOnError:In=!0,resetOnComplete:xt=!0,resetOnRefCountZero:Rn=!0}=ze;return Pt=>{let Pn,Sn,Ln,Qt=0,Yt=!1,Hn=!1;const vt=()=>{null==Sn||Sn.unsubscribe(),Sn=void 0},Ne=()=>{vt(),Pn=Ln=void 0,Yt=Hn=!1},je=()=>{const rn=Pn;Ne(),null==rn||rn.unsubscribe()};return(0,Fe.N)((rn,Gn)=>{Qt++,!Hn&&!Yt&&vt();const hr=Ln=null!=Ln?Ln:Bt();Gn.add(()=>{Qt--,0===Qt&&!Hn&&!Yt&&(Sn=ot(je,Rn))}),hr.subscribe(Gn),!Pn&&Qt>0&&(Pn=new Me.Ms({next:sr=>hr.next(sr),error:sr=>{Hn=!0,vt(),Sn=ot(Ne,In,sr),hr.error(sr)},complete:()=>{Yt=!0,vt(),Sn=ot(Ne,xt),hr.complete()}}),(0,nt.Tg)(rn).subscribe(Pn))})(Pt)}}({connector:()=>new wt(xt,Bt,In),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Rn})}var it=x(1594),he=x(8071);function ft(ze,Bt){return(0,he.T)(Bt)?(0,mt.n)(()=>ze,Bt):(0,mt.n)(()=>ze)}var ht=x(6745),tt=x(5964),Ft=x(7935);const cn=new Ee.nKC("angularfire2.auth.use-emulator"),qe=new Ee.nKC("angularfire2.auth.settings"),De=new Ee.nKC("angularfire2.auth.tenant-id"),Y=new Ee.nKC("angularfire2.auth.langugage-code"),ie=new Ee.nKC("angularfire2.auth.use-device-language"),se=new Ee.nKC("angularfire.auth.persistence"),Ue=(ze,Bt,In,xt,Rn,Pt,Pn,Sn)=>(0,Ae.BM)(`${ze.name}.auth`,"AngularFireAuth",ze.name,()=>{const Ln=Bt.runOutsideAngular(()=>ze.auth());if(In&&Ln.useEmulator(...In),xt&&(Ln.tenantId=xt),Ln.languageCode=Rn,Pt&&Ln.useDeviceLanguage(),Pn)for(const[Qt,Yt]of Object.entries(Pn))Ln.settings[Qt]=Yt;return Sn&&Ln.setPersistence(Sn),Ln},[In,xt,Rn,Pt,Pn,Sn]);let et=(()=>{var ze;class Bt{constructor(xt,Rn,Pt,Pn,Sn,Ln,Qt,Yt,Hn,vt,Ne,je){(0,h.A)(this,"authState",void 0),(0,h.A)(this,"idToken",void 0),(0,h.A)(this,"user",void 0),(0,h.A)(this,"idTokenResult",void 0),(0,h.A)(this,"credential",void 0);const rn=new Oe.B,Gn=(0,He.of)(void 0).pipe((0,Ct.Q)(Sn.outsideAngular),(0,mt.n)(()=>Pn.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,2438)))),(0,lt.T)(()=>(0,Ae.iB)(xt,Pn,Rn)),(0,lt.T)(hr=>Ue(hr,Pn,Ln,Yt,Hn,vt,Qt,Ne)),ut({bufferSize:1,refCount:!1}));if((0,V.Vy)(Pt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,He.of)(null);else{Gn.pipe((0,it.$)()).subscribe();const hr=Gn.pipe((0,mt.n)(Jt=>Jt.getRedirectResult().then(Ar=>Ar,()=>null)),z.U0,ut({bufferSize:1,refCount:!1})),sr=Gn.pipe((0,mt.n)(Jt=>new st.c(Ar=>({unsubscribe:Pn.runOutsideAngular(()=>Jt.onAuthStateChanged(dr=>Ar.next(dr),dr=>Ar.error(dr),()=>Ar.complete()))})))),kn=Gn.pipe((0,mt.n)(Jt=>new st.c(Ar=>({unsubscribe:Pn.runOutsideAngular(()=>Jt.onIdTokenChanged(dr=>Ar.next(dr),dr=>Ar.error(dr),()=>Ar.complete()))}))));this.authState=hr.pipe(ft(sr),(0,ht._)(Sn.outsideAngular),(0,Ct.Q)(Sn.insideAngular)),this.user=hr.pipe(ft(kn),(0,ht._)(Sn.outsideAngular),(0,Ct.Q)(Sn.insideAngular)),this.idToken=this.user.pipe((0,mt.n)(Jt=>Jt?(0,xe.H)(Jt.getIdToken()):(0,He.of)(null))),this.idTokenResult=this.user.pipe((0,mt.n)(Jt=>Jt?(0,xe.H)(Jt.getIdTokenResult()):(0,He.of)(null))),this.credential=function ct(...ze){const Bt=(0,Je.lI)(ze),In=(0,Je.R0)(ze,1/0),xt=ze;return xt.length?1===xt.length?(0,nt.Tg)(xt[0]):(0,Ie.U)(In)((0,xe.H)(xt,Bt)):Qe.w}(hr,rn,this.authState.pipe((0,tt.p)(Jt=>!Jt))).pipe((0,lt.T)(Jt=>null!=Jt&&Jt.user?Jt:null),(0,ht._)(Sn.outsideAngular),(0,Ct.Q)(Sn.insideAngular))}return(0,Ae.Gt)(this,Gn,Pn,{spy:{apply:(hr,sr,kn)=>{(hr.startsWith("signIn")||hr.startsWith("createUser"))&&kn.then(Jt=>rn.next(Jt))}}})}}return ze=Bt,(0,h.A)(Bt,"\u0275fac",function(xt){return new(xt||ze)(Ee.KVO(Ae.rx),Ee.KVO(Ae.uP,8),Ee.KVO(Ee.Agw),Ee.KVO(Ee.SKi),Ee.KVO(z.u0),Ee.KVO(cn,8),Ee.KVO(qe,8),Ee.KVO(De,8),Ee.KVO(Y,8),Ee.KVO(ie,8),Ee.KVO(se,8),Ee.KVO(z.Jv,8))}),(0,h.A)(Bt,"\u0275prov",Ee.jDH({token:ze,factory:ze.\u0275fac,providedIn:"any"})),Bt})(),Et=(()=>{var ze;class Bt{constructor(){Ft.A.registerVersion("angularfire",z.xv.full,"auth-compat")}}return ze=Bt,(0,h.A)(Bt,"\u0275fac",function(xt){return new(xt||ze)}),(0,h.A)(Bt,"\u0275mod",Ee.$C({type:ze})),(0,h.A)(Bt,"\u0275inj",Ee.G2t({providers:[et]})),Bt})()},8079:(Mn,St,x)=>{"use strict";x.d(St,{Qe:()=>BI,cM:()=>tA});var h=x(9842),s=x(177),V=x(3953),Ee=x(5407),z=x(9253),Ae=x(1182),Oe=x(3236),He=x(1985),st=x(8455),xe=x(7673),Ie=x(9172),nt=x(9974),Qe=x(4360);function Je(){return(0,nt.N)((c,n)=>{let i,a=!1;c.subscribe((0,Qe._)(n,u=>{const f=i;i=u,a&&n.next([f,u]),a=!0}))})}var ft,ht,ct=x(6354),Ct=x(2816),mt=x(3294),lt=x(5964),wt=(x(2438),x(3345)),Me=x(467),Fe=x(8742),Le=x(1362),ot=x(8041),ut=x(1076),it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};(function(){var c;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u($t,dt,Ot){Ot||(Ot=0);var jt=Array(16);if("string"==typeof dt)for(var Xt=0;16>Xt;++Xt)jt[Xt]=dt.charCodeAt(Ot++)|dt.charCodeAt(Ot++)<<8|dt.charCodeAt(Ot++)<<16|dt.charCodeAt(Ot++)<<24;else for(Xt=0;16>Xt;++Xt)jt[Xt]=dt[Ot++]|dt[Ot++]<<8|dt[Ot++]<<16|dt[Ot++]<<24;var Zt=$t.g[3],Dt=(dt=$t.g[0])+(Zt^(Ot=$t.g[1])&((Xt=$t.g[2])^Zt))+jt[0]+3614090360&4294967295;Dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=(Ot=(Xt=(Zt=(dt=Ot+(Dt<<7&4294967295|Dt>>>25))+((Dt=Zt+(Xt^dt&(Ot^Xt))+jt[1]+3905402710&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Xt+(Ot^Zt&(dt^Ot))+jt[2]+606105819&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Ot+(dt^Xt&(Zt^dt))+jt[3]+3250441966&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Zt^Ot&(Xt^Zt))+jt[4]+4118548399&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Zt+(Xt^dt&(Ot^Xt))+jt[5]+1200080426&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Xt+(Ot^Zt&(dt^Ot))+jt[6]+2821735955&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Ot+(dt^Xt&(Zt^dt))+jt[7]+4249261313&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Zt^Ot&(Xt^Zt))+jt[8]+1770035416&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Zt+(Xt^dt&(Ot^Xt))+jt[9]+2336552879&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Xt+(Ot^Zt&(dt^Ot))+jt[10]+4294925233&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Ot+(dt^Xt&(Zt^dt))+jt[11]+2304563134&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Zt^Ot&(Xt^Zt))+jt[12]+1804603682&4294967295)<<7&4294967295|Dt>>>25))+((Dt=Zt+(Xt^dt&(Ot^Xt))+jt[13]+4254626195&4294967295)<<12&4294967295|Dt>>>20))+((Dt=Xt+(Ot^Zt&(dt^Ot))+jt[14]+2792965006&4294967295)<<17&4294967295|Dt>>>15))+((Dt=Ot+(dt^Xt&(Zt^dt))+jt[15]+1236535329&4294967295)<<22&4294967295|Dt>>>10))+((Dt=dt+(Xt^Zt&(Ot^Xt))+jt[1]+4129170786&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Zt+(Ot^Xt&(dt^Ot))+jt[6]+3225465664&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Xt+(dt^Ot&(Zt^dt))+jt[11]+643717713&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Ot+(Zt^dt&(Xt^Zt))+jt[0]+3921069994&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Xt^Zt&(Ot^Xt))+jt[5]+3593408605&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Zt+(Ot^Xt&(dt^Ot))+jt[10]+38016083&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Xt+(dt^Ot&(Zt^dt))+jt[15]+3634488961&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Ot+(Zt^dt&(Xt^Zt))+jt[4]+3889429448&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Xt^Zt&(Ot^Xt))+jt[9]+568446438&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Zt+(Ot^Xt&(dt^Ot))+jt[14]+3275163606&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Xt+(dt^Ot&(Zt^dt))+jt[3]+4107603335&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Ot+(Zt^dt&(Xt^Zt))+jt[8]+1163531501&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Xt^Zt&(Ot^Xt))+jt[13]+2850285829&4294967295)<<5&4294967295|Dt>>>27))+((Dt=Zt+(Ot^Xt&(dt^Ot))+jt[2]+4243563512&4294967295)<<9&4294967295|Dt>>>23))+((Dt=Xt+(dt^Ot&(Zt^dt))+jt[7]+1735328473&4294967295)<<14&4294967295|Dt>>>18))+((Dt=Ot+(Zt^dt&(Xt^Zt))+jt[12]+2368359562&4294967295)<<20&4294967295|Dt>>>12))+((Dt=dt+(Ot^Xt^Zt)+jt[5]+4294588738&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Zt+(dt^Ot^Xt)+jt[8]+2272392833&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Xt+(Zt^dt^Ot)+jt[11]+1839030562&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Ot+(Xt^Zt^dt)+jt[14]+4259657740&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Ot^Xt^Zt)+jt[1]+2763975236&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Zt+(dt^Ot^Xt)+jt[4]+1272893353&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Xt+(Zt^dt^Ot)+jt[7]+4139469664&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Ot+(Xt^Zt^dt)+jt[10]+3200236656&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Ot^Xt^Zt)+jt[13]+681279174&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Zt+(dt^Ot^Xt)+jt[0]+3936430074&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Xt+(Zt^dt^Ot)+jt[3]+3572445317&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Ot+(Xt^Zt^dt)+jt[6]+76029189&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Ot^Xt^Zt)+jt[9]+3654602809&4294967295)<<4&4294967295|Dt>>>28))+((Dt=Zt+(dt^Ot^Xt)+jt[12]+3873151461&4294967295)<<11&4294967295|Dt>>>21))+((Dt=Xt+(Zt^dt^Ot)+jt[15]+530742520&4294967295)<<16&4294967295|Dt>>>16))+((Dt=Ot+(Xt^Zt^dt)+jt[2]+3299628645&4294967295)<<23&4294967295|Dt>>>9))+((Dt=dt+(Xt^(Ot|~Zt))+jt[0]+4096336452&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Zt+(Ot^(dt|~Xt))+jt[7]+1126891415&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Xt+(dt^(Zt|~Ot))+jt[14]+2878612391&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Ot+(Zt^(Xt|~dt))+jt[5]+4237533241&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(Xt^(Ot|~Zt))+jt[12]+1700485571&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Zt+(Ot^(dt|~Xt))+jt[3]+2399980690&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Xt+(dt^(Zt|~Ot))+jt[10]+4293915773&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Ot+(Zt^(Xt|~dt))+jt[1]+2240044497&4294967295)<<21&4294967295|Dt>>>11))+((Dt=dt+(Xt^(Ot|~Zt))+jt[8]+1873313359&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Zt+(Ot^(dt|~Xt))+jt[15]+4264355552&4294967295)<<10&4294967295|Dt>>>22))+((Dt=Xt+(dt^(Zt|~Ot))+jt[6]+2734768916&4294967295)<<15&4294967295|Dt>>>17))+((Dt=Ot+(Zt^(Xt|~dt))+jt[13]+1309151649&4294967295)<<21&4294967295|Dt>>>11))+((Zt=(dt=Ot+((Dt=dt+(Xt^(Ot|~Zt))+jt[4]+4149444226&4294967295)<<6&4294967295|Dt>>>26))+((Dt=Zt+(Ot^(dt|~Xt))+jt[11]+3174756917&4294967295)<<10&4294967295|Dt>>>22))^((Xt=Zt+((Dt=Xt+(dt^(Zt|~Ot))+jt[2]+718787259&4294967295)<<15&4294967295|Dt>>>17))|~dt))+jt[9]+3951481745&4294967295,$t.g[0]=$t.g[0]+dt&4294967295,$t.g[1]=$t.g[1]+(Xt+(Dt<<21&4294967295|Dt>>>11))&4294967295,$t.g[2]=$t.g[2]+Xt&4294967295,$t.g[3]=$t.g[3]+Zt&4294967295}function y($t,dt){this.h=dt;for(var Ot=[],jt=!0,Xt=$t.length-1;0<=Xt;Xt--){var Zt=0|$t[Xt];jt&&Zt==dt||(Ot[Xt]=Zt,jt=!1)}this.g=Ot}(function n($t,dt){function Ot(){}Ot.prototype=dt.prototype,$t.D=dt.prototype,$t.prototype=new Ot,$t.prototype.constructor=$t,$t.C=function(jt,Xt,Zt){for(var Dt=Array(arguments.length-2),Gl=2;Gl<arguments.length;Gl++)Dt[Gl-2]=arguments[Gl];return dt.prototype[Xt].apply(jt,Dt)}})(a,function i(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function($t,dt){void 0===dt&&(dt=$t.length);for(var Ot=dt-this.blockSize,jt=this.B,Xt=this.h,Zt=0;Zt<dt;){if(0==Xt)for(;Zt<=Ot;)u(this,$t,Zt),Zt+=this.blockSize;if("string"==typeof $t){for(;Zt<dt;)if(jt[Xt++]=$t.charCodeAt(Zt++),Xt==this.blockSize){u(this,jt),Xt=0;break}}else for(;Zt<dt;)if(jt[Xt++]=$t[Zt++],Xt==this.blockSize){u(this,jt),Xt=0;break}}this.h=Xt,this.o+=dt},a.prototype.v=function(){var $t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);$t[0]=128;for(var dt=1;dt<$t.length-8;++dt)$t[dt]=0;var Ot=8*this.o;for(dt=$t.length-8;dt<$t.length;++dt)$t[dt]=255&Ot,Ot/=256;for(this.u($t),$t=Array(16),dt=Ot=0;4>dt;++dt)for(var jt=0;32>jt;jt+=8)$t[Ot++]=this.g[dt]>>>jt&255;return $t};var P={};function U($t){return-128<=$t&&128>$t?function f($t,dt){var Ot=P;return Object.prototype.hasOwnProperty.call(Ot,$t)?Ot[$t]:Ot[$t]=dt($t)}($t,function(dt){return new y([0|dt],0>dt?-1:0)}):new y([0|$t],0>$t?-1:0)}function ee($t){if(isNaN($t)||!isFinite($t))return Be;if(0>$t)return On(ee(-$t));for(var dt=[],Ot=1,jt=0;$t>=Ot;jt++)dt[jt]=$t/Ot|0,Ot*=4294967296;return new y(dt,0)}var Be=U(0),_t=U(1),Ht=U(16777216);function yn($t){if(0!=$t.h)return!1;for(var dt=0;dt<$t.g.length;dt++)if(0!=$t.g[dt])return!1;return!0}function jn($t){return-1==$t.h}function On($t){for(var dt=$t.g.length,Ot=[],jt=0;jt<dt;jt++)Ot[jt]=~$t.g[jt];return new y(Ot,~$t.h).add(_t)}function Ir($t,dt){return $t.add(On(dt))}function Nr($t,dt){for(;(65535&$t[dt])!=$t[dt];)$t[dt+1]+=$t[dt]>>>16,$t[dt]&=65535,dt++}function Cr($t,dt){this.g=$t,this.h=dt}function zr($t,dt){if(yn(dt))throw Error("division by zero");if(yn($t))return new Cr(Be,Be);if(jn($t))return dt=zr(On($t),dt),new Cr(On(dt.g),On(dt.h));if(jn(dt))return dt=zr($t,On(dt)),new Cr(On(dt.g),dt.h);if(30<$t.g.length){if(jn($t)||jn(dt))throw Error("slowDivide_ only works with positive integers.");for(var Ot=_t,jt=dt;0>=jt.l($t);)Ot=zi(Ot),jt=zi(jt);var Xt=Zr(Ot,1),Zt=Zr(jt,1);for(jt=Zr(jt,2),Ot=Zr(Ot,2);!yn(jt);){var Dt=Zt.add(jt);0>=Dt.l($t)&&(Xt=Xt.add(Ot),Zt=Dt),jt=Zr(jt,1),Ot=Zr(Ot,1)}return dt=Ir($t,Xt.j(dt)),new Cr(Xt,dt)}for(Xt=Be;0<=$t.l(dt);){for(Ot=Math.max(1,Math.floor($t.m()/dt.m())),jt=48>=(jt=Math.ceil(Math.log(Ot)/Math.LN2))?1:Math.pow(2,jt-48),Dt=(Zt=ee(Ot)).j(dt);jn(Dt)||0<Dt.l($t);)Dt=(Zt=ee(Ot-=jt)).j(dt);yn(Zt)&&(Zt=_t),Xt=Xt.add(Zt),$t=Ir($t,Dt)}return new Cr(Xt,$t)}function zi($t){for(var dt=$t.g.length+1,Ot=[],jt=0;jt<dt;jt++)Ot[jt]=$t.i(jt)<<1|$t.i(jt-1)>>>31;return new y(Ot,$t.h)}function Zr($t,dt){var Ot=dt>>5;dt%=32;for(var jt=$t.g.length-Ot,Xt=[],Zt=0;Zt<jt;Zt++)Xt[Zt]=0<dt?$t.i(Zt+Ot)>>>dt|$t.i(Zt+Ot+1)<<32-dt:$t.i(Zt+Ot);return new y(Xt,$t.h)}(c=y.prototype).m=function(){if(jn(this))return-On(this).m();for(var $t=0,dt=1,Ot=0;Ot<this.g.length;Ot++){var jt=this.i(Ot);$t+=(0<=jt?jt:4294967296+jt)*dt,dt*=4294967296}return $t},c.toString=function($t){if(2>($t=$t||10)||36<$t)throw Error("radix out of range: "+$t);if(yn(this))return"0";if(jn(this))return"-"+On(this).toString($t);for(var dt=ee(Math.pow($t,6)),Ot=this,jt="";;){var Xt=zr(Ot,dt).g,Zt=((0<(Ot=Ir(Ot,Xt.j(dt))).g.length?Ot.g[0]:Ot.h)>>>0).toString($t);if(yn(Ot=Xt))return Zt+jt;for(;6>Zt.length;)Zt="0"+Zt;jt=Zt+jt}},c.i=function($t){return 0>$t?0:$t<this.g.length?this.g[$t]:this.h},c.l=function($t){return jn($t=Ir(this,$t))?-1:yn($t)?0:1},c.abs=function(){return jn(this)?On(this):this},c.add=function($t){for(var dt=Math.max(this.g.length,$t.g.length),Ot=[],jt=0,Xt=0;Xt<=dt;Xt++){var Zt=jt+(65535&this.i(Xt))+(65535&$t.i(Xt)),Dt=(Zt>>>16)+(this.i(Xt)>>>16)+($t.i(Xt)>>>16);jt=Dt>>>16,Ot[Xt]=(Dt&=65535)<<16|(Zt&=65535)}return new y(Ot,-2147483648&Ot[Ot.length-1]?-1:0)},c.j=function($t){if(yn(this)||yn($t))return Be;if(jn(this))return jn($t)?On(this).j(On($t)):On(On(this).j($t));if(jn($t))return On(this.j(On($t)));if(0>this.l(Ht)&&0>$t.l(Ht))return ee(this.m()*$t.m());for(var dt=this.g.length+$t.g.length,Ot=[],jt=0;jt<2*dt;jt++)Ot[jt]=0;for(jt=0;jt<this.g.length;jt++)for(var Xt=0;Xt<$t.g.length;Xt++){var Zt=this.i(jt)>>>16,Dt=65535&this.i(jt),Gl=$t.i(Xt)>>>16,Pf=65535&$t.i(Xt);Ot[2*jt+2*Xt]+=Dt*Pf,Nr(Ot,2*jt+2*Xt),Ot[2*jt+2*Xt+1]+=Zt*Pf,Nr(Ot,2*jt+2*Xt+1),Ot[2*jt+2*Xt+1]+=Dt*Gl,Nr(Ot,2*jt+2*Xt+1),Ot[2*jt+2*Xt+2]+=Zt*Gl,Nr(Ot,2*jt+2*Xt+2)}for(jt=0;jt<dt;jt++)Ot[jt]=Ot[2*jt+1]<<16|Ot[2*jt];for(jt=dt;jt<2*dt;jt++)Ot[jt]=0;return new y(Ot,0)},c.A=function($t){return zr(this,$t).h},c.and=function($t){for(var dt=Math.max(this.g.length,$t.g.length),Ot=[],jt=0;jt<dt;jt++)Ot[jt]=this.i(jt)&$t.i(jt);return new y(Ot,this.h&$t.h)},c.or=function($t){for(var dt=Math.max(this.g.length,$t.g.length),Ot=[],jt=0;jt<dt;jt++)Ot[jt]=this.i(jt)|$t.i(jt);return new y(Ot,this.h|$t.h)},c.xor=function($t){for(var dt=Math.max(this.g.length,$t.g.length),Ot=[],jt=0;jt<dt;jt++)Ot[jt]=this.i(jt)^$t.i(jt);return new y(Ot,this.h^$t.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ht=he.Md5=a,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=ee,y.fromString=function ve($t,dt){if(0==$t.length)throw Error("number format error: empty string");if(2>(dt=dt||10)||36<dt)throw Error("radix out of range: "+dt);if("-"==$t.charAt(0))return On(ve($t.substring(1),dt));if(0<=$t.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ot=ee(Math.pow(dt,8)),jt=Be,Xt=0;Xt<$t.length;Xt+=8){var Zt=Math.min(8,$t.length-Xt),Dt=parseInt($t.substring(Xt,Xt+Zt),dt);8>Zt?(Zt=ee(Math.pow(dt,Zt)),jt=jt.j(Zt).add(ee(Dt))):jt=(jt=jt.j(Ot)).add(ee(Dt))}return jt},ft=he.Integer=y}).apply(typeof it<"u"?it:typeof self<"u"?self:typeof window<"u"?window:{});var Vt,cn,qe,De,Y,ie,se,Ue,et,tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ft={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(_,$,ne){return _==Array.prototype||_==Object.prototype||(_[$]=ne.value),_},a=function i(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof tt&&tt];for(var $=0;$<_.length;++$){var ne=_[$];if(ne&&ne.Math==Math)return ne}throw Error("Cannot find global object")}(this);!function u(_,$){if($)e:{var ne=a;_=_.split(".");for(var ke=0;ke<_.length-1;ke++){var qt=_[ke];if(!(qt in ne))break e;ne=ne[qt]}($=$(ke=ne[_=_[_.length-1]]))!=ke&&null!=$&&n(ne,_,{configurable:!0,writable:!0,value:$})}}("Array.prototype.values",function(_){return _||function(){return function f(_,$){_ instanceof String&&(_+="");var ne=0,ke=!1,qt={next:function(){if(!ke&&ne<_.length){var un=ne++;return{value:$(un,_[un]),done:!1}}return ke=!0,{done:!0,value:void 0}}};return qt[Symbol.iterator]=function(){return qt},qt}(this,function($,ne){return ne})}});var y=y||{},P=this||self;function U(_){var $=typeof _;return"array"==($="object"!=$?$:_?Array.isArray(_)?"array":$:"null")||"object"==$&&"number"==typeof _.length}function ee(_){var $=typeof _;return"object"==$&&null!=_||"function"==$}function ve(_,$,ne){return _.call.apply(_.bind,arguments)}function Be(_,$,ne){if(!_)throw Error();if(2<arguments.length){var ke=Array.prototype.slice.call(arguments,2);return function(){var qt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(qt,ke),_.apply($,qt)}}return function(){return _.apply($,arguments)}}function _t(_,$,ne){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ve:Be).apply(null,arguments)}function Ht(_,$){var ne=Array.prototype.slice.call(arguments,1);return function(){var ke=ne.slice();return ke.push.apply(ke,arguments),_.apply(this,ke)}}function yn(_,$){function ne(){}ne.prototype=$.prototype,_.aa=$.prototype,_.prototype=new ne,_.prototype.constructor=_,_.Qb=function(ke,qt,un){for(var nr=Array(arguments.length-2),wo=2;wo<arguments.length;wo++)nr[wo-2]=arguments[wo];return $.prototype[qt].apply(ke,nr)}}function jn(_){const $=_.length;if(0<$){const ne=Array($);for(let ke=0;ke<$;ke++)ne[ke]=_[ke];return ne}return[]}function On(_,$){for(let ne=1;ne<arguments.length;ne++){const ke=arguments[ne];if(U(ke)){const qt=_.length||0,un=ke.length||0;_.length=qt+un;for(let nr=0;nr<un;nr++)_[qt+nr]=ke[nr]}else _.push(ke)}}function Nr(_){return/^[\s\xa0]*$/.test(_)}function Cr(){var _=P.navigator;return _&&(_=_.userAgent)?_:""}function zr(_){return zr[" "](_),_}zr[" "]=function(){};var zi=!(-1==Cr().indexOf("Gecko")||-1!=Cr().toLowerCase().indexOf("webkit")&&-1==Cr().indexOf("Edge")||-1!=Cr().indexOf("Trident")||-1!=Cr().indexOf("MSIE")||-1!=Cr().indexOf("Edge"));function Zr(_,$,ne){for(const ke in _)$.call(ne,_[ke],ke,_)}function dt(_){const $={};for(const ne in _)$[ne]=_[ne];return $}const Ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jt(_,$){let ne,ke;for(let qt=1;qt<arguments.length;qt++){for(ne in ke=arguments[qt],ke)_[ne]=ke[ne];for(let un=0;un<Ot.length;un++)ne=Ot[un],Object.prototype.hasOwnProperty.call(ke,ne)&&(_[ne]=ke[ne])}}function Xt(_){var $=1;_=_.split(":");const ne=[];for(;0<$&&_.length;)ne.push(_.shift()),$--;return _.length&&ne.push(_.join(":")),ne}function Zt(_){P.setTimeout(()=>{throw _},0)}function Dt(){var _=y_;let $=null;return _.g&&($=_.g,_.g=_.g.next,_.g||(_.h=null),$.next=null),$}var Pf=new class Ir{constructor($,ne){this.i=$,this.j=ne,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}(()=>new $I,_=>_.reset());class $I{constructor(){this.next=this.g=this.h=null}set($,ne){this.h=$,this.g=ne,this.next=null}reset(){this.next=this.g=this.h=null}}let Ah,Of=!1,y_=new class Gl{constructor(){this.h=this.g=null}add($,ne){const ke=Pf.get();ke.set($,ne),this.h?this.h.next=ke:this.g=ke,this.h=ke}},I_=()=>{const _=P.Promise.resolve(void 0);Ah=()=>{_.then(E_)}};var E_=()=>{for(var _;_=Dt();){try{_.h.call(_.g)}catch(ne){Zt(ne)}var $=Pf;$.j(_),100>$.h&&($.h++,_.next=$.g,$.g=_)}Of=!1};function zl(){this.s=this.s,this.C=this.C}function Vs(_,$){this.type=_,this.g=this.target=$,this.defaultPrevented=!1}zl.prototype.s=!1,zl.prototype.ma=function(){this.s||(this.s=!0,this.N())},zl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Vs.prototype.h=function(){this.defaultPrevented=!0};var C_=function(){if(!P.addEventListener||!Object.defineProperty)return!1;var _=!1,$=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const ne=()=>{};P.addEventListener("test",ne,$),P.removeEventListener("test",ne,$)}catch{}return _}();function Nf(_,$){if(Vs.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var ne=this.type=_.type,ke=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=$,$=_.relatedTarget){if(zi){e:{try{zr($.nodeName);var qt=!0;break e}catch{}qt=!1}qt||($=null)}}else"mouseover"==ne?$=_.fromElement:"mouseout"==ne&&($=_.toElement);this.relatedTarget=$,ke?(this.clientX=void 0!==ke.clientX?ke.clientX:ke.pageX,this.clientY=void 0!==ke.clientY?ke.clientY:ke.pageY,this.screenX=ke.screenX||0,this.screenY=ke.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:jI[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&Nf.aa.h.call(this)}}yn(Nf,Vs);var jI={2:"touch",3:"pen",4:"mouse"};Nf.prototype.h=function(){Nf.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Od="closure_listenable_"+(1e6*Math.random()|0),Ey=0;function Nd(_,$,ne,ke,qt){this.listener=_,this.proxy=null,this.src=$,this.type=ne,this.capture=!!ke,this.ha=qt,this.key=++Ey,this.da=this.fa=!1}function xf(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function kf(_){this.src=_,this.g={},this.h=0}function Ff(_,$){var ne=$.type;if(ne in _.g){var un,ke=_.g[ne],qt=Array.prototype.indexOf.call(ke,$,void 0);(un=0<=qt)&&Array.prototype.splice.call(ke,qt,1),un&&(xf($),0==_.g[ne].length&&(delete _.g[ne],_.h--))}}function A_(_,$,ne,ke){for(var qt=0;qt<_.length;++qt){var un=_[qt];if(!un.da&&un.listener==$&&un.capture==!!ne&&un.ha==ke)return qt}return-1}kf.prototype.add=function(_,$,ne,ke,qt){var un=_.toString();(_=this.g[un])||(_=this.g[un]=[],this.h++);var nr=A_(_,$,ke,qt);return-1<nr?($=_[nr],ne||($.fa=!1)):(($=new Nd($,this.src,un,!!ke,qt)).fa=ne,_.push($)),$};var Eg="closure_lm_"+(1e6*Math.random()|0),Cg={};function T_(_,$,ne,ke,qt){if(ke&&ke.once)return Lf(_,$,ne,ke,qt);if(Array.isArray($)){for(var un=0;un<$.length;un++)T_(_,$[un],ne,ke,qt);return null}return ne=Th(ne),_&&_[Od]?_.K($,ne,ee(ke)?!!ke.capture:!!ke,qt):Ag(_,$,ne,!1,ke,qt)}function Ag(_,$,ne,ke,qt,un){if(!$)throw Error("Invalid event type");var nr=ee(qt)?!!qt.capture:!!qt,wo=wg(_);if(wo||(_[Eg]=wo=new kf(_)),(ne=wo.add($,ne,ke,nr,un)).proxy)return ne;if(ke=function Cy(){const $=Vf;return function _(ne){return $.call(_.src,_.listener,ne)}}(),ne.proxy=ke,ke.src=_,ke.listener=ne,_.addEventListener)C_||(qt=nr),void 0===qt&&(qt=!1),_.addEventListener($.toString(),ke,qt);else if(_.attachEvent)_.attachEvent(bg($.toString()),ke);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(ke)}return ne}function Lf(_,$,ne,ke,qt){if(Array.isArray($)){for(var un=0;un<$.length;un++)Lf(_,$[un],ne,ke,qt);return null}return ne=Th(ne),_&&_[Od]?_.L($,ne,ee(ke)?!!ke.capture:!!ke,qt):Ag(_,$,ne,!0,ke,qt)}function Ku(_,$,ne,ke,qt){if(Array.isArray($))for(var un=0;un<$.length;un++)Ku(_,$[un],ne,ke,qt);else ke=ee(ke)?!!ke.capture:!!ke,ne=Th(ne),_&&_[Od]?(_=_.i,($=String($).toString())in _.g&&-1<(ne=A_(un=_.g[$],ne,ke,qt))&&(xf(un[ne]),Array.prototype.splice.call(un,ne,1),0==un.length&&(delete _.g[$],_.h--))):_&&(_=wg(_))&&($=_.g[$.toString()],_=-1,$&&(_=A_($,ne,ke,qt)),(ne=-1<_?$[_]:null)&&Tg(ne))}function Tg(_){if("number"!=typeof _&&_&&!_.da){var $=_.src;if($&&$[Od])Ff($.i,_);else{var ne=_.type,ke=_.proxy;$.removeEventListener?$.removeEventListener(ne,ke,_.capture):$.detachEvent?$.detachEvent(bg(ne),ke):$.addListener&&$.removeListener&&$.removeListener(ke),(ne=wg($))?(Ff(ne,_),0==ne.h&&(ne.src=null,$[Eg]=null)):xf(_)}}}function bg(_){return _ in Cg?Cg[_]:Cg[_]="on"+_}function Vf(_,$){if(_.da)_=!0;else{$=new Nf($,this);var ne=_.listener,ke=_.ha||_.src;_.fa&&Tg(_),_=ne.call(ke,$)}return _}function wg(_){return(_=_[Eg])instanceof kf?_:null}var Uf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Th(_){return"function"==typeof _?_:(_[Uf]||(_[Uf]=function($){return _.handleEvent($)}),_[Uf])}function Ma(){zl.call(this),this.i=new kf(this),this.M=this,this.F=null}function Pa(_,$){var ne,ke=_.F;if(ke)for(ne=[];ke;ke=ke.F)ne.push(ke);if(_=_.M,ke=$.type||$,"string"==typeof $)$=new Vs($,_);else if($ instanceof Vs)$.target=$.target||_;else{var qt=$;jt($=new Vs(ke,_),qt)}if(qt=!0,ne)for(var un=ne.length-1;0<=un;un--){var nr=$.g=ne[un];qt=Dg(nr,ke,!0,$)&&qt}if(qt=Dg(nr=$.g=_,ke,!0,$)&&qt,qt=Dg(nr,ke,!1,$)&&qt,ne)for(un=0;un<ne.length;un++)qt=Dg(nr=$.g=ne[un],ke,!1,$)&&qt}function Dg(_,$,ne,ke){if(!($=_.i.g[String($)]))return!0;$=$.concat();for(var qt=!0,un=0;un<$.length;++un){var nr=$[un];if(nr&&!nr.da&&nr.capture==ne){var wo=nr.listener,Us=nr.ha||nr.src;nr.fa&&Ff(_.i,nr),qt=!1!==wo.call(Us,ke)&&qt}}return qt&&!ke.defaultPrevented}function Ay(_,$,ne){if("function"==typeof _)ne&&(_=_t(_,ne));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=_t(_.handleEvent,_)}return 2147483647<Number($)?-1:P.setTimeout(_,$||0)}function Ty(_){_.g=Ay(()=>{_.g=null,_.i&&(_.i=!1,Ty(_))},_.l);const $=_.h;_.h=null,_.m.apply(null,$)}yn(Ma,zl),Ma.prototype[Od]=!0,Ma.prototype.removeEventListener=function(_,$,ne,ke){Ku(this,_,$,ne,ke)},Ma.prototype.N=function(){if(Ma.aa.N.call(this),this.i){var $,_=this.i;for($ in _.g){for(var ne=_.g[$],ke=0;ke<ne.length;ke++)xf(ne[ke]);delete _.g[$],_.h--}}this.F=null},Ma.prototype.K=function(_,$,ne,ke){return this.i.add(String(_),$,!1,ne,ke)},Ma.prototype.L=function(_,$,ne,ke){return this.i.add(String(_),$,!0,ne,ke)};class by extends zl{constructor($,ne){super(),this.m=$,this.l=ne,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Ty(this)}N(){super.N(),this.g&&(P.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bh(_){zl.call(this),this.h=_,this.g={}}yn(bh,zl);var li=[];function b_(_){Zr(_.g,function($,ne){this.g.hasOwnProperty(ne)&&Tg($)},_),_.g={}}bh.prototype.N=function(){bh.aa.N.call(this),b_(this)},bh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sg=P.JSON.stringify,wh=P.JSON.parse,wy=class{stringify(_){return P.JSON.stringify(_,void 0)}parse(_){return P.JSON.parse(_,void 0)}};function Rg(){}function Bf(){}Rg.prototype.h=null;var fc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $f(){Vs.call(this,"d")}function xd(){Vs.call(this,"c")}yn($f,Vs),yn(xd,Vs);var Xu={},Mg=null;function Dh(){return Mg=Mg||new Ma}function Pg(_){Vs.call(this,Xu.La,_)}function Sh(_){const $=Dh();Pa($,new Pg($))}function Og(_,$){Vs.call(this,Xu.STAT_EVENT,_),this.stat=$}function za(_){const $=Dh();Pa($,new Og($,_))}function Sy(_,$){Vs.call(this,Xu.Ma,_),this.size=$}function jf(_,$){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return P.setTimeout(function(){_()},$)}function Rh(){this.g=!0}function Mh(_,$,ne,ke){_.info(function(){return"XMLHTTP TEXT ("+$+"): "+function Ry(_,$){if(!_.g)return $;if(!$)return null;try{var ne=JSON.parse($);if(ne)for(_=0;_<ne.length;_++)if(Array.isArray(ne[_])){var ke=ne[_];if(!(2>ke.length)){var qt=ke[1];if(Array.isArray(qt)&&!(1>qt.length)){var un=qt[0];if("noop"!=un&&"stop"!=un&&"close"!=un)for(var nr=1;nr<qt.length;nr++)qt[nr]=""}}}return Sg(ne)}catch{return $}}(_,ne)+(ke?" "+ke:"")})}Xu.La="serverreachability",yn(Pg,Vs),Xu.STAT_EVENT="statevent",yn(Og,Vs),Xu.Ma="timingevent",yn(Sy,Vs),Rh.prototype.xa=function(){this.g=!1},Rh.prototype.info=function(){};var w_,Hf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},My={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function fa(){}function qu(_,$,ne,ke){this.j=_,this.i=$,this.l=ne,this.R=ke||1,this.U=new bh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Py}function Py(){this.i=null,this.g="",this.h=!1}yn(fa,Rg),fa.prototype.g=function(){return new XMLHttpRequest},fa.prototype.i=function(){return{}},w_=new fa;var WI={},Gf={};function Ng(_,$,ne){_.L=1,_.v=Fg(Xc($)),_.m=ne,_.P=!0,Oy(_,null)}function Oy(_,$){_.F=Date.now(),zf(_),_.A=Xc(_.v);var ne=_.A,ke=_.R;Array.isArray(ke)||(ke=[String(ke)]),jy(ne.i,"t",ke),_.C=0,ne=_.j.J,_.h=new Py,_.g=j_(_.j,ne?$:null,!_.m),0<_.O&&(_.M=new by(_t(_.Y,_,_.g),_.O)),$=_.U,ne=_.g,ke=_.ca;var qt="readystatechange";Array.isArray(qt)||(qt&&(li[0]=qt.toString()),qt=li);for(var un=0;un<qt.length;un++){var nr=T_(ne,qt[un],ke||$.handleEvent,!1,$.h||$);if(!nr)break;$.g[nr.key]=nr}$=_.H?dt(_.H):{},_.m?(_.u||(_.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,$)):(_.u="GET",_.g.ea(_.A,_.u,null,$)),Sh(),function HI(_,$,ne,ke,qt,un){_.info(function(){if(_.g)if(un)for(var nr="",wo=un.split("&"),Us=0;Us<wo.length;Us++){var Wi=wo[Us].split("=");if(1<Wi.length){var Oa=Wi[0];Wi=Wi[1];var Na=Oa.split("_");nr=2<=Na.length&&"type"==Na[1]?nr+(Oa+"=")+Wi+"&":nr+(Oa+"=redacted&")}}else nr=null;else nr=un;return"XMLHTTP REQ ("+ke+") [attempt "+qt+"]: "+$+"\n"+ne+"\n"+nr})}(_.i,_.u,_.A,_.l,_.R,_.m)}function Ny(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function KI(_,$){var ne=_.C,ke=$.indexOf("\n",ne);return-1==ke?Gf:(ne=Number($.substring(ne,ke)),isNaN(ne)?WI:(ke+=1)+ne>$.length?Gf:($=$.slice(ke,ke+ne),_.C=ke+ne,$))}function zf(_){_.S=Date.now()+_.I,xy(_,_.I)}function xy(_,$){if(null!=_.B)throw Error("WatchDog timer not null");_.B=jf(_t(_.ba,_),$)}function D_(_){_.B&&(P.clearTimeout(_.B),_.B=null)}function kd(_){0==_.j.G||_.J||U_(_.j,_)}function Fd(_){D_(_);var $=_.M;$&&"function"==typeof $.ma&&$.ma(),_.M=null,b_(_.U),_.g&&($=_.g,_.g=null,$.abort(),$.ma())}function S_(_,$){try{var ne=_.j;if(0!=ne.G&&(ne.g==_||Wf(ne.h,_)))if(!_.K&&Wf(ne.h,_)&&3==ne.G){try{var ke=ne.Da.g.parse($)}catch{ke=null}if(Array.isArray(ke)&&3==ke.length){var qt=ke;if(0==qt[0]){e:if(!ne.u){if(ne.g){if(!(ne.g.F+3e3<_.F))break e;Ju(ne),F_(ne)}np(ne),za(18)}}else ne.za=qt[1],0<ne.za-ne.T&&37500>qt[2]&&ne.F&&0==ne.v&&!ne.C&&(ne.C=jf(_t(ne.Za,ne),6e3));if(1>=pc(ne.h)&&ne.ca){try{ne.ca()}catch{}ne.ca=void 0}}else mc(ne,11)}else if((_.K||ne.g==_)&&Ju(ne),!Nr($))for(qt=ne.Da.g.parse($),$=0;$<qt.length;$++){let Wi=qt[$];if(ne.T=Wi[0],Wi=Wi[1],2==ne.G)if("c"==Wi[0]){ne.K=Wi[1],ne.ia=Wi[2];const Oa=Wi[3];null!=Oa&&(ne.la=Oa,ne.j.info("VER="+ne.la));const Na=Wi[4];null!=Na&&(ne.Aa=Na,ne.j.info("SVER="+ne.Aa));const jh=Wi[5];null!=jh&&"number"==typeof jh&&0<jh&&(ne.L=ke=1.5*jh,ne.j.info("backChannelRequestTimeoutMs_="+ke)),ke=ne;const _c=_.g;if(_c){const Hg=_c.g?_c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hg){var un=ke.h;un.g||-1==Hg.indexOf("spdy")&&-1==Hg.indexOf("quic")&&-1==Hg.indexOf("h2")||(un.j=un.l,un.g=new Set,un.h&&(R_(un,un.h),un.h=null))}if(ke.D){const G_=_c.g?_c.g.getResponseHeader("X-HTTP-Session-Id"):null;G_&&(ke.ya=G_,Ho(ke.I,ke.D,G_))}}ne.G=3,ne.l&&ne.l.ua(),ne.ba&&(ne.R=Date.now()-_.F,ne.j.info("Handshake RTT: "+ne.R+"ms"));var nr=_;if((ke=ne).qa=$_(ke,ke.J?ke.ia:null,ke.W),nr.K){Ly(ke.h,nr);var wo=nr,Us=ke.L;Us&&(wo.I=Us),wo.B&&(D_(wo),zf(wo)),ke.g=nr}else Vh(ke);0<ne.i.length&&L_(ne)}else"stop"!=Wi[0]&&"close"!=Wi[0]||mc(ne,7);else 3==ne.G&&("stop"==Wi[0]||"close"==Wi[0]?"stop"==Wi[0]?mc(ne,7):k_(ne):"noop"!=Wi[0]&&ne.l&&ne.l.ta(Wi),ne.v=0)}Sh()}catch{}}qu.prototype.ca=function(_){_=_.target;const $=this.M;$&&3==gc(_)?$.j():this.Y(_)},qu.prototype.Y=function(_){try{if(_==this.g)e:{const Na=gc(this.g);var $=this.g.Ba();if(this.g.Z(),!(3>Na)&&(3!=Na||this.g&&(this.h.h||this.g.oa()||Wy(this.g)))){this.J||4!=Na||7==$||Sh(),D_(this);var ne=this.g.Z();this.X=ne;t:if(Ny(this)){var ke=Wy(this.g);_="";var qt=ke.length,un=4==gc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fd(this),kd(this);var nr="";break t}this.h.i=new P.TextDecoder}for($=0;$<qt;$++)this.h.h=!0,_+=this.h.i.decode(ke[$],{stream:!(un&&$==qt-1)});ke.length=0,this.h.g+=_,this.C=0,nr=this.h.g}else nr=this.g.oa();if(this.o=200==ne,function GI(_,$,ne,ke,qt,un,nr){_.info(function(){return"XMLHTTP RESP ("+ke+") [ attempt "+qt+"]: "+$+"\n"+ne+"\n"+un+" "+nr})}(this.i,this.u,this.A,this.l,this.R,Na,ne),this.o){if(this.T&&!this.K){t:{if(this.g){var wo,Us=this.g;if((wo=Us.g?Us.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nr(wo)){var Wi=wo;break t}}Wi=null}if(!(ne=Wi)){this.o=!1,this.s=3,za(12),Fd(this),kd(this);break e}Mh(this.i,this.l,ne,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,S_(this,ne)}if(this.P){let _c;for(ne=!0;!this.J&&this.C<nr.length;){if(_c=KI(this,nr),_c==Gf){4==Na&&(this.s=4,za(14),ne=!1),Mh(this.i,this.l,null,"[Incomplete Response]");break}if(_c==WI){this.s=4,za(15),Mh(this.i,this.l,nr,"[Invalid Chunk]"),ne=!1;break}Mh(this.i,this.l,_c,null),S_(this,_c)}if(Ny(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Na||0!=nr.length||this.h.h||(this.s=1,za(16),ne=!1),this.o=this.o&&ne,ne){if(0<nr.length&&!this.W){this.W=!0;var Oa=this.j;Oa.g==this&&Oa.ba&&!Oa.M&&(Oa.j.info("Great, no buffering proxy detected. Bytes received: "+nr.length),Uh(Oa),Oa.M=!0,za(11))}}else Mh(this.i,this.l,nr,"[Invalid Chunked Response]"),Fd(this),kd(this)}else Mh(this.i,this.l,nr,null),S_(this,nr);4==Na&&Fd(this),this.o&&!this.J&&(4==Na?U_(this.j,this):(this.o=!1,zf(this)))}else(function nA(_){const $={};_=(_.g&&2<=gc(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let ke=0;ke<_.length;ke++){if(Nr(_[ke]))continue;var ne=Xt(_[ke]);const qt=ne[0];if("string"!=typeof(ne=ne[1]))continue;ne=ne.trim();const un=$[qt]||[];$[qt]=un,un.push(ne)}!function $t(_,$){for(const ne in _)$.call(void 0,_[ne],ne,_)}($,function(ke){return ke.join(", ")})})(this.g),400==ne&&0<nr.indexOf("Unknown SID")?(this.s=3,za(12)):(this.s=0,za(13)),Fd(this),kd(this)}}}catch{}},qu.prototype.cancel=function(){this.J=!0,Fd(this)},qu.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function zI(_,$){_.info(function(){return"TIMEOUT: "+$})}(this.i,this.A),2!=this.L&&(Sh(),za(17)),Fd(this),this.s=2,kd(this)):xy(this,this.S-_)};var XI=class{constructor(_,$){this.g=_,this.map=$}};function ky(_){this.l=_||10,_=P.PerformanceNavigationTiming?0<(_=P.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(P.chrome&&P.chrome.loadTimes&&P.chrome.loadTimes()&&P.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fy(_){return!!_.h||!!_.g&&_.g.size>=_.j}function pc(_){return _.h?1:_.g?_.g.size:0}function Wf(_,$){return _.h?_.h==$:!!_.g&&_.g.has($)}function R_(_,$){_.g?_.g.add($):_.h=$}function Ly(_,$){_.h&&_.h==$?_.h=null:_.g&&_.g.has($)&&_.g.delete($)}function M_(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let $=_.i;for(const ne of _.g.values())$=$.concat(ne.D);return $}return jn(_.i)}function kg(_,$){if(_.forEach&&"function"==typeof _.forEach)_.forEach($,void 0);else if(U(_)||"string"==typeof _)Array.prototype.forEach.call(_,$,void 0);else for(var ne=function xg(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(U(_)||"string"==typeof _){var $=[];_=_.length;for(var ne=0;ne<_;ne++)$.push(ne);return $}$=[],ne=0;for(const ke in _)$[ne++]=ke;return $}}}(_),ke=function Vy(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(U(_)){for(var $=[],ne=_.length,ke=0;ke<ne;ke++)$.push(_[ke]);return $}for(ke in $=[],ne=0,_)$[ne++]=_[ke];return $}(_),qt=ke.length,un=0;un<qt;un++)$.call(void 0,ke[un],ne&&ne[un],_)}ky.prototype.cancel=function(){if(this.i=M_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var qI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qu(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Qu){this.h=_.h,Ld(this,_.j),this.o=_.o,this.g=_.g,Ph(this,_.s),this.l=_.l;var $=_.i,ne=new xh;ne.i=$.i,$.g&&(ne.g=new Map($.g),ne.h=$.h),qc(this,ne),this.m=_.m}else _&&($=String(_).match(qI))?(this.h=!1,Ld(this,$[1]||"",!0),this.o=Vd($[2]||""),this.g=Vd($[3]||"",!0),Ph(this,$[4]),this.l=Vd($[5]||"",!0),qc(this,$[6]||"",!0),this.m=Vd($[7]||"")):(this.h=!1,this.i=new xh(null,this.h))}function Xc(_){return new Qu(_)}function Ld(_,$,ne){_.j=ne?Vd($,!0):$,_.j&&(_.j=_.j.replace(/:$/,""))}function Ph(_,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);_.s=$}else _.s=null}function qc(_,$,ne){$ instanceof xh?(_.i=$,function QI(_,$){$&&!_.j&&(gu(_),_.i=null,_.g.forEach(function(ne,ke){var qt=ke.toLowerCase();ke!=qt&&(By(this,ke),jy(this,qt,ne))},_)),_.j=$}(_.i,_.h)):(ne||($=Kf($,O_)),_.i=new xh($,_.h))}function Ho(_,$,ne){_.i.set($,ne)}function Fg(_){return Ho(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Vd(_,$){return _?$?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Kf(_,$,ne){return"string"==typeof _?(_=encodeURI(_).replace($,Oh),ne&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Oh(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}Qu.prototype.toString=function(){var _=[],$=this.j;$&&_.push(Kf($,P_,!0),":");var ne=this.g;return(ne||"file"==$)&&(_.push("//"),($=this.o)&&_.push(Kf($,P_,!0),"@"),_.push(encodeURIComponent(String(ne)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ne=this.s)&&_.push(":",String(ne))),(ne=this.l)&&(this.g&&"/"!=ne.charAt(0)&&_.push("/"),_.push(Kf(ne,"/"==ne.charAt(0)?Nh:Ud,!0))),(ne=this.i.toString())&&_.push("?",ne),(ne=this.m)&&_.push("#",Kf(ne,Xf)),_.join("")};var P_=/[#\/\?@]/g,Ud=/[#\?:]/g,Nh=/[#\?]/g,O_=/[#\?@]/g,Xf=/#/g;function xh(_,$){this.h=this.g=null,this.i=_||null,this.j=!!$}function gu(_){_.g||(_.g=new Map,_.h=0,_.i&&function Uy(_,$){if(_){_=_.split("&");for(var ne=0;ne<_.length;ne++){var ke=_[ne].indexOf("="),qt=null;if(0<=ke){var un=_[ne].substring(0,ke);qt=_[ne].substring(ke+1)}else un=_[ne];$(un,qt?decodeURIComponent(qt.replace(/\+/g," ")):"")}}}(_.i,function($,ne){_.add(decodeURIComponent($.replace(/\+/g," ")),ne)}))}function By(_,$){gu(_),$=kh(_,$),_.g.has($)&&(_.i=null,_.h-=_.g.get($).length,_.g.delete($))}function $y(_,$){return gu(_),$=kh(_,$),_.g.has($)}function jy(_,$,ne){By(_,$),0<ne.length&&(_.i=null,_.g.set(kh(_,$),jn(ne)),_.h+=ne.length)}function kh(_,$){return $=String($),_.j&&($=$.toLowerCase()),$}function Yu(_,$,ne,ke,qt){try{qt&&(qt.onload=null,qt.onerror=null,qt.onabort=null,qt.ontimeout=null),ke(ne)}catch{}}function Lg(){this.g=new wy}function JI(_,$,ne){const ke=ne||"";try{kg(_,function(qt,un){let nr=qt;ee(qt)&&(nr=Sg(qt)),$.push(ke+un+"="+encodeURIComponent(nr))})}catch(qt){throw $.push(ke+"type="+encodeURIComponent("_badmap")),qt}}function Fh(_){this.l=_.Ub||null,this.j=_.eb||!1}function Vg(_,$){Ma.call(this),this.D=_,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function N_(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function qf(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Qf(_)}function Qf(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function x_(_){let $="";return Zr(_,function(ne,ke){$+=ke,$+=":",$+=ne,$+="\r\n"}),$}function Yf(_,$,ne){e:{for(ke in ne){var ke=!1;break e}ke=!0}ke||(ne=x_(ne),"string"==typeof _?null!=ne&&encodeURIComponent(String(ne)):Ho(_,$,ne))}function as(_){Ma.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=xh.prototype).add=function(_,$){gu(this),this.i=null,_=kh(this,_);var ne=this.g.get(_);return ne||this.g.set(_,ne=[]),ne.push($),this.h+=1,this},c.forEach=function(_,$){gu(this),this.g.forEach(function(ne,ke){ne.forEach(function(qt){_.call($,qt,ke,this)},this)},this)},c.na=function(){gu(this);const _=Array.from(this.g.values()),$=Array.from(this.g.keys()),ne=[];for(let ke=0;ke<$.length;ke++){const qt=_[ke];for(let un=0;un<qt.length;un++)ne.push($[ke])}return ne},c.V=function(_){gu(this);let $=[];if("string"==typeof _)$y(this,_)&&($=$.concat(this.g.get(kh(this,_))));else{_=Array.from(this.g.values());for(let ne=0;ne<_.length;ne++)$=$.concat(_[ne])}return $},c.set=function(_,$){return gu(this),this.i=null,$y(this,_=kh(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[$]),this.h+=1,this},c.get=function(_,$){return _&&0<(_=this.V(_)).length?String(_[0]):$},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],$=Array.from(this.g.keys());for(var ne=0;ne<$.length;ne++){var ke=$[ne];const un=encodeURIComponent(String(ke)),nr=this.V(ke);for(ke=0;ke<nr.length;ke++){var qt=un;""!==nr[ke]&&(qt+="="+encodeURIComponent(String(nr[ke]))),_.push(qt)}}return this.i=_.join("&")},yn(Fh,Rg),Fh.prototype.g=function(){return new Vg(this.l,this.j)},Fh.prototype.i=function(_){return function(){return _}}({}),yn(Vg,Ma),(c=Vg.prototype).open=function(_,$){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=$,this.readyState=1,Qf(this)},c.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&($.body=_),(this.D||P).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qf(this)),this.readyState=0},c.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof P.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;N_(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var $=_.value?_.value:new Uint8Array(0);($=this.v.decode($,{stream:!_.done}))&&(this.response=this.responseText+=$)}_.done?qf(this):Qf(this),3==this.readyState&&N_(this)}},c.Ra=function(_){this.g&&(this.response=this.responseText=_,qf(this))},c.Qa=function(_){this.g&&(this.response=_,qf(this))},c.ga=function(){this.g&&qf(this)},c.setRequestHeader=function(_,$){this.u.append(_,$)},c.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],$=this.h.entries();for(var ne=$.next();!ne.done;)_.push((ne=ne.value)[0]+": "+ne[1]),ne=$.next();return _.join("\r\n")},Object.defineProperty(Vg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),yn(as,Ma);var Jf=/^https?$/i,Zf=["POST","PUT"];function Lh(_,$){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=$,_.m=5,Gy(_),Ug(_)}function Gy(_){_.A||(_.A=!0,Pa(_,"complete"),Pa(_,"error"))}function zy(_){if(_.h&&typeof y<"u"&&(!_.v[1]||4!=gc(_)||2!=_.Z()))if(_.u&&4==gc(_))Ay(_.Ea,0,_);else if(Pa(_,"readystatechange"),4==gc(_)){_.h=!1;try{const nr=_.Z();e:switch(nr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var ne;if(!(ne=$)){var ke;if(ke=0===nr){var qt=String(_.D).match(qI)[1]||null;!qt&&P.self&&P.self.location&&(qt=P.self.location.protocol.slice(0,-1)),ke=!Jf.test(qt?qt.toLowerCase():"")}ne=ke}if(ne)Pa(_,"complete"),Pa(_,"success");else{_.m=6;try{var un=2<gc(_)?_.g.statusText:""}catch{un=""}_.l=un+" ["+_.Z()+"]",Gy(_)}}finally{Ug(_)}}}function Ug(_,$){if(_.g){ep(_);const ne=_.g,ke=_.v[0]?()=>{}:null;_.g=null,_.v=null,$||Pa(_,"ready");try{ne.onreadystatechange=ke}catch{}}}function ep(_){_.I&&(P.clearTimeout(_.I),_.I=null)}function gc(_){return _.g?_.g.readyState:0}function Wy(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Bg(_,$,ne){return ne&&ne.internalChannelParams&&ne.internalChannelParams[_]||$}function Ky(_){this.Aa=0,this.i=[],this.j=new Rh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bg("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bg("baseRetryDelayMs",5e3,_),this.cb=Bg("retryDelaySeedMs",1e4,_),this.Wa=Bg("forwardChannelMaxRetries",2,_),this.wa=Bg("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new ky(_&&_.concurrentRequestLimit),this.Da=new Lg,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function k_(_){if(Xy(_),3==_.G){var $=_.U++,ne=Xc(_.I);if(Ho(ne,"SID",_.K),Ho(ne,"RID",$),Ho(ne,"TYPE","terminate"),tp(_,ne),($=new qu(_,_.j,$)).L=2,$.v=Fg(Xc(ne)),ne=!1,P.navigator&&P.navigator.sendBeacon)try{ne=P.navigator.sendBeacon($.v.toString(),"")}catch{}!ne&&P.Image&&((new Image).src=$.v,ne=!0),ne||($.g=j_($.j,null),$.g.ea($.v)),$.F=Date.now(),zf($)}B_(_)}function F_(_){_.g&&(Uh(_),_.g.cancel(),_.g=null)}function Xy(_){F_(_),_.u&&(P.clearTimeout(_.u),_.u=null),Ju(_),_.h.cancel(),_.s&&("number"==typeof _.s&&P.clearTimeout(_.s),_.s=null)}function L_(_){if(!Fy(_.h)&&!_.s){_.s=!0;var $=_.Ga;Ah||I_(),Of||(Ah(),Of=!0),y_.add($,_),_.B=0}}function qy(_,$){var ne;ne=$?$.l:_.U++;const ke=Xc(_.I);Ho(ke,"SID",_.K),Ho(ke,"RID",ne),Ho(ke,"AID",_.T),tp(_,ke),_.m&&_.o&&Yf(ke,_.m,_.o),ne=new qu(_,_.j,ne,_.B+1),null===_.m&&(ne.H=_.o),$&&(_.i=$.D.concat(_.i)),$=$g(_,ne,1e3),ne.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),R_(_.h,ne),Ng(ne,ke,$)}function tp(_,$){_.H&&Zr(_.H,function(ne,ke){Ho($,ke,ne)}),_.l&&kg({},function(ne,ke){Ho($,ke,ne)})}function $g(_,$,ne){ne=Math.min(_.i.length,ne);var ke=_.l?_t(_.l.Na,_.l,_):null;e:{var qt=_.i;let un=-1;for(;;){const nr=["count="+ne];-1==un?0<ne?(un=qt[0].g,nr.push("ofs="+un)):un=0:nr.push("ofs="+un);let wo=!0;for(let Us=0;Us<ne;Us++){let Wi=qt[Us].g;const Oa=qt[Us].map;if(Wi-=un,0>Wi)un=Math.max(0,qt[Us].g-100),wo=!1;else try{JI(Oa,nr,"req"+Wi+"_")}catch{ke&&ke(Oa)}}if(wo){ke=nr.join("&");break e}}}return _=_.i.splice(0,ne),$.D=_,ke}function Vh(_){if(!_.g&&!_.u){_.Y=1;var $=_.Fa;Ah||I_(),Of||(Ah(),Of=!0),y_.add($,_),_.v=0}}function np(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=jf(_t(_.Fa,_),Qy(_,_.v)),_.v++,0))}function Uh(_){null!=_.A&&(P.clearTimeout(_.A),_.A=null)}function V_(_){_.g=new qu(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var $=Xc(_.qa);Ho($,"RID","rpc"),Ho($,"SID",_.K),Ho($,"AID",_.T),Ho($,"CI",_.F?"0":"1"),!_.F&&_.ja&&Ho($,"TO",_.ja),Ho($,"TYPE","xmlhttp"),tp(_,$),_.m&&_.o&&Yf($,_.m,_.o),_.L&&(_.g.I=_.L);var ne=_.g;_=_.ia,ne.L=1,ne.v=Fg(Xc($)),ne.m=null,ne.P=!0,Oy(ne,_)}function Ju(_){null!=_.C&&(P.clearTimeout(_.C),_.C=null)}function U_(_,$){var ne=null;if(_.g==$){Ju(_),Uh(_),_.g=null;var ke=2}else{if(!Wf(_.h,$))return;ne=$.D,Ly(_.h,$),ke=1}if(0!=_.G)if($.o)if(1==ke){ne=$.m?$.m.length:0,$=Date.now()-$.F;var qt=_.B;Pa(ke=Dh(),new Sy(ke,ne)),L_(_)}else Vh(_);else if(3==(qt=$.s)||0==qt&&0<$.X||!(1==ke&&function ZI(_,$){return!(pc(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=$.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=jf(_t(_.Ga,_,$),Qy(_,_.B)),_.B++,0)))}(_,$)||2==ke&&np(_)))switch(ne&&0<ne.length&&($=_.h,$.i=$.i.concat(ne)),qt){case 1:mc(_,5);break;case 4:mc(_,10);break;case 3:mc(_,6);break;default:mc(_,2)}}function Qy(_,$){let ne=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(ne*=2),ne*$}function mc(_,$){if(_.j.info("Error code "+$),2==$){var ne=_t(_.fb,_),ke=_.Xa;const qt=!ke;ke=new Qu(ke||"//www.google.com/images/cleardot.gif"),P.location&&"http"==P.location.protocol||Ld(ke,"https"),Fg(ke),qt?function YI(_,$){const ne=new Rh;if(P.Image){const ke=new Image;ke.onload=Ht(Yu,ne,"TestLoadImage: loaded",!0,$,ke),ke.onerror=Ht(Yu,ne,"TestLoadImage: error",!1,$,ke),ke.onabort=Ht(Yu,ne,"TestLoadImage: abort",!1,$,ke),ke.ontimeout=Ht(Yu,ne,"TestLoadImage: timeout",!1,$,ke),P.setTimeout(function(){ke.ontimeout&&ke.ontimeout()},1e4),ke.src=_}else $(!1)}(ke.toString(),ne):function Hy(_,$){new Rh;const ke=new AbortController,qt=setTimeout(()=>{ke.abort(),Yu(0,0,!1,$)},1e4);fetch(_,{signal:ke.signal}).then(un=>{clearTimeout(qt),Yu(0,0,!!un.ok,$)}).catch(()=>{clearTimeout(qt),Yu(0,0,!1,$)})}(ke.toString(),ne)}else za(2);_.G=0,_.l&&_.l.sa($),B_(_),Xy(_)}function B_(_){if(_.G=0,_.ka=[],_.l){const $=M_(_.h);(0!=$.length||0!=_.i.length)&&(On(_.ka,$),On(_.ka,_.i),_.h.i.length=0,jn(_.i),_.i.length=0),_.l.ra()}}function $_(_,$,ne){var ke=ne instanceof Qu?Xc(ne):new Qu(ne);if(""!=ke.g)$&&(ke.g=$+"."+ke.g),Ph(ke,ke.s);else{var qt=P.location;ke=qt.protocol,$=$?$+"."+qt.hostname:qt.hostname,qt=+qt.port;var un=new Qu(null);ke&&Ld(un,ke),$&&(un.g=$),qt&&Ph(un,qt),ne&&(un.l=ne),ke=un}return $=_.ya,(ne=_.D)&&$&&Ho(ke,ne,$),Ho(ke,"VER",_.la),tp(_,ke),ke}function j_(_,$,ne){if($&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return($=new as(_.Ca&&!_.pa?new Fh({eb:ne}):_.pa)).Ha(_.J),$}function H_(){}function jg(){}function Tl(_,$){Ma.call(this),this.g=new Ky($),this.l=_,this.h=$&&$.messageUrlParams||null,_=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(_?_["X-WebChannel-Content-Type"]=$.messageContentType:_={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(_?_["X-WebChannel-Client-Profile"]=$.va:_={"X-WebChannel-Client-Profile":$.va}),this.g.S=_,(_=$&&$.Sb)&&!Nr(_)&&(this.g.m=_),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!Nr($)&&(this.g.D=$,null!==(_=this.h)&&$ in _&&$ in(_=this.h)&&delete _[$]),this.j=new $h(this)}function Yy(_){$f.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var $=_.__sm__;if($){e:{for(const ne in $){_=ne;break e}_=void 0}(this.i=_)&&(_=this.i,$=null!==$&&_ in $?$[_]:void 0),this.data=$}else this.data=_}function Bh(){xd.call(this),this.status=1}function $h(_){this.g=_}(c=as.prototype).Ha=function(_){this.J=_},c.ea=function(_,$,ne,ke){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);$=$?$.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():w_.g(),this.v=function Dy(_){return _.h||(_.h=_.i())}(this.o?this.o:w_),this.g.onreadystatechange=_t(this.Ea,this);try{this.B=!0,this.g.open($,String(_),!0),this.B=!1}catch(un){return void Lh(this,un)}if(_=ne||"",ne=new Map(this.headers),ke)if(Object.getPrototypeOf(ke)===Object.prototype)for(var qt in ke)ne.set(qt,ke[qt]);else{if("function"!=typeof ke.keys||"function"!=typeof ke.get)throw Error("Unknown input type for opt_headers: "+String(ke));for(const un of ke.keys())ne.set(un,ke.get(un))}ke=Array.from(ne.keys()).find(un=>"content-type"==un.toLowerCase()),qt=P.FormData&&_ instanceof P.FormData,!(0<=Array.prototype.indexOf.call(Zf,$,void 0))||ke||qt||ne.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[un,nr]of ne)this.g.setRequestHeader(un,nr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ep(this),this.u=!0,this.g.send(_),this.u=!1}catch(un){Lh(this,un)}},c.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Pa(this,"complete"),Pa(this,"abort"),Ug(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ug(this,!0)),as.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?zy(this):this.bb())},c.bb=function(){zy(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<gc(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(_){if(this.g){var $=this.g.responseText;return _&&0==$.indexOf(_)&&($=$.substring(_.length)),wh($)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Ky.prototype).la=8,c.G=1,c.connect=function(_,$,ne,ke){za(0),this.W=_,this.H=$||{},ne&&void 0!==ke&&(this.H.OSID=ne,this.H.OAID=ke),this.F=this.X,this.I=$_(this,null,this.W),L_(this)},c.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const qt=new qu(this,this.j,_);let un=this.o;if(this.S&&(un?(un=dt(un),jt(un,this.S)):un=this.S),null!==this.m||this.O||(qt.H=un,un=null),this.P)e:{for(var $=0,ne=0;ne<this.i.length;ne++){var ke=this.i[ne];if(void 0===(ke="__data__"in ke.map&&"string"==typeof(ke=ke.map.__data__)?ke.length:void 0))break;if(4096<($+=ke)){$=ne;break e}if(4096===$||ne===this.i.length-1){$=ne+1;break e}}$=1e3}else $=1e3;$=$g(this,qt,$),Ho(ne=Xc(this.I),"RID",_),Ho(ne,"CVER",22),this.D&&Ho(ne,"X-HTTP-Session-Id",this.D),tp(this,ne),un&&(this.O?$="headers="+encodeURIComponent(String(x_(un)))+"&"+$:this.m&&Yf(ne,this.m,un)),R_(this.h,qt),this.Ua&&Ho(ne,"TYPE","init"),this.P?(Ho(ne,"$req",$),Ho(ne,"SID","null"),qt.T=!0,Ng(qt,ne,null)):Ng(qt,ne,$),this.G=2}}else 3==this.G&&(_?qy(this,_):0==this.i.length||Fy(this.h)||qy(this))},c.Fa=function(){if(this.u=null,V_(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=jf(_t(this.ab,this),_)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,za(10),F_(this),V_(this))},c.Za=function(){null!=this.C&&(this.C=null,F_(this),np(this),za(19))},c.fb=function(_){_?(this.j.info("Successfully pinged google.com"),za(2)):(this.j.info("Failed to ping google.com"),za(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=H_.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},jg.prototype.g=function(_,$){return new Tl(_,$)},yn(Tl,Ma),Tl.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tl.prototype.close=function(){k_(this.g)},Tl.prototype.o=function(_){var $=this.g;if("string"==typeof _){var ne={};ne.__data__=_,_=ne}else this.u&&((ne={}).__data__=Sg(_),_=ne);$.i.push(new XI($.Ya++,_)),3==$.G&&L_($)},Tl.prototype.N=function(){this.g.l=null,delete this.j,k_(this.g),delete this.g,Tl.aa.N.call(this)},yn(Yy,$f),yn(Bh,xd),yn($h,H_),$h.prototype.ua=function(){Pa(this.g,"a")},$h.prototype.ta=function(_){Pa(this.g,new Yy(_))},$h.prototype.sa=function(_){Pa(this.g,new Bh)},$h.prototype.ra=function(){Pa(this.g,"b")},jg.prototype.createWebChannel=jg.prototype.g,Tl.prototype.send=Tl.prototype.o,Tl.prototype.open=Tl.prototype.m,Tl.prototype.close=Tl.prototype.close,et=Ft.createWebChannelTransport=function(){return new jg},Ue=Ft.getStatEventTarget=function(){return Dh()},se=Ft.Event=Xu,ie=Ft.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hf.NO_ERROR=0,Hf.TIMEOUT=8,Hf.HTTP_ERROR=6,Y=Ft.ErrorCode=Hf,My.COMPLETE="complete",De=Ft.EventType=My,Bf.EventType=fc,fc.OPEN="a",fc.CLOSE="b",fc.ERROR="c",fc.MESSAGE="d",Ma.prototype.listen=Ma.prototype.K,qe=Ft.WebChannel=Bf,cn=Ft.FetchXmlHttpFactory=Fh,as.prototype.listenOnce=as.prototype.L,as.prototype.getLastError=as.prototype.Ka,as.prototype.getLastErrorCode=as.prototype.Ba,as.prototype.getStatus=as.prototype.Z,as.prototype.getResponseJson=as.prototype.Oa,as.prototype.getResponseText=as.prototype.oa,as.prototype.send=as.prototype.ea,as.prototype.setWithCredentials=as.prototype.Ha,Vt=Ft.XhrIo=as}).apply(typeof tt<"u"?tt:typeof self<"u"?self:typeof window<"u"?window:{});const Et="@firebase/firestore";class ze{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");let Bt="10.13.1";const In=new ot.Vy("@firebase/firestore");function xt(){return In.logLevel}function Pt(c,...n){if(In.logLevel<=ot.$b.DEBUG){const i=n.map(Ln);In.debug(`Firestore (${Bt}): ${c}`,...i)}}function Pn(c,...n){if(In.logLevel<=ot.$b.ERROR){const i=n.map(Ln);In.error(`Firestore (${Bt}): ${c}`,...i)}}function Sn(c,...n){if(In.logLevel<=ot.$b.WARN){const i=n.map(Ln);In.warn(`Firestore (${Bt}): ${c}`,...i)}}function Ln(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function Qt(c="Unexpected state"){const n=`FIRESTORE (${Bt}) INTERNAL ASSERTION FAILED: `+c;throw Pn(n),new Error(n)}function Yt(c,n){c||Qt()}function vt(c,n){return c}const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends ut.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rn{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class Gn{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class hr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(ze.UNAUTHENTICATED))}shutdown(){}}class sr{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class kn{constructor(n){this.t=n,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;let u=this.i;const f=ee=>this.i!==u?(u=this.i,i(ee)):Promise.resolve();let y=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new rn,n.enqueueRetryable(()=>f(this.currentUser))};const P=()=>{const ee=y;n.enqueueRetryable((0,Me.A)(function*(){yield ee.promise,yield f(a.currentUser)}))},U=ee=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ee,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(ee=>U(ee)),setTimeout(()=>{if(!this.auth){const ee=this.t.getImmediate({optional:!0});ee?U(ee):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new rn)}},0),P()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt("string"==typeof a.accessToken),new Gn(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Yt(null===n||"string"==typeof n),new ze(n)}}class Jt{constructor(n,i,a){this.l=n,this.h=i,this.P=a,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ar{constructor(n,i,a){this.l=n,this.h=i,this.P=a}getToken(){return Promise.resolve(new Jt(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dr{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class or{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){const a=f=>{null!=f.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const y=f.token!==this.R;return this.R=f.token,Pt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?i(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>a(f))};const u=f=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Yt("string"==typeof i.token),this.R=i.token,new dr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tr(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<c;a++)i[a]=Math.floor(256*Math.random());return i}class pi{static newId(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const u=Tr(40);for(let f=0;f<u.length;++f)a.length<20&&u[f]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return a}}function An(c,n){return c<n?-1:c>n?1:0}function ti(c,n,i){return c.length===n.length&&c.every((a,u)=>i(a,n[u]))}function Un(c){return c+"\0"}class qn{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new je(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new je(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new je(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new je(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return qn.fromMillis(Date.now())}static fromDate(n){return qn.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new qn(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?An(this.nanoseconds,n.nanoseconds):An(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Xn(n)}static min(){return new Xn(new qn(0,0))}static max(){return new Xn(new qn(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bi{constructor(n,i,a){void 0===i?i=0:i>n.length&&Qt(),void 0===a?a=n.length-i:a>n.length-i&&Qt(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===bi.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof bi?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let u=0;u<a;u++){const f=n.get(u),y=i.get(u);if(f<y)return-1;if(f>y)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class rr extends bi{construct(n,i,a){return new rr(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new je(Ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new rr(i)}static emptyPath(){return new rr([])}}const Ii=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends bi{construct(n,i,a){return new _r(n,i,a)}static isValidIdentifier(n){return Ii.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(n){const i=[];let a="",u=0;const f=()=>{if(0===a.length)throw new je(Ne.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let y=!1;for(;u<n.length;){const P=n[u];if("\\"===P){if(u+1===n.length)throw new je(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const U=n[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new je(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=U,u+=2}else"`"===P?(y=!y,u++):"."!==P||y?(a+=P,u++):(f(),u++)}if(f(),y)throw new je(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new _r(i)}static emptyPath(){return new _r([])}}class wn{constructor(n){this.path=n}static fromPath(n){return new wn(rr.fromString(n))}static fromName(n){return new wn(rr.fromString(n).popFirst(5))}static empty(){return new wn(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===rr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return rr.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new wn(new rr(n.slice()))}}class di{constructor(n,i,a,u){this.indexId=n,this.collectionGroup=i,this.fields=a,this.indexState=u}}function Wt(c){return c.fields.find(n=>2===n.kind)}function Tt(c){return c.fields.filter(n=>2!==n.kind)}di.UNKNOWN_ID=-1;class Te{constructor(n,i){this.fieldPath=n,this.kind=i}}class W{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new W(0,Se.min())}}function Q(c,n){const i=c.toTimestamp().seconds,a=c.toTimestamp().nanoseconds+1,u=Xn.fromTimestamp(1e9===a?new qn(i+1,0):new qn(i,a));return new Se(u,wn.empty(),n)}function le(c){return new Se(c.readTime,c.key,-1)}class Se{constructor(n,i,a){this.readTime=n,this.documentKey=i,this.largestBatchId=a}static min(){return new Se(Xn.min(),wn.empty(),-1)}static max(){return new Se(Xn.max(),wn.empty(),-1)}}function kt(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=wn.comparator(c.documentKey,n.documentKey),0!==i?i:An(c.largestBatchId,n.largestBatchId))}const hn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function ir(c){return vr.apply(this,arguments)}function vr(){return(vr=(0,Me.A)(function*(c){if(c.code!==Ne.FAILED_PRECONDITION||c.message!==hn)throw c;Pt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class At{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&Qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new At((a,u)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(a,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof At?i:At.resolve(i)}catch(i){return At.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):At.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):At.reject(i)}static resolve(n){return new At((i,a)=>{i(n)})}static reject(n){return new At((i,a)=>{a(n)})}static waitFor(n){return new At((i,a)=>{let u=0,f=0,y=!1;n.forEach(P=>{++u,P.next(()=>{++f,y&&f===u&&i()},U=>a(U))}),y=!0,f===u&&i()})}static or(n){let i=At.resolve(!1);for(const a of n)i=i.next(u=>u?At.resolve(u):a());return i}static forEach(n,i){const a=[];return n.forEach((u,f)=>{a.push(i.call(this,u,f))}),this.waitFor(a)}static mapArray(n,i){return new At((a,u)=>{const f=n.length,y=new Array(f);let P=0;for(let U=0;U<f;U++){const ee=U;i(n[ee]).next(ve=>{y[ee]=ve,++P,P===f&&a(y)},ve=>u(ve))}})}static doWhile(n,i){return new At((a,u)=>{const f=()=>{!0===n()?i().next(()=>{f()},u):a()};f()})}}class er{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new rn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new co(n,i.error)):this.V.resolve()},this.transaction.onerror=a=>{const u=Go(a.target.error);this.V.reject(new co(n,u))}}static open(n,i,a,u){try{return new er(i,n.transaction(u,a))}catch(f){throw new co(i,f)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(Pt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new xo(i)}}class Jn{constructor(n,i,a){this.name=n,this.version=i,this.p=a,12.2===Jn.S((0,ut.ZQ)())&&Pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Pt("SimpleDb","Removing database:",n),Ui(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,ut.zW)())return!1;if(Jn.v())return!0;const n=(0,ut.ZQ)(),i=Jn.S(n),a=0<i&&i<10,u=ei(n),f=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||f)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(n){var i=this;return(0,Me.A)(function*(){return i.db||(Pt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=y=>{a(y.target.result)},f.onblocked=()=>{u(new co(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=y=>{const P=y.target.error;u("VersionError"===P.name?new je(Ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new je(Ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new co(n,P))},f.onupgradeneeded=y=>{Pt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',y.oldVersion),i.p.O(y.target.result,f.transaction,y.oldVersion,i.version).next(()=>{Pt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=a=>i.N(a)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,u){var f=this;return(0,Me.A)(function*(){const y="readonly"===i;let P=0;for(;;){++P;try{f.db=yield f.M(n);const U=er.open(f.db,n,y?"readonly":"readwrite",a),ee=u(U).next(ve=>(U.g(),ve)).catch(ve=>(U.abort(ve),At.reject(ve))).toPromise();return ee.catch(()=>{}),yield U.m,ee}catch(U){const ee=U,ve="FirebaseError"!==ee.name&&P<3;if(Pt("SimpleDb","Transaction failed with error:",ee.message,"Retrying:",ve),f.close(),!ve)return Promise.reject(ee)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ei(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Ki{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return Ui(this.B.delete())}}class co extends je{constructor(n,i){super(Ne.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Ei(c){return"IndexedDbTransactionError"===c.name}class xo{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(Pt("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(Pt("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),Ui(a)}add(n){return Pt("SimpleDb","ADD",this.store.name,n,n),Ui(this.store.add(n))}get(n){return Ui(this.store.get(n)).next(i=>(void 0===i&&(i=null),Pt("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return Pt("SimpleDb","DELETE",this.store.name,n),Ui(this.store.delete(n))}count(){return Pt("SimpleDb","COUNT",this.store.name),Ui(this.store.count())}U(n,i){const a=this.options(n,i),u=a.index?this.store.index(a.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(a.range);return new At((y,P)=>{f.onerror=U=>{P(U.target.error)},f.onsuccess=U=>{y(U.target.result)}})}{const f=this.cursor(a),y=[];return this.W(f,(P,U)=>{y.push(U)}).next(()=>y)}}G(n,i){const a=this.store.getAll(n,null===i?void 0:i);return new At((u,f)=>{a.onerror=y=>{f(y.target.error)},a.onsuccess=y=>{u(y.target.result)}})}j(n,i){Pt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.H=!1;const u=this.cursor(a);return this.W(u,(f,y,P)=>P.delete())}J(n,i){let a;i?a=n:(a={},i=n);const u=this.cursor(a);return this.W(u,i)}Y(n){const i=this.cursor({});return new At((a,u)=>{i.onerror=f=>{const y=Go(f.target.error);u(y)},i.onsuccess=f=>{const y=f.target.result;y?n(y.primaryKey,y.value).next(P=>{P?y.continue():a()}):a()}})}W(n,i){const a=[];return new At((u,f)=>{n.onerror=y=>{f(y.target.error)},n.onsuccess=y=>{const P=y.target.result;if(!P)return void u();const U=new Ki(P),ee=i(P.primaryKey,P.value,U);if(ee instanceof At){const ve=ee.catch(Be=>(U.done(),At.reject(Be)));a.push(ve)}U.isDone?u():null===U.K?P.continue():P.continue(U.K)}}).next(()=>At.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.H?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function Ui(c){return new At((n,i)=>{c.onsuccess=a=>{n(a.target.result)},c.onerror=a=>{const u=Go(a.target.error);i(u)}})}let Do=!1;function Go(c){const n=Jn.S((0,ut.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(i)>=0){const a=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Do||(Do=!0,setTimeout(()=>{throw a},0)),a}}return c}class po{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;Pt("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Me.A)(function*(){i.task=null;try{Pt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(a){Ei(a)?Pt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield ir(a)}yield i.X(6e4)}))}}class Ye{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,Me.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.te(a,n))})()}te(n,i){const a=new Set;let u=i,f=!0;return At.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(y=>{if(null!==y&&!a.has(y))return Pt("IndexBackfiller",`Processing collection: ${y}`),this.ne(n,y,u).next(P=>{u-=P,a.add(y)});f=!1})).next(()=>i-u)}ne(n,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,a).next(f=>{const y=f.changes;return this.localStore.indexManager.updateIndexEntries(n,y).next(()=>this.re(u,f)).next(P=>(Pt("IndexBackfiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(n,i,P))).next(()=>y.size)}))}re(n,i){let a=n;return i.changes.forEach((u,f)=>{const y=le(f);kt(y,a)>0&&(a=y)}),new Se(a.readTime,a.documentKey,Math.max(i.batchId,n.largestBatchId))}}let we=(()=>{class c{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=u=>this.ie(u),this.se=u=>a.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return c.oe=-1,c})();function bt(c){return null==c}function ge(c){return 0===c&&1/c==-1/0}function de(c){return"number"==typeof c&&Number.isInteger(c)&&!ge(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function We(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=gn(n)),n=Kt(c.get(i),n);return gn(n)}function Kt(c,n){let i=n;const a=c.length;for(let u=0;u<a;u++){const f=c.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function gn(c){return c+"\x01\x01"}function Dn(c){const n=c.length;if(Yt(n>=2),2===n)return Yt("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),rr.emptyPath();const i=n-2,a=[];let u="";for(let f=0;f<n;){const y=c.indexOf("\x01",f);switch((y<0||y>i)&&Qt(),c.charAt(y+1)){case"\x01":const P=c.substring(f,y);let U;0===u.length?U=P:(u+=P,U=u,u=""),a.push(U);break;case"\x10":u+=c.substring(f,y),u+="\0";break;case"\x11":u+=c.substring(f,y+1);break;default:Qt()}f=y+2}return new rr(a)}const Wn=["userId","batchId"];function Mr(c,n){return[c,We(n)]}function wi(c,n,i){return[c,We(n),i]}const ji={},fr=["prefixPath","collectionGroup","readTime","documentId"],Mi=["prefixPath","collectionGroup","documentId"],Zi=["collectionGroup","readTime","prefixPath","documentId"],oo=["canonicalId","targetId"],ri=["targetId","path"],eo=["path","targetId"],Qi=["collectionId","parent"],to=["indexId","uid"],go=["uid","sequenceNumber"],Jo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],So=["indexId","uid","orderedDocumentKey"],Ss=["userId","collectionPath","documentId"],gs=["userId","collectionPath","largestBatchId"],Zo=["userId","collectionGroup","largestBatchId"],ls=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ii=[...ls,"documentOverlays"],Cs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pi=Cs,Rs=[...Pi,"indexConfiguration","indexState","indexEntries"],Hs=Rs,Gs=[...Rs,"globals"];class Io extends Fn{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function gi(c,n){const i=vt(c);return Jn.F(i._e,n)}function As(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function es(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function ta(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class br{constructor(n,i){this.comparator=n,this.root=i||Hi.EMPTY}insert(n,i){return new br(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(n){return new br(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(n,a.key);if(0===u)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ts(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ts(this.root,n,this.comparator,!1)}getReverseIterator(){return new ts(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ts(this.root,n,this.comparator,!0)}}class ts{constructor(n,i,a,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=i?a(n.key,i):1,i&&u&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Hi{constructor(n,i,a,u,f){this.key=n,this.value=i,this.color=null!=a?a:Hi.RED,this.left=null!=u?u:Hi.EMPTY,this.right=null!=f?f:Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,u,f){return new Hi(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let u=this;const f=a(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,i,a),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Hi.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qt();const n=this.left.check();if(n!==this.right.check())throw Qt();return n+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1,Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw Qt()}get value(){throw Qt()}get color(){throw Qt()}get left(){throw Qt()}get right(){throw Qt()}copy(n,i,a,u,f){return this}insert(n,i,a){return new Hi(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wr{constructor(n){this.comparator=n,this.data=new br(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new O(this.data.getIterator())}getIteratorFrom(n){return new O(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof Wr)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Wr(this.comparator);return i.data=n,i}}class O{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function te(c){return c.hasNext()?c.getNext():void 0}class me{constructor(n){this.fields=n,n.sort(_r.comparator)}static empty(){return new me([])}unionWith(n){let i=new Wr(_r.comparator);for(const a of this.fields)i=i.add(a);for(const a of n)i=i.add(a);return new me(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return ti(this.fields,n.fields,(i,a)=>i.isEqual(a))}}class L extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class It{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new L("Invalid base64 string: "+f):f}}(n);return new It(i)}static fromUint8Array(n){const i=function(u){let f="";for(let y=0;y<u.length;++y)f+=String.fromCharCode(u[y]);return f}(n);return new It(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return An(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}It.EMPTY_BYTE_STRING=new It("");const Kr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function X(c){if(Yt(!!c),"string"==typeof c){let n=0;const i=Kr.exec(c);if(Yt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const a=new Date(c);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:ae(c.seconds),nanos:ae(c.nanos)}}function ae(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Ge(c){return"string"==typeof c?It.fromBase64String(c):It.fromUint8Array(c)}function Ze(c){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==c?void 0:c.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function gt(c){const n=c.mapValue.fields.__previous_value__;return Ze(n)?gt(n):n}function pt(c){const n=X(c.mapValue.fields.__local_write_time__.timestampValue);return new qn(n.seconds,n.nanos)}class sn{constructor(n,i,a,u,f,y,P,U,ee){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=P,this.longPollingOptions=U,this.useFetchStreams=ee}}class an{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new an("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof an&&n.projectId===this.projectId&&n.database===this.database}}const nn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dn={nullValue:"NULL_VALUE"};function Nn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?Ze(c)?4:_i(c)?9007199254740991:Bo(c)?10:11:Qt()}function Bn(c,n){if(c===n)return!0;const i=Nn(c);if(i!==Nn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return pt(c).isEqual(pt(n));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const y=X(u.timestampValue),P=X(f.timestampValue);return y.seconds===P.seconds&&y.nanos===P.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return f=n,Ge(c.bytesValue).isEqual(Ge(f.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,f){return ae(u.geoPointValue.latitude)===ae(f.geoPointValue.latitude)&&ae(u.geoPointValue.longitude)===ae(f.geoPointValue.longitude)}(c,n);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return ae(u.integerValue)===ae(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const y=ae(u.doubleValue),P=ae(f.doubleValue);return y===P?ge(y)===ge(P):isNaN(y)&&isNaN(P)}return!1}(c,n);case 9:return ti(c.arrayValue.values||[],n.arrayValue.values||[],Bn);case 10:case 11:return function(u,f){const y=u.mapValue.fields||{},P=f.mapValue.fields||{};if(As(y)!==As(P))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===P[U]||!Bn(y[U],P[U])))return!1;return!0}(c,n);default:return Qt()}var f}function Yn(c,n){return void 0!==(c.values||[]).find(i=>Bn(i,n))}function ar(c,n){if(c===n)return 0;const i=Nn(c),a=Nn(n);if(i!==a)return An(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return An(c.booleanValue,n.booleanValue);case 2:return function(f,y){const P=ae(f.integerValue||f.doubleValue),U=ae(y.integerValue||y.doubleValue);return P<U?-1:P>U?1:P===U?0:isNaN(P)?isNaN(U)?0:-1:1}(c,n);case 3:return Ur(c.timestampValue,n.timestampValue);case 4:return Ur(pt(c),pt(n));case 5:return An(c.stringValue,n.stringValue);case 6:return function(f,y){const P=Ge(f),U=Ge(y);return P.compareTo(U)}(c.bytesValue,n.bytesValue);case 7:return function(f,y){const P=f.split("/"),U=y.split("/");for(let ee=0;ee<P.length&&ee<U.length;ee++){const ve=An(P[ee],U[ee]);if(0!==ve)return ve}return An(P.length,U.length)}(c.referenceValue,n.referenceValue);case 8:return function(f,y){const P=An(ae(f.latitude),ae(y.latitude));return 0!==P?P:An(ae(f.longitude),ae(y.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Oi(c.arrayValue,n.arrayValue);case 10:return function(f,y){var P,U,ee,ve;const Ht=null===(P=(f.fields||{}).value)||void 0===P?void 0:P.arrayValue,yn=null===(U=(y.fields||{}).value)||void 0===U?void 0:U.arrayValue,jn=An((null===(ee=null==Ht?void 0:Ht.values)||void 0===ee?void 0:ee.length)||0,(null===(ve=null==yn?void 0:yn.values)||void 0===ve?void 0:ve.length)||0);return 0!==jn?jn:Oi(Ht,yn)}(c.mapValue,n.mapValue);case 11:return function(f,y){if(f===nn.mapValue&&y===nn.mapValue)return 0;if(f===nn.mapValue)return 1;if(y===nn.mapValue)return-1;const P=f.fields||{},U=Object.keys(P),ee=y.fields||{},ve=Object.keys(ee);U.sort(),ve.sort();for(let Be=0;Be<U.length&&Be<ve.length;++Be){const _t=An(U[Be],ve[Be]);if(0!==_t)return _t;const Ht=ar(P[U[Be]],ee[ve[Be]]);if(0!==Ht)return Ht}return An(U.length,ve.length)}(c.mapValue,n.mapValue);default:throw Qt()}}function Ur(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return An(c,n);const i=X(c),a=X(n),u=An(i.seconds,a.seconds);return 0!==u?u:An(i.nanos,a.nanos)}function Oi(c,n){const i=c.values||[],a=n.values||[];for(let u=0;u<i.length&&u<a.length;++u){const f=ar(i[u],a[u]);if(f)return f}return An(i.length,a.length)}function Xr(c){return mi(c)}function mi(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const a=X(i);return`time(${a.seconds},${a.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?Ge(c.bytesValue).toBase64():"referenceValue"in c?wn.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let a="[",u=!0;for(const f of i.values||[])u?u=!1:a+=",",a+=mi(f);return a+"]"}(c.arrayValue):"mapValue"in c?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const y of a)f?f=!1:u+=",",u+=`${y}:${mi(i.fields[y])}`;return u+"}"}(c.mapValue):Qt()}function ns(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function mo(c){return!!c&&"integerValue"in c}function zn(c){return!!c&&"arrayValue"in c}function Gi(c){return!!c&&"nullValue"in c}function Uo(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Ms(c){return!!c&&"mapValue"in c}function Bo(c){var n,i;return"__vector__"===(null===(i=((null===(n=null==c?void 0:c.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ms(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return es(c.mapValue.fields,(i,a)=>n.mapValue.fields[i]=ms(a)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ms(c.arrayValue.values[i]);return n}return Object.assign({},c)}function _i(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}const no={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function zo(c){return"nullValue"in c?dn:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?ns(an.empty(),wn.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?Bo(c)?no:{mapValue:{}}:Qt()}function $o(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?ns(an.empty(),wn.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?no:"mapValue"in c?Bo(c)?{mapValue:{}}:nn:Qt()}function Ts(c,n){const i=ar(c.value,n.value);return 0!==i?i:c.inclusive&&!n.inclusive?-1:!c.inclusive&&n.inclusive?1:0}function xa(c,n){const i=ar(c.value,n.value);return 0!==i?i:c.inclusive&&!n.inclusive?1:!c.inclusive&&n.inclusive?-1:0}class uo{constructor(n){this.value=n}static empty(){return new uo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!Ms(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=ms(i)}setAll(n){let i=_r.emptyPath(),a={},u=[];n.forEach((y,P)=>{if(!i.isImmediateParentOf(P)){const U=this.getFieldsMap(i);this.applyChanges(U,a,u),a={},u=[],i=P.popLast()}y?a[P.lastSegment()]=ms(y):u.push(P.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,u)}delete(n){const i=this.field(n.popLast());Ms(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Bn(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let u=i.mapValue.fields[n.get(a)];Ms(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,a){es(i,(u,f)=>n[u]=f);for(const u of a)delete n[u]}clone(){return new uo(ms(this.value))}}function Ro(c){const n=[];return es(c.fields,(i,a)=>{const u=new _r([i]);if(Ms(a)){const f=Ro(a.mapValue).fields;if(0===f.length)n.push(u);else for(const y of f)n.push(u.child(y))}else n.push(u)}),new me(n)}class oi{constructor(n,i,a,u,f,y,P){this.key=n,this.documentType=i,this.version=a,this.readTime=u,this.createTime=f,this.data=y,this.documentState=P}static newInvalidDocument(n){return new oi(n,0,Xn.min(),Xn.min(),Xn.min(),uo.empty(),0)}static newFoundDocument(n,i,a,u){return new oi(n,1,i,Xn.min(),a,u,0)}static newNoDocument(n,i){return new oi(n,2,i,Xn.min(),Xn.min(),uo.empty(),0)}static newUnknownDocument(n,i){return new oi(n,3,i,Xn.min(),Xn.min(),uo.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Xn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=uo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof oi&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Di{constructor(n,i){this.position=n,this.inclusive=i}}function _e(c,n,i){let a=0;for(let u=0;u<c.position.length;u++){const f=n[u],y=c.position[u];if(a=f.field.isKeyField()?wn.comparator(wn.fromName(y.referenceValue),i.key):ar(y,i.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return a}function Ke(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Bn(c.position[i],n.position[i]))return!1;return!0}class Rt{constructor(n,i="asc"){this.field=n,this.dir=i}}function mn(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class xn{}class Tn extends xn{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,a):new Wo(n,i,a):"array-contains"===i?new Xl(n,a):"in"===i?new Dl(n,a):"not-in"===i?new q(n,a):"array-contains-any"===i?new k(n,a):new Tn(n,i,a)}static createKeyFieldInFilter(n,i,a){return"in"===i?new cs(n,a):new Kl(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ar(i,this.value)):null!==i&&Nn(this.value)===Nn(i)&&this.matchesComparison(ar(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends xn{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new tr(n,i)}matches(n){return Bi(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Bi(c){return"and"===c.op}function Xi(c){return"or"===c.op}function lr(c){return rs(c)&&Bi(c)}function rs(c){for(const n of c.filters)if(n instanceof tr)return!1;return!0}function Fr(c){if(c instanceof Tn)return c.field.canonicalString()+c.op.toString()+Xr(c.value);if(lr(c))return c.filters.map(n=>Fr(n)).join(",");{const n=c.filters.map(i=>Fr(i)).join(",");return`${c.op}(${n})`}}function al(c,n){return c instanceof Tn?(a=c,(u=n)instanceof Tn&&a.op===u.op&&a.field.isEqual(u.field)&&Bn(a.value,u.value)):c instanceof tr?function(a,u){return u instanceof tr&&a.op===u.op&&a.filters.length===u.filters.length&&a.filters.reduce((f,y,P)=>f&&al(y,u.filters[P]),!0)}(c,n):void Qt();var a,u}function Wa(c,n){const i=c.filters.concat(n);return tr.create(i,c.op)}function Ci(c){return c instanceof Tn?`${(i=c).field.canonicalString()} ${i.op} ${Xr(i.value)}`:c instanceof tr?function(i){return i.op.toString()+" {"+i.getFilters().map(Ci).join(" ,")+"}"}(c):"Filter";var i}class Wo extends Tn{constructor(n,i,a){super(n,i,a),this.key=wn.fromName(a.referenceValue)}matches(n){const i=wn.comparator(n.key,this.key);return this.matchesComparison(i)}}class cs extends Tn{constructor(n,i){super(n,"in",i),this.keys=ll(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class Kl extends Tn{constructor(n,i){super(n,"not-in",i),this.keys=ll(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ll(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>wn.fromName(a.referenceValue))}class Xl extends Tn{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return zn(i)&&Yn(i.arrayValue,this.value)}}class Dl extends Tn{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Yn(this.value.arrayValue,i)}}class q extends Tn{constructor(n,i){super(n,"not-in",i)}matches(n){if(Yn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Yn(this.value.arrayValue,i)}}class k extends Tn{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!zn(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Yn(this.value.arrayValue,a))}}class ce{constructor(n,i=null,a=[],u=[],f=null,y=null,P=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=f,this.startAt=y,this.endAt=P,this.ue=null}}function G(c,n=null,i=[],a=[],u=null,f=null,y=null){return new ce(c,n,i,a,u,f,y)}function pe(c){const n=vt(c);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>Fr(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),bt(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>Xr(a)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>Xr(a)).join(",")),n.ue=i}return n.ue}function _n(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!mn(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!al(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Ke(c.startAt,n.startAt)&&Ke(c.endAt,n.endAt)}function pr(c){return wn.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function ki(c,n){return c.filters.filter(i=>i instanceof Tn&&i.field.isEqual(n))}function Mo(c,n,i){let a=dn,u=!0;for(const f of ki(c,n)){let y=dn,P=!0;switch(f.op){case"<":case"<=":y=zo(f.value);break;case"==":case"in":case">=":y=f.value;break;case">":y=f.value,P=!1;break;case"!=":case"not-in":y=dn}Ts({value:a,inclusive:u},{value:y,inclusive:P})<0&&(a=y,u=P)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(n)){const y=i.position[f];Ts({value:a,inclusive:u},{value:y,inclusive:i.inclusive})<0&&(a=y,u=i.inclusive);break}return{value:a,inclusive:u}}function _o(c,n,i){let a=nn,u=!0;for(const f of ki(c,n)){let y=nn,P=!0;switch(f.op){case">=":case">":y=$o(f.value),P=!1;break;case"==":case"in":case"<=":y=f.value;break;case"<":y=f.value,P=!1;break;case"!=":case"not-in":y=nn}xa({value:a,inclusive:u},{value:y,inclusive:P})>0&&(a=y,u=P)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(n)){const y=i.position[f];xa({value:a,inclusive:u},{value:y,inclusive:i.inclusive})>0&&(a=y,u=i.inclusive);break}return{value:a,inclusive:u}}class kr{constructor(n,i=null,a=[],u=[],f=null,y="F",P=null,U=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=f,this.limitType=y,this.startAt=P,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function Eo(c,n,i,a,u,f,y,P){return new kr(c,n,i,a,u,f,y,P)}function jo(c){return new kr(c)}function na(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function zs(c){return null!==c.collectionGroup}function _a(c){const n=vt(c);if(null===n.ce){n.ce=[];const i=new Set;for(const f of n.explicitOrderBy)n.ce.push(f),i.add(f.field.canonicalString());const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(y){let P=new Wr(_r.comparator);return y.filters.forEach(U=>{U.getFlattenedFilters().forEach(ee=>{ee.isInequality()&&(P=P.add(ee.field))})}),P})(n).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||n.ce.push(new Rt(f,a))}),i.has(_r.keyField().canonicalString())||n.ce.push(new Rt(_r.keyField(),a))}return n.ce}function Ko(c){const n=vt(c);return n.le||(n.le=function ka(c,n){if("F"===c.limitType)return G(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Rt(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new Di(c.endAt.position,c.endAt.inclusive):null,a=c.startAt?new Di(c.startAt.position,c.startAt.inclusive):null;return G(c.path,c.collectionGroup,n,c.filters,c.limit,i,a)}}(n,_a(c))),n.le}function Ks(c,n){const i=c.filters.concat([n]);return new kr(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function Ka(c,n,i){return new kr(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function ra(c,n){return _n(Ko(c),Ko(n))&&c.limitType===n.limitType}function wr(c){return`${pe(Ko(c))}|lt:${c.limitType}`}function bs(c){return`Query(target=${function(i){let a=i.path.canonicalString();return null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>Ci(u)).join(", ")}]`),bt(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>Xr(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>Xr(u)).join(",")),`Target(${a})`}(Ko(c))}; limitType=${c.limitType})`}function is(c,n){return n.isFoundDocument()&&function(a,u){const f=u.key.path;return null!==a.collectionGroup?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):wn.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(c,n)&&function(a,u){for(const f of _a(a))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(c,n)&&function(a,u){for(const f of a.filters)if(!f.matches(u))return!1;return!0}(c,n)&&(u=n,!((a=c).startAt&&!function(y,P,U){const ee=_e(y,P,U);return y.inclusive?ee<=0:ee<0}(a.startAt,_a(a),u)||a.endAt&&!function(y,P,U){const ee=_e(y,P,U);return y.inclusive?ee>=0:ee>0}(a.endAt,_a(a),u)));var a,u}function _s(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function Xa(c){return(n,i)=>{let a=!1;for(const u of _a(c)){const f=Ic(u,n,i);if(0!==f)return f;a=a||u.field.isKeyField()}return 0}}function Ic(c,n,i){const a=c.field.isKeyField()?wn.comparator(n.key,i.key):function(f,y,P){const U=y.data.field(f),ee=P.data.field(f);return null!==U&&null!==ee?ar(U,ee):Qt()}(c.field,n,i);switch(c.dir){case"asc":return a;case"desc":return-1*a;default:return Qt()}}class Xs{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[u,f]of a)if(this.equalsFn(u,n))return f}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),u=this.inner[a];if(void 0===u)return this.inner[a]=[[n,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return void(u[f]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],n))return 1===a.length?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(n){es(this.inner,(i,a)=>{for(const[u,f]of a)n(u,f)})}isEmpty(){return ta(this.inner)}size(){return this.innerSize}}const Sl=new br(wn.comparator);function ko(){return Sl}const ql=new br(wn.comparator);function Ql(...c){let n=ql;for(const i of c)n=n.insert(i.key,i);return n}function va(c){let n=ql;return c.forEach((i,a)=>n=n.insert(i,a.overlayedDocument)),n}function us(){return Qa()}function qa(){return Qa()}function Qa(){return new Xs(c=>c.toString(),(c,n)=>c.isEqual(n))}const cl=new br(wn.comparator),qs=new Wr(wn.comparator);function xr(...c){let n=qs;for(const i of c)n=n.add(i);return n}const Rl=new Wr(An);function Dr(){return Rl}function Ai(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ge(n)?"-0":n}}function Ec(c){return{integerValue:""+c}}function Fa(c,n){return de(n)?Ec(n):Ai(c,n)}class Ya{constructor(){this._=void 0}}function Yc(c,n,i){return c instanceof Hr?function(u,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ze(f)&&(f=gt(f)),f&&(y.fields.__previous_value__=f),{mapValue:y}}(i,n):c instanceof Xo?ia(c,n):c instanceof qi?Cc(c,n):function(u,f){const y=ya(u,f),P=D(y)+D(u.Pe);return mo(y)&&mo(u.Pe)?Ec(P):Ai(u.serializer,P)}(c,n)}function Po(c,n,i){return c instanceof Xo?ia(c,n):c instanceof qi?Cc(c,n):i}function ya(c,n){return c instanceof os?mo(a=n)||(f=a)&&"doubleValue"in f?n:{integerValue:0}:null;var a,f}class Hr extends Ya{}class Xo extends Ya{constructor(n){super(),this.elements=n}}function ia(c,n){const i=K(n);for(const a of c.elements)i.some(u=>Bn(u,a))||i.push(a);return{arrayValue:{values:i}}}class qi extends Ya{constructor(n){super(),this.elements=n}}function Cc(c,n){let i=K(n);for(const a of c.elements)i=i.filter(u=>!Bn(u,a));return{arrayValue:{values:i}}}class os extends Ya{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function D(c){return ae(c.integerValue||c.doubleValue)}function K(c){return zn(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Ve{constructor(n,i){this.field=n,this.transform=i}}class ye{constructor(n,i){this.version=n,this.transformResults=i}}class $e{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new $e}static exists(n){return new $e(void 0,n)}static updateTime(n){return new $e(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function tn(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class bn{}function Sr(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new ys(c.key,$e.none()):new ci(c.key,c.data,$e.none());{const i=c.data,a=uo.empty();let u=new Wr(_r.comparator);for(let f of n.fields)if(!u.has(f)){let y=i.field(f);null===y&&f.length>1&&(f=f.popLast(),y=i.field(f)),null===y?a.delete(f):a.set(f,y),u=u.add(f)}return new Kn(c.key,a,new me(u.toArray()),$e.none())}}function si(c,n,i){c instanceof ci?function(u,f,y){const P=u.value.clone(),U=Li(u.fieldTransforms,f,y.transformResults);P.setAll(U),f.convertToFoundDocument(y.version,P).setHasCommittedMutations()}(c,n,i):c instanceof Kn?function(u,f,y){if(!tn(u.precondition,f))return void f.convertToUnknownDocument(y.version);const P=Li(u.fieldTransforms,f,y.transformResults),U=f.data;U.setAll(ds(u)),U.setAll(P),f.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Qr(c,n,i,a){return c instanceof ci?function(f,y,P,U){if(!tn(f.precondition,y))return P;const ee=f.value.clone(),ve=vs(f.fieldTransforms,U,y);return ee.setAll(ve),y.convertToFoundDocument(y.version,ee).setHasLocalMutations(),null}(c,n,i,a):c instanceof Kn?function(f,y,P,U){if(!tn(f.precondition,y))return P;const ee=vs(f.fieldTransforms,U,y),ve=y.data;return ve.setAll(ds(f)),ve.setAll(ee),y.convertToFoundDocument(y.version,ve).setHasLocalMutations(),null===P?null:P.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Be=>Be.field))}(c,n,i,a):(P=i,tn(c.precondition,y=n)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):P);var y,P}function Lr(c,n){let i=null;for(const a of c.fieldTransforms){const u=n.data.field(a.field),f=ya(a.transform,u||null);null!=f&&(null===i&&(i=uo.empty()),i.set(a.field,f))}return i||null}function Vr(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(a=c.fieldTransforms)&&void 0===u||a&&u&&ti(a,u,(f,y)=>function H(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(a=c.transform)instanceof Xo&&u instanceof Xo||a instanceof qi&&u instanceof qi?ti(a.elements,u.elements,Bn):a instanceof os&&u instanceof os?Bn(a.Pe,u.Pe):a instanceof Hr&&u instanceof Hr);var a,u}(f,y))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var a,u}class ci extends bn{constructor(n,i,a,u=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Kn extends bn{constructor(n,i,a,u,f=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function ds(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=c.data.field(i);n.set(i,a)}}),n}function Li(c,n,i){const a=new Map;Yt(c.length===i.length);for(let u=0;u<i.length;u++){const f=c[u],y=f.transform,P=n.data.field(f.field);a.set(f.field,Po(y,P,i[u]))}return a}function vs(c,n,i){const a=new Map;for(const u of c){const f=u.transform,y=i.data.field(u.field);a.set(u.field,Yc(f,y,n))}return a}class ys extends bn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Is extends bn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ps{constructor(n,i,a,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(n.key)&&si(f,n,a[u])}}applyToLocalView(n,i){for(const a of this.baseMutations)a.key.isEqual(n.key)&&(i=Qr(a,n,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(n.key)&&(i=Qr(a,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const a=qa();return this.mutations.forEach(u=>{const f=n.get(u.key),y=f.overlayedDocument;let P=this.applyToLocalView(y,f.mutatedFields);P=i.has(u.key)?null:P;const U=Sr(y,P);null!==U&&a.set(u.key,U),y.isValidDocument()||y.convertToNoDocument(Xn.min())}),a}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),xr())}isEqual(n){return this.batchId===n.batchId&&ti(this.mutations,n.mutations,(i,a)=>Vr(i,a))&&ti(this.baseMutations,n.baseMutations,(i,a)=>Vr(i,a))}}class La{constructor(n,i,a,u){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(n,i,a){Yt(n.mutations.length===a.length);let u=function(){return cl}();const f=n.mutations;for(let y=0;y<f.length;y++)u=u.insert(f[y].key,a[y].version);return new La(n,i,a,u)}}class Qs{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ml{constructor(n,i){this.count=n,this.unchangedNames=i}}var Co,Yr;function ul(c){switch(c){default:return Qt();case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0}}function hs(c){if(void 0===c)return Pn("GRPC error has no .code"),Ne.UNKNOWN;switch(c){case Co.OK:return Ne.OK;case Co.CANCELLED:return Ne.CANCELLED;case Co.UNKNOWN:return Ne.UNKNOWN;case Co.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case Co.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case Co.INTERNAL:return Ne.INTERNAL;case Co.UNAVAILABLE:return Ne.UNAVAILABLE;case Co.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case Co.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case Co.NOT_FOUND:return Ne.NOT_FOUND;case Co.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case Co.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case Co.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case Co.ABORTED:return Ne.ABORTED;case Co.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case Co.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case Co.DATA_LOSS:return Ne.DATA_LOSS;default:return Qt()}}(Yr=Co||(Co={}))[Yr.OK=0]="OK",Yr[Yr.CANCELLED=1]="CANCELLED",Yr[Yr.UNKNOWN=2]="UNKNOWN",Yr[Yr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yr[Yr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yr[Yr.NOT_FOUND=5]="NOT_FOUND",Yr[Yr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yr[Yr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yr[Yr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yr[Yr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yr[Yr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yr[Yr.ABORTED=10]="ABORTED",Yr[Yr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yr[Yr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yr[Yr.INTERNAL=13]="INTERNAL",Yr[Yr.UNAVAILABLE=14]="UNAVAILABLE",Yr[Yr.DATA_LOSS=15]="DATA_LOSS";function sa(){return new TextEncoder}const yu=new ft([4294967295,4294967295],0);function Ac(c){const n=sa().encode(c),i=new ht;return i.update(n),new Uint8Array(i.digest())}function Iu(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),a=n.getUint32(4,!0),u=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new ft([i,a],0),new ft([u,f],0)]}class Jc{constructor(n,i,a){if(this.bitmap=n,this.padding=i,this.hashCount=a,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(a<0)throw new dl(`Invalid hash count: ${a}`);if(n.length>0&&0===this.hashCount)throw new dl(`Invalid hash count: ${a}`);if(0===n.length&&0!==i)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=ft.fromNumber(this.Ie)}Ee(n,i,a){let u=n.add(i.multiply(ft.fromNumber(a)));return 1===u.compare(yu)&&(u=new ft([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Ac(n),[a,u]=Iu(i);for(let f=0;f<this.hashCount;f++){const y=this.Ee(a,u,f);if(!this.de(y))return!1}return!0}static create(n,i,a){const u=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),y=new Jc(f,u,i);return a.forEach(P=>y.insert(P)),y}insert(n){if(0===this.Ie)return;const i=Ac(n),[a,u]=Iu(i);for(let f=0;f<this.hashCount;f++){const y=this.Ee(a,u,f);this.Ae(y)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yl{constructor(n,i,a,u,f){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,i,a){const u=new Map;return u.set(n,vo.createSynthesizedTargetChangeForCurrentChange(n,i,a)),new Yl(Xn.min(),u,new br(An),ko(),xr())}}class vo{constructor(n,i,a,u,f){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,i,a){return new vo(a,i,xr(),xr(),xr())}}class Pl{constructor(n,i,a,u){this.Re=n,this.removedTargetIds=i,this.key=a,this.Ve=u}}class ro{constructor(n,i){this.targetId=n,this.me=i}}class rd{constructor(n,i,a=It.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Ol{constructor(){this.fe=0,this.ge=Ia(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=xr(),i=xr(),a=xr();return this.ge.forEach((u,f)=>{switch(f){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:Qt()}}),new vo(this.pe,this.ye,n,i,a)}Ce(){this.we=!1,this.ge=Ia()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Va{constructor(n){this.Le=n,this.Be=new Map,this.ke=ko(),this.qe=vi(),this.Qe=new br(An)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const a=this.Ge(i);switch(n.state){case 0:this.ze(i)&&a.De(n.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(n.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(n.resumeToken));break;default:Qt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((a,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,a=n.me.count,u=this.Je(i);if(u){const f=u.target;if(pr(f))if(0===a){const y=new wn(f.path);this.Ue(i,y,oi.newNoDocument(y,Xn.min()))}else Yt(1===a);else{const y=this.Ye(i);if(y!==a){const P=this.Ze(n),U=P?this.Xe(P,n,y):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let y,P;try{y=Ge(a).toUint8Array()}catch(U){if(U instanceof L)return Sn("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{P=new Jc(y,u,f)}catch(U){return Sn(U instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===P.Ie?null:P}Xe(n,i,a){return i.me.count===a-this.nt(n,i.targetId)?0:2}nt(n,i){const a=this.Le.getRemoteKeysForTarget(i);let u=0;return a.forEach(f=>{const y=this.Le.tt(),P=`projects/${y.projectId}/databases/${y.database}/documents/${f.path.canonicalString()}`;n.mightContain(P)||(this.Ue(i,f,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((f,y)=>{const P=this.Je(y);if(P){if(f.current&&pr(P.target)){const U=new wn(P.target.path);null!==this.ke.get(U)||this.it(y,U)||this.Ue(y,U,oi.newNoDocument(U,n))}f.be&&(i.set(y,f.ve()),f.Ce())}});let a=xr();this.qe.forEach((f,y)=>{let P=!0;y.forEachWhile(U=>{const ee=this.Je(U);return!ee||"TargetPurposeLimboResolution"===ee.purpose||(P=!1,!1)}),P&&(a=a.add(f))}),this.ke.forEach((f,y)=>y.setReadTime(n));const u=new Yl(n,i,this.Qe,this.ke,a);return this.ke=ko(),this.qe=vi(),this.Qe=new br(An),u}$e(n,i){if(!this.ze(n))return;const a=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,a){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new Ol,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new Wr(An),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||Pt("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new Ol),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function vi(){return new br(wn.comparator)}function Ia(){return new br(wn.comparator)}const Bd={asc:"ASCENDING",desc:"DESCENDING"},Tc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bc={and:"AND",or:"OR"};class Ua{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Os(c,n){return c.useProto3Json||bt(n)?n:{value:n}}function qo(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ns(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function wc(c,n){return qo(c,n.toTimestamp())}function so(c){return Yt(!!c),Xn.fromTimestamp(function(i){const a=X(i);return new qn(a.seconds,a.nanos)}(c))}function Jl(c,n){return Ba(c,n).canonicalString()}function Ba(c,n){const i=(u=c,new rr(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function Zc(c){const n=rr.fromString(c);return Yt(Ao(n)),n}function $a(c,n){return Jl(c.databaseId,n.path)}function aa(c,n){const i=Zc(n);if(i.get(1)!==c.databaseId.projectId)throw new je(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new je(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new wn(Ys(i))}function eu(c,n){return Jl(c.databaseId,n)}function Eu(c){const n=Zc(c);return 4===n.length?rr.emptyPath():Ys(n)}function Dc(c){return new rr(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Ys(c){return Yt(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function id(c,n,i){return{name:$a(c,n),fields:i.value.mapValue.fields}}function Cu(c,n,i){const a=aa(c,n.name),u=so(n.updateTime),f=n.createTime?so(n.createTime):Xn.min(),y=new uo({mapValue:{fields:n.fields}}),P=oi.newFoundDocument(a,u,f,y);return i&&P.setHasCommittedMutations(),i?P.setHasCommittedMutations():P}function F(c,n){let i;if(n instanceof ci)i={update:id(c,n.key,n.value)};else if(n instanceof ys)i={delete:$a(c,n.key)};else if(n instanceof Kn)i={update:id(c,n.key,n.data),updateMask:Oo(n.fieldMask)};else{if(!(n instanceof Is))return Qt();i={verify:$a(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(f,y){const P=y.transform;if(P instanceof Hr)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(P instanceof Xo)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:P.elements}};if(P instanceof qi)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:P.elements}};if(P instanceof os)return{fieldPath:y.field.canonicalString(),increment:P.Pe};throw Qt()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:wc(c,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Qt()),i;var f}function S(c,n){const i=n.currentDocument?void 0!==(f=n.currentDocument).updateTime?$e.updateTime(so(f.updateTime)):void 0!==f.exists?$e.exists(f.exists):$e.none():$e.none(),a=n.updateTransforms?n.updateTransforms.map(u=>function(y,P){let U=null;"setToServerValue"in P?(Yt("REQUEST_TIME"===P.setToServerValue),U=new Hr):"appendMissingElements"in P?U=new Xo(P.appendMissingElements.values||[]):"removeAllFromArray"in P?U=new qi(P.removeAllFromArray.values||[]):"increment"in P?U=new os(y,P.increment):Qt();const ee=_r.fromServerFormat(P.fieldPath);return new Ve(ee,U)}(c,u)):[];var f;if(n.update){const u=aa(c,n.update.name),f=new uo({mapValue:{fields:n.update.fields}});if(n.updateMask){const y=new me((n.updateMask.fieldPaths||[]).map(ve=>_r.fromServerFormat(ve)));return new Kn(u,f,y,i,a)}return new ci(u,f,i,a)}if(n.delete){const u=aa(c,n.delete);return new ys(u,i)}if(n.verify){const u=aa(c,n.verify);return new Is(u,i)}return Qt()}function fe(c,n){return{documents:[eu(c,n.path)]}}function Ce(c,n){const i={structuredQuery:{}},a=n.path;let u;null!==n.collectionGroup?(u=a,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=eu(c,u);const f=function(ee){if(0!==ee.length)return Si(tr.create(ee,"and"))}(n.filters);f&&(i.structuredQuery.where=f);const y=function(ee){if(0!==ee.length)return ee.map(ve=>{return{field:$i((_t=ve).field),direction:Or(_t.dir)};var _t})}(n.orderBy);y&&(i.structuredQuery.orderBy=y);const P=Os(c,n.limit);return null!==P&&(i.structuredQuery.limit=P),n.startAt&&(i.structuredQuery.startAt={before:(ee=n.startAt).inclusive,values:ee.position}),n.endAt&&(i.structuredQuery.endAt=function(ee){return{before:!ee.inclusive,values:ee.position}}(n.endAt)),{_t:i,parent:u};var ee}function pn(c){let n=Eu(c.parent);const i=c.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Yt(1===a);const ve=i.from[0];ve.allDescendants?u=ve.collectionId:n=n.child(ve.collectionId)}let f=[];i.where&&(f=function(Be){const _t=Qn(Be);return _t instanceof tr&&lr(_t)?_t.getFilters():[_t]}(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(_t=>{return new Rt(Er((yn=_t).field),function(On){switch(On){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(yn.direction));var yn}));let P=null;i.limit&&(P=function(Be){let _t;return _t="object"==typeof Be?Be.value:Be,bt(_t)?null:_t}(i.limit));let U=null;var Be;i.startAt&&(U=new Di((Be=i.startAt).values||[],!!Be.before));let ee=null;return i.endAt&&(ee=function(Be){return new Di(Be.values||[],!Be.before)}(i.endAt)),Eo(n,u,y,f,P,"F",U,ee)}function Qn(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Er(i.unaryFilter.field);return Tn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=Er(i.unaryFilter.field);return Tn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Er(i.unaryFilter.field);return Tn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Er(i.unaryFilter.field);return Tn.create(y,"!=",{nullValue:"NULL_VALUE"});default:return Qt()}}(c):void 0!==c.fieldFilter?Tn.create(Er((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return tr.create(i.compositeFilter.filters.map(a=>Qn(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Qt()}}(i.compositeFilter.op))}(c):Qt();var i}function Or(c){return Bd[c]}function Ti(c){return Tc[c]}function Br(c){return bc[c]}function $i(c){return{fieldPath:c.canonicalString()}}function Er(c){return _r.fromServerFormat(c.fieldPath)}function Si(c){return c instanceof Tn?function(i){if("=="===i.op){if(Uo(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NAN"}};if(Gi(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Uo(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NOT_NAN"}};if(Gi(i.value))return{unaryFilter:{field:$i(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(i.field),op:Ti(i.op),value:i.value}}}(c):c instanceof tr?function(i){const a=i.getFilters().map(u=>Si(u));return 1===a.length?a[0]:{compositeFilter:{op:Br(i.op),filters:a}}}(c):Qt()}function Oo(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function Ao(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Yi{constructor(n,i,a,u,f=Xn.min(),y=Xn.min(),P=It.EMPTY_BYTE_STRING,U=null){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=P,this.expectedCount=U}withSequenceNumber(n){return new Yi(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class hl{constructor(n){this.ct=n}}function fl(c,n){const i=n.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Ea(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())a.document={name:$a(f=c.ct,(y=n).key),fields:y.data.value.mapValue.fields,updateTime:qo(f,y.version.toTimestamp()),createTime:qo(f,y.createTime.toTimestamp())};else if(n.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:pl(n.version)};else{if(!n.isUnknownDocument())return Qt();a.unknownDocument={path:i.path.toArray(),version:pl(n.version)}}var f,y;return a}function Ea(c){const n=c.toTimestamp();return[n.seconds,n.nanoseconds]}function pl(c){const n=c.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function ja(c){const n=new qn(c.seconds,c.nanoseconds);return Xn.fromTimestamp(n)}function gl(c,n){const i=(n.baseMutations||[]).map(f=>S(c.ct,f));for(let f=0;f<n.mutations.length-1;++f)f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(n.mutations[f].updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f);const a=n.mutations.map(f=>S(c.ct,f)),u=qn.fromMillis(n.localWriteTimeMs);return new Ps(n.batchId,u,i,a)}function Zl(c){const n=ja(c.readTime),i=void 0!==c.lastLimboFreeSnapshotVersion?ja(c.lastLimboFreeSnapshotVersion):Xn.min();let a;return a=void 0!==c.query.documents?(Yt(1===(f=c.query).documents.length),Ko(jo(Eu(f.documents[0])))):function(f){return Ko(pn(f))}(c.query),new Yi(a,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,n,i,It.fromBase64String(c.resumeToken));var f}function ml(c,n){const i=pl(n.snapshotVersion),a=pl(n.lastLimboFreeSnapshotVersion);let u;u=pr(n.target)?fe(c.ct,n.target):Ce(c.ct,n.target)._t;const f=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:pe(n.target),readTime:i,resumeToken:f,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:u}}function Nl(c){const n=pn({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Ka(n,n.limit,"L"):n}function $d(c,n){return new Qs(n.largestBatchId,S(c.ct,n.overlayMutation))}function Au(c,n){const i=n.path.lastSegment();return[c,We(n.path.popLast()),i]}function jd(c,n,i,a){return{indexId:c,uid:n,sequenceNumber:i,readTime:pl(a.readTime),documentKey:We(a.documentKey.path),largestBatchId:a.largestBatchId}}class tu{getBundleMetadata(n,i){return Tu(n).get(i).next(a=>{if(a)return{id:(f=a).bundleId,createTime:ja(f.createTime),version:f.version};var f})}saveBundleMetadata(n,i){return Tu(n).put({bundleId:(u=i).id,createTime:pl(so(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return od(n).get(i).next(a=>{if(a)return{name:(f=a).name,query:Nl(f.bundledQuery),readTime:ja(f.readTime)};var f})}saveNamedQuery(n,i){return od(n).put({name:(u=i).name,readTime:pl(so(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Tu(c){return gi(c,"bundles")}function od(c){return gi(c,"namedQueries")}class Ja{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Ja(n,i.uid||"")}getOverlay(n,i){return ec(n).get(Au(this.userId,i)).next(a=>a?$d(this.serializer,a):null)}getOverlays(n,i){const a=us();return At.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&a.set(u,f)})).next(()=>a)}saveOverlays(n,i,a){const u=[];return a.forEach((f,y)=>{const P=new Qs(i,y);u.push(this.ht(n,P))}),At.waitFor(u)}removeOverlaysForBatchId(n,i,a){const u=new Set;i.forEach(y=>u.add(We(y.getCollectionPath())));const f=[];return u.forEach(y=>{const P=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,a+1],!1,!0);f.push(ec(n).j("collectionPathOverlayIndex",P))}),At.waitFor(f)}getOverlaysForCollection(n,i,a){const u=us(),f=We(i),y=IDBKeyRange.bound([this.userId,f,a],[this.userId,f,Number.POSITIVE_INFINITY],!0);return ec(n).U("collectionPathOverlayIndex",y).next(P=>{for(const U of P){const ee=$d(this.serializer,U);u.set(ee.getKey(),ee)}return u})}getOverlaysForCollectionGroup(n,i,a,u){const f=us();let y;const P=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ec(n).J({index:"collectionGroupOverlayIndex",range:P},(U,ee,ve)=>{const Be=$d(this.serializer,ee);f.size()<u||Be.largestBatchId===y?(f.set(Be.getKey(),Be),y=Be.largestBatchId):ve.done()}).next(()=>f)}ht(n,i){return ec(n).put(function(u,f,y){const[P,U,ee]=Au(f,y.mutation.key);return{userId:f,collectionPath:U,documentId:ee,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:F(u.ct,y.mutation)}}(this.serializer,this.userId,i))}}function ec(c){return gi(c,"documentOverlays")}class sd{Pt(n){return gi(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const a=null==i?void 0:i.value;return a?It.fromUint8Array(a):It.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class Ca{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(ae(n.integerValue));else if("doubleValue"in n){const a=ae(n.doubleValue);isNaN(a)?this.dt(i,13):(this.dt(i,15),ge(a)?i.At(0):i.At(a))}else if("timestampValue"in n){let a=n.timestampValue;this.dt(i,20),"string"==typeof a&&(a=X(a)),i.Rt(`${a.seconds||""}`),i.At(a.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(Ge(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const a=n.geoPointValue;this.dt(i,45),i.At(a.latitude||0),i.At(a.longitude||0)}else"mapValue"in n?_i(n)?this.dt(i,Number.MAX_SAFE_INTEGER):Bo(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):Qt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const a=n.fields||{};this.dt(i,55);for(const u of Object.keys(a))this.Vt(u,i),this.Tt(a[u],i)}wt(n,i){var a,u;const f=n.fields||{};this.dt(i,53);const y="value",P=(null===(u=null===(a=f[y].arrayValue)||void 0===a?void 0:a.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(ae(P)),this.Vt(y,i),this.Tt(f[y],i)}bt(n,i){const a=n.values||[];this.dt(i,50);for(const u of a)this.Tt(u,i)}yt(n,i){this.dt(i,37),wn.fromName(n).path.forEach(a=>{this.dt(i,60),this.Dt(a,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function Xh(c){if(0===c)return 8;let n=0;return!(c>>4)&&(n+=4,c<<=4),!(c>>6)&&(n+=2,c<<=2),!(c>>7)&&(n+=1),n}function Rc(c){const n=64-function(a){let u=0;for(let f=0;f<8;++f){const y=Xh(255&a[f]);if(u+=y,8!==y)break}return u}(c);return Math.ceil(n/8)}Ca.vt=new Ca;class Mc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ft(a.value),a=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ot(a.value),a=i.next();this.Nt()}Lt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),a=Rc(i);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let u=i.length-a;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),a=Rc(i);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let u=i.length-a;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(f){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,f,!1),new Uint8Array(y.buffer)}(n),a=!!(128&i[0]);i[0]^=a?255:128;for(let u=1;u<i.length;++u)i[u]^=a?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const u=new Uint8Array(a);u.set(this.buffer),this.buffer=u}}class Aa{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Za{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class tc{constructor(){this.jt=new Mc,this.Ht=new Aa(this.jt),this.Jt=new Za(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class nc{constructor(n,i,a,u){this.indexId=n,this.documentKey=i,this.arrayValue=a,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==n?a.set([0],this.directionalValue.length):++a[a.length-1],new nc(this.indexId,this.documentKey,this.arrayValue,a)}}function el(c,n){let i=c.indexId-n.indexId;return 0!==i?i:(i=nu(c.arrayValue,n.arrayValue),0!==i?i:(i=nu(c.directionalValue,n.directionalValue),0!==i?i:wn.comparator(c.documentKey,n.documentKey)))}function nu(c,n){for(let i=0;i<c.length&&i<n.length;++i){const a=c[i]-n[i];if(0!==a)return a}return c.length-n.length}class _l{constructor(n){this.Xt=new Wr((i,a)=>_r.comparator(i.field,a.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const a=i;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(n){if(Yt(n.collectionGroup===this.collectionId),this.nn)return!1;const i=Wt(n);if(void 0!==i&&!this.sn(i))return!1;const a=Tt(n);let u=new Set,f=0,y=0;for(;f<a.length&&this.sn(a[f]);++f)u=u.add(a[f].fieldPath.canonicalString());if(f===a.length)return!0;if(this.Xt.size>0){const P=this.Xt.getIterator().getNext();if(!u.has(P.field.canonicalString())){const U=a[f];if(!this.on(P,U)||!this._n(this.en[y++],U))return!1}++f}for(;f<a.length;++f)if(y>=this.en.length||!this._n(this.en[y++],a[f]))return!1;return!0}an(){if(this.nn)return null;let n=new Wr(_r.comparator);const i=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)i.push(new Te(a.field,2));else{if(n.has(a.field))continue;n=n.add(a.field),i.push(new Te(a.field,0))}for(const a of this.en)a.field.isKeyField()||n.has(a.field)||(n=n.add(a.field),i.push(new Te(a.field,"asc"===a.dir?0:1)));return new di(di.UNKNOWN_ID,this.collectionId,i,W.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Hd(c){var n,i;if(Yt(c instanceof Tn||c instanceof tr),c instanceof Tn){if(c instanceof Dl){const u=(null===(i=null===(n=c.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(f=>Tn.create(c.field,"==",f)))||[];return tr.create(u,"or")}return c}const a=c.filters.map(u=>Hd(u));return tr.create(a,c.op)}function Gd(c){if(0===c.getFilters().length)return[];const n=wu(Hd(c));return Yt(zd(n)),bu(n)||Pc(n)?[n]:n.getFilters()}function bu(c){return c instanceof Tn}function Pc(c){return c instanceof tr&&lr(c)}function zd(c){return bu(c)||Pc(c)||function(i){if(i instanceof tr&&Xi(i)){for(const a of i.getFilters())if(!bu(a)&&!Pc(a))return!1;return!0}return!1}(c)}function wu(c){if(Yt(c instanceof Tn||c instanceof tr),c instanceof Tn)return c;if(1===c.filters.length)return wu(c.filters[0]);const n=c.filters.map(a=>wu(a));let i=tr.create(n,c.op);return i=ic(i),zd(i)?i:(Yt(i instanceof tr),Yt(Bi(i)),Yt(i.filters.length>1),i.filters.reduce((a,u)=>rc(a,u)))}function rc(c,n){let i;return Yt(c instanceof Tn||c instanceof tr),Yt(n instanceof Tn||n instanceof tr),i=c instanceof Tn?n instanceof Tn?tr.create([c,n],"and"):Ta(c,n):n instanceof Tn?Ta(n,c):function(u,f){if(Yt(u.filters.length>0&&f.filters.length>0),Bi(u)&&Bi(f))return Wa(u,f.getFilters());const y=Xi(u)?u:f,P=Xi(u)?f:u,U=y.filters.map(ee=>rc(ee,P));return tr.create(U,"or")}(c,n),ic(i)}function Ta(c,n){if(Bi(n))return Wa(n,c.getFilters());{const i=n.filters.map(a=>rc(c,a));return tr.create(i,"or")}}function ic(c){if(Yt(c instanceof Tn||c instanceof tr),c instanceof Tn)return c;const n=c.getFilters();if(1===n.length)return ic(n[0]);if(rs(c))return c;const i=n.map(u=>ic(u)),a=[];return i.forEach(u=>{u instanceof Tn?a.push(u):u instanceof tr&&(u.op===c.op?a.push(...u.filters):a.push(u))}),1===a.length?a[0]:tr.create(a,c.op)}class Du{constructor(){this.un=new Fo}addToCollectionParentIndex(n,i){return this.un.add(i),At.resolve()}getCollectionParents(n,i){return At.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return At.resolve()}deleteFieldIndex(n,i){return At.resolve()}deleteAllFieldIndexes(n){return At.resolve()}createTargetIndexes(n,i){return At.resolve()}getDocumentsMatchingTarget(n,i){return At.resolve(null)}getIndexType(n,i){return At.resolve(0)}getFieldIndexes(n,i){return At.resolve([])}getNextCollectionGroupToUpdate(n){return At.resolve(null)}getMinOffset(n,i){return At.resolve(Se.min())}getMinOffsetFromCollectionGroup(n,i){return At.resolve(Se.min())}updateCollectionGroup(n,i,a){return At.resolve()}updateIndexEntries(n,i){return At.resolve()}}class Fo{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),u=this.index[i]||new Wr(rr.comparator),f=!u.has(a);return this.index[i]=u.add(a),f}has(n){const i=n.lastSegment(),a=n.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(n){return(this.index[n]||new Wr(rr.comparator)).toArray()}}const Su=new Uint8Array(0);class ad{constructor(n,i){this.databaseId=i,this.cn=new Fo,this.ln=new Xs(a=>pe(a),(a,u)=>_n(a,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const a=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:a,parent:We(u)};return Oc(n).put(f)}return At.resolve()}getCollectionParents(n,i){const a=[],u=IDBKeyRange.bound([i,""],[Un(i),""],!1,!0);return Oc(n).U(u).next(f=>{for(const y of f){if(y.collectionId!==i)break;a.push(Dn(y.parent))}return a})}addFieldIndex(n,i){const a=oc(n),u={indexId:(P=i).indexId,collectionGroup:P.collectionGroup,fields:P.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var P;delete u.indexId;const f=a.add(u);if(i.indexState){const y=kl(n);return f.next(P=>{y.put(jd(P,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(n,i){const a=oc(n),u=kl(n),f=xl(n);return a.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=oc(n),a=xl(n),u=kl(n);return i.j().next(()=>a.j()).next(()=>u.j())}createTargetIndexes(n,i){return At.forEach(this.hn(i),a=>this.getIndexType(n,a).next(u=>{if(0===u||1===u){const f=new _l(a).an();if(null!=f)return this.addFieldIndex(n,f)}}))}getDocumentsMatchingTarget(n,i){const a=xl(n);let u=!0;const f=new Map;return At.forEach(this.hn(i),y=>this.Pn(n,y).next(P=>{u&&(u=!!P),f.set(y,P)})).next(()=>{if(u){let y=xr();const P=[];return At.forEach(f,(U,ee)=>{var Cr;Pt("IndexedDbIndexManager",`Using index ${Cr=U,`id=${Cr.indexId}|cg=${Cr.collectionGroup}|f=${Cr.fields.map(zr=>`${zr.fieldPath}:${zr.kind}`).join(",")}`} to execute ${pe(i)}`);const ve=function(Cr,zr){const zi=Wt(zr);if(void 0===zi)return null;for(const Zr of ki(Cr,zi.fieldPath))switch(Zr.op){case"array-contains-any":return Zr.value.arrayValue.values||[];case"array-contains":return[Zr.value]}return null}(ee,U),Be=function(Cr,zr){const zi=new Map;for(const Zr of Tt(zr))for(const $t of ki(Cr,Zr.fieldPath))switch($t.op){case"==":case"in":zi.set(Zr.fieldPath.canonicalString(),$t.value);break;case"not-in":case"!=":return zi.set(Zr.fieldPath.canonicalString(),$t.value),Array.from(zi.values())}return null}(ee,U),_t=function(Cr,zr){const zi=[];let Zr=!0;for(const $t of Tt(zr)){const dt=0===$t.kind?Mo(Cr,$t.fieldPath,Cr.startAt):_o(Cr,$t.fieldPath,Cr.startAt);zi.push(dt.value),Zr&&(Zr=dt.inclusive)}return new Di(zi,Zr)}(ee,U),Ht=function(Cr,zr){const zi=[];let Zr=!0;for(const $t of Tt(zr)){const dt=0===$t.kind?_o(Cr,$t.fieldPath,Cr.endAt):Mo(Cr,$t.fieldPath,Cr.endAt);zi.push(dt.value),Zr&&(Zr=dt.inclusive)}return new Di(zi,Zr)}(ee,U),yn=this.In(U,ee,_t),jn=this.In(U,ee,Ht),On=this.Tn(U,ee,Be),Ir=this.En(U.indexId,ve,yn,_t.inclusive,jn,Ht.inclusive,On);return At.forEach(Ir,Nr=>a.G(Nr,i.limit).next(Cr=>{Cr.forEach(zr=>{const zi=wn.fromSegments(zr.documentKey);y.has(zi)||(y=y.add(zi),P.push(zi))})}))}).next(()=>P)}return At.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:Gd(tr.create(n.filters,"and")).map(a=>G(n.path,n.collectionGroup,n.orderBy,a.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,a,u,f,y,P){const U=(null!=i?i.length:1)*Math.max(a.length,f.length),ee=U/(null!=i?i.length:1),ve=[];for(let Be=0;Be<U;++Be){const _t=i?this.dn(i[Be/ee]):Su,Ht=this.An(n,_t,a[Be%ee],u),yn=this.Rn(n,_t,f[Be%ee],y),jn=P.map(On=>this.An(n,_t,On,!0));ve.push(...this.createRange(Ht,yn,jn))}return ve}An(n,i,a,u){const f=new nc(n,wn.empty(),i,a);return u?f:f.Zt()}Rn(n,i,a,u){const f=new nc(n,wn.empty(),i,a);return u?f.Zt():f}Pn(n,i){const a=new _l(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(f=>{let y=null;for(const P of f)a.rn(P)&&(!y||P.fields.length>y.fields.length)&&(y=P);return y})}getIndexType(n,i){let a=2;const u=this.hn(i);return At.forEach(u,f=>this.Pn(n,f).next(y=>{y?0!==a&&y.fields.length<function(U){let ee=new Wr(_r.comparator),ve=!1;for(const Be of U.filters)for(const _t of Be.getFlattenedFilters())_t.field.isKeyField()||("array-contains"===_t.op||"array-contains-any"===_t.op?ve=!0:ee=ee.add(_t.field));for(const Be of U.orderBy)Be.field.isKeyField()||(ee=ee.add(Be.field));return ee.size+(ve?1:0)}(f)&&(a=1):a=0})).next(()=>null!==i.limit&&u.length>1&&2===a?1:a)}Vn(n,i){const a=new tc;for(const u of Tt(n)){const f=i.data.field(u.fieldPath);if(null==f)return null;const y=a.Yt(u.kind);Ca.vt.It(f,y)}return a.zt()}dn(n){const i=new tc;return Ca.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const a=new tc;return Ca.vt.It(ns(this.databaseId,i),a.Yt(function(f){const y=Tt(f);return 0===y.length?0:y[y.length-1].kind}(n))),a.zt()}Tn(n,i,a){if(null===a)return[];let u=[];u.push(new tc);let f=0;for(const y of Tt(n)){const P=a[f++];for(const U of u)if(this.fn(i,y.fieldPath)&&zn(P))u=this.gn(u,y,P);else{const ee=U.Yt(y.kind);Ca.vt.It(P,ee)}}return this.pn(u)}In(n,i,a){return this.Tn(n,i,a.position)}pn(n){const i=[];for(let a=0;a<n.length;++a)i[a]=n[a].zt();return i}gn(n,i,a){const u=[...n],f=[];for(const y of a.arrayValue.values||[])for(const P of u){const U=new tc;U.seed(P.zt()),Ca.vt.It(y,U.Yt(i.kind)),f.push(U)}return f}fn(n,i){return!!n.filters.find(a=>a instanceof Tn&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(n,i){const a=oc(n),u=kl(n);return(i?a.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.U()).next(f=>{const y=[];return At.forEach(f,P=>u.get([P.indexId,this.uid]).next(U=>{y.push(function(ve,Be){const _t=Be?new W(Be.sequenceNumber,new Se(ja(Be.readTime),new wn(Dn(Be.documentKey)),Be.largestBatchId)):W.empty(),Ht=ve.fields.map(([yn,jn])=>new Te(_r.fromServerFormat(yn),jn));return new di(ve.indexId,ve.collectionGroup,Ht,_t)}(P,U))})).next(()=>y)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((a,u)=>{const f=a.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:An(a.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,a){const u=oc(n),f=kl(n);return this.yn(n).next(y=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(P=>At.forEach(P,U=>f.put(jd(U.indexId,this.uid,y,a)))))}updateIndexEntries(n,i){const a=new Map;return At.forEach(i,(u,f)=>{const y=a.get(u.collectionGroup);return(y?At.resolve(y):this.getFieldIndexes(n,u.collectionGroup)).next(P=>(a.set(u.collectionGroup,P),At.forEach(P,U=>this.wn(n,u,U).next(ee=>{const ve=this.Sn(f,U);return ee.isEqual(ve)?At.resolve():this.bn(n,f,U,ee,ve)}))))})}Dn(n,i,a,u){return xl(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(a,i.key),documentKey:i.key.path.toArray()})}vn(n,i,a,u){return xl(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(a,i.key),i.key.path.toArray()])}wn(n,i,a){const u=xl(n);let f=new Wr(el);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,i)])},(y,P)=>{f=f.add(new nc(a.indexId,i,P.arrayValue,P.directionalValue))}).next(()=>f)}Sn(n,i){let a=new Wr(el);const u=this.Vn(i,n);if(null==u)return a;const f=Wt(i);if(null!=f){const y=n.data.field(f.fieldPath);if(zn(y))for(const P of y.arrayValue.values||[])a=a.add(new nc(i.indexId,n.key,this.dn(P),u))}else a=a.add(new nc(i.indexId,n.key,Su,u));return a}bn(n,i,a,u,f){Pt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const y=[];return function(U,ee,ve,Be,_t){const Ht=U.getIterator(),yn=ee.getIterator();let jn=te(Ht),On=te(yn);for(;jn||On;){let Ir=!1,Nr=!1;if(jn&&On){const Cr=ve(jn,On);Cr<0?Nr=!0:Cr>0&&(Ir=!0)}else null!=jn?Nr=!0:Ir=!0;Ir?(Be(On),On=te(yn)):Nr?(_t(jn),jn=te(Ht)):(jn=te(Ht),On=te(yn))}}(u,f,el,P=>{y.push(this.Dn(n,i,a,P))},P=>{y.push(this.vn(n,i,a,P))}),At.waitFor(y)}yn(n){let i=1;return kl(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,a){a=a.sort((y,P)=>el(y,P)).filter((y,P,U)=>!P||0!==el(y,U[P-1]));const u=[];u.push(n);for(const y of a){const P=el(y,n),U=el(y,i);if(0===P)u[0]=n.Zt();else if(P>0&&U<0)u.push(y),u.push(y.Zt());else if(U>0)break}u.push(i);const f=[];for(let y=0;y<u.length;y+=2){if(this.Cn(u[y],u[y+1]))return[];f.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,Su,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,Su,[]]))}return f}Cn(n,i){return el(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(ld)}getMinOffset(n,i){return At.mapArray(this.hn(i),a=>this.Pn(n,a).next(u=>u||Qt())).next(ld)}}function Oc(c){return gi(c,"collectionParents")}function xl(c){return gi(c,"indexEntries")}function oc(c){return gi(c,"indexConfiguration")}function kl(c){return gi(c,"indexState")}function ld(c){Yt(0!==c.length);let n=c[0].indexState.offset,i=n.largestBatchId;for(let a=1;a<c.length;a++){const u=c[a].indexState.offset;kt(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Se(n.readTime,n.documentKey,i)}const Ru={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new ws(n,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ru(c,n,i){const a=c.store("mutations"),u=c.store("documentMutations"),f=[],y=IDBKeyRange.only(i.batchId);let P=0;const U=a.J({range:y},(ve,Be,_t)=>(P++,_t.delete()));f.push(U.next(()=>{Yt(1===P)}));const ee=[];for(const ve of i.mutations){const Be=wi(n,ve.key.path,i.batchId);f.push(u.delete(Be)),ee.push(ve.key)}return At.waitFor(f).next(()=>ee)}function Fl(c){if(!c)return 0;let n;if(c.document)n=c.document;else if(c.unknownDocument)n=c.unknownDocument;else{if(!c.noDocument)throw Qt();n=c.noDocument}return JSON.stringify(n).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class io{constructor(n,i,a,u){this.userId=n,this.serializer=i,this.indexManager=a,this.referenceDelegate=u,this.Fn={}}static lt(n,i,a,u){Yt(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new io(f,i,a,u)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gr(n).J({index:"userMutationsIndex",range:a},(u,f,y)=>{i=!1,y.done()}).next(()=>i)}addMutationBatch(n,i,a,u){const f=ao(n),y=gr(n);return y.add({}).next(P=>{Yt("number"==typeof P);const U=new Ps(P,i,a,u),ee=function(Ht,yn,jn){const On=jn.baseMutations.map(Nr=>F(Ht.ct,Nr)),Ir=jn.mutations.map(Nr=>F(Ht.ct,Nr));return{userId:yn,batchId:jn.batchId,localWriteTimeMs:jn.localWriteTime.toMillis(),baseMutations:On,mutations:Ir}}(this.serializer,this.userId,U),ve=[];let Be=new Wr((_t,Ht)=>An(_t.canonicalString(),Ht.canonicalString()));for(const _t of u){const Ht=wi(this.userId,_t.key.path,P);Be=Be.add(_t.key.path.popLast()),ve.push(y.put(ee)),ve.push(f.put(Ht,ji))}return Be.forEach(_t=>{ve.push(this.indexManager.addToCollectionParentIndex(n,_t))}),n.addOnCommittedListener(()=>{this.Fn[P]=U.keys()}),At.waitFor(ve).next(()=>U)})}lookupMutationBatch(n,i){return gr(n).get(i).next(a=>a?(Yt(a.userId===this.userId),gl(this.serializer,a)):null)}Mn(n,i){return this.Fn[i]?At.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const u=a.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,u=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return gr(n).J({index:"userMutationsIndex",range:u},(y,P,U)=>{P.userId===this.userId&&(Yt(P.batchId>=a),f=gl(this.serializer,P)),U.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return gr(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,y)=>{a=f.batchId,y.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gr(n).U("userMutationsIndex",i).next(a=>a.map(u=>gl(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=Mr(this.userId,i.path),u=IDBKeyRange.lowerBound(a),f=[];return ao(n).J({range:u},(y,P,U)=>{const[ee,ve,Be]=y,_t=Dn(ve);if(ee===this.userId&&i.path.isEqual(_t))return gr(n).get(Be).next(Ht=>{if(!Ht)throw Qt();Yt(Ht.userId===this.userId),f.push(gl(this.serializer,Ht))});U.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new Wr(An);const u=[];return i.forEach(f=>{const y=Mr(this.userId,f.path),P=IDBKeyRange.lowerBound(y),U=ao(n).J({range:P},(ee,ve,Be)=>{const[_t,Ht,yn]=ee,jn=Dn(Ht);_t===this.userId&&f.path.isEqual(jn)?a=a.add(yn):Be.done()});u.push(U)}),At.waitFor(u).next(()=>this.xn(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,u=a.length+1,f=Mr(this.userId,a),y=IDBKeyRange.lowerBound(f);let P=new Wr(An);return ao(n).J({range:y},(U,ee,ve)=>{const[Be,_t,Ht]=U,yn=Dn(_t);Be===this.userId&&a.isPrefixOf(yn)?yn.length===u&&(P=P.add(Ht)):ve.done()}).next(()=>this.xn(n,P))}xn(n,i){const a=[],u=[];return i.forEach(f=>{u.push(gr(n).get(f).next(y=>{if(null===y)throw Qt();Yt(y.userId===this.userId),a.push(gl(this.serializer,y))}))}),At.waitFor(u).next(()=>a)}removeMutationBatch(n,i){return ru(n._e,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),At.forEach(a,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return At.resolve();const a=IDBKeyRange.lowerBound(function(y){return[y]}(this.userId)),u=[];return ao(n).J({range:a},(f,y,P)=>{if(f[0]===this.userId){const U=Dn(f[1]);u.push(U)}else P.done()}).next(()=>{Yt(0===u.length)})})}containsKey(n,i){return $n(n,this.userId,i)}Nn(n){return ba(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $n(c,n,i){const a=Mr(n,i.path),u=a[1],f=IDBKeyRange.lowerBound(a);let y=!1;return ao(c).J({range:f,H:!0},(P,U,ee)=>{const[ve,Be,_t]=P;ve===n&&Be===u&&(y=!0),ee.done()}).next(()=>y)}function gr(c){return gi(c,"mutations")}function ao(c){return gi(c,"documentMutations")}function ba(c){return gi(c,"mutationQueues")}class Ji{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ji(0)}static kn(){return new Ji(-1)}}class fs{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const a=new Ji(i.highestTargetId);return i.highestTargetId=a.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>Xn.fromTimestamp(new qn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,a&&(u.lastRemoteSnapshotVersion=a.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(a=>(a.targetCount+=1,this.$n(i,a),this.Qn(n,a))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>xs(n).delete(i.targetId)).next(()=>this.qn(n)).next(a=>(Yt(a.targetCount>0),a.targetCount-=1,this.Qn(n,a)))}removeTargets(n,i,a){let u=0;const f=[];return xs(n).J((y,P)=>{const U=Zl(P);U.sequenceNumber<=i&&null===a.get(U.targetId)&&(u++,f.push(this.removeTargetData(n,U)))}).next(()=>At.waitFor(f)).next(()=>u)}forEachTarget(n,i){return xs(n).J((a,u)=>{const f=Zl(u);i(f)})}qn(n){return ho(n).get("targetGlobalKey").next(i=>(Yt(null!==i),i))}Qn(n,i){return ho(n).put("targetGlobalKey",i)}Kn(n,i){return xs(n).put(ml(this.serializer,i))}$n(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const a=pe(i),u=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return xs(n).J({range:u,index:"queryTargetsIndex"},(y,P,U)=>{const ee=Zl(P);_n(i,ee.target)&&(f=ee,U.done())}).next(()=>f)}addMatchingKeys(n,i,a){const u=[],f=lo(n);return i.forEach(y=>{const P=We(y.path);u.push(f.put({targetId:a,path:P})),u.push(this.referenceDelegate.addReference(n,a,y))}),At.waitFor(u)}removeMatchingKeys(n,i,a){const u=lo(n);return At.forEach(i,f=>{const y=We(f.path);return At.waitFor([u.delete([a,y]),this.referenceDelegate.removeReference(n,a,f)])})}removeMatchingKeysForTargetId(n,i){const a=lo(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(u)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),u=lo(n);let f=xr();return u.J({range:a,H:!0},(y,P,U)=>{const ee=Dn(y[1]),ve=new wn(ee);f=f.add(ve)}).next(()=>f)}containsKey(n,i){const a=We(i.path),u=IDBKeyRange.bound([a],[Un(a)],!1,!0);let f=0;return lo(n).J({index:"documentTargetsIndex",H:!0,range:u},([y,P],U,ee)=>{0!==y&&(f++,ee.done())}).next(()=>f>0)}ot(n,i){return xs(n).get(i).next(a=>a?Zl(a):null)}}function xs(c){return gi(c,"targets")}function ho(c){return gi(c,"targetGlobal")}function lo(c){return gi(c,"targetDocuments")}function Js([c,n],[i,a]){const u=An(c,i);return 0===u?An(n,a):u}class $r{constructor(n){this.Un=n,this.buffer=new Wr(Js),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Js(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class vl{constructor(n,i,a){this.garbageCollector=n,this.asyncQueue=i,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;Pt("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Me.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){Ei(a)?Pt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield ir(a)}yield i.Hn(3e5)}))}}class Wd{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return At.resolve(we.oe);const a=new $r(i);return this.Jn.forEachTarget(n,u=>a.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>a.zn(u))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.Jn.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(Ru)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(Pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ru):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let a,u,f,y,P,U,ee;const ve=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(Pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),u=this.params.maximumSequenceNumbersToCollect):u=Be,y=Date.now(),this.nthSequenceNumber(n,u))).next(Be=>(a=Be,P=Date.now(),this.removeTargets(n,a,i))).next(Be=>(f=Be,U=Date.now(),this.removeOrphanedDocuments(n,a))).next(Be=>(ee=Date.now(),xt()<=ot.$b.DEBUG&&Pt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-ve}ms\n\tDetermined least recently used ${u} in `+(P-y)+`ms\n\tRemoved ${f} targets in `+(U-P)+`ms\n\tRemoved ${Be} documents in `+(ee-U)+`ms\nTotal Duration: ${ee-ve}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Be})))}}class To{constructor(n,i){this.db=n,this.garbageCollector=function Nc(c,n){return new Wd(c,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(u=>a+u))}er(n){let i=0;return this.Zn(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(a,u)=>i(u))}addReference(n,i,a){return yl(n,a)}removeReference(n,i,a){return yl(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return yl(n,i)}nr(n,i){return function(u,f){let y=!1;return ba(u).Y(P=>$n(u,P,f).next(U=>(U&&(y=!0),At.resolve(!U)))).next(()=>y)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(n,(y,P)=>{if(P<=i){const U=this.nr(n,y).next(ee=>{if(!ee)return f++,a.getEntry(n,y).next(()=>(a.removeEntry(y,Xn.min()),lo(n).delete([0,We(y.path)])))});u.push(U)}}).next(()=>At.waitFor(u)).next(()=>a.apply(n)).next(()=>f)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return yl(n,i)}tr(n,i){const a=lo(n);let u,f=we.oe;return a.J({index:"documentTargetsIndex"},([y,P],{path:U,sequenceNumber:ee})=>{0===y?(f!==we.oe&&i(new wn(Dn(u)),f),f=ee,u=U):f=we.oe}).next(()=>{f!==we.oe&&i(new wn(Dn(u)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function yl(c,n){return lo(c).put((u=c.currentSequenceNumber,{targetId:0,path:We(n.path),sequenceNumber:u}));var u}class xc{constructor(){this.changes=new Xs(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,oi.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?At.resolve(a):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Il{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,a){return nl(n).put(a)}removeEntry(n,i,a){return nl(n).delete(function(f,y){const P=f.path.toArray();return[P.slice(0,P.length-2),P[P.length-2],Ea(y),P[P.length-1]]}(i,a))}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.rr(n,a)))}getEntry(n,i){let a=oi.newInvalidDocument(i);return nl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(ks(i))},(u,f)=>{a=this.ir(i,f)}).next(()=>a)}sr(n,i){let a={size:0,document:oi.newInvalidDocument(i)};return nl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(ks(i))},(u,f)=>{a={document:this.ir(i,f),size:Fl(f)}}).next(()=>a)}getEntries(n,i){let a=ko();return this._r(n,i,(u,f)=>{const y=this.ir(u,f);a=a.insert(u,y)}).next(()=>a)}ar(n,i){let a=ko(),u=new br(wn.comparator);return this._r(n,i,(f,y)=>{const P=this.ir(f,y);a=a.insert(f,P),u=u.insert(f,Fl(y))}).next(()=>({documents:a,ur:u}))}_r(n,i,a){if(i.isEmpty())return At.resolve();let u=new Wr(cd);i.forEach(U=>u=u.add(U));const f=IDBKeyRange.bound(ks(u.first()),ks(u.last())),y=u.getIterator();let P=y.getNext();return nl(n).J({index:"documentKeyIndex",range:f},(U,ee,ve)=>{const Be=wn.fromSegments([...ee.prefixPath,ee.collectionGroup,ee.documentId]);for(;P&&cd(P,Be)<0;)a(P,null),P=y.getNext();P&&P.isEqual(Be)&&(a(P,ee),P=y.hasNext()?y.getNext():null),P?ve.$(ks(P)):ve.done()}).next(()=>{for(;P;)a(P,null),P=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(n,i,a,u,f){const y=i.path,P=[y.popLast().toArray(),y.lastSegment(),Ea(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],U=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nl(n).U(IDBKeyRange.bound(P,U,!0)).next(ee=>{null==f||f.incrementDocumentReadCount(ee.length);let ve=ko();for(const Be of ee){const _t=this.ir(wn.fromSegments(Be.prefixPath.concat(Be.collectionGroup,Be.documentId)),Be);_t.isFoundDocument()&&(is(i,_t)||u.has(_t.key))&&(ve=ve.insert(_t.key,_t))}return ve})}getAllFromCollectionGroup(n,i,a,u){let f=ko();const y=mr(i,a),P=mr(i,Se.max());return nl(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,P,!0)},(U,ee,ve)=>{const Be=this.ir(wn.fromSegments(ee.prefixPath.concat(ee.collectionGroup,ee.documentId)),ee);f=f.insert(Be.key,Be),f.size===u&&ve.done()}).next(()=>f)}newChangeBuffer(n){return new qh(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return tl(n).get("remoteDocumentGlobalKey").next(i=>(Yt(!!i),i))}rr(n,i){return tl(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const a=function Sc(c,n){let i;if(n.document)i=Cu(c.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const a=wn.fromSegments(n.noDocument.path),u=ja(n.noDocument.readTime);i=oi.newNoDocument(a,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return Qt();{const a=wn.fromSegments(n.unknownDocument.path),u=ja(n.unknownDocument.version);i=oi.newUnknownDocument(a,u)}}return n.readTime&&i.setReadTime(function(u){const f=new qn(u[0],u[1]);return Xn.fromTimestamp(f)}(n.readTime)),i}(this.serializer,i);if(!a.isNoDocument()||!a.version.isEqual(Xn.min()))return a}return oi.newInvalidDocument(n)}}function sc(c){return new Il(c)}class qh extends xc{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Xs(a=>a.toString(),(a,u)=>a.isEqual(u))}applyChanges(n){const i=[];let a=0,u=new Wr((f,y)=>An(f.canonicalString(),y.canonicalString()));return this.changes.forEach((f,y)=>{const P=this.lr.get(f);if(i.push(this.cr.removeEntry(n,f,P.readTime)),y.isValidDocument()){const U=fl(this.cr.serializer,y);u=u.add(f.path.popLast());const ee=Fl(U);a+=ee-P.size,i.push(this.cr.addEntry(n,f,U))}else if(a-=P.size,this.trackRemovals){const U=fl(this.cr.serializer,y.convertToNoDocument(Xn.min()));i.push(this.cr.addEntry(n,f,U))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,f))}),i.push(this.cr.updateMetadata(n,a)),At.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(a=>(this.lr.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:a,ur:u})=>(u.forEach((f,y)=>{this.lr.set(f,{size:y,readTime:a.get(f).readTime})}),a))}}function tl(c){return gi(c,"remoteDocumentGlobal")}function nl(c){return gi(c,"remoteDocumentsV14")}function ks(c){const n=c.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function mr(c,n){const i=n.documentKey.path.toArray();return[c,Ea(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function cd(c,n){const i=c.path.toArray(),a=n.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<a.length-2;++f)if(u=An(i[f],a[f]),u)return u;return u=An(i.length,a.length),u||(u=An(i[i.length-2],a[a.length-2]),u||An(i[i.length-1],a[a.length-1]))}class kc{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class Zs{constructor(n,i,a,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(n,i){let a=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==a&&Qr(a.mutation,u,me.empty(),qn.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.getLocalViewOfDocuments(n,a,xr()).next(()=>a))}getLocalViewOfDocuments(n,i,a=xr()){const u=us();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,a).next(f=>{let y=Ql();return f.forEach((P,U)=>{y=y.insert(P,U.overlayedDocument)}),y}))}getOverlayedDocuments(n,i){const a=us();return this.populateOverlays(n,a,i).next(()=>this.computeViews(n,i,a,xr()))}populateOverlays(n,i,a){const u=[];return a.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(n,u).next(f=>{f.forEach((y,P)=>{i.set(y,P)})})}computeViews(n,i,a,u){let f=ko();const y=Qa(),P=Qa();return i.forEach((U,ee)=>{const ve=a.get(ee.key);u.has(ee.key)&&(void 0===ve||ve.mutation instanceof Kn)?f=f.insert(ee.key,ee):void 0!==ve?(y.set(ee.key,ve.mutation.getFieldMask()),Qr(ve.mutation,ee,ve.mutation.getFieldMask(),qn.now())):y.set(ee.key,me.empty())}),this.recalculateAndSaveOverlays(n,f).next(U=>(U.forEach((ee,ve)=>y.set(ee,ve)),i.forEach((ee,ve)=>{var Be;return P.set(ee,new kc(ve,null!==(Be=y.get(ee))&&void 0!==Be?Be:null))}),P))}recalculateAndSaveOverlays(n,i){const a=Qa();let u=new br((y,P)=>y-P),f=xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(y=>{for(const P of y)P.keys().forEach(U=>{const ee=i.get(U);if(null===ee)return;let ve=a.get(U)||me.empty();ve=P.applyToLocalView(ee,ve),a.set(U,ve);const Be=(u.get(P.batchId)||xr()).add(U);u=u.insert(P.batchId,Be)})}).next(()=>{const y=[],P=u.getReverseIterator();for(;P.hasNext();){const U=P.getNext(),ee=U.key,ve=U.value,Be=qa();ve.forEach(_t=>{if(!f.has(_t)){const Ht=Sr(i.get(_t),a.get(_t));null!==Ht&&Be.set(_t,Ht),f=f.add(_t)}}),y.push(this.documentOverlayCache.saveOverlays(n,ee,Be))}return At.waitFor(y)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.recalculateAndSaveOverlays(n,a))}getDocumentsMatchingQuery(n,i,a,u){return wn.isDocumentKey((y=i).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):zs(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,a,u):this.getDocumentsMatchingCollectionQuery(n,i,a,u);var y}getNextDocuments(n,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,a,u).next(f=>{const y=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,a.largestBatchId,u-f.size):At.resolve(us());let P=-1,U=f;return y.next(ee=>At.forEach(ee,(ve,Be)=>(P<Be.largestBatchId&&(P=Be.largestBatchId),f.get(ve)?At.resolve():this.remoteDocumentCache.getEntry(n,ve).next(_t=>{U=U.insert(ve,_t)}))).next(()=>this.populateOverlays(n,ee,f)).next(()=>this.computeViews(n,U,ee,xr())).next(ve=>({batchId:P,changes:va(ve)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new wn(i)).next(a=>{let u=Ql();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,a,u){const f=i.collectionGroup;let y=Ql();return this.indexManager.getCollectionParents(n,f).next(P=>At.forEach(P,U=>{const ee=(Be=i,_t=U.child(f),new kr(_t,null,Be.explicitOrderBy.slice(),Be.filters.slice(),Be.limit,Be.limitType,Be.startAt,Be.endAt));var Be,_t;return this.getDocumentsMatchingCollectionQuery(n,ee,a,u).next(ve=>{ve.forEach((Be,_t)=>{y=y.insert(Be,_t)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(n,i,a,u){let f;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,a.largestBatchId).next(y=>(f=y,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,a,f,u))).next(y=>{f.forEach((U,ee)=>{const ve=ee.getKey();null===y.get(ve)&&(y=y.insert(ve,oi.newInvalidDocument(ve)))});let P=Ql();return y.forEach((U,ee)=>{const ve=f.get(U);void 0!==ve&&Qr(ve.mutation,ee,me.empty(),qn.now()),is(i,ee)&&(P=P.insert(U,ee))}),P})}}class Mu{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return At.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:so(u.createTime)}),At.resolve();var u}getNamedQuery(n,i){return At.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:Nl(u.bundledQuery),readTime:so(u.readTime)}),At.resolve();var u}}class iu{constructor(){this.overlays=new br(wn.comparator),this.Ir=new Map}getOverlay(n,i){return At.resolve(this.overlays.get(i))}getOverlays(n,i){const a=us();return At.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&a.set(u,f)})).next(()=>a)}saveOverlays(n,i,a){return a.forEach((u,f)=>{this.ht(n,i,f)}),At.resolve()}removeOverlaysForBatchId(n,i,a){const u=this.Ir.get(a);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(a)),At.resolve()}getOverlaysForCollection(n,i,a){const u=us(),f=i.length+1,y=new wn(i.child("")),P=this.overlays.getIteratorFrom(y);for(;P.hasNext();){const U=P.getNext().value,ee=U.getKey();if(!i.isPrefixOf(ee.path))break;ee.path.length===f&&U.largestBatchId>a&&u.set(U.getKey(),U)}return At.resolve(u)}getOverlaysForCollectionGroup(n,i,a,u){let f=new br((ee,ve)=>ee-ve);const y=this.overlays.getIterator();for(;y.hasNext();){const ee=y.getNext().value;if(ee.getKey().getCollectionGroup()===i&&ee.largestBatchId>a){let ve=f.get(ee.largestBatchId);null===ve&&(ve=us(),f=f.insert(ee.largestBatchId,ve)),ve.set(ee.getKey(),ee)}}const P=us(),U=f.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((ee,ve)=>P.set(ee,ve)),!(P.size()>=u)););return At.resolve(P)}ht(n,i,a){const u=this.overlays.get(a.key);if(null!==u){const y=this.Ir.get(u.largestBatchId).delete(a.key);this.Ir.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(a.key,new Qs(i,a));let f=this.Ir.get(i);void 0===f&&(f=xr(),this.Ir.set(i,f)),this.Ir.set(i,f.add(a.key))}}class No{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(n){return At.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,At.resolve()}}class Fc{constructor(){this.Tr=new Wr(Ri.Er),this.dr=new Wr(Ri.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const a=new Ri(n,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.Vr(new Ri(n,i))}mr(n,i){n.forEach(a=>this.removeReference(a,i))}gr(n){const i=new wn(new rr([])),a=new Ri(i,n),u=new Ri(i,n+1),f=[];return this.dr.forEachInRange([a,u],y=>{this.Vr(y),f.push(y.key)}),f}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new wn(new rr([])),a=new Ri(i,n),u=new Ri(i,n+1);let f=xr();return this.dr.forEachInRange([a,u],y=>{f=f.add(y.key)}),f}containsKey(n){const i=new Ri(n,0),a=this.Tr.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class Ri{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return wn.comparator(n.key,i.key)||An(n.wr,i.wr)}static Ar(n,i){return An(n.wr,i.wr)||wn.comparator(n.key,i.key)}}class ps{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Wr(Ri.Er)}checkEmpty(n){return At.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,a,u){const f=this.Sr;this.Sr++;const y=new Ps(f,i,a,u);this.mutationQueue.push(y);for(const P of u)this.br=this.br.add(new Ri(P.key,f)),this.indexManager.addToCollectionParentIndex(n,P.key.path.popLast());return At.resolve(y)}lookupMutationBatch(n,i){return At.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),f=u<0?0:u;return At.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new Ri(i,0),u=new Ri(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([a,u],y=>{const P=this.Dr(y.wr);f.push(P)}),At.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new Wr(An);return i.forEach(u=>{const f=new Ri(u,0),y=new Ri(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,y],P=>{a=a.add(P.wr)})}),At.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,u=a.length+1;let f=a;wn.isDocumentKey(f)||(f=f.child(""));const y=new Ri(new wn(f),0);let P=new Wr(An);return this.br.forEachWhile(U=>{const ee=U.key.path;return!!a.isPrefixOf(ee)&&(ee.length===u&&(P=P.add(U.wr)),!0)},y),At.resolve(this.Cr(P))}Cr(n){const i=[];return n.forEach(a=>{const u=this.Dr(a);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Yt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return At.forEach(i.mutations,u=>{const f=new Ri(u.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=a})}On(n){}containsKey(n,i){const a=new Ri(i,0),u=this.br.firstAfterOrEqual(a);return At.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return At.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class ou{constructor(n){this.Mr=n,this.docs=new br(wn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const a=i.key,u=this.docs.get(a),f=u?u.size:0,y=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:y}),this.size+=y-f,this.indexManager.addToCollectionParentIndex(n,a.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return At.resolve(a?a.document.mutableCopy():oi.newInvalidDocument(i))}getEntries(n,i){let a=ko();return i.forEach(u=>{const f=this.docs.get(u);a=a.insert(u,f?f.document.mutableCopy():oi.newInvalidDocument(u))}),At.resolve(a)}getDocumentsMatchingQuery(n,i,a,u){let f=ko();const y=i.path,P=new wn(y.child("")),U=this.docs.getIteratorFrom(P);for(;U.hasNext();){const{key:ee,value:{document:ve}}=U.getNext();if(!y.isPrefixOf(ee.path))break;ee.path.length>y.length+1||kt(le(ve),a)<=0||(u.has(ve.key)||is(i,ve))&&(f=f.insert(ve.key,ve.mutableCopy()))}return At.resolve(f)}getAllFromCollectionGroup(n,i,a,u){Qt()}Or(n,i){return At.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new Lc(this)}getSize(n){return At.resolve(this.size)}}class Lc extends xc{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(a)}),At.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Vc{constructor(n){this.persistence=n,this.Nr=new Xs(i=>pe(i),_n),this.lastRemoteSnapshotVersion=Xn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fc,this.targetCount=0,this.kr=Ji.Bn()}forEachTarget(n,i){return this.Nr.forEach((a,u)=>i(u)),At.resolve()}getLastRemoteSnapshotVersion(n){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return At.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),At.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new Ji(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,At.resolve()}updateTargetData(n,i){return this.Kn(i),At.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,At.resolve()}removeTargets(n,i,a){let u=0;const f=[];return this.Nr.forEach((y,P)=>{P.sequenceNumber<=i&&null===a.get(P.targetId)&&(this.Nr.delete(y),f.push(this.removeMatchingKeysForTargetId(n,P.targetId)),u++)}),At.waitFor(f).next(()=>u)}getTargetCount(n){return At.resolve(this.targetCount)}getTargetData(n,i){const a=this.Nr.get(i)||null;return At.resolve(a)}addMatchingKeys(n,i,a){return this.Br.Rr(i,a),At.resolve()}removeMatchingKeys(n,i,a){this.Br.mr(i,a);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(y=>{f.push(u.markPotentiallyOrphaned(n,y))}),At.waitFor(f)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),At.resolve()}getMatchingKeysForTargetId(n,i){const a=this.Br.yr(i);return At.resolve(a)}containsKey(n,i){return At.resolve(this.Br.containsKey(i))}}class wa{constructor(n,i){this.qr={},this.overlays={},this.Qr=new we(0),this.Kr=!1,this.Kr=!0,this.$r=new No,this.referenceDelegate=n(this),this.Ur=new Vc(this),this.indexManager=new Du,this.remoteDocumentCache=new ou(a=>this.referenceDelegate.Wr(a)),this.serializer=new hl(i),this.Gr=new Mu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new iu,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let a=this.qr[n.toKey()];return a||(a=new ps(i,this.referenceDelegate),this.qr[n.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,a){Pt("MemoryPersistence","Starting transaction:",n);const u=new su(this.Qr.next());return this.referenceDelegate.zr(),a(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(n,i){return At.or(Object.values(this.qr).map(a=>()=>a.containsKey(n,i)))}}class su extends Fn{constructor(n){super(),this.currentSequenceNumber=n}}class au{constructor(n){this.persistence=n,this.Jr=new Fc,this.Yr=null}static Zr(n){return new au(n)}get Xr(){if(this.Yr)return this.Yr;throw Qt()}addReference(n,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),At.resolve()}removeReference(n,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),At.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),At.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>a.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.Xr,a=>{const u=wn.fromPath(a);return this.ei(n,u).next(f=>{f||i.removeEntry(u,Xn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return At.or([()=>At.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class Kd{constructor(n){this.serializer=n}O(n,i,a,u){const f=new er("createOrUpgrade",i);var U;a<1&&u>=1&&(n.createObjectStore("owner"),(U=n).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wn,{unique:!0}),U.createObjectStore("documentMutations"),Qh(n),function(U){U.createObjectStore("remoteDocuments")}(n));let y=At.resolve();return a<3&&u>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(n),Qh(n)),y=y.next(()=>function(U){const ee=U.store("targetGlobal"),ve={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xn.min().toTimestamp(),targetCount:0};return ee.put("targetGlobalKey",ve)}(f))),a<4&&u>=4&&(0!==a&&(y=y.next(()=>function(U,ee){return ee.store("mutations").U().next(ve=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Wn,{unique:!0});const Be=ee.store("mutations"),_t=ve.map(Ht=>Be.put(Ht));return At.waitFor(_t)})}(n,f))),y=y.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),a<5&&u>=5&&(y=y.next(()=>this.ni(f))),a<6&&u>=6&&(y=y.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(n),this.ri(f)))),a<7&&u>=7&&(y=y.next(()=>this.ii(f))),a<8&&u>=8&&(y=y.next(()=>this.si(n,f))),a<9&&u>=9&&(y=y.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(n)})),a<10&&u>=10&&(y=y.next(()=>this.oi(f))),a<11&&u>=11&&(y=y.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),a<12&&u>=12&&(y=y.next(()=>{!function(U){const ee=U.createObjectStore("documentOverlays",{keyPath:Ss});ee.createIndex("collectionPathOverlayIndex",gs,{unique:!1}),ee.createIndex("collectionGroupOverlayIndex",Zo,{unique:!1})}(n)})),a<13&&u>=13&&(y=y.next(()=>function(U){const ee=U.createObjectStore("remoteDocumentsV14",{keyPath:fr});ee.createIndex("documentKeyIndex",Mi),ee.createIndex("collectionGroupIndex",Zi)}(n)).next(()=>this._i(n,f)).next(()=>n.deleteObjectStore("remoteDocuments"))),a<14&&u>=14&&(y=y.next(()=>this.ai(n,f))),a<15&&u>=15&&(y=y.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:to}).createIndex("sequenceNumberIndex",go,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Jo}).createIndex("documentKeyIndex",So,{unique:!1})}(n))),a<16&&u>=16&&(y=y.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),a<17&&u>=17&&(y=y.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(n)})),y}ri(n){let i=0;return n.store("remoteDocuments").J((a,u)=>{i+=Fl(u)}).next(()=>{const a={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(n){const i=n.store("mutationQueues"),a=n.store("mutations");return i.U().next(u=>At.forEach(u,f=>{const y=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",y).next(P=>At.forEach(P,U=>{Yt(U.userId===f.userId);const ee=gl(this.serializer,U);return ru(n,f.userId,ee).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),a=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return a.J((y,P)=>{const U=new rr(y),ee=[0,We(U)];f.push(i.get(ee).next(ve=>ve?At.resolve():i.put({targetId:0,path:We(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>At.waitFor(f))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:Qi});const a=i.store("collectionParents"),u=new Fo,f=y=>{if(u.add(y)){const P=y.lastSegment(),U=y.popLast();return a.put({collectionId:P,parent:We(U)})}};return i.store("remoteDocuments").J({H:!0},(y,P)=>{const U=new rr(y);return f(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([y,P,U],ee)=>{const ve=Dn(P);return f(ve.popLast())}))}oi(n){const i=n.store("targets");return i.J((a,u)=>{const f=Zl(u),y=ml(this.serializer,f);return i.put(y)})}_i(n,i){const a=i.store("remoteDocuments"),u=[];return a.J((f,y)=>{const P=i.store("remoteDocumentsV14"),U=(Be=y,Be.document?new wn(rr.fromString(Be.document.name).popFirst(5)):Be.noDocument?wn.fromSegments(Be.noDocument.path):Be.unknownDocument?wn.fromSegments(Be.unknownDocument.path):Qt()).path.toArray(),ee={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var Be;u.push(P.put(ee))}).next(()=>At.waitFor(u))}ai(n,i){const a=i.store("mutations"),u=sc(this.serializer),f=new wa(au.Zr,this.serializer.ct);return a.U().next(y=>{const P=new Map;return y.forEach(U=>{var ee;let ve=null!==(ee=P.get(U.userId))&&void 0!==ee?ee:xr();gl(this.serializer,U).keys().forEach(Be=>ve=ve.add(Be)),P.set(U.userId,ve)}),At.forEach(P,(U,ee)=>{const ve=new ze(ee),Be=Ja.lt(this.serializer,ve),_t=f.getIndexManager(ve),Ht=io.lt(ve,this.serializer,_t,f.referenceDelegate);return new Zs(u,Ht,Be,_t).recalculateAndSaveOverlaysForDocumentKeys(new Io(i,we.oe),U).next()})})}}function Qh(c){c.createObjectStore("targetDocuments",{keyPath:ri}).createIndex("documentTargetsIndex",eo,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oo,{unique:!0}),c.createObjectStore("targetGlobal")}const Pu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cu{constructor(n,i,a,u,f,y,P,U,ee,ve,Be=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.ui=f,this.window=y,this.document=P,this.ci=ee,this.li=ve,this.hi=Be,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=_t=>Promise.resolve(),!cu.D())throw new je(Ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new To(this,u),this.Ai=i+"main",this.serializer=new hl(U),this.Ri=new Jn(this.Ai,this.hi,new Kd(this.serializer)),this.$r=new sd,this.Ur=new fs(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sc(this.serializer),this.Gr=new tu,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ve&&Pn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(Ne.FAILED_PRECONDITION,Pu);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new we(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var a=(0,Me.A)(function*(u){if(i.started)return n(u)});return function(u){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,Me.A)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,Me.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>ud(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(Ei(n))return Pt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Pt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return Uc(n).get("owner").next(i=>At.resolve(this.vi(i)))}Ci(n){return ud(n).delete(this.clientId)}Fi(){var n=this;return(0,Me.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const u=gi(a,"clientMetadata");return u.U().next(f=>{const y=n.xi(f,18e5),P=f.filter(U=>-1===y.indexOf(U));return At.forEach(P,U=>u.delete(U.clientId)).next(()=>P)})}).catch(()=>[]);if(n.Vi)for(const a of i)n.Vi.removeItem(n.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?At.resolve(!0):Uc(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new je(Ne.FAILED_PRECONDITION,Pu);return!1}}return!(!this.networkEnabled||!this.inForeground)||ud(n).U().next(a=>void 0===this.xi(a,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Pt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,Me.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new Io(i,we.oe);return n.bi(a).next(()=>n.Ci(a))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(a=>this.Mi(a.updateTimeMs,i)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>ud(n).U().next(i=>this.xi(i,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return io.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new ad(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Ja.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,a){Pt("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",f=17===(U=this.hi)?Gs:16===U?Hs:15===U?Rs:14===U?Pi:13===U?Cs:12===U?ii:11===U?ls:void Qt();var U;let y;return this.Ri.runTransaction(n,u,f,P=>(y=new Io(P,this.Qr?this.Qr.next():we.oe),"readwrite-primary"===i?this.wi(y).next(U=>!!U||this.Si(y)).next(U=>{if(!U)throw Pn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new je(Ne.FAILED_PRECONDITION,hn);return a(y)}).next(U=>this.Di(y).next(()=>U)):this.Ki(y).next(()=>a(y)))).then(P=>(y.raiseOnCommittedEvent(),P))}Ki(n){return Uc(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new je(Ne.FAILED_PRECONDITION,Pu)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uc(n).put("owner",i)}static D(){return Jn.D()}bi(n){const i=Uc(n);return i.get("owner").next(a=>this.vi(a)?(Pt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):At.resolve())}Mi(n,i){const a=Date.now();return!(n<a-i||n>a&&(Pn(`Detected an update time that is in the future: ${n} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,ut.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const a=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return Pt("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Pn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){Pn("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Uc(c){return gi(c,"owner")}function ud(c){return gi(c,"clientMetadata")}function Xd(c,n){let i=c.projectId;return c.isDefaultDatabase||(i+="."+c.database),"firestore/"+n+"/"+i+"/"}class Yh{constructor(n,i,a,u){this.targetId=n,this.fromCache=i,this.$i=a,this.Ui=u}static Wi(n,i){let a=xr(),u=xr();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Yh(n,i.fromCache,a,u)}}class hp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class fp{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ut.nr)()?8:ei((0,ut.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,a,u){const f={result:null};return this.Yi(n,i).next(y=>{f.result=y}).next(()=>{if(!f.result)return this.Zi(n,i,u,a).next(y=>{f.result=y})}).next(()=>{if(f.result)return;const y=new hp;return this.Xi(n,i,y).next(P=>{if(f.result=P,this.zi)return this.es(n,i,y,P.size)})}).next(()=>f.result)}es(n,i,a,u){return a.documentReadCount<this.ji?(xt()<=ot.$b.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",bs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),At.resolve()):(xt()<=ot.$b.DEBUG&&Pt("QueryEngine","Query:",bs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.Hi*u?(xt()<=ot.$b.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",bs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ko(i))):At.resolve())}Yi(n,i){if(na(i))return At.resolve(null);let a=Ko(i);return this.indexManager.getIndexType(n,a).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=Ka(i,null,"F"),a=Ko(i)),this.indexManager.getDocumentsMatchingTarget(n,a).next(f=>{const y=xr(...f);return this.Ji.getDocuments(n,y).next(P=>this.indexManager.getMinOffset(n,a).next(U=>{const ee=this.ts(i,P);return this.ns(i,ee,y,U.readTime)?this.Yi(n,Ka(i,null,"F")):this.rs(n,ee,i,U)}))})))}Zi(n,i,a,u){return na(i)||u.isEqual(Xn.min())?At.resolve(null):this.Ji.getDocuments(n,a).next(f=>{const y=this.ts(i,f);return this.ns(i,y,a,u)?At.resolve(null):(xt()<=ot.$b.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),bs(i)),this.rs(n,y,i,Q(u,-1)).next(P=>P))})}ts(n,i){let a=new Wr(Xa(n));return i.forEach((u,f)=>{is(n,f)&&(a=a.add(f))}),a}ns(n,i,a,u){if(null===n.limit)return!1;if(a.size!==i.size)return!0;const f="F"===n.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(n,i,a){return xt()<=ot.$b.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",bs(i)),this.Ji.getDocumentsMatchingQuery(n,i,Se.min(),a)}rs(n,i,a,u){return this.Ji.getDocumentsMatchingQuery(n,a,u).next(f=>(i.forEach(y=>{f=f.insert(y.key,y)}),f))}}class gm{constructor(n,i,a,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new br(An),this._s=new Xs(f=>pe(f),_n),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(a)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Zs(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function pp(c,n,i,a){return new gm(c,n,i,a)}function Jh(c,n){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,Me.A)(function*(c,n){const i=vt(c);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(f=>(u=f,i.ls(n),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const y=[],P=[];let U=xr();for(const ee of u){y.push(ee.batchId);for(const ve of ee.mutations)U=U.add(ve.key)}for(const ee of f){P.push(ee.batchId);for(const ve of ee.mutations)U=U.add(ve.key)}return i.localDocuments.getDocuments(a,U).next(ee=>({hs:ee,removedBatchIds:y,addedBatchIds:P}))})})})).apply(this,arguments)}function gp(c){const n=vt(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function p(c,n,i){let a=xr(),u=xr();return i.forEach(f=>a=a.add(f)),n.getEntries(c,a).next(f=>{let y=ko();return i.forEach((P,U)=>{const ee=f.get(P);U.isFoundDocument()!==ee.isFoundDocument()&&(u=u.add(P)),U.isNoDocument()&&U.version.isEqual(Xn.min())?(n.removeEntry(P,U.readTime),y=y.insert(P,U)):!ee.isValidDocument()||U.version.compareTo(ee.version)>0||0===U.version.compareTo(ee.version)&&ee.hasPendingWrites?(n.addEntry(U),y=y.insert(P,U)):Pt("LocalStore","Ignoring outdated watch update for ",P,". Current version:",ee.version," Watch version:",U.version)}),{Ps:y,Is:u}})}function m(c,n){const i=vt(c);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,n)))}function R(c,n){const i=vt(c);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ur.getTargetData(a,n).next(f=>f?(u=f,At.resolve(u)):i.Ur.allocateTargetId(a).next(y=>(u=new Yi(n,y,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.os.get(a.targetId);return(null===u||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(n,a.targetId)),a})}function re(c,n,i){return be.apply(this,arguments)}function be(){return(be=(0,Me.A)(function*(c,n,i){const a=vt(c),u=a.os.get(n),f=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",f,y=>a.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!Ei(y))throw y;Pt("LocalStore",`Failed to update sequence numbers for target ${n}: ${y}`)}a.os=a.os.remove(n),a._s.delete(u.target)})).apply(this,arguments)}function Mt(c,n,i){const a=vt(c);let u=Xn.min(),f=xr();return a.persistence.runTransaction("Execute query","readwrite",y=>function(U,ee,ve){const Be=vt(U),_t=Be._s.get(ve);return void 0!==_t?At.resolve(Be.os.get(_t)):Be.Ur.getTargetData(ee,ve)}(a,y,Ko(n)).next(P=>{if(P)return u=P.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(y,P.targetId).next(U=>{f=U})}).next(()=>a.ss.getDocumentsMatchingQuery(y,n,i?u:Xn.min(),i?f:xr())).next(P=>(cr(a,_s(n),P),{documents:P,Ts:f})))}function en(c,n){const i=vt(c),a=vt(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>a.ot(f,n).next(y=>y?y.target:null))}function Cn(c,n){const i=vt(c),a=i.us.get(n)||Xn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,Q(a,-1),Number.MAX_SAFE_INTEGER)).then(u=>(cr(i,n,u),u))}function cr(c,n,i){let a=c.us.get(n)||Xn.min();i.forEach((u,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),c.us.set(n,a)}function yi(){return(yi=(0,Me.A)(function*(c,n,i,a){const u=vt(c);let f=xr(),y=ko();for(const ee of i){const ve=n.Es(ee.metadata.name);ee.document&&(f=f.add(ve));const Be=n.ds(ee);Be.setReadTime(n.As(ee.metadata.readTime)),y=y.insert(ve,Be)}const P=u.cs.newChangeBuffer({trackRemovals:!0}),U=yield R(u,(ve=a,Ko(jo(rr.fromString(`__bundle__/docs/${ve}`)))));var ve;return u.persistence.runTransaction("Apply bundle documents","readwrite",ee=>p(ee,P,y).next(ve=>(P.apply(ee),ve)).next(ve=>u.Ur.removeMatchingKeysForTargetId(ee,U.targetId).next(()=>u.Ur.addMatchingKeys(ee,f,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(ee,ve.Ps,ve.Is)).next(()=>ve.Ps)))})).apply(this,arguments)}function ea(c,n){return rl.apply(this,arguments)}function rl(){return(rl=(0,Me.A)(function*(c,n,i=xr()){const a=yield R(c,Ko(Nl(n.bundledQuery))),u=vt(c);return u.persistence.runTransaction("Save named query","readwrite",f=>{const y=so(n.readTime);if(a.snapshotVersion.compareTo(y)>=0)return u.Gr.saveNamedQuery(f,n);const P=a.withResumeToken(It.EMPTY_BYTE_STRING,y);return u.os=u.os.insert(P.targetId,P),u.Ur.updateTargetData(f,P).next(()=>u.Ur.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,a.targetId)).next(()=>u.Gr.saveNamedQuery(f,n))})})).apply(this,arguments)}function Ou(c,n){return`firestore_clients_${c}_${n}`}function Nu(c,n,i){let a=`firestore_mutations_${c}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function xu(c,n){return`firestore_targets_${c}_${n}`}class la{constructor(n,i,a,u){this.user=n,this.batchId=i,this.state=a,this.error=u}static Rs(n,i,a){const u=JSON.parse(a);let f,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(f=new je(u.error.code,u.error.message))),y?new la(n,i,u.state,f):(Pn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Bc{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static Rs(n,i){const a=JSON.parse(i);let u,f="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(u=new je(a.error.code,a.error.message))),f?new Bc(n,a.state,u):(Pn("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class $c{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const a=JSON.parse(i);let u="object"==typeof a&&a.activeTargetIds instanceof Array,f=Dr();for(let y=0;u&&y<a.activeTargetIds.length;++y)u=de(a.activeTargetIds[y]),f=f.add(a.activeTargetIds[y]);return u?new $c(n,f):(Pn("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class Ni{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Ni(i.clientId,i.onlineState):(Pn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class uu{constructor(){this.activeTargetIds=Dr()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Ll{constructor(n,i,a,u,f){this.window=n,this.ui=i,this.persistenceKey=a,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new br(An),this.started=!1,this.bs=[];const y=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=Ou(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new uu),this.Cs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Me.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const f=n.getItem(Ou(n.persistenceKey,u));if(f){const y=$c.Rs(u,f);y&&(n.Ss=n.Ss.insert(y.clientId,y))}}n.Ns();const a=n.storage.getItem(n.xs);if(a){const u=n.Ls(a);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((a,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,a){this.qs(n,i,a),this.Qs(n)}addLocalQueryTarget(n){let i="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(xu(this.persistenceKey,n));if(a){const u=Bc.Rs(n,a);u&&(i=u.state)}}return this.Ks.fs(n),this.Ns(),i}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(xu(this.persistenceKey,n))}updateQueryState(n,i,a){this.$s(n,i,a)}handleUserChange(n,i,a){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,a.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return Pt("SharedClientState","READ",n,i),i}setItem(n,i){Pt("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){Pt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const a=n;if(a.storageArea===this.storage){if(Pt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void Pn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Me.A)(function*(){if(i.started){if(null!==a.key)if(i.Cs.test(a.key)){if(null==a.newValue){const u=i.Gs(a.key);return i.zs(u,null)}{const u=i.js(a.key,a.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(a.key)){if(null!==a.newValue){const u=i.Hs(a.key,a.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(a.key)){if(null!==a.newValue){const u=i.Ys(a.key,a.newValue);if(u)return i.Zs(u)}}else if(a.key===i.xs){if(null!==a.newValue){const u=i.Ls(a.newValue);if(u)return i.Bs(u)}}else if(a.key===i.vs){const u=function(y){let P=we.oe;if(null!=y)try{const U=JSON.parse(y);Yt("number"==typeof U),P=U}catch(U){Pn("SharedClientState","Failed to read sequence number from WebStorage",U)}return P}(a.newValue);u!==we.oe&&i.sequenceNumberHandler(u)}else if(a.key===i.Os){const u=i.Xs(a.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,a){const u=new la(this.currentUser,n,i,a),f=Nu(this.persistenceKey,this.currentUser,n);this.setItem(f,u.Vs())}Qs(n){const i=Nu(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,a){const u=xu(this.persistenceKey,n),f=new Bc(n,i,a);this.setItem(u,f.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const a=this.Gs(n);return $c.Rs(a,i)}Hs(n,i){const a=this.Fs.exec(n),u=Number(a[1]);return la.Rs(new ze(void 0!==a[2]?a[2]:null),u,i)}Ys(n,i){const a=this.Ms.exec(n),u=Number(a[1]);return Bc.Rs(u,i)}Ls(n){return Ni.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,Me.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);Pt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const a=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),f=this.ks(a),y=[],P=[];return f.forEach(U=>{u.has(U)||y.push(U)}),u.forEach(U=>{f.has(U)||P.push(U)}),this.syncEngine.io(y,P).then(()=>{this.Ss=a})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=Dr();return n.forEach((a,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Ds{constructor(){this.so=new uu,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n){return this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,a){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new uu,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class mp{_o(n){}shutdown(){}}class ac{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let El=null;function Da(){return null===El?El=268435456+Math.round(2147483648*Math.random()):El++,"0x"+El.toString(16)}const Iv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _p{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const ca="WebChannelConnection";class Cl extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,a,u,f,y){const P=Da(),U=this.xo(i,a.toUriEncodedString());Pt("RestConnection",`Sending RPC '${i}' ${P}:`,U,u);const ee={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(ee,f,y),this.No(i,U,ee,u).then(ve=>(Pt("RestConnection",`Received RPC '${i}' ${P}: `,ve),ve),ve=>{throw Sn("RestConnection",`RPC '${i}' ${P} failed with error: `,ve,"url: ",U,"request:",u),ve})}Lo(i,a,u,f,y,P){return this.Mo(i,a,u,f,y)}Oo(i,a,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+Bt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((f,y)=>i[y]=f),u&&u.headers.forEach((f,y)=>i[y]=f)}xo(i,a){return`${this.Do}/v1/${a}:${Iv[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,a,u){const f=Da();return new Promise((y,P)=>{const U=new Vt;U.setWithCredentials(!0),U.listenOnce(De.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case Y.NO_ERROR:const ve=U.getResponseJson();Pt(ca,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(ve)),y(ve);break;case Y.TIMEOUT:Pt(ca,`RPC '${n}' ${f} timed out`),P(new je(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case Y.HTTP_ERROR:const Be=U.getStatus();if(Pt(ca,`RPC '${n}' ${f} failed with status:`,Be,"response text:",U.getResponseText()),Be>0){let _t=U.getResponseJson();Array.isArray(_t)&&(_t=_t[0]);const Ht=null==_t?void 0:_t.error;if(Ht&&Ht.status&&Ht.message){const yn=function(On){const Ir=On.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(Ir)>=0?Ir:Ne.UNKNOWN}(Ht.status);P(new je(yn,Ht.message))}else P(new je(Ne.UNKNOWN,"Server responded with status "+U.getStatus()))}else P(new je(Ne.UNAVAILABLE,"Connection failed."));break;default:Qt()}}finally{Pt(ca,`RPC '${n}' ${f} completed.`)}});const ee=JSON.stringify(u);Pt(ca,`RPC '${n}' ${f} sending request:`,u),U.send(i,"POST",ee,a,15)})}Bo(n,i,a){const u=Da(),f=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],y=et(),P=Ue(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ee=this.longPollingOptions.timeoutSeconds;void 0!==ee&&(U.longPollingTimeout=Math.round(1e3*ee)),this.useFetchStreams&&(U.xmlHttpFactory=new cn({})),this.Oo(U.initMessageHeaders,i,a),U.encodeInitMessageHeaders=!0;const ve=f.join("");Pt(ca,`Creating RPC '${n}' stream ${u}: ${ve}`,U);const Be=y.createWebChannel(ve,U);let _t=!1,Ht=!1;const yn=new _p({Io:On=>{Ht?Pt(ca,`Not sending because RPC '${n}' stream ${u} is closed:`,On):(_t||(Pt(ca,`Opening RPC '${n}' stream ${u} transport.`),Be.open(),_t=!0),Pt(ca,`RPC '${n}' stream ${u} sending:`,On),Be.send(On))},To:()=>Be.close()}),jn=(On,Ir,Nr)=>{On.listen(Ir,Cr=>{try{Nr(Cr)}catch(zr){setTimeout(()=>{throw zr},0)}})};return jn(Be,qe.EventType.OPEN,()=>{Ht||(Pt(ca,`RPC '${n}' stream ${u} transport opened.`),yn.yo())}),jn(Be,qe.EventType.CLOSE,()=>{Ht||(Ht=!0,Pt(ca,`RPC '${n}' stream ${u} transport closed`),yn.So())}),jn(Be,qe.EventType.ERROR,On=>{Ht||(Ht=!0,Sn(ca,`RPC '${n}' stream ${u} transport errored:`,On),yn.So(new je(Ne.UNAVAILABLE,"The operation could not be completed")))}),jn(Be,qe.EventType.MESSAGE,On=>{var Ir;if(!Ht){const Nr=On.data[0];Yt(!!Nr);const zr=Nr.error||(null===(Ir=Nr[0])||void 0===Ir?void 0:Ir.error);if(zr){Pt(ca,`RPC '${n}' stream ${u} received error:`,zr);const zi=zr.status;let Zr=function(Ot){const jt=Co[Ot];if(void 0!==jt)return hs(jt)}(zi),$t=zr.message;void 0===Zr&&(Zr=Ne.INTERNAL,$t="Unknown error status: "+zi+" with message "+zr.message),Ht=!0,yn.So(new je(Zr,$t)),Be.close()}else Pt(ca,`RPC '${n}' stream ${u} received:`,Nr),yn.bo(Nr)}}),jn(P,se.STAT_EVENT,On=>{On.stat===ie.PROXY?Pt(ca,`RPC '${n}' stream ${u} detected buffering proxy`):On.stat===ie.NOPROXY&&Pt(ca,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{yn.wo()},0),yn}}function vp(){return typeof window<"u"?window:null}function qd(){return typeof document<"u"?document:null}function dd(c){return new Ua(c,!0)}class hd{constructor(n,i,a=1e3,u=1.5,f=6e4){this.ui=n,this.timerId=i,this.ko=a,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-a);u>0&&Pt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ef{constructor(n,i,a,u,f,y,P,U){this.ui=n,this.Ho=a,this.Jo=u,this.connection=f,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=P,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hd(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,Me.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,Me.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var a=this;return(0,Me.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==n?a.t_.reset():i&&i.code===Ne.RESOURCE_EXHAUSTED?(Pn(i.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):i&&i.code===Ne.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.Yo===i&&this.P_(a,u)},a=>{n(()=>{const u=new je(Ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(u)})})}P_(n,i){const a=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{a(()=>this.I_(u))}),this.stream.onMessage(u=>{a(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,Me.A)(function*(){n.state=0,n.start()}))}I_(n){return Pt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fd extends ef{constructor(n,i,a,u,f,y){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,y),this.serializer=f}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function M(c,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(ee=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===ee?1:"REMOVE"===ee?2:"CURRENT"===ee?3:"RESET"===ee?4:Qt(),u=n.targetChange.targetIds||[],f=function(ee,ve){return ee.useProto3Json?(Yt(void 0===ve||"string"==typeof ve),It.fromBase64String(ve||"")):(Yt(void 0===ve||ve instanceof Buffer||ve instanceof Uint8Array),It.fromUint8Array(ve||new Uint8Array))}(c,n.targetChange.resumeToken),y=n.targetChange.cause,P=y&&function(ee){const ve=void 0===ee.code?Ne.UNKNOWN:hs(ee.code);return new je(ve,ee.message||"")}(y);i=new rd(a,u,f,P||null)}else if("documentChange"in n){const a=n.documentChange,u=aa(c,a.document.name),f=so(a.document.updateTime),y=a.document.createTime?so(a.document.createTime):Xn.min(),P=new uo({mapValue:{fields:a.document.fields}}),U=oi.newFoundDocument(u,f,y,P);i=new Pl(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in n){const a=n.documentDelete,u=aa(c,a.document),f=a.readTime?so(a.readTime):Xn.min(),y=oi.newNoDocument(u,f);i=new Pl([],a.removedTargetIds||[],y.key,y)}else if("documentRemove"in n){const a=n.documentRemove,u=aa(c,a.document);i=new Pl([],a.removedTargetIds||[],u,null)}else{if(!("filter"in n))return Qt();{const a=n.filter,{count:u=0,unchangedNames:f}=a,y=new Ml(u,f);i=new ro(a.targetId,y)}}var ee;return i}(this.serializer,n),a=function(f){if(!("targetChange"in f))return Xn.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?Xn.min():y.readTime?so(y.readTime):Xn.min()}(n);return this.listener.d_(i,a)}A_(n){const i={};i.database=Dc(this.serializer),i.addTarget=function(f,y){let P;const U=y.target;if(P=pr(U)?{documents:fe(f,U)}:{query:Ce(f,U)._t},P.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){P.resumeToken=Ns(f,y.resumeToken);const ee=Os(f,y.expectedCount);null!==ee&&(P.expectedCount=ee)}else if(y.snapshotVersion.compareTo(Xn.min())>0){P.readTime=qo(f,y.snapshotVersion.toTimestamp());const ee=Os(f,y.expectedCount);null!==ee&&(P.expectedCount=ee)}return P}(this.serializer,n);const a=function Gt(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.a_(i)}R_(n){const i={};i.database=Dc(this.serializer),i.removeTarget=n,this.a_(i)}}class Qd extends ef{constructor(n,i,a,u,f,y){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,y),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return Yt(!!n.streamToken),this.lastStreamToken=n.streamToken,Yt(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){Yt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function B(c,n){return c&&c.length>0?(Yt(void 0!==n),c.map(i=>function(u,f){let y=so(u.updateTime?u.updateTime:f);return y.isEqual(Xn.min())&&(y=so(f)),new ye(y,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=so(n.commitTime);return this.listener.g_(a,i)}p_(){const n={};n.database=Dc(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>F(this.serializer,a))};this.a_(i)}}class v extends class{}{constructor(n,i,a,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new je(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.Mo(n,Ba(i,a),u,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new je(Ne.UNKNOWN,f.toString())})}Lo(n,i,a,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,P])=>this.connection.Lo(n,Ba(i,a),u,y,P,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new je(Ne.UNKNOWN,y.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class E{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pn(i),this.D_=!1):Pt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class T{constructor(n,i,a,u,f){var y=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(P=>{a.enqueueAndForget((0,Me.A)(function*(){var U;Gr(y)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,Me.A)(function*(ve){const Be=vt(ve);Be.L_.add(4),yield Z(Be),Be.q_.set("Unknown"),Be.L_.delete(4),yield b(Be)}),function ee(ve){return U.apply(this,arguments)})(y))}))}),this.q_=new E(a,u)}}function b(c){return N.apply(this,arguments)}function N(){return(N=(0,Me.A)(function*(c){if(Gr(c))for(const n of c.B_)yield n(!0)})).apply(this,arguments)}function Z(c){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,Me.A)(function*(c){for(const n of c.B_)yield n(!1)})).apply(this,arguments)}function Lt(c,n){const i=vt(c);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),hi(i)?Jr(i):ku(i).r_()&&vn(i,n))}function ln(c,n){const i=vt(c),a=ku(i);i.N_.delete(n),a.r_()&&ur(i,n),0===i.N_.size&&(a.r_()?a.o_():Gr(i)&&i.q_.set("Unknown"))}function vn(c,n){if(c.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Xn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}ku(c).A_(n)}function ur(c,n){c.Q_.xe(n),ku(c).R_(n)}function Jr(c){c.Q_=new Va({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>c.N_.get(n)||null,tt:()=>c.datastore.serializer.databaseId}),ku(c).start(),c.q_.v_()}function hi(c){return Gr(c)&&!ku(c).n_()&&c.N_.size>0}function Gr(c){return 0===vt(c).L_.size}function ui(c){c.Q_=void 0}function xi(c){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,Me.A)(function*(c){c.q_.set("Online")})).apply(this,arguments)}function zt(c){return yr.apply(this,arguments)}function yr(){return(yr=(0,Me.A)(function*(c){c.N_.forEach((n,i)=>{vn(c,n)})})).apply(this,arguments)}function Vi(c,n){return fi.apply(this,arguments)}function fi(){return(fi=(0,Me.A)(function*(c,n){ui(c),hi(c)?(c.q_.M_(n),Jr(c)):c.q_.set("Unknown")})).apply(this,arguments)}function ai(c,n,i){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,Me.A)(function*(c,n,i){if(c.q_.set("Online"),n instanceof rd&&2===n.state&&n.cause)try{yield(a=(0,Me.A)(function*(f,y){const P=y.cause;for(const U of y.targetIds)f.N_.has(U)&&(yield f.remoteSyncer.rejectListen(U,P),f.N_.delete(U),f.Q_.removeTarget(U))}),function u(f,y){return a.apply(this,arguments)})(c,n)}catch(a){Pt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield ua(c,a)}else if(n instanceof Pl?c.Q_.Ke(n):n instanceof ro?c.Q_.He(n):c.Q_.We(n),!i.isEqual(Xn.min()))try{const a=yield gp(c.localStore);i.compareTo(a)>=0&&(yield function(f,y){const P=f.Q_.rt(y);return P.targetChanges.forEach((U,ee)=>{if(U.resumeToken.approximateByteSize()>0){const ve=f.N_.get(ee);ve&&f.N_.set(ee,ve.withResumeToken(U.resumeToken,y))}}),P.targetMismatches.forEach((U,ee)=>{const ve=f.N_.get(U);if(!ve)return;f.N_.set(U,ve.withResumeToken(It.EMPTY_BYTE_STRING,ve.snapshotVersion)),ur(f,U);const Be=new Yi(ve.target,U,ee,ve.sequenceNumber);vn(f,Be)}),f.remoteSyncer.applyRemoteEvent(P)}(c,i))}catch(a){Pt("RemoteStore","Failed to raise snapshot:",a),yield ua(c,a)}var a}),Fs.apply(this,arguments)}function ua(c,n,i){return ss.apply(this,arguments)}function ss(){return(ss=(0,Me.A)(function*(c,n,i){if(!Ei(n))throw n;c.L_.add(1),yield Z(c),c.q_.set("Offline"),i||(i=()=>gp(c.localStore)),c.asyncQueue.enqueueRetryable((0,Me.A)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield i(),c.L_.delete(1),yield b(c)}))})).apply(this,arguments)}function lc(c,n){return n().catch(i=>ua(c,i,n))}function jc(c){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,Me.A)(function*(c){const n=vt(c),i=dc(n);let a=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;yp(n);)try{const u=yield m(n.localStore,a);if(null===u){0===n.O_.length&&i.o_();break}a=u.batchId,Ev(n,u)}catch(u){yield ua(n,u)}pd(n)&&Yd(n)})).apply(this,arguments)}function yp(c){return Gr(c)&&c.O_.length<10}function Ev(c,n){c.O_.push(n);const i=dc(c);i.r_()&&i.V_&&i.m_(n.mutations)}function pd(c){return Gr(c)&&!dc(c).n_()&&c.O_.length>0}function Yd(c){dc(c).start()}function Cv(c){return da.apply(this,arguments)}function da(){return(da=(0,Me.A)(function*(c){dc(c).p_()})).apply(this,arguments)}function du(c){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,Me.A)(function*(c){const n=dc(c);for(const i of c.O_)n.m_(i.mutations)})).apply(this,arguments)}function cc(c,n,i){return uc.apply(this,arguments)}function uc(){return(uc=(0,Me.A)(function*(c,n,i){const a=c.O_.shift(),u=La.from(a,n,i);yield lc(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield jc(c)})).apply(this,arguments)}function H0(c,n){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,Me.A)(function*(c,n){var i;n&&dc(c).V_&&(yield(i=(0,Me.A)(function*(u,f){if(ul(P=f.code)&&P!==Ne.ABORTED){const y=u.O_.shift();dc(u).s_(),yield lc(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,f)),yield jc(u)}var P}),function a(u,f){return i.apply(this,arguments)})(c,n)),pd(c)&&Yd(c)}),Ep.apply(this,arguments)}function Av(c,n){return _m.apply(this,arguments)}function _m(){return(_m=(0,Me.A)(function*(c,n){const i=vt(c);i.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const a=Gr(i);i.L_.add(3),yield Z(i),a&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield b(i)})).apply(this,arguments)}function tf(c,n){return nf.apply(this,arguments)}function nf(){return(nf=(0,Me.A)(function*(c,n){const i=vt(c);n?(i.L_.delete(2),yield b(i)):n||(i.L_.add(2),yield Z(i),i.q_.set("Unknown"))})).apply(this,arguments)}function ku(c){return c.K_||(c.K_=function(i,a,u){const f=vt(i);return f.w_(),new fd(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Eo:xi.bind(null,c),Ro:zt.bind(null,c),mo:Vi.bind(null,c),d_:ai.bind(null,c)}),c.B_.push(function(){var n=(0,Me.A)(function*(i){i?(c.K_.s_(),hi(c)?Jr(c):c.q_.set("Unknown")):(yield c.K_.stop(),ui(c))});return function(i){return n.apply(this,arguments)}}())),c.K_}function dc(c){return c.U_||(c.U_=function(i,a,u){const f=vt(i);return f.w_(),new Qd(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Cv.bind(null,c),mo:H0.bind(null,c),f_:du.bind(null,c),g_:cc.bind(null,c)}),c.B_.push(function(){var n=(0,Me.A)(function*(i){i?(c.U_.s_(),yield jc(c)):(yield c.U_.stop(),c.O_.length>0&&(Pt("RemoteStore",`Stopping write stream with ${c.O_.length} pending writes`),c.O_=[]))});return function(i){return n.apply(this,arguments)}}())),c.U_}class vm{constructor(n,i,a,u,f){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=f,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,a,u,f){const y=Date.now()+a,P=new vm(n,i,y,u,f);return P.start(a),P}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new je(Ne.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gd(c,n){if(Pn("AsyncQueue",`${n}: ${c}`),Ei(c))return new je(Ne.UNAVAILABLE,`${n}: ${c}`);throw c}class Fu{constructor(n){this.comparator=n?(i,a)=>n(i,a)||wn.comparator(i.key,a.key):(i,a)=>wn.comparator(i.key,a.key),this.keyedMap=Ql(),this.sortedSet=new br(this.comparator)}static emptySet(n){return new Fu(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof Fu)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new Fu;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class ym{constructor(){this.W_=new br(wn.comparator)}track(n){const i=n.doc.key,a=this.W_.get(i);a?0!==n.type&&3===a.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==a.type?this.W_=this.W_.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.W_=this.W_.remove(i):1===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):Qt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,a)=>{n.push(a)}),n}}class md{constructor(n,i,a,u,f,y,P,U,ee){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=P,this.excludesMetadataChanges=U,this.hasCachedResults=ee}static fromInitialDocuments(n,i,a,u,f){const y=[];return i.forEach(P=>{y.push({type:0,doc:P})}),new md(n,i,Fu.emptySet(i),y,a,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ra(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}class Tv{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class bv{constructor(){this.queries=Cp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,a){const u=vt(i),f=u.queries;u.queries=Cp(),f.forEach((y,P)=>{for(const U of P.j_)U.onError(a)})}(this,new je(Ne.ABORTED,"Firestore shutting down"))}}function Cp(){return new Xs(c=>wr(c),ra)}function Im(c,n){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,Me.A)(function*(c,n){const i=vt(c);let a=3;const u=n.query;let f=i.queries.get(u);f?!f.H_()&&n.J_()&&(a=2):(f=new Tv,a=n.J_()?0:1);try{switch(a){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(y){const P=gd(y,`Initialization of query '${bs(n.query)}' failed`);return void n.onError(P)}i.queries.set(u,f),f.j_.push(n),n.Z_(i.onlineState),f.z_&&n.X_(f.z_)&&Em(i)})).apply(this,arguments)}function hu(c,n){return bo.apply(this,arguments)}function bo(){return(bo=(0,Me.A)(function*(c,n){const i=vt(c),a=n.query;let u=3;const f=i.queries.get(a);if(f){const y=f.j_.indexOf(n);y>=0&&(f.j_.splice(y,1),0===f.j_.length?u=n.J_()?0:1:!f.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function G0(c,n){const i=vt(c);let a=!1;for(const u of n){const y=i.queries.get(u.query);if(y){for(const P of y.j_)P.X_(u)&&(a=!0);y.z_=u}}a&&Em(i)}function z0(c,n,i){const a=vt(c),u=a.queries.get(n);if(u)for(const f of u.j_)f.onError(i);a.queries.delete(n)}function Em(c){c.Y_.forEach(n=>{n.next()})}var Cm,Am;(Am=Cm||(Cm={})).ea="default",Am.Cache="cache";class Ap{constructor(n,i,a){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(n){if(!this.options.includeMetadataChanges){const a=[];for(const u of n.docChanges)3!==u.type&&a.push(u);n=new md(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=md.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==Cm.Cache}}class rf{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class hc{constructor(n){this.serializer=n}Es(n){return aa(this.serializer,n)}ds(n){return n.metadata.exists?Cu(this.serializer,n.document,!1):oi.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return so(n)}}class W0{constructor(n,i,a){this.ca=n,this.localStore=i,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=sf(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const a=rr.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,a=new hc(this.serializer);for(const u of n)if(u.metadata.queries){const f=a.Es(u.metadata.name);for(const y of u.metadata.queries){const P=(i.get(y)||xr()).add(f);i.set(y,P)}}return i}complete(){var n=this;return(0,Me.A)(function*(){const i=yield function Rr(c,n,i,a){return yi.apply(this,arguments)}(n.localStore,new hc(n.serializer),n.documents,n.ca.id),a=n.ha(n.documents);for(const u of n.queries)yield ea(n.localStore,u,a.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function sf(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class af{constructor(n){this.key=n}}class lf{constructor(n){this.key=n}}class Tp{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xr(),this.mutatedKeys=xr(),this.Aa=Xa(n),this.Ra=new Fu(this.Aa)}get Va(){return this.Ta}ma(n,i){const a=i?i.fa:new ym,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,y=u,P=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,ee="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((ve,Be)=>{const _t=u.get(ve),Ht=is(this.query,Be)?Be:null,yn=!!_t&&this.mutatedKeys.has(_t.key),jn=!!Ht&&(Ht.hasLocalMutations||this.mutatedKeys.has(Ht.key)&&Ht.hasCommittedMutations);let On=!1;_t&&Ht?_t.data.isEqual(Ht.data)?yn!==jn&&(a.track({type:3,doc:Ht}),On=!0):this.ga(_t,Ht)||(a.track({type:2,doc:Ht}),On=!0,(U&&this.Aa(Ht,U)>0||ee&&this.Aa(Ht,ee)<0)&&(P=!0)):!_t&&Ht?(a.track({type:0,doc:Ht}),On=!0):_t&&!Ht&&(a.track({type:1,doc:_t}),On=!0,(U||ee)&&(P=!0)),On&&(Ht?(y=y.add(Ht),f=jn?f.add(ve):f.delete(ve)):(y=y.delete(ve),f=f.delete(ve)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ve="F"===this.query.limitType?y.last():y.first();y=y.delete(ve.key),f=f.delete(ve.key),a.track({type:1,doc:ve})}return{Ra:y,fa:a,ns:P,mutatedKeys:f}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a,u){const f=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const y=n.fa.G_();y.sort((ve,Be)=>function(Ht,yn){const jn=On=>{switch(On){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qt()}};return jn(Ht)-jn(yn)}(ve.type,Be.type)||this.Aa(ve.doc,Be.doc)),this.pa(a),u=null!=u&&u;const P=i&&!u?this.ya():[],U=0===this.da.size&&this.current&&!u?1:0,ee=U!==this.Ea;return this.Ea=U,0!==y.length||ee?{snapshot:new md(this.query,n.Ra,f,y,n.mutatedKeys,0===U,ee,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:P}:{wa:P}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ym,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=xr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const i=[];return n.forEach(a=>{this.da.has(a)||i.push(new lf(a))}),this.da.forEach(a=>{n.has(a)||i.push(new af(a))}),i}ba(n){this.Ta=n.Ts,this.da=xr();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return md.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class wv{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class Dv{constructor(n){this.key=n,this.va=!1}}class K0{constructor(n,i,a,u,f,y){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.Ca={},this.Fa=new Xs(P=>wr(P),ra),this.Ma=new Map,this.xa=new Set,this.Oa=new br(wn.comparator),this.Na=new Map,this.La=new Fc,this.Ba={},this.ka=new Map,this.qa=Ji.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Jd(c,n){return _d.apply(this,arguments)}function _d(){return(_d=(0,Me.A)(function*(c,n,i=!0){const a=pf(c);let u;const f=a.Fa.get(n);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield Tm(a,n,i,!0),u})).apply(this,arguments)}function X0(c,n){return cf.apply(this,arguments)}function cf(){return(cf=(0,Me.A)(function*(c,n){const i=pf(c);yield Tm(i,n,!0,!1)})).apply(this,arguments)}function Tm(c,n,i,a){return bm.apply(this,arguments)}function bm(){return(bm=(0,Me.A)(function*(c,n,i,a){const u=yield R(c.localStore,Ko(n)),f=u.targetId,y=i?c.sharedClientState.addLocalQueryTarget(f):"not-current";let P;return a&&(P=yield wm(c,n,f,"current"===y,u.resumeToken)),c.isPrimaryClient&&i&&Lt(c.remoteStore,u),P})).apply(this,arguments)}function wm(c,n,i,a,u){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,Me.A)(function*(c,n,i,a,u){c.Ka=(Be,_t,Ht)=>{return(yn=(0,Me.A)(function*(On,Ir,Nr,Cr){let zr=Ir.view.ma(Nr);zr.ns&&(zr=yield Mt(On.localStore,Ir.query,!1).then(({documents:dt})=>Ir.view.ma(dt,zr)));const zi=Cr&&Cr.targetChanges.get(Ir.targetId),Zr=Cr&&null!=Cr.targetMismatches.get(Ir.targetId),$t=Ir.view.applyChanges(zr,On.isPrimaryClient,zi,Zr);return Rm(On,Ir.targetId,$t.wa),$t.snapshot}),function jn(On,Ir,Nr,Cr){return yn.apply(this,arguments)})(c,Be,_t,Ht);var yn};const f=yield Mt(c.localStore,n,!0),y=new Tp(n,f.Ts),P=y.ma(f.documents),U=vo.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==c.onlineState,u),ee=y.applyChanges(P,c.isPrimaryClient,U);Rm(c,i,ee.wa);const ve=new wv(n,i,y);return c.Fa.set(n,ve),c.Ma.has(i)?c.Ma.get(i).push(n):c.Ma.set(i,[n]),ee.snapshot}),Sv.apply(this,arguments)}function kC(c,n,i){return uf.apply(this,arguments)}function uf(){return(uf=(0,Me.A)(function*(c,n,i){const a=vt(c),u=a.Fa.get(n),f=a.Ma.get(u.targetId);if(f.length>1)return a.Ma.set(u.targetId,f.filter(y=>!ra(y,n))),void a.Fa.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||(yield re(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&ln(a.remoteStore,u.targetId),fu(a,u.targetId)}).catch(ir))):(fu(a,u.targetId),yield re(a.localStore,u.targetId,!0))})).apply(this,arguments)}function vd(c,n){return df.apply(this,arguments)}function df(){return(df=(0,Me.A)(function*(c,n){const i=vt(c),a=i.Fa.get(n),u=i.Ma.get(a.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ln(i.remoteStore,a.targetId))})).apply(this,arguments)}function Dm(){return(Dm=(0,Me.A)(function*(c,n,i){const a=Nm(c);try{const u=yield function(y,P){const U=vt(y),ee=qn.now(),ve=P.reduce((Ht,yn)=>Ht.add(yn.key),xr());let Be,_t;return U.persistence.runTransaction("Locally write mutations","readwrite",Ht=>{let yn=ko(),jn=xr();return U.cs.getEntries(Ht,ve).next(On=>{yn=On,yn.forEach((Ir,Nr)=>{Nr.isValidDocument()||(jn=jn.add(Ir))})}).next(()=>U.localDocuments.getOverlayedDocuments(Ht,yn)).next(On=>{Be=On;const Ir=[];for(const Nr of P){const Cr=Lr(Nr,Be.get(Nr.key).overlayedDocument);null!=Cr&&Ir.push(new Kn(Nr.key,Cr,Ro(Cr.value.mapValue),$e.exists(!0)))}return U.mutationQueue.addMutationBatch(Ht,ee,Ir,P)}).next(On=>{_t=On;const Ir=On.applyToLocalDocumentSet(Be,jn);return U.documentOverlayCache.saveOverlays(Ht,On.batchId,Ir)})}).then(()=>({batchId:_t.batchId,changes:va(Be)}))}(a.localStore,n);a.sharedClientState.addPendingMutation(u.batchId),function(y,P,U){let ee=y.Ba[y.currentUser.toKey()];ee||(ee=new br(An)),ee=ee.insert(P,U),y.Ba[y.currentUser.toKey()]=ee}(a,u.batchId,i),yield Hc(a,u.changes),yield jc(a.remoteStore)}catch(u){const f=gd(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function Zd(c,n){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,Me.A)(function*(c,n){const i=vt(c);try{const a=yield function A(c,n){const i=vt(c),a=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const y=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const P=[];n.targetChanges.forEach((ve,Be)=>{const _t=u.get(Be);if(!_t)return;P.push(i.Ur.removeMatchingKeys(f,ve.removedDocuments,Be).next(()=>i.Ur.addMatchingKeys(f,ve.addedDocuments,Be)));let Ht=_t.withSequenceNumber(f.currentSequenceNumber);var jn,On,Ir;null!==n.targetMismatches.get(Be)?Ht=Ht.withResumeToken(It.EMPTY_BYTE_STRING,Xn.min()).withLastLimboFreeSnapshotVersion(Xn.min()):ve.resumeToken.approximateByteSize()>0&&(Ht=Ht.withResumeToken(ve.resumeToken,a)),u=u.insert(Be,Ht),On=Ht,Ir=ve,(0===(jn=_t).resumeToken.approximateByteSize()||On.snapshotVersion.toMicroseconds()-jn.snapshotVersion.toMicroseconds()>=3e8||Ir.addedDocuments.size+Ir.modifiedDocuments.size+Ir.removedDocuments.size>0)&&P.push(i.Ur.updateTargetData(f,Ht))});let U=ko(),ee=xr();if(n.documentUpdates.forEach(ve=>{n.resolvedLimboDocuments.has(ve)&&P.push(i.persistence.referenceDelegate.updateLimboDocument(f,ve))}),P.push(p(f,y,n.documentUpdates).next(ve=>{U=ve.Ps,ee=ve.Is})),!a.isEqual(Xn.min())){const ve=i.Ur.getLastRemoteSnapshotVersion(f).next(Be=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,a));P.push(ve)}return At.waitFor(P).next(()=>y.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,U,ee)).next(()=>U)}).then(f=>(i.os=u,f))}(i.localStore,n);n.targetChanges.forEach((u,f)=>{const y=i.Na.get(f);y&&(Yt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.va=!0:u.modifiedDocuments.size>0?Yt(y.va):u.removedDocuments.size>0&&(Yt(y.va),y.va=!1))}),yield Hc(i,a,n)}catch(a){yield ir(a)}})).apply(this,arguments)}function bp(c,n,i){const a=vt(c);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const u=[];a.Fa.forEach((f,y)=>{const P=y.view.Z_(n);P.snapshot&&u.push(P.snapshot)}),function(y,P){const U=vt(y);U.onlineState=P;let ee=!1;U.queries.forEach((ve,Be)=>{for(const _t of Be.j_)_t.Z_(P)&&(ee=!0)}),ee&&Em(U)}(a.eventManager,n),u.length&&a.Ca.d_(u),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function wp(c,n,i){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,Me.A)(function*(c,n,i){const a=vt(c);a.sharedClientState.updateQueryState(n,"rejected",i);const u=a.Na.get(n),f=u&&u.key;if(f){let y=new br(wn.comparator);y=y.insert(f,oi.newNoDocument(f,Xn.min()));const P=xr().add(f),U=new Yl(Xn.min(),new Map,new br(An),y,P);yield Zd(a,U),a.Oa=a.Oa.remove(f),a.Na.delete(n),Mp(a)}else yield re(a.localStore,n,!1).then(()=>fu(a,n,i)).catch(ir)})).apply(this,arguments)}function Mv(c,n){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,Me.A)(function*(c,n){const i=vt(c),a=n.batch.batchId;try{const u=yield function mm(c,n){const i=vt(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=n.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(P,U,ee,ve){const Be=ee.batch,_t=Be.keys();let Ht=At.resolve();return _t.forEach(yn=>{Ht=Ht.next(()=>ve.getEntry(U,yn)).next(jn=>{const On=ee.docVersions.get(yn);Yt(null!==On),jn.version.compareTo(On)<0&&(Be.applyToRemoteDocument(jn,ee),jn.isValidDocument()&&(jn.setReadTime(ee.commitVersion),ve.addEntry(jn)))})}),Ht.next(()=>P.mutationQueue.removeMutationBatch(U,Be))}(i,a,n,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(P){let U=xr();for(let ee=0;ee<P.mutationResults.length;++ee)P.mutationResults[ee].transformResults.length>0&&(U=U.add(P.batch.mutations[ee].key));return U}(n))).next(()=>i.localDocuments.getDocuments(a,u))})}(i.localStore,n);Sp(i,a,null),ff(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield Hc(i,u)}catch(u){yield ir(u)}})).apply(this,arguments)}function q0(c,n,i){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,Me.A)(function*(c,n,i){const a=vt(c);try{const u=yield function(y,P){const U=vt(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",ee=>{let ve;return U.mutationQueue.lookupMutationBatch(ee,P).next(Be=>(Yt(null!==Be),ve=Be.keys(),U.mutationQueue.removeMutationBatch(ee,Be))).next(()=>U.mutationQueue.performConsistencyCheck(ee)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(ee,ve,P)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ee,ve)).next(()=>U.localDocuments.getDocuments(ee,ve))})}(a.localStore,n);Sp(a,n,i),ff(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield Hc(a,u)}catch(u){yield ir(u)}})).apply(this,arguments)}function eh(){return(eh=(0,Me.A)(function*(c,n){const i=vt(c);Gr(i.remoteStore)||Pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(y){const P=vt(y);return P.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>P.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===a)return void n.resolve();const u=i.ka.get(a)||[];u.push(n),i.ka.set(a,u)}catch(a){const u=gd(a,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function ff(c,n){(c.ka.get(n)||[]).forEach(i=>{i.resolve()}),c.ka.delete(n)}function Sp(c,n,i){const a=vt(c);let u=a.Ba[a.currentUser.toKey()];if(u){const f=u.get(n);f&&(i?f.reject(i):f.resolve(),u=u.remove(n)),a.Ba[a.currentUser.toKey()]=u}}function fu(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const a of c.Ma.get(n))c.Fa.delete(a),i&&c.Ca.$a(a,i);c.Ma.delete(n),c.isPrimaryClient&&c.La.gr(n).forEach(a=>{c.La.containsKey(a)||Rp(c,a)})}function Rp(c,n){c.xa.delete(n.path.canonicalString());const i=c.Oa.get(n);null!==i&&(ln(c.remoteStore,i),c.Oa=c.Oa.remove(n),c.Na.delete(i),Mp(c))}function Rm(c,n,i){for(const a of i)a instanceof af?(c.La.addReference(a.key,n),Pv(c,a)):a instanceof lf?(Pt("SyncEngine","Document no longer in limbo: "+a.key),c.La.removeReference(a.key,n),c.La.containsKey(a.key)||Rp(c,a.key)):Qt()}function Pv(c,n){const i=n.key,a=i.path.canonicalString();c.Oa.get(i)||c.xa.has(a)||(Pt("SyncEngine","New document in limbo: "+i),c.xa.add(a),Mp(c))}function Mp(c){for(;c.xa.size>0&&c.Oa.size<c.maxConcurrentLimboResolutions;){const n=c.xa.values().next().value;c.xa.delete(n);const i=new wn(rr.fromString(n)),a=c.qa.next();c.Na.set(a,new Dv(i)),c.Oa=c.Oa.insert(i,a),Lt(c.remoteStore,new Yi(Ko(jo(i.path)),a,"TargetPurposeLimboResolution",we.oe))}}function Hc(c,n,i){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,Me.A)(function*(c,n,i){const a=vt(c),u=[],f=[],y=[];var P;a.Fa.isEmpty()||(a.Fa.forEach((P,U)=>{y.push(a.Ka(U,n,i).then(ee=>{var ve;if((ee||i)&&a.isPrimaryClient){const Be=ee?!ee.fromCache:null===(ve=null==i?void 0:i.targetChanges.get(U.targetId))||void 0===ve?void 0:ve.current;a.sharedClientState.updateQueryState(U.targetId,Be?"current":"not-current")}if(ee){u.push(ee);const Be=Yh.Wi(U.targetId,ee);f.push(Be)}}))}),yield Promise.all(y),a.Ca.d_(u),yield(P=(0,Me.A)(function*(ee,ve){const Be=vt(ee);try{yield Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",_t=>At.forEach(ve,Ht=>At.forEach(Ht.$i,yn=>Be.persistence.referenceDelegate.addReference(_t,Ht.targetId,yn)).next(()=>At.forEach(Ht.Ui,yn=>Be.persistence.referenceDelegate.removeReference(_t,Ht.targetId,yn)))))}catch(_t){if(!Ei(_t))throw _t;Pt("LocalStore","Failed to update sequence numbers: "+_t)}for(const _t of ve){const Ht=_t.targetId;if(!_t.fromCache){const yn=Be.os.get(Ht),On=yn.withLastLimboFreeSnapshotVersion(yn.snapshotVersion);Be.os=Be.os.insert(Ht,On)}}}),function U(ee,ve){return P.apply(this,arguments)})(a.localStore,f))}),Pp.apply(this,arguments)}function Y0(c,n){return th.apply(this,arguments)}function th(){return(th=(0,Me.A)(function*(c,n){const i=vt(c);if(!i.currentUser.isEqual(n)){Pt("SyncEngine","User change. New user:",n.toKey());const a=yield Jh(i.localStore,n);i.currentUser=n,(f=i).ka.forEach(P=>{P.forEach(U=>{U.reject(new je(Ne.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield Hc(i,a.hs)}var f})).apply(this,arguments)}function yd(c,n){const i=vt(c),a=i.Na.get(n);if(a&&a.va)return xr().add(a.key);{let u=xr();const f=i.Ma.get(n);if(!f)return u;for(const y of f){const P=i.Fa.get(y);u=u.unionWith(P.view.Va)}return u}}function J0(c,n){return Op.apply(this,arguments)}function Op(){return(Op=(0,Me.A)(function*(c,n){const i=vt(c),a=yield Mt(i.localStore,n.query,!0),u=n.view.ba(a);return i.isPrimaryClient&&Rm(i,n.targetId,u.wa),u})).apply(this,arguments)}function Ov(c,n){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,Me.A)(function*(c,n){const i=vt(c);return Cn(i.localStore,n).then(a=>Hc(i,a))})).apply(this,arguments)}function nh(c,n,i,a){return Es.apply(this,arguments)}function Es(){return(Es=(0,Me.A)(function*(c,n,i,a){const u=vt(c),f=yield function(P,U){const ee=vt(P),ve=vt(ee.mutationQueue);return ee.persistence.runTransaction("Lookup mutation documents","readonly",Be=>ve.Mn(Be,U).next(_t=>_t?ee.localDocuments.getDocuments(Be,_t):At.resolve(null)))}(u.localStore,n);var U;null!==f?("pending"===i?yield jc(u.remoteStore):"acknowledged"===i||"rejected"===i?(Sp(u,n,a||null),ff(u,n),U=n,vt(vt(u.localStore).mutationQueue).On(U)):Qt(),yield Hc(u,f)):Pt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Np(){return(Np=(0,Me.A)(function*(c,n){const i=vt(c);if(pf(i),Nm(i),!0===n&&!0!==i.Qa){const a=i.sharedClientState.getAllActiveQueryTargets(),u=yield xp(i,a.toArray());i.Qa=!0,yield tf(i.remoteStore,!0);for(const f of u)Lt(i.remoteStore,f)}else if(!1===n&&!1!==i.Qa){const a=[];let u=Promise.resolve();i.Ma.forEach((f,y)=>{i.sharedClientState.isLocalQueryTarget(y)?a.push(y):u=u.then(()=>(fu(i,y),re(i.localStore,y,!0))),ln(i.remoteStore,y)}),yield u,yield xp(i,a),function(y){const P=vt(y);P.Na.forEach((U,ee)=>{ln(P.remoteStore,ee)}),P.La.pr(),P.Na=new Map,P.Oa=new br(wn.comparator)}(i),i.Qa=!1,yield tf(i.remoteStore,!1)}})).apply(this,arguments)}function xp(c,n,i){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,Me.A)(function*(c,n,i){const a=vt(c),u=[],f=[];for(const y of n){let P;const U=a.Ma.get(y);if(U&&0!==U.length){P=yield R(a.localStore,Ko(U[0]));for(const ee of U){const ve=a.Fa.get(ee),Be=yield J0(a,ve);Be.snapshot&&f.push(Be.snapshot)}}else{const ee=yield en(a.localStore,y);P=yield R(a.localStore,ee),yield wm(a,Pm(ee),y,!1,P.resumeToken)}u.push(P)}return a.Ca.d_(f),u})).apply(this,arguments)}function Pm(c){return Eo(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function kp(c){return i=vt(c).localStore,vt(vt(i).persistence).Qi();var i}function eI(c,n,i,a){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,Me.A)(function*(c,n,i,a){const u=vt(c);if(u.Qa)return void Pt("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(n);if(f&&f.length>0)switch(i){case"current":case"not-current":{const y=yield Cn(u.localStore,_s(f[0])),P=Yl.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,It.EMPTY_BYTE_STRING);yield Hc(u,y,P);break}case"rejected":yield re(u.localStore,n,!0),fu(u,n,a);break;default:Qt()}})).apply(this,arguments)}function Om(c,n,i){return rh.apply(this,arguments)}function rh(){return(rh=(0,Me.A)(function*(c,n,i){const a=pf(c);if(a.Qa){for(const u of n){if(a.Ma.has(u)&&a.sharedClientState.isActiveQueryTarget(u)){Pt("SyncEngine","Adding an already active target "+u);continue}const f=yield en(a.localStore,u),y=yield R(a.localStore,f);yield wm(a,Pm(f),y.targetId,!1,y.resumeToken),Lt(a.remoteStore,y)}for(const u of i)a.Ma.has(u)&&(yield re(a.localStore,u,!1).then(()=>{ln(a.remoteStore,u),fu(a,u)}).catch(ir))}})).apply(this,arguments)}function pf(c){const n=vt(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=Zd.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=yd.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=wp.bind(null,n),n.Ca.d_=G0.bind(null,n.eventManager),n.Ca.$a=z0.bind(null,n.eventManager),n}function Nm(c){const n=vt(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Mv.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=q0.bind(null,n),n}class ih{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,Me.A)(function*(){i.serializer=dd(n.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(n),i.persistence=i.createPersistence(n),yield i.persistence.start(),i.localStore=i.createLocalStore(n),i.gcScheduler=i.createGarbageCollectionScheduler(n,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(n,i.localStore)})()}createGarbageCollectionScheduler(n,i){return null}createIndexBackfillerScheduler(n,i){return null}createLocalStore(n){return pp(this.persistence,new fp,n.initialUser,this.serializer)}createPersistence(n){return new wa(au.Zr,this.serializer)}createSharedClientState(n){return new Ds}terminate(){var n=this;return(0,Me.A)(function*(){var i,a;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(a=n.indexBackfillerScheduler)||void 0===a||a.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class xm extends ih{constructor(n,i,a){super(),this.Wa=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,Me.A)(function*(){yield i().call(a,n),yield a.Wa.initialize(a,n),yield Nm(a.Wa.syncEngine),yield jc(a.Wa.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return pp(this.persistence,new fp,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,i){return new vl(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}createIndexBackfillerScheduler(n,i){const a=new Ye(i,this.persistence);return new po(n.asyncQueue,a)}createPersistence(n){const i=Xd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new cu(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,vp(),qd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new Ds}}class km extends xm{constructor(n,i){super(n,i,!1),this.Wa=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,Me.A)(function*(){yield i().call(a,n);const u=a.Wa.syncEngine;a.sharedClientState instanceof Ll&&(a.sharedClientState.syncEngine={no:nh.bind(null,u),ro:eI.bind(null,u),io:Om.bind(null,u),Qi:kp.bind(null,u),eo:Ov.bind(null,u)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var f=(0,Me.A)(function*(y){yield function Z0(c,n){return Np.apply(this,arguments)}(a.Wa.syncEngine,y),a.gcScheduler&&(y&&!a.gcScheduler.started?a.gcScheduler.start():y||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(y&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():y||a.indexBackfillerScheduler.stop())});return function(y){return f.apply(this,arguments)}}())})()}createSharedClientState(n){const i=vp();if(!Ll.D(i))throw new je(Ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=Xd(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Ll(i,n.asyncQueue,a,n.clientId,n.initialUser)}}class oh{initialize(n,i){var a=this;return(0,Me.A)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(i),a.remoteStore=a.createRemoteStore(i),a.eventManager=a.createEventManager(i),a.syncEngine=a.createSyncEngine(i,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=u=>bp(a.syncEngine,u,1),a.remoteStore.remoteSyncer.handleCredentialChange=Y0.bind(null,a.syncEngine),yield tf(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new bv}createDatastore(n){const i=dd(n.databaseInfo.databaseId),a=new Cl(n.databaseInfo);return new v(n.authCredentials,n.appCheckCredentials,a,i)}createRemoteStore(n){return a=this.localStore,u=this.datastore,f=n.asyncQueue,y=i=>bp(this.syncEngine,i,0),P=ac.D()?new ac:new mp,new T(a,u,f,y,P);var a,u,f,y,P}createSyncEngine(n,i){return function(u,f,y,P,U,ee,ve){const Be=new K0(u,f,y,P,U,ee);return ve&&(Be.Qa=!0),Be}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,Me.A)(function*(){var i,a,u;yield(u=(0,Me.A)(function*(y){const P=vt(y);Pt("RemoteStore","RemoteStore shutting down."),P.L_.add(5),yield Z(P),P.k_.shutdown(),P.q_.set("Unknown")}),function f(y){return u.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate(),null===(a=n.eventManager)||void 0===a||a.terminate()})()}}function xv(c,n=10240){let i=0;return{read:()=>(0,Me.A)(function*(){if(i<c.byteLength){const a={value:c.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,Me.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Fm{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ga(this.observer.next,n)}error(n){this.observer.error?this.Ga(this.observer.error,n):Pn("Uncaught Error in snapshot listener:",n.toString())}za(){this.muted=!0}Ga(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class kv{constructor(n,i){this.ja=n,this.serializer=i,this.metadata=new rn,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.aa)}`))},a=>this.metadata.reject(a))}close(){return this.ja.cancel()}getMetadata(){var n=this;return(0,Me.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,Me.A)(function*(){return yield n.getMetadata(),n.Ja()})()}Ja(){var n=this;return(0,Me.A)(function*(){const i=yield n.Ya();if(null===i)return null;const a=n.Ha.decode(i),u=Number(a);isNaN(u)&&n.Za(`length string (${a}) is not valid number`);const f=yield n.Xa(u);return new rf(JSON.parse(f),i.length+u)})()}eu(){return this.buffer.findIndex(n=>123===n)}Ya(){var n=this;return(0,Me.A)(function*(){for(;n.eu()<0&&!(yield n.tu()););if(0===n.buffer.length)return null;const i=n.eu();i<0&&n.Za("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}Xa(n){var i=this;return(0,Me.A)(function*(){for(;i.buffer.length<n;)(yield i.tu())&&i.Za("Reached the end of bundle when more is expected.");const a=i.Ha.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}Za(n){throw this.ja.cancel(),new Error(`Invalid bundle format: ${n}`)}tu(){var n=this;return(0,Me.A)(function*(){const i=yield n.ja.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class Fv{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,Me.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new je(Ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const a=yield(u=(0,Me.A)(function*(y,P){const U=vt(y),ee={documents:P.map(Ht=>$a(U.serializer,Ht))},ve=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,rr.emptyPath(),ee,P.length),Be=new Map;ve.forEach(Ht=>{const yn=function C(c,n){return"found"in n?function(a,u){Yt(!!u.found);const f=aa(a,u.found.name),y=so(u.found.updateTime),P=u.found.createTime?so(u.found.createTime):Xn.min(),U=new uo({mapValue:{fields:u.found.fields}});return oi.newFoundDocument(f,y,P,U)}(c,n):"missing"in n?function(a,u){Yt(!!u.missing),Yt(!!u.readTime);const f=aa(a,u.missing),y=so(u.readTime);return oi.newNoDocument(f,y)}(c,n):Qt()}(U.serializer,Ht);Be.set(yn.key.toString(),yn)});const _t=[];return P.forEach(Ht=>{const yn=Be.get(Ht.toString());Yt(!!yn),_t.push(yn)}),_t}),function f(y,P){return u.apply(this,arguments)})(i.datastore,n);var u;return a.forEach(u=>i.recordVersion(u)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new ys(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Me.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,u)=>{const f=wn.fromPath(u);n.mutations.push(new Is(f,n.precondition(f)))}),yield(a=(0,Me.A)(function*(f,y){const P=vt(f),U={writes:y.map(ee=>F(P.serializer,ee))};yield P.Mo("Commit",P.serializer.databaseId,rr.emptyPath(),U)}),function u(f,y){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw Qt();i=Xn.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new je(Ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Xn.min())?$e.exists(!1):$e.updateTime(i):$e.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Xn.min()))throw new je(Ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $e.updateTime(i)}return $e.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class Sa{constructor(n,i,a,u,f){this.asyncQueue=n,this.datastore=i,this.options=a,this.updateFunction=u,this.deferred=f,this.nu=a.maxAttempts,this.t_=new hd(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var n=this;this.t_.Go((0,Me.A)(function*(){const i=new Fv(n.datastore),a=n.su(i);a&&a.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(f=>{n.ou(f)}))}).catch(u=>{n.ou(u)})}))}su(n){try{const i=this.updateFunction(n);return!bt(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ou(n){this.nu>0&&this._u(n)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(n)}_u(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!ul(i)}return!1}}class FC{constructor(n,i,a,u){var f=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=ze.UNAUTHENTICATED,this.clientId=pi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,function(){var y=(0,Me.A)(function*(P){Pt("FirestoreClient","Received user=",P.uid),yield f.authCredentialListener(P),f.user=P});return function(P){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(a,y=>(Pt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new je(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Me.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(a){const u=gd(a,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Lp(c,n){return Lv.apply(this,arguments)}function Lv(){return Lv=(0,Me.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let a=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,Me.A)(function*(f){a.isEqual(f)||(yield Jh(n.localStore,f),a=f)});return function(f){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),Lv.apply(this,arguments)}function Vp(c,n){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,Me.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield Bp(c);Pt("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(a=>Av(n.remoteStore,a)),c.setAppCheckTokenChangeListener((a,u)=>Av(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function Up(c){return"FirebaseError"===c.name?c.code===Ne.FAILED_PRECONDITION||c.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code}function Bp(c){return Id.apply(this,arguments)}function Id(){return(Id=(0,Me.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Lp(c,c._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!Up(i))throw i;Sn("Error using user provided cache. Falling back to memory cache: "+i),yield Lp(c,new ih)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield Lp(c,new ih);return c._offlineComponents})).apply(this,arguments)}function $p(c){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,Me.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Vp(c,c._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield Vp(c,new oh))),c._onlineComponents})).apply(this,arguments)}function Vu(c){return Bp(c).then(n=>n.persistence)}function gf(c){return Bp(c).then(n=>n.localStore)}function Uv(c){return $p(c).then(n=>n.remoteStore)}function Bl(c){return $p(c).then(n=>n.syncEngine)}function Ed(c){return jp.apply(this,arguments)}function jp(){return(jp=(0,Me.A)(function*(c){const n=yield $p(c),i=n.eventManager;return i.onListen=Jd.bind(null,n.syncEngine),i.onUnlisten=kC.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=X0.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=vd.bind(null,n.syncEngine),i})).apply(this,arguments)}function Bv(c,n,i={}){const a=new rn;return c.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function(f,y,P,U,ee){const ve=new Fm({next:_t=>{y.enqueueAndForget(()=>hu(f,Be));const Ht=_t.docs.has(P);!Ht&&_t.fromCache?ee.reject(new je(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):Ht&&_t.fromCache&&U&&"server"===U.source?ee.reject(new je(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ee.resolve(_t)},error:_t=>ee.reject(_t)}),Be=new Ap(jo(P.path),ve,{includeMetadataChanges:!0,_a:!0});return Im(f,Be)}(yield Ed(c),c.asyncQueue,n,i,a)})),a.promise}function $v(c,n,i={}){const a=new rn;return c.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function(f,y,P,U,ee){const ve=new Fm({next:_t=>{y.enqueueAndForget(()=>hu(f,Be)),_t.fromCache&&"server"===U.source?ee.reject(new je(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ee.resolve(_t)},error:_t=>ee.reject(_t)}),Be=new Ap(P,ve,{includeMetadataChanges:!0,_a:!0});return Im(f,Be)}(yield Ed(c),c.asyncQueue,n,i,a)})),a.promise}function Gv(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const zv=new Map;function Gp(c,n,i){if(!i)throw new je(Ne.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function Wv(c,n,i,a){if(!0===n&&!0===a)throw new je(Ne.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)}function Gc(c){if(!wn.isDocumentKey(c))throw new je(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function Kv(c){if(wn.isDocumentKey(c))throw new je(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function _f(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(a=c).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof c?"a function":Qt()}function Fi(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new je(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_f(c);throw new je(Ne.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}function iI(c,n){if(n<=0)throw new je(Ne.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${n}.`)}class oI{constructor(n){var i,a;if(void 0===n.host){if(void 0!==n.ssl)throw new je(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new je(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}Wv("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Gv(null!==(a=n.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new je(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new je(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new je(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class zp{constructor(n,i,a,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new je(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new je(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oI(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new hr;switch(a.type){case"firstParty":return new Ar(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new je(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=zv.get(i);a&&(Pt("ComponentProvider","Removing Datastore"),zv.delete(i),a.terminate())}(this),Promise.resolve()}}class ha{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new ha(this.firestore,n,this._query)}}class fo{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new fo(this.firestore,n,this._key)}}class il extends ha{constructor(n,i,a){super(n,i,jo(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new fo(this.firestore,null,new wn(n))}withConverter(n){return new il(this.firestore,n,this._path)}}function jm(c,n,...i){if(c=(0,ut.Ku)(c),Gp("collection","path",n),c instanceof zp){const a=rr.fromString(n,...i);return Kv(a),new il(c,null,a)}{if(!(c instanceof fo||c instanceof il))throw new je(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(rr.fromString(n,...i));return Kv(a),new il(c.firestore,null,a)}}function sh(c,n,...i){if(c=(0,ut.Ku)(c),1===arguments.length&&(n=pi.newId()),Gp("doc","path",n),c instanceof zp){const a=rr.fromString(n,...i);return Gc(a),new fo(c,null,new wn(a))}{if(!(c instanceof fo||c instanceof il))throw new je(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(rr.fromString(n,...i));return Gc(a),new fo(c.firestore,c instanceof il?c.converter:null,new wn(a))}}function ah(c,n){return c=(0,ut.Ku)(c),n=(0,ut.Ku)(n),(c instanceof fo||c instanceof il)&&(n instanceof fo||n instanceof il)&&c.firestore===n.firestore&&c.path===n.path&&c.converter===n.converter}function Hm(c,n){return c=(0,ut.Ku)(c),n=(0,ut.Ku)(n),c instanceof ha&&n instanceof ha&&c.firestore===n.firestore&&ra(c._query,n._query)&&c.converter===n.converter}class Gm{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new hd(this,"async_queue_retry"),this.Eu=()=>{const i=qd();i&&Pt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()};const n=qd();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.du(),this.Au(n)}enterRestrictedMode(n){if(!this.cu){this.cu=!0,this.Iu=n||!1;const i=qd();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Eu)}}enqueue(n){if(this.du(),this.cu)return new Promise(()=>{});const i=new rn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.uu.push(n),this.Ru()))}Ru(){var n=this;return(0,Me.A)(function*(){if(0!==n.uu.length){try{yield n.uu[0](),n.uu.shift(),n.t_.reset()}catch(i){if(!Ei(i))throw i;Pt("AsyncQueue","Operation failed with retryable error: "+i)}n.uu.length>0&&n.t_.Go(()=>n.Ru())}})()}Au(n){const i=this.au.then(()=>(this.Pu=!0,n().catch(a=>{throw this.hu=a,this.Pu=!1,Pn("INTERNAL UNHANDLED ERROR: ",function(y){let P=y.message||"";return y.stack&&(P=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),P}(a)),a}).then(a=>(this.Pu=!1,a))));return this.au=i,i}enqueueAfterDelay(n,i,a){this.du(),this.Tu.indexOf(n)>-1&&(i=0);const u=vm.createAndSchedule(this,n,i,a,f=>this.Vu(f));return this.lu.push(u),u}du(){this.hu&&Qt()}verifyOperationInProgress(){}mu(){var n=this;return(0,Me.A)(function*(){let i;do{i=n.au,yield i}while(i!==n.au)})()}fu(n){for(const i of this.lu)if(i.timerId===n)return!0;return!1}gu(n){return this.mu().then(()=>{this.lu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.lu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.mu()})}pu(n){this.Tu.push(n)}Vu(n){const i=this.lu.indexOf(n);this.lu.splice(i,1)}}function Wp(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(c)}class vf{constructor(){this._progressObserver={},this._taskCompletionResolver=new rn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class yo extends zp{constructor(n,i,a,u){super(n,i,a,u),this.type="firestore",this._queue=new Gm,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qv(this),this._firestoreClient.terminate()}}function Yo(c){return c._firestoreClient||qv(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function qv(c){var n,i,a;const u=c._freezeSettings(),f=(U=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new sn(c._databaseId,U,c._persistenceKey,(ve=u).host,ve.ssl,ve.experimentalForceLongPolling,ve.experimentalAutoDetectLongPolling,Gv(ve.experimentalLongPollingOptions),ve.useFetchStreams));var U,ve;c._firestoreClient=new FC(c._authCredentials,c._appCheckCredentials,c._queue,f),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(a=u.localCache)&&void 0!==a&&a._onlineComponentProvider&&(c._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Yv(c,n,i){const a=new rn;return c.asyncQueue.enqueue((0,Me.A)(function*(){try{yield Lp(c,i),yield Vp(c,n),a.resolve()}catch(u){const f=u;if(!Up(f))throw f;Sn("Error enabling indexeddb cache. Falling back to memory cache: "+f),a.reject(f)}})).then(()=>a.promise)}function Cd(c){if(c._initialized||c._terminated)throw new je(Ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zc{constructor(n){this._byteString=n}static fromBase64String(n){try{return new zc(It.fromBase64String(n))}catch(i){throw new je(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new zc(It.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Wc{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new je(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Uu{constructor(n){this._methodName=n}}class Xp{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new je(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new je(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return An(this._lat,n._lat)||An(this._long,n._long)}}class If{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(a,u){if(a.length!==u.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==u[f])return!1;return!0}(this._values,n._values)}}const lI=/^__.*__$/;class cI{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new Kn(n,this.data,this.fieldMask,i,this.fieldTransforms):new ci(n,this.data,i,this.fieldTransforms)}}class ey{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new Kn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function ty(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qt()}}class Ef{constructor(n,i,a,u,f,y){this.settings=n,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,void 0===f&&this.yu(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(n){return new Ef(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:a,Du:!1});return u.vu(n),u}Cu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:a,Du:!1});return u.yu(),u}Fu(n){return this.Su({path:void 0,Du:!0})}Mu(n){return dh(n,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}yu(){if(this.path)for(let n=0;n<this.path.length;n++)this.vu(this.path.get(n))}vu(n){if(0===n.length)throw this.Mu("Document fields must not be empty");if(ty(this.wu)&&lI.test(n))throw this.Mu('Document fields cannot begin and end with "__"')}}class ny{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=a||dd(n)}Nu(n,i,a,u=!1){return new Ef({wu:n,methodName:i,Ou:a,path:_r.emptyPath(),Du:!1,xu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bu(c){const n=c._freezeSettings(),i=dd(c._databaseId);return new ny(c._databaseId,!!n.ignoreUndefinedProperties,i)}function Ad(c,n,i,a,u,f={}){const y=c.Nu(f.merge||f.mergeFields?2:0,n,i,u);e_("Data must be an object, but it was:",y,a);const P=Zm(a,y);let U,ee;if(f.merge)U=new me(y.fieldMask),ee=y.fieldTransforms;else if(f.mergeFields){const ve=[];for(const Be of f.mergeFields){const _t=Yp(n,Be,i);if(!y.contains(_t))throw new je(Ne.INVALID_ARGUMENT,`Field '${_t}' is specified in your field mask but missing from your input data.`);iy(ve,_t)||ve.push(_t)}U=new me(ve),ee=y.fieldTransforms.filter(Be=>U.covers(Be.field))}else U=null,ee=y.fieldTransforms;return new cI(new uo(P),U,ee)}class ch extends Uu{_toFieldTransform(n){if(2!==n.wu)throw n.Mu(1===n.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof ch}}function Km(c,n,i){return new Ef({wu:3,Ou:n.settings.Ou,methodName:c._methodName,Du:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class qp extends Uu{_toFieldTransform(n){return new Ve(n.path,new Hr)}isEqual(n){return n instanceof qp}}class Qp extends Uu{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=Km(this,n,!0),a=this.Lu.map(f=>uh(f,i)),u=new Xo(a);return new Ve(n.path,u)}isEqual(n){return n instanceof Qp&&(0,ut.bD)(this.Lu,n.Lu)}}class Xm extends Uu{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=Km(this,n,!0),a=this.Lu.map(f=>uh(f,i)),u=new qi(a);return new Ve(n.path,u)}isEqual(n){return n instanceof Xm&&(0,ut.bD)(this.Lu,n.Lu)}}class qm extends Uu{constructor(n,i){super(n),this.Bu=i}_toFieldTransform(n){const i=new os(n.serializer,Fa(n.serializer,this.Bu));return new Ve(n.path,i)}isEqual(n){return n instanceof qm&&this.Bu===n.Bu}}function Qm(c,n,i,a){const u=c.Nu(1,n,i);e_("Data must be an object, but it was:",u,a);const f=[],y=uo.empty();es(a,(U,ee)=>{const ve=Cf(n,U,i);ee=(0,ut.Ku)(ee);const Be=u.Cu(ve);if(ee instanceof ch)f.push(ve);else{const _t=uh(ee,Be);null!=_t&&(f.push(ve),y.set(ve,_t))}});const P=new me(f);return new ey(y,P,u.fieldTransforms)}function Ym(c,n,i,a,u,f){const y=c.Nu(1,n,i),P=[Yp(n,a,i)],U=[u];if(f.length%2!=0)throw new je(Ne.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _t=0;_t<f.length;_t+=2)P.push(Yp(n,f[_t])),U.push(f[_t+1]);const ee=[],ve=uo.empty();for(let _t=P.length-1;_t>=0;--_t)if(!iy(ee,P[_t])){const Ht=P[_t];let yn=U[_t];yn=(0,ut.Ku)(yn);const jn=y.Cu(Ht);if(yn instanceof ch)ee.push(Ht);else{const On=uh(yn,jn);null!=On&&(ee.push(Ht),ve.set(Ht,On))}}const Be=new me(ee);return new ey(ve,Be,y.fieldTransforms)}function Jm(c,n,i,a=!1){return uh(i,c.Nu(a?4:3,n))}function uh(c,n){if(ry(c=(0,ut.Ku)(c)))return e_("Unsupported field value:",n,c),Zm(c,n);if(c instanceof Uu)return function(a,u){if(!ty(u.wu))throw u.Mu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Mu(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.Du&&4!==n.wu)throw n.Mu("Nested arrays are not supported");return function(a,u){const f=[];let y=0;for(const P of a){let U=uh(P,u.Fu(y));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),y++}return{arrayValue:{values:f}}}(c,n)}return function(a,u){if(null===(a=(0,ut.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Fa(u.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const f=qn.fromDate(a);return{timestampValue:qo(u.serializer,f)}}if(a instanceof qn){const f=new qn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qo(u.serializer,f)}}if(a instanceof Xp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zc)return{bytesValue:Ns(u.serializer,a._byteString)};if(a instanceof fo){const f=u.databaseId,y=a.firestore._databaseId;if(!y.isEqual(f))throw u.Mu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Jl(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof If)return P=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(U=>{if("number"!=typeof U)throw P.Mu("VectorValues must only contain numeric values.");return Ai(P.serializer,U)})}}}}};var P;throw u.Mu(`Unsupported field value: ${_f(a)}`)}(c,n)}function Zm(c,n){const i={};return ta(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):es(c,(a,u)=>{const f=uh(u,n.bu(a));null!=f&&(i[a]=f)}),{mapValue:{fields:i}}}function ry(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof qn||c instanceof Xp||c instanceof zc||c instanceof fo||c instanceof Uu||c instanceof If)}function e_(c,n,i){if(!ry(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const a=_f(i);throw n.Mu("an object"===a?c+" a custom object":c+" "+a)}var u}function Yp(c,n,i){if((n=(0,ut.Ku)(n))instanceof Wc)return n._internalPath;if("string"==typeof n)return Cf(c,n);throw dh("Field path arguments must be of type string or ",c,!1,void 0,i)}const uI=new RegExp("[~\\*/\\[\\]]");function Cf(c,n,i){if(n.search(uI)>=0)throw dh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new Wc(...n.split("."))._internalPath}catch{throw dh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function dh(c,n,i,a,u){const f=a&&!a.isEmpty(),y=void 0!==u;let P=`Function ${n}() called with invalid data`;i&&(P+=" (via `toFirestore()`)"),P+=". ";let U="";return(f||y)&&(U+=" (found",f&&(U+=` in field ${a}`),y&&(U+=` in document ${u}`),U+=")"),new je(Ne.INVALID_ARGUMENT,P+c+U)}function iy(c,n){return c.some(i=>i.isEqual(n))}class $l{constructor(n,i,a,u,f){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new fo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new Jp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Zp("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class Jp extends $l{data(){return super.data()}}function Zp(c,n){return"string"==typeof n?Cf(c,n):n instanceof Wc?n._internalPath:n._delegate._internalPath}function t_(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new je(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hh{}class eg extends hh{}function Td(c,n,...i){let a=[];n instanceof hh&&a.push(n),a=a.concat(i),function(f){const y=f.filter(U=>U instanceof fh).length,P=f.filter(U=>U instanceof Af).length;if(y>1||y>0&&P>0)throw new je(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)c=u._apply(c);return c}class Af extends eg{constructor(n,i,a){super(),this._field=n,this._op=i,this._value=a,this.type="where"}static _create(n,i,a){return new Af(n,i,a)}_apply(n){const i=this._parse(n);return fI(n._query,i),new ha(n.firestore,n.converter,Ks(n._query,i))}_parse(n){const i=Bu(n.firestore);return function(f,y,P,U,ee,ve,Be){let _t;if(ee.isKeyField()){if("array-contains"===ve||"array-contains-any"===ve)throw new je(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ve}' queries on documentId().`);if("in"===ve||"not-in"===ve){Tf(Be,ve);const Ht=[];for(const yn of Be)Ht.push(bd(U,f,yn));_t={arrayValue:{values:Ht}}}else _t=bd(U,f,Be)}else"in"!==ve&&"not-in"!==ve&&"array-contains-any"!==ve||Tf(Be,ve),_t=Jm(P,"where",Be,"in"===ve||"not-in"===ve);return Tn.create(ee,ve,_t)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class fh extends hh{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new fh(n,i)}_parse(n){const i=this._queryConstraints.map(a=>a._parse(n)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:tr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,f){let y=u;const P=f.getFlattenedFilters();for(const U of P)fI(y,U),y=Ks(y,U)}(n._query,i),new ha(n.firestore,n.converter,Ks(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ph extends eg{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new ph(n,i)}_apply(n){const i=function(u,f,y){if(null!==u.startAt)throw new je(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new je(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rt(f,y)}(n._query,this._field,this._direction);return new ha(n.firestore,n.converter,function(u,f){const y=u.explicitOrderBy.concat([f]);return new kr(u.path,u.collectionGroup,y,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class gh extends eg{constructor(n,i,a){super(),this.type=n,this._limit=i,this._limitType=a}static _create(n,i,a){return new gh(n,i,a)}_apply(n){return new ha(n.firestore,n.converter,Ka(n._query,this._limit,this._limitType))}}class $u extends eg{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new $u(n,i,a)}_apply(n){const i=yh(n,this.type,this._docOrFields,this._inclusive);return new ha(n.firestore,n.converter,(f=i,new kr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class ju extends eg{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new ju(n,i,a)}_apply(n){const i=yh(n,this.type,this._docOrFields,this._inclusive);return new ha(n.firestore,n.converter,(f=i,new kr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function yh(c,n,i,a){if(i[0]=(0,ut.Ku)(i[0]),i[0]instanceof $l)return function(f,y,P,U,ee){if(!U)throw new je(Ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${P}().`);const ve=[];for(const Be of _a(f))if(Be.field.isKeyField())ve.push(ns(y,U.key));else{const _t=U.data.field(Be.field);if(Ze(_t))throw new je(Ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_t){const Ht=Be.field.canonicalString();throw new je(Ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ht}' (used as the orderBy) does not exist.`)}ve.push(_t)}return new Di(ve,ee)}(c._query,c.firestore._databaseId,n,i[0]._document,a);{const u=Bu(c.firestore);return function(y,P,U,ee,ve,Be){const _t=y.explicitOrderBy;if(ve.length>_t.length)throw new je(Ne.INVALID_ARGUMENT,`Too many arguments provided to ${ee}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ht=[];for(let yn=0;yn<ve.length;yn++){const jn=ve[yn];if(_t[yn].field.isKeyField()){if("string"!=typeof jn)throw new je(Ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ee}(), but got a ${typeof jn}`);if(!zs(y)&&-1!==jn.indexOf("/"))throw new je(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ee}() must be a plain document ID, but '${jn}' contains a slash.`);const On=y.path.child(rr.fromString(jn));if(!wn.isDocumentKey(On))throw new je(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ee}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const Ir=new wn(On);Ht.push(ns(P,Ir))}else{const On=Jm(U,ee,jn);Ht.push(On)}}return new Di(Ht,Be)}(c._query,c.firestore._databaseId,u,n,i,a)}}function bd(c,n,i){if("string"==typeof(i=(0,ut.Ku)(i))){if(""===i)throw new je(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zs(n)&&-1!==i.indexOf("/"))throw new je(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(rr.fromString(i));if(!wn.isDocumentKey(a))throw new je(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ns(c,new wn(a))}if(i instanceof fo)return ns(c,i._key);throw new je(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(i)}.`)}function Tf(c,n){if(!Array.isArray(c)||0===c.length)throw new je(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function fI(c,n){const i=function(u,f){for(const y of u)for(const P of y.getFlattenedFilters())if(f.indexOf(P.op)>=0)return P.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new je(Ne.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class wd{convertValue(n,i="none"){switch(Nn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return ae(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Ge(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw Qt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const a={};return es(n,(u,f)=>{a[u]=this.convertValue(f,i)}),a}convertVectorValue(n){var i,a,u;const f=null===(u=null===(a=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===a?void 0:a.values)||void 0===u?void 0:u.map(y=>ae(y.doubleValue));return new If(f)}convertGeoPoint(n){return new Xp(ae(n.latitude),ae(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=gt(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(pt(n));default:return null}}convertTimestamp(n){const i=X(n);return new qn(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=rr.fromString(n);Yt(Ao(a));const u=new an(a.get(1),a.get(3)),f=new wn(a.popFirst(5));return u.isEqual(i)||Pn(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function rg(c,n,i){let a;return a=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,a}class oy extends wd{constructor(n){super(),this.firestore=n}convertBytes(n){return new zc(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new fo(this.firestore,null,i)}}class Dd{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Al extends $l{constructor(n,i,a,u,f,y){super(n,i,a,u,y),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(Zp("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Ih extends Al{data(n={}){return super.data(n)}}class Kc{constructor(n,i,a,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new Dd(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new Ih(this._firestore,this._userDataWriter,a.key,a,new Dd(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new je(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(P=>({type:"added",doc:new Ih(u._firestore,u._userDataWriter,P.doc.key,P.doc,new Dd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(P=>f||3!==P.type).map(P=>{const U=new Ih(u._firestore,u._userDataWriter,P.doc.key,P.doc,new Dd(u._snapshot.mutatedKeys.has(P.doc.key),u._snapshot.fromCache),u.query.converter);let ee=-1,ve=-1;return 0!==P.type&&(ee=y.indexOf(P.doc.key),y=y.delete(P.doc.key)),1!==P.type&&(y=y.add(P.doc),ve=y.indexOf(P.doc.key)),{type:gI(P.type),doc:U,oldIndex:ee,newIndex:ve}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function gI(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qt()}}function mI(c,n){return c instanceof Al&&n instanceof Al?c._firestore===n._firestore&&c._key.isEqual(n._key)&&(null===c._document?null===n._document:c._document.isEqual(n._document))&&c._converter===n._converter:c instanceof Kc&&n instanceof Kc&&c._firestore===n._firestore&&Hm(c.query,n.query)&&c.metadata.isEqual(n.metadata)&&c._snapshot.isEqual(n._snapshot)}class jl extends wd{constructor(n){super(),this.firestore=n}convertBytes(n){return new zc(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new fo(this.firestore,null,i)}}function s_(c,n,i){c=Fi(c,fo);const a=Fi(c.firestore,yo),u=rg(c.converter,n,i);return Rd(a,[Ad(Bu(a),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,$e.none())])}function og(c,n,i,...a){c=Fi(c,fo);const u=Fi(c.firestore,yo),f=Bu(u);let y;return y="string"==typeof(n=(0,ut.Ku)(n))||n instanceof Wc?Ym(f,"updateDoc",c._key,n,i,a):Qm(f,"updateDoc",c._key,n),Rd(u,[y.toMutation(c._key,$e.exists(!0))])}function a_(c,...n){var i,a,u;c=(0,ut.Ku)(c);let f={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof n[y]||Wp(n[y])||(f=n[y],y++);const P={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Wp(n[y])){const Be=n[y];n[y]=null===(i=Be.next)||void 0===i?void 0:i.bind(Be),n[y+1]=null===(a=Be.error)||void 0===a?void 0:a.bind(Be),n[y+2]=null===(u=Be.complete)||void 0===u?void 0:u.bind(Be)}let U,ee,ve;if(c instanceof fo)ee=Fi(c.firestore,yo),ve=jo(c._key.path),U={next:Be=>{n[y]&&n[y](ag(ee,c,Be))},error:n[y+1],complete:n[y+2]};else{const Be=Fi(c,ha);ee=Fi(Be.firestore,yo),ve=Be._query;const _t=new jl(ee);U={next:Ht=>{n[y]&&n[y](new Kc(ee,_t,Be,Ht))},error:n[y+1],complete:n[y+2]},t_(c._query)}return function(_t,Ht,yn,jn){const On=new Fm(jn),Ir=new Ap(Ht,On,yn);return _t.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return Im(yield Ed(_t),Ir)})),()=>{On.za(),_t.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return hu(yield Ed(_t),Ir)}))}}(Yo(ee),ve,P,U)}function Rd(c,n){return function(a,u){const f=new rn;return a.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function hf(c,n,i){return Dm.apply(this,arguments)}(yield Bl(a),u,f)})),f.promise}(Yo(c),n)}function ag(c,n,i){const a=i.docs.get(n._key),u=new jl(c);return new Al(c,u,n._key,a,new Dd(i.hasPendingWrites,i.fromCache),n.converter)}const uy={maxAttempts:5};class d_{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Bu(n)}set(n,i,a){this._verifyNotCommitted();const u=Hu(n,this._firestore),f=rg(u.converter,i,a),y=Ad(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,a);return this._mutations.push(y.toMutation(u._key,$e.none())),this}update(n,i,a,...u){this._verifyNotCommitted();const f=Hu(n,this._firestore);let y;return y="string"==typeof(i=(0,ut.Ku)(i))||i instanceof Wc?Ym(this._dataReader,"WriteBatch.update",f._key,i,a,u):Qm(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(y.toMutation(f._key,$e.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Hu(n,this._firestore);return this._mutations=this._mutations.concat(new ys(i._key,$e.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(Ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hu(c,n){if((c=(0,ut.Ku)(c)).firestore!==n)throw new je(Ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class EI extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=Bu(i)}get(i){const a=Hu(i,this._firestore),u=new oy(this._firestore);return this._transaction.lookup([a._key]).then(f=>{if(!f||1!==f.length)return Qt();const y=f[0];if(y.isFoundDocument())return new $l(this._firestore,u,y.key,y,a.converter);if(y.isNoDocument())return new $l(this._firestore,u,a._key,null,a.converter);throw Qt()})}set(i,a,u){const f=Hu(i,this._firestore),y=rg(f.converter,a,u),P=Ad(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,u);return this._transaction.set(f._key,P),this}update(i,a,u,...f){const y=Hu(i,this._firestore);let P;return P="string"==typeof(a=(0,ut.Ku)(a))||a instanceof Wc?Ym(this._dataReader,"Transaction.update",y._key,a,u,f):Qm(this._dataReader,"Transaction.update",y._key,a),this._transaction.update(y._key,P),this}delete(i){const a=Hu(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Hu(n,this._firestore),a=new jl(this._firestore);return super.get(n).then(u=>new Al(this._firestore,a,i._key,u._document,new Dd(!1,!1),i.converter))}}function hy(c,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new je("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return n}function pg(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function gg(){if(!function Re(){return typeof atob<"u"}())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){Bt=Fe.SDK_VERSION,(0,Fe._registerComponent)(new Le.uA("firestore",(a,{instanceIdentifier:u,options:f})=>{const y=a.getProvider("app").getImmediate(),P=new yo(new kn(a.getProvider("auth-internal")),new or(a.getProvider("app-check-internal")),function(ee,ve){if(!Object.prototype.hasOwnProperty.apply(ee.options,["projectId"]))throw new je(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new an(ee.options.projectId,ve)}(y,u),y);return f=Object.assign({useFetchStreams:i},f),P._setSettings(f),P},"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(Et,"4.7.1",n),(0,Fe.registerVersion)(Et,"4.7.1","esm2017")}();class mg{constructor(n){this._delegate=n}static fromBase64String(n){return gg(),new mg(zc.fromBase64String(n))}static fromUint8Array(n){return pg(),new mg(zc.fromUint8Array(n))}toBase64(){return gg(),this._delegate.toBase64()}toUint8Array(){return pg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fy(c){return function py(c,n){if("object"!=typeof c||null===c)return!1;const i=c;for(const a of n)if(a in i&&"function"==typeof i[a])return!0;return!1}(c,["next","error","complete"])}class RI{enableIndexedDbPersistence(n,i){return function Qv(c,n){Cd(c=Fi(c,yo));const i=Yo(c);if(i._uninitializedComponentsProvider)throw new je(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");Sn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=c._freezeSettings(),u=new oh;return Yv(i,u,new xm(u,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function zm(c){Cd(c=Fi(c,yo));const n=Yo(c);if(n._uninitializedComponentsProvider)throw new je(Ne.FAILED_PRECONDITION,"SDK cache is already specified.");Sn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=c._freezeSettings(),a=new oh;return Yv(n,a,new km(a,i.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function ol(c){if(c._initialized&&!c._terminated)throw new je(Ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new rn;return c._queue.enqueueAndForgetEvenWhileRestricted((0,Me.A)(function*(){try{yield(i=(0,Me.A)(function*(u){if(!Jn.D())return Promise.resolve();const f=u+"main";yield Jn.delete(f)}),function a(u){return i.apply(this,arguments)})(Xd(c._databaseId,c._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class gy{constructor(n,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof an||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&Sn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,a={}){!function sI(c,n,i,a={}){var u;const f=(c=Fi(c,zp))._getSettings(),y=`${n}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==y&&Sn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},f),{host:y,ssl:!1})),a.mockUserToken){let P,U;if("string"==typeof a.mockUserToken)P=a.mockUserToken,U=ze.MOCK_USER;else{P=(0,ut.Fy)(a.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const ee=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ee)throw new je(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new ze(ee)}c._authCredentials=new sr(new Gn(P,U))}}(this._delegate,n,i,a)}enableNetwork(){return function Jv(c){return function LC(c){return c.asyncQueue.enqueue((0,Me.A)(function*(){const n=yield Vu(c),i=yield Uv(c);return n.setNetworkEnabled(!0),function(u){const f=vt(u);return f.L_.delete(0),b(f)}(i)}))}(Yo(c=Fi(c,yo)))}(this._delegate)}disableNetwork(){return function Kp(c){return function Vm(c){return c.asyncQueue.enqueue((0,Me.A)(function*(){const n=yield Vu(c),i=yield Uv(c);return n.setNetworkEnabled(!1),(a=(0,Me.A)(function*(f){const y=vt(f);y.L_.add(0),yield Z(y),y.q_.set("Offline")}),function u(f){return a.apply(this,arguments)})(i);var a}))}(Yo(c=Fi(c,yo)))}(this._delegate)}enablePersistence(n){let i=!1,a=!1;return n&&(i=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,Wv("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Wm(c){return function(i){const a=new rn;return i.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return function Q0(c,n){return eh.apply(this,arguments)}(yield Bl(i),a)})),a.promise}(Yo(c=Fi(c,yo)))}(this._delegate)}onSnapshotsInSync(n){return function sg(c,n){return function nI(c,n){const i=new Fm(n);return c.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return u=yield Ed(c),f=i,vt(u).Y_.add(f),void f.next();var u,f})),()=>{i.za(),c.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return u=yield Ed(c),f=i,void vt(u).Y_.delete(f);var u,f}))}}(Yo(c=Fi(c,yo)),Wp(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Ch(this,jm(this._delegate,n))}catch(i){throw Ha(i,"collection()","Firestore.collection()")}}doc(n){try{return new Hl(this,sh(this._delegate,n))}catch(i){throw Ha(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ga(this,function aI(c,n){if(c=Fi(c,zp),Gp("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new je(Ne.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ha(c,null,(a=n,new kr(rr.emptyPath(),a)));var a}(this._delegate,n))}catch(i){throw Ha(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function CI(c,n,i){c=Fi(c,yo);const a=Object.assign(Object.assign({},uy),i);return function(f){if(f.maxAttempts<1)throw new je(Ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,y,P){const U=new rn;return f.asyncQueue.enqueueAndForget((0,Me.A)(function*(){const ee=yield function mf(c){return $p(c).then(n=>n.datastore)}(f);new Sa(f.asyncQueue,ee,P,y,U).ru()})),U.promise}(Yo(c),u=>n(new EI(c,u)),a)}(this._delegate,i=>n(new my(this,i)))}batch(){return Yo(this._delegate),new h_(new d_(this._delegate,n=>Rd(this._delegate,n)))}loadBundle(n){return function UC(c,n){const i=Yo(c=Fi(c,yo)),a=new vf;return function rI(c,n,i,a){const u=function(y,P){let U;return U="string"==typeof y?sa().encode(y):y,ve=function(ve){if(ve instanceof Uint8Array)return xv(ve,void 0);if(ve instanceof ArrayBuffer)return xv(new Uint8Array(ve),void 0);if(ve instanceof ReadableStream)return ve.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new kv(ve,P);var ve}(i,dd(n));c.asyncQueue.enqueueAndForget((0,Me.A)(function*(){!function tI(c,n,i){const a=vt(c);var u;(u=(0,Me.A)(function*(y,P,U){try{const ee=yield P.getMetadata();if(yield function(yn,jn){const On=vt(yn),Ir=so(jn.createTime);return On.persistence.runTransaction("hasNewerBundle","readonly",Nr=>On.Gr.getBundleMetadata(Nr,jn.id)).then(Nr=>!!Nr&&Nr.createTime.compareTo(Ir)>=0)}(y.localStore,ee))return yield P.close(),U._completeWith({taskState:"Success",documentsLoaded:(yn=ee).totalDocuments,bytesLoaded:yn.totalBytes,totalDocuments:yn.totalDocuments,totalBytes:yn.totalBytes}),Promise.resolve(new Set);U._updateProgress(sf(ee));const ve=new W0(ee,y.localStore,P.serializer);let Be=yield P.Ua();for(;Be;){const Ht=yield ve.la(Be);Ht&&U._updateProgress(Ht),Be=yield P.Ua()}const _t=yield ve.complete();return yield Hc(y,_t.Ia,void 0),yield function(yn,jn){const On=vt(yn);return On.persistence.runTransaction("Save bundle","readwrite",Ir=>On.Gr.saveBundleMetadata(Ir,jn))}(y.localStore,ee),U._completeWith(_t.progress),Promise.resolve(_t.Pa)}catch(ee){return Sn("SyncEngine",`Loading bundle failed with ${ee}`),U._failWith(ee),Promise.resolve(new Set)}var yn}),function f(y,P,U){return u.apply(this,arguments)})(a,n,i).then(u=>{a.sharedClientState.notifyBundleLoaded(u)})}(yield Bl(c),u,a)}))}(i,c._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function Ra(c,n){return function Bm(c,n){return c.asyncQueue.enqueue((0,Me.A)(function*(){return function(a,u){const f=vt(a);return f.persistence.runTransaction("Get named query","readonly",y=>f.Gr.getNamedQuery(y,u))}(yield gf(c),n)}))}(Yo(c=Fi(c,yo)),n).then(i=>i?new ha(c,null,i.query):null)}(this._delegate,n).then(i=>i?new Ga(this,i):null)}}class _g extends wd{constructor(n){super(),this.firestore=n}convertBytes(n){return new mg(new zc(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return Hl.forKey(i,this.firestore,null)}}class my{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new _g(n)}get(n){const i=pu(n);return this._delegate.get(i).then(a=>new Rf(this._firestore,new Al(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(n,i,a){const u=pu(n);return a?(hy("Transaction.set",a),this._delegate.set(u,i,a)):this._delegate.set(u,i),this}update(n,i,a,...u){const f=pu(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,a,...u),this}delete(n){const i=pu(n);return this._delegate.delete(i),this}}class h_{constructor(n){this._delegate=n}set(n,i,a){const u=pu(n);return a?(hy("WriteBatch.set",a),this._delegate.set(u,i,a)):this._delegate.set(u,i),this}update(n,i,a,...u){const f=pu(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,a,...u),this}delete(n){const i=pu(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Wu{constructor(n,i,a){this._firestore=n,this._userDataWriter=i,this._delegate=a}fromFirestore(n,i){const a=new Ih(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Md(this._firestore,a),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const a=Wu.INSTANCES;let u=a.get(n);u||(u=new WeakMap,a.set(n,u));let f=u.get(i);return f||(f=new Wu(n,new _g(n),i),u.set(i,f)),f}}Wu.INSTANCES=new WeakMap;class Hl{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new _g(n)}static forPath(n,i,a){if(n.length%2!=0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Hl(i,new fo(i._delegate,a,new wn(n)))}static forKey(n,i,a){return new Hl(i,new fo(i._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Ch(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Ch(this.firestore,jm(this._delegate,n))}catch(i){throw Ha(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,ut.Ku)(n))instanceof fo&&ah(this._delegate,n)}set(n,i){i=hy("DocumentReference.set",i);try{return i?s_(this._delegate,n,i):s_(this._delegate,n)}catch(a){throw Ha(a,"setDoc()","DocumentReference.set()")}}update(n,i,...a){try{return 1===arguments.length?og(this._delegate,n):og(this._delegate,n,i,...a)}catch(u){throw Ha(u,"updateDoc()","DocumentReference.update()")}}delete(){return function ay(c){return Rd(Fi(c.firestore,yo),[new ys(c._key,$e.none())])}(this._delegate)}onSnapshot(...n){const i=f_(n),a=Sf(n,u=>new Rf(this.firestore,new Al(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return a_(this._delegate,i,a)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function _I(c){c=Fi(c,fo);const n=Fi(c.firestore,yo),i=Yo(n),a=new jl(n);return function Hp(c,n){const i=new rn;return c.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return(a=(0,Me.A)(function*(f,y,P){try{const U=yield function(ve,Be){const _t=vt(ve);return _t.persistence.runTransaction("read document","readonly",Ht=>_t.localDocuments.getDocument(Ht,Be))}(f,y);U.isFoundDocument()?P.resolve(U):U.isNoDocument()?P.resolve(null):P.reject(new je(Ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const ee=gd(U,`Failed to get document '${y} from cache`);P.reject(ee)}}),function u(f,y,P){return a.apply(this,arguments)})(yield gf(c),n,i);var a})),i.promise}(i,c._key).then(u=>new Al(n,a,c._key,u,new Dd(null!==u&&u.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function ig(c){c=Fi(c,fo);const n=Fi(c.firestore,yo);return Bv(Yo(n),c._key,{source:"server"}).then(i=>ag(n,c,i))}(this._delegate):function GC(c){c=Fi(c,fo);const n=Fi(c.firestore,yo);return Bv(Yo(n),c._key).then(i=>ag(n,c,i))}(this._delegate),i.then(a=>new Rf(this.firestore,new Al(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new Hl(this.firestore,this._delegate.withConverter(n?Wu.getInstance(this.firestore,n):null))}}function Ha(c,n,i){return c.message=c.message.replace(n,i),c}function f_(c){for(const n of c)if("object"==typeof n&&!fy(n))return n;return{}}function Sf(c,n){var i,a;let u;return u=fy(c[0])?c[0]:fy(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:f=>{u.next&&u.next(n(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(a=u.complete)||void 0===a?void 0:a.bind(u)}}class Rf{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new Hl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return mI(this._delegate,n._delegate)}}class Md extends Rf{data(n){const i=this._delegate.data(n);return this._delegate._converter||function Hn(c){c||Qt()}(void 0!==i),i}}class Ga{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new _g(n)}where(n,i,a){try{return new Ga(this.firestore,Td(this._delegate,function dI(c,n,i){const a=n,u=Zp("where",c);return Af._create(u,a,i)}(n,i,a)))}catch(u){throw Ha(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Ga(this.firestore,Td(this._delegate,function hI(c,n="asc"){const i=n,a=Zp("orderBy",c);return ph._create(a,i)}(n,i)))}catch(a){throw Ha(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ga(this.firestore,Td(this._delegate,function n_(c){return iI("limit",c),gh._create("limit",c,"F")}(n)))}catch(i){throw Ha(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Ga(this.firestore,Td(this._delegate,function mh(c){return iI("limitToLast",c),gh._create("limitToLast",c,"L")}(n)))}catch(i){throw Ha(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ga(this.firestore,Td(this._delegate,function tg(...c){return $u._create("startAt",c,!0)}(...n)))}catch(i){throw Ha(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ga(this.firestore,Td(this._delegate,function _h(...c){return $u._create("startAfter",c,!1)}(...n)))}catch(i){throw Ha(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ga(this.firestore,Td(this._delegate,function vh(...c){return ju._create("endBefore",c,!1)}(...n)))}catch(i){throw Ha(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ga(this.firestore,Td(this._delegate,function r_(...c){return ju._create("endAt",c,!0)}(...n)))}catch(i){throw Ha(i,"endAt()","Query.endAt()")}}isEqual(n){return Hm(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function sy(c){c=Fi(c,ha);const n=Fi(c.firestore,yo),i=Yo(n),a=new jl(n);return function Qo(c,n){const i=new rn;return c.asyncQueue.enqueueAndForget((0,Me.A)(function*(){return(a=(0,Me.A)(function*(f,y,P){try{const U=yield Mt(f,y,!0),ee=new Tp(y,U.Ts),ve=ee.ma(U.documents),Be=ee.applyChanges(ve,!1);P.resolve(Be.snapshot)}catch(U){const ee=gd(U,`Failed to execute query '${y} against cache`);P.reject(ee)}}),function u(f,y,P){return a.apply(this,arguments)})(yield gf(c),n,i);var a})),i.promise}(i,c._query).then(u=>new Kc(n,a,c,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function vI(c){c=Fi(c,ha);const n=Fi(c.firestore,yo),i=Yo(n),a=new jl(n);return $v(i,c._query,{source:"server"}).then(u=>new Kc(n,a,c,u))}(this._delegate):function o_(c){c=Fi(c,ha);const n=Fi(c.firestore,yo),i=Yo(n),a=new jl(n);return t_(c._query),$v(i,c._query).then(u=>new Kc(n,a,c,u))}(this._delegate),i.then(a=>new p_(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const i=f_(n),a=Sf(n,u=>new p_(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return a_(this._delegate,i,a)}withConverter(n){return new Ga(this.firestore,this._delegate.withConverter(n?Wu.getInstance(this.firestore,n):null))}}class Eh{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Md(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class p_{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Ga(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Md(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new Eh(this._firestore,i))}forEach(n,i){this._delegate.forEach(a=>{n.call(i,new Md(this._firestore,a))})}isEqual(n){return mI(this._delegate,n._delegate)}}class Ch extends Ga{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Hl(this.firestore,n):null}doc(n){try{return new Hl(this.firestore,void 0===n?sh(this._delegate):sh(this._delegate,n))}catch(i){throw Ha(i,"doc()","CollectionReference.doc()")}}add(n){return function Sd(c,n){const i=Fi(c.firestore,yo),a=sh(c),u=rg(c.converter,n);return Rd(i,[Ad(Bu(c.firestore),"addDoc",a._key,u,null!==c.converter,{}).toMutation(a._key,$e.exists(!1))]).then(()=>a)}(this._delegate,n).then(i=>new Hl(this.firestore,i))}isEqual(n){return ah(this._delegate,n._delegate)}withConverter(n){return new Ch(this.firestore,this._delegate.withConverter(n?Wu.getInstance(this.firestore,n):null))}}function pu(c){return Fi(c,fo)}class vg{constructor(...n){this._delegate=new Wc(...n)}static documentId(){return new vg(_r.keyField().canonicalString())}isEqual(n){return(n=(0,ut.Ku)(n))instanceof Wc&&this._delegate._internalPath.isEqual(n._internalPath)}}class Pd{constructor(n){this._delegate=n}static serverTimestamp(){const n=function TI(){return new qp("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Pd(n)}static delete(){const n=function AI(){return new ch("deleteField")}();return n._methodName="FieldValue.delete",new Pd(n)}static arrayUnion(...n){const i=function Gu(...c){return new Qp("arrayUnion",c)}(...n);return i._methodName="FieldValue.arrayUnion",new Pd(i)}static arrayRemove(...n){const i=function wf(...c){return new Xm("arrayRemove",c)}(...n);return i._methodName="FieldValue.arrayRemove",new Pd(i)}static increment(n){const i=function bI(c){return new qm("increment",c)}(n);return i._methodName="FieldValue.increment",new Pd(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const PI={Firestore:gy,GeoPoint:Xp,Timestamp:qn,Blob:mg,Transaction:my,WriteBatch:h_,DocumentReference:Hl,DocumentSnapshot:Rf,Query:Ga,QueryDocumentSnapshot:Md,QuerySnapshot:p_,CollectionReference:Ch,FieldPath:vg,FieldValue:Pd,setLogLevel:function MI(c){!function Rn(c){In.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};!function NI(c){(function OI(c,n){c.INTERNAL.registerComponent(new Le.uA("firestore-compat",i=>{const a=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(a,u)},"PUBLIC").setServiceProps(Object.assign({},PI)))})(c,(n,i)=>new gy(n,i,new RI)),c.registerVersion("@firebase/firestore-compat","0.3.36")}(wt.A);var _y=x(7935);function xI(c,n){return function ZC(c,n=Oe.E){return new He.c(i=>{let a;return null!=n?n.schedule(()=>{a=c.onSnapshot({includeMetadataChanges:!0},i)}):a=c.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(c,n)}function g_(c,n){return xI(c,n).pipe((0,ct.T)(i=>({payload:i,type:"query"})))}class vy{constructor(n,i){(0,h.A)(this,"ref",void 0),(0,h.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const a=this.ref.collection(n),{ref:u,query:f}=UI(a,i);return new Iy(u,f,this.afs)}snapshotChanges(){return function Mf(c,n){return xI(c,n).pipe((0,Ie.Z)(void 0),Je(),(0,ct.T)(i=>{const[a,u]=i;return u.exists?null!=a&&a.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,ct.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,st.H)(this.ref.get(n)).pipe(Ee.U0)}}function yg(c,n){return g_(c,n).pipe((0,Ie.Z)(void 0),Je(),(0,ct.T)(i=>{const[a,u]=i,f=u.payload.docChanges(),y=f.map(P=>({type:P.type,payload:P}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((P,U)=>{const ee=f.find(Be=>Be.doc.ref.isEqual(P.ref)),ve=null==a?void 0:a.payload.docs.find(Be=>Be.ref.isEqual(P.ref));ee&&JSON.stringify(ee.doc.metadata)===JSON.stringify(P.metadata)||!ee&&ve&&JSON.stringify(ve.metadata)===JSON.stringify(P.metadata)||y.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:P}})}),y}))}function m_(c,n,i){return yg(c,i).pipe((0,Ct.S)((a,u)=>function kI(c,n,i){return n.forEach(a=>{i.indexOf(a.type)>-1&&(c=function FI(c,n){switch(n.type){case"added":if(!c[n.newIndex]||!c[n.newIndex].doc.ref.isEqual(n.doc.ref))return __(c,n.newIndex,0,n);break;case"modified":if(null==c[n.oldIndex]||c[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=c.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return __(c,n.newIndex,1,n)}break;case"removed":if(c[n.oldIndex]&&c[n.oldIndex].doc.ref.isEqual(n.doc.ref))return __(c,n.oldIndex,1)}return c}(c,a))}),c}(a,u.map(f=>f.payload),n),[]),(0,mt.F)(),(0,ct.T)(a=>a.map(u=>({type:u.type,payload:u}))))}function __(c,n,i,...a){const u=c.slice();return u.splice(n,i,...a),u}function yy(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class Iy{constructor(n,i,a){(0,h.A)(this,"ref",void 0),(0,h.A)(this,"query",void 0),(0,h.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=a}stateChanges(n){let i=yg(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,ct.T)(a=>a.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,Ie.Z)(void 0),Je(),(0,lt.p)(([a,u])=>u.length>0||!a),(0,ct.T)(([,a])=>a),Ee.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,Ct.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=yy(n);return m_(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}valueChanges(n={}){return g_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(i=>i.payload.docs.map(a=>n.idField?{...a.data(),[n.idField]:a.id}:a.data())),Ee.U0)}get(n){return(0,st.H)(this.query.get(n)).pipe(Ee.U0)}add(n){return this.ref.add(n)}doc(n){return new vy(this.ref.doc(n),this.afs)}}class LI{constructor(n,i){(0,h.A)(this,"query",void 0),(0,h.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?yg(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(i=>i.filter(a=>n.indexOf(a.type)>-1)),(0,lt.p)(i=>i.length>0),Ee.U0):yg(this.query,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,Ct.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=yy(n);return m_(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ee.U0)}valueChanges(n={}){return g_(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(a=>a.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),Ee.U0)}get(n){return(0,st.H)(this.query.get(n)).pipe(Ee.U0)}}const Ig=new V.nKC("angularfire2.enableFirestorePersistence"),VI=new V.nKC("angularfire2.firestore.persistenceSettings"),eA=new V.nKC("angularfire2.firestore.settings"),v_=new V.nKC("angularfire2.firestore.use-emulator");function UI(c,n=i=>i){return{query:n(c),ref:c}}let BI=(()=>{var c;class n{constructor(a,u,f,y,P,U,ee,ve,Be,_t,Ht,yn,jn,On,Ir,Nr,Cr){(0,h.A)(this,"schedulers",void 0),(0,h.A)(this,"firestore",void 0),(0,h.A)(this,"persistenceEnabled$",void 0),this.schedulers=ee;const zr=(0,z.iB)(a,U,u),zi=Be;_t&&(0,Ae.gF)(zr,U,Ht,jn,On,Ir,yn,Nr),[this.firestore,this.persistenceEnabled$]=(0,z.BM)(`${zr.name}.firestore`,"AngularFirestore",zr.name,()=>{const Zr=U.runOutsideAngular(()=>zr.firestore());if(y&&Zr.settings(y),zi&&Zr.useEmulator(...zi),f&&!(0,s.Vy)(P)){const $t=()=>{try{return(0,st.H)(Zr.enablePersistence(ve||void 0).then(()=>!0,()=>!1))}catch(dt){return typeof console<"u"&&console.warn(dt),(0,xe.of)(!1)}};return[Zr,U.runOutsideAngular($t)]}return[Zr,(0,xe.of)(!1)]},[y,zi,f])}collection(a,u){let f;f="string"==typeof a?this.firestore.collection(a):a;const{ref:y,query:P}=UI(f,u),U=this.schedulers.ngZone.run(()=>y);return new Iy(U,P,this)}collectionGroup(a,u){const f=u||(P=>P),y=this.firestore.collectionGroup(a);return new LI(f(y),this)}doc(a){let u;u="string"==typeof a?this.firestore.doc(a):a;const f=this.schedulers.ngZone.run(()=>u);return new vy(f,this)}createId(){return this.firestore.collection("_").doc().id}}return c=n,(0,h.A)(n,"\u0275fac",function(a){return new(a||c)(V.KVO(z.rx),V.KVO(z.uP,8),V.KVO(Ig,8),V.KVO(eA,8),V.KVO(V.Agw),V.KVO(V.SKi),V.KVO(Ee.u0),V.KVO(VI,8),V.KVO(v_,8),V.KVO(Ae.DS,8),V.KVO(Ae.CP,8),V.KVO(Ae.yy,8),V.KVO(Ae.ZP,8),V.KVO(Ae.$z,8),V.KVO(Ae.AU,8),V.KVO(Ae.UB,8),V.KVO(Ee.Jv,8))}),(0,h.A)(n,"\u0275prov",V.jDH({token:c,factory:c.\u0275fac,providedIn:"any"})),n})(),tA=(()=>{var c;class n{constructor(){_y.A.registerVersion("angularfire",Ee.xv.full,"fst-compat")}static enablePersistence(a){return{ngModule:n,providers:[{provide:Ig,useValue:!0},{provide:VI,useValue:a}]}}}return c=n,(0,h.A)(n,"\u0275fac",function(a){return new(a||c)}),(0,h.A)(n,"\u0275mod",V.$C({type:c})),(0,h.A)(n,"\u0275inj",V.G2t({providers:[BI]})),n})()},9253:(Mn,St,x)=>{"use strict";x.d(St,{BM:()=>ct,Gt:()=>Ae,bf:()=>Je,e7:()=>Oe,iB:()=>Ie,rx:()=>st,uP:()=>xe});var h=x(9842),s=x(3953),V=x(5407),Ee=x(7935);const z=["ngOnDestroy"],Ae=(Nt,wt,Me,Fe={})=>new Proxy(Nt,{get:(Le,ot)=>Me.runOutsideAngular(()=>{var ut;if(Nt[ot])return null!=Fe&&null!==(ut=Fe.spy)&&void 0!==ut&&ut.get&&Fe.spy.get(ot,Nt[ot]),Nt[ot];if(z.indexOf(ot)>-1)return()=>{};const it=wt.toPromise().then(he=>{const ft=null==he?void 0:he[ot];return"function"==typeof ft?ft.bind(he):null!=ft&&ft.then?ft.then(ht=>Me.run(()=>ht)):Me.run(()=>ft)});return new Proxy(()=>{},{get:(he,ft)=>it[ft],apply:(he,ft,ht)=>it.then(tt=>{var Ft;const Vt=null==tt?void 0:tt(...ht);return null!=Fe&&null!==(Ft=Fe.spy)&&void 0!==Ft&&Ft.apply&&Fe.spy.apply(ot,ht,Vt),Vt})})})}),Oe=(Nt,wt)=>{wt.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(Fe=>{Object.defineProperty(Nt.prototype,Fe,Object.getOwnPropertyDescriptor(Me.prototype||Me,Fe))})})};class He{constructor(wt){return wt}}const st=new s.nKC("angularfire2.app.options"),xe=new s.nKC("angularfire2.app.name");function Ie(Nt,wt,Me){const Le="object"==typeof Me&&Me||{};Le.name=Le.name||"string"==typeof Me&&Me||"[DEFAULT]";const ut=Ee.A.apps.filter(it=>it&&it.name===Le.name)[0]||wt.runOutsideAngular(()=>Ee.A.initializeApp(Nt,Le));try{if(JSON.stringify(Nt)!==JSON.stringify(ut.options)){const it=!!module.hot;nt("error",`${ut.name} Firebase App already initialized with different options${it?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new He(ut)}const nt=(Nt,...wt)=>{(0,s.naY)()&&typeof console<"u"&&console[Nt](...wt)},Qe={provide:He,useFactory:Ie,deps:[st,s.SKi,[new s.Xx1,xe]]};let Je=(()=>{var Nt;class wt{static initializeApp(Fe,Le){return{ngModule:wt,providers:[{provide:st,useValue:Fe},{provide:xe,useValue:Le}]}}constructor(Fe){Ee.A.registerVersion("angularfire",V.xv.full,"core"),Ee.A.registerVersion("angularfire",V.xv.full,"app-compat"),Ee.A.registerVersion("angular",s.xvI.full,Fe.toString())}}return Nt=wt,(0,h.A)(wt,"\u0275fac",function(Fe){return new(Fe||Nt)(s.KVO(s.Agw))}),(0,h.A)(wt,"\u0275mod",s.$C({type:Nt})),(0,h.A)(wt,"\u0275inj",s.G2t({providers:[Qe]})),wt})();function ct(Nt,wt,Me,Fe,Le){const[,ot,ut]=globalThis.\u0275AngularfireInstanceCache.find(it=>it[0]===Nt)||[];if(ot)return function Ct(Nt,wt){try{return Nt.toString()===wt.toString()}catch{return Nt===wt}}(Le,ut)||(lt("error",`${wt} was already initialized on the ${Me} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),lt("warn",{is:Le,was:ut})),ot;{const it=Fe();return globalThis.\u0275AngularfireInstanceCache.push([Nt,it,Le]),it}}const mt=typeof module<"u"&&!!module.hot,lt=(Nt,...wt)=>{(0,s.naY)()&&typeof console<"u"&&console[Nt](...wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(Mn,St,x)=>{"use strict";x.d(St,{xv:()=>ct,U0:()=>tt,Oe:()=>ft,u0:()=>ot,Jv:()=>Nt,CA:()=>lt,lR:()=>mt,S3:()=>cn});var h=x(9842),s=x(3953),V=x(2214),Ee=x(6780),Ae=x(9687);const He=new class Oe extends Ae.q{}(class z extends Ee.R{constructor(De,Y){super(De,Y),this.scheduler=De,this.work=Y}schedule(De,Y=0){return Y>0?super.schedule(De,Y):(this.delay=Y,this.state=De,this.scheduler.flush(this),this)}execute(De,Y){return Y>0||this.closed?super.execute(De,Y):this._execute(De,Y)}requestAsyncId(De,Y,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(De,Y,ie):(De.flush(this),0)}});var xe=x(3236),Ie=x(1985),nt=x(8141),Qe=x(941),Je=x(6745);const ct=new s.RxE("ANGULARFIRE2_VERSION");function mt(qe,De,Y){if(De){if(1===De.length)return De[0];const Ue=De.filter(et=>et.app===Y);if(1===Ue.length)return Ue[0]}return Y.container.getProvider(qe).getImmediate({optional:!0})}const lt=(qe,De)=>{const Y=De?[De]:(0,V.Dk)(),ie=[];return Y.forEach(se=>{se.container.getProvider(qe).instances.forEach(et=>{ie.includes(et)||ie.push(et)})}),ie};class Nt{constructor(){return lt(wt)}}const wt="app-check";function Me(){}class Fe{constructor(De,Y=He){(0,h.A)(this,"zone",void 0),(0,h.A)(this,"delegate",void 0),this.zone=De,this.delegate=Y}now(){return this.delegate.now()}schedule(De,Y,ie){const se=this.zone;return this.delegate.schedule(function(et){se.runGuarded(()=>{De.apply(this,[et])})},Y,ie)}}class Le{constructor(De){(0,h.A)(this,"zone",void 0),(0,h.A)(this,"task",null),this.zone=De}call(De,Y){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)),Y.pipe((0,nt.M)({next:ie,complete:ie,error:ie})).subscribe(De).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ot=(()=>{var qe;class De{constructor(ie){(0,h.A)(this,"ngZone",void 0),(0,h.A)(this,"outsideAngular",void 0),(0,h.A)(this,"insideAngular",void 0),this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new Fe(Zone.current)),this.insideAngular=ie.run(()=>new Fe(Zone.current,xe.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return qe=De,(0,h.A)(De,"\u0275fac",function(ie){return new(ie||qe)(s.KVO(s.SKi))}),(0,h.A)(De,"\u0275prov",s.jDH({token:qe,factory:qe.\u0275fac,providedIn:"root"})),De})();function ut(){const qe=globalThis.\u0275AngularFireScheduler;if(!qe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return qe}function he(qe){return ut().ngZone.run(()=>qe())}function ft(qe){return qe.pipe((0,Qe.Q)(ut().outsideAngular))}function tt(qe){return function Ft(qe){return function(Y){return(Y=Y.lift(new Le(qe.ngZone))).pipe((0,Je._)(qe.outsideAngular),(0,Qe.Q)(qe.insideAngular))}}(ut())(qe)}const Vt=(qe,De)=>function(){const ie=arguments;return De&&setTimeout(()=>{"scheduled"===De.state&&De.invoke()},10),he(()=>qe.apply(void 0,ie))},cn=(qe,De)=>function(){let Y;const ie=arguments;for(let Ue=0;Ue<arguments.length;Ue++)"function"==typeof ie[Ue]&&(De&&(Y||(Y=he(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)))),ie[Ue]=Vt(ie[Ue],Y));const se=function it(qe){return ut().ngZone.runOutsideAngular(()=>qe())}(()=>qe.apply(this,ie));if(!De){if(se instanceof Ie.c){const Ue=ut();return se.pipe((0,Je._)(Ue.outsideAngular),(0,Qe.Q)(Ue.insideAngular))}return he(()=>se)}return se instanceof Ie.c?se.pipe(tt):se instanceof Promise?he(()=>new Promise((Ue,et)=>se.then(Et=>he(()=>Ue(Et)),Et=>he(()=>et(Et))))):"function"==typeof se&&Y?function(){return setTimeout(()=>{Y&&"scheduled"===Y.state&&Y.invoke()},10),se.apply(this,arguments)}:he(()=>se)}},4341:(Mn,St,x)=>{"use strict";x.d(St,{YN:()=>Xl,zX:()=>zo,VZ:()=>Ts,cz:()=>ut,kq:()=>Ct,vO:()=>rn,BC:()=>kn,vS:()=>Wr,YS:()=>Ro});var h=x(3953),s=x(177),V=x(8455),Ee=x(1985),z=x(3073),Ae=x(8750),Oe=x(3794),He=x(4360),st=x(6450),xe=x(8496),nt=x(1413),Qe=x(6354);let Je=(()=>{var q;class k{constructor(G,pe){this._renderer=G,this._elementRef=pe,this.onChange=_n=>{},this.onTouched=()=>{}}setProperty(G,pe){this._renderer.setProperty(this._elementRef.nativeElement,G,pe)}registerOnTouched(G){this.onTouched=G}registerOnChange(G){this.onChange=G}setDisabledState(G){this.setProperty("disabled",G)}}return(q=k).\u0275fac=function(G){return new(G||q)(h.rXU(h.sFG),h.rXU(h.aKT))},q.\u0275dir=h.FsC({type:q}),k})(),ct=(()=>{var q;class k extends Je{}return(q=k).\u0275fac=(()=>{let ce;return function(pe){return(ce||(ce=h.xGo(q)))(pe||q)}})(),q.\u0275dir=h.FsC({type:q,features:[h.Vt3]}),k})();const Ct=new h.nKC(""),Nt={provide:Ct,useExisting:(0,h.Rfq)(()=>Fe),multi:!0},Me=new h.nKC("");let Fe=(()=>{var q;class k extends Je{constructor(G,pe,_n){super(G,pe),this._compositionMode=_n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wt(){const q=(0,s.QT)()?(0,s.QT)().getUserAgent():"";return/android (\d+)/.test(q.toLowerCase())}())}writeValue(G){this.setProperty("value",null==G?"":G)}_handleInput(G){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(G)}_compositionStart(){this._composing=!0}_compositionEnd(G){this._composing=!1,this._compositionMode&&this.onChange(G)}}return(q=k).\u0275fac=function(G){return new(G||q)(h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(Me,8))},q.\u0275dir=h.FsC({type:q,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(G,pe){1&G&&h.bIt("input",function(pr){return pe._handleInput(pr.target.value)})("blur",function(){return pe.onTouched()})("compositionstart",function(){return pe._compositionStart()})("compositionend",function(pr){return pe._compositionEnd(pr.target.value)})},features:[h.Jv_([Nt]),h.Vt3]}),k})();function Le(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}const ut=new h.nKC(""),it=new h.nKC("");function Ft(q){return Le(q.value)?{required:!0}:null}function ie(q){return null}function se(q){return null!=q}function Ue(q){return(0,h.jNT)(q)?(0,V.H)(q):q}function et(q){let k={};return q.forEach(ce=>{k=null!=ce?{...k,...ce}:k}),0===Object.keys(k).length?null:k}function Et(q,k){return k.map(ce=>ce(q))}function Bt(q){return q.map(k=>function ze(q){return!q.validate}(k)?k:ce=>k.validate(ce))}function xt(q){return null!=q?function In(q){if(!q)return null;const k=q.filter(se);return 0==k.length?null:function(ce){return et(Et(ce,k))}}(Bt(q)):null}function Pt(q){return null!=q?function Rn(q){if(!q)return null;const k=q.filter(se);return 0==k.length?null:function(ce){return function Ie(...q){const k=(0,Oe.ms)(q),{args:ce,keys:G}=(0,z.D)(q),pe=new Ee.c(_n=>{const{length:pr}=ce;if(!pr)return void _n.complete();const ki=new Array(pr);let Mo=pr,_o=pr;for(let kr=0;kr<pr;kr++){let Eo=!1;(0,Ae.Tg)(ce[kr]).subscribe((0,He._)(_n,jo=>{Eo||(Eo=!0,_o--),ki[kr]=jo},()=>Mo--,void 0,()=>{(!Mo||!Eo)&&(_o||_n.next(G?(0,xe.e)(G,ki):ki),_n.complete())}))}});return k?pe.pipe((0,st.I)(k)):pe}(Et(ce,k).map(Ue)).pipe((0,Qe.T)(et))}}(Bt(q)):null}function Pn(q,k){return null===q?[k]:Array.isArray(q)?[...q,k]:[q,k]}function Qt(q){return q?Array.isArray(q)?q:[q]:[]}function Yt(q,k){return Array.isArray(q)?q.includes(k):q===k}function Hn(q,k){const ce=Qt(k);return Qt(q).forEach(pe=>{Yt(ce,pe)||ce.push(pe)}),ce}function vt(q,k){return Qt(k).filter(ce=>!Yt(q,ce))}class Ne{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=xt(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=Pt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k=void 0){this.control&&this.control.reset(k)}hasError(k,ce){return!!this.control&&this.control.hasError(k,ce)}getError(k,ce){return this.control?this.control.getError(k,ce):null}}class je extends Ne{get formDirective(){return null}get path(){return null}}class rn extends Ne{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn{constructor(k){this._cd=k}get isTouched(){var k,ce,G;return null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||null===(ce=k._touched)||void 0===ce||ce.call(k),!(null===(G=this._cd)||void 0===G||null===(G=G.control)||void 0===G||!G.touched)}get isUntouched(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.untouched)}get isPristine(){var k,ce,G;return null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||null===(ce=k._pristine)||void 0===ce||ce.call(k),!(null===(G=this._cd)||void 0===G||null===(G=G.control)||void 0===G||!G.pristine)}get isDirty(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.dirty)}get isValid(){var k,ce,G;return null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||null===(ce=k._status)||void 0===ce||ce.call(k),!(null===(G=this._cd)||void 0===G||null===(G=G.control)||void 0===G||!G.valid)}get isInvalid(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.invalid)}get isPending(){var k;return!(null===(k=this._cd)||void 0===k||null===(k=k.control)||void 0===k||!k.pending)}get isSubmitted(){var k,ce,G;return null===(k=this._cd)||void 0===k||null===(ce=k._submitted)||void 0===ce||ce.call(k),!(null===(G=this._cd)||void 0===G||!G.submitted)}}let kn=(()=>{var q;class k extends Gn{constructor(G){super(G)}}return(q=k).\u0275fac=function(G){return new(G||q)(h.rXU(rn,2))},q.\u0275dir=h.FsC({type:q,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(G,pe){2&G&&h.AVh("ng-untouched",pe.isUntouched)("ng-touched",pe.isTouched)("ng-pristine",pe.isPristine)("ng-dirty",pe.isDirty)("ng-valid",pe.isValid)("ng-invalid",pe.isInvalid)("ng-pending",pe.isPending)},features:[h.Vt3]}),k})();const Tt="VALID",yt="INVALID",Te="PENDING",oe="DISABLED";class W{}class Q extends W{constructor(k,ce){super(),this.value=k,this.source=ce}}class le extends W{constructor(k,ce){super(),this.pristine=k,this.source=ce}}class Se extends W{constructor(k,ce){super(),this.touched=k,this.source=ce}}class kt extends W{constructor(k,ce){super(),this.status=k,this.source=ce}}function Jn(q){return null!=q&&!Array.isArray(q)&&"object"==typeof q}class co{constructor(k,ce){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,h.EWP)(()=>this.statusReactive()),this.statusReactive=(0,h.vPA)(void 0),this._pristine=(0,h.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,h.vPA)(!0),this._touched=(0,h.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,h.vPA)(!1),this._events=new nt.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(ce)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get status(){return(0,h.O8t)(this.statusReactive)}set status(k){(0,h.O8t)(()=>this.statusReactive.set(k))}get valid(){return this.status===Tt}get invalid(){return this.status===yt}get pending(){return this.status==Te}get disabled(){return this.status===oe}get enabled(){return this.status!==oe}get pristine(){return(0,h.O8t)(this.pristineReactive)}set pristine(k){(0,h.O8t)(()=>this.pristineReactive.set(k))}get dirty(){return!this.pristine}get touched(){return(0,h.O8t)(this.touchedReactive)}set touched(k){(0,h.O8t)(()=>this.touchedReactive.set(k))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(Hn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Hn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(vt(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(vt(k,this._rawAsyncValidators))}hasValidator(k){return Yt(this._rawValidators,k)}hasAsyncValidator(k){return Yt(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){var ce;const G=!1===this.touched;this.touched=!0;const pe=null!==(ce=k.sourceControl)&&void 0!==ce?ce:this;this._parent&&!k.onlySelf&&this._parent.markAsTouched({...k,sourceControl:pe}),G&&!1!==k.emitEvent&&this._events.next(new Se(!0,pe))}markAllAsTouched(k={}){this.markAsTouched({onlySelf:!0,emitEvent:k.emitEvent,sourceControl:this}),this._forEachChild(ce=>ce.markAllAsTouched(k))}markAsUntouched(k={}){var ce;const G=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const pe=null!==(ce=k.sourceControl)&&void 0!==ce?ce:this;this._forEachChild(_n=>{_n.markAsUntouched({onlySelf:!0,emitEvent:k.emitEvent,sourceControl:pe})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k,pe),G&&!1!==k.emitEvent&&this._events.next(new Se(!1,pe))}markAsDirty(k={}){var ce;const G=!0===this.pristine;this.pristine=!1;const pe=null!==(ce=k.sourceControl)&&void 0!==ce?ce:this;this._parent&&!k.onlySelf&&this._parent.markAsDirty({...k,sourceControl:pe}),G&&!1!==k.emitEvent&&this._events.next(new le(!1,pe))}markAsPristine(k={}){var ce;const G=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const pe=null!==(ce=k.sourceControl)&&void 0!==ce?ce:this;this._forEachChild(_n=>{_n.markAsPristine({onlySelf:!0,emitEvent:k.emitEvent})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k,pe),G&&!1!==k.emitEvent&&this._events.next(new le(!0,pe))}markAsPending(k={}){var ce;this.status=Te;const G=null!==(ce=k.sourceControl)&&void 0!==ce?ce:this;!1!==k.emitEvent&&(this._events.next(new kt(this.status,G)),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.markAsPending({...k,sourceControl:G})}disable(k={}){var ce;const G=this._parentMarkedDirty(k.onlySelf);this.status=oe,this.errors=null,this._forEachChild(_n=>{_n.disable({...k,onlySelf:!0})}),this._updateValue();const pe=null!==(ce=k.sourceControl)&&void 0!==ce?ce:this;!1!==k.emitEvent&&(this._events.next(new Q(this.value,pe)),this._events.next(new kt(this.status,pe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:G},this),this._onDisabledChange.forEach(_n=>_n(!0))}enable(k={}){const ce=this._parentMarkedDirty(k.onlySelf);this.status=Tt,this._forEachChild(G=>{G.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:ce},this),this._onDisabledChange.forEach(G=>G(!1))}_updateAncestors(k,ce){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine({},ce),this._parent._updateTouched({},ce))}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){var ce;if(this._setInitialStatus(),this._updateValue(),this.enabled){const pe=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tt||this.status===Te)&&this._runAsyncValidator(pe,k.emitEvent)}const G=null!==(ce=k.sourceControl)&&void 0!==ce?ce:this;!1!==k.emitEvent&&(this._events.next(new Q(this.value,G)),this._events.next(new kt(this.status,G)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity({...k,sourceControl:G})}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(ce=>ce._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oe:Tt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k,ce){if(this.asyncValidator){this.status=Te,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ce};const G=Ue(this.asyncValidator(this));this._asyncValidationSubscription=G.subscribe(pe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(pe,{emitEvent:ce,shouldHaveEmitted:k})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var k,ce;this._asyncValidationSubscription.unsubscribe();const G=null!==(k=null===(ce=this._hasOwnPendingAsyncValidator)||void 0===ce?void 0:ce.emitEvent)&&void 0!==k&&k;return this._hasOwnPendingAsyncValidator=null,G}return!1}setErrors(k,ce={}){this.errors=k,this._updateControlsErrors(!1!==ce.emitEvent,this,ce.shouldHaveEmitted)}get(k){let ce=k;return null==ce||(Array.isArray(ce)||(ce=ce.split(".")),0===ce.length)?null:ce.reduce((G,pe)=>G&&G._find(pe),this)}getError(k,ce){const G=ce?this.get(ce):this;return G&&G.errors?G.errors[k]:null}hasError(k,ce){return!!this.getError(k,ce)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k,ce,G){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),(k||G)&&this._events.next(new kt(this.status,ce)),this._parent&&this._parent._updateControlsErrors(k,ce,G)}_initObservables(){this.valueChanges=new h.bkB,this.statusChanges=new h.bkB}_calculateStatus(){return this._allControlsDisabled()?oe:this.errors?yt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Te)?Te:this._anyControlsHaveStatus(yt)?yt:Tt}_anyControlsHaveStatus(k){return this._anyControls(ce=>ce.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k,ce){const G=!this._anyControlsDirty(),pe=this.pristine!==G;this.pristine=G,this._parent&&!k.onlySelf&&this._parent._updatePristine(k,ce),pe&&this._events.next(new le(this.pristine,ce))}_updateTouched(k={},ce){this.touched=this._anyControlsTouched(),this._events.next(new Se(this.touched,ce)),this._parent&&!k.onlySelf&&this._parent._updateTouched(k,ce)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){Jn(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function vr(q){return Array.isArray(q)?xt(q):q||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function er(q){return Array.isArray(q)?Pt(q):q||null}(this._rawAsyncValidators)}}const Ye=new h.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>we}),we="always";function ge(q,k,ce=we){var G,pe;(function gn(q,k){const ce=function Sn(q){return q._rawValidators}(q);null!==k.validator?q.setValidators(Pn(ce,k.validator)):"function"==typeof ce&&q.setValidators([ce]);const G=function Ln(q){return q._rawAsyncValidators}(q);null!==k.asyncValidator?q.setAsyncValidators(Pn(G,k.asyncValidator)):"function"==typeof G&&q.setAsyncValidators([G]);const pe=()=>q.updateValueAndValidity();We(k._rawValidators,pe),We(k._rawAsyncValidators,pe)})(q,k),k.valueAccessor.writeValue(q.value),(q.disabled||"always"===ce)&&(null===(G=(pe=k.valueAccessor).setDisabledState)||void 0===G||G.call(pe,q.disabled)),function Wn(q,k){k.valueAccessor.registerOnChange(ce=>{q._pendingValue=ce,q._pendingChange=!0,q._pendingDirty=!0,"change"===q.updateOn&&wi(q,k)})}(q,k),function ji(q,k){const ce=(G,pe)=>{k.valueAccessor.writeValue(G),pe&&k.viewToModelUpdate(G)};q.registerOnChange(ce),k._registerOnDestroy(()=>{q._unregisterOnChange(ce)})}(q,k),function Mr(q,k){k.valueAccessor.registerOnTouched(()=>{q._pendingTouched=!0,"blur"===q.updateOn&&q._pendingChange&&wi(q,k),"submit"!==q.updateOn&&q.markAsTouched()})}(q,k),function Kt(q,k){if(k.valueAccessor.setDisabledState){const ce=G=>{k.valueAccessor.setDisabledState(G)};q.registerOnDisabledChange(ce),k._registerOnDestroy(()=>{q._unregisterOnDisabledChange(ce)})}}(q,k)}function We(q,k){q.forEach(ce=>{ce.registerOnValidatorChange&&ce.registerOnValidatorChange(k)})}function wi(q,k){q._pendingDirty&&q.markAsDirty(),q.setValue(q._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(q._pendingValue),q._pendingChange=!1}function Cs(q,k){const ce=q.indexOf(k);ce>-1&&q.splice(ce,1)}function Pi(q){return"object"==typeof q&&null!==q&&2===Object.keys(q).length&&"value"in q&&"disabled"in q}Promise.resolve();const Rs=class extends co{constructor(k=null,ce,G){super(function ir(q){return(Jn(q)?q.validators:q)||null}(ce),function At(q,k){return(Jn(k)?k.asyncValidators:q)||null}(G,ce)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(ce),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jn(ce)&&(ce.nonNullable||ce.initialValueIsDefault)&&(this.defaultValue=Pi(k)?k.value:k)}setValue(k,ce={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==ce.emitModelToViewChange&&this._onChange.forEach(G=>G(this.value,!1!==ce.emitViewToModelChange)),this.updateValueAndValidity(ce)}patchValue(k,ce={}){this.setValue(k,ce)}reset(k=this.defaultValue,ce={}){this._applyFormState(k),this.markAsPristine(ce),this.markAsUntouched(ce),this.setValue(this.value,ce),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Cs(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Cs(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){Pi(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},ts={provide:rn,useExisting:(0,h.Rfq)(()=>Wr)},Hi=Promise.resolve();let Wr=(()=>{var q;class k extends rn{constructor(G,pe,_n,pr,ki,Mo){super(),this._changeDetectorRef=ki,this.callSetDisabledState=Mo,this.control=new Rs,this._registered=!1,this.name="",this.update=new h.bkB,this._parent=G,this._setValidators(pe),this._setAsyncValidators(_n),this.valueAccessor=function So(q,k){if(!k)return null;let ce,G,pe;return Array.isArray(k),k.forEach(_n=>{_n.constructor===Fe?ce=_n:function go(q){return Object.getPrototypeOf(q.constructor)===ct}(_n)?G=_n:pe=_n}),pe||G||ce||null}(0,pr)}ngOnChanges(G){if(this._checkForErrors(),!this._registered||"name"in G){if(this._registered&&(this._checkName(),this.formDirective)){const pe=G.name.previousValue;this.formDirective.removeControl({name:pe,path:this._getPath(pe)})}this._setUpControl()}"isDisabled"in G&&this._updateDisabled(G),function to(q,k){if(!q.hasOwnProperty("model"))return!1;const ce=q.model;return!!ce.isFirstChange()||!Object.is(k,ce.currentValue)}(G,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(G){this.viewModel=G,this.update.emit(G)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ge(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(G){Hi.then(()=>{var pe;this.control.setValue(G,{emitViewToModelChange:!1}),null===(pe=this._changeDetectorRef)||void 0===pe||pe.markForCheck()})}_updateDisabled(G){const pe=G.isDisabled.currentValue,_n=0!==pe&&(0,h.L39)(pe);Hi.then(()=>{var pr;_n&&!this.control.disabled?this.control.disable():!_n&&this.control.disabled&&this.control.enable(),null===(pr=this._changeDetectorRef)||void 0===pr||pr.markForCheck()})}_getPath(G){return this._parent?function bt(q,k){return[...k.path,q]}(G,this._parent):[G]}}return(q=k).\u0275fac=function(G){return new(G||q)(h.rXU(je,9),h.rXU(ut,10),h.rXU(it,10),h.rXU(Ct,10),h.rXU(h.gRc,8),h.rXU(Ye,8))},q.\u0275dir=h.FsC({type:q,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.Jv_([ts]),h.Vt3,h.OA$]}),k})();function ms(q){return"number"==typeof q?q:parseFloat(q)}let _i=(()=>{var q;class k{constructor(){this._validator=ie}ngOnChanges(G){if(this.inputName in G){const pe=this.normalizeInput(G[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):ie,this._onChange&&this._onChange()}}validate(G){return this._validator(G)}registerOnValidatorChange(G){this._onChange=G}enabled(G){return null!=G}}return(q=k).\u0275fac=function(G){return new(G||q)},q.\u0275dir=h.FsC({type:q,features:[h.OA$]}),k})();const no={provide:ut,useExisting:(0,h.Rfq)(()=>zo),multi:!0};let zo=(()=>{var q;class k extends _i{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=G=>ms(G),this.createValidator=G=>function tt(q){return k=>{if(Le(k.value)||Le(q))return null;const ce=parseFloat(k.value);return!isNaN(ce)&&ce>q?{max:{max:q,actual:k.value}}:null}}(G)}}return(q=k).\u0275fac=(()=>{let ce;return function(pe){return(ce||(ce=h.xGo(q)))(pe||q)}})(),q.\u0275dir=h.FsC({type:q,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(G,pe){2&G&&h.BMQ("max",pe._enabled?pe.max:null)},inputs:{max:"max"},features:[h.Jv_([no]),h.Vt3]}),k})();const $o={provide:ut,useExisting:(0,h.Rfq)(()=>Ts),multi:!0};let Ts=(()=>{var q;class k extends _i{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=G=>ms(G),this.createValidator=G=>function ht(q){return k=>{if(Le(k.value)||Le(q))return null;const ce=parseFloat(k.value);return!isNaN(ce)&&ce<q?{min:{min:q,actual:k.value}}:null}}(G)}}return(q=k).\u0275fac=(()=>{let ce;return function(pe){return(ce||(ce=h.xGo(q)))(pe||q)}})(),q.\u0275dir=h.FsC({type:q,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(G,pe){2&G&&h.BMQ("min",pe._enabled?pe.min:null)},inputs:{min:"min"},features:[h.Jv_([$o]),h.Vt3]}),k})();const xa={provide:ut,useExisting:(0,h.Rfq)(()=>Ro),multi:!0};let Ro=(()=>{var q;class k extends _i{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.L39,this.createValidator=G=>Ft}enabled(G){return G}}return(q=k).\u0275fac=(()=>{let ce;return function(pe){return(ce||(ce=h.xGo(q)))(pe||q)}})(),q.\u0275dir=h.FsC({type:q,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(G,pe){2&G&&h.BMQ("required",pe._enabled?"":null)},inputs:{required:"required"},features:[h.Jv_([xa]),h.Vt3]}),k})(),rs=(()=>{var q;class k{}return(q=k).\u0275fac=function(G){return new(G||q)},q.\u0275mod=h.$C({type:q}),q.\u0275inj=h.G2t({}),k})(),Xl=(()=>{var q;class k{static withConfig(G){var pe;return{ngModule:k,providers:[{provide:Ye,useValue:null!==(pe=G.callSetDisabledState)&&void 0!==pe?pe:we}]}}}return(q=k).\u0275fac=function(G){return new(G||q)},q.\u0275mod=h.$C({type:q}),q.\u0275inj=h.G2t({imports:[rs]}),k})()},345:(Mn,St,x)=>{"use strict";x.d(St,{Bb:()=>Qt,hE:()=>vt,sG:()=>Pt});var h=x(177),s=x(3953);class V extends h.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ee extends V{static makeCurrent(){(0,h.ZD)(new Ee)}onAndCancel(Tt,yt,Te){return Tt.addEventListener(yt,Te),()=>{Tt.removeEventListener(yt,Te)}}dispatchEvent(Tt,yt){Tt.dispatchEvent(yt)}remove(Tt){Tt.remove()}createElement(Tt,yt){return(yt=yt||this.getDefaultDocument()).createElement(Tt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Tt){return Tt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Tt){return Tt instanceof DocumentFragment}getGlobalEventTarget(Tt,yt){return"window"===yt?window:"document"===yt?Tt:"body"===yt?Tt.body:null}getBaseHref(Tt){const yt=function Ae(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==yt?null:function Oe(Wt){return new URL(Wt,document.baseURI).pathname}(yt)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(Tt){return(0,h._b)(document.cookie,Tt)}}let z=null,st=(()=>{var Wt;class Tt{build(){return new XMLHttpRequest}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac}),Tt})();const xe=new s.nKC("");let Ie=(()=>{var Wt;class Tt{constructor(Te,oe){this._zone=oe,this._eventNameToPlugin=new Map,Te.forEach(W=>{W.manager=this}),this._plugins=Te.slice().reverse()}addEventListener(Te,oe,W){return this._findPluginFor(oe).addEventListener(Te,oe,W)}getZone(){return this._zone}_findPluginFor(Te){let oe=this._eventNameToPlugin.get(Te);if(oe)return oe;if(oe=this._plugins.find(Q=>Q.supports(Te)),!oe)throw new s.wOt(5101,!1);return this._eventNameToPlugin.set(Te,oe),oe}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(xe),s.KVO(s.SKi))},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac}),Tt})();class nt{constructor(Tt){this._doc=Tt}}const Qe="ng-app-id";let Je=(()=>{var Wt;class Tt{constructor(Te,oe,W,Q={}){this.doc=Te,this.appId=oe,this.nonce=W,this.platformId=Q,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,h.Vy)(Q),this.resetHostNodes()}addStyles(Te){for(const oe of Te)1===this.changeUsageCount(oe,1)&&this.onStyleAdded(oe)}removeStyles(Te){for(const oe of Te)this.changeUsageCount(oe,-1)<=0&&this.onStyleRemoved(oe)}ngOnDestroy(){const Te=this.styleNodesInDOM;Te&&(Te.forEach(oe=>oe.remove()),Te.clear());for(const oe of this.getAllStyles())this.onStyleRemoved(oe);this.resetHostNodes()}addHost(Te){this.hostNodes.add(Te);for(const oe of this.getAllStyles())this.addStyleToHost(Te,oe)}removeHost(Te){this.hostNodes.delete(Te)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Te){for(const oe of this.hostNodes)this.addStyleToHost(oe,Te)}onStyleRemoved(Te){var oe;const W=this.styleRef;null===(oe=W.get(Te))||void 0===oe||null===(oe=oe.elements)||void 0===oe||oe.forEach(Q=>Q.remove()),W.delete(Te)}collectServerRenderedStyles(){var Te;const oe=null===(Te=this.doc.head)||void 0===Te?void 0:Te.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(null!=oe&&oe.length){const W=new Map;return oe.forEach(Q=>{null!=Q.textContent&&W.set(Q.textContent,Q)}),W}return null}changeUsageCount(Te,oe){const W=this.styleRef;if(W.has(Te)){const Q=W.get(Te);return Q.usage+=oe,Q.usage}return W.set(Te,{usage:oe,elements:[]}),oe}getStyleElement(Te,oe){const W=this.styleNodesInDOM,Q=null==W?void 0:W.get(oe);if((null==Q?void 0:Q.parentNode)===Te)return W.delete(oe),Q.removeAttribute(Qe),Q;{const le=this.doc.createElement("style");return this.nonce&&le.setAttribute("nonce",this.nonce),le.textContent=oe,this.platformIsServer&&le.setAttribute(Qe,this.appId),Te.appendChild(le),le}}addStyleToHost(Te,oe){var W;const Q=this.getStyleElement(Te,oe),le=this.styleRef,Se=null===(W=le.get(oe))||void 0===W?void 0:W.elements;Se?Se.push(Q):le.set(oe,{elements:[Q],usage:1})}resetHostNodes(){const Te=this.hostNodes;Te.clear(),Te.add(this.doc.head)}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(h.qQ),s.KVO(s.sZ2),s.KVO(s.BIS,8),s.KVO(s.Agw))},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac}),Tt})();const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ct=/%COMP%/g,Me=new s.nKC("",{providedIn:"root",factory:()=>!0});function ot(Wt,Tt){return Tt.map(yt=>yt.replace(Ct,Wt))}let ut=(()=>{var Wt;class Tt{constructor(Te,oe,W,Q,le,Se,kt,hn=null){this.eventManager=Te,this.sharedStylesHost=oe,this.appId=W,this.removeStylesOnCompDestroy=Q,this.doc=le,this.platformId=Se,this.ngZone=kt,this.nonce=hn,this.rendererByCompId=new Map,this.platformIsServer=(0,h.Vy)(Se),this.defaultRenderer=new it(Te,le,kt,this.platformIsServer)}createRenderer(Te,oe){if(!Te||!oe)return this.defaultRenderer;this.platformIsServer&&oe.encapsulation===s.gXe.ShadowDom&&(oe={...oe,encapsulation:s.gXe.Emulated});const W=this.getOrCreateRenderer(Te,oe);return W instanceof Vt?W.applyToHost(Te):W instanceof Ft&&W.applyStyles(),W}getOrCreateRenderer(Te,oe){const W=this.rendererByCompId;let Q=W.get(oe.id);if(!Q){const le=this.doc,Se=this.ngZone,kt=this.eventManager,hn=this.sharedStylesHost,Fn=this.removeStylesOnCompDestroy,ir=this.platformIsServer;switch(oe.encapsulation){case s.gXe.Emulated:Q=new Vt(kt,hn,oe,this.appId,Fn,le,Se,ir);break;case s.gXe.ShadowDom:return new tt(kt,hn,Te,oe,le,Se,this.nonce,ir);default:Q=new Ft(kt,hn,oe,Fn,le,Se,ir)}W.set(oe.id,Q)}return Q}ngOnDestroy(){this.rendererByCompId.clear()}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(Ie),s.KVO(Je),s.KVO(s.sZ2),s.KVO(Me),s.KVO(h.qQ),s.KVO(s.Agw),s.KVO(s.SKi),s.KVO(s.BIS))},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac}),Tt})();class it{constructor(Tt,yt,Te,oe){this.eventManager=Tt,this.doc=yt,this.ngZone=Te,this.platformIsServer=oe,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Tt,yt){return yt?this.doc.createElementNS(ct[yt]||yt,Tt):this.doc.createElement(Tt)}createComment(Tt){return this.doc.createComment(Tt)}createText(Tt){return this.doc.createTextNode(Tt)}appendChild(Tt,yt){(ht(Tt)?Tt.content:Tt).appendChild(yt)}insertBefore(Tt,yt,Te){Tt&&(ht(Tt)?Tt.content:Tt).insertBefore(yt,Te)}removeChild(Tt,yt){yt.remove()}selectRootElement(Tt,yt){let Te="string"==typeof Tt?this.doc.querySelector(Tt):Tt;if(!Te)throw new s.wOt(-5104,!1);return yt||(Te.textContent=""),Te}parentNode(Tt){return Tt.parentNode}nextSibling(Tt){return Tt.nextSibling}setAttribute(Tt,yt,Te,oe){if(oe){yt=oe+":"+yt;const W=ct[oe];W?Tt.setAttributeNS(W,yt,Te):Tt.setAttribute(yt,Te)}else Tt.setAttribute(yt,Te)}removeAttribute(Tt,yt,Te){if(Te){const oe=ct[Te];oe?Tt.removeAttributeNS(oe,yt):Tt.removeAttribute(`${Te}:${yt}`)}else Tt.removeAttribute(yt)}addClass(Tt,yt){Tt.classList.add(yt)}removeClass(Tt,yt){Tt.classList.remove(yt)}setStyle(Tt,yt,Te,oe){oe&(s.czy.DashCase|s.czy.Important)?Tt.style.setProperty(yt,Te,oe&s.czy.Important?"important":""):Tt.style[yt]=Te}removeStyle(Tt,yt,Te){Te&s.czy.DashCase?Tt.style.removeProperty(yt):Tt.style[yt]=""}setProperty(Tt,yt,Te){null!=Tt&&(Tt[yt]=Te)}setValue(Tt,yt){Tt.nodeValue=yt}listen(Tt,yt,Te){if("string"==typeof Tt&&!(Tt=(0,h.QT)().getGlobalEventTarget(this.doc,Tt)))throw new Error(`Unsupported event target ${Tt} for event ${yt}`);return this.eventManager.addEventListener(Tt,yt,this.decoratePreventDefault(Te))}decoratePreventDefault(Tt){return yt=>{if("__ngUnwrap__"===yt)return Tt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Tt(yt)):Tt(yt))&&yt.preventDefault()}}}function ht(Wt){return"TEMPLATE"===Wt.tagName&&void 0!==Wt.content}class tt extends it{constructor(Tt,yt,Te,oe,W,Q,le,Se){super(Tt,W,Q,Se),this.sharedStylesHost=yt,this.hostEl=Te,this.shadowRoot=Te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kt=ot(oe.id,oe.styles);for(const hn of kt){const Fn=document.createElement("style");le&&Fn.setAttribute("nonce",le),Fn.textContent=hn,this.shadowRoot.appendChild(Fn)}}nodeOrShadowRoot(Tt){return Tt===this.hostEl?this.shadowRoot:Tt}appendChild(Tt,yt){return super.appendChild(this.nodeOrShadowRoot(Tt),yt)}insertBefore(Tt,yt,Te){return super.insertBefore(this.nodeOrShadowRoot(Tt),yt,Te)}removeChild(Tt,yt){return super.removeChild(null,yt)}parentNode(Tt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Tt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ft extends it{constructor(Tt,yt,Te,oe,W,Q,le,Se){super(Tt,W,Q,le),this.sharedStylesHost=yt,this.removeStylesOnCompDestroy=oe,this.styles=Se?ot(Se,Te.styles):Te.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vt extends Ft{constructor(Tt,yt,Te,oe,W,Q,le,Se){const kt=oe+"-"+Te.id;super(Tt,yt,Te,W,Q,le,Se,kt),this.contentAttr=function Fe(Wt){return"_ngcontent-%COMP%".replace(Ct,Wt)}(kt),this.hostAttr=function Le(Wt){return"_nghost-%COMP%".replace(Ct,Wt)}(kt)}applyToHost(Tt){this.applyStyles(),this.setAttribute(Tt,this.hostAttr,"")}createElement(Tt,yt){const Te=super.createElement(Tt,yt);return super.setAttribute(Te,this.contentAttr,""),Te}}let cn=(()=>{var Wt;class Tt extends nt{constructor(Te){super(Te)}supports(Te){return!0}addEventListener(Te,oe,W){return Te.addEventListener(oe,W,!1),()=>this.removeEventListener(Te,oe,W)}removeEventListener(Te,oe,W){return Te.removeEventListener(oe,W)}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(h.qQ))},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac}),Tt})(),qe=(()=>{var Wt;class Tt extends nt{constructor(Te){super(Te),this.delegate=(0,s.WQX)(s.zAP,{optional:!0})}supports(Te){return!!this.delegate&&this.delegate.supports(Te)}addEventListener(Te,oe,W){return this.delegate.addEventListener(Te,oe,W)}removeEventListener(Te,oe,W){return this.delegate.removeEventListener(Te,oe,W)}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(h.qQ))},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac}),Tt})();const De=["alt","control","meta","shift"],Y={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ie={alt:Wt=>Wt.altKey,control:Wt=>Wt.ctrlKey,meta:Wt=>Wt.metaKey,shift:Wt=>Wt.shiftKey};let se=(()=>{var Wt;class Tt extends nt{constructor(Te){super(Te)}supports(Te){return null!=Tt.parseEventName(Te)}addEventListener(Te,oe,W){const Q=Tt.parseEventName(oe),le=Tt.eventCallback(Q.fullKey,W,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.QT)().onAndCancel(Te,Q.domEventName,le))}static parseEventName(Te){const oe=Te.toLowerCase().split("."),W=oe.shift();if(0===oe.length||"keydown"!==W&&"keyup"!==W)return null;const Q=Tt._normalizeKey(oe.pop());let le="",Se=oe.indexOf("code");if(Se>-1&&(oe.splice(Se,1),le="code."),De.forEach(hn=>{const Fn=oe.indexOf(hn);Fn>-1&&(oe.splice(Fn,1),le+=hn+".")}),le+=Q,0!=oe.length||0===Q.length)return null;const kt={};return kt.domEventName=W,kt.fullKey=le,kt}static matchEventFullKeyCode(Te,oe){let W=Y[Te.key]||Te.key,Q="";return oe.indexOf("code.")>-1&&(W=Te.code,Q="code."),!(null==W||!W)&&(W=W.toLowerCase()," "===W?W="space":"."===W&&(W="dot"),De.forEach(le=>{le!==W&&(0,ie[le])(Te)&&(Q+=le+".")}),Q+=W,Q===oe)}static eventCallback(Te,oe,W){return Q=>{Tt.matchEventFullKeyCode(Q,Te)&&W.runGuarded(()=>oe(Q))}}static _normalizeKey(Te){return"esc"===Te?"escape":Te}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(h.qQ))},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac}),Tt})();const Pt=(0,s.oH4)(s.fpN,"browser",[{provide:s.Agw,useValue:h.AJ},{provide:s.PLl,useValue:function Bt(){Ee.makeCurrent()},multi:!0},{provide:h.qQ,useFactory:function xt(){return(0,s.TL$)(document),document},deps:[]}]),Pn=new s.nKC(""),Sn=[{provide:s.e01,useClass:class He{addToWindow(Tt){s.JZv.getAngularTestability=(Te,oe=!0)=>{const W=Tt.findTestabilityInTree(Te,oe);if(null==W)throw new s.wOt(5103,!1);return W},s.JZv.getAllAngularTestabilities=()=>Tt.getAllTestabilities(),s.JZv.getAllAngularRootElements=()=>Tt.getAllRootElements(),s.JZv.frameworkStabilizers||(s.JZv.frameworkStabilizers=[]),s.JZv.frameworkStabilizers.push(Te=>{const oe=s.JZv.getAllAngularTestabilities();let W=oe.length;const Q=function(){W--,0==W&&Te()};oe.forEach(le=>{le.whenStable(Q)})})}findTestabilityInTree(Tt,yt,Te){if(null==yt)return null;const oe=Tt.getTestability(yt);return null!=oe?oe:Te?(0,h.QT)().isShadowRoot(yt)?this.findTestabilityInTree(Tt,yt.host,!0):this.findTestabilityInTree(Tt,yt.parentElement,!0):null}},deps:[]},{provide:s.WHO,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]},{provide:s.NYb,useClass:s.NYb,deps:[s.SKi,s.giA,s.e01]}],Ln=[{provide:s.H8p,useValue:"root"},{provide:s.zcH,useFactory:function In(){return new s.zcH},deps:[]},{provide:xe,useClass:cn,multi:!0,deps:[h.qQ,s.SKi,s.Agw]},{provide:xe,useClass:se,multi:!0,deps:[h.qQ]},{provide:xe,useClass:qe,multi:!0},ut,Je,Ie,{provide:s._9s,useExisting:ut},{provide:h.N0,useClass:st,deps:[]},[]];let Qt=(()=>{var Wt;class Tt{constructor(Te){}static withServerTransition(Te){return{ngModule:Tt,providers:[{provide:s.sZ2,useValue:Te.appId}]}}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(Pn,12))},Wt.\u0275mod=s.$C({type:Wt}),Wt.\u0275inj=s.G2t({providers:[...Ln,...Sn],imports:[h.MD,s.Hbi]}),Tt})(),vt=(()=>{var Wt;class Tt{constructor(Te){this._doc=Te}getTitle(){return this._doc.title}setTitle(Te){this._doc.title=Te||""}}return(Wt=Tt).\u0275fac=function(Te){return new(Te||Wt)(s.KVO(h.qQ))},Wt.\u0275prov=s.jDH({token:Wt,factory:Wt.\u0275fac,providedIn:"root"}),Tt})()},9384:(Mn,St,x)=>{"use strict";x.d(St,{nX:()=>nn,Zp:()=>Kr,Z:()=>Zi,Xk:()=>xt,Kp:()=>vu,b:()=>tn,Ix:()=>Li,Wk:()=>Is,wQ:()=>Ps,iI:()=>Ns,Sd:()=>Un});var h=x(3953),s=x(1985),V=x(8071),z=x(8455),Ae=x(7673),Oe=x(4412),He=x(4572),st=x(9350),xe=x(8793),Ie=x(8750);function nt(C){return new s.c(M=>{(0,Ie.Tg)(C()).subscribe(M)})}var Qe=x(1203);function Je(C,M){const F=(0,V.T)(C)?C:()=>C,S=B=>B.error(F());return new s.c(M?B=>M.schedule(S,0,B):S)}var ct=x(983),Ct=x(8359),mt=x(9974),lt=x(4360);function Nt(){return(0,mt.N)((C,M)=>{let F=null;C._refCount++;const S=(0,lt._)(M,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(F=null);const B=C._connection,fe=F;F=null,B&&(!fe||B===fe)&&B.unsubscribe(),M.unsubscribe()});C.subscribe(S),S.closed||(F=C.connect())})}class wt extends s.c{constructor(M,F){super(),this.source=M,this.subjectFactory=F,this._subject=null,this._refCount=0,this._connection=null,(0,mt.S)(M)&&(this.lift=M.lift)}_subscribe(M){return this.getSubject().subscribe(M)}getSubject(){const M=this._subject;return(!M||M.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:M}=this;this._subject=this._connection=null,null==M||M.unsubscribe()}connect(){let M=this._connection;if(!M){M=this._connection=new Ct.yU;const F=this.getSubject();M.add(this.source.subscribe((0,lt._)(F,void 0,()=>{this._teardown(),F.complete()},S=>{this._teardown(),F.error(S)},()=>this._teardown()))),M.closed&&(this._connection=null,M=Ct.yU.EMPTY)}return M}refCount(){return Nt()(this)}}var Me=x(1413),Fe=x(177),Le=x(6354),ot=x(5558),ut=x(6697),it=x(9172),he=x(5964),ft=x(1397),ht=x(1594),tt=x(274),Ft=x(8141);function Vt(C){return(0,mt.N)((M,F)=>{let fe,S=null,B=!1;S=M.subscribe((0,lt._)(F,void 0,void 0,Ce=>{fe=(0,Ie.Tg)(C(Ce,Vt(C)(M))),S?(S.unsubscribe(),S=null,fe.subscribe(F)):B=!0})),B&&(S.unsubscribe(),S=null,fe.subscribe(F))})}var cn=x(2816),qe=x(9901);function De(C){return C<=0?()=>ct.w:(0,mt.N)((M,F)=>{let S=[];M.subscribe((0,lt._)(F,B=>{S.push(B),C<S.length&&S.shift()},()=>{for(const B of S)F.next(B);F.complete()},void 0,()=>{S=null}))})}var Y=x(3774),ie=x(3669),et=x(980),Et=x(5343),Bt=x(6365),In=x(345);const xt="primary",Rn=Symbol("RouteTitle");class Pt{constructor(M){this.params=M||{}}has(M){return Object.prototype.hasOwnProperty.call(this.params,M)}get(M){if(this.has(M)){const F=this.params[M];return Array.isArray(F)?F[0]:F}return null}getAll(M){if(this.has(M)){const F=this.params[M];return Array.isArray(F)?F:[F]}return[]}get keys(){return Object.keys(this.params)}}function Pn(C){return new Pt(C)}function Sn(C,M,F){const S=F.path.split("/");if(S.length>C.length||"full"===F.pathMatch&&(M.hasChildren()||S.length<C.length))return null;const B={};for(let fe=0;fe<S.length;fe++){const Ce=S[fe],Ut=C[fe];if(":"===Ce[0])B[Ce.substring(1)]=Ut;else if(Ce!==Ut.path)return null}return{consumed:C.slice(0,S.length),posParams:B}}function Qt(C,M){const F=C?Yt(C):void 0,S=M?Yt(M):void 0;if(!F||!S||F.length!=S.length)return!1;let B;for(let fe=0;fe<F.length;fe++)if(B=F[fe],!Hn(C[B],M[B]))return!1;return!0}function Yt(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}function Hn(C,M){if(Array.isArray(C)&&Array.isArray(M)){if(C.length!==M.length)return!1;const F=[...C].sort(),S=[...M].sort();return F.every((B,fe)=>S[fe]===B)}return C===M}function vt(C){return C.length>0?C[C.length-1]:null}function Ne(C){return function Ee(C){return!!C&&(C instanceof s.c||(0,V.T)(C.lift)&&(0,V.T)(C.subscribe))}(C)?C:(0,h.jNT)(C)?(0,z.H)(Promise.resolve(C)):(0,Ae.of)(C)}const je={exact:function sr(C,M,F){if(!An(C.segments,M.segments)||!dr(C.segments,M.segments,F)||C.numberOfChildren!==M.numberOfChildren)return!1;for(const S in M.children)if(!C.children[S]||!sr(C.children[S],M.children[S],F))return!1;return!0},subset:Jt},rn={exact:function hr(C,M){return Qt(C,M)},subset:function kn(C,M){return Object.keys(M).length<=Object.keys(C).length&&Object.keys(M).every(F=>Hn(C[F],M[F]))},ignored:()=>!0};function Gn(C,M,F){return je[F.paths](C.root,M.root,F.matrixParams)&&rn[F.queryParams](C.queryParams,M.queryParams)&&!("exact"===F.fragment&&C.fragment!==M.fragment)}function Jt(C,M,F){return Ar(C,M,M.segments,F)}function Ar(C,M,F,S){if(C.segments.length>F.length){const B=C.segments.slice(0,F.length);return!(!An(B,F)||M.hasChildren()||!dr(B,F,S))}if(C.segments.length===F.length){if(!An(C.segments,F)||!dr(C.segments,F,S))return!1;for(const B in M.children)if(!C.children[B]||!Jt(C.children[B],M.children[B],S))return!1;return!0}{const B=F.slice(0,C.segments.length),fe=F.slice(C.segments.length);return!!(An(C.segments,B)&&dr(C.segments,B,S)&&C.children[xt])&&Ar(C.children[xt],M,fe,S)}}function dr(C,M,F){return M.every((S,B)=>rn[F](C[B].parameters,S.parameters))}class or{constructor(M=new Zn([],{}),F={},S=null){this.root=M,this.queryParams=F,this.fragment=S}get queryParamMap(){var M;return null!==(M=this._queryParamMap)&&void 0!==M||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return Xn.serialize(this)}}class Zn{constructor(M,F){this.segments=M,this.children=F,this.parent=null,Object.values(F).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bi(this)}}class Tr{constructor(M,F){this.path=M,this.parameters=F}get parameterMap(){var M;return null!==(M=this._parameterMap)&&void 0!==M||(this._parameterMap=Pn(this.parameters)),this._parameterMap}toString(){return yt(this)}}function An(C,M){return C.length===M.length&&C.every((F,S)=>F.path===M[S].path)}let Un=(()=>{var C;class M{}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:()=>new qn,providedIn:"root"}),M})();class qn{parse(M){const F=new vr(M);return new or(F.parseRootSegment(),F.parseQueryParams(),F.parseFragment())}serialize(M){const F=`/${rr(M.root,!0)}`,S=function oe(C){const M=Object.entries(C).map(([F,S])=>Array.isArray(S)?S.map(B=>`${_r(F)}=${_r(B)}`).join("&"):`${_r(F)}=${_r(S)}`).filter(F=>F);return M.length?`?${M.join("&")}`:""}(M.queryParams);return`${F}${S}${"string"==typeof M.fragment?`#${function wn(C){return encodeURI(C)}(M.fragment)}`:""}`}}const Xn=new qn;function bi(C){return C.segments.map(M=>yt(M)).join("/")}function rr(C,M){if(!C.hasChildren())return bi(C);if(M){const F=C.children[xt]?rr(C.children[xt],!1):"",S=[];return Object.entries(C.children).forEach(([B,fe])=>{B!==xt&&S.push(`${B}:${rr(fe,!1)}`)}),S.length>0?`${F}(${S.join("//")})`:F}{const F=function ti(C,M){let F=[];return Object.entries(C.children).forEach(([S,B])=>{S===xt&&(F=F.concat(M(B,S)))}),Object.entries(C.children).forEach(([S,B])=>{S!==xt&&(F=F.concat(M(B,S)))}),F}(C,(S,B)=>B===xt?[rr(C.children[xt],!1)]:[`${B}:${rr(S,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[xt]?`${bi(C)}/${F[0]}`:`${bi(C)}/(${F.join("//")})`}}function Ii(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _r(C){return Ii(C).replace(/%3B/gi,";")}function di(C){return Ii(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wt(C){return decodeURIComponent(C)}function Tt(C){return Wt(C.replace(/\+/g,"%20"))}function yt(C){return`${di(C.path)}${function Te(C){return Object.entries(C).map(([M,F])=>`;${di(M)}=${di(F)}`).join("")}(C.parameters)}`}const W=/^[^\/()?;#]+/;function Q(C){const M=C.match(W);return M?M[0]:""}const le=/^[^\/()?;=#]+/,kt=/^[^=?&#]+/,Fn=/^[^&#]+/;class vr{constructor(M){this.url=M,this.remaining=M}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zn([],{}):new Zn([],this.parseChildren())}parseQueryParams(){const M={};if(this.consumeOptional("?"))do{this.parseQueryParam(M)}while(this.consumeOptional("&"));return M}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const M=[];for(this.peekStartsWith("(")||M.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),M.push(this.parseSegment());let F={};this.peekStartsWith("/(")&&(this.capture("/"),F=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(M.length>0||Object.keys(F).length>0)&&(S[xt]=new Zn(M,F)),S}parseSegment(){const M=Q(this.remaining);if(""===M&&this.peekStartsWith(";"))throw new h.wOt(4009,!1);return this.capture(M),new Tr(Wt(M),this.parseMatrixParams())}parseMatrixParams(){const M={};for(;this.consumeOptional(";");)this.parseParam(M);return M}parseParam(M){const F=function Se(C){const M=C.match(le);return M?M[0]:""}(this.remaining);if(!F)return;this.capture(F);let S="";if(this.consumeOptional("=")){const B=Q(this.remaining);B&&(S=B,this.capture(S))}M[Wt(F)]=Wt(S)}parseQueryParam(M){const F=function hn(C){const M=C.match(kt);return M?M[0]:""}(this.remaining);if(!F)return;this.capture(F);let S="";if(this.consumeOptional("=")){const Ce=function ir(C){const M=C.match(Fn);return M?M[0]:""}(this.remaining);Ce&&(S=Ce,this.capture(S))}const B=Tt(F),fe=Tt(S);if(M.hasOwnProperty(B)){let Ce=M[B];Array.isArray(Ce)||(Ce=[Ce],M[B]=Ce),Ce.push(fe)}else M[B]=fe}parseParens(M){const F={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Q(this.remaining),B=this.remaining[S.length];if("/"!==B&&")"!==B&&";"!==B)throw new h.wOt(4010,!1);let fe;S.indexOf(":")>-1?(fe=S.slice(0,S.indexOf(":")),this.capture(fe),this.capture(":")):M&&(fe=xt);const Ce=this.parseChildren();F[fe]=1===Object.keys(Ce).length?Ce[xt]:new Zn([],Ce),this.consumeOptional("//")}return F}peekStartsWith(M){return this.remaining.startsWith(M)}consumeOptional(M){return!!this.peekStartsWith(M)&&(this.remaining=this.remaining.substring(M.length),!0)}capture(M){if(!this.consumeOptional(M))throw new h.wOt(4011,!1)}}function At(C){return C.segments.length>0?new Zn([],{[xt]:C}):C}function er(C){const M={};for(const[S,B]of Object.entries(C.children)){const fe=er(B);if(S===xt&&0===fe.segments.length&&fe.hasChildren())for(const[Ce,Ut]of Object.entries(fe.children))M[Ce]=Ut;else(fe.segments.length>0||fe.hasChildren())&&(M[S]=fe)}return function Jn(C){if(1===C.numberOfChildren&&C.children[xt]){const M=C.children[xt];return new Zn(C.segments.concat(M.segments),M.children)}return C}(new Zn(C.segments,M))}function ei(C){return C instanceof or}function co(C){var M;let F;const fe=At(function S(Ce){const Ut={};for(const Gt of Ce.children){const Qn=S(Gt);Ut[Gt.outlet]=Qn}const pn=new Zn(Ce.url,Ut);return Ce===C&&(F=pn),pn}(C.root));return null!==(M=F)&&void 0!==M?M:fe}function Ei(C,M,F,S){let B=C;for(;B.parent;)B=B.parent;if(0===M.length)return Do(B,B,B,F,S);const fe=function Ye(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new po(!0,0,C);let M=0,F=!1;const S=C.reduce((B,fe,Ce)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const Ut={};return Object.entries(fe.outlets).forEach(([pn,Gt])=>{Ut[pn]="string"==typeof Gt?Gt.split("/"):Gt}),[...B,{outlets:Ut}]}if(fe.segmentPath)return[...B,fe.segmentPath]}return"string"!=typeof fe?[...B,fe]:0===Ce?(fe.split("/").forEach((Ut,pn)=>{0==pn&&"."===Ut||(0==pn&&""===Ut?F=!0:".."===Ut?M++:""!=Ut&&B.push(Ut))}),B):[...B,fe]},[]);return new po(F,M,S)}(M);if(fe.toRoot())return Do(B,B,new Zn([],{}),F,S);const Ce=function bt(C,M,F){if(C.isAbsolute)return new we(M,!0,0);if(!F)return new we(M,!1,NaN);if(null===F.parent)return new we(F,!0,0);const S=xo(C.commands[0])?0:1;return function ge(C,M,F){let S=C,B=M,fe=F;for(;fe>B;){if(fe-=B,S=S.parent,!S)throw new h.wOt(4005,!1);B=S.segments.length}return new we(S,!1,B-fe)}(F,F.segments.length-1+S,C.numberOfDoubleDots)}(fe,B,C),Ut=Ce.processChildren?Kt(Ce.segmentGroup,Ce.index,fe.commands):We(Ce.segmentGroup,Ce.index,fe.commands);return Do(B,Ce.segmentGroup,Ut,F,S)}function xo(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Ui(C){return"object"==typeof C&&null!=C&&C.outlets}function Do(C,M,F,S,B){let Ce,fe={};S&&Object.entries(S).forEach(([pn,Gt])=>{fe[pn]=Array.isArray(Gt)?Gt.map(Qn=>`${Qn}`):`${Gt}`}),Ce=C===M?F:Go(C,M,F);const Ut=At(er(Ce));return new or(Ut,fe,B)}function Go(C,M,F){const S={};return Object.entries(C.children).forEach(([B,fe])=>{S[B]=fe===M?F:Go(fe,M,F)}),new Zn(C.segments,S)}class po{constructor(M,F,S){if(this.isAbsolute=M,this.numberOfDoubleDots=F,this.commands=S,M&&S.length>0&&xo(S[0]))throw new h.wOt(4003,!1);const B=S.find(Ui);if(B&&B!==vt(S))throw new h.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class we{constructor(M,F,S){this.segmentGroup=M,this.processChildren=F,this.index=S}}function We(C,M,F){var S;if(null!==(S=C)&&void 0!==S||(C=new Zn([],{})),0===C.segments.length&&C.hasChildren())return Kt(C,M,F);const B=function gn(C,M,F){let S=0,B=M;const fe={match:!1,pathIndex:0,commandIndex:0};for(;B<C.segments.length;){if(S>=F.length)return fe;const Ce=C.segments[B],Ut=F[S];if(Ui(Ut))break;const pn=`${Ut}`,Gt=S<F.length-1?F[S+1]:null;if(B>0&&void 0===pn)break;if(pn&&Gt&&"object"==typeof Gt&&void 0===Gt.outlets){if(!wi(pn,Gt,Ce))return fe;S+=2}else{if(!wi(pn,{},Ce))return fe;S++}B++}return{match:!0,pathIndex:B,commandIndex:S}}(C,M,F),fe=F.slice(B.commandIndex);if(B.match&&B.pathIndex<C.segments.length){const Ce=new Zn(C.segments.slice(0,B.pathIndex),{});return Ce.children[xt]=new Zn(C.segments.slice(B.pathIndex),C.children),Kt(Ce,0,fe)}return B.match&&0===fe.length?new Zn(C.segments,{}):B.match&&!C.hasChildren()?Dn(C,M,F):B.match?Kt(C,0,fe):Dn(C,M,F)}function Kt(C,M,F){if(0===F.length)return new Zn(C.segments,{});{const S=function de(C){return Ui(C[0])?C[0].outlets:{[xt]:C}}(F),B={};if(Object.keys(S).some(fe=>fe!==xt)&&C.children[xt]&&1===C.numberOfChildren&&0===C.children[xt].segments.length){const fe=Kt(C.children[xt],M,F);return new Zn(C.segments,fe.children)}return Object.entries(S).forEach(([fe,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(B[fe]=We(C.children[fe],M,Ce))}),Object.entries(C.children).forEach(([fe,Ce])=>{void 0===S[fe]&&(B[fe]=Ce)}),new Zn(C.segments,B)}}function Dn(C,M,F){const S=C.segments.slice(0,M);let B=0;for(;B<F.length;){const fe=F[B];if(Ui(fe)){const pn=Wn(fe.outlets);return new Zn(S,pn)}if(0===B&&xo(F[0])){S.push(new Tr(C.segments[M].path,Mr(F[0]))),B++;continue}const Ce=Ui(fe)?fe.outlets[xt]:`${fe}`,Ut=B<F.length-1?F[B+1]:null;Ce&&Ut&&xo(Ut)?(S.push(new Tr(Ce,Mr(Ut))),B+=2):(S.push(new Tr(Ce,{})),B++)}return new Zn(S,{})}function Wn(C){const M={};return Object.entries(C).forEach(([F,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(M[F]=Dn(new Zn([],{}),0,S))}),M}function Mr(C){const M={};return Object.entries(C).forEach(([F,S])=>M[F]=`${S}`),M}function wi(C,M,F){return C==F.path&&Qt(M,F.parameters)}const ji="imperative";var fr=function(C){return C[C.NavigationStart=0]="NavigationStart",C[C.NavigationEnd=1]="NavigationEnd",C[C.NavigationCancel=2]="NavigationCancel",C[C.NavigationError=3]="NavigationError",C[C.RoutesRecognized=4]="RoutesRecognized",C[C.ResolveStart=5]="ResolveStart",C[C.ResolveEnd=6]="ResolveEnd",C[C.GuardsCheckStart=7]="GuardsCheckStart",C[C.GuardsCheckEnd=8]="GuardsCheckEnd",C[C.RouteConfigLoadStart=9]="RouteConfigLoadStart",C[C.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",C[C.ChildActivationStart=11]="ChildActivationStart",C[C.ChildActivationEnd=12]="ChildActivationEnd",C[C.ActivationStart=13]="ActivationStart",C[C.ActivationEnd=14]="ActivationEnd",C[C.Scroll=15]="Scroll",C[C.NavigationSkipped=16]="NavigationSkipped",C}(fr||{});class Mi{constructor(M,F){this.id=M,this.url=F}}class Zi extends Mi{constructor(M,F,S="imperative",B=null){super(M,F),this.type=fr.NavigationStart,this.navigationTrigger=S,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oo extends Mi{constructor(M,F,S){super(M,F),this.urlAfterRedirects=S,this.type=fr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ri=function(C){return C[C.Redirect=0]="Redirect",C[C.SupersededByNewNavigation=1]="SupersededByNewNavigation",C[C.NoDataFromResolver=2]="NoDataFromResolver",C[C.GuardRejected=3]="GuardRejected",C}(ri||{}),eo=function(C){return C[C.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",C[C.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",C}(eo||{});class Qi extends Mi{constructor(M,F,S,B){super(M,F),this.reason=S,this.code=B,this.type=fr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class to extends Mi{constructor(M,F,S,B){super(M,F),this.reason=S,this.code=B,this.type=fr.NavigationSkipped}}class go extends Mi{constructor(M,F,S,B){super(M,F),this.error=S,this.target=B,this.type=fr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jo extends Mi{constructor(M,F,S,B){super(M,F),this.urlAfterRedirects=S,this.state=B,this.type=fr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class So extends Mi{constructor(M,F,S,B){super(M,F),this.urlAfterRedirects=S,this.state=B,this.type=fr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss extends Mi{constructor(M,F,S,B,fe){super(M,F),this.urlAfterRedirects=S,this.state=B,this.shouldActivate=fe,this.type=fr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gs extends Mi{constructor(M,F,S,B){super(M,F),this.urlAfterRedirects=S,this.state=B,this.type=fr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo extends Mi{constructor(M,F,S,B){super(M,F),this.urlAfterRedirects=S,this.state=B,this.type=fr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls{constructor(M){this.route=M,this.type=fr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ii{constructor(M){this.route=M,this.type=fr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cs{constructor(M){this.snapshot=M,this.type=fr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(M){this.snapshot=M,this.type=fr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rs{constructor(M){this.snapshot=M,this.type=fr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(M){this.snapshot=M,this.type=fr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gs{constructor(M,F,S){this.routerEvent=M,this.position=F,this.anchor=S,this.type=fr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Io{}class gi{constructor(M,F){this.url=M,this.navigationBehaviorOptions=F}}function me(C){return C.outlet||xt}function Re(C){var M;if(!C)return null;if(null!==(M=C.routeConfig)&&void 0!==M&&M._injector)return C.routeConfig._injector;for(let F=C.parent;F;F=F.parent){const S=F.routeConfig;if(null!=S&&S._loadedInjector)return S._loadedInjector;if(null!=S&&S._injector)return S._injector}return null}class It{get injector(){var M,F;return null!==(M=Re(null===(F=this.route)||void 0===F?void 0:F.snapshot))&&void 0!==M?M:this.rootInjector}set injector(M){}constructor(M){this.rootInjector=M,this.outlet=null,this.route=null,this.children=new Kr(this.rootInjector),this.attachRef=null}}let Kr=(()=>{var C;class M{constructor(S){this.rootInjector=S,this.contexts=new Map}onChildOutletCreated(S,B){const fe=this.getOrCreateContext(S);fe.outlet=B,this.contexts.set(S,fe)}onChildOutletDestroyed(S){const B=this.getContext(S);B&&(B.outlet=null,B.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let B=this.getContext(S);return B||(B=new It(this.rootInjector),this.contexts.set(S,B)),B}getContext(S){return this.contexts.get(S)||null}}return(C=M).\u0275fac=function(S){return new(S||C)(h.KVO(h.uvJ))},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();class X{constructor(M){this._root=M}get root(){return this._root.value}parent(M){const F=this.pathFromRoot(M);return F.length>1?F[F.length-2]:null}children(M){const F=ae(M,this._root);return F?F.children.map(S=>S.value):[]}firstChild(M){const F=ae(M,this._root);return F&&F.children.length>0?F.children[0].value:null}siblings(M){const F=Ge(M,this._root);return F.length<2?[]:F[F.length-2].children.map(B=>B.value).filter(B=>B!==M)}pathFromRoot(M){return Ge(M,this._root).map(F=>F.value)}}function ae(C,M){if(C===M.value)return M;for(const F of M.children){const S=ae(C,F);if(S)return S}return null}function Ge(C,M){if(C===M.value)return[M];for(const F of M.children){const S=Ge(C,F);if(S.length)return S.unshift(M),S}return[]}class Ze{constructor(M,F){this.value=M,this.children=F}toString(){return`TreeNode(${this.value})`}}function gt(C){const M={};return C&&C.children.forEach(F=>M[F.value.outlet]=F),M}class pt extends X{constructor(M,F){super(M),this.snapshot=F,Yn(this,M)}toString(){return this.snapshot.toString()}}function sn(C){const M=function an(C){const fe=new Nn([],{},{},"",{},xt,C,null,{});return new Bn("",new Ze(fe,[]))}(C),F=new Oe.t([new Tr("",{})]),S=new Oe.t({}),B=new Oe.t({}),fe=new Oe.t({}),Ce=new Oe.t(""),Ut=new nn(F,S,fe,Ce,B,xt,C,M.root);return Ut.snapshot=M.root,new pt(new Ze(Ut,[]),M)}class nn{constructor(M,F,S,B,fe,Ce,Ut,pn){var Gt,Qn;this.urlSubject=M,this.paramsSubject=F,this.queryParamsSubject=S,this.fragmentSubject=B,this.dataSubject=fe,this.outlet=Ce,this.component=Ut,this._futureSnapshot=pn,this.title=null!==(Gt=null===(Qn=this.dataSubject)||void 0===Qn?void 0:Qn.pipe((0,Le.T)(Or=>Or[Rn])))&&void 0!==Gt?Gt:(0,Ae.of)(void 0),this.url=M,this.params=F,this.queryParams=S,this.fragment=B,this.data=fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var M;return null!==(M=this._paramMap)&&void 0!==M||(this._paramMap=this.params.pipe((0,Le.T)(F=>Pn(F)))),this._paramMap}get queryParamMap(){var M;return null!==(M=this._queryParamMap)&&void 0!==M||(this._queryParamMap=this.queryParams.pipe((0,Le.T)(F=>Pn(F)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dn(C,M,F="emptyOnly"){var S;let B;const{routeConfig:fe}=C;var Ce;return B=null===M||"always"!==F&&""!==(null==fe?void 0:fe.path)&&(M.component||null!==(S=M.routeConfig)&&void 0!==S&&S.loadComponent)?{params:{...C.params},data:{...C.data},resolve:{...C.data,...null!==(Ce=C._resolvedData)&&void 0!==Ce?Ce:{}}}:{params:{...M.params,...C.params},data:{...M.data,...C.data},resolve:{...C.data,...M.data,...null==fe?void 0:fe.data,...C._resolvedData}},fe&&Xr(fe)&&(B.resolve[Rn]=fe.title),B}class Nn{get title(){var M;return null===(M=this.data)||void 0===M?void 0:M[Rn]}constructor(M,F,S,B,fe,Ce,Ut,pn,Gt){this.url=M,this.params=F,this.queryParams=S,this.fragment=B,this.data=fe,this.outlet=Ce,this.component=Ut,this.routeConfig=pn,this._resolve=Gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var M;return null!==(M=this._paramMap)&&void 0!==M||(this._paramMap=Pn(this.params)),this._paramMap}get queryParamMap(){var M;return null!==(M=this._queryParamMap)&&void 0!==M||(this._queryParamMap=Pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bn extends X{constructor(M,F){super(F),this.url=M,Yn(this,F)}toString(){return ar(this._root)}}function Yn(C,M){M.value._routerState=C,M.children.forEach(F=>Yn(C,F))}function ar(C){const M=C.children.length>0?` { ${C.children.map(ar).join(", ")} } `:"";return`${C.value}${M}`}function Ur(C){if(C.snapshot){const M=C.snapshot,F=C._futureSnapshot;C.snapshot=F,Qt(M.queryParams,F.queryParams)||C.queryParamsSubject.next(F.queryParams),M.fragment!==F.fragment&&C.fragmentSubject.next(F.fragment),Qt(M.params,F.params)||C.paramsSubject.next(F.params),function Ln(C,M){if(C.length!==M.length)return!1;for(let F=0;F<C.length;++F)if(!Qt(C[F],M[F]))return!1;return!0}(M.url,F.url)||C.urlSubject.next(F.url),Qt(M.data,F.data)||C.dataSubject.next(F.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function Oi(C,M){const F=Qt(C.params,M.params)&&function pi(C,M){return An(C,M)&&C.every((F,S)=>Qt(F.parameters,M[S].parameters))}(C.url,M.url);return F&&!(!C.parent!=!M.parent)&&(!C.parent||Oi(C.parent,M.parent))}function Xr(C){return"string"==typeof C.title||null===C.title}let mi=(()=>{var C;class M{constructor(){this.activated=null,this._activatedRoute=null,this.name=xt,this.activateEvents=new h.bkB,this.deactivateEvents=new h.bkB,this.attachEvents=new h.bkB,this.detachEvents=new h.bkB,this.parentContexts=(0,h.WQX)(Kr),this.location=(0,h.WQX)(h.c1b),this.changeDetector=(0,h.WQX)(h.gRc),this.inputBinder=(0,h.WQX)(ns,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(S){if(S.name){const{firstChange:B,previousValue:fe}=S.name;if(B)return;this.isTrackedInParentContexts(fe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(fe)),this.initializeOutletWithName()}}ngOnDestroy(){var S;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(S=this.inputBinder)||void 0===S||S.unsubscribeFromRouteData(this)}isTrackedInParentContexts(S){var B;return(null===(B=this.parentContexts.getContext(S))||void 0===B?void 0:B.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const S=this.parentContexts.getContext(this.name);null!=S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.wOt(4012,!1);this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,B){var fe;this.activated=S,this._activatedRoute=B,this.location.insert(S.hostView),null===(fe=this.inputBinder)||void 0===fe||fe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,B){var fe;if(this.isActivated)throw new h.wOt(4013,!1);this._activatedRoute=S;const Ce=this.location,pn=S.snapshot.component,Gt=this.parentContexts.getOrCreateContext(this.name).children,Qn=new qr(S,Gt,Ce.injector);this.activated=Ce.createComponent(pn,{index:Ce.length,injector:Qn,environmentInjector:B}),this.changeDetector.markForCheck(),null===(fe=this.inputBinder)||void 0===fe||fe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275dir=h.FsC({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.OA$]}),M})();class qr{__ngOutletInjector(M){return new qr(this.route,this.childContexts,M)}constructor(M,F,S){this.route=M,this.childContexts=F,this.parent=S}get(M,F){return M===nn?this.route:M===Kr?this.childContexts:this.parent.get(M,F)}}const ns=new h.nKC("");let mo=(()=>{var C;class M{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(S){this.unsubscribeFromRouteData(S),this.subscribeToRouteData(S)}unsubscribeFromRouteData(S){var B;null===(B=this.outletDataSubscriptions.get(S))||void 0===B||B.unsubscribe(),this.outletDataSubscriptions.delete(S)}subscribeToRouteData(S){const{activatedRoute:B}=S,fe=(0,He.z)([B.queryParams,B.params,B.data]).pipe((0,ot.n)(([Ce,Ut,pn],Gt)=>(pn={...Ce,...Ut,...pn},0===Gt?(0,Ae.of)(pn):Promise.resolve(pn)))).subscribe(Ce=>{if(!S.isActivated||!S.activatedComponentRef||S.activatedRoute!==B||null===B.component)return void this.unsubscribeFromRouteData(S);const Ut=(0,h.HJs)(B.component);if(Ut)for(const{templateName:pn}of Ut.inputs)S.activatedComponentRef.setInput(pn,Ce[pn]);else this.unsubscribeFromRouteData(S)});this.outletDataSubscriptions.set(S,fe)}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac}),M})();function Gi(C,M,F){if(F&&C.shouldReuseRoute(M.value,F.value.snapshot)){const S=F.value;S._futureSnapshot=M.value;const B=function Uo(C,M,F){return M.children.map(S=>{for(const B of F.children)if(C.shouldReuseRoute(S.value,B.value.snapshot))return Gi(C,S,B);return Gi(C,S)})}(C,M,F);return new Ze(S,B)}{if(C.shouldAttach(M.value)){const fe=C.retrieve(M.value);if(null!==fe){const Ce=fe.route;return Ce.value._futureSnapshot=M.value,Ce.children=M.children.map(Ut=>Gi(C,Ut)),Ce}}const S=function Ms(C){return new nn(new Oe.t(C.url),new Oe.t(C.params),new Oe.t(C.queryParams),new Oe.t(C.fragment),new Oe.t(C.data),C.outlet,C.component,C)}(M.value),B=M.children.map(fe=>Gi(C,fe));return new Ze(S,B)}}class Bo{constructor(M,F){this.redirectTo=M,this.navigationBehaviorOptions=F}}const ms="ngNavigationCancelingError";function _i(C,M){const{redirectTo:F,navigationBehaviorOptions:S}=ei(M)?{redirectTo:M,navigationBehaviorOptions:void 0}:M,B=no(!1,ri.Redirect);return B.url=F,B.navigationBehaviorOptions=S,B}function no(C,M){const F=new Error(`NavigationCancelingError: ${C||""}`);return F[ms]=!0,F.cancellationCode=M,F}function $o(C){return!!C&&C[ms]}class uo{constructor(M,F,S,B,fe){this.routeReuseStrategy=M,this.futureState=F,this.currState=S,this.forwardEvent=B,this.inputBindingEnabled=fe}activate(M){const F=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(F,S,M),Ur(this.futureState.root),this.activateChildRoutes(F,S,M)}deactivateChildRoutes(M,F,S){const B=gt(F);M.children.forEach(fe=>{const Ce=fe.value.outlet;this.deactivateRoutes(fe,B[Ce],S),delete B[Ce]}),Object.values(B).forEach(fe=>{this.deactivateRouteAndItsChildren(fe,S)})}deactivateRoutes(M,F,S){const B=M.value,fe=F?F.value:null;if(B===fe)if(B.component){const Ce=S.getContext(B.outlet);Ce&&this.deactivateChildRoutes(M,F,Ce.children)}else this.deactivateChildRoutes(M,F,S);else fe&&this.deactivateRouteAndItsChildren(F,S)}deactivateRouteAndItsChildren(M,F){M.value.component&&this.routeReuseStrategy.shouldDetach(M.value.snapshot)?this.detachAndStoreRouteSubtree(M,F):this.deactivateRouteAndOutlet(M,F)}detachAndStoreRouteSubtree(M,F){const S=F.getContext(M.value.outlet),B=S&&M.value.component?S.children:F,fe=gt(M);for(const Ce of Object.values(fe))this.deactivateRouteAndItsChildren(Ce,B);if(S&&S.outlet){const Ce=S.outlet.detach(),Ut=S.children.onOutletDeactivated();this.routeReuseStrategy.store(M.value.snapshot,{componentRef:Ce,route:M,contexts:Ut})}}deactivateRouteAndOutlet(M,F){const S=F.getContext(M.value.outlet),B=S&&M.value.component?S.children:F,fe=gt(M);for(const Ce of Object.values(fe))this.deactivateRouteAndItsChildren(Ce,B);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(M,F,S){const B=gt(F);M.children.forEach(fe=>{this.activateRoutes(fe,B[fe.value.outlet],S),this.forwardEvent(new Hs(fe.value.snapshot))}),M.children.length&&this.forwardEvent(new Pi(M.value.snapshot))}activateRoutes(M,F,S){const B=M.value,fe=F?F.value:null;if(Ur(B),B===fe)if(B.component){const Ce=S.getOrCreateContext(B.outlet);this.activateChildRoutes(M,F,Ce.children)}else this.activateChildRoutes(M,F,S);else if(B.component){const Ce=S.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const Ut=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Ce.children.onOutletReAttached(Ut.contexts),Ce.attachRef=Ut.componentRef,Ce.route=Ut.route.value,Ce.outlet&&Ce.outlet.attach(Ut.componentRef,Ut.route.value),Ur(Ut.route.value),this.activateChildRoutes(M,null,Ce.children)}else Ce.attachRef=null,Ce.route=B,Ce.outlet&&Ce.outlet.activateWith(B,Ce.injector),this.activateChildRoutes(M,null,Ce.children)}else this.activateChildRoutes(M,null,S)}}class Ro{constructor(M){this.path=M,this.route=this.path[this.path.length-1]}}class oi{constructor(M,F){this.component=M,this.route=F}}function Di(C,M,F){const S=C._root;return Rt(S,M?M._root:null,F,[S.value])}function Ke(C,M){const F=Symbol(),S=M.get(C,F);return S===F?"function"!=typeof C||(0,h.LfX)(C)?M.get(C):C:S}function Rt(C,M,F,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const fe=gt(M);return C.children.forEach(Ce=>{(function mn(C,M,F,S,B={canDeactivateChecks:[],canActivateChecks:[]}){const fe=C.value,Ce=M?M.value:null,Ut=F?F.getContext(C.value.outlet):null;if(Ce&&fe.routeConfig===Ce.routeConfig){const pn=function xn(C,M,F){if("function"==typeof F)return F(C,M);switch(F){case"pathParamsChange":return!An(C.url,M.url);case"pathParamsOrQueryParamsChange":return!An(C.url,M.url)||!Qt(C.queryParams,M.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oi(C,M)||!Qt(C.queryParams,M.queryParams);default:return!Oi(C,M)}}(Ce,fe,fe.routeConfig.runGuardsAndResolvers);pn?B.canActivateChecks.push(new Ro(S)):(fe.data=Ce.data,fe._resolvedData=Ce._resolvedData),Rt(C,M,fe.component?Ut?Ut.children:null:F,S,B),pn&&Ut&&Ut.outlet&&Ut.outlet.isActivated&&B.canDeactivateChecks.push(new oi(Ut.outlet.component,Ce))}else Ce&&Tn(M,Ut,B),B.canActivateChecks.push(new Ro(S)),Rt(C,null,fe.component?Ut?Ut.children:null:F,S,B)})(Ce,fe[Ce.value.outlet],F,S.concat([Ce.value]),B),delete fe[Ce.value.outlet]}),Object.entries(fe).forEach(([Ce,Ut])=>Tn(Ut,F.getContext(Ce),B)),B}function Tn(C,M,F){const S=gt(C),B=C.value;Object.entries(S).forEach(([fe,Ce])=>{Tn(Ce,B.component?M?M.children.getContext(fe):null:M,F)}),F.canDeactivateChecks.push(new oi(B.component&&M&&M.outlet&&M.outlet.isActivated?M.outlet.component:null,B))}function tr(C){return"function"==typeof C}function Wa(C){return C instanceof st.G||"EmptyError"===(null==C?void 0:C.name)}const Ci=Symbol("INITIAL_VALUE");function Wo(){return(0,ot.n)(C=>(0,He.z)(C.map(M=>M.pipe((0,ut.s)(1),(0,it.Z)(Ci)))).pipe((0,Le.T)(M=>{for(const F of M)if(!0!==F){if(F===Ci)return Ci;if(!1===F||cs(F))return F}return!0}),(0,he.p)(M=>M!==Ci),(0,ut.s)(1)))}function cs(C){return ei(C)||C instanceof Bo}function _n(C){return(0,Qe.F)((0,Ft.M)(M=>{if("boolean"!=typeof M)throw _i(0,M)}),(0,Le.T)(M=>!0===M))}class ki{constructor(M){this.segmentGroup=M||null}}class Mo extends Error{constructor(M){super(),this.urlTree=M}}function _o(C){return Je(new ki(C))}class na{constructor(M,F){this.urlSerializer=M,this.urlTree=F}lineralizeSegments(M,F){let S=[],B=F.root;for(;;){if(S=S.concat(B.segments),0===B.numberOfChildren)return(0,Ae.of)(S);if(B.numberOfChildren>1||!B.children[xt])return Je(new h.wOt(4e3,!1));B=B.children[xt]}}applyRedirectCommands(M,F,S,B,fe){if("string"!=typeof F){const Ut=F,{queryParams:pn,fragment:Gt,routeConfig:Qn,url:Or,outlet:Ti,params:Br,data:$i,title:Er}=B,Si=(0,h.N4e)(fe,()=>Ut({params:Br,data:$i,queryParams:pn,fragment:Gt,routeConfig:Qn,url:Or,outlet:Ti,title:Er}));if(Si instanceof or)throw new Mo(Si);F=Si}const Ce=this.applyRedirectCreateUrlTree(F,this.urlSerializer.parse(F),M,S);if("/"===F[0])throw new Mo(Ce);return Ce}applyRedirectCreateUrlTree(M,F,S,B){const fe=this.createSegmentGroup(M,F.root,S,B);return new or(fe,this.createQueryParams(F.queryParams,this.urlTree.queryParams),F.fragment)}createQueryParams(M,F){const S={};return Object.entries(M).forEach(([B,fe])=>{if("string"==typeof fe&&":"===fe[0]){const Ut=fe.substring(1);S[B]=F[Ut]}else S[B]=fe}),S}createSegmentGroup(M,F,S,B){const fe=this.createSegments(M,F.segments,S,B);let Ce={};return Object.entries(F.children).forEach(([Ut,pn])=>{Ce[Ut]=this.createSegmentGroup(M,pn,S,B)}),new Zn(fe,Ce)}createSegments(M,F,S,B){return F.map(fe=>":"===fe.path[0]?this.findPosParam(M,fe,B):this.findOrReturn(fe,S))}findPosParam(M,F,S){const B=S[F.path.substring(1)];if(!B)throw new h.wOt(4001,!1);return B}findOrReturn(M,F){let S=0;for(const B of F){if(B.path===M.path)return F.splice(S),B;S++}return M}}const zs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _a(C,M,F,S,B){const fe=Ko(C,M,F);return fe.matched?(S=function es(C,M){var F;return C.providers&&!C._injector&&(C._injector=(0,h.Ol2)(C.providers,M,`Route: ${C.path}`)),null!==(F=C._injector)&&void 0!==F?F:M}(M,S),function pr(C,M,F,S){const B=M.canMatch;if(!B||0===B.length)return(0,Ae.of)(!0);const fe=B.map(Ce=>{const Ut=Ke(Ce,C);return Ne(function al(C){return C&&tr(C.canMatch)}(Ut)?Ut.canMatch(M,F):(0,h.N4e)(C,()=>Ut(M,F)))});return(0,Ae.of)(fe).pipe(Wo(),_n())}(S,M,F).pipe((0,Le.T)(Ce=>!0===Ce?fe:{...zs}))):(0,Ae.of)(fe)}function Ko(C,M,F){var S,B;if("**"===M.path)return function Ws(C){return{matched:!0,parameters:C.length>0?vt(C).parameters:{},consumedSegments:C,remainingSegments:[],positionalParamSegments:{}}}(F);if(""===M.path)return"full"===M.pathMatch&&(C.hasChildren()||F.length>0)?{...zs}:{matched:!0,consumedSegments:[],remainingSegments:F,parameters:{},positionalParamSegments:{}};const Ce=(M.matcher||Sn)(F,C,M);if(!Ce)return{...zs};const Ut={};Object.entries(null!==(S=Ce.posParams)&&void 0!==S?S:{}).forEach(([Gt,Qn])=>{Ut[Gt]=Qn.path});const pn=Ce.consumed.length>0?{...Ut,...Ce.consumed[Ce.consumed.length-1].parameters}:Ut;return{matched:!0,consumedSegments:Ce.consumed,remainingSegments:F.slice(Ce.consumed.length),parameters:pn,positionalParamSegments:null!==(B=Ce.posParams)&&void 0!==B?B:{}}}function ka(C,M,F,S){return F.length>0&&function ra(C,M,F){return F.some(S=>bs(C,M,S)&&me(S)!==xt)}(C,F,S)?{segmentGroup:new Zn(M,Ka(S,new Zn(F,C.children))),slicedSegments:[]}:0===F.length&&function wr(C,M,F){return F.some(S=>bs(C,M,S))}(C,F,S)?{segmentGroup:new Zn(C.segments,Ks(C,F,S,C.children)),slicedSegments:F}:{segmentGroup:new Zn(C.segments,C.children),slicedSegments:F}}function Ks(C,M,F,S){const B={};for(const fe of F)if(bs(C,M,fe)&&!S[me(fe)]){const Ce=new Zn([],{});B[me(fe)]=Ce}return{...S,...B}}function Ka(C,M){const F={};F[xt]=M;for(const S of C)if(""===S.path&&me(S)!==xt){const B=new Zn([],{});F[me(S)]=B}return F}function bs(C,M,F){return(!(C.hasChildren()||M.length>0)||"full"!==F.pathMatch)&&""===F.path}class _s{}class Xs{constructor(M,F,S,B,fe,Ce,Ut){this.injector=M,this.configLoader=F,this.rootComponentType=S,this.config=B,this.urlTree=fe,this.paramsInheritanceStrategy=Ce,this.urlSerializer=Ut,this.applyRedirects=new na(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(M){return new h.wOt(4002,`'${M.segmentGroup}'`)}recognize(){const M=ka(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(M).pipe((0,Le.T)(({children:F,rootSnapshot:S})=>{const B=new Ze(S,F),fe=new Bn("",B),Ce=function Ki(C,M,F=null,S=null){return Ei(co(C),M,F,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,fe.url=this.urlSerializer.serialize(Ce),{state:fe,tree:Ce}}))}match(M){const F=new Nn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),xt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,M,xt,F).pipe((0,Le.T)(S=>({children:S,rootSnapshot:F})),Vt(S=>{if(S instanceof Mo)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof ki?this.noMatchError(S):S}))}processSegmentGroup(M,F,S,B,fe){return 0===S.segments.length&&S.hasChildren()?this.processChildren(M,F,S,fe):this.processSegment(M,F,S,S.segments,B,!0,fe).pipe((0,Le.T)(Ce=>Ce instanceof Ze?[Ce]:[]))}processChildren(M,F,S,B){const fe=[];for(const Ce of Object.keys(S.children))"primary"===Ce?fe.unshift(Ce):fe.push(Ce);return(0,z.H)(fe).pipe((0,tt.H)(Ce=>{const Ut=S.children[Ce],pn=function L(C,M){const F=C.filter(S=>me(S)===M);return F.push(...C.filter(S=>me(S)!==M)),F}(F,Ce);return this.processSegmentGroup(M,pn,Ut,Ce,B)}),(0,cn.S)((Ce,Ut)=>(Ce.push(...Ut),Ce)),(0,qe.U)(null),function se(C,M){const F=arguments.length>=2;return S=>S.pipe(C?(0,he.p)((B,fe)=>C(B,fe,S)):ie.D,De(1),F?(0,qe.U)(M):(0,Y.v)(()=>new st.G))}(),(0,ft.Z)(Ce=>{if(null===Ce)return _o(S);const Ut=ql(Ce);return function Sl(C){C.sort((M,F)=>M.value.outlet===xt?-1:F.value.outlet===xt?1:M.value.outlet.localeCompare(F.value.outlet))}(Ut),(0,Ae.of)(Ut)}))}processSegment(M,F,S,B,fe,Ce,Ut){return(0,z.H)(F).pipe((0,tt.H)(pn=>{var Gt;return this.processSegmentAgainstRoute(null!==(Gt=pn._injector)&&void 0!==Gt?Gt:M,F,pn,S,B,fe,Ce,Ut).pipe(Vt(Qn=>{if(Qn instanceof ki)return(0,Ae.of)(null);throw Qn}))}),(0,ht.$)(pn=>!!pn),Vt(pn=>{if(Wa(pn))return function is(C,M,F){return 0===M.length&&!C.children[F]}(S,B,fe)?(0,Ae.of)(new _s):_o(S);throw pn}))}processSegmentAgainstRoute(M,F,S,B,fe,Ce,Ut,pn){return me(S)===Ce||Ce!==xt&&bs(B,fe,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(M,B,S,fe,Ce,pn):this.allowRedirects&&Ut?this.expandSegmentAgainstRouteUsingRedirect(M,B,F,S,fe,Ce,pn):_o(B):_o(B)}expandSegmentAgainstRouteUsingRedirect(M,F,S,B,fe,Ce,Ut){var pn,Gt;const{matched:Qn,parameters:Or,consumedSegments:Ti,positionalParamSegments:Br,remainingSegments:$i}=Ko(F,B,fe);if(!Qn)return _o(F);"string"==typeof B.redirectTo&&"/"===B.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Er=new Nn(fe,Or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va(B),me(B),null!==(pn=null!==(Gt=B.component)&&void 0!==Gt?Gt:B._loadedComponent)&&void 0!==pn?pn:null,B,us(B)),Si=dn(Er,Ut,this.paramsInheritanceStrategy);Er.params=Object.freeze(Si.params),Er.data=Object.freeze(Si.data);const Oo=this.applyRedirects.applyRedirectCommands(Ti,B.redirectTo,Br,Er,M);return this.applyRedirects.lineralizeSegments(B,Oo).pipe((0,ft.Z)(Ao=>this.processSegment(M,S,F,Ao.concat($i),Ce,!1,Ut)))}matchSegmentAgainstRoute(M,F,S,B,fe,Ce){const Ut=_a(F,S,B,M);return"**"===S.path&&(F.children={}),Ut.pipe((0,ot.n)(pn=>{var Gt;return pn.matched?(M=null!==(Gt=S._injector)&&void 0!==Gt?Gt:M,this.getChildConfig(M,S,B).pipe((0,ot.n)(({routes:Qn})=>{var Or,Ti,Br;const $i=null!==(Or=S._loadedInjector)&&void 0!==Or?Or:M,{parameters:Er,consumedSegments:Si,remainingSegments:Oo}=pn,Ao=new Nn(Si,Er,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,va(S),me(S),null!==(Ti=null!==(Br=S.component)&&void 0!==Br?Br:S._loadedComponent)&&void 0!==Ti?Ti:null,S,us(S)),Yi=dn(Ao,Ce,this.paramsInheritanceStrategy);Ao.params=Object.freeze(Yi.params),Ao.data=Object.freeze(Yi.data);const{segmentGroup:hl,slicedSegments:Sc}=ka(F,Si,Oo,Qn);if(0===Sc.length&&hl.hasChildren())return this.processChildren($i,Qn,hl,Ao).pipe((0,Le.T)(Ea=>new Ze(Ao,Ea)));if(0===Qn.length&&0===Sc.length)return(0,Ae.of)(new Ze(Ao,[]));const fl=me(S)===fe;return this.processSegment($i,Qn,hl,Sc,fl?xt:fe,!0,Ao).pipe((0,Le.T)(Ea=>new Ze(Ao,Ea instanceof Ze?[Ea]:[])))}))):_o(F)}))}getChildConfig(M,F,S){return F.children?(0,Ae.of)({routes:F.children,injector:M}):F.loadChildren?void 0!==F._loadedRoutes?(0,Ae.of)({routes:F._loadedRoutes,injector:F._loadedInjector}):function pe(C,M,F,S){const B=M.canLoad;if(void 0===B||0===B.length)return(0,Ae.of)(!0);const fe=B.map(Ce=>{const Ut=Ke(Ce,C);return Ne(function Xi(C){return C&&tr(C.canLoad)}(Ut)?Ut.canLoad(M,F):(0,h.N4e)(C,()=>Ut(M,F)))});return(0,Ae.of)(fe).pipe(Wo(),_n())}(M,F,S).pipe((0,ft.Z)(B=>B?this.configLoader.loadChildren(M,F).pipe((0,Ft.M)(fe=>{F._loadedRoutes=fe.routes,F._loadedInjector=fe.injector})):function jo(){return Je(no(!1,ri.GuardRejected))}())):(0,Ae.of)({routes:[],injector:M})}}function ko(C){const M=C.value.routeConfig;return M&&""===M.path}function ql(C){const M=[],F=new Set;for(const S of C){if(!ko(S)){M.push(S);continue}const B=M.find(fe=>S.value.routeConfig===fe.value.routeConfig);void 0!==B?(B.children.push(...S.children),F.add(B)):M.push(S)}for(const S of F){const B=ql(S.children);M.push(new Ze(S.value,B))}return M.filter(S=>!F.has(S))}function va(C){return C.data||{}}function us(C){return C.resolve||{}}function cl(C){const M=C.children.map(F=>cl(F)).flat();return[C,...M]}function Dr(C){return(0,ot.n)(M=>{const F=C(M);return F?(0,z.H)(F).pipe((0,Le.T)(()=>M)):(0,Ae.of)(M)})}let Ai=(()=>{var C;class M{buildTitle(S){let B,fe=S.root;for(;void 0!==fe;){var Ce;B=null!==(Ce=this.getResolvedTitleForRoute(fe))&&void 0!==Ce?Ce:B,fe=fe.children.find(Ut=>Ut.outlet===xt)}return B}getResolvedTitleForRoute(S){return S.data[Rn]}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:()=>(0,h.WQX)(Ec),providedIn:"root"}),M})(),Ec=(()=>{var C;class M extends Ai{constructor(S){super(),this.title=S}updateTitle(S){const B=this.buildTitle(S);void 0!==B&&this.title.setTitle(B)}}return(C=M).\u0275fac=function(S){return new(S||C)(h.KVO(In.hE))},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();const Fa=new h.nKC("",{providedIn:"root",factory:()=>({})});let Ya=(()=>{var C;class M{}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275cmp=h.VBU({type:C,selectors:[["ng-component"]],standalone:!0,features:[h.aNF],decls:1,vars:0,template:function(S,B){1&S&&h.nrm(0,"router-outlet")},dependencies:[mi],encapsulation:2}),M})();function Yc(C){const M=C.children&&C.children.map(Yc),F=M?{...C,children:M}:{...C};return!F.component&&!F.loadComponent&&(M||F.loadChildren)&&F.outlet&&F.outlet!==xt&&(F.component=Ya),F}const Po=new h.nKC("");let ya=(()=>{var C;class M{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.WQX)(h.Ql9)}loadComponent(S){if(this.componentLoaders.get(S))return this.componentLoaders.get(S);if(S._loadedComponent)return(0,Ae.of)(S._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(S);const B=Ne(S.loadComponent()).pipe((0,Le.T)(ia),(0,Ft.M)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(S),S._loadedComponent=Ce}),(0,et.j)(()=>{this.componentLoaders.delete(S)})),fe=new wt(B,()=>new Me.B).pipe(Nt());return this.componentLoaders.set(S,fe),fe}loadChildren(S,B){if(this.childrenLoaders.get(B))return this.childrenLoaders.get(B);if(B._loadedRoutes)return(0,Ae.of)({routes:B._loadedRoutes,injector:B._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(B);const Ce=function Hr(C,M,F,S){return Ne(C.loadChildren()).pipe((0,Le.T)(ia),(0,ft.Z)(B=>B instanceof h.Co$||Array.isArray(B)?(0,Ae.of)(B):(0,z.H)(M.compileModuleAsync(B))),(0,Le.T)(B=>{S&&S(C);let fe,Ce,Ut=!1;return Array.isArray(B)?(Ce=B,!0):(fe=B.create(F).injector,Ce=fe.get(Po,[],{optional:!0,self:!0}).flat()),{routes:Ce.map(Yc),injector:fe}}))}(B,this.compiler,S,this.onLoadEndListener).pipe((0,et.j)(()=>{this.childrenLoaders.delete(B)})),Ut=new wt(Ce,()=>new Me.B).pipe(Nt());return this.childrenLoaders.set(B,Ut),Ut}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();function ia(C){return function Xo(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let qi=(()=>{var C;class M{}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:()=>(0,h.WQX)(Cc),providedIn:"root"}),M})(),Cc=(()=>{var C;class M{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,B){return S}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();const os=new h.nKC(""),D=new h.nKC("");function K(C,M,F){const S=C.get(D),B=C.get(Fe.qQ);return C.get(h.SKi).runOutsideAngular(()=>{if(!B.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(Gt=>setTimeout(Gt));let fe;const Ce=new Promise(Gt=>{fe=Gt}),Ut=B.startViewTransition(()=>(fe(),function Ve(C){return new Promise(M=>{(0,h.mal)({read:()=>setTimeout(M)},{injector:C})})}(C))),{onViewTransitionCreated:pn}=S;return pn&&(0,h.N4e)(C,()=>pn({transition:Ut,from:M,to:F})),Ce})}const H=new h.nKC("");let ye=(()=>{var C;class M{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me.B,this.transitionAbortSubject=new Me.B,this.configLoader=(0,h.WQX)(ya),this.environmentInjector=(0,h.WQX)(h.uvJ),this.urlSerializer=(0,h.WQX)(Un),this.rootContexts=(0,h.WQX)(Kr),this.location=(0,h.WQX)(Fe.aZ),this.inputBindingEnabled=null!==(0,h.WQX)(ns,{optional:!0}),this.titleStrategy=(0,h.WQX)(Ai),this.options=(0,h.WQX)(Fa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,h.WQX)(qi),this.createViewTransition=(0,h.WQX)(os,{optional:!0}),this.navigationErrorHandler=(0,h.WQX)(H,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=fe=>this.events.next(new ii(fe)),this.configLoader.onLoadStartListener=fe=>this.events.next(new ls(fe))}complete(){var S;null===(S=this.transitions)||void 0===S||S.complete()}handleNavigationRequest(S){var B;const fe=++this.navigationId;null===(B=this.transitions)||void 0===B||B.next({...this.transitions.value,...S,id:fe})}setupNavigations(S,B,fe){return this.transitions=new Oe.t({id:0,currentUrlTree:B,currentRawUrl:B,extractedUrl:this.urlHandlingStrategy.extract(B),urlAfterRedirects:this.urlHandlingStrategy.extract(B),rawUrl:B,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ji,restoredState:null,currentSnapshot:fe.snapshot,targetSnapshot:null,currentRouterState:fe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,he.p)(Ce=>0!==Ce.id),(0,Le.T)(Ce=>({...Ce,extractedUrl:this.urlHandlingStrategy.extract(Ce.rawUrl)})),(0,ot.n)(Ce=>{let Ut=!1,pn=!1;return(0,Ae.of)(Ce).pipe((0,ot.n)(Gt=>{var Qn;if(this.navigationId>Ce.id)return this.cancelNavigationTransition(Ce,"",ri.SupersededByNewNavigation),ct.w;this.currentTransition=Ce,this.currentNavigation={id:Gt.id,initialUrl:Gt.rawUrl,extractedUrl:Gt.extractedUrl,targetBrowserUrl:"string"==typeof Gt.extras.browserUrl?this.urlSerializer.parse(Gt.extras.browserUrl):Gt.extras.browserUrl,trigger:Gt.source,extras:Gt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Or=!S.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Ti=null!==(Qn=Gt.extras.onSameUrlNavigation)&&void 0!==Qn?Qn:S.onSameUrlNavigation;if(!Or&&"reload"!==Ti){const Br="";return this.events.next(new to(Gt.id,this.urlSerializer.serialize(Gt.rawUrl),Br,eo.IgnoredSameUrlNavigation)),Gt.resolve(!1),ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(Gt.rawUrl))return(0,Ae.of)(Gt).pipe((0,ot.n)(Br=>{var $i,Er;const Si=null===($i=this.transitions)||void 0===$i?void 0:$i.getValue();return this.events.next(new Zi(Br.id,this.urlSerializer.serialize(Br.extractedUrl),Br.source,Br.restoredState)),Si!==(null===(Er=this.transitions)||void 0===Er?void 0:Er.getValue())?ct.w:Promise.resolve(Br)}),function qa(C,M,F,S,B,fe){return(0,ft.Z)(Ce=>function Xa(C,M,F,S,B,fe,Ce="emptyOnly"){return new Xs(C,M,F,S,B,Ce,fe).recognize()}(C,M,F,S,Ce.extractedUrl,B,fe).pipe((0,Le.T)(({state:Ut,tree:pn})=>({...Ce,targetSnapshot:Ut,urlAfterRedirects:pn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,S.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Ft.M)(Br=>{Ce.targetSnapshot=Br.targetSnapshot,Ce.urlAfterRedirects=Br.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Br.urlAfterRedirects};const $i=new Jo(Br.id,this.urlSerializer.serialize(Br.extractedUrl),this.urlSerializer.serialize(Br.urlAfterRedirects),Br.targetSnapshot);this.events.next($i)}));if(Or&&this.urlHandlingStrategy.shouldProcessUrl(Gt.currentRawUrl)){const{id:Br,extractedUrl:$i,source:Er,restoredState:Si,extras:Oo}=Gt,Ao=new Zi(Br,this.urlSerializer.serialize($i),Er,Si);this.events.next(Ao);const Yi=sn(this.rootComponentType).snapshot;return this.currentTransition=Ce={...Gt,targetSnapshot:Yi,urlAfterRedirects:$i,extras:{...Oo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=$i,(0,Ae.of)(Ce)}{const Br="";return this.events.next(new to(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Br,eo.IgnoredByUrlHandlingStrategy)),Gt.resolve(!1),ct.w}}),(0,Ft.M)(Gt=>{const Qn=new So(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot);this.events.next(Qn)}),(0,Le.T)(Gt=>(this.currentTransition=Ce={...Gt,guards:Di(Gt.targetSnapshot,Gt.currentSnapshot,this.rootContexts)},Ce)),function Kl(C,M){return(0,ft.Z)(F=>{const{targetSnapshot:S,currentSnapshot:B,guards:{canActivateChecks:fe,canDeactivateChecks:Ce}}=F;return 0===Ce.length&&0===fe.length?(0,Ae.of)({...F,guardsResult:!0}):function ll(C,M,F,S){return(0,z.H)(C).pipe((0,ft.Z)(B=>function G(C,M,F,S,B){const fe=M&&M.routeConfig?M.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,Ae.of)(!0);const Ce=fe.map(Ut=>{var pn;const Gt=null!==(pn=Re(M))&&void 0!==pn?pn:B,Qn=Ke(Ut,Gt);return Ne(function Fr(C){return C&&tr(C.canDeactivate)}(Qn)?Qn.canDeactivate(C,M,F,S):(0,h.N4e)(Gt,()=>Qn(C,M,F,S))).pipe((0,ht.$)())});return(0,Ae.of)(Ce).pipe(Wo())}(B.component,B.route,F,M,S)),(0,ht.$)(B=>!0!==B,!0))}(Ce,S,B,C).pipe((0,ft.Z)(Ut=>Ut&&function Bi(C){return"boolean"==typeof C}(Ut)?function Xl(C,M,F,S){return(0,z.H)(M).pipe((0,tt.H)(B=>(0,xe.x)(function q(C,M){return null!==C&&M&&M(new Cs(C)),(0,Ae.of)(!0)}(B.route.parent,S),function Dl(C,M){return null!==C&&M&&M(new Rs(C)),(0,Ae.of)(!0)}(B.route,S),function ce(C,M,F){const S=M[M.length-1],fe=M.slice(0,M.length-1).reverse().map(Ce=>function _e(C){const M=C.routeConfig?C.routeConfig.canActivateChild:null;return M&&0!==M.length?{node:C,guards:M}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>nt(()=>{const Ut=Ce.guards.map(pn=>{var Gt;const Qn=null!==(Gt=Re(Ce.node))&&void 0!==Gt?Gt:F,Or=Ke(pn,Qn);return Ne(function rs(C){return C&&tr(C.canActivateChild)}(Or)?Or.canActivateChild(S,C):(0,h.N4e)(Qn,()=>Or(S,C))).pipe((0,ht.$)())});return(0,Ae.of)(Ut).pipe(Wo())}));return(0,Ae.of)(fe).pipe(Wo())}(C,B.path,F),function k(C,M,F){const S=M.routeConfig?M.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Ae.of)(!0);const B=S.map(fe=>nt(()=>{var Ce;const Ut=null!==(Ce=Re(M))&&void 0!==Ce?Ce:F,pn=Ke(fe,Ut);return Ne(function lr(C){return C&&tr(C.canActivate)}(pn)?pn.canActivate(M,C):(0,h.N4e)(Ut,()=>pn(M,C))).pipe((0,ht.$)())}));return(0,Ae.of)(B).pipe(Wo())}(C,B.route,F))),(0,ht.$)(B=>!0!==B,!0))}(S,fe,C,M):(0,Ae.of)(Ut)),(0,Le.T)(Ut=>({...F,guardsResult:Ut})))})}(this.environmentInjector,Gt=>this.events.next(Gt)),(0,Ft.M)(Gt=>{if(Ce.guardsResult=Gt.guardsResult,Gt.guardsResult&&"boolean"!=typeof Gt.guardsResult)throw _i(0,Gt.guardsResult);const Qn=new Ss(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects),Gt.targetSnapshot,!!Gt.guardsResult);this.events.next(Qn)}),(0,he.p)(Gt=>!!Gt.guardsResult||(this.cancelNavigationTransition(Gt,"",ri.GuardRejected),!1)),Dr(Gt=>{if(Gt.guards.canActivateChecks.length)return(0,Ae.of)(Gt).pipe((0,Ft.M)(Qn=>{const Or=new gs(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next(Or)}),(0,ot.n)(Qn=>{let Or=!1;return(0,Ae.of)(Qn).pipe(function Qa(C,M){return(0,ft.Z)(F=>{const{targetSnapshot:S,guards:{canActivateChecks:B}}=F;if(!B.length)return(0,Ae.of)(F);const fe=new Set(B.map(pn=>pn.route)),Ce=new Set;for(const pn of fe)if(!Ce.has(pn))for(const Gt of cl(pn))Ce.add(Gt);let Ut=0;return(0,z.H)(Ce).pipe((0,tt.H)(pn=>fe.has(pn)?function qs(C,M,F,S){const B=C.routeConfig,fe=C._resolve;return void 0!==(null==B?void 0:B.title)&&!Xr(B)&&(fe[Rn]=B.title),function xr(C,M,F,S){const B=Yt(C);if(0===B.length)return(0,Ae.of)({});const fe={};return(0,z.H)(B).pipe((0,ft.Z)(Ce=>function Rl(C,M,F,S){var B;const fe=null!==(B=Re(M))&&void 0!==B?B:S,Ce=Ke(C,fe);return Ne(Ce.resolve?Ce.resolve(M,F):(0,h.N4e)(fe,()=>Ce(M,F)))}(C[Ce],M,F,S).pipe((0,ht.$)(),(0,Ft.M)(Ut=>{if(Ut instanceof Bo)throw _i(new qn,Ut);fe[Ce]=Ut}))),De(1),function Ue(C){return(0,Le.T)(()=>C)}(fe),Vt(Ce=>Wa(Ce)?ct.w:Je(Ce)))}(fe,C,M,S).pipe((0,Le.T)(Ce=>(C._resolvedData=Ce,C.data=dn(C,C.parent,F).resolve,null)))}(pn,S,C,M):(pn.data=dn(pn,pn.parent,C).resolve,(0,Ae.of)(void 0))),(0,Ft.M)(()=>Ut++),De(1),(0,ft.Z)(pn=>Ut===Ce.size?(0,Ae.of)(F):ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Ft.M)({next:()=>Or=!0,complete:()=>{Or||this.cancelNavigationTransition(Qn,"",ri.NoDataFromResolver)}}))}),(0,Ft.M)(Qn=>{const Or=new Zo(Qn.id,this.urlSerializer.serialize(Qn.extractedUrl),this.urlSerializer.serialize(Qn.urlAfterRedirects),Qn.targetSnapshot);this.events.next(Or)}))}),Dr(Gt=>{const Qn=Or=>{var Ti;const Br=[];null!==(Ti=Or.routeConfig)&&void 0!==Ti&&Ti.loadComponent&&!Or.routeConfig._loadedComponent&&Br.push(this.configLoader.loadComponent(Or.routeConfig).pipe((0,Ft.M)($i=>{Or.component=$i}),(0,Le.T)(()=>{})));for(const $i of Or.children)Br.push(...Qn($i));return Br};return(0,He.z)(Qn(Gt.targetSnapshot.root)).pipe((0,qe.U)(null),(0,ut.s)(1))}),Dr(()=>this.afterPreactivation()),(0,ot.n)(()=>{var Gt;const{currentSnapshot:Qn,targetSnapshot:Or}=Ce,Ti=null===(Gt=this.createViewTransition)||void 0===Gt?void 0:Gt.call(this,this.environmentInjector,Qn.root,Or.root);return Ti?(0,z.H)(Ti).pipe((0,Le.T)(()=>Ce)):(0,Ae.of)(Ce)}),(0,Le.T)(Gt=>{const Qn=function zn(C,M,F){const S=Gi(C,M._root,F?F._root:void 0);return new pt(S,M)}(S.routeReuseStrategy,Gt.targetSnapshot,Gt.currentRouterState);return this.currentTransition=Ce={...Gt,targetRouterState:Qn},this.currentNavigation.targetRouterState=Qn,Ce}),(0,Ft.M)(()=>{this.events.next(new Io)}),((C,M,F,S)=>(0,Le.T)(B=>(new uo(M,B.targetRouterState,B.currentRouterState,F,S).activate(C),B)))(this.rootContexts,S.routeReuseStrategy,Gt=>this.events.next(Gt),this.inputBindingEnabled),(0,ut.s)(1),(0,Ft.M)({next:Gt=>{var Qn;Ut=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oo(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),this.urlSerializer.serialize(Gt.urlAfterRedirects))),null===(Qn=this.titleStrategy)||void 0===Qn||Qn.updateTitle(Gt.targetRouterState.snapshot),Gt.resolve(!0)},complete:()=>{Ut=!0}}),function ze(C){return(0,mt.N)((M,F)=>{(0,Ie.Tg)(C).subscribe((0,lt._)(F,()=>F.complete(),Et.l)),!F.closed&&M.subscribe(F)})}(this.transitionAbortSubject.pipe((0,Ft.M)(Gt=>{throw Gt}))),(0,et.j)(()=>{var Gt;!Ut&&!pn&&this.cancelNavigationTransition(Ce,"",ri.SupersededByNewNavigation),(null===(Gt=this.currentTransition)||void 0===Gt?void 0:Gt.id)===Ce.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vt(Gt=>{if(pn=!0,$o(Gt))this.events.next(new Qi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Gt.message,Gt.cancellationCode)),function zo(C){return $o(C)&&ei(C.url)}(Gt)?this.events.next(new gi(Gt.url,Gt.navigationBehaviorOptions)):Ce.resolve(!1);else{var Qn;const Or=new go(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Gt,null!==(Qn=Ce.targetSnapshot)&&void 0!==Qn?Qn:void 0);try{const Ti=(0,h.N4e)(this.environmentInjector,()=>{var Br;return null===(Br=this.navigationErrorHandler)||void 0===Br?void 0:Br.call(this,Or)});if(Ti instanceof Bo){const{message:Br,cancellationCode:$i}=_i(0,Ti);this.events.next(new Qi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Br,$i)),this.events.next(new gi(Ti.redirectTo,Ti.navigationBehaviorOptions))}else{this.events.next(Or);const Br=S.errorHandler(Gt);Ce.resolve(!!Br)}}catch(Ti){this.options.resolveNavigationPromiseOnError?Ce.resolve(!1):Ce.reject(Ti)}}return ct.w}))}))}cancelNavigationTransition(S,B,fe){const Ce=new Qi(S.id,this.urlSerializer.serialize(S.extractedUrl),B,fe);this.events.next(Ce),S.resolve(!1)}isUpdatingInternalState(){var S,B;return(null===(S=this.currentTransition)||void 0===S?void 0:S.extractedUrl.toString())!==(null===(B=this.currentTransition)||void 0===B?void 0:B.currentUrlTree.toString())}isUpdatedBrowserUrl(){var S,B,fe,Ce;const Ut=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),pn=null!==(S=null===(B=this.currentNavigation)||void 0===B?void 0:B.targetBrowserUrl)&&void 0!==S?S:null===(fe=this.currentNavigation)||void 0===fe?void 0:fe.extractedUrl;return Ut.toString()!==(null==pn?void 0:pn.toString())&&!(null!==(Ce=this.currentNavigation)&&void 0!==Ce&&Ce.extras.skipLocationChange)}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();function $e(C){return C!==ji}let tn=(()=>{var C;class M{}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:()=>(0,h.WQX)(Sr),providedIn:"root"}),M})();class bn{shouldDetach(M){return!1}store(M,F){}shouldAttach(M){return!1}retrieve(M){return null}shouldReuseRoute(M,F){return M.routeConfig===F.routeConfig}}let Sr=(()=>{var C;class M extends bn{}return(C=M).\u0275fac=(()=>{let F;return function(B){return(F||(F=h.xGo(C)))(B||C)}})(),C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})(),si=(()=>{var C;class M{}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:()=>(0,h.WQX)(Qr),providedIn:"root"}),M})(),Qr=(()=>{var C;class M extends si{constructor(){super(...arguments),this.location=(0,h.WQX)(Fe.aZ),this.urlSerializer=(0,h.WQX)(Un),this.options=(0,h.WQX)(Fa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,h.WQX)(qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var S,B;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(S=null===(B=this.restoredState())||void 0===B?void 0:B.\u0275routerPageId)&&void 0!==S?S:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(S){return this.location.subscribe(B=>{"popstate"===B.type&&S(B.url,B.state)})}handleRouterEvent(S,B){if(S instanceof Zi)this.stateMemento=this.createStateMemento();else if(S instanceof to)this.rawUrlTree=B.initialUrl;else if(S instanceof Jo){if("eager"===this.urlUpdateStrategy&&!B.extras.skipLocationChange){var fe;const Ut=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl);this.setBrowserUrl(null!==(fe=B.targetBrowserUrl)&&void 0!==fe?fe:Ut,B)}}else if(S instanceof Io){var Ce;this.currentUrlTree=B.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(B.finalUrl,B.initialUrl),this.routerState=B.targetRouterState,"deferred"!==this.urlUpdateStrategy||B.extras.skipLocationChange||this.setBrowserUrl(null!==(Ce=B.targetBrowserUrl)&&void 0!==Ce?Ce:this.rawUrlTree,B)}else S instanceof Qi&&(S.code===ri.GuardRejected||S.code===ri.NoDataFromResolver)?this.restoreHistory(B):S instanceof go?this.restoreHistory(B,!0):S instanceof oo&&(this.lastSuccessfulId=S.id,this.currentPageId=this.browserPageId)}setBrowserUrl(S,B){const fe=S instanceof or?this.urlSerializer.serialize(S):S;if(this.location.isCurrentPathEqualTo(fe)||B.extras.replaceUrl){const Ut={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId)};this.location.replaceState(fe,"",Ut)}else{const Ce={...B.extras.state,...this.generateNgRouterState(B.id,this.browserPageId+1)};this.location.go(fe,"",Ce)}}restoreHistory(S,B=!1){if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-this.browserPageId;0!==Ce?this.location.historyGo(Ce):this.currentUrlTree===S.finalUrl&&0===Ce&&(this.resetState(S),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(B&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){var B;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(B=S.finalUrl)&&void 0!==B?B:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(S,B){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:B}:{navigationId:S}}}return(C=M).\u0275fac=(()=>{let F;return function(B){return(F||(F=h.xGo(C)))(B||C)}})(),C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();var Lr=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Lr||{});function Vr(C,M){C.events.pipe((0,he.p)(F=>F instanceof oo||F instanceof Qi||F instanceof go||F instanceof to),(0,Le.T)(F=>F instanceof oo||F instanceof to?Lr.COMPLETE:F instanceof Qi&&(F.code===ri.Redirect||F.code===ri.SupersededByNewNavigation)?Lr.REDIRECTING:Lr.FAILED),(0,he.p)(F=>F!==Lr.REDIRECTING),(0,ut.s)(1)).subscribe(()=>{M()})}function ci(C){throw C}const Kn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ds={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Li=(()=>{var C;class M{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var S,B;this.disposed=!1,this.console=(0,h.WQX)(h.H3F),this.stateManager=(0,h.WQX)(si),this.options=(0,h.WQX)(Fa,{optional:!0})||{},this.pendingTasks=(0,h.WQX)(h.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,h.WQX)(ye),this.urlSerializer=(0,h.WQX)(Un),this.location=(0,h.WQX)(Fe.aZ),this.urlHandlingStrategy=(0,h.WQX)(qi),this._events=new Me.B,this.errorHandler=this.options.errorHandler||ci,this.navigated=!1,this.routeReuseStrategy=(0,h.WQX)(tn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(S=null===(B=(0,h.WQX)(Po,{optional:!0}))||void 0===B?void 0:B.flat())&&void 0!==S?S:[],this.componentInputBindingEnabled=!!(0,h.WQX)(ns,{optional:!0}),this.eventsSubscription=new Ct.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:fe=>{this.console.warn(fe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const S=this.navigationTransitions.events.subscribe(B=>{try{const fe=this.navigationTransitions.currentTransition,Ce=this.navigationTransitions.currentNavigation;if(null!==fe&&null!==Ce)if(this.stateManager.handleRouterEvent(B,Ce),B instanceof Qi&&B.code!==ri.Redirect&&B.code!==ri.SupersededByNewNavigation)this.navigated=!0;else if(B instanceof oo)this.navigated=!0;else if(B instanceof gi){const Ut=B.navigationBehaviorOptions,pn=this.urlHandlingStrategy.merge(B.url,fe.currentRawUrl),Gt={browserUrl:fe.extras.browserUrl,info:fe.extras.info,skipLocationChange:fe.extras.skipLocationChange,replaceUrl:fe.extras.replaceUrl||"eager"===this.urlUpdateStrategy||$e(fe.source),...Ut};this.scheduleNavigation(pn,ji,null,Gt,{resolve:fe.resolve,reject:fe.reject,promise:fe.promise})}(function ys(C){return!(C instanceof Io||C instanceof gi)})(B)&&this._events.next(B)}catch(fe){this.navigationTransitions.transitionAbortSubject.next(fe)}});this.eventsSubscription.add(S)}resetRootComponentType(S){this.routerState.root.component=S,this.navigationTransitions.rootComponentType=S}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ji,this.stateManager.restoredState())}setUpLocationChangeListener(){var S;null!==(S=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==S||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,fe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",fe)},0)}))}navigateToSyncWithBrowser(S,B,fe){const Ce={replaceUrl:!0},Ut=null!=fe&&fe.navigationId?fe:null;if(fe){const Gt={...fe};delete Gt.navigationId,delete Gt.\u0275routerPageId,0!==Object.keys(Gt).length&&(Ce.state=Gt)}const pn=this.parseUrl(S);this.scheduleNavigation(pn,B,Ut,Ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(S){this.config=S.map(Yc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(S,B={}){const{relativeTo:fe,queryParams:Ce,fragment:Ut,queryParamsHandling:pn,preserveFragment:Gt}=B,Qn=Gt?this.currentUrlTree.fragment:Ut;let Ti,Or=null;switch(null!=pn?pn:this.options.defaultQueryParamsHandling){case"merge":Or={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":Or=this.currentUrlTree.queryParams;break;default:Or=Ce||null}null!==Or&&(Or=this.removeEmptyProps(Or));try{Ti=co(fe?fe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof S[0]||"/"!==S[0][0])&&(S=[]),Ti=this.currentUrlTree.root}return Ei(Ti,S,Or,null!=Qn?Qn:null)}navigateByUrl(S,B={skipLocationChange:!1}){const fe=ei(S)?S:this.parseUrl(S),Ce=this.urlHandlingStrategy.merge(fe,this.rawUrlTree);return this.scheduleNavigation(Ce,ji,null,B)}navigate(S,B={skipLocationChange:!1}){return function vs(C){for(let M=0;M<C.length;M++)if(null==C[M])throw new h.wOt(4008,!1)}(S),this.navigateByUrl(this.createUrlTree(S,B),B)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){try{return this.urlSerializer.parse(S)}catch{return this.urlSerializer.parse("/")}}isActive(S,B){let fe;if(fe=!0===B?{...Kn}:!1===B?{...ds}:B,ei(S))return Gn(this.currentUrlTree,S,fe);const Ce=this.parseUrl(S);return Gn(this.currentUrlTree,Ce,fe)}removeEmptyProps(S){return Object.entries(S).reduce((B,[fe,Ce])=>(null!=Ce&&(B[fe]=Ce),B),{})}scheduleNavigation(S,B,fe,Ce,Ut){if(this.disposed)return Promise.resolve(!1);let pn,Gt,Qn;Ut?(pn=Ut.resolve,Gt=Ut.reject,Qn=Ut.promise):Qn=new Promise((Ti,Br)=>{pn=Ti,Gt=Br});const Or=this.pendingTasks.add();return Vr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Or))}),this.navigationTransitions.handleNavigationRequest({source:B,restoredState:fe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:S,extras:Ce,resolve:pn,reject:Gt,promise:Qn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qn.catch(Ti=>Promise.reject(Ti))}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})(),Is=(()=>{var C;class M{constructor(S,B,fe,Ce,Ut,pn){var Gt;this.router=S,this.route=B,this.tabIndexAttribute=fe,this.renderer=Ce,this.el=Ut,this.locationStrategy=pn,this.href=null,this.onChanges=new Me.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Qn=null===(Gt=Ut.nativeElement.tagName)||void 0===Gt?void 0:Gt.toLowerCase();this.isAnchorElement="a"===Qn||"area"===Qn,this.isAnchorElement?this.subscription=S.events.subscribe(Or=>{Or instanceof oo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",S)}ngOnChanges(S){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(S){null==S?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ei(S)||Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0"))}onClick(S,B,fe,Ce,Ut){const pn=this.urlTree;return!!(null===pn||this.isAnchorElement&&(0!==S||B||fe||Ce||Ut||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(pn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var S;null===(S=this.subscription)||void 0===S||S.unsubscribe()}updateHref(){var S;const B=this.urlTree;this.href=null!==B&&this.locationStrategy?null===(S=this.locationStrategy)||void 0===S?void 0:S.prepareExternalUrl(this.router.serializeUrl(B)):null;const fe=null===this.href?null:(0,h.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",fe)}applyAttributeValue(S,B){const fe=this.renderer,Ce=this.el.nativeElement;null!==B?fe.setAttribute(Ce,S,B):fe.removeAttribute(Ce,S)}get urlTree(){return null===this.routerLinkInput?null:ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(C=M).\u0275fac=function(S){return new(S||C)(h.rXU(Li),h.rXU(nn),h.kS0("tabindex"),h.rXU(h.sFG),h.rXU(h.aKT),h.rXU(Fe.hb))},C.\u0275dir=h.FsC({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,B){1&S&&h.bIt("click",function(Ce){return B.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&S&&h.BMQ("target",B.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",h.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",h.L39],replaceUrl:[2,"replaceUrl","replaceUrl",h.L39],routerLink:"routerLink"},standalone:!0,features:[h.GFd,h.OA$]}),M})(),Ps=(()=>{var C;class M{get isActive(){return this._isActive}constructor(S,B,fe,Ce,Ut){this.router=S,this.element=B,this.renderer=fe,this.cdr=Ce,this.link=Ut,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.bkB,this.routerEventsSubscription=S.events.subscribe(pn=>{pn instanceof oo&&this.update()})}ngAfterContentInit(){(0,Ae.of)(this.links.changes,(0,Ae.of)(null)).pipe((0,Bt.U)()).subscribe(S=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var S;null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe();const B=[...this.links.toArray(),this.link].filter(fe=>!!fe).map(fe=>fe.onChanges);this.linkInputChangesSubscription=(0,z.H)(B).pipe((0,Bt.U)()).subscribe(fe=>{this._isActive!==this.isLinkActive(this.router)(fe)&&this.update()})}set routerLinkActive(S){const B=Array.isArray(S)?S:S.split(" ");this.classes=B.filter(fe=>!!fe)}ngOnChanges(S){this.update()}ngOnDestroy(){var S;this.routerEventsSubscription.unsubscribe(),null===(S=this.linkInputChangesSubscription)||void 0===S||S.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const S=this.hasActiveLinks();this.classes.forEach(B=>{S?this.renderer.addClass(this.element.nativeElement,B):this.renderer.removeClass(this.element.nativeElement,B)}),S&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==S&&(this._isActive=S,this.cdr.markForCheck(),this.isActiveChange.emit(S))})}isLinkActive(S){const B=function La(C){return!!C.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return fe=>{const Ce=fe.urlTree;return!!Ce&&S.isActive(Ce,B)}}hasActiveLinks(){const S=this.isLinkActive(this.router);return this.link&&S(this.link)||this.links.some(S)}}return(C=M).\u0275fac=function(S){return new(S||C)(h.rXU(Li),h.rXU(h.aKT),h.rXU(h.sFG),h.rXU(h.gRc),h.rXU(Is,8))},C.\u0275dir=h.FsC({type:C,selectors:[["","routerLinkActive",""]],contentQueries:function(S,B,fe){if(1&S&&h.wni(fe,Is,5),2&S){let Ce;h.mGM(Ce=h.lsd())&&(B.links=Ce)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.OA$]}),M})();class Qs{}let vu=(()=>{var C;class M{preload(S,B){return B().pipe(Vt(()=>(0,Ae.of)(null)))}}return(C=M).\u0275fac=function(S){return new(S||C)},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})(),Co=(()=>{var C;class M{constructor(S,B,fe,Ce,Ut){this.router=S,this.injector=fe,this.preloadingStrategy=Ce,this.loader=Ut}setUpPreloading(){this.subscription=this.router.events.pipe((0,he.p)(S=>S instanceof oo),(0,tt.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,B){const fe=[];for(const Gt of B){var Ce,Ut;Gt.providers&&!Gt._injector&&(Gt._injector=(0,h.Ol2)(Gt.providers,S,`Route: ${Gt.path}`));const Qn=null!==(Ce=Gt._injector)&&void 0!==Ce?Ce:S,Or=null!==(Ut=Gt._loadedInjector)&&void 0!==Ut?Ut:Qn;var pn;(Gt.loadChildren&&!Gt._loadedRoutes&&void 0===Gt.canLoad||Gt.loadComponent&&!Gt._loadedComponent)&&fe.push(this.preloadConfig(Qn,Gt)),(Gt.children||Gt._loadedRoutes)&&fe.push(this.processRoutes(Or,null!==(pn=Gt.children)&&void 0!==pn?pn:Gt._loadedRoutes))}return(0,z.H)(fe).pipe((0,Bt.U)())}preloadConfig(S,B){return this.preloadingStrategy.preload(B,()=>{let fe;fe=B.loadChildren&&void 0===B.canLoad?this.loader.loadChildren(S,B):(0,Ae.of)(null);const Ce=fe.pipe((0,ft.Z)(Ut=>{var pn;return null===Ut?(0,Ae.of)(void 0):(B._loadedRoutes=Ut.routes,B._loadedInjector=Ut.injector,this.processRoutes(null!==(pn=Ut.injector)&&void 0!==pn?pn:S,Ut.routes))}));if(B.loadComponent&&!B._loadedComponent){const Ut=this.loader.loadComponent(B);return(0,z.H)([Ce,Ut]).pipe((0,Bt.U)())}return Ce})}}return(C=M).\u0275fac=function(S){return new(S||C)(h.KVO(Li),h.KVO(h.Ql9),h.KVO(h.uvJ),h.KVO(Qs),h.KVO(ya))},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),M})();const Yr=new h.nKC("");let ul=(()=>{var C;class M{constructor(S,B,fe,Ce,Ut={}){this.urlSerializer=S,this.transitions=B,this.viewportScroller=fe,this.zone=Ce,this.options=Ut,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ut.scrollPositionRestoration||(Ut.scrollPositionRestoration="disabled"),Ut.anchorScrolling||(Ut.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Zi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof oo?(this.lastId=S.id,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.urlAfterRedirects).fragment)):S instanceof to&&S.code===eo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(S,this.urlSerializer.parse(S.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(S=>{S instanceof Gs&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,B){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gs(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,B))})},0)})}ngOnDestroy(){var S,B;null===(S=this.routerEventsSubscription)||void 0===S||S.unsubscribe(),null===(B=this.scrollEventsSubscription)||void 0===B||B.unsubscribe()}}return(C=M).\u0275fac=function(S){h.QTQ()},C.\u0275prov=h.jDH({token:C,factory:C.\u0275fac}),M})();function sa(C,M){return{\u0275kind:C,\u0275providers:M}}function dl(){const C=(0,h.WQX)(h.zZn);return M=>{var F,S;const B=C.get(h.o8S);if(M!==B.components[0])return;const fe=C.get(Li),Ce=C.get(Yl);1===C.get(vo)&&fe.initialNavigation(),null===(F=C.get(Ol,null,h.$GK.Optional))||void 0===F||F.setUpPreloading(),null===(S=C.get(Yr,null,h.$GK.Optional))||void 0===S||S.init(),fe.resetRootComponentType(B.componentTypes[0]),Ce.closed||(Ce.next(),Ce.complete(),Ce.unsubscribe())}}const Yl=new h.nKC("",{factory:()=>new Me.B}),vo=new h.nKC("",{providedIn:"root",factory:()=>1}),Ol=new h.nKC("");function Va(C){return sa(0,[{provide:Ol,useExisting:Co},{provide:Qs,useExisting:C}])}function bc(C){return sa(9,[{provide:os,useValue:K},{provide:D,useValue:{skipNextTransition:!(null==C||!C.skipInitialTransition),...C}}])}const Os=new h.nKC("ROUTER_FORROOT_GUARD"),qo=[Fe.aZ,{provide:Un,useClass:qn},Li,Kr,{provide:nn,useFactory:function oa(C){return C.routerState.root},deps:[Li]},ya,[]];let Ns=(()=>{var C;class M{constructor(S){}static forRoot(S,B){return{ngModule:M,providers:[qo,[],{provide:Po,multi:!0,useValue:S},{provide:Os,useFactory:Ba,deps:[[Li,new h.Xx1,new h.kdw]]},{provide:Fa,useValue:B||{}},null!=B&&B.useHash?{provide:Fe.hb,useClass:Fe.fw}:{provide:Fe.hb,useClass:Fe.Sm},{provide:Yr,useFactory:()=>{const C=(0,h.WQX)(Fe.Xr),M=(0,h.WQX)(h.SKi),F=(0,h.WQX)(Fa),S=(0,h.WQX)(ye),B=(0,h.WQX)(Un);return F.scrollOffset&&C.setOffset(F.scrollOffset),new ul(B,S,C,M,F)}},null!=B&&B.preloadingStrategy?Va(B.preloadingStrategy).\u0275providers:[],null!=B&&B.initialNavigation?Zc(B):[],null!=B&&B.bindToComponentInputs?sa(8,[mo,{provide:ns,useExisting:mo}]).\u0275providers:[],null!=B&&B.enableViewTransitions?bc().\u0275providers:[],[{provide:$a,useFactory:dl},{provide:h.iLQ,multi:!0,useExisting:$a}]]}}static forChild(S){return{ngModule:M,providers:[{provide:Po,multi:!0,useValue:S}]}}}return(C=M).\u0275fac=function(S){return new(S||C)(h.KVO(Os,8))},C.\u0275mod=h.$C({type:C}),C.\u0275inj=h.G2t({}),M})();function Ba(C){return"guarded"}function Zc(C){return["disabled"===C.initialNavigation?sa(3,[{provide:h.hnV,multi:!0,useFactory:()=>{const M=(0,h.WQX)(Li);return()=>{M.setUpLocationChangeListener()}}},{provide:vo,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?sa(2,[{provide:vo,useValue:0},{provide:h.hnV,multi:!0,deps:[h.zZn],useFactory:M=>{const F=M.get(Fe.hj,Promise.resolve());return()=>F.then(()=>new Promise(S=>{const B=M.get(Li),fe=M.get(Yl);Vr(B,()=>{S(!0)}),M.get(ye).afterPreactivation=()=>(S(!0),fe.closed?(0,Ae.of)(void 0):fe),B.initialNavigation()}))}}]).\u0275providers:[]]}const $a=new h.nKC("")},3345:(Mn,St,x)=>{"use strict";x.d(St,{A:()=>ct});var h=x(1076),s=x(1362),V=x(8742),Ee=x(8041);class z{constructor(mt,lt){this._delegate=mt,this.firebase=lt,(0,V._addComponent)(mt,new s.uA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(mt,lt=V._DEFAULT_ENTRY_NAME){var Nt;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(mt);return!wt.isInitialized()&&"EXPLICIT"===(null===(Nt=wt.getComponent())||void 0===Nt?void 0:Nt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:lt})}_removeServiceInstance(mt,lt=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(lt)}_addComponent(mt){(0,V._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,V._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new h.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),xe=function st(){const Ct=function He(Ct){const mt={},lt={__esModule:!0,initializeApp:function Me(ut,it={}){const he=V.initializeApp(ut,it);if((0,h.gR)(mt,he.name))return mt[he.name];const ft=new Ct(he,lt);return mt[he.name]=ft,ft},app:wt,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Le(ut){const it=ut.name,he=it.replace("-compat","");if(V._registerComponent(ut)&&"PUBLIC"===ut.type){const ft=(ht=wt())=>{if("function"!=typeof ht[he])throw Oe.create("invalid-app-argument",{appName:it});return ht[he]()};void 0!==ut.serviceProps&&(0,h.zw)(ft,ut.serviceProps),lt[he]=ft,Ct.prototype[he]=function(...ht){return this._getService.bind(this,it).apply(this,ut.multipleInstances?ht:[])}}return"PUBLIC"===ut.type?lt[he]:null},removeApp:function Nt(ut){delete mt[ut]},useAsService:function ot(ut,it){return"serverAuth"===it?null:it},modularAPIs:V}};function wt(ut){if(!(0,h.gR)(mt,ut=ut||V._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:ut});return mt[ut]}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function Fe(){return Object.keys(mt).map(ut=>mt[ut])}}),wt.App=Ct,lt}(z);return Ct.INTERNAL=Object.assign(Object.assign({},Ct.INTERNAL),{createFirebaseNamespace:st,extendNamespace:function mt(lt){(0,h.zw)(Ct,lt)},createSubscribe:h.tD,ErrorFactory:h.FA,deepExtend:h.zw}),Ct}(),Ie=new Ee.Vy("@firebase/app-compat");try{const Ct=(0,h.mS)();if(void 0!==Ct.firebase){Ie.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const mt=Ct.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&Ie.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ct=xe;!function Je(Ct){(0,V.registerVersion)("@firebase/app-compat","0.2.40",Ct)}()},8742:(Mn,St,x)=>{"use strict";x.r(St),x.d(St,{FirebaseError:()=>Ee.g,SDK_VERSION:()=>vt,_DEFAULT_ENTRY_NAME:()=>ie,_addComponent:()=>ze,_addOrOverwriteComponent:()=>Bt,_apps:()=>Ue,_clearComponents:()=>Sn,_components:()=>Et,_getProvider:()=>xt,_isFirebaseApp:()=>Pt,_isFirebaseServerApp:()=>Pn,_registerComponent:()=>In,_removeServiceInstance:()=>Rn,_serverApps:()=>et,deleteApp:()=>hr,getApp:()=>rn,getApps:()=>Gn,initializeApp:()=>Ne,initializeServerApp:()=>je,onLog:()=>Jt,registerVersion:()=>kn,setLogLevel:()=>Ar});var h=x(467),s=x(1362),V=x(8041),Ee=x(1076),z=x(6749);class Ae{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function Oe(yt){const Te=yt.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(oe)){const W=oe.getImmediate();return`${W.library}/${W.version}`}return null}).filter(oe=>oe).join(" ")}}const He="@firebase/app",st="0.10.10",xe=new V.Vy("@firebase/app"),Ie="@firebase/app-compat",nt="@firebase/analytics-compat",Qe="@firebase/analytics",Je="@firebase/app-check-compat",ct="@firebase/app-check",Ct="@firebase/auth",mt="@firebase/auth-compat",lt="@firebase/database",Nt="@firebase/database-compat",wt="@firebase/functions",Me="@firebase/functions-compat",Fe="@firebase/installations",Le="@firebase/installations-compat",ot="@firebase/messaging",ut="@firebase/messaging-compat",it="@firebase/performance",he="@firebase/performance-compat",ft="@firebase/remote-config",ht="@firebase/remote-config-compat",tt="@firebase/storage",Ft="@firebase/storage-compat",Vt="@firebase/firestore",cn="@firebase/vertexai-preview",qe="@firebase/firestore-compat",De="firebase",ie="[DEFAULT]",se={[He]:"fire-core",[Ie]:"fire-core-compat",[Qe]:"fire-analytics",[nt]:"fire-analytics-compat",[ct]:"fire-app-check",[Je]:"fire-app-check-compat",[Ct]:"fire-auth",[mt]:"fire-auth-compat",[lt]:"fire-rtdb",[Nt]:"fire-rtdb-compat",[wt]:"fire-fn",[Me]:"fire-fn-compat",[Fe]:"fire-iid",[Le]:"fire-iid-compat",[ot]:"fire-fcm",[ut]:"fire-fcm-compat",[it]:"fire-perf",[he]:"fire-perf-compat",[ft]:"fire-rc",[ht]:"fire-rc-compat",[tt]:"fire-gcs",[Ft]:"fire-gcs-compat",[Vt]:"fire-fst",[qe]:"fire-fst-compat",[cn]:"fire-vertex","fire-js":"fire-js",[De]:"fire-js-all"},Ue=new Map,et=new Map,Et=new Map;function ze(yt,Te){try{yt.container.addComponent(Te)}catch(oe){xe.debug(`Component ${Te.name} failed to register with FirebaseApp ${yt.name}`,oe)}}function Bt(yt,Te){yt.container.addOrOverwriteComponent(Te)}function In(yt){const Te=yt.name;if(Et.has(Te))return xe.debug(`There were multiple attempts to register component ${Te}.`),!1;Et.set(Te,yt);for(const oe of Ue.values())ze(oe,yt);for(const oe of et.values())ze(oe,yt);return!0}function xt(yt,Te){const oe=yt.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),yt.container.getProvider(Te)}function Rn(yt,Te,oe=ie){xt(yt,Te).clearInstance(oe)}function Pt(yt){return void 0!==yt.options}function Pn(yt){return void 0!==yt.settings}function Sn(){Et.clear()}const Qt=new Ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yt{constructor(Te,oe,W){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=W,this.container.addComponent(new s.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}class Hn extends Yt{constructor(Te,oe,W,Q){const le=void 0!==oe.automaticDataCollectionEnabled&&oe.automaticDataCollectionEnabled,Se={name:W,automaticDataCollectionEnabled:le};super(void 0!==Te.apiKey?Te:Te.options,Se,Q),this._serverConfig=Object.assign({automaticDataCollectionEnabled:le},oe),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,oe.releaseOnDeref=void 0,kn(He,st,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Te){this.isDeleted||(this._refCount++,void 0!==Te&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Te,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){hr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Qt.create("server-app-deleted")}}const vt="10.13.1";function Ne(yt,Te={}){let oe=yt;"object"!=typeof Te&&(Te={name:Te});const W=Object.assign({name:ie,automaticDataCollectionEnabled:!1},Te),Q=W.name;if("string"!=typeof Q||!Q)throw Qt.create("bad-app-name",{appName:String(Q)});if(oe||(oe=(0,Ee.T9)()),!oe)throw Qt.create("no-options");const le=Ue.get(Q);if(le){if((0,Ee.bD)(oe,le.options)&&(0,Ee.bD)(W,le.config))return le;throw Qt.create("duplicate-app",{appName:Q})}const Se=new s.h1(Q);for(const hn of Et.values())Se.addComponent(hn);const kt=new Yt(oe,W,Se);return Ue.set(Q,kt),kt}function je(yt,Te){if((0,Ee.Bd)()&&!(0,Ee.p7)())throw Qt.create("invalid-server-app-environment");let oe;void 0===Te.automaticDataCollectionEnabled&&(Te.automaticDataCollectionEnabled=!1),oe=Pt(yt)?yt.options:yt;const W=Object.assign(Object.assign({},Te),oe);if(void 0!==W.releaseOnDeref&&delete W.releaseOnDeref,void 0!==Te.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Qt.create("finalization-registry-not-supported",{});const le=""+(Fn=JSON.stringify(W),[...Fn].reduce((ir,vr)=>Math.imul(31,ir)+vr.charCodeAt(0)|0,0)),Se=et.get(le);var Fn;if(Se)return Se.incRefCount(Te.releaseOnDeref),Se;const kt=new s.h1(le);for(const Fn of Et.values())kt.addComponent(Fn);const hn=new Hn(oe,Te,le,kt);return et.set(le,hn),hn}function rn(yt=ie){const Te=Ue.get(yt);if(!Te&&yt===ie&&(0,Ee.T9)())return Ne();if(!Te)throw Qt.create("no-app",{appName:yt});return Te}function Gn(){return Array.from(Ue.values())}function hr(yt){return sr.apply(this,arguments)}function sr(){return(sr=(0,h.A)(function*(yt){let Te=!1;const oe=yt.name;Ue.has(oe)?(Te=!0,Ue.delete(oe)):et.has(oe)&&yt.decRefCount()<=0&&(et.delete(oe),Te=!0),Te&&(yield Promise.all(yt.container.getProviders().map(W=>W.delete())),yt.isDeleted=!0)})).apply(this,arguments)}function kn(yt,Te,oe){var W;let Q=null!==(W=se[yt])&&void 0!==W?W:yt;oe&&(Q+=`-${oe}`);const le=Q.match(/\s|\//),Se=Te.match(/\s|\//);if(le||Se){const kt=[`Unable to register library "${Q}" with version "${Te}":`];return le&&kt.push(`library name "${Q}" contains illegal characters (whitespace or "/")`),le&&Se&&kt.push("and"),Se&&kt.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void xe.warn(kt.join(" "))}In(new s.uA(`${Q}-version`,()=>({library:Q,version:Te}),"VERSION"))}function Jt(yt,Te){if(null!==yt&&"function"!=typeof yt)throw Qt.create("invalid-log-argument");(0,V.Ey)(yt,Te)}function Ar(yt){(0,V.He)(yt)}const dr="firebase-heartbeat-database",or=1,Zn="firebase-heartbeat-store";let Tr=null;function pi(){return Tr||(Tr=(0,z.P2)(dr,or,{upgrade:(yt,Te)=>{if(0===Te)try{yt.createObjectStore(Zn)}catch(oe){console.warn(oe)}}}).catch(yt=>{throw Qt.create("idb-open",{originalErrorMessage:yt.message})})),Tr}function ti(){return(ti=(0,h.A)(function*(yt){try{const oe=(yield pi()).transaction(Zn),W=yield oe.objectStore(Zn).get(Xn(yt));return yield oe.done,W}catch(Te){if(Te instanceof Ee.g)xe.warn(Te.message);else{const oe=Qt.create("idb-get",{originalErrorMessage:null==Te?void 0:Te.message});xe.warn(oe.message)}}})).apply(this,arguments)}function Un(yt,Te){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.A)(function*(yt,Te){try{const W=(yield pi()).transaction(Zn,"readwrite");yield W.objectStore(Zn).put(Te,Xn(yt)),yield W.done}catch(oe){if(oe instanceof Ee.g)xe.warn(oe.message);else{const W=Qt.create("idb-set",{originalErrorMessage:null==oe?void 0:oe.message});xe.warn(W.message)}}})).apply(this,arguments)}function Xn(yt){return`${yt.name}!${yt.options.appId}`}class Ii{constructor(Te){this.container=Te,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new di(oe),this._heartbeatsCachePromise=this._storage.read().then(W=>(this._heartbeatsCache=W,W))}triggerHeartbeat(){var Te=this;return(0,h.A)(function*(){var oe,W;try{const le=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Se=_r();return null==(null===(oe=Te._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise,null==(null===(W=Te._heartbeatsCache)||void 0===W?void 0:W.heartbeats))||Te._heartbeatsCache.lastSentHeartbeatDate===Se||Te._heartbeatsCache.heartbeats.some(kt=>kt.date===Se)?void 0:(Te._heartbeatsCache.heartbeats.push({date:Se,agent:le}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(kt=>{const hn=new Date(kt.date).valueOf();return Date.now()-hn<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache))}catch(Q){xe.warn(Q)}})()}getHeartbeatsHeader(){var Te=this;return(0,h.A)(function*(){var oe;try{if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null==(null===(oe=Te._heartbeatsCache)||void 0===oe?void 0:oe.heartbeats)||0===Te._heartbeatsCache.heartbeats.length)return"";const W=_r(),{heartbeatsToSend:Q,unsentEntries:le}=function wn(yt,Te=1024){const oe=[];let W=yt.slice();for(const Q of yt){const le=oe.find(Se=>Se.agent===Q.agent);if(le){if(le.dates.push(Q.date),Wt(oe)>Te){le.dates.pop();break}}else if(oe.push({agent:Q.agent,dates:[Q.date]}),Wt(oe)>Te){oe.pop();break}W=W.slice(1)}return{heartbeatsToSend:oe,unsentEntries:W}}(Te._heartbeatsCache.heartbeats),Se=(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:Q}));return Te._heartbeatsCache.lastSentHeartbeatDate=W,le.length>0?(Te._heartbeatsCache.heartbeats=le,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Se}catch(W){return xe.warn(W),""}})()}}function _r(){return(new Date).toISOString().substring(0,10)}class di{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.A)(function*(){return!!(0,Ee.zW)()&&(0,Ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,h.A)(function*(){if(yield Te._canUseIndexedDBPromise){const W=yield function An(yt){return ti.apply(this,arguments)}(Te.app);return null!=W&&W.heartbeats?W:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Te){var oe=this;return(0,h.A)(function*(){var W;if(yield oe._canUseIndexedDBPromise){const le=yield oe.read();return Un(oe.app,{lastSentHeartbeatDate:null!==(W=Te.lastSentHeartbeatDate)&&void 0!==W?W:le.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var oe=this;return(0,h.A)(function*(){var W;if(yield oe._canUseIndexedDBPromise){const le=yield oe.read();return Un(oe.app,{lastSentHeartbeatDate:null!==(W=Te.lastSentHeartbeatDate)&&void 0!==W?W:le.lastSentHeartbeatDate,heartbeats:[...le.heartbeats,...Te.heartbeats]})}})()}}function Wt(yt){return(0,Ee.Uj)(JSON.stringify({version:2,heartbeats:yt})).length}!function Tt(yt){In(new s.uA("platform-logger",Te=>new Ae(Te),"PRIVATE")),In(new s.uA("heartbeat",Te=>new Ii(Te),"PRIVATE")),kn(He,st,yt),kn(He,st,"esm2017"),kn("fire-js","")}("")},1362:(Mn,St,x)=>{"use strict";x.d(St,{h1:()=>He,uA:()=>V});var h=x(467),s=x(1076);class V{constructor(xe,Ie,nt){this.name=xe,this.instanceFactory=Ie,this.type=nt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(xe){return this.instantiationMode=xe,this}setMultipleInstances(xe){return this.multipleInstances=xe,this}setServiceProps(xe){return this.serviceProps=xe,this}setInstanceCreatedCallback(xe){return this.onInstanceCreated=xe,this}}const Ee="[DEFAULT]";class z{constructor(xe,Ie){this.name=xe,this.container=Ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(xe){const Ie=this.normalizeInstanceIdentifier(xe);if(!this.instancesDeferred.has(Ie)){const nt=new s.cY;if(this.instancesDeferred.set(Ie,nt),this.isInitialized(Ie)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:Ie});Qe&&nt.resolve(Qe)}catch{}}return this.instancesDeferred.get(Ie).promise}getImmediate(xe){var Ie;const nt=this.normalizeInstanceIdentifier(null==xe?void 0:xe.identifier),Qe=null!==(Ie=null==xe?void 0:xe.optional)&&void 0!==Ie&&Ie;if(!this.isInitialized(nt)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:nt})}catch(Je){if(Qe)return null;throw Je}}getComponent(){return this.component}setComponent(xe){if(xe.name!==this.name)throw Error(`Mismatching Component ${xe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=xe,this.shouldAutoInitialize()){if(function Oe(st){return"EAGER"===st.instantiationMode}(xe))try{this.getOrInitializeService({instanceIdentifier:Ee})}catch{}for(const[Ie,nt]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(Ie);try{const Je=this.getOrInitializeService({instanceIdentifier:Qe});nt.resolve(Je)}catch{}}}}clearInstance(xe=Ee){this.instancesDeferred.delete(xe),this.instancesOptions.delete(xe),this.instances.delete(xe)}delete(){var xe=this;return(0,h.A)(function*(){const Ie=Array.from(xe.instances.values());yield Promise.all([...Ie.filter(nt=>"INTERNAL"in nt).map(nt=>nt.INTERNAL.delete()),...Ie.filter(nt=>"_delete"in nt).map(nt=>nt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(xe=Ee){return this.instances.has(xe)}getOptions(xe=Ee){return this.instancesOptions.get(xe)||{}}initialize(xe={}){const{options:Ie={}}=xe,nt=this.normalizeInstanceIdentifier(xe.instanceIdentifier);if(this.isInitialized(nt))throw Error(`${this.name}(${nt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:nt,options:Ie});for(const[Je,ct]of this.instancesDeferred.entries())nt===this.normalizeInstanceIdentifier(Je)&&ct.resolve(Qe);return Qe}onInit(xe,Ie){var nt;const Qe=this.normalizeInstanceIdentifier(Ie),Je=null!==(nt=this.onInitCallbacks.get(Qe))&&void 0!==nt?nt:new Set;Je.add(xe),this.onInitCallbacks.set(Qe,Je);const ct=this.instances.get(Qe);return ct&&xe(ct,Qe),()=>{Je.delete(xe)}}invokeOnInitCallbacks(xe,Ie){const nt=this.onInitCallbacks.get(Ie);if(nt)for(const Qe of nt)try{Qe(xe,Ie)}catch{}}getOrInitializeService({instanceIdentifier:xe,options:Ie={}}){let nt=this.instances.get(xe);if(!nt&&this.component&&(nt=this.component.instanceFactory(this.container,{instanceIdentifier:(st=xe,st===Ee?void 0:st),options:Ie}),this.instances.set(xe,nt),this.instancesOptions.set(xe,Ie),this.invokeOnInitCallbacks(nt,xe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,xe,nt)}catch{}var st;return nt||null}normalizeInstanceIdentifier(xe=Ee){return this.component?this.component.multipleInstances?xe:Ee:xe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(xe){this.name=xe,this.providers=new Map}addComponent(xe){const Ie=this.getProvider(xe.name);if(Ie.isComponentSet())throw new Error(`Component ${xe.name} has already been registered with ${this.name}`);Ie.setComponent(xe)}addOrOverwriteComponent(xe){this.getProvider(xe.name).isComponentSet()&&this.providers.delete(xe.name),this.addComponent(xe)}getProvider(xe){if(this.providers.has(xe))return this.providers.get(xe);const Ie=new z(xe,this);return this.providers.set(xe,Ie),Ie}getProviders(){return Array.from(this.providers.values())}}},8041:(Mn,St,x)=>{"use strict";x.d(St,{$b:()=>s,Ey:()=>st,He:()=>He,Vy:()=>Oe});const h=[];var s=function(xe){return xe[xe.DEBUG=0]="DEBUG",xe[xe.VERBOSE=1]="VERBOSE",xe[xe.INFO=2]="INFO",xe[xe.WARN=3]="WARN",xe[xe.ERROR=4]="ERROR",xe[xe.SILENT=5]="SILENT",xe}(s||{});const V={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},Ee=s.INFO,z={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},Ae=(xe,Ie,...nt)=>{if(Ie<xe.logLevel)return;const Qe=(new Date).toISOString(),Je=z[Ie];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ie})`);console[Je](`[${Qe}]  ${xe.name}:`,...nt)};class Oe{constructor(Ie){this.name=Ie,this._logLevel=Ee,this._logHandler=Ae,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(Ie){if(!(Ie in s))throw new TypeError(`Invalid value "${Ie}" assigned to \`logLevel\``);this._logLevel=Ie}setLogLevel(Ie){this._logLevel="string"==typeof Ie?V[Ie]:Ie}get logHandler(){return this._logHandler}set logHandler(Ie){if("function"!=typeof Ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ie){this._userLogHandler=Ie}debug(...Ie){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...Ie),this._logHandler(this,s.DEBUG,...Ie)}log(...Ie){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...Ie),this._logHandler(this,s.VERBOSE,...Ie)}info(...Ie){this._userLogHandler&&this._userLogHandler(this,s.INFO,...Ie),this._logHandler(this,s.INFO,...Ie)}warn(...Ie){this._userLogHandler&&this._userLogHandler(this,s.WARN,...Ie),this._logHandler(this,s.WARN,...Ie)}error(...Ie){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...Ie),this._logHandler(this,s.ERROR,...Ie)}}function He(xe){h.forEach(Ie=>{Ie.setLogLevel(xe)})}function st(xe,Ie){for(const nt of h){let Qe=null;Ie&&Ie.level&&(Qe=V[Ie.level]),nt.userLogHandler=null===xe?null:(Je,ct,...Ct)=>{const mt=Ct.map(lt=>{if(null==lt)return null;if("string"==typeof lt)return lt;if("number"==typeof lt||"boolean"==typeof lt)return lt.toString();if(lt instanceof Error)return lt.message;try{return JSON.stringify(lt)}catch{return null}}).filter(lt=>lt).join(" ");ct>=(null!=Qe?Qe:Je.logLevel)&&xe({level:s[ct].toLowerCase(),message:mt,args:Ct,type:Je.name})}}}},2872:(Mn,St,x)=>{"use strict";x.d(St,{Yq:()=>vt,TS:()=>Ln,sR:()=>Qt,el:()=>Fn,Sb:()=>Un,QE:()=>Jn,CF:()=>pi,Rg:()=>oe,p4:()=>ei,jM:()=>Go,_t:()=>et,q9:()=>Rn,Kb:()=>po,OD:()=>Bt,CE:()=>ir,pF:()=>vr,fL:()=>co,YV:()=>Se,er:()=>Ki,z3:()=>Ei});var h=x(467),s=x(9842),V=x(3953),Ee=x(9384),z=x(177),Ae=x(5531),Oe=x(4442);var ht=x(1413),tt=x(3726),Ft=x(4412),Vt=x(4572),cn=x(7673),qe=x(1635),De=x(5964),Y=x(5558),ie=x(3294),se=x(4341);const Ue=["tabsInner"];class et{constructor(we){(0,s.A)(this,"menuController",void 0),this.menuController=we}open(we){return this.menuController.open(we)}close(we){return this.menuController.close(we)}toggle(we){return this.menuController.toggle(we)}enable(we,bt){return this.menuController.enable(we,bt)}swipeGesture(we,bt){return this.menuController.swipeGesture(we,bt)}isOpen(we){return this.menuController.isOpen(we)}isEnabled(we){return this.menuController.isEnabled(we)}get(we){return this.menuController.get(we)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(we,bt){return this.menuController.registerAnimation(we,bt)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(we,bt){return this.menuController._createAnimation(we,bt)}_register(we){return this.menuController._register(we)}_unregister(we){return this.menuController._unregister(we)}_setOpen(we,bt,ge){return this.menuController._setOpen(we,bt,ge)}}let Bt=(()=>{var Ye;class we{constructor(ge,de){(0,s.A)(this,"doc",void 0),(0,s.A)(this,"_readyPromise",void 0),(0,s.A)(this,"win",void 0),(0,s.A)(this,"backButton",new ht.B),(0,s.A)(this,"keyboardDidShow",new ht.B),(0,s.A)(this,"keyboardDidHide",new ht.B),(0,s.A)(this,"pause",new ht.B),(0,s.A)(this,"resume",new ht.B),(0,s.A)(this,"resize",new ht.B),this.doc=ge,de.run(()=>{var We;let Kt;this.win=ge.defaultView,this.backButton.subscribeWithPriority=function(gn,Dn){return this.subscribe(Wn=>Wn.register(gn,Mr=>de.run(()=>Dn(Mr))))},xt(this.pause,ge,"pause",de),xt(this.resume,ge,"resume",de),xt(this.backButton,ge,"ionBackButton",de),xt(this.resize,this.win,"resize",de),xt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",de),xt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",de),this._readyPromise=new Promise(gn=>{Kt=gn}),null!==(We=this.win)&&void 0!==We&&We.cordova?ge.addEventListener("deviceready",()=>{Kt("cordova")},{once:!0}):Kt("dom")})}is(ge){return(0,Ae.a)(this.win,ge)}platforms(){return(0,Ae.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(ge){return In(this.win.location.href,ge)}isLandscape(){return!this.isPortrait()}isPortrait(){var ge,de;return null===(ge=(de=this.win).matchMedia)||void 0===ge?void 0:ge.call(de,"(orientation: portrait)").matches}testUserAgent(ge){const de=this.win.navigator;return!!(null!=de&&de.userAgent&&de.userAgent.indexOf(ge)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)(V.KVO(z.qQ),V.KVO(V.SKi))}),(0,s.A)(we,"\u0275prov",V.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),we})();const In=(Ye,we)=>{we=we.replace(/[[\]\\]/g,"\\$&");const ge=new RegExp("[\\?&]"+we+"=([^&#]*)").exec(Ye);return ge?decodeURIComponent(ge[1].replace(/\+/g," ")):null},xt=(Ye,we,bt,ge)=>{we&&we.addEventListener(bt,de=>{ge.run(()=>{Ye.next(null!=de?de.detail:void 0)})})};let Rn=(()=>{var Ye;class we{constructor(ge,de,We,Kt){(0,s.A)(this,"location",void 0),(0,s.A)(this,"serializer",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"topOutlet",void 0),(0,s.A)(this,"direction",Pn),(0,s.A)(this,"animated",Sn),(0,s.A)(this,"animationBuilder",void 0),(0,s.A)(this,"guessDirection","forward"),(0,s.A)(this,"guessAnimation",void 0),(0,s.A)(this,"lastNavId",-1),this.location=de,this.serializer=We,this.router=Kt,Kt&&Kt.events.subscribe(gn=>{if(gn instanceof Ee.Z){const Dn=gn.restoredState?gn.restoredState.navigationId:gn.id;this.guessDirection=this.guessAnimation=Dn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?gn.id:Dn}}),ge.backButton.subscribeWithPriority(0,gn=>{this.pop(),gn()})}navigateForward(ge,de={}){return this.setDirection("forward",de.animated,de.animationDirection,de.animation),this.navigate(ge,de)}navigateBack(ge,de={}){return this.setDirection("back",de.animated,de.animationDirection,de.animation),this.navigate(ge,de)}navigateRoot(ge,de={}){return this.setDirection("root",de.animated,de.animationDirection,de.animation),this.navigate(ge,de)}back(ge={animated:!0,animationDirection:"back"}){return this.setDirection("back",ge.animated,ge.animationDirection,ge.animation),this.location.back()}pop(){var ge=this;return(0,h.A)(function*(){let de=ge.topOutlet;for(;de;){if(yield de.pop())return!0;de=de.parentOutlet}return!1})()}setDirection(ge,de,We,Kt){this.direction=ge,this.animated=Pt(ge,de,We),this.animationBuilder=Kt}setTopOutlet(ge){this.topOutlet=ge}consumeTransition(){let de,ge="root";const We=this.animationBuilder;return"auto"===this.direction?(ge=this.guessDirection,de=this.guessAnimation):(de=this.animated,ge=this.direction),this.direction=Pn,this.animated=Sn,this.animationBuilder=void 0,{direction:ge,animation:de,animationBuilder:We}}navigate(ge,de){if(Array.isArray(ge))return this.router.navigate(ge,de);{const We=this.serializer.parse(ge.toString());return void 0!==de.queryParams&&(We.queryParams={...de.queryParams}),void 0!==de.fragment&&(We.fragment=de.fragment),this.router.navigateByUrl(We,de)}}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)(V.KVO(Bt),V.KVO(z.aZ),V.KVO(Ee.Sd),V.KVO(Ee.Ix,8))}),(0,s.A)(we,"\u0275prov",V.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),we})();const Pt=(Ye,we,bt)=>{if(!1!==we){if(void 0!==bt)return bt;if("forward"===Ye||"back"===Ye)return Ye;if("root"===Ye&&!0===we)return"forward"}},Pn="auto",Sn=void 0;let Ln=(()=>{var Ye;class we{get(ge,de){const We=Yt();return We?We.get(ge,de):null}getBoolean(ge,de){const We=Yt();return!!We&&We.getBoolean(ge,de)}getNumber(ge,de){const We=Yt();return We?We.getNumber(ge,de):0}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)}),(0,s.A)(we,"\u0275prov",V.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),we})();const Qt=new V.nKC("USERCONFIG"),Yt=()=>{if(typeof window<"u"){const Ye=window.Ionic;if(null!=Ye&&Ye.config)return Ye.config}return null};class Hn{constructor(we={}){(0,s.A)(this,"data",void 0),this.data=we,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(we){return this.data[we]}}let vt=(()=>{var Ye;class we{constructor(){(0,s.A)(this,"zone",(0,V.WQX)(V.SKi)),(0,s.A)(this,"applicationRef",(0,V.WQX)(V.o8S)),(0,s.A)(this,"config",(0,V.WQX)(Qt))}create(ge,de,We){var Kt;return new Ne(ge,de,this.applicationRef,this.zone,We,null!==(Kt=this.config.useSetInputAPI)&&void 0!==Kt&&Kt)}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)}),(0,s.A)(we,"\u0275prov",V.jDH({token:Ye,factory:Ye.\u0275fac})),we})();class Ne{constructor(we,bt,ge,de,We,Kt){(0,s.A)(this,"environmentInjector",void 0),(0,s.A)(this,"injector",void 0),(0,s.A)(this,"applicationRef",void 0),(0,s.A)(this,"zone",void 0),(0,s.A)(this,"elementReferenceKey",void 0),(0,s.A)(this,"enableSignalsSupport",void 0),(0,s.A)(this,"elRefMap",new WeakMap),(0,s.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=we,this.injector=bt,this.applicationRef=ge,this.zone=de,this.elementReferenceKey=We,this.enableSignalsSupport=Kt}attachViewToDom(we,bt,ge,de){return this.zone.run(()=>new Promise(We=>{const Kt={...ge};void 0!==this.elementReferenceKey&&(Kt[this.elementReferenceKey]=we),We(je(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,we,bt,Kt,de,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(we,bt){return this.zone.run(()=>new Promise(ge=>{const de=this.elRefMap.get(bt);if(de){de.destroy(),this.elRefMap.delete(bt);const We=this.elEventsMap.get(bt);We&&(We(),this.elEventsMap.delete(bt))}ge()}))}}const je=(Ye,we,bt,ge,de,We,Kt,gn,Dn,Wn,Mr,wi)=>{const ji=V.zZn.create({providers:sr(Dn),parent:bt}),fr=(0,V.a0P)(gn,{environmentInjector:we,elementInjector:ji}),Mi=fr.instance,Zi=fr.location.nativeElement;if(Dn)if(Mr&&void 0!==Mi[Mr]&&console.error(`[Ionic Error]: ${Mr} is a reserved property when using ${Kt.tagName.toLowerCase()}. Rename or remove the "${Mr}" property from ${gn.name}.`),!0===wi&&void 0!==fr.setInput){const{modal:ri,popover:eo,...Qi}=Dn;for(const to in Qi)fr.setInput(to,Qi[to]);void 0!==ri&&Object.assign(Mi,{modal:ri}),void 0!==eo&&Object.assign(Mi,{popover:eo})}else Object.assign(Mi,Dn);if(Wn)for(const ri of Wn)Zi.classList.add(ri);const oo=Gn(Ye,Mi,Zi);return Kt.appendChild(Zi),ge.attachView(fr.hostView),de.set(Zi,fr),We.set(Zi,oo),Zi},rn=[Oe.L,Oe.a,Oe.b,Oe.c,Oe.d],Gn=(Ye,we,bt)=>Ye.run(()=>{const ge=rn.filter(de=>"function"==typeof we[de]).map(de=>{const We=Kt=>we[de](Kt.detail);return bt.addEventListener(de,We),()=>bt.removeEventListener(de,We)});return()=>ge.forEach(de=>de())}),hr=new V.nKC("NavParamsToken"),sr=Ye=>[{provide:hr,useValue:Ye},{provide:Hn,useFactory:kn,deps:[hr]}],kn=Ye=>new Hn(Ye),Jt=(Ye,we)=>{const bt=Ye.prototype;we.forEach(ge=>{Object.defineProperty(bt,ge,{get(){return this.el[ge]},set(de){this.z.runOutsideAngular(()=>this.el[ge]=de)}})})},Ar=(Ye,we)=>{const bt=Ye.prototype;we.forEach(ge=>{bt[ge]=function(){const de=arguments;return this.z.runOutsideAngular(()=>this.el[ge].apply(this.el,de))}})},dr=(Ye,we,bt)=>{bt.forEach(ge=>Ye[ge]=(0,tt.R)(we,ge))};function or(Ye){return function(bt){const{defineCustomElementFn:ge,inputs:de,methods:We}=Ye;return void 0!==ge&&ge(),de&&Jt(bt,de),We&&Ar(bt,We),bt}}const Zn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Tr=["present","dismiss","onDidDismiss","onWillDismiss"];let pi=(()=>{var Ye;let we=((0,s.A)(Ye=class{constructor(ge,de,We){(0,s.A)(this,"z",void 0),(0,s.A)(this,"template",void 0),(0,s.A)(this,"isCmpOpen",!1),(0,s.A)(this,"el",void 0),this.z=We,this.el=de.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ge.detectChanges()}),dr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(V.gRc),V.rXU(V.aKT),V.rXU(V.SKi))}),(0,s.A)(Ye,"\u0275dir",V.FsC({type:Ye,selectors:[["ion-popover"]],contentQueries:function(ge,de,We){if(1&ge&&V.wni(We,V.C4Q,5),2&ge){let Kt;V.mGM(Kt=V.lsd())&&(de.template=Kt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Ye);return we=(0,qe.Cg)([or({inputs:Zn,methods:Tr})],we),we})();const An=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],ti=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Un=(()=>{var Ye;let we=((0,s.A)(Ye=class{constructor(ge,de,We){(0,s.A)(this,"z",void 0),(0,s.A)(this,"template",void 0),(0,s.A)(this,"isCmpOpen",!1),(0,s.A)(this,"el",void 0),this.z=We,this.el=de.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,ge.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,ge.detectChanges()}),dr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(V.gRc),V.rXU(V.aKT),V.rXU(V.SKi))}),(0,s.A)(Ye,"\u0275dir",V.FsC({type:Ye,selectors:[["ion-modal"]],contentQueries:function(ge,de,We){if(1&ge&&V.wni(We,V.C4Q,5),2&ge){let Kt;V.mGM(Kt=V.lsd())&&(de.template=Kt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Ye);return we=(0,qe.Cg)([or({inputs:An,methods:ti})],we),we})();const Xn=(Ye,we)=>((Ye=Ye.filter(bt=>bt.stackId!==we.stackId)).push(we),Ye),Ii=(Ye,we)=>{const bt=Ye.createUrlTree(["."],{relativeTo:we});return Ye.serializeUrl(bt)},_r=(Ye,we)=>!we||Ye.stackId!==we.stackId,wn=(Ye,we)=>{if(!Ye)return;const bt=di(we);for(let ge=0;ge<bt.length;ge++){if(ge>=Ye.length)return bt[ge];if(bt[ge]!==Ye[ge])return}},di=Ye=>Ye.split("/").map(we=>we.trim()).filter(we=>""!==we),Wt=Ye=>{Ye&&(Ye.ref.destroy(),Ye.unlistenEvents())};class Tt{constructor(we,bt,ge,de,We,Kt){(0,s.A)(this,"containerEl",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"zone",void 0),(0,s.A)(this,"location",void 0),(0,s.A)(this,"views",[]),(0,s.A)(this,"runningTask",void 0),(0,s.A)(this,"skipTransition",!1),(0,s.A)(this,"tabsPrefix",void 0),(0,s.A)(this,"activeView",void 0),(0,s.A)(this,"nextId",0),this.containerEl=bt,this.router=ge,this.navCtrl=de,this.zone=We,this.location=Kt,this.tabsPrefix=void 0!==we?di(we):void 0}createView(we,bt){var ge;const de=Ii(this.router,bt),We=null==we||null===(ge=we.location)||void 0===ge?void 0:ge.nativeElement,Kt=Gn(this.zone,we.instance,We);return{id:this.nextId++,stackId:wn(this.tabsPrefix,de),unlistenEvents:Kt,element:We,ref:we,url:de}}getExistingView(we){const bt=Ii(this.router,we),ge=this.views.find(de=>de.url===bt);return ge&&ge.ref.changeDetectorRef.reattach(),ge}setActive(we){var bt,ge;const de=this.navCtrl.consumeTransition();let{direction:We,animation:Kt,animationBuilder:gn}=de;const Dn=this.activeView,Wn=_r(we,Dn);Wn&&(We="back",Kt=void 0);const Mr=this.views.slice();let wi;const ji=this.router;ji.getCurrentNavigation?wi=ji.getCurrentNavigation():null!==(bt=ji.navigations)&&void 0!==bt&&bt.value&&(wi=ji.navigations.value),null!==(ge=wi)&&void 0!==ge&&null!==(ge=ge.extras)&&void 0!==ge&&ge.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const fr=this.views.includes(we),Mi=this.insertView(we,We);fr||we.ref.changeDetectorRef.detectChanges();const Zi=we.animationBuilder;return void 0===gn&&"back"===We&&!Wn&&void 0!==Zi&&(gn=Zi),Dn&&(Dn.animationBuilder=gn),this.zone.runOutsideAngular(()=>this.wait(()=>(Dn&&Dn.ref.changeDetectorRef.detach(),we.ref.changeDetectorRef.reattach(),this.transition(we,Dn,Kt,this.canGoBack(1),!1,gn).then(()=>yt(we,Mi,Mr,this.location,this.zone)).then(()=>({enteringView:we,direction:We,animation:Kt,tabSwitch:Wn})))))}canGoBack(we,bt=this.getActiveStackId()){return this.getStack(bt).length>we}pop(we,bt=this.getActiveStackId()){return this.zone.run(()=>{const ge=this.getStack(bt);if(ge.length<=we)return Promise.resolve(!1);const de=ge[ge.length-we-1];let We=de.url;const Kt=de.savedData;if(Kt){var gn;const Wn=Kt.get("primary");null!=Wn&&null!==(gn=Wn.route)&&void 0!==gn&&null!==(gn=gn._routerState)&&void 0!==gn&&gn.snapshot.url&&(We=Wn.route._routerState.snapshot.url)}const{animationBuilder:Dn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(We,{...de.savedExtras,animation:Dn}).then(()=>!0)})}startBackTransition(){const we=this.activeView;if(we){const bt=this.getStack(we.stackId),ge=bt[bt.length-2],de=ge.animationBuilder;return this.wait(()=>this.transition(ge,we,"back",this.canGoBack(2),!0,de))}return Promise.resolve()}endBackTransition(we){we?(this.skipTransition=!0,this.pop(1)):this.activeView&&Te(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(we){const bt=this.getStack(we);return bt.length>0?bt[bt.length-1]:void 0}getRootUrl(we){const bt=this.getStack(we);return bt.length>0?bt[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Wt),this.activeView=void 0,this.views=[]}getStack(we){return this.views.filter(bt=>bt.stackId===we)}insertView(we,bt){return this.activeView=we,this.views=((Ye,we,bt)=>"root"===bt?Xn(Ye,we):"forward"===bt?((Ye,we)=>(Ye.indexOf(we)>=0?Ye=Ye.filter(ge=>ge.stackId!==we.stackId||ge.id<=we.id):Ye.push(we),Ye))(Ye,we):((Ye,we)=>Ye.indexOf(we)>=0?Ye.filter(ge=>ge.stackId!==we.stackId||ge.id<=we.id):Xn(Ye,we))(Ye,we))(this.views,we,bt),this.views.slice()}transition(we,bt,ge,de,We,Kt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(bt===we)return Promise.resolve(!1);const gn=we?we.element:void 0,Dn=bt?bt.element:void 0,Wn=this.containerEl;return gn&&gn!==Dn&&(gn.classList.add("ion-page"),gn.classList.add("ion-page-invisible"),Wn.commit)?Wn.commit(gn,Dn,{duration:void 0===ge?0:void 0,direction:ge,showGoBack:de,progressAnimation:We,animationBuilder:Kt}):Promise.resolve(!1)}wait(we){var bt=this;return(0,h.A)(function*(){void 0!==bt.runningTask&&(yield bt.runningTask,bt.runningTask=void 0);const ge=bt.runningTask=we();return ge.finally(()=>bt.runningTask=void 0),ge})()}}const yt=(Ye,we,bt,ge,de)=>"function"==typeof requestAnimationFrame?new Promise(We=>{requestAnimationFrame(()=>{Te(Ye,we,bt,ge,de),We()})}):Promise.resolve(),Te=(Ye,we,bt,ge,de)=>{de.run(()=>bt.filter(We=>!we.includes(We)).forEach(Wt)),we.forEach(We=>{const gn=ge.path().split("?")[0].split("#")[0];if(We!==Ye&&We.url!==gn){const Dn=We.element;Dn.setAttribute("aria-hidden","true"),Dn.classList.add("ion-page-hidden"),We.ref.changeDetectorRef.detach()}})};let oe=(()=>{var Ye;class we{get activatedComponentRef(){return this.activated}set animation(ge){this.nativeEl.animation=ge}set animated(ge){this.nativeEl.animated=ge}set swipeGesture(ge){this._swipeGesture=ge,this.nativeEl.swipeHandler=ge?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:de=>this.stackCtrl.endBackTransition(de)}:void 0}constructor(ge,de,We,Kt,gn,Dn,Wn,Mr){(0,s.A)(this,"parentOutlet",void 0),(0,s.A)(this,"nativeEl",void 0),(0,s.A)(this,"activatedView",null),(0,s.A)(this,"tabsPrefix",void 0),(0,s.A)(this,"_swipeGesture",void 0),(0,s.A)(this,"stackCtrl",void 0),(0,s.A)(this,"proxyMap",new WeakMap),(0,s.A)(this,"currentActivatedRoute$",new Ft.t(null)),(0,s.A)(this,"activated",null),(0,s.A)(this,"_activatedRoute",null),(0,s.A)(this,"name",Ee.Xk),(0,s.A)(this,"stackWillChange",new V.bkB),(0,s.A)(this,"stackDidChange",new V.bkB),(0,s.A)(this,"activateEvents",new V.bkB),(0,s.A)(this,"deactivateEvents",new V.bkB),(0,s.A)(this,"parentContexts",(0,V.WQX)(Ee.Zp)),(0,s.A)(this,"location",(0,V.WQX)(V.c1b)),(0,s.A)(this,"environmentInjector",(0,V.WQX)(V.uvJ)),(0,s.A)(this,"inputBinder",(0,V.WQX)(Q,{optional:!0})),(0,s.A)(this,"supportsBindingToComponentInputs",!0),(0,s.A)(this,"config",(0,V.WQX)(Ln)),(0,s.A)(this,"navCtrl",(0,V.WQX)(Rn)),this.parentOutlet=Mr,this.nativeEl=Kt.nativeElement,this.name=ge||Ee.Xk,this.tabsPrefix="true"===de?Ii(gn,Wn):void 0,this.stackCtrl=new Tt(this.tabsPrefix,this.nativeEl,gn,this.navCtrl,Dn,We),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var ge;this.stackCtrl.destroy(),null===(ge=this.inputBinder)||void 0===ge||ge.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const ge=this.getContext();null!=ge&&ge.route&&this.activateWith(ge.route,ge.injector)}new Promise(ge=>((Ye,we)=>{Ye.componentOnReady?Ye.componentOnReady().then(bt=>we(bt)):(Ye=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye)})(()=>we(Ye))})(this.nativeEl,ge)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(ge,de){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const de=this.getContext();this.activatedView.savedData=new Map(de.children.contexts);const We=this.activatedView.savedData.get("primary");if(We&&de.route&&(We.route={...de.route}),this.activatedView.savedExtras={},de.route){const Kt=de.route.snapshot;this.activatedView.savedExtras.queryParams=Kt.queryParams,this.activatedView.savedExtras.fragment=Kt.fragment}}const ge=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(ge)}}activateWith(ge,de){var We;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=ge;let Kt,gn=this.stackCtrl.getExistingView(ge);if(gn){Kt=this.activated=gn.ref;const Mr=gn.savedData;Mr&&(this.getContext().children.contexts=Mr),this.updateActivatedRouteProxy(Kt.instance,ge)}else{var Dn;const Mr=ge._futureSnapshot,wi=this.parentContexts.getOrCreateContext(this.name).children,ji=new Ft.t(null),fr=this.createActivatedRouteProxy(ji,ge),Mi=new W(fr,wi,this.location.injector),Zi=null!==(Dn=Mr.routeConfig.component)&&void 0!==Dn?Dn:Mr.component;Kt=this.activated=this.outletContent.createComponent(Zi,{index:this.outletContent.length,injector:Mi,environmentInjector:null!=de?de:this.environmentInjector}),ji.next(Kt.instance),gn=this.stackCtrl.createView(this.activated,ge),this.proxyMap.set(Kt.instance,fr),this.currentActivatedRoute$.next({component:Kt.instance,activatedRoute:ge})}null===(We=this.inputBinder)||void 0===We||We.bindActivatedRouteToOutletComponent(this),this.activatedView=gn,this.navCtrl.setTopOutlet(this);const Wn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:gn,tabSwitch:_r(gn,Wn)}),this.stackCtrl.setActive(gn).then(Mr=>{this.activateEvents.emit(Kt.instance),this.stackDidChange.emit(Mr)})}canGoBack(ge=1,de){return this.stackCtrl.canGoBack(ge,de)}pop(ge=1,de){return this.stackCtrl.pop(ge,de)}getLastUrl(ge){const de=this.stackCtrl.getLastUrl(ge);return de?de.url:void 0}getLastRouteView(ge){return this.stackCtrl.getLastUrl(ge)}getRootView(ge){return this.stackCtrl.getRootUrl(ge)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(ge,de){const We=new Ee.nX;return We._futureSnapshot=de._futureSnapshot,We._routerState=de._routerState,We.snapshot=de.snapshot,We.outlet=de.outlet,We.component=de.component,We._paramMap=this.proxyObservable(ge,"paramMap"),We._queryParamMap=this.proxyObservable(ge,"queryParamMap"),We.url=this.proxyObservable(ge,"url"),We.params=this.proxyObservable(ge,"params"),We.queryParams=this.proxyObservable(ge,"queryParams"),We.fragment=this.proxyObservable(ge,"fragment"),We.data=this.proxyObservable(ge,"data"),We}proxyObservable(ge,de){return ge.pipe((0,De.p)(We=>!!We),(0,Y.n)(We=>this.currentActivatedRoute$.pipe((0,De.p)(Kt=>null!==Kt&&Kt.component===We),(0,Y.n)(Kt=>Kt&&Kt.activatedRoute[de]),(0,ie.F)())))}updateActivatedRouteProxy(ge,de){const We=this.proxyMap.get(ge);if(!We)throw new Error("Could not find activated route proxy for view");We._futureSnapshot=de._futureSnapshot,We._routerState=de._routerState,We.snapshot=de.snapshot,We.outlet=de.outlet,We.component=de.component,this.currentActivatedRoute$.next({component:ge,activatedRoute:de})}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)(V.kS0("name"),V.kS0("tabs"),V.rXU(z.aZ),V.rXU(V.aKT),V.rXU(Ee.Ix),V.rXU(V.SKi),V.rXU(Ee.nX),V.rXU(Ye,12))}),(0,s.A)(we,"\u0275dir",V.FsC({type:Ye,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),we})();class W{constructor(we,bt,ge){(0,s.A)(this,"route",void 0),(0,s.A)(this,"childContexts",void 0),(0,s.A)(this,"parent",void 0),this.route=we,this.childContexts=bt,this.parent=ge}get(we,bt){return we===Ee.nX?this.route:we===Ee.Zp?this.childContexts:this.parent.get(we,bt)}}const Q=new V.nKC("");let le=(()=>{var Ye;class we{constructor(){(0,s.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(ge){this.unsubscribeFromRouteData(ge),this.subscribeToRouteData(ge)}unsubscribeFromRouteData(ge){var de;null===(de=this.outletDataSubscriptions.get(ge))||void 0===de||de.unsubscribe(),this.outletDataSubscriptions.delete(ge)}subscribeToRouteData(ge){const{activatedRoute:de}=ge,We=(0,Vt.z)([de.queryParams,de.params,de.data]).pipe((0,Y.n)(([Kt,gn,Dn],Wn)=>(Dn={...Kt,...gn,...Dn},0===Wn?(0,cn.of)(Dn):Promise.resolve(Dn)))).subscribe(Kt=>{if(!ge.isActivated||!ge.activatedComponentRef||ge.activatedRoute!==de||null===de.component)return void this.unsubscribeFromRouteData(ge);const gn=(0,V.HJs)(de.component);if(gn)for(const{templateName:Dn}of gn.inputs)ge.activatedComponentRef.setInput(Dn,Kt[Dn]);else this.unsubscribeFromRouteData(ge)});this.outletDataSubscriptions.set(ge,We)}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)}),(0,s.A)(we,"\u0275prov",V.jDH({token:Ye,factory:Ye.\u0275fac})),we})();const Se=()=>({provide:Q,useFactory:kt,deps:[Ee.Ix]});function kt(Ye){return null!=Ye&&Ye.componentInputBindingEnabled?new le:null}const hn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Fn=(()=>{var Ye;let we=((0,s.A)(Ye=class{constructor(ge,de,We,Kt,gn,Dn){(0,s.A)(this,"routerOutlet",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"config",void 0),(0,s.A)(this,"r",void 0),(0,s.A)(this,"z",void 0),(0,s.A)(this,"el",void 0),this.routerOutlet=ge,this.navCtrl=de,this.config=We,this.r=Kt,this.z=gn,Dn.detach(),this.el=this.r.nativeElement}onClick(ge){var de;const We=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(de=this.routerOutlet)&&void 0!==de&&de.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),ge.preventDefault()):null!=We&&(this.navCtrl.navigateBack(We,{animation:this.routerAnimation}),ge.preventDefault())}},"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(oe,8),V.rXU(Rn),V.rXU(Ln),V.rXU(V.aKT),V.rXU(V.SKi),V.rXU(V.gRc))}),(0,s.A)(Ye,"\u0275dir",V.FsC({type:Ye,hostBindings:function(ge,de){1&ge&&V.bIt("click",function(Kt){return de.onClick(Kt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Ye);return we=(0,qe.Cg)([or({inputs:hn})],we),we})(),ir=(()=>{var Ye;class we{constructor(ge,de,We,Kt,gn){(0,s.A)(this,"locationStrategy",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"elementRef",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"routerLink",void 0),(0,s.A)(this,"routerDirection","forward"),(0,s.A)(this,"routerAnimation",void 0),this.locationStrategy=ge,this.navCtrl=de,this.elementRef=We,this.router=Kt,this.routerLink=gn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const de=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(de.tagName)&&"0"===de.getAttribute("tabindex")&&de.removeAttribute("tabindex")}updateTargetUrlAndHref(){var ge;if(null!==(ge=this.routerLink)&&void 0!==ge&&ge.urlTree){const de=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=de}}onClick(ge){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),ge.preventDefault()}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(z.hb),V.rXU(Rn),V.rXU(V.aKT),V.rXU(Ee.Ix),V.rXU(Ee.Wk,8))}),(0,s.A)(we,"\u0275dir",V.FsC({type:Ye,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ge,de){1&ge&&V.bIt("click",function(Kt){return de.onClick(Kt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[V.OA$]})),we})(),vr=(()=>{var Ye;class we{constructor(ge,de,We,Kt,gn){(0,s.A)(this,"locationStrategy",void 0),(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"elementRef",void 0),(0,s.A)(this,"router",void 0),(0,s.A)(this,"routerLink",void 0),(0,s.A)(this,"routerDirection","forward"),(0,s.A)(this,"routerAnimation",void 0),this.locationStrategy=ge,this.navCtrl=de,this.elementRef=We,this.router=Kt,this.routerLink=gn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var ge;if(null!==(ge=this.routerLink)&&void 0!==ge&&ge.urlTree){const de=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=de}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(z.hb),V.rXU(Rn),V.rXU(V.aKT),V.rXU(Ee.Ix),V.rXU(Ee.Wk,8))}),(0,s.A)(we,"\u0275dir",V.FsC({type:Ye,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ge,de){1&ge&&V.bIt("click",function(){return de.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[V.OA$]})),we})();const At=["animated","animation","root","rootParams","swipeGesture"],er=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Jn=(()=>{var Ye;let we=((0,s.A)(Ye=class{constructor(ge,de,We,Kt,gn,Dn){(0,s.A)(this,"z",void 0),(0,s.A)(this,"el",void 0),this.z=gn,Dn.detach(),this.el=ge.nativeElement,ge.nativeElement.delegate=Kt.create(de,We),dr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(V.aKT),V.rXU(V.uvJ),V.rXU(V.zZn),V.rXU(vt),V.rXU(V.SKi),V.rXU(V.gRc))}),(0,s.A)(Ye,"\u0275dir",V.FsC({type:Ye,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Ye);return we=(0,qe.Cg)([or({inputs:At,methods:er})],we),we})(),ei=(()=>{var Ye;class we{constructor(ge){(0,s.A)(this,"navCtrl",void 0),(0,s.A)(this,"tabsInner",void 0),(0,s.A)(this,"ionTabsWillChange",new V.bkB),(0,s.A)(this,"ionTabsDidChange",new V.bkB),(0,s.A)(this,"tabBarSlot","bottom"),this.navCtrl=ge}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:ge,tabSwitch:de}){const We=ge.stackId;de&&void 0!==We&&this.ionTabsWillChange.emit({tab:We})}onStackDidChange({enteringView:ge,tabSwitch:de}){const We=ge.stackId;de&&void 0!==We&&(this.tabBar&&(this.tabBar.selectedTab=We),this.ionTabsDidChange.emit({tab:We}))}select(ge){const de="string"==typeof ge,We=de?ge:ge.detail.tab,Kt=this.outlet.getActiveStackId()===We,gn=`${this.outlet.tabsPrefix}/${We}`;if(de||ge.stopPropagation(),Kt){const Dn=this.outlet.getActiveStackId(),Wn=this.outlet.getLastRouteView(Dn);if((null==Wn?void 0:Wn.url)===gn)return;const Mr=this.outlet.getRootView(We);return this.navCtrl.navigateRoot(gn,{...Mr&&gn===Mr.url&&Mr.savedExtras,animated:!0,animationDirection:"back"})}{const Dn=this.outlet.getLastRouteView(We);return this.navCtrl.navigateRoot((null==Dn?void 0:Dn.url)||gn,{...null==Dn?void 0:Dn.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(ge=>{const de=ge.el.getAttribute("slot");de!==this.tabBarSlot&&(this.tabBarSlot=de,this.relocateTabBar())})}relocateTabBar(){const ge=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(ge):this.tabsInner.nativeElement.after(ge)}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(Rn))}),(0,s.A)(we,"\u0275dir",V.FsC({type:Ye,selectors:[["ion-tabs"]],viewQuery:function(ge,de){if(1&ge&&V.GBs(Ue,7,V.aKT),2&ge){let We;V.mGM(We=V.lsd())&&(de.tabsInner=We.first)}},hostBindings:function(ge,de){1&ge&&V.bIt("ionTabButtonClick",function(Kt){return de.select(Kt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),we})();const Ki=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye);let co=(()=>{var Ye;class we{constructor(ge,de){(0,s.A)(this,"injector",void 0),(0,s.A)(this,"elementRef",void 0),(0,s.A)(this,"onChange",()=>{}),(0,s.A)(this,"onTouched",()=>{}),(0,s.A)(this,"lastValue",void 0),(0,s.A)(this,"statusChanges",void 0),this.injector=ge,this.elementRef=de}writeValue(ge){this.elementRef.nativeElement.value=this.lastValue=ge,Ei(this.elementRef)}handleValueChange(ge,de){ge===this.elementRef.nativeElement&&(de!==this.lastValue&&(this.lastValue=de,this.onChange(de)),Ei(this.elementRef))}_handleBlurEvent(ge){ge===this.elementRef.nativeElement&&(this.onTouched(),Ei(this.elementRef))}registerOnChange(ge){this.onChange=ge}registerOnTouched(ge){this.onTouched=ge}setDisabledState(ge){this.elementRef.nativeElement.disabled=ge}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let ge;try{ge=this.injector.get(se.vO)}catch{}if(!ge)return;ge.statusChanges&&(this.statusChanges=ge.statusChanges.subscribe(()=>Ei(this.elementRef)));const de=ge.control;de&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Kt=>{if(typeof de[Kt]<"u"){const gn=de[Kt].bind(de);de[Kt]=(...Dn)=>{gn(...Dn),Ei(this.elementRef)}}})}}return Ye=we,(0,s.A)(we,"\u0275fac",function(ge){return new(ge||Ye)(V.rXU(V.zZn),V.rXU(V.aKT))}),(0,s.A)(we,"\u0275dir",V.FsC({type:Ye,hostBindings:function(ge,de){1&ge&&V.bIt("ionBlur",function(Kt){return de._handleBlurEvent(Kt.target)})}})),we})();const Ei=Ye=>{Ki(()=>{const we=Ye.nativeElement,bt=null!=we.value&&we.value.toString().length>0,ge=xo(we);Ui(we,ge);const de=we.closest("ion-item");de&&Ui(de,bt?[...ge,"item-has-value"]:ge)})},xo=Ye=>{const we=Ye.classList,bt=[];for(let ge=0;ge<we.length;ge++){const de=we.item(ge);null!==de&&Do(de,"ng-")&&bt.push(`ion-${de.substring(3)}`)}return bt},Ui=(Ye,we)=>{const bt=Ye.classList;bt.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),bt.add(...we)},Do=(Ye,we)=>Ye.substring(0,we.length)===we;class Go{shouldDetach(we){return!1}shouldAttach(we){return!1}store(we,bt){}retrieve(we){return null}shouldReuseRoute(we,bt){if(we.routeConfig!==bt.routeConfig)return!1;const ge=we.params,de=bt.params,We=Object.keys(ge),Kt=Object.keys(de);if(We.length!==Kt.length)return!1;for(const gn of We)if(de[gn]!==ge[gn])return!1;return!0}}class po{constructor(we){(0,s.A)(this,"ctrl",void 0),this.ctrl=we}create(we){return this.ctrl.create(we||{})}dismiss(we,bt,ge){return this.ctrl.dismiss(we,bt,ge)}getTop(){return this.ctrl.getTop()}}},4742:(Mn,St,x)=>{"use strict";x.d(St,{xk:()=>Bt,YH:()=>In,U1:()=>Pt,Jm:()=>Hn,QW:()=>vt,b_:()=>Ne,I9:()=>je,ME:()=>rn,HW:()=>Gn,tN:()=>hr,W9:()=>Ar,A9:()=>dr,eU:()=>Un,iq:()=>qn,KW:()=>Xn,$w:()=>Ii,uz:()=>wn,he:()=>oe,nf:()=>W,AF:()=>Q,oS:()=>Se,MC:()=>kt,cA:()=>hn,Sb:()=>Ss,JI:()=>ir,Ob:()=>Ei,Rg:()=>eo,S1:()=>we,Gp:()=>bt,eP:()=>ge,Nm:()=>de,Ip:()=>We,HP:()=>Dn,IO:()=>wi,nc:()=>ji,BC:()=>Mi,ai:()=>ri,bv:()=>Wr,_t:()=>gi,su:()=>De,IE:()=>Vo,N7:()=>Jo,Je:()=>Y,Gw:()=>ie});var h=x(9842),s=x(3953),V=x(4341),Ee=x(2872),z=x(1635),Ae=x(3726),Oe=x(177),He=x(9384),Je=(x(9986),x(3604),x(5022),x(3615),x(8607),x(9483)),ct=x(464),Ct=x(9568),mt=x(9440),Nt=(x(8476),x(4261));x(1970),x(7192);var ot=x(467);const ut=Je.i,it=function(){var O=(0,ot.A)(function*(te,me){if(!(typeof window>"u"))return yield ut(),(0,Nt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),me)});return function(me,L){return O.apply(this,arguments)}}(),he=["*"],ft=["outletContent"];function Vt(O,te){if(1&O&&(s.j41(0,"div",1),s.eu8(1,2),s.k0s()),2&O){const me=s.XpG();s.R7$(),s.Y8G("ngTemplateOutlet",me.template)}}let De=(()=>{var O;class te extends Ee.fL{constructor(L,Re){super(L,Re),(0,h.A)(this,"el",void 0),this.el=Re}handleInputEvent(L){this.handleValueChange(L,L.value)}registerOnChange(L){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?Re=>{L(""===Re?null:parseFloat(Re))}:L)}}return O=te,(0,h.A)(te,"\u0275fac",function(L){return new(L||O)(s.rXU(s.zZn),s.rXU(s.aKT))}),(0,h.A)(te,"\u0275dir",s.FsC({type:O,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(L,Re){1&L&&s.bIt("ionInput",function(Kr){return Re.handleInputEvent(Kr.target)})},features:[s.Jv_([{provide:V.kq,useExisting:O,multi:!0}]),s.Vt3]})),te})(),Y=(()=>{var O;class te extends Ee.fL{constructor(L,Re){super(L,Re)}_handleChangeEvent(L){this.handleValueChange(L,L.value)}}return O=te,(0,h.A)(te,"\u0275fac",function(L){return new(L||O)(s.rXU(s.zZn),s.rXU(s.aKT))}),(0,h.A)(te,"\u0275dir",s.FsC({type:O,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(L,Re){1&L&&s.bIt("ionChange",function(Kr){return Re._handleChangeEvent(Kr.target)})},features:[s.Jv_([{provide:V.kq,useExisting:O,multi:!0}]),s.Vt3]})),te})(),ie=(()=>{var O;class te extends Ee.fL{constructor(L,Re){super(L,Re)}_handleInputEvent(L){this.handleValueChange(L,L.value)}}return O=te,(0,h.A)(te,"\u0275fac",function(L){return new(L||O)(s.rXU(s.zZn),s.rXU(s.aKT))}),(0,h.A)(te,"\u0275dir",s.FsC({type:O,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(L,Re){1&L&&s.bIt("ionInput",function(Kr){return Re._handleInputEvent(Kr.target)})},features:[s.Jv_([{provide:V.kq,useExisting:O,multi:!0}]),s.Vt3]})),te})();const se=(O,te)=>{const me=O.prototype;te.forEach(L=>{Object.defineProperty(me,L,{get(){return this.el[L]},set(Re){this.z.runOutsideAngular(()=>this.el[L]=Re)},configurable:!0})})},Ue=(O,te)=>{const me=O.prototype;te.forEach(L=>{me[L]=function(){const Re=arguments;return this.z.runOutsideAngular(()=>this.el[L].apply(this.el,Re))}})},et=(O,te,me)=>{me.forEach(L=>O[L]=(0,Ae.R)(te,L))};function ze(O){return function(me){const{defineCustomElementFn:L,inputs:Re,methods:It}=O;return void 0!==L&&L(),Re&&se(me,Re),It&&Ue(me,It),me}}let Bt=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],te),te})(),In=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionChange"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],te),te})(),Pt=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-app"]],ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({})],te),te})(),Hn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],te),te})(),vt=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["collapse"]})],te),te})(),Ne=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],te),te})(),je=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["mode"]})],te),te})(),rn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","mode","translucent"]})],te),te})(),Gn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","mode"]})],te),te})(),hr=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","mode"]})],te),te})(),Ar=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],te),te})(),dr=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],te),te})(),Un=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["collapse","mode","translucent"]})],te),te})(),qn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],te),te})(),Xn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["alt","src"]})],te),te})(),Ii=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],te),te})(),wn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],te),te})(),oe=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","mode","position"]})],te),te})(),W=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],te),te})(),Q=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","lines","mode"]})],te),te})(),Se=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],te),te})(),kt=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["autoHide","color","disabled","menu","mode","type"]})],te),te})(),hn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["autoHide","menu"]})],te),te})(),ir=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","mode"]})],te),te})(),Ei=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],te),te})(),we=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],te),te})(),bt=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionChange"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],te),te})(),ge=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-segment-button"]],inputs:{disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["disabled","layout","mode","type","value"]})],te),te})(),de=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],te),te})(),We=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["disabled","value"]})],te),te})(),Dn=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionSplitPaneVisible"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["contentId","disabled","when"]})],te),te})(),wi=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","mode"]})],te),te})(),ji=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement,et(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],te),te})(),Mi=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","size"]})],te),te})(),ri=(()=>{var O;let te=((0,h.A)(O=class{constructor(L,Re,It){(0,h.A)(this,"z",void 0),(0,h.A)(this,"el",void 0),this.z=It,L.detach(),this.el=Re.nativeElement}},"\u0275fac",function(L){return new(L||O)(s.rXU(s.gRc),s.rXU(s.aKT),s.rXU(s.SKi))}),(0,h.A)(O,"\u0275cmp",s.VBU({type:O,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(L,Re){1&L&&(s.NAR(),s.SdG(0))},encapsulation:2,changeDetection:0})),O);return te=(0,z.Cg)([ze({inputs:["color","mode"]})],te),te})(),eo=(()=>{var O;class te extends Ee.Rg{constructor(L,Re,It,Kr,X,ae,Ge,Ze){super(L,Re,It,Kr,X,ae,Ge,Ze),(0,h.A)(this,"parentOutlet",void 0),(0,h.A)(this,"outletContent",void 0),this.parentOutlet=Ze}}return O=te,(0,h.A)(te,"\u0275fac",function(L){return new(L||O)(s.kS0("name"),s.kS0("tabs"),s.rXU(Oe.aZ),s.rXU(s.aKT),s.rXU(He.Ix),s.rXU(s.SKi),s.rXU(He.nX),s.rXU(O,12))}),(0,h.A)(te,"\u0275cmp",s.VBU({type:O,selectors:[["ion-router-outlet"]],viewQuery:function(L,Re){if(1&L&&s.GBs(ft,7,s.c1b),2&L){let It;s.mGM(It=s.lsd())&&(Re.outletContent=It.first)}},features:[s.Vt3],ngContentSelectors:he,decls:3,vars:0,consts:[["outletContent",""]],template:function(L,Re){1&L&&(s.NAR(),s.qex(0,null,0),s.SdG(2),s.bVm())},encapsulation:2})),te})(),Jo=(()=>{var O;class te extends Ee.CE{}return O=te,(0,h.A)(te,"\u0275fac",(()=>{let me;return function(Re){return(me||(me=s.xGo(O)))(Re||O)}})()),(0,h.A)(te,"\u0275dir",s.FsC({type:O,selectors:[["","routerLink","",5,"a",5,"area"]],features:[s.Vt3]})),te})(),Ss=(()=>{var O;class te extends Ee.Sb{}return O=te,(0,h.A)(te,"\u0275fac",(()=>{let me;return function(Re){return(me||(me=s.xGo(O)))(Re||O)}})()),(0,h.A)(te,"\u0275cmp",s.VBU({type:O,selectors:[["ion-modal"]],features:[s.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(L,Re){1&L&&s.DNE(0,Vt,2,1,"div",0),2&L&&s.Y8G("ngIf",Re.isCmpOpen||Re.keepContentsMounted)},dependencies:[Oe.bT,Oe.T3],encapsulation:2,changeDetection:0})),te})();const Zo={provide:V.cz,useExisting:(0,s.Rfq)(()=>ls),multi:!0};let ls=(()=>{var O;class te extends V.zX{}return O=te,(0,h.A)(te,"\u0275fac",(()=>{let me;return function(Re){return(me||(me=s.xGo(O)))(Re||O)}})()),(0,h.A)(te,"\u0275dir",s.FsC({type:O,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,Re){2&L&&s.BMQ("max",Re._enabled?Re.max:null)},features:[s.Jv_([Zo]),s.Vt3]})),te})();const ii={provide:V.cz,useExisting:(0,s.Rfq)(()=>Cs),multi:!0};let Cs=(()=>{var O;class te extends V.VZ{}return O=te,(0,h.A)(te,"\u0275fac",(()=>{let me;return function(Re){return(me||(me=s.xGo(O)))(Re||O)}})()),(0,h.A)(te,"\u0275dir",s.FsC({type:O,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,Re){2&L&&s.BMQ("min",Re._enabled?Re.min:null)},features:[s.Jv_([ii]),s.Vt3]})),te})(),gi=(()=>{var O;class te extends Ee._t{constructor(){super(Ct.m)}}return O=te,(0,h.A)(te,"\u0275fac",function(L){return new(L||O)}),(0,h.A)(te,"\u0275prov",s.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})),te})(),As=(()=>{var O;class te extends Ee.Kb{constructor(){super(mt.m),(0,h.A)(this,"angularDelegate",(0,s.WQX)(Ee.Yq)),(0,h.A)(this,"injector",(0,s.WQX)(s.zZn)),(0,h.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ))}create(L){return super.create({...L,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return O=te,(0,h.A)(te,"\u0275fac",function(L){return new(L||O)}),(0,h.A)(te,"\u0275prov",s.jDH({token:O,factory:O.\u0275fac})),te})();class Vo extends Ee.Kb{constructor(){super(mt.c),(0,h.A)(this,"angularDelegate",(0,s.WQX)(Ee.Yq)),(0,h.A)(this,"injector",(0,s.WQX)(s.zZn)),(0,h.A)(this,"environmentInjector",(0,s.WQX)(s.uvJ))}create(te){return super.create({...te,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const br=(O,te,me)=>()=>{const L=te.defaultView;if(L&&typeof window<"u"){(0,ct.s)({...O,_zoneGate:It=>me.run(It)});const Re="__zone_symbol__addEventListener"in te.body?"__zone_symbol__addEventListener":"addEventListener";return function Le(){var O=[];if(typeof window<"u"){var te=window;(!te.customElements||te.Element&&(!te.Element.prototype.closest||!te.Element.prototype.matches||!te.Element.prototype.remove||!te.Element.prototype.getRootNode))&&O.push(x.e(7278).then(x.t.bind(x,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||te.NodeList&&!te.NodeList.prototype.forEach||!te.fetch||!function(){try{var L=new URL("b","http://a");return L.pathname="c%20d","http://a/c%20d"===L.href&&L.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&O.push(x.e(9329).then(x.t.bind(x,7783,23)))}return Promise.all(O)}().then(()=>it(L,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Ee.er,jmp:It=>me.runOutsideAngular(It),ael(It,Kr,X,ae){It[Re](Kr,X,ae)},rel(It,Kr,X,ae){It.removeEventListener(Kr,X,ae)}}))}};let Wr=(()=>{var O;class te{static forRoot(L={}){return{ngModule:te,providers:[{provide:Ee.sR,useValue:L},{provide:s.hnV,useFactory:br,multi:!0,deps:[Ee.sR,Oe.qQ,s.SKi]},Ee.Yq,(0,Ee.YV)()]}}}return O=te,(0,h.A)(te,"\u0275fac",function(L){return new(L||O)}),(0,h.A)(te,"\u0275mod",s.$C({type:O})),(0,h.A)(te,"\u0275inj",s.G2t({providers:[As,Vo],imports:[Oe.MD]})),te})()},2214:(Mn,St,x)=>{"use strict";x.d(St,{Dk:()=>h.getApps,KO:()=>h.registerVersion,Sx:()=>h.getApp,Wp:()=>h.initializeApp});var h=x(8742);(0,h.registerVersion)("firebase","10.13.1","app")},7935:(Mn,St,x)=>{"use strict";x.d(St,{A:()=>h.A});var h=x(3345);h.A.registerVersion("firebase","10.13.1","app-compat")},2438:(Mn,St,x)=>{"use strict";var h=x(467),s=x(3345),V=x(576),Ee=x(1076),Oe=(x(8742),x(8041),x(1362));function He(){return window}function Ie(){return Ie=(0,h.A)(function*(W,Q,le){var Se;const{BuildInfo:kt}=He();(0,V.au)(Q.sessionId,"AuthEvent did not contain a session ID");const hn=yield function lt(W){return Nt.apply(this,arguments)}(Q.sessionId),Fn={};return(0,V.av)()?Fn.ibi=kt.packageName:(0,V.aw)()?Fn.apn=kt.packageName:(0,V.ax)(W,"operation-not-supported-in-this-environment"),kt.displayName&&(Fn.appDisplayName=kt.displayName),Fn.sessionId=hn,(0,V.ay)(W,le,Q.type,void 0,null!==(Se=Q.eventId)&&void 0!==Se?Se:void 0,Fn)}),Ie.apply(this,arguments)}function Qe(){return(Qe=(0,h.A)(function*(W){const{BuildInfo:Q}=He(),le={};(0,V.av)()?le.iosBundleId=Q.packageName:(0,V.aw)()?le.androidPackageName=Q.packageName:(0,V.ax)(W,"operation-not-supported-in-this-environment"),yield(0,V.az)(W,le)})).apply(this,arguments)}function Ct(){return(Ct=(0,h.A)(function*(W,Q,le){const{cordova:Se}=He();let kt=()=>{};try{yield new Promise((hn,Fn)=>{let ir=null;function vr(){var Jn;hn();const ei=null===(Jn=Se.plugins.browsertab)||void 0===Jn?void 0:Jn.close;"function"==typeof ei&&ei(),"function"==typeof(null==le?void 0:le.close)&&le.close()}function At(){ir||(ir=window.setTimeout(()=>{Fn((0,V.aB)(W,"redirect-cancelled-by-user"))},2e3))}function er(){"visible"===(null==document?void 0:document.visibilityState)&&At()}Q.addPassiveListener(vr),document.addEventListener("resume",At,!1),(0,V.aw)()&&document.addEventListener("visibilitychange",er,!1),kt=()=>{Q.removePassiveListener(vr),document.removeEventListener("resume",At,!1),document.removeEventListener("visibilitychange",er,!1),ir&&window.clearTimeout(ir)}})}finally{kt()}})).apply(this,arguments)}function Nt(){return(Nt=(0,h.A)(function*(W){const Q=function wt(W){if((0,V.au)(/[0-9a-zA-Z]+/.test(W),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(W);const Q=new ArrayBuffer(W.length),le=new Uint8Array(Q);for(let Se=0;Se<W.length;Se++)le[Se]=W.charCodeAt(Se);return le}(W),le=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(le)).map(kt=>kt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Fe extends V.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInitialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInitialized(),this.passiveListeners.forEach(le=>le(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,h.A)(function*(){yield Q.initPromise})()}}function ut(W){return it.apply(this,arguments)}function it(){return(it=(0,h.A)(function*(W){const Q=yield ht()._get(tt(W));return Q&&(yield ht()._remove(tt(W))),Q})).apply(this,arguments)}function ft(){const W=[];for(let le=0;le<20;le++){const Se=Math.floor(62*Math.random());W.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Se))}return W.join("")}function ht(){return(0,V.aE)(V.b)}function tt(W){return(0,V.aF)("authEvent",W.config.apiKey,W.name)}function cn(W){if(null==W||!W.includes("?"))return{};const[Q,...le]=W.split("?");return(0,Ee.I9)(le.join("?"))}const Y=class De{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(Q){var le=this;return(0,h.A)(function*(){const Se=Q._key();let kt=le.eventManagers.get(Se);return kt||(kt=new Fe(Q),le.eventManagers.set(Se,kt),le.attachCallbackListeners(Q,kt)),kt})()}_openPopup(Q){(0,V.ax)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,le,Se,kt){var hn=this;return(0,h.A)(function*(){!function mt(W){var Q,le,Se,kt,hn,Fn,ir,vr,At,er;const Jn=He();(0,V.aC)("function"==typeof(null===(Q=null==Jn?void 0:Jn.universalLinks)||void 0===Q?void 0:Q.subscribe),W,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aC)(typeof(null===(le=null==Jn?void 0:Jn.BuildInfo)||void 0===le?void 0:le.packageName)<"u",W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aC)("function"==typeof(null===(hn=null===(kt=null===(Se=null==Jn?void 0:Jn.cordova)||void 0===Se?void 0:Se.plugins)||void 0===kt?void 0:kt.browsertab)||void 0===hn?void 0:hn.openUrl),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(vr=null===(ir=null===(Fn=null==Jn?void 0:Jn.cordova)||void 0===Fn?void 0:Fn.plugins)||void 0===ir?void 0:ir.browsertab)||void 0===vr?void 0:vr.isAvailable),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(er=null===(At=null==Jn?void 0:Jn.cordova)||void 0===At?void 0:At.InAppBrowser)||void 0===er?void 0:er.open),W,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const Fn=yield hn._initialize(Q);yield Fn.initialized(),Fn.resetRedirect(),(0,V.aI)(),yield hn._originValidation(Q);const ir=function Le(W,Q,le=null){return{type:Q,eventId:le,urlResponse:null,sessionId:ft(),postBody:null,tenantId:W.tenantId,error:(0,V.aB)(W,"no-auth-event")}}(Q,Se,kt);yield function ot(W,Q){return ht()._set(tt(W),Q)}(Q,ir);const vr=yield function xe(W,Q,le){return Ie.apply(this,arguments)}(Q,ir,le),At=yield function Je(W){const{cordova:Q}=He();return new Promise(le=>{Q.plugins.browsertab.isAvailable(Se=>{let kt=null;Se?Q.plugins.browsertab.openUrl(W):kt=Q.InAppBrowser.open(W,(0,V.aA)()?"_blank":"_system","location=yes"),le(kt)})})}(vr);return function ct(W,Q,le){return Ct.apply(this,arguments)}(Q,Fn,At)})()}_isIframeWebStorageSupported(Q,le){throw new Error("Method not implemented.")}_originValidation(Q){const le=Q._key();return this.originValidationPromises[le]||(this.originValidationPromises[le]=function nt(W){return Qe.apply(this,arguments)}(Q)),this.originValidationPromises[le]}attachCallbackListeners(Q,le){const{universalLinks:Se,handleOpenURL:kt,BuildInfo:hn}=He(),Fn=setTimeout((0,h.A)(function*(){yield ut(Q),le.onEvent(ie())}),500),ir=function(){var er=(0,h.A)(function*(Jn){clearTimeout(Fn);const ei=yield ut(Q);let Ki=null;ei&&null!=Jn&&Jn.url&&(Ki=function he(W,Q){var le,Se;const kt=function Vt(W){const Q=cn(W),le=Q.link?decodeURIComponent(Q.link):void 0,Se=cn(le).link,kt=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return cn(kt).link||kt||Se||le||W}(Q);if(kt.includes("/__/auth/callback")){const hn=cn(kt),Fn=hn.firebaseError?function Ft(W){try{return JSON.parse(W)}catch{return null}}(decodeURIComponent(hn.firebaseError)):null,ir=null===(Se=null===(le=null==Fn?void 0:Fn.code)||void 0===le?void 0:le.split("auth/"))||void 0===Se?void 0:Se[1],vr=ir?(0,V.aB)(ir):null;return vr?{type:W.type,eventId:W.eventId,tenantId:W.tenantId,error:vr,urlResponse:null,sessionId:null,postBody:null}:{type:W.type,eventId:W.eventId,tenantId:W.tenantId,sessionId:W.sessionId,urlResponse:kt,postBody:null}}return null}(ei,Jn.url)),le.onEvent(Ki||ie())});return function(ei){return er.apply(this,arguments)}}();typeof Se<"u"&&"function"==typeof Se.subscribe&&Se.subscribe(null,ir);const vr=kt,At=`${hn.packageName.toLowerCase()}://`;He().handleOpenURL=function(){var er=(0,h.A)(function*(Jn){if(Jn.toLowerCase().startsWith(At)&&ir({url:Jn}),"function"==typeof vr)try{vr(Jn)}catch(ei){console.error(ei)}});return function(Jn){return er.apply(this,arguments)}}()}};function ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aB)("no-auth-event")}}function ze(){var W;return(null===(W=null==self?void 0:self.location)||void 0===W?void 0:W.protocol)||null}function In(W=(0,Ee.ZQ)()){return!("file:"!==ze()&&"ionic:"!==ze()&&"capacitor:"!==ze()||!W.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sn(){try{const W=self.localStorage,Q=V.aN();if(W)return W.setItem(Q,"1"),W.removeItem(Q),!function Pn(W=(0,Ee.ZQ)()){return function Rn(){return(0,Ee.lT)()&&11===(null==document?void 0:document.documentMode)}()||function Pt(W=(0,Ee.ZQ)()){return/Edge\/\d+/.test(W)}(W)}()||(0,Ee.zW)()}catch{return Ln()&&(0,Ee.zW)()}return!1}function Ln(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qt(){return(function Bt(){return"http:"===ze()||"https:"===ze()}()||(0,Ee.sr)()||In())&&!function xt(){return(0,Ee.lV)()||(0,Ee.Ll)()}()&&Sn()&&!Ln()}function Yt(){return In()&&typeof document<"u"}function vt(){return(vt=(0,h.A)(function*(){return!!Yt()&&new Promise(W=>{const Q=setTimeout(()=>{W(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),W(!0)})})})).apply(this,arguments)}const je={LOCAL:"local",NONE:"none",SESSION:"session"},rn=V.aC,Gn="persistence";function sr(W){return kn.apply(this,arguments)}function kn(){return(kn=(0,h.A)(function*(W){yield W._initializationPromise;const Q=Ar(),le=V.aF(Gn,W.config.apiKey,W.name);Q&&Q.setItem(le,W._getPersistence())})).apply(this,arguments)}function Ar(){var W;try{return(null===(W=function Ne(){return typeof window<"u"?window:null}())||void 0===W?void 0:W.sessionStorage)||null}catch{return null}}const dr=V.aC;class or{constructor(){this.browserResolver=V.aE(V.k),this.cordovaResolver=V.aE(Y),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(Q){var le=this;return(0,h.A)(function*(){return yield le.selectUnderlyingResolver(),le.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,le,Se,kt){var hn=this;return(0,h.A)(function*(){return yield hn.selectUnderlyingResolver(),hn.assertedUnderlyingResolver._openPopup(Q,le,Se,kt)})()}_openRedirect(Q,le,Se,kt){var hn=this;return(0,h.A)(function*(){return yield hn.selectUnderlyingResolver(),hn.assertedUnderlyingResolver._openRedirect(Q,le,Se,kt)})()}_isIframeWebStorageSupported(Q,le){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,le)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return Yt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return dr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,h.A)(function*(){if(Q.underlyingResolver)return;const le=yield function Hn(){return vt.apply(this,arguments)}();Q.underlyingResolver=le?Q.cordovaResolver:Q.browserResolver})()}}function Zn(W){return W.unwrap()}function pi(W){return ti(W)}function ti(W){const{_tokenResponse:Q}=W instanceof Ee.g?W.customData:W;if(!Q)return null;if(!(W instanceof Ee.g)&&"temporaryProof"in Q&&"phoneNumber"in Q)return V.P.credentialFromResult(W);const le=Q.providerId;if(!le||le===V.p.PASSWORD)return null;let Se;switch(le){case V.p.GOOGLE:Se=V.X;break;case V.p.FACEBOOK:Se=V.W;break;case V.p.GITHUB:Se=V.Y;break;case V.p.TWITTER:Se=V.$;break;default:const{oauthIdToken:kt,oauthAccessToken:hn,oauthTokenSecret:Fn,pendingToken:ir,nonce:vr}=Q;return hn||Fn||kt||ir?ir?le.startsWith("saml.")?V.aQ._create(le,ir):V.N._fromParams({providerId:le,signInMethod:le,pendingToken:ir,idToken:kt,accessToken:hn}):new V.Z(le).credential({idToken:kt,accessToken:hn,rawNonce:vr}):null}return W instanceof Ee.g?Se.credentialFromError(W):Se.credentialFromResult(W)}function Un(W,Q){return Q.catch(le=>{throw le instanceof Ee.g&&function An(W,Q){var le;const Se=null===(le=Q.customData)||void 0===le?void 0:le._tokenResponse;if("auth/multi-factor-auth-required"===(null==Q?void 0:Q.code))Q.resolver=new bi(W,V.as(W,Q));else if(Se){const kt=ti(Q),hn=Q;kt&&(hn.credential=kt,hn.tenantId=Se.tenantId||void 0,hn.email=Se.email||void 0,hn.phoneNumber=Se.phoneNumber||void 0)}}(W,le),le}).then(le=>{const kt=le.user;return{operationType:le.operationType,credential:pi(le),additionalUserInfo:V.aq(le),user:rr.getOrCreate(kt)}})}function qn(W,Q){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,h.A)(function*(W,Q){const le=yield Q;return{verificationId:le.verificationId,confirm:Se=>Un(W,le.confirm(Se))}})).apply(this,arguments)}class bi{constructor(Q,le){this.resolver=le,this.auth=function Tr(W){return W.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return Un(Zn(this.auth),this.resolver.resolveSignIn(Q))}}class rr{constructor(Q){this._delegate=Q,this.multiFactor=V.at(Q)}static getOrCreate(Q){return rr.USER_MAP.has(Q)||rr.USER_MAP.set(Q,new rr(Q)),rr.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var le=this;return(0,h.A)(function*(){return Un(le.auth,V.a2(le._delegate,Q))})()}linkWithPhoneNumber(Q,le){var Se=this;return(0,h.A)(function*(){return qn(Se.auth,V.l(Se._delegate,Q,le))})()}linkWithPopup(Q){var le=this;return(0,h.A)(function*(){return Un(le.auth,V.d(le._delegate,Q,or))})()}linkWithRedirect(Q){var le=this;return(0,h.A)(function*(){return yield sr(V.aJ(le.auth)),V.g(le._delegate,Q,or)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var le=this;return(0,h.A)(function*(){return Un(le.auth,V.a3(le._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,le){return qn(this.auth,V.r(this._delegate,Q,le))}reauthenticateWithPopup(Q){return Un(this.auth,V.e(this._delegate,Q,or))}reauthenticateWithRedirect(Q){var le=this;return(0,h.A)(function*(){return yield sr(V.aJ(le.auth)),V.h(le._delegate,Q,or)})()}sendEmailVerification(Q){return V.ag(this._delegate,Q)}unlink(Q){var le=this;return(0,h.A)(function*(){return yield V.ap(le._delegate,Q),le})()}updateEmail(Q){return V.al(this._delegate,Q)}updatePassword(Q){return V.am(this._delegate,Q)}updatePhoneNumber(Q){return V.u(this._delegate,Q)}updateProfile(Q){return V.ak(this._delegate,Q)}verifyBeforeUpdateEmail(Q,le){return V.ah(this._delegate,Q,le)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}rr.USER_MAP=new WeakMap;const Ii=V.aC;let _r=(()=>{class W{constructor(le,Se){if(this.app=le,Se.isInitialized())return this._delegate=Se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:kt}=le.options;Ii(kt,"invalid-api-key",{appName:le.name}),Ii(kt,"invalid-api-key",{appName:le.name});const hn=typeof window<"u"?or:void 0;this._delegate=Se.initialize({options:{persistence:di(kt,le.name),popupRedirectResolver:hn}}),this._delegate._updateErrorMap(V.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?rr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(le){this._delegate.languageCode=le}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(le){this._delegate.tenantId=le}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(le,Se){V.K(this._delegate,le,Se)}applyActionCode(le){return V.a7(this._delegate,le)}checkActionCode(le){return V.a8(this._delegate,le)}confirmPasswordReset(le,Se){return V.a6(this._delegate,le,Se)}createUserWithEmailAndPassword(le,Se){var kt=this;return(0,h.A)(function*(){return Un(kt._delegate,V.aa(kt._delegate,le,Se))})()}fetchProvidersForEmail(le){return this.fetchSignInMethodsForEmail(le)}fetchSignInMethodsForEmail(le){return V.af(this._delegate,le)}isSignInWithEmailLink(le){return V.ad(this._delegate,le)}getRedirectResult(){var le=this;return(0,h.A)(function*(){Ii(Qt(),le._delegate,"operation-not-supported-in-this-environment");const Se=yield V.j(le._delegate,or);return Se?Un(le._delegate,Promise.resolve(Se)):{credential:null,user:null}})()}addFrameworkForLogging(le){!function se(W,Q){(0,V.aJ)(W)._logFramework(Q)}(this._delegate,le)}onAuthStateChanged(le,Se,kt){const{next:hn,error:Fn,complete:ir}=wn(le,Se,kt);return this._delegate.onAuthStateChanged(hn,Fn,ir)}onIdTokenChanged(le,Se,kt){const{next:hn,error:Fn,complete:ir}=wn(le,Se,kt);return this._delegate.onIdTokenChanged(hn,Fn,ir)}sendSignInLinkToEmail(le,Se){return V.ac(this._delegate,le,Se)}sendPasswordResetEmail(le,Se){return V.a5(this._delegate,le,Se||void 0)}setPersistence(le){var Se=this;return(0,h.A)(function*(){let kt;switch(function hr(W,Q){rn(Object.values(je).includes(Q),W,"invalid-persistence-type"),(0,Ee.lV)()?rn(Q!==je.SESSION,W,"unsupported-persistence-type"):(0,Ee.Ll)()?rn(Q===je.NONE,W,"unsupported-persistence-type"):Ln()?rn(Q===je.NONE||Q===je.LOCAL&&(0,Ee.zW)(),W,"unsupported-persistence-type"):rn(Q===je.NONE||Sn(),W,"unsupported-persistence-type")}(Se._delegate,le),le){case je.SESSION:kt=V.a;break;case je.LOCAL:kt=(yield V.aE(V.i)._isAvailable())?V.i:V.b;break;case je.NONE:kt=V.U;break;default:return V.ax("argument-error",{appName:Se._delegate.name})}return Se._delegate.setPersistence(kt)})()}signInAndRetrieveDataWithCredential(le){return this.signInWithCredential(le)}signInAnonymously(){return Un(this._delegate,V.a0(this._delegate))}signInWithCredential(le){return Un(this._delegate,V.a1(this._delegate,le))}signInWithCustomToken(le){return Un(this._delegate,V.a4(this._delegate,le))}signInWithEmailAndPassword(le,Se){return Un(this._delegate,V.ab(this._delegate,le,Se))}signInWithEmailLink(le,Se){return Un(this._delegate,V.ae(this._delegate,le,Se))}signInWithPhoneNumber(le,Se){return qn(this._delegate,V.s(this._delegate,le,Se))}signInWithPopup(le){var Se=this;return(0,h.A)(function*(){return Ii(Qt(),Se._delegate,"operation-not-supported-in-this-environment"),Un(Se._delegate,V.c(Se._delegate,le,or))})()}signInWithRedirect(le){var Se=this;return(0,h.A)(function*(){return Ii(Qt(),Se._delegate,"operation-not-supported-in-this-environment"),yield sr(Se._delegate),V.f(Se._delegate,le,or)})()}updateCurrentUser(le){return this._delegate.updateCurrentUser(le)}verifyPasswordResetCode(le){return V.a9(this._delegate,le)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return W.Persistence=je,W})();function wn(W,Q,le){let Se=W;"function"!=typeof W&&({next:Se,error:Q,complete:le}=W);const kt=Se;return{next:Fn=>kt(Fn&&rr.getOrCreate(Fn)),error:Q,complete:le}}function di(W,Q){const le=function Jt(W,Q){const le=Ar();if(!le)return[];const Se=V.aF(Gn,W,Q);switch(le.getItem(Se)){case je.NONE:return[V.U];case je.LOCAL:return[V.i,V.a];case je.SESSION:return[V.a];default:return[]}}(W,Q);if(typeof self<"u"&&!le.includes(V.i)&&le.push(V.i),typeof window<"u")for(const Se of[V.b,V.a])le.includes(Se)||le.push(Se);return le.includes(V.U)||le.push(V.U),le}class Wt{constructor(){this.providerId="phone",this._delegate=new V.P(Zn(s.A.auth()))}static credential(Q,le){return V.P.credential(Q,le)}verifyPhoneNumber(Q,le){return this._delegate.verifyPhoneNumber(Q,le)}unwrap(){return this._delegate}}Wt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,Wt.PROVIDER_ID=V.P.PROVIDER_ID;const Tt=V.aC;class yt{constructor(Q,le,Se=s.A.app()){var kt;Tt(null===(kt=Se.options)||void 0===kt?void 0:kt.apiKey,"invalid-api-key",{appName:Se.name}),this._delegate=new V.R(Se.auth(),Q,le),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function oe(W){W.INTERNAL.registerComponent(new Oe.uA("auth-compat",Q=>{const le=Q.getProvider("app-compat").getImmediate(),Se=Q.getProvider("auth");return new _r(le,Se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.V,FacebookAuthProvider:V.W,GithubAuthProvider:V.Y,GoogleAuthProvider:V.X,OAuthProvider:V.Z,SAMLAuthProvider:V._,PhoneAuthProvider:Wt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:yt,TwitterAuthProvider:V.$,Auth:_r,AuthCredential:V.L,Error:Ee.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),W.registerVersion("@firebase/auth-compat","0.5.13")}(s.A)},3146:(Mn,St,x)=>{"use strict";x.d(St,{ni:()=>oi,dG:()=>xa,gf:()=>uo,TT:()=>_i,xD:()=>Di});var h=x(467),s=x(8742),V=x(1362),Ee=x(1076),z=x(6749);const Ae="@firebase/installations",Oe="0.6.8",He=1e4,st=`w:${Oe}`,xe="FIS_v2",Ie="https://firebaseinstallations.googleapis.com/v1",nt=36e5,Ct=new Ee.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(_e){return _e instanceof Ee.g&&_e.code.includes("request-failed")}function lt({projectId:_e}){return`${Ie}/projects/${_e}/installations`}function Nt(_e){return{token:_e.token,requestStatus:2,expiresIn:it(_e.expiresIn),creationTime:Date.now()}}function wt(_e,Ke){return Me.apply(this,arguments)}function Me(){return(Me=(0,h.A)(function*(_e,Ke){const mn=(yield Ke.json()).error;return Ct.create("request-failed",{requestName:_e,serverCode:mn.code,serverMessage:mn.message,serverStatus:mn.status})})).apply(this,arguments)}function Fe({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function ot(_e){return ut.apply(this,arguments)}function ut(){return(ut=(0,h.A)(function*(_e){const Ke=yield _e();return Ke.status>=500&&Ke.status<600?_e():Ke})).apply(this,arguments)}function it(_e){return Number(_e.replace("s","000"))}function ht(){return(ht=(0,h.A)(function*({appConfig:_e,heartbeatServiceProvider:Ke},{fid:Rt}){const mn=lt(_e),xn=Fe(_e),Tn=Ke.getImmediate({optional:!0});if(Tn){const lr=yield Tn.getHeartbeatsHeader();lr&&xn.append("x-firebase-client",lr)}const Bi={method:"POST",headers:xn,body:JSON.stringify({fid:Rt,authVersion:xe,appId:_e.appId,sdkVersion:st})},Xi=yield ot(()=>fetch(mn,Bi));if(Xi.ok){const lr=yield Xi.json();return{fid:lr.fid||Rt,registrationStatus:2,refreshToken:lr.refreshToken,authToken:Nt(lr.authToken)}}throw yield wt("Create Installation",Xi)})).apply(this,arguments)}function tt(_e){return new Promise(Ke=>{setTimeout(Ke,_e)})}const Vt=/^[cdef][\w-]{21}$/,cn="";function qe(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const Rt=function De(_e){return function Ft(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return Vt.test(Rt)?Rt:cn}catch{return cn}}function Y(_e){return`${_e.appName}!${_e.appId}`}const ie=new Map;function se(_e,Ke){const Rt=Y(_e);Et(Rt,Ke),function ze(_e,Ke){const Rt=function In(){return!Bt&&"BroadcastChannel"in self&&(Bt=new BroadcastChannel("[Firebase] FID Change"),Bt.onmessage=_e=>{Et(_e.data.key,_e.data.fid)}),Bt}();Rt&&Rt.postMessage({key:_e,fid:Ke}),function xt(){0===ie.size&&Bt&&(Bt.close(),Bt=null)}()}(Rt,Ke)}function Et(_e,Ke){const Rt=ie.get(_e);if(Rt)for(const mn of Rt)mn(Ke)}let Bt=null;const Rn="firebase-installations-database",Pt=1,Pn="firebase-installations-store";let Sn=null;function Ln(){return Sn||(Sn=(0,z.P2)(Rn,Pt,{upgrade:(_e,Ke)=>{0===Ke&&_e.createObjectStore(Pn)}})),Sn}function Qt(_e,Ke){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,h.A)(function*(_e,Ke){const Rt=Y(_e),xn=(yield Ln()).transaction(Pn,"readwrite"),Tn=xn.objectStore(Pn),tr=yield Tn.get(Rt);return yield Tn.put(Ke,Rt),yield xn.done,(!tr||tr.fid!==Ke.fid)&&se(_e,Ke.fid),Ke})).apply(this,arguments)}function Hn(_e){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.A)(function*(_e){const Ke=Y(_e),mn=(yield Ln()).transaction(Pn,"readwrite");yield mn.objectStore(Pn).delete(Ke),yield mn.done})).apply(this,arguments)}function Ne(_e,Ke){return je.apply(this,arguments)}function je(){return(je=(0,h.A)(function*(_e,Ke){const Rt=Y(_e),xn=(yield Ln()).transaction(Pn,"readwrite"),Tn=xn.objectStore(Pn),tr=yield Tn.get(Rt),Bi=Ke(tr);return void 0===Bi?yield Tn.delete(Rt):yield Tn.put(Bi,Rt),yield xn.done,Bi&&(!tr||tr.fid!==Bi.fid)&&se(_e,Bi.fid),Bi})).apply(this,arguments)}function rn(_e){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,h.A)(function*(_e){let Ke;const Rt=yield Ne(_e.appConfig,mn=>{const xn=function hr(_e){return Zn(_e||{fid:qe(),registrationStatus:0})}(mn),Tn=function sr(_e,Ke){if(0===Ke.registrationStatus){if(!navigator.onLine)return{installationEntry:Ke,registrationPromise:Promise.reject(Ct.create("app-offline"))};const Rt={fid:Ke.fid,registrationStatus:1,registrationTime:Date.now()},mn=function kn(_e,Ke){return Jt.apply(this,arguments)}(_e,Rt);return{installationEntry:Rt,registrationPromise:mn}}return 1===Ke.registrationStatus?{installationEntry:Ke,registrationPromise:Ar(_e)}:{installationEntry:Ke}}(_e,xn);return Ke=Tn.registrationPromise,Tn.installationEntry});return Rt.fid===cn?{installationEntry:yield Ke}:{installationEntry:Rt,registrationPromise:Ke}}),Gn.apply(this,arguments)}function Jt(){return Jt=(0,h.A)(function*(_e,Ke){try{const Rt=yield function ft(_e,Ke){return ht.apply(this,arguments)}(_e,Ke);return Qt(_e.appConfig,Rt)}catch(Rt){throw mt(Rt)&&409===Rt.customData.serverCode?yield Hn(_e.appConfig):yield Qt(_e.appConfig,{fid:Ke.fid,registrationStatus:0}),Rt}}),Jt.apply(this,arguments)}function Ar(_e){return dr.apply(this,arguments)}function dr(){return(dr=(0,h.A)(function*(_e){let Ke=yield or(_e.appConfig);for(;1===Ke.registrationStatus;)yield tt(100),Ke=yield or(_e.appConfig);if(0===Ke.registrationStatus){const{installationEntry:Rt,registrationPromise:mn}=yield rn(_e);return mn||Rt}return Ke})).apply(this,arguments)}function or(_e){return Ne(_e,Ke=>{if(!Ke)throw Ct.create("installation-not-found");return Zn(Ke)})}function Zn(_e){return function Tr(_e){return 1===_e.registrationStatus&&_e.registrationTime+He<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function An(){return(An=(0,h.A)(function*({appConfig:_e,heartbeatServiceProvider:Ke},Rt){const mn=function ti(_e,{fid:Ke}){return`${lt(_e)}/${Ke}/authTokens:generate`}(_e,Rt),xn=function Le(_e,{refreshToken:Ke}){const Rt=Fe(_e);return Rt.append("Authorization",function he(_e){return`${xe} ${_e}`}(Ke)),Rt}(_e,Rt),Tn=Ke.getImmediate({optional:!0});if(Tn){const lr=yield Tn.getHeartbeatsHeader();lr&&xn.append("x-firebase-client",lr)}const Bi={method:"POST",headers:xn,body:JSON.stringify({installation:{sdkVersion:st,appId:_e.appId}})},Xi=yield ot(()=>fetch(mn,Bi));if(Xi.ok)return Nt(yield Xi.json());throw yield wt("Generate Auth Token",Xi)})).apply(this,arguments)}function Un(_e){return qn.apply(this,arguments)}function qn(){return qn=(0,h.A)(function*(_e,Ke=!1){let Rt;const mn=yield Ne(_e.appConfig,Tn=>{if(!wn(Tn))throw Ct.create("not-registered");const tr=Tn.authToken;if(!Ke&&function di(_e){return 2===_e.requestStatus&&!function Wt(_e){const Ke=Date.now();return Ke<_e.creationTime||_e.creationTime+_e.expiresIn<Ke+nt}(_e)}(tr))return Tn;if(1===tr.requestStatus)return Rt=function Xn(_e,Ke){return bi.apply(this,arguments)}(_e,Ke),Tn;{if(!navigator.onLine)throw Ct.create("app-offline");const Bi=function Tt(_e){const Ke={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:Ke})}(Tn);return Rt=function Ii(_e,Ke){return _r.apply(this,arguments)}(_e,Bi),Bi}});return Rt?yield Rt:mn.authToken}),qn.apply(this,arguments)}function bi(){return(bi=(0,h.A)(function*(_e,Ke){let Rt=yield rr(_e.appConfig);for(;1===Rt.authToken.requestStatus;)yield tt(100),Rt=yield rr(_e.appConfig);const mn=Rt.authToken;return 0===mn.requestStatus?Un(_e,Ke):mn})).apply(this,arguments)}function rr(_e){return Ne(_e,Ke=>{if(!wn(Ke))throw Ct.create("not-registered");return function yt(_e){return 1===_e.requestStatus&&_e.requestTime+He<Date.now()}(Ke.authToken)?Object.assign(Object.assign({},Ke),{authToken:{requestStatus:0}}):Ke})}function _r(){return _r=(0,h.A)(function*(_e,Ke){try{const Rt=yield function pi(_e,Ke){return An.apply(this,arguments)}(_e,Ke),mn=Object.assign(Object.assign({},Ke),{authToken:Rt});return yield Qt(_e.appConfig,mn),Rt}catch(Rt){if(!mt(Rt)||401!==Rt.customData.serverCode&&404!==Rt.customData.serverCode){const mn=Object.assign(Object.assign({},Ke),{authToken:{requestStatus:0}});yield Qt(_e.appConfig,mn)}else yield Hn(_e.appConfig);throw Rt}}),_r.apply(this,arguments)}function wn(_e){return void 0!==_e&&2===_e.registrationStatus}function oe(){return(oe=(0,h.A)(function*(_e){const Ke=_e,{installationEntry:Rt,registrationPromise:mn}=yield rn(Ke);return mn?mn.catch(console.error):Un(Ke).catch(console.error),Rt.fid})).apply(this,arguments)}function Q(){return Q=(0,h.A)(function*(_e,Ke=!1){const Rt=_e;return yield function le(_e){return Se.apply(this,arguments)}(Rt),(yield Un(Rt,Ke)).token}),Q.apply(this,arguments)}function Se(){return(Se=(0,h.A)(function*(_e){const{registrationPromise:Ke}=yield rn(_e);Ke&&(yield Ke)})).apply(this,arguments)}function ei(_e){return Ct.create("missing-app-config-values",{valueName:_e})}const Ki="installations",Ei=_e=>{const Ke=_e.getProvider("app").getImmediate(),Rt=function Jn(_e){if(!_e||!_e.options)throw ei("App Configuration");if(!_e.name)throw ei("App Name");const Ke=["projectId","apiKey","appId"];for(const Rt of Ke)if(!_e.options[Rt])throw ei(Rt);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(Ke);return{app:Ke,appConfig:Rt,heartbeatServiceProvider:(0,s._getProvider)(Ke,"heartbeat"),_delete:()=>Promise.resolve()}},xo=_e=>{const Ke=_e.getProvider("app").getImmediate(),Rt=(0,s._getProvider)(Ke,Ki).getImmediate();return{getId:()=>function Te(_e){return oe.apply(this,arguments)}(Rt),getToken:xn=>function W(_e){return Q.apply(this,arguments)}(Rt,xn)}};(function Ui(){(0,s._registerComponent)(new V.uA(Ki,Ei,"PUBLIC")),(0,s._registerComponent)(new V.uA("installations-internal",xo,"PRIVATE"))})(),(0,s.registerVersion)(Ae,Oe),(0,s.registerVersion)(Ae,Oe,"esm2017");const Do="/firebase-messaging-sw.js",Go="/firebase-cloud-messaging-push-scope",po="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ye="https://fcmregistrations.googleapis.com/v1",we="google.c.a.c_id",bt="google.c.a.c_l",ge="google.c.a.ts";var Kt=function(_e){return _e.PUSH_RECEIVED="push-received",_e.NOTIFICATION_CLICKED="notification-clicked",_e}(Kt||{});function gn(_e){const Ke=new Uint8Array(_e);return btoa(String.fromCharCode(...Ke)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dn(_e){const Rt=(_e+"=".repeat((4-_e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),mn=atob(Rt),xn=new Uint8Array(mn.length);for(let Tn=0;Tn<mn.length;++Tn)xn[Tn]=mn.charCodeAt(Tn);return xn}const Wn="fcm_token_details_db",Mr=5,wi="fcm_token_object_Store";function fr(){return fr=(0,h.A)(function*(_e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tn=>Tn.name).includes(Wn))return null;let Ke=null;return(yield(0,z.P2)(Wn,Mr,{upgrade:(mn=(0,h.A)(function*(xn,Tn,tr,Bi){var Xi;if(Tn<2||!xn.objectStoreNames.contains(wi))return;const lr=Bi.objectStore(wi),rs=yield lr.index("fcmSenderId").get(_e);if(yield lr.clear(),rs)if(2===Tn){const Fr=rs;if(!Fr.auth||!Fr.p256dh||!Fr.endpoint)return;Ke={token:Fr.fcmToken,createTime:null!==(Xi=Fr.createTime)&&void 0!==Xi?Xi:Date.now(),subscriptionOptions:{auth:Fr.auth,p256dh:Fr.p256dh,endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:"string"==typeof Fr.vapidKey?Fr.vapidKey:gn(Fr.vapidKey)}}}else if(3===Tn){const Fr=rs;Ke={token:Fr.fcmToken,createTime:Fr.createTime,subscriptionOptions:{auth:gn(Fr.auth),p256dh:gn(Fr.p256dh),endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:gn(Fr.vapidKey)}}}else if(4===Tn){const Fr=rs;Ke={token:Fr.fcmToken,createTime:Fr.createTime,subscriptionOptions:{auth:gn(Fr.auth),p256dh:gn(Fr.p256dh),endpoint:Fr.endpoint,swScope:Fr.swScope,vapidKey:gn(Fr.vapidKey)}}}}),function(Tn,tr,Bi,Xi){return mn.apply(this,arguments)})})).close(),yield(0,z.MR)(Wn),yield(0,z.MR)("fcm_vapid_details_db"),yield(0,z.MR)("undefined"),function Mi(_e){if(!_e||!_e.subscriptionOptions)return!1;const{subscriptionOptions:Ke}=_e;return"number"==typeof _e.createTime&&_e.createTime>0&&"string"==typeof _e.token&&_e.token.length>0&&"string"==typeof Ke.auth&&Ke.auth.length>0&&"string"==typeof Ke.p256dh&&Ke.p256dh.length>0&&"string"==typeof Ke.endpoint&&Ke.endpoint.length>0&&"string"==typeof Ke.swScope&&Ke.swScope.length>0&&"string"==typeof Ke.vapidKey&&Ke.vapidKey.length>0}(Ke)?Ke:null;var mn}),fr.apply(this,arguments)}const Zi="firebase-messaging-database",oo=1,ri="firebase-messaging-store";let eo=null;function Qi(){return eo||(eo=(0,z.P2)(Zi,oo,{upgrade:(_e,Ke)=>{0===Ke&&_e.createObjectStore(ri)}})),eo}function to(_e){return go.apply(this,arguments)}function go(){return go=(0,h.A)(function*(_e){const Ke=Zo(_e),mn=yield(yield Qi()).transaction(ri).objectStore(ri).get(Ke);if(mn)return mn;{const xn=yield function ji(_e){return fr.apply(this,arguments)}(_e.appConfig.senderId);if(xn)return yield Jo(_e,xn),xn}}),go.apply(this,arguments)}function Jo(_e,Ke){return So.apply(this,arguments)}function So(){return(So=(0,h.A)(function*(_e,Ke){const Rt=Zo(_e),xn=(yield Qi()).transaction(ri,"readwrite");return yield xn.objectStore(ri).put(Ke,Rt),yield xn.done,Ke})).apply(this,arguments)}function gs(){return(gs=(0,h.A)(function*(_e){const Ke=Zo(_e),mn=(yield Qi()).transaction(ri,"readwrite");yield mn.objectStore(ri).delete(Ke),yield mn.done})).apply(this,arguments)}function Zo({appConfig:_e}){return _e.appId}const ii=new Ee.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Cs(_e,Ke){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,h.A)(function*(_e,Ke){const Rt=yield As(_e),mn=Vo(Ke),xn={method:"POST",headers:Rt,body:JSON.stringify(mn)};let Tn;try{Tn=yield(yield fetch(gi(_e.appConfig),xn)).json()}catch(tr){throw ii.create("token-subscribe-failed",{errorInfo:null==tr?void 0:tr.toString()})}if(Tn.error)throw ii.create("token-subscribe-failed",{errorInfo:Tn.error.message});if(!Tn.token)throw ii.create("token-subscribe-no-token");return Tn.token})).apply(this,arguments)}function Hs(){return(Hs=(0,h.A)(function*(_e,Ke){const Rt=yield As(_e),mn=Vo(Ke.subscriptionOptions),xn={method:"PATCH",headers:Rt,body:JSON.stringify(mn)};let Tn;try{Tn=yield(yield fetch(`${gi(_e.appConfig)}/${Ke.token}`,xn)).json()}catch(tr){throw ii.create("token-update-failed",{errorInfo:null==tr?void 0:tr.toString()})}if(Tn.error)throw ii.create("token-update-failed",{errorInfo:Tn.error.message});if(!Tn.token)throw ii.create("token-update-no-token");return Tn.token})).apply(this,arguments)}function Gs(_e,Ke){return Io.apply(this,arguments)}function Io(){return(Io=(0,h.A)(function*(_e,Ke){const mn={method:"DELETE",headers:yield As(_e)};try{const Tn=yield(yield fetch(`${gi(_e.appConfig)}/${Ke}`,mn)).json();if(Tn.error)throw ii.create("token-unsubscribe-failed",{errorInfo:Tn.error.message})}catch(xn){throw ii.create("token-unsubscribe-failed",{errorInfo:null==xn?void 0:xn.toString()})}})).apply(this,arguments)}function gi({projectId:_e}){return`${Ye}/projects/${_e}/registrations`}function As(_e){return es.apply(this,arguments)}function es(){return(es=(0,h.A)(function*({appConfig:_e,installations:Ke}){const Rt=yield Ke.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e.apiKey,"x-goog-firebase-installations-auth":`FIS ${Rt}`})})).apply(this,arguments)}function Vo({p256dh:_e,auth:Ke,endpoint:Rt,vapidKey:mn}){const xn={web:{endpoint:Rt,auth:Ke,p256dh:_e}};return mn!==po&&(xn.web.applicationPubKey=mn),xn}const ta=6048e5;function ts(){return ts=(0,h.A)(function*(_e){const Ke=yield function Re(_e,Ke){return It.apply(this,arguments)}(_e.swRegistration,_e.vapidKey),Rt={vapidKey:_e.vapidKey,swScope:_e.swRegistration.scope,endpoint:Ke.endpoint,auth:gn(Ke.getKey("auth")),p256dh:gn(Ke.getKey("p256dh"))},mn=yield to(_e.firebaseDependencies);if(mn){if(function Kr(_e,Ke){return Ke.vapidKey===_e.vapidKey&&Ke.endpoint===_e.endpoint&&Ke.auth===_e.auth&&Ke.p256dh===_e.p256dh}(mn.subscriptionOptions,Rt))return Date.now()>=mn.createTime+ta?function O(_e,Ke){return te.apply(this,arguments)}(_e,{token:mn.token,createTime:Date.now(),subscriptionOptions:Rt}):mn.token;try{yield Gs(_e.firebaseDependencies,mn.token)}catch(xn){console.warn(xn)}return me(_e.firebaseDependencies,Rt)}return me(_e.firebaseDependencies,Rt)}),ts.apply(this,arguments)}function Wr(){return Wr=(0,h.A)(function*(_e){const Ke=yield to(_e.firebaseDependencies);Ke&&(yield Gs(_e.firebaseDependencies,Ke.token),yield function Ss(_e){return gs.apply(this,arguments)}(_e.firebaseDependencies));const Rt=yield _e.swRegistration.pushManager.getSubscription();return!Rt||Rt.unsubscribe()}),Wr.apply(this,arguments)}function te(){return te=(0,h.A)(function*(_e,Ke){try{const Rt=yield function Rs(_e,Ke){return Hs.apply(this,arguments)}(_e.firebaseDependencies,Ke),mn=Object.assign(Object.assign({},Ke),{token:Rt,createTime:Date.now()});return yield Jo(_e.firebaseDependencies,mn),Rt}catch(Rt){throw Rt}}),te.apply(this,arguments)}function me(_e,Ke){return L.apply(this,arguments)}function L(){return(L=(0,h.A)(function*(_e,Ke){const mn={token:yield Cs(_e,Ke),createTime:Date.now(),subscriptionOptions:Ke};return yield Jo(_e,mn),mn.token})).apply(this,arguments)}function It(){return(It=(0,h.A)(function*(_e,Ke){return(yield _e.pushManager.getSubscription())||_e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dn(Ke)})})).apply(this,arguments)}function X(_e){const Ke={from:_e.from,collapseKey:_e.collapse_key,messageId:_e.fcmMessageId};return function ae(_e,Ke){if(!Ke.notification)return;_e.notification={};const Rt=Ke.notification.title;Rt&&(_e.notification.title=Rt);const mn=Ke.notification.body;mn&&(_e.notification.body=mn);const xn=Ke.notification.image;xn&&(_e.notification.image=xn);const Tn=Ke.notification.icon;Tn&&(_e.notification.icon=Tn)}(Ke,_e),function Ge(_e,Ke){Ke.data&&(_e.data=Ke.data)}(Ke,_e),function Ze(_e,Ke){var Rt,mn,xn,Tn,tr;if(!(Ke.fcmOptions||null!==(Rt=Ke.notification)&&void 0!==Rt&&Rt.click_action))return;_e.fcmOptions={};const Bi=null!==(xn=null===(mn=Ke.fcmOptions)||void 0===mn?void 0:mn.link)&&void 0!==xn?xn:null===(Tn=Ke.notification)||void 0===Tn?void 0:Tn.click_action;Bi&&(_e.fcmOptions.link=Bi);const Xi=null===(tr=Ke.fcmOptions)||void 0===tr?void 0:tr.analytics_label;Xi&&(_e.fcmOptions.analyticsLabel=Xi)}(Ke,_e),Ke}function pt(_e,Ke){const Rt=[];for(let mn=0;mn<_e.length;mn++)Rt.push(_e.charAt(mn)),mn<Ke.length&&Rt.push(Ke.charAt(mn));return Rt.join("")}function an(_e){return ii.create("missing-app-config-values",{valueName:_e})}pt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class nn{constructor(Ke,Rt,mn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xn=function sn(_e){if(!_e||!_e.options)throw an("App Configuration Object");if(!_e.name)throw an("App Name");const Ke=["projectId","apiKey","appId","messagingSenderId"],{options:Rt}=_e;for(const mn of Ke)if(!Rt[mn])throw an(mn);return{appName:_e.name,projectId:Rt.projectId,apiKey:Rt.apiKey,appId:Rt.appId,senderId:Rt.messagingSenderId}}(Ke);this.firebaseDependencies={app:Ke,appConfig:xn,installations:Rt,analyticsProvider:mn}}_delete(){return Promise.resolve()}}function dn(_e){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.A)(function*(_e){try{_e.swRegistration=yield navigator.serviceWorker.register(Do,{scope:Go}),_e.swRegistration.update().catch(()=>{})}catch(Ke){throw ii.create("failed-service-worker-registration",{browserErrorMessage:null==Ke?void 0:Ke.message})}})).apply(this,arguments)}function Yn(){return(Yn=(0,h.A)(function*(_e,Ke){if(!Ke&&!_e.swRegistration&&(yield dn(_e)),Ke||!_e.swRegistration){if(!(Ke instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");_e.swRegistration=Ke}})).apply(this,arguments)}function Ur(){return(Ur=(0,h.A)(function*(_e,Ke){Ke?_e.vapidKey=Ke:_e.vapidKey||(_e.vapidKey=po)})).apply(this,arguments)}function Oi(_e,Ke){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,h.A)(function*(_e,Ke){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield function ar(_e,Ke){return Ur.apply(this,arguments)}(_e,null==Ke?void 0:Ke.vapidKey),yield function Bn(_e,Ke){return Yn.apply(this,arguments)}(_e,null==Ke?void 0:Ke.serviceWorkerRegistration),function br(_e){return ts.apply(this,arguments)}(_e)}),Xr.apply(this,arguments)}function qr(){return(qr=(0,h.A)(function*(_e,Ke,Rt){const mn=function ns(_e){switch(_e){case Kt.NOTIFICATION_CLICKED:return"notification_open";case Kt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Ke);(yield _e.firebaseDependencies.analyticsProvider.get()).logEvent(mn,{message_id:Rt[we],message_name:Rt[bt],message_time:Rt[ge],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zn(){return zn=(0,h.A)(function*(_e,Ke){const Rt=Ke.data;if(!Rt.isFirebaseMessaging)return;_e.onMessageHandler&&Rt.messageType===Kt.PUSH_RECEIVED&&("function"==typeof _e.onMessageHandler?_e.onMessageHandler(X(Rt)):_e.onMessageHandler.next(X(Rt)));const mn=Rt.data;(function gt(_e){return"object"==typeof _e&&!!_e&&we in _e})(mn)&&"1"===mn["google.c.a.e"]&&(yield function mi(_e,Ke,Rt){return qr.apply(this,arguments)}(_e,Rt.messageType,mn))}),zn.apply(this,arguments)}const Gi="@firebase/messaging",Uo="0.12.10",Ms=_e=>{const Ke=new nn(_e.getProvider("app").getImmediate(),_e.getProvider("installations-internal").getImmediate(),_e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Rt=>function mo(_e,Ke){return zn.apply(this,arguments)}(Ke,Rt)),Ke},Bo=_e=>{const Ke=_e.getProvider("messaging").getImmediate();return{getToken:mn=>Oi(Ke,mn)}};function _i(){return no.apply(this,arguments)}function no(){return(no=(0,h.A)(function*(){try{yield(0,Ee.eX)()}catch{return!1}return typeof window<"u"&&(0,Ee.zW)()&&(0,Ee.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function $o(){return $o=(0,h.A)(function*(_e){if(!navigator)throw ii.create("only-available-in-window");return _e.swRegistration||(yield dn(_e)),function Hi(_e){return Wr.apply(this,arguments)}(_e)}),$o.apply(this,arguments)}function xa(_e=(0,s.getApp)()){return _i().then(Ke=>{if(!Ke)throw ii.create("unsupported-browser")},Ke=>{throw ii.create("indexed-db-unsupported")}),(0,s._getProvider)((0,Ee.Ku)(_e),"messaging").getImmediate()}function uo(_e,Ke){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.A)(function*(_e,Ke){return Oi(_e=(0,Ee.Ku)(_e),Ke)})).apply(this,arguments)}function oi(_e){return function zo(_e){return $o.apply(this,arguments)}(_e=(0,Ee.Ku)(_e))}function Di(_e,Ke){return function Ts(_e,Ke){if(!navigator)throw ii.create("only-available-in-window");return _e.onMessageHandler=Ke,()=>{_e.onMessageHandler=null}}(_e=(0,Ee.Ku)(_e),Ke)}!function ms(){(0,s._registerComponent)(new V.uA("messaging",Ms,"PUBLIC")),(0,s._registerComponent)(new V.uA("messaging-internal",Bo,"PRIVATE")),(0,s.registerVersion)(Gi,Uo),(0,s.registerVersion)(Gi,Uo,"esm2017")}()},6749:(Mn,St,x)=>{"use strict";x.d(St,{MR:()=>Me,P2:()=>wt});var h=x(467);const s=(it,he)=>he.some(ft=>it instanceof ft);let V,Ee;const Oe=new WeakMap,He=new WeakMap,st=new WeakMap,xe=new WeakMap,Ie=new WeakMap;let Je={get(it,he,ft){if(it instanceof IDBTransaction){if("done"===he)return He.get(it);if("objectStoreNames"===he)return it.objectStoreNames||st.get(it);if("store"===he)return ft.objectStoreNames[1]?void 0:ft.objectStore(ft.objectStoreNames[0])}return lt(it[he])},set:(it,he,ft)=>(it[he]=ft,!0),has:(it,he)=>it instanceof IDBTransaction&&("done"===he||"store"===he)||he in it};function mt(it){return"function"==typeof it?function Ct(it){return it!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ae(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(it)?function(...he){return it.apply(Nt(this),he),lt(Oe.get(this))}:function(...he){return lt(it.apply(Nt(this),he))}:function(he,...ft){const ht=it.call(Nt(this),he,...ft);return st.set(ht,he.sort?he.sort():[he]),lt(ht)}}(it):(it instanceof IDBTransaction&&function Qe(it){if(He.has(it))return;const he=new Promise((ft,ht)=>{const tt=()=>{it.removeEventListener("complete",Ft),it.removeEventListener("error",Vt),it.removeEventListener("abort",Vt)},Ft=()=>{ft(),tt()},Vt=()=>{ht(it.error||new DOMException("AbortError","AbortError")),tt()};it.addEventListener("complete",Ft),it.addEventListener("error",Vt),it.addEventListener("abort",Vt)});He.set(it,he)}(it),s(it,function z(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(it,Je):it)}function lt(it){if(it instanceof IDBRequest)return function nt(it){const he=new Promise((ft,ht)=>{const tt=()=>{it.removeEventListener("success",Ft),it.removeEventListener("error",Vt)},Ft=()=>{ft(lt(it.result)),tt()},Vt=()=>{ht(it.error),tt()};it.addEventListener("success",Ft),it.addEventListener("error",Vt)});return he.then(ft=>{ft instanceof IDBCursor&&Oe.set(ft,it)}).catch(()=>{}),Ie.set(he,it),he}(it);if(xe.has(it))return xe.get(it);const he=mt(it);return he!==it&&(xe.set(it,he),Ie.set(he,it)),he}const Nt=it=>Ie.get(it);function wt(it,he,{blocked:ft,upgrade:ht,blocking:tt,terminated:Ft}={}){const Vt=indexedDB.open(it,he),cn=lt(Vt);return ht&&Vt.addEventListener("upgradeneeded",qe=>{ht(lt(Vt.result),qe.oldVersion,qe.newVersion,lt(Vt.transaction),qe)}),ft&&Vt.addEventListener("blocked",qe=>ft(qe.oldVersion,qe.newVersion,qe)),cn.then(qe=>{Ft&&qe.addEventListener("close",()=>Ft()),tt&&qe.addEventListener("versionchange",De=>tt(De.oldVersion,De.newVersion,De))}).catch(()=>{}),cn}function Me(it,{blocked:he}={}){const ft=indexedDB.deleteDatabase(it);return he&&ft.addEventListener("blocked",ht=>he(ht.oldVersion,ht)),lt(ft).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],Le=["put","add","delete","clear"],ot=new Map;function ut(it,he){if(!(it instanceof IDBDatabase)||he in it||"string"!=typeof he)return;if(ot.get(he))return ot.get(he);const ft=he.replace(/FromIndex$/,""),ht=he!==ft,tt=Le.includes(ft);if(!(ft in(ht?IDBIndex:IDBObjectStore).prototype)||!tt&&!Fe.includes(ft))return;const Ft=function(){var Vt=(0,h.A)(function*(cn,...qe){const De=this.transaction(cn,tt?"readwrite":"readonly");let Y=De.store;return ht&&(Y=Y.index(qe.shift())),(yield Promise.all([Y[ft](...qe),tt&&De.done]))[0]});return function(qe){return Vt.apply(this,arguments)}}();return ot.set(he,Ft),Ft}!function ct(it){Je=it(Je)}(it=>({...it,get:(he,ft,ht)=>ut(he,ft)||it.get(he,ft,ht),has:(he,ft)=>!!ut(he,ft)||it.has(he,ft)}))},467:(Mn,St,x)=>{"use strict";function h(V,Ee,z,Ae,Oe,He,st){try{var xe=V[He](st),Ie=xe.value}catch(nt){return void z(nt)}xe.done?Ee(Ie):Promise.resolve(Ie).then(Ae,Oe)}function s(V){return function(){var Ee=this,z=arguments;return new Promise(function(Ae,Oe){var He=V.apply(Ee,z);function st(Ie){h(He,Ae,Oe,st,xe,"next",Ie)}function xe(Ie){h(He,Ae,Oe,st,xe,"throw",Ie)}st(void 0)})}}x.d(St,{A:()=>s})},9842:(Mn,St,x)=>{"use strict";function h(z){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ae){return typeof Ae}:function(Ae){return Ae&&"function"==typeof Symbol&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae})(z)}function Ee(z,Ae,Oe){return(Ae=function V(z){var Ae=function s(z,Ae){if("object"!=h(z)||!z)return z;var Oe=z[Symbol.toPrimitive];if(void 0!==Oe){var He=Oe.call(z,Ae||"default");if("object"!=h(He))return He;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ae?String:Number)(z)}(z,"string");return"symbol"==h(Ae)?Ae:Ae+""}(Ae))in z?Object.defineProperty(z,Ae,{value:Oe,enumerable:!0,configurable:!0,writable:!0}):z[Ae]=Oe,z}x.d(St,{A:()=>Ee})},1635:(Mn,St,x)=>{"use strict";function Ee(Y,ie){var se={};for(var Ue in Y)Object.prototype.hasOwnProperty.call(Y,Ue)&&ie.indexOf(Ue)<0&&(se[Ue]=Y[Ue]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(Ue=Object.getOwnPropertySymbols(Y);et<Ue.length;et++)ie.indexOf(Ue[et])<0&&Object.prototype.propertyIsEnumerable.call(Y,Ue[et])&&(se[Ue[et]]=Y[Ue[et]])}return se}function z(Y,ie,se,Ue){var ze,et=arguments.length,Et=et<3?ie:null===Ue?Ue=Object.getOwnPropertyDescriptor(ie,se):Ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Et=Reflect.decorate(Y,ie,se,Ue);else for(var Bt=Y.length-1;Bt>=0;Bt--)(ze=Y[Bt])&&(Et=(et<3?ze(Et):et>3?ze(ie,se,Et):ze(ie,se))||Et);return et>3&&Et&&Object.defineProperty(ie,se,Et),Et}function nt(Y,ie,se,Ue){return new(se||(se=Promise))(function(Et,ze){function Bt(Rn){try{xt(Ue.next(Rn))}catch(Pt){ze(Pt)}}function In(Rn){try{xt(Ue.throw(Rn))}catch(Pt){ze(Pt)}}function xt(Rn){Rn.done?Et(Rn.value):function et(Et){return Et instanceof se?Et:new se(function(ze){ze(Et)})}(Rn.value).then(Bt,In)}xt((Ue=Ue.apply(Y,ie||[])).next())})}function Me(Y){return this instanceof Me?(this.v=Y,this):new Me(Y)}function Fe(Y,ie,se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et,Ue=se.apply(Y,ie||[]),Et=[];return et=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Bt("next"),Bt("throw"),Bt("return",function ze(Sn){return function(Ln){return Promise.resolve(Ln).then(Sn,Pt)}}),et[Symbol.asyncIterator]=function(){return this},et;function Bt(Sn,Ln){Ue[Sn]&&(et[Sn]=function(Qt){return new Promise(function(Yt,Hn){Et.push([Sn,Qt,Yt,Hn])>1||In(Sn,Qt)})},Ln&&(et[Sn]=Ln(et[Sn])))}function In(Sn,Ln){try{!function xt(Sn){Sn.value instanceof Me?Promise.resolve(Sn.value.v).then(Rn,Pt):Pn(Et[0][2],Sn)}(Ue[Sn](Ln))}catch(Qt){Pn(Et[0][3],Qt)}}function Rn(Sn){In("next",Sn)}function Pt(Sn){In("throw",Sn)}function Pn(Sn,Ln){Sn(Ln),Et.shift(),Et.length&&In(Et[0][0],Et[0][1])}}function ot(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,ie=Y[Symbol.asyncIterator];return ie?ie.call(Y):(Y=function Ct(Y){var ie="function"==typeof Symbol&&Symbol.iterator,se=ie&&Y[ie],Ue=0;if(se)return se.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&Ue>=Y.length&&(Y=void 0),{value:Y&&Y[Ue++],done:!Y}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),se={},Ue("next"),Ue("throw"),Ue("return"),se[Symbol.asyncIterator]=function(){return this},se);function Ue(Et){se[Et]=Y[Et]&&function(ze){return new Promise(function(Bt,In){!function et(Et,ze,Bt,In){Promise.resolve(In).then(function(xt){Et({value:xt,done:Bt})},ze)}(Bt,In,(ze=Y[Et](ze)).done,ze.value)})}}}x.d(St,{AQ:()=>Fe,Cg:()=>z,N3:()=>Me,Tt:()=>Ee,sH:()=>nt,xN:()=>ot}),"function"==typeof SuppressedError&&SuppressedError}},Mn=>{Mn(Mn.s=3381)}]);