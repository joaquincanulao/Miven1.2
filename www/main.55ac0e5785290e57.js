(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(kn,Mt,V)=>{"use strict";V.d(Mt,{E_:()=>vt,F3:()=>et,I9:()=>ft,Ii:()=>at});var d=V(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Ge=function(mt){return mt.Unimplemented="UNIMPLEMENTED",mt.Unavailable="UNAVAILABLE",mt}(Ge||{});class ft extends Error{constructor(Ze,Lt,Vt){super(Ze),this.message=Ze,this.code=Lt,this.data=Vt}}const Me=mt=>{var Ze,Lt,Vt,pn,We;const De=mt.CapacitorCustomPlatform||null,_e=mt.Capacitor||{},Se=_e.Plugins=_e.Plugins||{},se=mt.CapacitorPlatforms,Ke=(null===(Ze=null==se?void 0:se.currentPlatform)||void 0===Ze?void 0:Ze.getPlatform)||(()=>null!==De?De.name:(mt=>{var Ze,Lt;return null!=mt&&mt.androidBridge?"android":null!==(Lt=null===(Ze=null==mt?void 0:mt.webkit)||void 0===Ze?void 0:Ze.messageHandlers)&&void 0!==Lt&&Lt.bridge?"ios":"web"})(mt)),He=(null===(Lt=null==se?void 0:se.currentPlatform)||void 0===Lt?void 0:Lt.isNativePlatform)||(()=>"web"!==Ke()),yt=(null===(Vt=null==se?void 0:se.currentPlatform)||void 0===Vt?void 0:Vt.isPluginAvailable)||(zt=>{const Un=Ln.get(zt);return!!(null!=Un&&Un.platforms.has(Ke())||Fn(zt))}),Fn=(null===(pn=null==se?void 0:se.currentPlatform)||void 0===pn?void 0:pn.getPluginHeader)||(zt=>{var Un;return null===(Un=_e.PluginHeaders)||void 0===Un?void 0:Un.find(sn=>sn.name===zt)}),Ln=new Map,en=(null===(We=null==se?void 0:se.currentPlatform)||void 0===We?void 0:We.registerPlugin)||((zt,Un={})=>{const sn=Ln.get(zt);if(sn)return console.warn(`Capacitor plugin "${zt}" already registered. Cannot register plugins twice.`),sn.proxy;const Fe=Ke(),Le=Fn(zt);let Ut;const Ft=function(){var Qn=(0,d.A)(function*(){return!Ut&&Fe in Un?Ut=Ut="function"==typeof Un[Fe]?yield Un[Fe]():Un[Fe]:null!==De&&!Ut&&"web"in Un&&(Ut=Ut="function"==typeof Un.web?yield Un.web():Un.web),Ut});return function(){return Qn.apply(this,arguments)}}(),or=Qn=>{let nr;const fr=(...Vr)=>{const wn=Ft().then(Ar=>{const $n=((Qn,nr)=>{var fr,Vr;if(!Le){if(Qn)return null===(Vr=Qn[nr])||void 0===Vr?void 0:Vr.bind(Qn);throw new ft(`"${zt}" plugin is not implemented on ${Fe}`,Ge.Unimplemented)}{const wn=null==Le?void 0:Le.methods.find(Ar=>nr===Ar.name);if(wn)return"promise"===wn.rtype?Ar=>_e.nativePromise(zt,nr.toString(),Ar):(Ar,$n)=>_e.nativeCallback(zt,nr.toString(),Ar,$n);if(Qn)return null===(fr=Qn[nr])||void 0===fr?void 0:fr.bind(Qn)}})(Ar,Qn);if($n){const Ir=$n(...Vr);return nr=null==Ir?void 0:Ir.remove,Ir}throw new ft(`"${zt}.${Qn}()" is not implemented on ${Fe}`,Ge.Unimplemented)});return"addListener"===Qn&&(wn.remove=(0,d.A)(function*(){return nr()})),wn};return fr.toString=()=>`${Qn.toString()}() { [capacitor code] }`,Object.defineProperty(fr,"name",{value:Qn,writable:!1,configurable:!1}),fr},Hn=or("addListener"),Mn=or("removeListener"),yr=(Qn,nr)=>{const fr=Hn({eventName:Qn},nr),Vr=function(){var Ar=(0,d.A)(function*(){const $n=yield fr;Mn({eventName:Qn,callbackId:$n},nr)});return function(){return Ar.apply(this,arguments)}}(),wn=new Promise(Ar=>fr.then(()=>Ar({remove:Vr})));return wn.remove=(0,d.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Vr()}),wn},ar=new Proxy({},{get(Qn,nr){switch(nr){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Le?yr:Hn;case"removeListener":return Mn;default:return or(nr)}}});return Se[zt]=ar,Ln.set(zt,{name:zt,proxy:ar,platforms:new Set([...Object.keys(Un),...Le?[Fe]:[]])}),ar});return _e.convertFileSrc||(_e.convertFileSrc=zt=>zt),_e.getPlatform=Ke,_e.handleError=zt=>mt.console.error(zt),_e.isNativePlatform=He,_e.isPluginAvailable=yt,_e.pluginMethodNoop=(zt,Un,sn)=>Promise.reject(`${sn} does not have an implementation of "${Un}".`),_e.registerPlugin=en,_e.Exception=ft,_e.DEBUG=!!_e.DEBUG,_e.isLoggingEnabled=!!_e.isLoggingEnabled,_e.platform=_e.getPlatform(),_e.isNative=_e.isNativePlatform(),_e},at=(mt=>mt.Capacitor=Me(mt))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),et=at.registerPlugin;class vt{constructor(Ze){this.listeners={},this.retainedEventArguments={},this.windowListeners={},Ze&&(console.warn(`Capacitor WebPlugin "${Ze.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ze)}addListener(Ze,Lt){var Vt=this;let pn=!1;this.listeners[Ze]||(this.listeners[Ze]=[],pn=!0),this.listeners[Ze].push(Lt);const De=this.windowListeners[Ze];De&&!De.registered&&this.addWindowListener(De),pn&&this.sendRetainedArgumentsForEvent(Ze);const _e=function(){var se=(0,d.A)(function*(){return Vt.removeListener(Ze,Lt)});return function(){return se.apply(this,arguments)}}();return Promise.resolve({remove:_e})}removeAllListeners(){var Ze=this;return(0,d.A)(function*(){Ze.listeners={};for(const Lt in Ze.windowListeners)Ze.removeWindowListener(Ze.windowListeners[Lt]);Ze.windowListeners={}})()}notifyListeners(Ze,Lt,Vt){const pn=this.listeners[Ze];if(pn)pn.forEach(We=>We(Lt));else if(Vt){let We=this.retainedEventArguments[Ze];We||(We=[]),We.push(Lt),this.retainedEventArguments[Ze]=We}}hasListeners(Ze){return!!this.listeners[Ze].length}registerWindowListener(Ze,Lt){this.windowListeners[Lt]={registered:!1,windowEventName:Ze,pluginEventName:Lt,handler:Vt=>{this.notifyListeners(Lt,Vt)}}}unimplemented(Ze="not implemented"){return new at.Exception(Ze,Ge.Unimplemented)}unavailable(Ze="not available"){return new at.Exception(Ze,Ge.Unavailable)}removeListener(Ze,Lt){var Vt=this;return(0,d.A)(function*(){const pn=Vt.listeners[Ze];if(!pn)return;const We=pn.indexOf(Lt);Vt.listeners[Ze].splice(We,1),Vt.listeners[Ze].length||Vt.removeWindowListener(Vt.windowListeners[Ze])})()}addWindowListener(Ze){window.addEventListener(Ze.windowEventName,Ze.handler),Ze.registered=!0}removeWindowListener(Ze){Ze&&(window.removeEventListener(Ze.windowEventName,Ze.handler),Ze.registered=!1)}sendRetainedArgumentsForEvent(Ze){const Lt=this.retainedEventArguments[Ze];Lt&&(delete this.retainedEventArguments[Ze],Lt.forEach(Vt=>{this.notifyListeners(Ze,Vt)}))}}const Ot=mt=>encodeURIComponent(mt).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),St=mt=>mt.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class we extends vt{getCookies(){return(0,d.A)(function*(){const Ze=document.cookie,Lt={};return Ze.split(";").forEach(Vt=>{if(Vt.length<=0)return;let[pn,We]=Vt.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");pn=St(pn).trim(),We=St(We).trim(),Lt[pn]=We}),Lt})()}setCookie(Ze){return(0,d.A)(function*(){try{const Lt=Ot(Ze.key),Vt=Ot(Ze.value),pn=`; expires=${(Ze.expires||"").replace("expires=","")}`,We=(Ze.path||"/").replace("path=",""),De=null!=Ze.url&&Ze.url.length>0?`domain=${Ze.url}`:"";document.cookie=`${Lt}=${Vt||""}${pn}; path=${We}; ${De};`}catch(Lt){return Promise.reject(Lt)}})()}deleteCookie(Ze){return(0,d.A)(function*(){try{document.cookie=`${Ze.key}=; Max-Age=0`}catch(Lt){return Promise.reject(Lt)}})()}clearCookies(){return(0,d.A)(function*(){try{const Ze=document.cookie.split(";")||[];for(const Lt of Ze)document.cookie=Lt.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ze){return Promise.reject(Ze)}})()}clearAllCookies(){var Ze=this;return(0,d.A)(function*(){try{yield Ze.clearCookies()}catch(Lt){return Promise.reject(Lt)}})()}}et("CapacitorCookies",{web:()=>new we});const Ne=function(){var mt=(0,d.A)(function*(Ze){return new Promise((Lt,Vt)=>{const pn=new FileReader;pn.onload=()=>{const We=pn.result;Lt(We.indexOf(",")>=0?We.split(",")[1]:We)},pn.onerror=We=>Vt(We),pn.readAsDataURL(Ze)})});return function(Lt){return mt.apply(this,arguments)}}();class fe extends vt{request(Ze){return(0,d.A)(function*(){const Lt=((mt,Ze={})=>{const Lt=Object.assign({method:mt.method||"GET",headers:mt.headers},Ze),pn=((mt={})=>{const Ze=Object.keys(mt);return Object.keys(mt).map(pn=>pn.toLocaleLowerCase()).reduce((pn,We,De)=>(pn[We]=mt[Ze[De]],pn),{})})(mt.headers)["content-type"]||"";if("string"==typeof mt.data)Lt.body=mt.data;else if(pn.includes("application/x-www-form-urlencoded")){const We=new URLSearchParams;for(const[De,_e]of Object.entries(mt.data||{}))We.set(De,_e);Lt.body=We.toString()}else if(pn.includes("multipart/form-data")||mt.data instanceof FormData){const We=new FormData;if(mt.data instanceof FormData)mt.data.forEach((_e,Se)=>{We.append(Se,_e)});else for(const _e of Object.keys(mt.data))We.append(_e,mt.data[_e]);Lt.body=We;const De=new Headers(Lt.headers);De.delete("content-type"),Lt.headers=De}else(pn.includes("application/json")||"object"==typeof mt.data)&&(Lt.body=JSON.stringify(mt.data));return Lt})(Ze,Ze.webFetchExtra),Vt=((mt,Ze=!0)=>mt?Object.entries(mt).reduce((Vt,pn)=>{const[We,De]=pn;let _e,Se;return Array.isArray(De)?(Se="",De.forEach(se=>{_e=Ze?encodeURIComponent(se):se,Se+=`${We}=${_e}&`}),Se.slice(0,-1)):(_e=Ze?encodeURIComponent(De):De,Se=`${We}=${_e}`),`${Vt}&${Se}`},"").substr(1):null)(Ze.params,Ze.shouldEncodeUrlParams),pn=Vt?`${Ze.url}?${Vt}`:Ze.url,We=yield fetch(pn,Lt),De=We.headers.get("content-type")||"";let Se,se,{responseType:_e="text"}=We.ok?Ze:{};switch(De.includes("application/json")&&(_e="json"),_e){case"arraybuffer":case"blob":se=yield We.blob(),Se=yield Ne(se);break;case"json":Se=yield We.json();break;default:Se=yield We.text()}const Oe={};return We.headers.forEach((Ke,tt)=>{Oe[tt]=Ke}),{data:Se,headers:Oe,status:We.status,url:We.url}})()}get(Ze){var Lt=this;return(0,d.A)(function*(){return Lt.request(Object.assign(Object.assign({},Ze),{method:"GET"}))})()}post(Ze){var Lt=this;return(0,d.A)(function*(){return Lt.request(Object.assign(Object.assign({},Ze),{method:"POST"}))})()}put(Ze){var Lt=this;return(0,d.A)(function*(){return Lt.request(Object.assign(Object.assign({},Ze),{method:"PUT"}))})()}patch(Ze){var Lt=this;return(0,d.A)(function*(){return Lt.request(Object.assign(Object.assign({},Ze),{method:"PATCH"}))})()}delete(Ze){var Lt=this;return(0,d.A)(function*(){return Lt.request(Object.assign(Object.assign({},Ze),{method:"DELETE"}))})()}}et("CapacitorHttp",{web:()=>new fe})},4442:(kn,Mt,V)=>{"use strict";V.d(Mt,{L:()=>W,a:()=>Ce,b:()=>Re,c:()=>Ge,d:()=>ft,g:()=>We}),V(5531);const W="ionViewWillEnter",Ce="ionViewDidEnter",Re="ionViewWillLeave",Ge="ionViewDidLeave",ft="ionViewWillUnload",We=De=>De.classList.contains("ion-page")?De:De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||De},5531:(kn,Mt,V)=>{"use strict";V.d(Mt,{a:()=>it,c:()=>o,g:()=>ft});class d{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,_e){const Se=this.m.get(De);return void 0!==Se?Se:_e}getBoolean(De,_e=!1){const Se=this.m.get(De);return void 0===Se?_e:"string"==typeof Se?"true"===Se:!!Se}getNumber(De,_e){const Se=parseFloat(this.m.get(De));return isNaN(Se)?void 0!==_e?_e:NaN:Se}set(De,_e){this.m.set(De,_e)}}const o=new d,ft=We=>Me(We),it=(We,De)=>("string"==typeof We&&(De=We,We=void 0),ft(We).includes(De)),Me=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let De=We.Ionic.platforms;return null==De&&(De=We.Ionic.platforms=Ct(We),De.forEach(_e=>We.document.documentElement.classList.add(`plt-${_e}`))),De},Ct=We=>{const De=o.get("platform");return Object.keys(Ze).filter(_e=>{const Se=null==De?void 0:De[_e];return"function"==typeof Se?Se(We):Ze[_e](We)})},et=We=>!!(gt(We,/iPad/i)||gt(We,/Macintosh/i)&&we(We)),vt=We=>gt(We,/android|sink/i),we=We=>mt(We,"(any-pointer:coarse)"),Ne=We=>st(We)||ht(We),st=We=>!!(We.cordova||We.phonegap||We.PhoneGap),ht=We=>{const De=We.Capacitor;return!(null==De||!De.isNative)},gt=(We,De)=>De.test(We.navigator.userAgent),mt=(We,De)=>{var _e;return null===(_e=We.matchMedia)||void 0===_e?void 0:_e.call(We,De).matches},Ze={ipad:et,iphone:We=>gt(We,/iPhone/i),ios:We=>gt(We,/iPhone|iPod/i)||et(We),android:vt,phablet:We=>{const De=We.innerWidth,_e=We.innerHeight,Se=Math.min(De,_e),se=Math.max(De,_e);return Se>390&&Se<520&&se>620&&se<800},tablet:We=>{const De=We.innerWidth,_e=We.innerHeight,Se=Math.min(De,_e),se=Math.max(De,_e);return et(We)||(We=>vt(We)&&!gt(We,/mobile/i))(We)||Se>460&&Se<820&&se>780&&se<1400},cordova:st,capacitor:ht,electron:We=>gt(We,/electron/i),pwa:We=>{var De;return!!(null!==(De=We.matchMedia)&&void 0!==De&&De.call(We,"(display-mode: standalone)").matches||We.navigator.standalone)},mobile:we,mobileweb:We=>we(We)&&!Ne(We),desktop:We=>!we(We),hybrid:Ne}},9986:(kn,Mt,V)=>{"use strict";V.d(Mt,{c:()=>Ce});var d=V(8476);let o;const be=(Re,Ge,ft)=>{const it=Ge.startsWith("animation")?(Re=>(void 0===o&&(o=void 0===Re.style.animationName&&void 0!==Re.style.webkitAnimationName?"-webkit-":""),o))(Re):"";Re.style.setProperty(it+Ge,ft)},W=(Re=[],Ge)=>{if(void 0!==Ge){const ft=Array.isArray(Ge)?Ge:[Ge];return[...Re,...ft]}return Re},Ce=Re=>{let Ge,ft,it,Me,Ct,at,ut,nt,fe,gt,Vt,et=[],pt=[],Et=[],vt=!1,Ot={},St=[],we=[],xe={},Ne=0,st=!1,ht=!1,mt=!0,Ze=!1,Lt=!0,pn=!1;const We=Re,De=[],_e=[],Se=[],se=[],Oe=[],Ke=[],tt=[],He=[],lt=[],yt=[],Bt=[],Fn="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,bt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Fn,In=()=>Bt,Un=(ce,ze)=>{const Qt=ze.findIndex(gn=>gn.c===ce);Qt>-1&&ze.splice(Qt,1)},Fe=(ce,ze)=>((null!=ze&&ze.oneTimeCallback?_e:De).push({c:ce,o:ze}),Vt),Ut=()=>{bt&&(Bt.forEach(ce=>{ce.cancel()}),Bt.length=0)},Ft=()=>{Ke.forEach(ce=>{null!=ce&&ce.parentNode&&ce.parentNode.removeChild(ce)}),Ke.length=0},$n=()=>void 0!==Ct?Ct:ut?ut.getFill():"both",Ir=()=>void 0!==nt?nt:void 0!==at?at:ut?ut.getDirection():"normal",Pn=()=>st?"linear":void 0!==it?it:ut?ut.getEasing():"linear",Ai=()=>ht?0:void 0!==fe?fe:void 0!==ft?ft:ut?ut.getDuration():0,ir=()=>void 0!==Me?Me:ut?ut.getIterations():1,_r=()=>void 0!==gt?gt:void 0!==Ge?Ge:ut?ut.getDelay():0,Sn=()=>{0!==Ne&&(Ne--,0===Ne&&((()=>{lt.forEach(On=>On()),yt.forEach(On=>On());const ce=mt?1:0,ze=St,Qt=we,gn=xe;se.forEach(On=>{const Yn=On.classList;ze.forEach(Sr=>Yn.add(Sr)),Qt.forEach(Sr=>Yn.remove(Sr));for(const Sr in gn)gn.hasOwnProperty(Sr)&&be(On,Sr,gn[Sr])}),fe=void 0,nt=void 0,gt=void 0,De.forEach(On=>On.c(ce,Vt)),_e.forEach(On=>On.c(ce,Vt)),_e.length=0,Lt=!0,mt&&(Ze=!0),mt=!0})(),ut&&ut.animationFinish()))},ve=()=>{(()=>{tt.forEach(gn=>gn()),He.forEach(gn=>gn());const ce=pt,ze=Et,Qt=Ot;se.forEach(gn=>{const On=gn.classList;ce.forEach(Yn=>On.add(Yn)),ze.forEach(Yn=>On.remove(Yn));for(const Yn in Qt)Qt.hasOwnProperty(Yn)&&be(gn,Yn,Qt[Yn])})})(),et.length>0&&bt&&(se.forEach(ce=>{const ze=ce.animate(et,{id:We,delay:_r(),duration:Ai(),easing:Pn(),iterations:ir(),fill:$n(),direction:Ir()});ze.pause(),Bt.push(ze)}),Bt.length>0&&(Bt[0].onfinish=()=>{Sn()})),vt=!0},oe=ce=>{ce=Math.min(Math.max(ce,0),.9999),bt&&Bt.forEach(ze=>{ze.currentTime=ze.effect.getComputedTiming().delay+Ai()*ce,ze.pause()})},Nt=ce=>{Bt.forEach(ze=>{ze.effect.updateTiming({delay:_r(),duration:Ai(),easing:Pn(),iterations:ir(),fill:$n(),direction:Ir()})}),void 0!==ce&&oe(ce)},Je=(ce=!1,ze=!0,Qt)=>(ce&&Oe.forEach(gn=>{gn.update(ce,ze,Qt)}),bt&&Nt(Qt),Vt),Gr=()=>{vt&&(bt?Bt.forEach(ce=>{ce.pause()}):se.forEach(ce=>{be(ce,"animation-play-state","paused")}),pn=!0)},Dr=ce=>new Promise(ze=>{null!=ce&&ce.sync&&(ht=!0,Fe(()=>ht=!1,{oneTimeCallback:!0})),vt||ve(),Ze&&(bt&&(oe(0),Nt()),Ze=!1),Lt&&(Ne=Oe.length+1,Lt=!1);const Qt=()=>{Un(gn,_e),ze()},gn=()=>{Un(Qt,Se),ze()};Fe(gn,{oneTimeCallback:!0}),(ce=>{Se.push({c:ce,o:{oneTimeCallback:!0}})})(Qt),Oe.forEach(On=>{On.play()}),bt?(Bt.forEach(ce=>{ce.play()}),(0===et.length||0===se.length)&&Sn()):Sn(),pn=!1}),Ae=(ce,ze)=>{const Qt=et[0];return void 0===Qt||void 0!==Qt.offset&&0!==Qt.offset?et=[{offset:0,[ce]:ze},...et]:Qt[ce]=ze,Vt};return Vt={parentAnimation:ut,elements:se,childAnimations:Oe,id:We,animationFinish:Sn,from:Ae,to:(ce,ze)=>{const Qt=et[et.length-1];return void 0===Qt||void 0!==Qt.offset&&1!==Qt.offset?et=[...et,{offset:1,[ce]:ze}]:Qt[ce]=ze,Vt},fromTo:(ce,ze,Qt)=>Ae(ce,ze).to(ce,Qt),parent:ce=>(ut=ce,Vt),play:Dr,pause:()=>(Oe.forEach(ce=>{ce.pause()}),Gr(),Vt),stop:()=>{Oe.forEach(ce=>{ce.stop()}),vt&&(Ut(),vt=!1),st=!1,ht=!1,Lt=!0,nt=void 0,fe=void 0,gt=void 0,Ne=0,Ze=!1,mt=!0,pn=!1,Se.forEach(ce=>ce.c(0,Vt)),Se.length=0},destroy:ce=>(Oe.forEach(ze=>{ze.destroy(ce)}),(ce=>{Ut(),ce&&Ft()})(ce),se.length=0,Oe.length=0,et.length=0,De.length=0,_e.length=0,vt=!1,Lt=!0,Vt),keyframes:ce=>{const ze=et!==ce;return et=ce,ze&&(ce=>{bt&&In().forEach(ze=>{const Qt=ze.effect;if(Qt.setKeyframes)Qt.setKeyframes(ce);else{const gn=new KeyframeEffect(Qt.target,ce,Qt.getTiming());ze.effect=gn}})})(et),Vt},addAnimation:ce=>{if(null!=ce)if(Array.isArray(ce))for(const ze of ce)ze.parent(Vt),Oe.push(ze);else ce.parent(Vt),Oe.push(ce);return Vt},addElement:ce=>{if(null!=ce)if(1===ce.nodeType)se.push(ce);else if(ce.length>=0)for(let ze=0;ze<ce.length;ze++)se.push(ce[ze]);else console.error("Invalid addElement value");return Vt},update:Je,fill:ce=>(Ct=ce,Je(!0),Vt),direction:ce=>(at=ce,Je(!0),Vt),iterations:ce=>(Me=ce,Je(!0),Vt),duration:ce=>(!bt&&0===ce&&(ce=1),ft=ce,Je(!0),Vt),easing:ce=>(it=ce,Je(!0),Vt),delay:ce=>(Ge=ce,Je(!0),Vt),getWebAnimations:In,getKeyframes:()=>et,getFill:$n,getDirection:Ir,getDelay:_r,getIterations:ir,getEasing:Pn,getDuration:Ai,afterAddRead:ce=>(lt.push(ce),Vt),afterAddWrite:ce=>(yt.push(ce),Vt),afterClearStyles:(ce=[])=>{for(const ze of ce)xe[ze]="";return Vt},afterStyles:(ce={})=>(xe=ce,Vt),afterRemoveClass:ce=>(we=W(we,ce),Vt),afterAddClass:ce=>(St=W(St,ce),Vt),beforeAddRead:ce=>(tt.push(ce),Vt),beforeAddWrite:ce=>(He.push(ce),Vt),beforeClearStyles:(ce=[])=>{for(const ze of ce)Ot[ze]="";return Vt},beforeStyles:(ce={})=>(Ot=ce,Vt),beforeRemoveClass:ce=>(Et=W(Et,ce),Vt),beforeAddClass:ce=>(pt=W(pt,ce),Vt),onFinish:Fe,isRunning:()=>0!==Ne&&!pn,progressStart:(ce=!1,ze)=>(Oe.forEach(Qt=>{Qt.progressStart(ce,ze)}),Gr(),st=ce,vt||ve(),Je(!1,!0,ze),Vt),progressStep:ce=>(Oe.forEach(ze=>{ze.progressStep(ce)}),oe(ce),Vt),progressEnd:(ce,ze,Qt)=>(st=!1,Oe.forEach(gn=>{gn.progressEnd(ce,ze,Qt)}),void 0!==Qt&&(fe=Qt),Ze=!1,mt=!0,0===ce?(nt="reverse"===Ir()?"normal":"reverse","reverse"===nt&&(mt=!1),bt?(Je(),oe(1-ze)):(gt=(1-ze)*Ai()*-1,Je(!1,!1))):1===ce&&(bt?(Je(),oe(ze)):(gt=ze*Ai()*-1,Je(!1,!1))),void 0!==ce&&!ut&&Dr(),Vt)}}},464:(kn,Mt,V)=>{"use strict";V.d(Mt,{E:()=>it,a:()=>d,s:()=>Ge});const d=Me=>{try{if(Me instanceof Re)return Me.value;if(!be()||"string"!=typeof Me||""===Me)return Me;if(Me.includes("onload="))return"";const Ct=document.createDocumentFragment(),at=document.createElement("div");Ct.appendChild(at),at.innerHTML=Me,Ce.forEach(vt=>{const ut=Ct.querySelectorAll(vt);for(let Ot=ut.length-1;Ot>=0;Ot--){const St=ut[Ot];St.parentNode?St.parentNode.removeChild(St):Ct.removeChild(St);const we=$(St);for(let xe=0;xe<we.length;xe++)o(we[xe])}});const et=$(Ct);for(let vt=0;vt<et.length;vt++)o(et[vt]);const pt=document.createElement("div");pt.appendChild(Ct);const Et=pt.querySelector("div");return null!==Et?Et.innerHTML:pt.innerHTML}catch(Ct){return console.error(Ct),""}},o=Me=>{if(Me.nodeType&&1!==Me.nodeType)return;if(typeof NamedNodeMap<"u"&&!(Me.attributes instanceof NamedNodeMap))return void Me.remove();for(let at=Me.attributes.length-1;at>=0;at--){const et=Me.attributes.item(at),pt=et.name;if(!W.includes(pt.toLowerCase())){Me.removeAttribute(pt);continue}const Et=et.value,vt=Me[pt];(null!=Et&&Et.toLowerCase().includes("javascript:")||null!=vt&&vt.toLowerCase().includes("javascript:"))&&Me.removeAttribute(pt)}const Ct=$(Me);for(let at=0;at<Ct.length;at++)o(Ct[at])},$=Me=>null!=Me.children?Me.children:Me.childNodes,be=()=>{var Me;const Ct=window,at=null===(Me=null==Ct?void 0:Ct.Ionic)||void 0===Me?void 0:Me.config;return!at||(at.get?at.get("sanitizerEnabled",!0):!0===at.sanitizerEnabled||void 0===at.sanitizerEnabled)},W=["class","id","href","src","name","slot"],Ce=["script","style","iframe","meta","link","object","embed"];class Re{constructor(Ct){this.value=Ct}}const Ge=Me=>{const Ct=window,at=Ct.Ionic;if(!at||!at.config||"Object"===at.config.constructor.name)return Ct.Ionic=Ct.Ionic||{},Ct.Ionic.config=Object.assign(Object.assign({},Ct.Ionic.config),Me),Ct.Ionic.config},it=!1},8621:(kn,Mt,V)=>{"use strict";V.d(Mt,{C:()=>W,a:()=>$,d:()=>be});var d=V(467),o=V(4920);const $=function(){var Ce=(0,d.A)(function*(Re,Ge,ft,it,Me,Ct){var at;if(Re)return Re.attachViewToDom(Ge,ft,Me,it);if(!(Ct||"string"==typeof ft||ft instanceof HTMLElement))throw new Error("framework delegate is missing");const et="string"==typeof ft?null===(at=Ge.ownerDocument)||void 0===at?void 0:at.createElement(ft):ft;return it&&it.forEach(pt=>et.classList.add(pt)),Me&&Object.assign(et,Me),Ge.appendChild(et),yield new Promise(pt=>(0,o.c)(et,pt)),et});return function(Ge,ft,it,Me,Ct,at){return Ce.apply(this,arguments)}}(),be=(Ce,Re)=>{if(Re){if(Ce)return Ce.removeViewFromDom(Re.parentElement,Re);Re.remove()}return Promise.resolve()},W=()=>{let Ce,Re;return{attachViewToDom:function(){var it=(0,d.A)(function*(Me,Ct,at={},et=[]){var pt,Et;let vt;if(Ce=Me,Ct){const Ot="string"==typeof Ct?null===(pt=Ce.ownerDocument)||void 0===pt?void 0:pt.createElement(Ct):Ct;et.forEach(St=>Ot.classList.add(St)),Object.assign(Ot,at),Ce.appendChild(Ot),vt=Ot,yield new Promise(St=>(0,o.c)(Ot,St))}else if(Ce.children.length>0&&("ION-MODAL"===Ce.tagName||"ION-POPOVER"===Ce.tagName)&&!(vt=Ce.children[0]).classList.contains("ion-delegate-host")){const St=null===(Et=Ce.ownerDocument)||void 0===Et?void 0:Et.createElement("div");St.classList.add("ion-delegate-host"),et.forEach(we=>St.classList.add(we)),St.append(...Ce.children),Ce.appendChild(St),vt=St}const ut=document.querySelector("ion-app")||document.body;return Re=document.createComment("ionic teleport"),Ce.parentNode.insertBefore(Re,Ce),ut.appendChild(Ce),null!=vt?vt:Ce});return function(Ct,at){return it.apply(this,arguments)}}(),removeViewFromDom:()=>(Ce&&Re&&(Re.parentNode.insertBefore(Ce,Re),Re.remove()),Promise.resolve())}}},1970:(kn,Mt,V)=>{"use strict";V.d(Mt,{B:()=>be,G:()=>W});class o{constructor(Re,Ge,ft,it,Me){this.id=Ge,this.name=ft,this.disableScroll=Me,this.priority=1e6*it+Ge,this.ctrl=Re}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Re=this.ctrl.capture(this.name,this.id,this.priority);return Re&&this.disableScroll&&this.ctrl.disableScroll(this.id),Re}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ${constructor(Re,Ge,ft,it){this.id=Ge,this.disable=ft,this.disableScroll=it,this.ctrl=Re}block(){if(this.ctrl){if(this.disable)for(const Re of this.disable)this.ctrl.disableGesture(Re,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Re of this.disable)this.ctrl.enableGesture(Re,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const be="backdrop-no-scroll",W=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Re){var Ge;return new o(this,this.newID(),Re.name,null!==(Ge=Re.priority)&&void 0!==Ge?Ge:0,!!Re.disableScroll)}createBlocker(Re={}){return new $(this,this.newID(),Re.disable,!!Re.disableScroll)}start(Re,Ge,ft){return this.canStart(Re)?(this.requestedStart.set(Ge,ft),!0):(this.requestedStart.delete(Ge),!1)}capture(Re,Ge,ft){if(!this.start(Re,Ge,ft))return!1;const it=this.requestedStart;let Me=-1e4;if(it.forEach(Ct=>{Me=Math.max(Me,Ct)}),Me===ft){this.capturedId=Ge,it.clear();const Ct=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Re}});return document.dispatchEvent(Ct),!0}return it.delete(Ge),!1}release(Re){this.requestedStart.delete(Re),this.capturedId===Re&&(this.capturedId=void 0)}disableGesture(Re,Ge){let ft=this.disabledGestures.get(Re);void 0===ft&&(ft=new Set,this.disabledGestures.set(Re,ft)),ft.add(Ge)}enableGesture(Re,Ge){const ft=this.disabledGestures.get(Re);void 0!==ft&&ft.delete(Ge)}disableScroll(Re){this.disabledScroll.add(Re),1===this.disabledScroll.size&&document.body.classList.add(be)}enableScroll(Re){this.disabledScroll.delete(Re),0===this.disabledScroll.size&&document.body.classList.remove(be)}canStart(Re){return!(void 0!==this.capturedId||this.isDisabled(Re))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Re){const Ge=this.disabledGestures.get(Re);return!!(Ge&&Ge.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(kn,Mt,V)=>{"use strict";V.r(Mt),V.d(Mt,{MENU_BACK_BUTTON_PRIORITY:()=>ft,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ge,blockHardwareBackButton:()=>Ce,shouldUseCloseWatcher:()=>W,startHardwareBackButton:()=>Re});var d=V(467),o=V(8476),$=V(9483);V(4261);const W=()=>$.c.get("experimentalCloseWatcher",!1)&&void 0!==o.w&&"CloseWatcher"in o.w,Ce=()=>{document.addEventListener("backbutton",()=>{})},Re=()=>{const it=document;let Me=!1;const Ct=()=>{if(Me)return;let at=0,et=[];const pt=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ut,Ot){et.push({priority:ut,handler:Ot,id:at++})}}});it.dispatchEvent(pt);const Et=function(){var ut=(0,d.A)(function*(Ot){try{if(null!=Ot&&Ot.handler){const St=Ot.handler(vt);null!=St&&(yield St)}}catch(St){console.error(St)}});return function(St){return ut.apply(this,arguments)}}(),vt=()=>{if(et.length>0){let ut={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};et.forEach(Ot=>{Ot.priority>=ut.priority&&(ut=Ot)}),Me=!0,et=et.filter(Ot=>Ot.id!==ut.id),Et(ut).then(()=>Me=!1)}};vt()};if(W()){let at;const et=()=>{null==at||at.destroy(),at=new o.w.CloseWatcher,at.onclose=()=>{Ct(),et()}};et()}else it.addEventListener("backbutton",Ct)},Ge=100,ft=99},4920:(kn,Mt,V)=>{"use strict";V.d(Mt,{a:()=>Ge,b:()=>ft,c:()=>$,d:()=>et,e:()=>Ot,f:()=>at,g:()=>it,h:()=>W,i:()=>Re,j:()=>pt,k:()=>be,l:()=>Ct,m:()=>Et,n:()=>ut,o:()=>St,p:()=>vt,r:()=>Me,s:()=>we,t:()=>d});const d=(xe,Ne=0)=>new Promise(st=>{o(xe,Ne,st)}),o=(xe,Ne=0,st)=>{let ht,nt;const fe={passive:!0},mt=()=>{ht&&ht()},Ze=Lt=>{(void 0===Lt||xe===Lt.target)&&(mt(),st(Lt))};return xe&&(xe.addEventListener("webkitTransitionEnd",Ze,fe),xe.addEventListener("transitionend",Ze,fe),nt=setTimeout(Ze,Ne+500),ht=()=>{void 0!==nt&&(clearTimeout(nt),nt=void 0),xe.removeEventListener("webkitTransitionEnd",Ze,fe),xe.removeEventListener("transitionend",Ze,fe)}),mt},$=(xe,Ne)=>{xe.componentOnReady?xe.componentOnReady().then(st=>Ne(st)):Me(()=>Ne(xe))},be=xe=>void 0!==xe.componentOnReady,W=(xe,Ne=[])=>{const st={};return Ne.forEach(ht=>{xe.hasAttribute(ht)&&(null!==xe.getAttribute(ht)&&(st[ht]=xe.getAttribute(ht)),xe.removeAttribute(ht))}),st},Ce=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Re=(xe,Ne)=>{let st=Ce;return Ne&&Ne.length>0&&(st=st.filter(ht=>!Ne.includes(ht))),W(xe,st)},Ge=(xe,Ne,st,ht)=>{var nt;if(typeof window<"u"){const fe=window,gt=null===(nt=null==fe?void 0:fe.Ionic)||void 0===nt?void 0:nt.config;if(gt){const mt=gt.get("_ael");if(mt)return mt(xe,Ne,st,ht);if(gt._ael)return gt._ael(xe,Ne,st,ht)}}return xe.addEventListener(Ne,st,ht)},ft=(xe,Ne,st,ht)=>{var nt;if(typeof window<"u"){const fe=window,gt=null===(nt=null==fe?void 0:fe.Ionic)||void 0===nt?void 0:nt.config;if(gt){const mt=gt.get("_rel");if(mt)return mt(xe,Ne,st,ht);if(gt._rel)return gt._rel(xe,Ne,st,ht)}}return xe.removeEventListener(Ne,st,ht)},it=(xe,Ne=xe)=>xe.shadowRoot||Ne,Me=xe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(xe):"function"==typeof requestAnimationFrame?requestAnimationFrame(xe):setTimeout(xe),Ct=xe=>!!xe.shadowRoot&&!!xe.attachShadow,at=xe=>{if(xe.focus(),xe.classList.contains("ion-focusable")){const Ne=xe.closest("ion-app");Ne&&Ne.setFocus([xe])}},et=(xe,Ne,st,ht,nt)=>{if(xe||Ct(Ne)){let fe=Ne.querySelector("input.aux-input");fe||(fe=Ne.ownerDocument.createElement("input"),fe.type="hidden",fe.classList.add("aux-input"),Ne.appendChild(fe)),fe.disabled=nt,fe.name=st,fe.value=ht||""}},pt=(xe,Ne,st)=>Math.max(xe,Math.min(Ne,st)),Et=(xe,Ne)=>{if(!xe){const st="ASSERT: "+Ne;throw console.error(st),new Error(st)}},vt=xe=>{if(xe){const Ne=xe.changedTouches;if(Ne&&Ne.length>0){const st=Ne[0];return{x:st.clientX,y:st.clientY}}if(void 0!==xe.pageX)return{x:xe.pageX,y:xe.pageY}}return{x:0,y:0}},ut=xe=>{const Ne="rtl"===document.dir;switch(xe){case"start":return Ne;case"end":return!Ne;default:throw new Error(`"${xe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ot=(xe,Ne)=>{const st=xe._original||xe;return{_original:xe,emit:St(st.emit.bind(st),Ne)}},St=(xe,Ne=0)=>{let st;return(...ht)=>{clearTimeout(st),st=setTimeout(xe,Ne,...ht)}},we=(xe,Ne)=>{if(null!=xe||(xe={}),null!=Ne||(Ne={}),xe===Ne)return!0;const st=Object.keys(xe);if(st.length!==Object.keys(Ne).length)return!1;for(const ht of st)if(!(ht in Ne)||xe[ht]!==Ne[ht])return!1;return!0}},1702:(kn,Mt,V)=>{"use strict";V.d(Mt,{m:()=>at});var d=V(467),o=V(8476),$=V(7192),be=V(4929),W=V(4920),Ce=V(9483),Re=V(9986);const Ge=et=>(0,Re.c)().duration(et?400:300),ft=et=>{let pt,Et;const vt=et.width+8,ut=(0,Re.c)(),Ot=(0,Re.c)();et.isEndSide?(pt=vt+"px",Et="0px"):(pt=-vt+"px",Et="0px"),ut.addElement(et.menuInnerEl).fromTo("transform",`translateX(${pt})`,`translateX(${Et})`);const we="ios"===(0,Ce.b)(et),xe=we?.2:.25;return Ot.addElement(et.backdropEl).fromTo("opacity",.01,xe),Ge(we).addAnimation([ut,Ot])},it=et=>{let pt,Et;const vt=(0,Ce.b)(et),ut=et.width;et.isEndSide?(pt=-ut+"px",Et=ut+"px"):(pt=ut+"px",Et=-ut+"px");const Ot=(0,Re.c)().addElement(et.menuInnerEl).fromTo("transform",`translateX(${Et})`,"translateX(0px)"),St=(0,Re.c)().addElement(et.contentEl).fromTo("transform","translateX(0px)",`translateX(${pt})`),we=(0,Re.c)().addElement(et.backdropEl).fromTo("opacity",.01,.32);return Ge("ios"===vt).addAnimation([Ot,St,we])},Me=et=>{const pt=(0,Ce.b)(et),Et=et.width*(et.isEndSide?-1:1)+"px",vt=(0,Re.c)().addElement(et.contentEl).fromTo("transform","translateX(0px)",`translateX(${Et})`);return Ge("ios"===pt).addAnimation(vt)},at=(()=>{const et=new Map,pt=[],Et=function(){var Se=(0,d.A)(function*(se){const Oe=yield Ne(se,!0);return!!Oe&&Oe.open()});return function(Oe){return Se.apply(this,arguments)}}(),vt=function(){var Se=(0,d.A)(function*(se){const Oe=yield void 0!==se?Ne(se,!0):st();return void 0!==Oe&&Oe.close()});return function(Oe){return Se.apply(this,arguments)}}(),ut=function(){var Se=(0,d.A)(function*(se){const Oe=yield Ne(se,!0);return!!Oe&&Oe.toggle()});return function(Oe){return Se.apply(this,arguments)}}(),Ot=function(){var Se=(0,d.A)(function*(se,Oe){const Ke=yield Ne(Oe);return Ke&&(Ke.disabled=!se),Ke});return function(Oe,Ke){return Se.apply(this,arguments)}}(),St=function(){var Se=(0,d.A)(function*(se,Oe){const Ke=yield Ne(Oe);return Ke&&(Ke.swipeGesture=se),Ke});return function(Oe,Ke){return Se.apply(this,arguments)}}(),we=function(){var Se=(0,d.A)(function*(se){if(null!=se){const Oe=yield Ne(se);return void 0!==Oe&&Oe.isOpen()}return void 0!==(yield st())});return function(Oe){return Se.apply(this,arguments)}}(),xe=function(){var Se=(0,d.A)(function*(se){const Oe=yield Ne(se);return!!Oe&&!Oe.disabled});return function(Oe){return Se.apply(this,arguments)}}(),Ne=function(){var Se=(0,d.A)(function*(se,Oe=!1){if(yield _e(),"start"===se||"end"===se){const tt=pt.filter(lt=>lt.side===se&&!lt.disabled);if(tt.length>=1)return tt.length>1&&Oe&&(0,be.p)(`menuController queried for a menu on the "${se}" side, but ${tt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,tt.map(lt=>lt.el)),tt[0].el;const He=pt.filter(lt=>lt.side===se);if(He.length>=1)return He.length>1&&Oe&&(0,be.p)(`menuController queried for a menu on the "${se}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(lt=>lt.el)),He[0].el}else if(null!=se)return De(tt=>tt.menuId===se);return De(tt=>!tt.disabled)||(pt.length>0?pt[0].el:void 0)});return function(Oe){return Se.apply(this,arguments)}}(),st=function(){var Se=(0,d.A)(function*(){return yield _e(),Vt()});return function(){return Se.apply(this,arguments)}}(),ht=function(){var Se=(0,d.A)(function*(){return yield _e(),pn()});return function(){return Se.apply(this,arguments)}}(),nt=function(){var Se=(0,d.A)(function*(){return yield _e(),We()});return function(){return Se.apply(this,arguments)}}(),fe=(Se,se)=>{et.set(Se,se)},Ze=function(){var Se=(0,d.A)(function*(se,Oe,Ke,tt){if(We())return!1;if(Oe){const He=yield st();He&&se.el!==He&&(yield He.setOpen(!1,!1))}return se._setOpen(Oe,Ke,tt)});return function(Oe,Ke,tt,He){return Se.apply(this,arguments)}}(),Vt=()=>De(Se=>Se._isOpen),pn=()=>pt.map(Se=>Se.el),We=()=>pt.some(Se=>Se.isAnimating),De=Se=>{const se=pt.find(Se);if(void 0!==se)return se.el},_e=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Se=>new Promise(se=>(0,W.c)(Se,se))));return fe("reveal",Me),fe("push",it),fe("overlay",ft),null==o.d||o.d.addEventListener("ionBackButton",Se=>{const se=Vt();se&&Se.detail.register($.MENU_BACK_BUTTON_PRIORITY,()=>se.close())}),{registerAnimation:fe,get:Ne,getMenus:ht,getOpen:st,isEnabled:xe,swipeGesture:St,isAnimating:nt,isOpen:we,enable:Ot,toggle:ut,close:vt,open:Et,_getOpenSync:Vt,_createAnimation:(Se,se)=>{const Oe=et.get(Se);if(!Oe)throw new Error("animation not registered");return Oe(se)},_register:Se=>{pt.indexOf(Se)<0&&pt.push(Se)},_unregister:Se=>{const se=pt.indexOf(Se);se>-1&&pt.splice(se,1)},_setOpen:Ze}})()},4261:(kn,Mt,V)=>{"use strict";V.d(Mt,{B:()=>Ce,a:()=>Lt,b:()=>co,c:()=>$n,d:()=>ir,e:()=>lt,f:()=>Mn,g:()=>Ir,h:()=>or,i:()=>Ai,j:()=>ti,k:()=>Bt,r:()=>ft,w:()=>yt});var d=V(467);var be=Object.defineProperty,Ce={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Re=new WeakMap,Ge=E=>Re.get(E),ft=(E,O)=>Re.set(O.$lazyInstance$=E,O),Me=(E,O)=>O in E,Ct=(E,O)=>(0,console.error)(E,O),at=new Map,pt=new Map,Et=[],we="s-id",ht="slot-fb{display:contents}slot-fb[hidden]{display:none}",nt="http://www.w3.org/1999/xlink",fe=typeof window<"u"?window:{},gt=fe.document||{head:{}},Ze={$flags$:0,$resourcesUrl$:"",jmp:E=>E(),raf:E=>requestAnimationFrame(E),ael:(E,O,A,G)=>E.addEventListener(O,A,G),rel:(E,O,A,G)=>E.removeEventListener(O,A,G),ce:(E,O)=>new CustomEvent(E,O)},Lt=E=>{Object.assign(Ze,E)},pn=(()=>{let E=!1;try{gt.addEventListener("e",null,Object.defineProperty({},"passive",{get(){E=!0}}))}catch{}return E})(),De=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),_e=!1,Se=[],se=[],Oe=(E,O)=>A=>{E.push(A),_e||(_e=!0,O&&4&Ze.$flags$?He(tt):Ze.raf(tt))},Ke=E=>{for(let O=0;O<E.length;O++)try{E[O](performance.now())}catch(A){Ct(A)}E.length=0},tt=()=>{Ke(Se),Ke(se),(_e=Se.length>0)&&Ze.raf(tt)},He=E=>Promise.resolve(void 0).then(E),lt=Oe(Se,!1),yt=Oe(se,!0),Bt=E=>{const O=new URL(E,Ze.$resourcesUrl$);return O.origin!==fe.location.origin?O.href:O.pathname},Fn={},qn=E=>"object"==(E=typeof E)||"function"===E;function en(E){var O,A,G;return null!=(G=null==(A=null==(O=E.head)?void 0:O.querySelector('meta[name="csp-nonce"]'))?void 0:A.getAttribute("content"))?G:void 0}((E,O)=>{for(var A in O)be(E,A,{get:O[A],enumerable:!0})})({},{err:()=>sn,map:()=>Fe,ok:()=>Un,unwrap:()=>Le,unwrapErr:()=>Ut});var Un=E=>({isOk:!0,isErr:!1,value:E}),sn=E=>({isOk:!1,isErr:!0,value:E});function Fe(E,O){if(E.isOk){const A=O(E.value);return A instanceof Promise?A.then(G=>Un(G)):Un(A)}if(E.isErr)return sn(E.value);throw"should never get here"}var Le=E=>{if(E.isOk)return E.value;throw E.value},Ut=E=>{if(E.isErr)return E.value;throw E.value},or=(E,O,...A)=>{let G=null,ae=null,ot=null,an=!1,Tt=!1;const qt=[],dn=Wn=>{for(let er=0;er<Wn.length;er++)G=Wn[er],Array.isArray(G)?dn(G):null!=G&&"boolean"!=typeof G&&((an="function"!=typeof E&&!qn(G))&&(G=String(G)),an&&Tt?qt[qt.length-1].$text$+=G:qt.push(an?Hn(null,G):G),Tt=an)};if(dn(A),O){O.key&&(ae=O.key),O.name&&(ot=O.name);{const Wn=O.className||O.class;Wn&&(O.class="object"!=typeof Wn?Wn:Object.keys(Wn).filter(er=>Wn[er]).join(" "))}}if("function"==typeof E)return E(null===O?{}:O,qt,ar);const xn=Hn(E,null);return xn.$attrs$=O,qt.length>0&&(xn.$children$=qt),xn.$key$=ae,xn.$name$=ot,xn},Hn=(E,O)=>({$flags$:0,$tag$:E,$text$:O,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Mn={},ar={forEach:(E,O)=>E.map(Qn).forEach(O),map:(E,O)=>E.map(Qn).map(O).map(nr)},Qn=E=>({vattrs:E.$attrs$,vchildren:E.$children$,vkey:E.$key$,vname:E.$name$,vtag:E.$tag$,vtext:E.$text$}),nr=E=>{if("function"==typeof E.vtag){const A={...E.vattrs};return E.vkey&&(A.key=E.vkey),E.vname&&(A.name=E.vname),or(E.vtag,A,...E.vchildren||[])}const O=Hn(E.vtag,E.vtext);return O.$attrs$=E.vattrs,O.$children$=E.vchildren,O.$key$=E.vkey,O.$name$=E.vname,O},Vr=(E,O,A,G,ae,ot,an)=>{let Tt,qt,dn,xn;if(1===ot.nodeType){if(Tt=ot.getAttribute("c-id"),Tt&&(qt=Tt.split("."),(qt[0]===an||"0"===qt[0])&&(dn={$flags$:0,$hostId$:qt[0],$nodeId$:qt[1],$depth$:qt[2],$index$:qt[3],$tag$:ot.tagName.toLowerCase(),$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},O.push(dn),ot.removeAttribute("c-id"),E.$children$||(E.$children$=[]),E.$children$[dn.$index$]=dn,E=dn,G&&"0"===dn.$depth$&&(G[dn.$index$]=dn.$elm$))),ot.shadowRoot)for(xn=ot.shadowRoot.childNodes.length-1;xn>=0;xn--)Vr(E,O,A,G,ae,ot.shadowRoot.childNodes[xn],an);for(xn=ot.childNodes.length-1;xn>=0;xn--)Vr(E,O,A,G,ae,ot.childNodes[xn],an)}else if(8===ot.nodeType)qt=ot.nodeValue.split("."),(qt[1]===an||"0"===qt[1])&&(Tt=qt[0],dn={$flags$:0,$hostId$:qt[1],$nodeId$:qt[2],$depth$:qt[3],$index$:qt[4],$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Tt?(dn.$elm$=ot.nextSibling,dn.$elm$&&3===dn.$elm$.nodeType&&(dn.$text$=dn.$elm$.textContent,O.push(dn),ot.remove(),E.$children$||(E.$children$=[]),E.$children$[dn.$index$]=dn,G&&"0"===dn.$depth$&&(G[dn.$index$]=dn.$elm$))):dn.$hostId$===an&&("s"===Tt?(dn.$tag$="slot",ot["s-sn"]=qt[5]?dn.$name$=qt[5]:"",ot["s-sr"]=!0,G&&(dn.$elm$=gt.createElement(dn.$tag$),dn.$name$&&dn.$elm$.setAttribute("name",dn.$name$),ot.parentNode.insertBefore(dn.$elm$,ot),ot.remove(),"0"===dn.$depth$&&(G[dn.$index$]=dn.$elm$)),A.push(dn),E.$children$||(E.$children$=[]),E.$children$[dn.$index$]=dn):"r"===Tt&&(G?ot.remove():(ae["s-cr"]=ot,ot["s-cn"]=!0))));else if(E&&"style"===E.$tag$){const Wn=Hn(null,ot.textContent);Wn.$elm$=ot,Wn.$index$="0",E.$children$=[Wn]}},wn=(E,O)=>{if(1===E.nodeType){let A=0;if(E.shadowRoot)for(;A<E.shadowRoot.childNodes.length;A++)wn(E.shadowRoot.childNodes[A],O);for(A=0;A<E.childNodes.length;A++)wn(E.childNodes[A],O)}else if(8===E.nodeType){const A=E.nodeValue.split(".");"o"===A[0]&&(O.set(A[1]+"."+A[2],E),E.nodeValue="",E["s-en"]=A[3])}},$n=E=>Et.push(E),Ir=E=>Ge(E).$modeName$,Ai=E=>Ge(E).$hostElement$,ir=(E,O,A)=>{const G=Ai(E);return{emit:ae=>_r(G,O,{bubbles:!!(4&A),composed:!!(2&A),cancelable:!!(1&A),detail:ae})}},_r=(E,O,A)=>{const G=Ze.ce(O,A);return E.dispatchEvent(G),G},Er=new WeakMap,Xt=(E,O,A)=>{var G;const ae=Yt(O,A),ot=pt.get(ae);if(E=11===E.nodeType?E:gt,ot)if("string"==typeof ot){let Tt,an=Er.get(E=E.head||E);if(an||Er.set(E,an=new Set),!an.has(ae)){if(E.host&&(Tt=E.querySelector(`[sty-id="${ae}"]`)))Tt.innerHTML=ot;else{Tt=gt.createElement("style"),Tt.innerHTML=ot;const qt=null!=(G=Ze.$nonce$)?G:en(gt);null!=qt&&Tt.setAttribute("nonce",qt),(!(1&O.$flags$)||1&O.$flags$&&"HEAD"!==E.nodeName)&&E.insertBefore(Tt,E.querySelector("link"))}4&O.$flags$&&(Tt.innerHTML+=ht),an&&an.add(ae)}}else E.adoptedStyleSheets.includes(ot)||(E.adoptedStyleSheets=[...E.adoptedStyleSheets,ot]);return ae},Yt=(E,O)=>"sc-"+(O&&32&E.$flags$?E.$tagName$+"-"+O:E.$tagName$),At=(E,O,A,G,ae,ot)=>{if(A!==G){let an=Me(E,O),Tt=O.toLowerCase();if("class"===O){const qt=E.classList,dn=ct(A),xn=ct(G);qt.remove(...dn.filter(Wn=>Wn&&!xn.includes(Wn))),qt.add(...xn.filter(Wn=>Wn&&!dn.includes(Wn)))}else if("style"===O){for(const qt in A)(!G||null==G[qt])&&(qt.includes("-")?E.style.removeProperty(qt):E.style[qt]="");for(const qt in G)(!A||G[qt]!==A[qt])&&(qt.includes("-")?E.style.setProperty(qt,G[qt]):E.style[qt]=G[qt])}else if("key"!==O)if("ref"===O)G&&G(E);else if(an||"o"!==O[0]||"n"!==O[1]){const qt=qn(G);if((an||qt&&null!==G)&&!ae)try{if(E.tagName.includes("-"))E[O]=G;else{const xn=null==G?"":G;"list"===O?an=!1:(null==A||E[O]!=xn)&&(E[O]=xn)}}catch{}let dn=!1;Tt!==(Tt=Tt.replace(/^xlink\:?/,""))&&(O=Tt,dn=!0),null==G||!1===G?(!1!==G||""===E.getAttribute(O))&&(dn?E.removeAttributeNS(nt,O):E.removeAttribute(O)):(!an||4&ot||ae)&&!qt&&(G=!0===G?"":G,dn?E.setAttributeNS(nt,O,G):E.setAttribute(O,G))}else if(O="-"===O[2]?O.slice(3):Me(fe,Tt)?Tt.slice(2):Tt[2]+O.slice(3),A||G){const qt=O.endsWith(J);O=O.replace(Q,""),A&&Ze.rel(E,O,A,qt),G&&Ze.ael(E,O,G,qt)}}},$e=/\s/,ct=E=>E?E.split($e):[],J="Capture",Q=new RegExp(J+"$"),ne=(E,O,A)=>{const G=11===O.$elm$.nodeType&&O.$elm$.host?O.$elm$.host:O.$elm$,ae=E&&E.$attrs$||Fn,ot=O.$attrs$||Fn;for(const an of ke(Object.keys(ae)))an in ot||At(G,an,ae[an],void 0,A,O.$flags$);for(const an of ke(Object.keys(ot)))At(G,an,ae[an],ot[an],A,O.$flags$)};function ke(E){return E.includes("ref")?[...E.filter(O=>"ref"!==O),"ref"]:E}var je,tn,Sn,Ve=!1,ve=!1,oe=!1,Nt=!1,Je=(E,O,A,G)=>{var ae;const ot=O.$children$[A];let Tt,qt,dn,an=0;if(Ve||(oe=!0,"slot"===ot.$tag$&&(je&&G.classList.add(je+"-s"),ot.$flags$|=ot.$children$?2:1)),null!==ot.$text$)Tt=ot.$elm$=gt.createTextNode(ot.$text$);else if(1&ot.$flags$)Tt=ot.$elm$=gt.createTextNode("");else{if(Nt||(Nt="svg"===ot.$tag$),Tt=ot.$elm$=gt.createElementNS(Nt?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Ve&&2&ot.$flags$?"slot-fb":ot.$tag$),Nt&&"foreignObject"===ot.$tag$&&(Nt=!1),ne(null,ot,Nt),!!Tt.getRootNode().querySelector("body")&&(E=>null!=E)(je)&&Tt["s-si"]!==je&&Tt.classList.add(Tt["s-si"]=je),gn(Tt,G),ot.$children$)for(an=0;an<ot.$children$.length;++an)qt=Je(E,ot,an,Tt),qt&&Tt.appendChild(qt);"svg"===ot.$tag$?Nt=!1:"foreignObject"===Tt.tagName&&(Nt=!0)}return Tt["s-hn"]=Sn,3&ot.$flags$&&(Tt["s-sr"]=!0,Tt["s-cr"]=tn,Tt["s-sn"]=ot.$name$||"",Tt["s-rf"]=null==(ae=ot.$attrs$)?void 0:ae.ref,dn=E&&E.$children$&&E.$children$[A],dn&&dn.$tag$===ot.$tag$&&E.$elm$&&bn(E.$elm$)),Tt},bn=E=>{Ze.$flags$|=1;const O=E.closest(Sn.toLowerCase());if(null!=O){const A=Array.from(O.childNodes).find(ae=>ae["s-cr"]),G=Array.from(E.childNodes);for(const ae of A?G.reverse():G)null!=ae["s-sh"]&&(ze(O,ae,null!=A?A:null),ae["s-sh"]=void 0,oe=!0)}Ze.$flags$&=-2},Xn=(E,O)=>{Ze.$flags$|=1;const A=Array.from(E.childNodes);if(E["s-sr"]){let G=E;for(;G=G.nextSibling;)G&&G["s-sn"]===E["s-sn"]&&G["s-sh"]===Sn&&A.push(G)}for(let G=A.length-1;G>=0;G--){const ae=A[G];ae["s-hn"]!==Sn&&ae["s-ol"]&&(ze(Wi(ae),ae,xr(ae)),ae["s-ol"].remove(),ae["s-ol"]=void 0,ae["s-sh"]=void 0,oe=!0),O&&Xn(ae,O)}Ze.$flags$&=-2},Bn=(E,O,A,G,ae,ot)=>{let Tt,an=E["s-cr"]&&E["s-cr"].parentNode||E;for(an.shadowRoot&&an.tagName===Sn&&(an=an.shadowRoot);ae<=ot;++ae)G[ae]&&(Tt=Je(null,A,ae,E),Tt&&(G[ae].$elm$=Tt,ze(an,Tt,xr(O))))},Gr=(E,O,A)=>{for(let G=O;G<=A;++G){const ae=E[G];if(ae){const ot=ae.$elm$;ce(ae),ot&&(ve=!0,ot["s-ol"]?ot["s-ol"].remove():Xn(ot,!0),ot.remove())}}},gi=(E,O,A=!1)=>!(E.$tag$!==O.$tag$||("slot"===E.$tag$?"$nodeId$"in E&&A&&8!==E.$elm$.nodeType||E.$name$!==O.$name$:!A&&E.$key$!==O.$key$)),xr=E=>E&&E["s-ol"]||E,Wi=E=>(E["s-ol"]?E["s-ol"]:E).parentNode,Dr=(E,O,A=!1)=>{const G=O.$elm$=E.$elm$,ae=E.$children$,ot=O.$children$,an=O.$tag$,Tt=O.$text$;let qt;null===Tt?(Nt="svg"===an||"foreignObject"!==an&&Nt,"slot"!==an||Ve?ne(E,O,Nt):E.$name$!==O.$name$&&(O.$elm$["s-sn"]=O.$name$||"",bn(O.$elm$.parentElement)),null!==ae&&null!==ot?((E,O,A,G,ae=!1)=>{let Ei,si,ot=0,an=0,Tt=0,qt=0,dn=O.length-1,xn=O[0],Wn=O[dn],er=G.length-1,lr=G[0],zr=G[er];for(;ot<=dn&&an<=er;)if(null==xn)xn=O[++ot];else if(null==Wn)Wn=O[--dn];else if(null==lr)lr=G[++an];else if(null==zr)zr=G[--er];else if(gi(xn,lr,ae))Dr(xn,lr,ae),xn=O[++ot],lr=G[++an];else if(gi(Wn,zr,ae))Dr(Wn,zr,ae),Wn=O[--dn],zr=G[--er];else if(gi(xn,zr,ae))("slot"===xn.$tag$||"slot"===zr.$tag$)&&Xn(xn.$elm$.parentNode,!1),Dr(xn,zr,ae),ze(E,xn.$elm$,Wn.$elm$.nextSibling),xn=O[++ot],zr=G[--er];else if(gi(Wn,lr,ae))("slot"===xn.$tag$||"slot"===zr.$tag$)&&Xn(Wn.$elm$.parentNode,!1),Dr(Wn,lr,ae),ze(E,Wn.$elm$,xn.$elm$),Wn=O[--dn],lr=G[++an];else{for(Tt=-1,qt=ot;qt<=dn;++qt)if(O[qt]&&null!==O[qt].$key$&&O[qt].$key$===lr.$key$){Tt=qt;break}Tt>=0?(si=O[Tt],si.$tag$!==lr.$tag$?Ei=Je(O&&O[an],A,Tt,E):(Dr(si,lr,ae),O[Tt]=void 0,Ei=si.$elm$),lr=G[++an]):(Ei=Je(O&&O[an],A,an,E),lr=G[++an]),Ei&&ze(Wi(xn.$elm$),Ei,xr(xn.$elm$))}ot>dn?Bn(E,null==G[er+1]?null:G[er+1].$elm$,A,G,an,er):an>er&&Gr(O,ot,dn)})(G,ae,O,ot,A):null!==ot?(null!==E.$text$&&(G.textContent=""),Bn(G,null,O,ot,0,ot.length-1)):!A&&null!==ae&&Gr(ae,0,ae.length-1),Nt&&"svg"===an&&(Nt=!1)):(qt=G["s-cr"])?qt.parentNode.textContent=Tt:E.$text$!==Tt&&(G.data=Tt)},Ye=E=>{const O=E.childNodes;for(const A of O)if(1===A.nodeType){if(A["s-sr"]){const G=A["s-sn"];A.hidden=!1;for(const ae of O)if(ae!==A)if(ae["s-hn"]!==A["s-hn"]||""!==G){if(1===ae.nodeType&&(G===ae.getAttribute("slot")||G===ae["s-sn"])||3===ae.nodeType&&G===ae["s-sn"]){A.hidden=!0;break}}else if(1===ae.nodeType||3===ae.nodeType&&""!==ae.textContent.trim()){A.hidden=!0;break}}Ye(A)}},Ae=[],wt=E=>{let O,A,G;for(const ae of E.childNodes){if(ae["s-sr"]&&(O=ae["s-cr"])&&O.parentNode){A=O.parentNode.childNodes;const ot=ae["s-sn"];for(G=A.length-1;G>=0;G--)if(O=A[G],!(O["s-cn"]||O["s-nr"]||O["s-hn"]===ae["s-hn"]||O["s-sh"]&&O["s-sh"]===ae["s-hn"]))if(he(O,ot)){let an=Ae.find(Tt=>Tt.$nodeToRelocate$===O);ve=!0,O["s-sn"]=O["s-sn"]||ot,an?(an.$nodeToRelocate$["s-sh"]=ae["s-hn"],an.$slotRefNode$=ae):(O["s-sh"]=ae["s-hn"],Ae.push({$slotRefNode$:ae,$nodeToRelocate$:O})),O["s-sr"]&&Ae.map(Tt=>{he(Tt.$nodeToRelocate$,O["s-sn"])&&(an=Ae.find(qt=>qt.$nodeToRelocate$===O),an&&!Tt.$slotRefNode$&&(Tt.$slotRefNode$=an.$slotRefNode$))})}else Ae.some(an=>an.$nodeToRelocate$===O)||Ae.push({$nodeToRelocate$:O})}1===ae.nodeType&&wt(ae)}},he=(E,O)=>1===E.nodeType?null===E.getAttribute("slot")&&""===O||E.getAttribute("slot")===O:E["s-sn"]===O||""===O,ce=E=>{E.$attrs$&&E.$attrs$.ref&&E.$attrs$.ref(null),E.$children$&&E.$children$.map(ce)},ze=(E,O,A)=>{const G=null==E?void 0:E.insertBefore(O,A);return gn(O,E),G},Qt=E=>{const O=[];return E&&O.push(...E["s-scs"]||[],E["s-si"],E["s-sc"],...Qt(E.parentElement)),O},gn=(E,O,A=!1)=>{var G;if(E&&O&&1===E.nodeType){const ae=new Set(Qt(O).filter(Boolean));if(ae.size&&(null==(G=E.classList)||G.add(...E["s-scs"]=[...ae]),E["s-ol"]||A))for(const ot of Array.from(E.childNodes))gn(ot,E,!0)}},Yn=(E,O)=>{O&&!E.$onRenderResolve$&&O["s-p"]&&O["s-p"].push(new Promise(A=>E.$onRenderResolve$=A))},Sr=(E,O)=>{if(E.$flags$|=16,!(4&E.$flags$))return Yn(E,E.$ancestorComponent$),yt(()=>sr(E,O));E.$flags$|=512},sr=(E,O)=>{const ae=E.$lazyInstance$;if(!ae)throw new Error(`Can't render component <${E.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let ot;return O&&(E.$flags$|=256,E.$queuedListeners$&&(E.$queuedListeners$.map(([an,Tt])=>Yi(ae,an,Tt)),E.$queuedListeners$=void 0),ot=Yi(ae,"componentWillLoad")),ot=Hi(ot,()=>Yi(ae,"componentWillRender")),Hi(ot,()=>Ri(E,ae,O))},Hi=(E,O)=>mr(E)?E.then(O).catch(A=>{console.error(A),O()}):O(),mr=E=>E instanceof Promise||E&&E.then&&"function"==typeof E.then,Ri=function(){var E=(0,d.A)(function*(O,A,G){var ae;const ot=O.$hostElement$,Tt=ot["s-rc"];G&&(E=>{const O=E.$cmpMeta$,A=E.$hostElement$,G=O.$flags$,ot=Xt(A.shadowRoot?A.shadowRoot:A.getRootNode(),O,E.$modeName$);10&G&&2&G&&(A["s-sc"]=ot,A.classList.add(ot+"-h"),2&G&&A.classList.add(ot+"-s"))})(O);ji(O,A,ot,G),Tt&&(Tt.map(dn=>dn()),ot["s-rc"]=void 0);{const dn=null!=(ae=ot["s-p"])?ae:[],xn=()=>Co(O);0===dn.length?xn():(Promise.all(dn).then(xn),O.$flags$|=4,dn.length=0)}});return function(A,G,ae){return E.apply(this,arguments)}}(),ji=(E,O,A,G)=>{try{O=O.render&&O.render(),E.$flags$&=-17,E.$flags$|=2,((E,O,A=!1)=>{var G,ae,ot,an,Tt;const qt=E.$hostElement$,dn=E.$cmpMeta$,xn=E.$vnode$||Hn(null,null),Wn=(E=>E&&E.$tag$===Mn)(O)?O:or(null,null,O);if(Sn=qt.tagName,dn.$attrsToReflect$&&(Wn.$attrs$=Wn.$attrs$||{},dn.$attrsToReflect$.map(([er,lr])=>Wn.$attrs$[lr]=qt[er])),A&&Wn.$attrs$)for(const er of Object.keys(Wn.$attrs$))qt.hasAttribute(er)&&!["key","ref","style","class"].includes(er)&&(Wn.$attrs$[er]=qt[er]);if(Wn.$tag$=null,Wn.$flags$|=4,E.$vnode$=Wn,Wn.$elm$=xn.$elm$=qt.shadowRoot||qt,je=qt["s-sc"],Ve=!!(1&dn.$flags$),tn=qt["s-cr"],ve=!1,Dr(xn,Wn,A),Ze.$flags$|=1,oe){wt(Wn.$elm$);for(const er of Ae){const lr=er.$nodeToRelocate$;if(!lr["s-ol"]){const zr=gt.createTextNode("");zr["s-nr"]=lr,ze(lr.parentNode,lr["s-ol"]=zr,lr)}}for(const er of Ae){const lr=er.$nodeToRelocate$,zr=er.$slotRefNode$;if(zr){const Ei=zr.parentNode;let si=zr.nextSibling;if(si&&1===si.nodeType){let ui=null==(G=lr["s-ol"])?void 0:G.previousSibling;for(;ui;){let di=null!=(ae=ui["s-nr"])?ae:null;if(di&&di["s-sn"]===lr["s-sn"]&&Ei===di.parentNode){for(di=di.nextSibling;di===lr||null!=di&&di["s-sr"];)di=null==di?void 0:di.nextSibling;if(!di||!di["s-nr"]){si=di;break}}ui=ui.previousSibling}}(!si&&Ei!==lr.parentNode||lr.nextSibling!==si)&&lr!==si&&(ze(Ei,lr,si),1===lr.nodeType&&(lr.hidden=null!=(ot=lr["s-ih"])&&ot)),lr&&"function"==typeof zr["s-rf"]&&zr["s-rf"](lr)}else 1===lr.nodeType&&(A&&(lr["s-ih"]=null!=(an=lr.hidden)&&an),lr.hidden=!0)}}if(ve&&Ye(Wn.$elm$),Ze.$flags$&=-2,Ae.length=0,2&dn.$flags$)for(const er of Wn.$elm$.childNodes)er["s-hn"]!==Sn&&!er["s-sh"]&&(A&&null==er["s-ih"]&&(er["s-ih"]=null!=(Tt=er.hidden)&&Tt),er.hidden=!0);tn=void 0})(E,O,G)}catch(ae){Ct(ae,E.$hostElement$)}return null},Co=E=>{const A=E.$hostElement$,ae=E.$lazyInstance$,ot=E.$ancestorComponent$;Yi(ae,"componentDidRender"),64&E.$flags$?Yi(ae,"componentDidUpdate"):(E.$flags$|=64,po(A),Yi(ae,"componentDidLoad"),E.$onReadyResolve$(A),ot||xo()),E.$onInstanceResolve$(A),E.$onRenderResolve$&&(E.$onRenderResolve$(),E.$onRenderResolve$=void 0),512&E.$flags$&&He(()=>Sr(E,!1)),E.$flags$&=-517},ti=E=>{{const O=Ge(E),A=O.$hostElement$.isConnected;return A&&2==(18&O.$flags$)&&Sr(O,!1),A}},xo=E=>{po(gt.documentElement),He(()=>_r(fe,"appload",{detail:{namespace:"ionic"}}))},Yi=(E,O,A)=>{if(E&&E[O])try{return E[O](A)}catch(G){Ct(G)}},po=E=>E.classList.add("hydrated"),Ji=(E,O,A)=>{var G,ae;const ot=E.prototype;if(O.$members$||O.$watchers$||E.watchers){E.watchers&&!O.$watchers$&&(O.$watchers$=E.watchers);const an=Object.entries(null!=(G=O.$members$)?G:{});if(an.map(([Tt,[qt]])=>{31&qt||2&A&&32&qt?Object.defineProperty(ot,Tt,{get(){return((E,O)=>Ge(this).$instanceValues$.get(O))(0,Tt)},set(dn){((E,O,A,G)=>{const ae=Ge(E);if(!ae)throw new Error(`Couldn't find host element for "${G.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const ot=ae.$hostElement$,an=ae.$instanceValues$.get(O),Tt=ae.$flags$,qt=ae.$lazyInstance$;A=((E,O)=>null==E||qn(E)?E:4&O?"false"!==E&&(""===E||!!E):2&O?parseFloat(E):1&O?String(E):E)(A,G.$members$[O][0]);const dn=Number.isNaN(an)&&Number.isNaN(A);if((!(8&Tt)||void 0===an)&&A!==an&&!dn&&(ae.$instanceValues$.set(O,A),qt)){if(G.$watchers$&&128&Tt){const Wn=G.$watchers$[O];Wn&&Wn.map(er=>{try{qt[er](A,an,O)}catch(lr){Ct(lr,ot)}})}2==(18&Tt)&&Sr(ae,!1)}})(this,Tt,dn,O)},configurable:!0,enumerable:!0}):1&A&&64&qt&&Object.defineProperty(ot,Tt,{value(...dn){var xn;const Wn=Ge(this);return null==(xn=null==Wn?void 0:Wn.$onInstancePromise$)?void 0:xn.then(()=>{var er;return null==(er=Wn.$lazyInstance$)?void 0:er[Tt](...dn)})}})}),1&A){const Tt=new Map;ot.attributeChangedCallback=function(qt,dn,xn){Ze.jmp(()=>{var Wn;const er=Tt.get(qt);if(this.hasOwnProperty(er))xn=this[er],delete this[er];else{if(ot.hasOwnProperty(er)&&"number"==typeof this[er]&&this[er]==xn)return;if(null==er){const lr=Ge(this),zr=null==lr?void 0:lr.$flags$;if(zr&&!(8&zr)&&128&zr&&xn!==dn){const Ei=lr.$lazyInstance$,si=null==(Wn=O.$watchers$)?void 0:Wn[qt];null==si||si.forEach(ui=>{null!=Ei[ui]&&Ei[ui].call(Ei,xn,dn,qt)})}return}}this[er]=(null!==xn||"boolean"!=typeof this[er])&&xn})},E.observedAttributes=Array.from(new Set([...Object.keys(null!=(ae=O.$watchers$)?ae:{}),...an.filter(([qt,dn])=>15&dn[0]).map(([qt,dn])=>{var xn;const Wn=dn[1]||qt;return Tt.set(Wn,qt),512&dn[0]&&(null==(xn=O.$attrsToReflect$)||xn.push([qt,Wn])),Wn})]))}}return E},jo=function(){var E=(0,d.A)(function*(O,A,G,ae){let ot;if(!(32&A.$flags$)){if(A.$flags$|=32,G.$lazyBundleId$){const dn=(E=>{const G=E.$tagName$.replace(/-/g,"_"),ae=E.$lazyBundleId$;if(!ae)return;const ot=at.get(ae);return ot?ot[G]:V(8996)(`./${ae}.entry.js`).then(an=>(at.set(ae,an),an[G]),Ct)})(G);if(dn&&"then"in dn){const Wn=()=>{};ot=yield dn,Wn()}else ot=dn;if(!ot)throw new Error(`Constructor for "${G.$tagName$}#${A.$modeName$}" was not found`);ot.isProxied||(G.$watchers$=ot.watchers,Ji(ot,G,2),ot.isProxied=!0);const xn=()=>{};A.$flags$|=8;try{new ot(A)}catch(Wn){Ct(Wn)}A.$flags$&=-9,A.$flags$|=128,xn(),ns(A.$lazyInstance$)}else ot=O.constructor,customElements.whenDefined(O.localName).then(()=>A.$flags$|=128);if(ot&&ot.style){let dn;"string"==typeof ot.style?dn=ot.style:"string"!=typeof ot.style&&(A.$modeName$=(E=>Et.map(O=>O(E)).find(O=>!!O))(O),A.$modeName$&&(dn=ot.style[A.$modeName$]));const xn=Yt(G,A.$modeName$);if(!pt.has(xn)){const Wn=()=>{};((E,O,A)=>{let G=pt.get(E);De&&A?(G=G||new CSSStyleSheet,"string"==typeof G?G=O:G.replaceSync(O)):G=O,pt.set(E,G)})(xn,dn,!!(1&G.$flags$)),Wn()}}}const an=A.$ancestorComponent$,Tt=()=>Sr(A,!0);an&&an["s-rc"]?an["s-rc"].push(Tt):Tt()});return function(A,G,ae,ot){return E.apply(this,arguments)}}(),ns=E=>{Yi(E,"connectedCallback")},go=E=>{const O=E["s-cr"]=gt.createComment("");O["s-cn"]=!0,ze(E,O,E.firstChild)},Xr=E=>{Yi(E,"disconnectedCallback")},fs=function(){var E=(0,d.A)(function*(O){if(!(1&Ze.$flags$)){const A=Ge(O);A.$rmListeners$&&(A.$rmListeners$.map(G=>G()),A.$rmListeners$=void 0),null!=A&&A.$lazyInstance$?Xr(A.$lazyInstance$):null!=A&&A.$onReadyPromise$&&A.$onReadyPromise$.then(()=>Xr(A.$lazyInstance$))}});return function(A){return E.apply(this,arguments)}}(),jr=E=>{const O=E.cloneNode;E.cloneNode=function(A){const G=this,ae=G.shadowRoot&&true,ot=O.call(G,!!ae&&A);if(!ae&&A){let Tt,qt,an=0;const dn=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;an<G.childNodes.length;an++)Tt=G.childNodes[an]["s-nr"],qt=dn.every(xn=>!G.childNodes[an][xn]),Tt&&(ot.__appendChild?ot.__appendChild(Tt.cloneNode(!0)):ot.appendChild(Tt.cloneNode(!0))),qt&&ot.appendChild(G.childNodes[an].cloneNode(!0))}return ot}},Ks=E=>{E.__appendChild=E.appendChild,E.appendChild=function(O){const A=O["s-sn"]=Pi(O),G=br(this.childNodes,A,this.tagName);if(G){const ae=Yo(G,A),ot=ae[ae.length-1],an=ze(ot.parentNode,O,ot.nextSibling);return Ye(this),an}return this.__appendChild(O)}},Is=E=>{E.__removeChild=E.removeChild,E.removeChild=function(O){if(O&&typeof O["s-sn"]<"u"){const A=br(this.childNodes,O["s-sn"],this.tagName);if(A){const ae=Yo(A,O["s-sn"]).find(ot=>ot===O);if(ae)return ae.remove(),void Ye(this)}}return this.__removeChild(O)}},mo=E=>{const O=E.prepend;E.prepend=function(...A){A.forEach(G=>{"string"==typeof G&&(G=this.ownerDocument.createTextNode(G));const ae=G["s-sn"]=Pi(G),ot=br(this.childNodes,ae,this.tagName);if(ot){const an=document.createTextNode("");an["s-nr"]=G,ot["s-cr"].parentNode.__appendChild(an),G["s-ol"]=an;const qt=Yo(ot,ae)[0];return ze(qt.parentNode,G,qt.nextSibling)}return 1===G.nodeType&&G.getAttribute("slot")&&(G.hidden=!0),O.call(this,G)})}},Mi=E=>{E.append=function(...O){O.forEach(A=>{"string"==typeof A&&(A=this.ownerDocument.createTextNode(A)),this.appendChild(A)})}},Es=E=>{const O=E.insertAdjacentHTML;E.insertAdjacentHTML=function(A,G){if("afterbegin"!==A&&"beforeend"!==A)return O.call(this,A,G);const ae=this.ownerDocument.createElement("_");let ot;if(ae.innerHTML=G,"afterbegin"===A)for(;ot=ae.firstChild;)this.prepend(ot);else if("beforeend"===A)for(;ot=ae.firstChild;)this.append(ot)}},No=E=>{E.insertAdjacentText=function(O,A){this.insertAdjacentHTML(O,A)}},Nr=E=>{const O=E.insertAdjacentElement;E.insertAdjacentElement=function(A,G){return"afterbegin"!==A&&"beforeend"!==A?O.call(this,A,G):"afterbegin"===A?(this.prepend(G),G):("beforeend"===A&&this.append(G),G)}},Xs=E=>{const O=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(E,"__textContent",O),Object.defineProperty(E,"textContent",{get(){return" "+Ii(this.childNodes).map(ae=>{var ot,an;const Tt=[];let qt=ae.nextSibling;for(;qt&&qt["s-sn"]===ae["s-sn"];)(3===qt.nodeType||1===qt.nodeType)&&Tt.push(null!=(an=null==(ot=qt.textContent)?void 0:ot.trim())?an:""),qt=qt.nextSibling;return Tt.filter(dn=>""!==dn).join(" ")}).filter(ae=>""!==ae).join(" ")+" "},set(A){Ii(this.childNodes).forEach(ae=>{let ot=ae.nextSibling;for(;ot&&ot["s-sn"]===ae["s-sn"];){const an=ot;ot=ot.nextSibling,an.remove()}if(""===ae["s-sn"]){const an=this.ownerDocument.createTextNode(A);an["s-sn"]="",ze(ae.parentElement,an,ae.nextSibling)}else ae.remove()})}})},mi=(E,O)=>{class A extends Array{item(ae){return this[ae]}}if(8&O.$flags$){const G=E.__lookupGetter__("childNodes");Object.defineProperty(E,"children",{get(){return this.childNodes.map(ae=>1===ae.nodeType)}}),Object.defineProperty(E,"childElementCount",{get:()=>E.children.length}),Object.defineProperty(E,"childNodes",{get(){const ae=G.call(this);if(!(1&Ze.$flags$)&&2&Ge(this).$flags$){const ot=new A;for(let an=0;an<ae.length;an++){const Tt=ae[an]["s-nr"];Tt&&ot.push(Tt)}return ot}return A.from(ae)}})}},Ii=E=>{const O=[];for(const A of Array.from(E))A["s-sr"]&&O.push(A),O.push(...Ii(A.childNodes));return O},Pi=E=>E["s-sn"]||1===E.nodeType&&E.getAttribute("slot")||"",br=(E,O,A)=>{let ae,G=0;for(;G<E.length;G++)if(ae=E[G],ae["s-sr"]&&ae["s-sn"]===O&&ae["s-hn"]===A||(ae=br(ae.childNodes,O,A),ae))return ae;return null},Yo=(E,O)=>{const A=[E];for(;(E=E.nextSibling)&&E["s-sn"]===O;)A.push(E);return A},co=(E,O={})=>{var A;const ae=[],ot=O.exclude||[],an=fe.customElements,Tt=gt.head,qt=Tt.querySelector("meta[charset]"),dn=gt.createElement("style"),xn=[];let Wn,er=!0;Object.assign(Ze,O),Ze.$resourcesUrl$=new URL(O.resourcesUrl||"./",gt.baseURI).href,Ze.$flags$|=2;let lr=!1;if(E.map(zr=>{zr[1].map(Ei=>{var si;const ui={$flags$:Ei[0],$tagName$:Ei[1],$members$:Ei[2],$listeners$:Ei[3]};4&ui.$flags$&&(lr=!0),ui.$members$=Ei[2],ui.$listeners$=Ei[3],ui.$attrsToReflect$=[],ui.$watchers$=null!=(si=Ei[4])?si:{};const di=ui.$tagName$,uo=class extends HTMLElement{constructor(To){if(super(To),this.hasRegisteredEventListeners=!1,((E,O)=>{const A={$flags$:0,$hostElement$:E,$cmpMeta$:O,$instanceValues$:new Map};A.$onInstancePromise$=new Promise(G=>A.$onInstanceResolve$=G),A.$onReadyPromise$=new Promise(G=>A.$onReadyResolve$=G),E["s-p"]=[],E["s-rc"]=[],Re.set(E,A)})(To=this,ui),1&ui.$flags$)if(To.shadowRoot){if("open"!==To.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${ui.$tagName$}! Mode is set to ${To.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else To.attachShadow({mode:"open",delegatesFocus:!!(16&ui.$flags$)})}connectedCallback(){const To=Ge(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ni(this,To,ui.$listeners$)),Wn&&(clearTimeout(Wn),Wn=null),er?xn.push(this):Ze.jmp(()=>(E=>{if(!(1&Ze.$flags$)){const O=Ge(E),A=O.$cmpMeta$,G=()=>{};if(1&O.$flags$)ni(E,O,A.$listeners$),null!=O&&O.$lazyInstance$?ns(O.$lazyInstance$):null!=O&&O.$onReadyPromise$&&O.$onReadyPromise$.then(()=>ns(O.$lazyInstance$));else{let ae;if(O.$flags$|=1,ae=E.getAttribute(we),ae){if(1&A.$flags$){const ot=Xt(E.shadowRoot,A,E.getAttribute("s-mode"));E.classList.remove(ot+"-h",ot+"-s")}((E,O,A,G)=>{const ot=E.shadowRoot,an=[],qt=ot?[]:null,dn=G.$vnode$=Hn(O,null);Ze.$orgLocNodes$||wn(gt.body,Ze.$orgLocNodes$=new Map),E[we]=A,E.removeAttribute(we),Vr(dn,an,[],qt,E,E,A),an.map(xn=>{const Wn=xn.$hostId$+"."+xn.$nodeId$,er=Ze.$orgLocNodes$.get(Wn),lr=xn.$elm$;er&&""===er["s-en"]&&er.parentNode.insertBefore(lr,er.nextSibling),ot||(lr["s-hn"]=O,er&&(lr["s-ol"]=er,lr["s-ol"]["s-nr"]=lr)),Ze.$orgLocNodes$.delete(Wn)}),ot&&qt.map(xn=>{xn&&ot.appendChild(xn)})})(E,A.$tagName$,ae,O)}ae||12&A.$flags$&&go(E);{let ot=E;for(;ot=ot.parentNode||ot.host;)if(1===ot.nodeType&&ot.hasAttribute("s-id")&&ot["s-p"]||ot["s-p"]){Yn(O,O.$ancestorComponent$=ot);break}}A.$members$&&Object.entries(A.$members$).map(([ot,[an]])=>{if(31&an&&E.hasOwnProperty(ot)){const Tt=E[ot];delete E[ot],E[ot]=Tt}}),jo(E,O,A)}G()}})(this))}disconnectedCallback(){Ze.jmp(()=>fs(this))}componentOnReady(){return Ge(this).$onReadyPromise$}};2&ui.$flags$&&((E,O)=>{jr(E),Ks(E),Mi(E),mo(E),Nr(E),Es(E),No(E),Xs(E),mi(E,O),Is(E)})(uo.prototype,ui),ui.$lazyBundleId$=zr[0],!ot.includes(di)&&!an.get(di)&&(ae.push(di),an.define(di,Ji(uo,ui,1)))})}),ae.length>0&&(lr&&(dn.textContent+=ht),dn.textContent+=ae.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",dn.innerHTML.length)){dn.setAttribute("data-styles","");const zr=null!=(A=Ze.$nonce$)?A:en(gt);null!=zr&&dn.setAttribute("nonce",zr),Tt.insertBefore(dn,qt?qt.nextSibling:Tt.firstChild)}er=!1,xn.length?xn.map(zr=>zr.connectedCallback()):Ze.jmp(()=>Wn=setTimeout(xo,30))},ni=(E,O,A,G)=>{A&&A.map(([ae,ot,an])=>{const Tt=Oo(E,ae),qt=rs(O,an),dn=Di(ae);Ze.ael(Tt,ot,qt,dn),(O.$rmListeners$=O.$rmListeners$||[]).push(()=>Ze.rel(Tt,ot,qt,dn))})},rs=(E,O)=>A=>{var G;try{256&E.$flags$?null==(G=E.$lazyInstance$)||G[O](A):(E.$queuedListeners$=E.$queuedListeners$||[]).push([O,A])}catch(ae){Ct(ae)}},Oo=(E,O)=>4&O?gt:8&O?fe:16&O?gt.body:E,Di=E=>pn?{passive:!!(1&E),capture:!!(2&E)}:!!(2&E)},8607:(kn,Mt,V)=>{"use strict";V.r(Mt),V.d(Mt,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>ft});var d=V(1970);const o=(at,et,pt,Et)=>{const vt=$(at)?{capture:!!Et.capture,passive:!!Et.passive}:!!Et.capture;let ut,Ot;return at.__zone_symbol__addEventListener?(ut="__zone_symbol__addEventListener",Ot="__zone_symbol__removeEventListener"):(ut="addEventListener",Ot="removeEventListener"),at[ut](et,pt,vt),()=>{at[Ot](et,pt,vt)}},$=at=>{if(void 0===be)try{const et=Object.defineProperty({},"passive",{get:()=>{be=!0}});at.addEventListener("optsTest",()=>{},et)}catch{be=!1}return!!be};let be;const Re=at=>at instanceof Document?at:at.ownerDocument,ft=at=>{let et=!1,pt=!1,Et=!0,vt=!1;const ut=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},at),Ot=ut.canStart,St=ut.onWillStart,we=ut.onStart,xe=ut.onEnd,Ne=ut.notCaptured,st=ut.onMove,ht=ut.threshold,nt=ut.passive,fe=ut.blurOnStart,gt={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},mt=((at,et,pt)=>{const Et=pt*(Math.PI/180),vt="x"===at,ut=Math.cos(Et),Ot=et*et;let St=0,we=0,xe=!1,Ne=0;return{start(st,ht){St=st,we=ht,Ne=0,xe=!0},detect(st,ht){if(!xe)return!1;const nt=st-St,fe=ht-we,gt=nt*nt+fe*fe;if(gt<Ot)return!1;const mt=Math.sqrt(gt),Ze=(vt?nt:fe)/mt;return Ne=Ze>ut?1:Ze<-ut?-1:0,xe=!1,!0},isGesture:()=>0!==Ne,getDirection:()=>Ne}})(ut.direction,ut.threshold,ut.maxAngle),Ze=d.G.createGesture({name:at.gestureName,priority:at.gesturePriority,disableScroll:at.disableScroll}),pn=()=>{et&&(vt=!1,st&&st(gt))},We=()=>!!Ze.capture()&&(et=!0,Et=!1,gt.startX=gt.currentX,gt.startY=gt.currentY,gt.startTime=gt.currentTime,St?St(gt).then(_e):_e(),!0),_e=()=>{fe&&(()=>{if(typeof document<"u"){const tt=document.activeElement;null!=tt&&tt.blur&&tt.blur()}})(),we&&we(gt),Et=!0},Se=()=>{et=!1,pt=!1,vt=!1,Et=!0,Ze.release()},se=tt=>{const He=et,lt=Et;if(Se(),lt){if(it(gt,tt),He)return void(xe&&xe(gt));Ne&&Ne(gt)}},Oe=((at,et,pt,Et,vt)=>{let ut,Ot,St,we,xe,Ne,st,ht=0;const nt=De=>{ht=Date.now()+2e3,et(De)&&(!Ot&&pt&&(Ot=o(at,"touchmove",pt,vt)),St||(St=o(De.target,"touchend",gt,vt)),we||(we=o(De.target,"touchcancel",gt,vt)))},fe=De=>{ht>Date.now()||et(De)&&(!Ne&&pt&&(Ne=o(Re(at),"mousemove",pt,vt)),st||(st=o(Re(at),"mouseup",mt,vt)))},gt=De=>{Ze(),Et&&Et(De)},mt=De=>{Lt(),Et&&Et(De)},Ze=()=>{Ot&&Ot(),St&&St(),we&&we(),Ot=St=we=void 0},Lt=()=>{Ne&&Ne(),st&&st(),Ne=st=void 0},Vt=()=>{Ze(),Lt()},pn=(De=!0)=>{De?(ut||(ut=o(at,"touchstart",nt,vt)),xe||(xe=o(at,"mousedown",fe,vt))):(ut&&ut(),xe&&xe(),ut=xe=void 0,Vt())};return{enable:pn,stop:Vt,destroy:()=>{pn(!1),Et=pt=et=void 0}}})(ut.el,tt=>{const He=Ct(tt);return!(pt||!Et||(Me(tt,gt),gt.startX=gt.currentX,gt.startY=gt.currentY,gt.startTime=gt.currentTime=He,gt.velocityX=gt.velocityY=gt.deltaX=gt.deltaY=0,gt.event=tt,Ot&&!1===Ot(gt))||(Ze.release(),!Ze.start()))&&(pt=!0,0===ht?We():(mt.start(gt.startX,gt.startY),!0))},tt=>{et?!vt&&Et&&(vt=!0,it(gt,tt),requestAnimationFrame(pn)):(it(gt,tt),mt.detect(gt.currentX,gt.currentY)&&(!mt.isGesture()||!We())&&Ke())},se,{capture:!1,passive:nt}),Ke=()=>{Se(),Oe.stop(),Ne&&Ne(gt)};return{enable(tt=!0){tt||(et&&se(void 0),Se()),Oe.enable(tt)},destroy(){Ze.destroy(),Oe.destroy()}}},it=(at,et)=>{if(!et)return;const pt=at.currentX,Et=at.currentY,vt=at.currentTime;Me(et,at);const ut=at.currentX,Ot=at.currentY,we=(at.currentTime=Ct(et))-vt;if(we>0&&we<100){const Ne=(Ot-Et)/we;at.velocityX=(ut-pt)/we*.7+.3*at.velocityX,at.velocityY=.7*Ne+.3*at.velocityY}at.deltaX=ut-at.startX,at.deltaY=Ot-at.startY,at.event=et},Me=(at,et)=>{let pt=0,Et=0;if(at){const vt=at.changedTouches;if(vt&&vt.length>0){const ut=vt[0];pt=ut.clientX,Et=ut.clientY}else void 0!==at.pageX&&(pt=at.pageX,Et=at.pageY)}et.currentX=pt,et.currentY=Et},Ct=at=>at.timeStamp||Date.now()},3604:(kn,Mt,V)=>{"use strict";V.d(Mt,{b:()=>Ge,c:()=>ft,d:()=>it,e:()=>Vt,g:()=>De,l:()=>Ze,s:()=>pn,t:()=>ut,w:()=>Lt});var d=V(467),o=V(9483),$=V(4261),be=V(4929),W=V(4920);const Ge="ionViewWillLeave",ft="ionViewDidLeave",it="ionViewWillUnload",Me=_e=>{_e.tabIndex=-1,_e.focus()},Ct=_e=>null!==_e.offsetParent,et="ion-last-focus",vt_saveViewFocus=se=>{if(o.c.get("focusManagerPriority",!1)){const Ke=document.activeElement;null!==Ke&&null!=se&&se.contains(Ke)&&Ke.setAttribute(et,"true")}},vt_setViewFocus=se=>{const Oe=o.c.get("focusManagerPriority",!1);if(Array.isArray(Oe)&&!se.contains(document.activeElement)){const Ke=se.querySelector(`[${et}]`);if(Ke&&Ct(Ke))return void Me(Ke);for(const tt of Oe)switch(tt){case"content":const He=se.querySelector('main, [role="main"]');if(He&&Ct(He))return void Me(He);break;case"heading":const lt=se.querySelector('h1, [role="heading"][aria-level="1"]');if(lt&&Ct(lt))return void Me(lt);break;case"banner":const yt=se.querySelector('header, [role="banner"]');if(yt&&Ct(yt))return void Me(yt);break;default:(0,be.p)(`Unrecognized focus manager priority value ${tt}`)}Me(se)}},ut=_e=>new Promise((Se,se)=>{(0,$.w)(()=>{Ot(_e),St(_e).then(Oe=>{Oe.animation&&Oe.animation.destroy(),we(_e),Se(Oe)},Oe=>{we(_e),se(Oe)})})}),Ot=_e=>{const Se=_e.enteringEl,se=_e.leavingEl;vt_saveViewFocus(se),We(Se,se,_e.direction),_e.showGoBack?Se.classList.add("can-go-back"):Se.classList.remove("can-go-back"),pn(Se,!1),Se.style.setProperty("pointer-events","none"),se&&(pn(se,!1),se.style.setProperty("pointer-events","none"))},St=function(){var _e=(0,d.A)(function*(Se){const se=yield xe(Se);return se&&$.B.isBrowser?Ne(se,Se):st(Se)});return function(se){return _e.apply(this,arguments)}}(),we=_e=>{const Se=_e.enteringEl,se=_e.leavingEl;Se.classList.remove("ion-page-invisible"),Se.style.removeProperty("pointer-events"),void 0!==se&&(se.classList.remove("ion-page-invisible"),se.style.removeProperty("pointer-events")),vt_setViewFocus(Se)},xe=function(){var _e=(0,d.A)(function*(Se){return Se.leavingEl&&Se.animated&&0!==Se.duration?Se.animationBuilder?Se.animationBuilder:"ios"===Se.mode?(yield Promise.resolve().then(V.bind(V,5022))).iosTransitionAnimation:(yield Promise.resolve().then(V.bind(V,3615))).mdTransitionAnimation:void 0});return function(se){return _e.apply(this,arguments)}}(),Ne=function(){var _e=(0,d.A)(function*(Se,se){yield ht(se,!0);const Oe=Se(se.baseEl,se);gt(se.enteringEl,se.leavingEl);const Ke=yield fe(Oe,se);return se.progressCallback&&se.progressCallback(void 0),Ke&&mt(se.enteringEl,se.leavingEl),{hasCompleted:Ke,animation:Oe}});return function(se,Oe){return _e.apply(this,arguments)}}(),st=function(){var _e=(0,d.A)(function*(Se){const se=Se.enteringEl,Oe=Se.leavingEl,Ke=o.c.get("focusManagerPriority",!1);return yield ht(Se,Ke),gt(se,Oe),mt(se,Oe),{hasCompleted:!0}});return function(se){return _e.apply(this,arguments)}}(),ht=function(){var _e=(0,d.A)(function*(Se,se){(void 0!==Se.deepWait?Se.deepWait:se)&&(yield Promise.all([Vt(Se.enteringEl),Vt(Se.leavingEl)])),yield nt(Se.viewIsReady,Se.enteringEl)});return function(se,Oe){return _e.apply(this,arguments)}}(),nt=function(){var _e=(0,d.A)(function*(Se,se){Se&&(yield Se(se))});return function(se,Oe){return _e.apply(this,arguments)}}(),fe=(_e,Se)=>{const se=Se.progressCallback,Oe=new Promise(Ke=>{_e.onFinish(tt=>Ke(1===tt))});return se?(_e.progressStart(!0),se(_e)):_e.play(),Oe},gt=(_e,Se)=>{Ze(Se,Ge),Ze(_e,"ionViewWillEnter")},mt=(_e,Se)=>{Ze(_e,"ionViewDidEnter"),Ze(Se,ft)},Ze=(_e,Se)=>{if(_e){const se=new CustomEvent(Se,{bubbles:!1,cancelable:!1});_e.dispatchEvent(se)}},Lt=()=>new Promise(_e=>(0,W.r)(()=>(0,W.r)(()=>_e()))),Vt=function(){var _e=(0,d.A)(function*(Se){const se=Se;if(se){if(null!=se.componentOnReady){if(null!=(yield se.componentOnReady()))return}else if(null!=se.__registerHost)return void(yield new Promise(Ke=>(0,W.r)(Ke)));yield Promise.all(Array.from(se.children).map(Vt))}});return function(se){return _e.apply(this,arguments)}}(),pn=(_e,Se)=>{Se?(_e.setAttribute("aria-hidden","true"),_e.classList.add("ion-page-hidden")):(_e.hidden=!1,_e.removeAttribute("aria-hidden"),_e.classList.remove("ion-page-hidden"))},We=(_e,Se,se)=>{void 0!==_e&&(_e.style.zIndex="back"===se?"99":"101"),void 0!==Se&&(Se.style.zIndex="100")},De=_e=>_e.classList.contains("ion-page")?_e:_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||_e},4929:(kn,Mt,V)=>{"use strict";V.d(Mt,{a:()=>o,b:()=>$,p:()=>d});const d=(be,...W)=>console.warn(`[Ionic Warning]: ${be}`,...W),o=(be,...W)=>console.error(`[Ionic Error]: ${be}`,...W),$=(be,...W)=>console.error(`<${be.tagName.toLowerCase()}> must be used inside ${W.join(" or ")}.`)},8476:(kn,Mt,V)=>{"use strict";V.d(Mt,{d:()=>o,w:()=>d});const d=typeof window<"u"?window:void 0,o=typeof document<"u"?document:void 0},9483:(kn,Mt,V)=>{"use strict";V.d(Mt,{a:()=>Me,b:()=>pn,c:()=>$,i:()=>We});var d=V(4261);class o{constructor(){this.m=new Map}reset(_e){this.m=new Map(Object.entries(_e))}get(_e,Se){const se=this.m.get(_e);return void 0!==se?se:Se}getBoolean(_e,Se=!1){const se=this.m.get(_e);return void 0===se?Se:"string"==typeof se?"true"===se:!!se}getNumber(_e,Se){const se=parseFloat(this.m.get(_e));return isNaN(se)?void 0!==Se?Se:NaN:se}set(_e,Se){this.m.set(_e,Se)}}const $=new o,ft="ionic-persist-config",Me=(De,_e)=>("string"==typeof De&&(_e=De,De=void 0),(De=>Ct(De))(De).includes(_e)),Ct=(De=window)=>{if(typeof De>"u")return[];De.Ionic=De.Ionic||{};let _e=De.Ionic.platforms;return null==_e&&(_e=De.Ionic.platforms=at(De),_e.forEach(Se=>De.document.documentElement.classList.add(`plt-${Se}`))),_e},at=De=>{const _e=$.get("platform");return Object.keys(Lt).filter(Se=>{const se=null==_e?void 0:_e[Se];return"function"==typeof se?se(De):Lt[Se](De)})},pt=De=>!!(mt(De,/iPad/i)||mt(De,/Macintosh/i)&&xe(De)),ut=De=>mt(De,/android|sink/i),xe=De=>Ze(De,"(any-pointer:coarse)"),st=De=>ht(De)||nt(De),ht=De=>!!(De.cordova||De.phonegap||De.PhoneGap),nt=De=>{const _e=De.Capacitor;return!(null==_e||!_e.isNative)},mt=(De,_e)=>_e.test(De.navigator.userAgent),Ze=(De,_e)=>{var Se;return null===(Se=De.matchMedia)||void 0===Se?void 0:Se.call(De,_e).matches},Lt={ipad:pt,iphone:De=>mt(De,/iPhone/i),ios:De=>mt(De,/iPhone|iPod/i)||pt(De),android:ut,phablet:De=>{const _e=De.innerWidth,Se=De.innerHeight,se=Math.min(_e,Se),Oe=Math.max(_e,Se);return se>390&&se<520&&Oe>620&&Oe<800},tablet:De=>{const _e=De.innerWidth,Se=De.innerHeight,se=Math.min(_e,Se),Oe=Math.max(_e,Se);return pt(De)||(De=>ut(De)&&!mt(De,/mobile/i))(De)||se>460&&se<820&&Oe>780&&Oe<1400},cordova:ht,capacitor:nt,electron:De=>mt(De,/electron/i),pwa:De=>{var _e;return!!(null!==(_e=De.matchMedia)&&void 0!==_e&&_e.call(De,"(display-mode: standalone)").matches||De.navigator.standalone)},mobile:xe,mobileweb:De=>xe(De)&&!st(De),desktop:De=>!xe(De),hybrid:st};let Vt;const pn=De=>De&&(0,d.g)(De)||Vt,We=(De={})=>{if(typeof window>"u")return;const _e=window.document,Se=window,se=Se.Ionic=Se.Ionic||{},Oe={};De._ael&&(Oe.ael=De._ael),De._rel&&(Oe.rel=De._rel),De._ce&&(Oe.ce=De._ce),(0,d.a)(Oe);const Ke=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(De=>{try{const _e=De.sessionStorage.getItem(ft);return null!==_e?JSON.parse(_e):{}}catch{return{}}})(Se)),{persistConfig:!1}),se.config),(De=>{const _e={};return De.location.search.slice(1).split("&").map(Se=>Se.split("=")).map(([Se,se])=>{try{return[decodeURIComponent(Se),decodeURIComponent(se)]}catch{return["",""]}}).filter(([Se])=>((De,_e)=>De.substr(0,_e.length)===_e)(Se,"ionic:")).map(([Se,se])=>[Se.slice(6),se]).forEach(([Se,se])=>{_e[Se]=se}),_e})(Se)),De);$.reset(Ke),$.getBoolean("persistConfig")&&((De,_e)=>{try{De.sessionStorage.setItem(ft,JSON.stringify(_e))}catch{return}})(Se,Ke),Ct(Se),se.config=$,se.mode=Vt=$.get("mode",_e.documentElement.getAttribute("mode")||(Me(Se,"ios")?"ios":"md")),$.set("mode",Vt),_e.documentElement.setAttribute("mode",Vt),_e.documentElement.classList.add(Vt),$.getBoolean("_testing")&&$.set("animated",!1);const tt=lt=>{var yt;return null===(yt=lt.tagName)||void 0===yt?void 0:yt.startsWith("ION-")},He=lt=>["ios","md"].includes(lt);(0,d.c)(lt=>{for(;lt;){const yt=lt.mode||lt.getAttribute("mode");if(yt){if(He(yt))return yt;tt(lt)&&console.warn('Invalid ionic mode: "'+yt+'", expected: "ios" or "md"')}lt=lt.parentElement}return Vt})}},5022:(kn,Mt,V)=>{"use strict";V.r(Mt),V.d(Mt,{iosTransitionAnimation:()=>et,shadow:()=>Ge});var d=V(9986),o=V(3604);V(8476),V(9483),V(4261);const Re=Et=>document.querySelector(`${Et}.ion-cloned-element`),Ge=Et=>Et.shadowRoot||Et,ft=Et=>{const vt="ION-TABS"===Et.tagName?Et:Et.querySelector("ion-tabs"),ut="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=vt){const Ot=vt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Ot?Ot.querySelector(ut):null}return Et.querySelector(ut)},it=(Et,vt)=>{const ut="ION-TABS"===Et.tagName?Et:Et.querySelector("ion-tabs");let Ot=[];if(null!=ut){const St=ut.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=St&&(Ot=St.querySelectorAll("ion-buttons"))}else Ot=Et.querySelectorAll("ion-buttons");for(const St of Ot){const we=St.closest("ion-header"),xe=we&&!we.classList.contains("header-collapse-condense-inactive"),Ne=St.querySelector("ion-back-button"),st=St.classList.contains("buttons-collapse");if(null!==Ne&&("start"===St.slot||""===St.slot)&&(st&&xe&&vt||!st))return Ne}return null},Ct=(Et,vt,ut,Ot,St,we,xe,Ne,st)=>{var ht,nt;const fe=vt?`calc(100% - ${St.right+4}px)`:St.left-4+"px",gt=vt?"right":"left",mt=vt?"left":"right",Ze=vt?"right":"left";let Lt=1,Vt=1,pn=`scale(${Vt})`;const We="scale(1)";if(we&&xe){const Le=(null===(ht=we.textContent)||void 0===ht?void 0:ht.trim())===(null===(nt=Ne.textContent)||void 0===nt?void 0:nt.trim());Lt=st.width/xe.width,Vt=(st.height-pt)/xe.height,pn=Le?`scale(${Lt}, ${Vt})`:`scale(${Vt})`}const _e=Ge(Ot).querySelector("ion-icon").getBoundingClientRect(),Se=vt?_e.width/2-(_e.right-St.right)+"px":St.left-_e.width/2+"px",se=vt?`-${window.innerWidth-St.right}px`:`${St.left}px`,Oe=`${st.top}px`,Ke=`${St.top}px`,lt=ut?[{offset:0,transform:`translate3d(${se}, ${Ke}, 0)`},{offset:1,transform:`translate3d(${Se}, ${Oe}, 0)`}]:[{offset:0,transform:`translate3d(${Se}, ${Oe}, 0)`},{offset:1,transform:`translate3d(${se}, ${Ke}, 0)`}],Fn=ut?[{offset:0,opacity:1,transform:We},{offset:1,opacity:0,transform:pn}]:[{offset:0,opacity:0,transform:pn},{offset:1,opacity:1,transform:We}],Ln=ut?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],qn=(0,d.c)(),en=(0,d.c)(),zt=(0,d.c)(),Un=Re("ion-back-button"),sn=Ge(Un).querySelector(".button-text"),Fe=Ge(Un).querySelector("ion-icon");Un.text=Ot.text,Un.mode=Ot.mode,Un.icon=Ot.icon,Un.color=Ot.color,Un.disabled=Ot.disabled,Un.style.setProperty("display","block"),Un.style.setProperty("position","fixed"),en.addElement(Fe),qn.addElement(sn),zt.addElement(Un),zt.beforeStyles({position:"absolute",top:"0px",[Ze]:"0px"}).beforeAddWrite(()=>{Ot.style.setProperty("display","none"),Un.style.setProperty(gt,fe)}).afterAddWrite(()=>{Ot.style.setProperty("display",""),Un.style.setProperty("display","none"),Un.style.removeProperty(gt)}).keyframes(lt),qn.beforeStyles({"transform-origin":`${gt} top`}).keyframes(Fn),en.beforeStyles({"transform-origin":`${mt} center`}).keyframes(Ln),Et.addAnimation([qn,en,zt])},at=(Et,vt,ut,Ot,St,we,xe,Ne,st)=>{var ht,nt;const fe=vt?"right":"left",gt=vt?`calc(100% - ${St.right}px)`:`${St.left}px`,Ze=`${St.top}px`;let Vt=vt?`-${window.innerWidth-xe.right-8}px`:`${xe.x+8}px`,pn=.5;const We="scale(1)";let De=`scale(${pn})`;if(Ne&&st){Vt=vt?`-${window.innerWidth-st.right-8}px`:st.x-8+"px";const yt=(null===(ht=Ne.textContent)||void 0===ht?void 0:ht.trim())===(null===(nt=Ot.textContent)||void 0===nt?void 0:nt.trim());pn=st.height/(we.height-pt),De=yt?`scale(${st.width/we.width}, ${pn})`:`scale(${pn})`}const se=xe.top+xe.height/2-St.height*pn/2+"px",tt=ut?[{offset:0,opacity:0,transform:`translate3d(${Vt}, ${se}, 0) ${De}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ze}, 0) ${We}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ze}, 0) ${We}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Vt}, ${se}, 0) ${De}`}],He=Re("ion-title"),lt=(0,d.c)();He.innerText=Ot.innerText,He.size=Ot.size,He.color=Ot.color,lt.addElement(He),lt.beforeStyles({"transform-origin":`${fe} top`,height:`${St.height}px`,display:"",position:"relative",[fe]:gt}).beforeAddWrite(()=>{Ot.style.setProperty("opacity","0")}).afterAddWrite(()=>{Ot.style.setProperty("opacity",""),He.style.setProperty("display","none")}).keyframes(tt),Et.addAnimation(lt)},et=(Et,vt)=>{var ut;try{const Ot="cubic-bezier(0.32,0.72,0,1)",St="opacity",we="transform",xe="0%",st="rtl"===Et.ownerDocument.dir,ht=st?"-99.5%":"99.5%",nt=st?"33%":"-33%",fe=vt.enteringEl,gt=vt.leavingEl,mt="back"===vt.direction,Ze=fe.querySelector(":scope > ion-content"),Lt=fe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Vt=fe.querySelectorAll(":scope > ion-header > ion-toolbar"),pn=(0,d.c)(),We=(0,d.c)();if(pn.addElement(fe).duration((null!==(ut=vt.duration)&&void 0!==ut?ut:0)||540).easing(vt.easing||Ot).fill("both").beforeRemoveClass("ion-page-invisible"),gt&&null!=Et){const se=(0,d.c)();se.addElement(Et),pn.addAnimation(se)}if(Ze||0!==Vt.length||0!==Lt.length?(We.addElement(Ze),We.addElement(Lt)):We.addElement(fe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),pn.addAnimation(We),mt?We.beforeClearStyles([St]).fromTo("transform",`translateX(${nt})`,`translateX(${xe})`).fromTo(St,.8,1):We.beforeClearStyles([St]).fromTo("transform",`translateX(${ht})`,`translateX(${xe})`),Ze){const se=Ge(Ze).querySelector(".transition-effect");if(se){const Oe=se.querySelector(".transition-cover"),Ke=se.querySelector(".transition-shadow"),tt=(0,d.c)(),He=(0,d.c)(),lt=(0,d.c)();tt.addElement(se).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),He.addElement(Oe).beforeClearStyles([St]).fromTo(St,0,.1),lt.addElement(Ke).beforeClearStyles([St]).fromTo(St,.03,.7),tt.addAnimation([He,lt]),We.addAnimation([tt])}}const De=fe.querySelector("ion-header.header-collapse-condense"),{forward:_e,backward:Se}=((Et,vt,ut,Ot,St)=>{const we=it(Ot,ut),xe=ft(St),Ne=ft(Ot),st=it(St,ut),ht=null!==we&&null!==xe&&!ut,nt=null!==Ne&&null!==st&&ut;if(ht){const fe=xe.getBoundingClientRect(),gt=we.getBoundingClientRect(),mt=Ge(we).querySelector(".button-text"),Ze=null==mt?void 0:mt.getBoundingClientRect(),Vt=Ge(xe).querySelector(".toolbar-title").getBoundingClientRect();at(Et,vt,ut,xe,fe,Vt,gt,mt,Ze),Ct(Et,vt,ut,we,gt,mt,Ze,xe,Vt)}else if(nt){const fe=Ne.getBoundingClientRect(),gt=st.getBoundingClientRect(),mt=Ge(st).querySelector(".button-text"),Ze=null==mt?void 0:mt.getBoundingClientRect(),Vt=Ge(Ne).querySelector(".toolbar-title").getBoundingClientRect();at(Et,vt,ut,Ne,fe,Vt,gt,mt,Ze),Ct(Et,vt,ut,st,gt,mt,Ze,Ne,Vt)}return{forward:ht,backward:nt}})(pn,st,mt,fe,gt);if(Vt.forEach(se=>{const Oe=(0,d.c)();Oe.addElement(se),pn.addAnimation(Oe);const Ke=(0,d.c)();Ke.addElement(se.querySelector("ion-title"));const tt=(0,d.c)(),He=Array.from(se.querySelectorAll("ion-buttons,[menuToggle]")),lt=se.closest("ion-header"),yt=null==lt?void 0:lt.classList.contains("header-collapse-condense-inactive");let Bt;Bt=He.filter(mt?qn=>{const en=qn.classList.contains("buttons-collapse");return en&&!yt||!en}:qn=>!qn.classList.contains("buttons-collapse")),tt.addElement(Bt);const Fn=(0,d.c)();Fn.addElement(se.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const bt=(0,d.c)();bt.addElement(Ge(se).querySelector(".toolbar-background"));const In=(0,d.c)(),Ln=se.querySelector("ion-back-button");if(Ln&&In.addElement(Ln),Oe.addAnimation([Ke,tt,Fn,bt,In]),tt.fromTo(St,.01,1),Fn.fromTo(St,.01,1),mt)yt||Ke.fromTo("transform",`translateX(${nt})`,`translateX(${xe})`).fromTo(St,.01,1),Fn.fromTo("transform",`translateX(${nt})`,`translateX(${xe})`),In.fromTo(St,.01,1);else if(De||Ke.fromTo("transform",`translateX(${ht})`,`translateX(${xe})`).fromTo(St,.01,1),Fn.fromTo("transform",`translateX(${ht})`,`translateX(${xe})`),bt.beforeClearStyles([St,"transform"]),(null==lt?void 0:lt.translucent)?bt.fromTo("transform",st?"translateX(-100%)":"translateX(100%)","translateX(0px)"):bt.fromTo(St,.01,"var(--opacity)"),_e||In.fromTo(St,.01,1),Ln&&!_e){const en=(0,d.c)();en.addElement(Ge(Ln).querySelector(".button-text")).fromTo("transform",st?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Oe.addAnimation(en)}}),gt){const se=(0,d.c)(),Oe=gt.querySelector(":scope > ion-content"),Ke=gt.querySelectorAll(":scope > ion-header > ion-toolbar"),tt=gt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Oe||0!==Ke.length||0!==tt.length?(se.addElement(Oe),se.addElement(tt)):se.addElement(gt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),pn.addAnimation(se),mt){se.beforeClearStyles([St]).fromTo("transform",`translateX(${xe})`,st?"translateX(-100%)":"translateX(100%)");const He=(0,o.g)(gt);pn.afterAddWrite(()=>{"normal"===pn.getDirection()&&He.style.setProperty("display","none")})}else se.fromTo("transform",`translateX(${xe})`,`translateX(${nt})`).fromTo(St,1,.8);if(Oe){const He=Ge(Oe).querySelector(".transition-effect");if(He){const lt=He.querySelector(".transition-cover"),yt=He.querySelector(".transition-shadow"),Bt=(0,d.c)(),Fn=(0,d.c)(),bt=(0,d.c)();Bt.addElement(He).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Fn.addElement(lt).beforeClearStyles([St]).fromTo(St,.1,0),bt.addElement(yt).beforeClearStyles([St]).fromTo(St,.7,.03),Bt.addAnimation([Fn,bt]),se.addAnimation([Bt])}}Ke.forEach(He=>{const lt=(0,d.c)();lt.addElement(He);const yt=(0,d.c)();yt.addElement(He.querySelector("ion-title"));const Bt=(0,d.c)(),Fn=He.querySelectorAll("ion-buttons,[menuToggle]"),bt=He.closest("ion-header"),In=null==bt?void 0:bt.classList.contains("header-collapse-condense-inactive"),Ln=Array.from(Fn).filter(Fe=>{const Le=Fe.classList.contains("buttons-collapse");return Le&&!In||!Le});Bt.addElement(Ln);const qn=(0,d.c)(),en=He.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");en.length>0&&qn.addElement(en);const zt=(0,d.c)();zt.addElement(Ge(He).querySelector(".toolbar-background"));const Un=(0,d.c)(),sn=He.querySelector("ion-back-button");if(sn&&Un.addElement(sn),lt.addAnimation([yt,Bt,qn,Un,zt]),pn.addAnimation(lt),Un.fromTo(St,.99,0),Bt.fromTo(St,.99,0),qn.fromTo(St,.99,0),mt){if(In||yt.fromTo("transform",`translateX(${xe})`,st?"translateX(-100%)":"translateX(100%)").fromTo(St,.99,0),qn.fromTo("transform",`translateX(${xe})`,st?"translateX(-100%)":"translateX(100%)"),zt.beforeClearStyles([St,"transform"]),(null==bt?void 0:bt.translucent)?zt.fromTo("transform","translateX(0px)",st?"translateX(-100%)":"translateX(100%)"):zt.fromTo(St,"var(--opacity)",0),sn&&!Se){const Le=(0,d.c)();Le.addElement(Ge(sn).querySelector(".button-text")).fromTo("transform",`translateX(${xe})`,`translateX(${(st?-124:124)+"px"})`),lt.addAnimation(Le)}}else In||yt.fromTo("transform",`translateX(${xe})`,`translateX(${nt})`).fromTo(St,.99,0).afterClearStyles([we,St]),qn.fromTo("transform",`translateX(${xe})`,`translateX(${nt})`).afterClearStyles([we,St]),Un.afterClearStyles([St]),yt.afterClearStyles([St]),Bt.afterClearStyles([St])})}return pn}catch(Ot){throw Ot}},pt=10},3615:(kn,Mt,V)=>{"use strict";V.r(Mt),V.d(Mt,{mdTransitionAnimation:()=>Ce});var d=V(9986),o=V(3604);V(8476),V(9483),V(4261);const Ce=(Re,Ge)=>{var ft,it,Me;const et="back"===Ge.direction,Et=Ge.leavingEl,vt=(0,o.g)(Ge.enteringEl),ut=vt.querySelector("ion-toolbar"),Ot=(0,d.c)();if(Ot.addElement(vt).fill("both").beforeRemoveClass("ion-page-invisible"),et?Ot.duration((null!==(ft=Ge.duration)&&void 0!==ft?ft:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Ot.duration((null!==(it=Ge.duration)&&void 0!==it?it:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ut){const St=(0,d.c)();St.addElement(ut),Ot.addAnimation(St)}if(Et&&et){Ot.duration((null!==(Me=Ge.duration)&&void 0!==Me?Me:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const St=(0,d.c)();St.addElement((0,o.g)(Et)).onFinish(we=>{1===we&&St.elements.length>0&&St.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Ot.addAnimation(St)}return Ot}},3617:(kn,Mt,V)=>{"use strict";V.d(Mt,{B:()=>Fn,F:()=>sn,G:()=>bt,O:()=>In,a:()=>vt,b:()=>ut,c:()=>xe,d:()=>Ln,e:()=>qn,f:()=>_e,g:()=>se,h:()=>tt,i:()=>lt,j:()=>st,k:()=>ht,m:()=>St,n:()=>it,o:()=>We,q:()=>Me,s:()=>Bt});var d=V(467),o=V(8476),$=V(4920),be=V(7192),W=V(9483),Ce=V(8621),Re=V(1970),Ge=V(4929);const ft='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',it=(Fe,Le)=>{const Ut=Fe.querySelector(ft);Ct(Ut,null!=Le?Le:Fe)},Me=(Fe,Le)=>{const Ut=Array.from(Fe.querySelectorAll(ft));Ct(Ut.length>0?Ut[Ut.length-1]:null,null!=Le?Le:Fe)},Ct=(Fe,Le)=>{let Ut=Fe;const Ft=null==Fe?void 0:Fe.shadowRoot;if(Ft&&(Ut=Ft.querySelector(ft)||Fe),Ut){const tr=Ut.closest("ion-radio-group");tr?tr.setFocus():(0,$.f)(Ut)}else Le.focus()};let at=0,et=0;const pt=new WeakMap,Et=Fe=>({create:Le=>nt(Fe,Le),dismiss:(Le,Ut,Ft)=>Lt(document,Le,Ut,Fe,Ft),getTop:()=>(0,d.A)(function*(){return We(document,Fe)})()}),vt=Et("ion-alert"),ut=Et("ion-action-sheet"),St=Et("ion-modal"),xe=Et("ion-popover"),st=Fe=>{typeof document<"u"&&Ze(document);const Le=at++;Fe.overlayIndex=Le},ht=Fe=>(Fe.hasAttribute("id")||(Fe.id="ion-overlay-"+ ++et),Fe.id),nt=(Fe,Le)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Fe).then(()=>{const Ut=document.createElement(Fe);return Ut.classList.add("overlay-hidden"),Object.assign(Ut,Object.assign(Object.assign({},Le),{hasController:!0})),Oe(document).appendChild(Ut),new Promise(Ft=>(0,$.c)(Ut,Ft))}):Promise.resolve(),gt=(Fe,Le)=>{let Ut=Fe;const Ft=null==Fe?void 0:Fe.shadowRoot;Ft&&(Ut=Ft.querySelector(ft)||Fe),Ut?(0,$.f)(Ut):Le.focus()},Ze=Fe=>{0===at&&(at=1,Fe.addEventListener("focus",Le=>{((Fe,Le)=>{const Ut=We(Le,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Ft=Fe.target;Ut&&Ft&&!Ut.classList.contains(sn)&&(Ut.shadowRoot?(()=>{if(Ut.contains(Ft))Ut.lastFocus=Ft;else if("ION-TOAST"===Ft.tagName)gt(Ut.lastFocus,Ut);else{const Hn=Ut.lastFocus;it(Ut),Hn===Le.activeElement&&Me(Ut),Ut.lastFocus=Le.activeElement}})():(()=>{if(Ut===Ft)Ut.lastFocus=void 0;else if("ION-TOAST"===Ft.tagName)gt(Ut.lastFocus,Ut);else{const Hn=(0,$.g)(Ut);if(!Hn.contains(Ft))return;const Mn=Hn.querySelector(".ion-overlay-wrapper");if(!Mn)return;if(Mn.contains(Ft)||Ft===Hn.querySelector("ion-backdrop"))Ut.lastFocus=Ft;else{const yr=Ut.lastFocus;it(Mn,Ut),yr===Le.activeElement&&Me(Mn,Ut),Ut.lastFocus=Le.activeElement}}})())})(Le,Fe)},!0),Fe.addEventListener("ionBackButton",Le=>{const Ut=We(Fe);null!=Ut&&Ut.backdropDismiss&&Le.detail.register(be.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Ut.dismiss(void 0,Fn)})}),(0,be.shouldUseCloseWatcher)()||Fe.addEventListener("keydown",Le=>{if("Escape"===Le.key){const Ut=We(Fe);null!=Ut&&Ut.backdropDismiss&&Ut.dismiss(void 0,Fn)}}))},Lt=(Fe,Le,Ut,Ft,tr)=>{const or=We(Fe,Ft,tr);return or?or.dismiss(Le,Ut):Promise.reject("overlay does not exist")},pn=(Fe,Le)=>((Fe,Le)=>(void 0===Le&&(Le="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Fe.querySelectorAll(Le)).filter(Ut=>Ut.overlayIndex>0)))(Fe,Le).filter(Ut=>!(Fe=>Fe.classList.contains("overlay-hidden"))(Ut)),We=(Fe,Le,Ut)=>{const Ft=pn(Fe,Le);return void 0===Ut?Ft[Ft.length-1]:Ft.find(tr=>tr.id===Ut)},De=(Fe=!1)=>{const Ut=Oe(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ut&&(Fe?Ut.setAttribute("aria-hidden","true"):Ut.removeAttribute("aria-hidden"))},_e=function(){var Fe=(0,d.A)(function*(Le,Ut,Ft,tr,or){var Hn,Mn;if(Le.presented)return;"ION-TOAST"!==Le.el.tagName&&De(!0),document.body.classList.add(Re.B),zt(Le.el),en(Le.el),Le.presented=!0,Le.willPresent.emit(),null===(Hn=Le.willPresentShorthand)||void 0===Hn||Hn.emit();const yr=(0,W.b)(Le),ar=Le.enterAnimation?Le.enterAnimation:W.c.get(Ut,"ios"===yr?Ft:tr);(yield Ke(Le,ar,Le.el,or))&&(Le.didPresent.emit(),null===(Mn=Le.didPresentShorthand)||void 0===Mn||Mn.emit()),"ION-TOAST"!==Le.el.tagName&&Se(Le.el),Le.keyboardClose&&(null===document.activeElement||!Le.el.contains(document.activeElement))&&Le.el.focus(),Le.el.removeAttribute("aria-hidden")});return function(Ut,Ft,tr,or,Hn){return Fe.apply(this,arguments)}}(),Se=function(){var Fe=(0,d.A)(function*(Le){let Ut=document.activeElement;if(!Ut)return;const Ft=null==Ut?void 0:Ut.shadowRoot;Ft&&(Ut=Ft.querySelector(ft)||Ut),yield Le.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Ut.focus()});return function(Ut){return Fe.apply(this,arguments)}}(),se=function(){var Fe=(0,d.A)(function*(Le,Ut,Ft,tr,or,Hn,Mn){var yr,ar;if(!Le.presented)return!1;const Qn=void 0!==o.d?pn(o.d).filter(fr=>"ION-TOAST"!==fr.tagName):[];1===Qn.length&&Qn[0].id===Le.el.id&&(De(!1),document.body.classList.remove(Re.B)),Le.presented=!1;try{en(Le.el),Le.el.style.setProperty("pointer-events","none"),Le.willDismiss.emit({data:Ut,role:Ft}),null===(yr=Le.willDismissShorthand)||void 0===yr||yr.emit({data:Ut,role:Ft});const fr=(0,W.b)(Le),Vr=Le.leaveAnimation?Le.leaveAnimation:W.c.get(tr,"ios"===fr?or:Hn);Ft!==bt&&(yield Ke(Le,Vr,Le.el,Mn)),Le.didDismiss.emit({data:Ut,role:Ft}),null===(ar=Le.didDismissShorthand)||void 0===ar||ar.emit({data:Ut,role:Ft}),(pt.get(Le)||[]).forEach(Ar=>Ar.destroy()),pt.delete(Le),Le.el.classList.add("overlay-hidden"),Le.el.style.removeProperty("pointer-events"),void 0!==Le.el.lastFocus&&(Le.el.lastFocus=void 0)}catch(fr){console.error(fr)}return Le.el.remove(),Un(),!0});return function(Ut,Ft,tr,or,Hn,Mn,yr){return Fe.apply(this,arguments)}}(),Oe=Fe=>Fe.querySelector("ion-app")||Fe.body,Ke=function(){var Fe=(0,d.A)(function*(Le,Ut,Ft,tr){Ft.classList.remove("overlay-hidden");const Hn=Ut(Le.el,tr);(!Le.animated||!W.c.getBoolean("animated",!0))&&Hn.duration(0),Le.keyboardClose&&Hn.beforeAddWrite(()=>{const yr=Ft.ownerDocument.activeElement;null!=yr&&yr.matches("input,ion-input, ion-textarea")&&yr.blur()});const Mn=pt.get(Le)||[];return pt.set(Le,[...Mn,Hn]),yield Hn.play(),!0});return function(Ut,Ft,tr,or){return Fe.apply(this,arguments)}}(),tt=(Fe,Le)=>{let Ut;const Ft=new Promise(tr=>Ut=tr);return He(Fe,Le,tr=>{Ut(tr.detail)}),Ft},He=(Fe,Le,Ut)=>{const Ft=tr=>{(0,$.b)(Fe,Le,Ft),Ut(tr)};(0,$.a)(Fe,Le,Ft)},lt=Fe=>"cancel"===Fe||Fe===Fn,yt=Fe=>Fe(),Bt=(Fe,Le)=>{if("function"==typeof Fe)return W.c.get("_zoneGate",yt)(()=>{try{return Fe(Le)}catch(Ft){throw Ft}})},Fn="backdrop",bt="gesture",In=39,Ln=Fe=>{let Ut,Le=!1;const Ft=(0,Ce.C)(),tr=(Mn=!1)=>{if(Ut&&!Mn)return{delegate:Ut,inline:Le};const{el:yr,hasController:ar,delegate:Qn}=Fe;return Le=null!==yr.parentNode&&!ar,Ut=Le?Qn||Ft:Qn,{inline:Le,delegate:Ut}};return{attachViewToDom:function(){var Mn=(0,d.A)(function*(yr){const{delegate:ar}=tr(!0);if(ar)return yield ar.attachViewToDom(Fe.el,yr);const{hasController:Qn}=Fe;if(Qn&&void 0!==yr)throw new Error("framework delegate is missing");return null});return function(ar){return Mn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Mn}=tr();Mn&&void 0!==Fe.el&&Mn.removeViewFromDom(Fe.el.parentElement,Fe.el)}}},qn=()=>{let Fe;const Le=()=>{Fe&&(Fe(),Fe=void 0)};return{addClickListener:(Ft,tr)=>{Le();const or=void 0!==tr?document.getElementById(tr):null;or?Fe=((Mn,yr)=>{const ar=()=>{yr.present()};return Mn.addEventListener("click",ar),()=>{Mn.removeEventListener("click",ar)}})(or,Ft):(0,Ge.p)(`A trigger element with the ID "${tr}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Ft)},removeClickListener:Le}},en=Fe=>{void 0!==o.d&&(0,W.a)("android")&&Fe.setAttribute("aria-hidden","true")},zt=Fe=>{var Le;if(void 0===o.d)return;const Ut=pn(o.d);for(let Ft=Ut.length-1;Ft>=0;Ft--){const tr=Ut[Ft],or=null!==(Le=Ut[Ft+1])&&void 0!==Le?Le:Fe;(or.hasAttribute("aria-hidden")||"ION-TOAST"!==or.tagName)&&tr.setAttribute("aria-hidden","true")}},Un=()=>{if(void 0===o.d)return;const Fe=pn(o.d);for(let Le=Fe.length-1;Le>=0;Le--){const Ut=Fe[Le];if(Ut.removeAttribute("aria-hidden"),"ION-TOAST"!==Ut.tagName)break}},sn="ion-disable-focus-trap"},5312:(kn,Mt,V)=>{"use strict";V.d(Mt,{c:()=>d});const d={production:!0,vapidKey:"BOV3uao1z47YpCi69vF5IMWazjO2ciGDGuLi_7DRcvKi4WinbLI2Hv2hScOCJtfiTpdQ9Yu6bK9n-fRTXN5S5Gc",firebaseConfig:{apiKey:"AIzaSyC7SViDJ3MAfnpzls1znWTVYTvO6S5K1ys",authDomain:"miven-c5f93.firebaseapp.com",projectId:"miven-c5f93",storageBucket:"miven-c5f93.appspot.com",messagingSenderId:"46504601832",appId:"1:46504601832:web:ecc2f1c0f13346da7c415d"}}},8239:(kn,Mt,V)=>{"use strict";var d=V(345),o=V(4438),$=V(9384),be=V(2872),W=V(4742),Ce=V(6422),Re=V(467),Ge=V(5083);const Me=(0,Ge.F3)("FirebaseMessaging",{web:()=>V.e(196).then(V.bind(V,196)).then(m=>new m.FirebaseMessagingWeb)});var Ct=V(4171);const at=(0,Ge.F3)("PushNotifications",{});var et=V(1182),pt=V(6354),Et=V(7673),vt=V(1985),ut=V(8455),Ot=V(274),St=V(5964),we=V(980),xe=V(5558),Ne=V(177);class st{}class ht{}class nt{constructor(b){this.normalizedNames=new Map,this.lazyUpdate=null,b?"string"==typeof b?this.lazyInit=()=>{this.headers=new Map,b.split("\n").forEach(D=>{const C=D.indexOf(":");if(C>0){const k=D.slice(0,C),Y=k.toLowerCase(),Ee=D.slice(C+1).trim();this.maybeSetNormalizedName(k,Y),this.headers.has(Y)?this.headers.get(Y).push(Ee):this.headers.set(Y,[Ee])}})}:typeof Headers<"u"&&b instanceof Headers?(this.headers=new Map,b.forEach((D,C)=>{this.setHeaderEntries(C,D)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(b).forEach(([D,C])=>{this.setHeaderEntries(D,C)})}:this.headers=new Map}has(b){return this.init(),this.headers.has(b.toLowerCase())}get(b){this.init();const D=this.headers.get(b.toLowerCase());return D&&D.length>0?D[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(b){return this.init(),this.headers.get(b.toLowerCase())||null}append(b,D){return this.clone({name:b,value:D,op:"a"})}set(b,D){return this.clone({name:b,value:D,op:"s"})}delete(b,D){return this.clone({name:b,value:D,op:"d"})}maybeSetNormalizedName(b,D){this.normalizedNames.has(D)||this.normalizedNames.set(D,b)}init(){this.lazyInit&&(this.lazyInit instanceof nt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(b=>this.applyUpdate(b)),this.lazyUpdate=null))}copyFrom(b){b.init(),Array.from(b.headers.keys()).forEach(D=>{this.headers.set(D,b.headers.get(D)),this.normalizedNames.set(D,b.normalizedNames.get(D))})}clone(b){const D=new nt;return D.lazyInit=this.lazyInit&&this.lazyInit instanceof nt?this.lazyInit:this,D.lazyUpdate=(this.lazyUpdate||[]).concat([b]),D}applyUpdate(b){const D=b.name.toLowerCase();switch(b.op){case"a":case"s":let C=b.value;if("string"==typeof C&&(C=[C]),0===C.length)return;this.maybeSetNormalizedName(b.name,D);const k=("a"===b.op?this.headers.get(D):void 0)||[];k.push(...C),this.headers.set(D,k);break;case"d":const Y=b.value;if(Y){let Ee=this.headers.get(D);if(!Ee)return;Ee=Ee.filter(Dt=>-1===Y.indexOf(Dt)),0===Ee.length?(this.headers.delete(D),this.normalizedNames.delete(D)):this.headers.set(D,Ee)}else this.headers.delete(D),this.normalizedNames.delete(D)}}setHeaderEntries(b,D){const C=(Array.isArray(D)?D:[D]).map(Y=>Y.toString()),k=b.toLowerCase();this.headers.set(k,C),this.maybeSetNormalizedName(b,k)}forEach(b){this.init(),Array.from(this.normalizedNames.keys()).forEach(D=>b(this.normalizedNames.get(D),this.headers.get(D)))}}class gt{encodeKey(b){return Vt(b)}encodeValue(b){return Vt(b)}decodeKey(b){return decodeURIComponent(b)}decodeValue(b){return decodeURIComponent(b)}}const Ze=/%(\d[a-f0-9])/gi,Lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vt(m){return encodeURIComponent(m).replace(Ze,(b,D)=>{var C;return null!==(C=Lt[D])&&void 0!==C?C:b})}function pn(m){return`${m}`}class We{constructor(b={}){if(this.updates=null,this.cloneFrom=null,this.encoder=b.encoder||new gt,b.fromString){if(b.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mt(m,b){const D=new Map;return m.length>0&&m.replace(/^\?/,"").split("&").forEach(k=>{const Y=k.indexOf("="),[Ee,Dt]=-1==Y?[b.decodeKey(k),""]:[b.decodeKey(k.slice(0,Y)),b.decodeValue(k.slice(Y+1))],Kt=D.get(Ee)||[];Kt.push(Dt),D.set(Ee,Kt)}),D}(b.fromString,this.encoder)}else b.fromObject?(this.map=new Map,Object.keys(b.fromObject).forEach(D=>{const C=b.fromObject[D],k=Array.isArray(C)?C.map(pn):[pn(C)];this.map.set(D,k)})):this.map=null}has(b){return this.init(),this.map.has(b)}get(b){this.init();const D=this.map.get(b);return D?D[0]:null}getAll(b){return this.init(),this.map.get(b)||null}keys(){return this.init(),Array.from(this.map.keys())}append(b,D){return this.clone({param:b,value:D,op:"a"})}appendAll(b){const D=[];return Object.keys(b).forEach(C=>{const k=b[C];Array.isArray(k)?k.forEach(Y=>{D.push({param:C,value:Y,op:"a"})}):D.push({param:C,value:k,op:"a"})}),this.clone(D)}set(b,D){return this.clone({param:b,value:D,op:"s"})}delete(b,D){return this.clone({param:b,value:D,op:"d"})}toString(){return this.init(),this.keys().map(b=>{const D=this.encoder.encodeKey(b);return this.map.get(b).map(C=>D+"="+this.encoder.encodeValue(C)).join("&")}).filter(b=>""!==b).join("&")}clone(b){const D=new We({encoder:this.encoder});return D.cloneFrom=this.cloneFrom||this,D.updates=(this.updates||[]).concat(b),D}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(b=>this.map.set(b,this.cloneFrom.map.get(b))),this.updates.forEach(b=>{switch(b.op){case"a":case"s":const D=("a"===b.op?this.map.get(b.param):void 0)||[];D.push(pn(b.value)),this.map.set(b.param,D);break;case"d":if(void 0===b.value){this.map.delete(b.param);break}{let C=this.map.get(b.param)||[];const k=C.indexOf(pn(b.value));-1!==k&&C.splice(k,1),C.length>0?this.map.set(b.param,C):this.map.delete(b.param)}}}),this.cloneFrom=this.updates=null)}}class _e{constructor(){this.map=new Map}set(b,D){return this.map.set(b,D),this}get(b){return this.map.has(b)||this.map.set(b,b.defaultValue()),this.map.get(b)}delete(b){return this.map.delete(b),this}has(b){return this.map.has(b)}keys(){return this.map.keys()}}function se(m){return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer}function Oe(m){return typeof Blob<"u"&&m instanceof Blob}function Ke(m){return typeof FormData<"u"&&m instanceof FormData}class He{constructor(b,D,C,k){var Y,Ee;let Dt;if(this.url=D,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=b.toUpperCase(),function Se(m){switch(m){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||k?(this.body=void 0!==C?C:null,Dt=k):Dt=C,Dt&&(this.reportProgress=!!Dt.reportProgress,this.withCredentials=!!Dt.withCredentials,Dt.responseType&&(this.responseType=Dt.responseType),Dt.headers&&(this.headers=Dt.headers),Dt.context&&(this.context=Dt.context),Dt.params&&(this.params=Dt.params),this.transferCache=Dt.transferCache),null!==(Y=this.headers)&&void 0!==Y||(this.headers=new nt),null!==(Ee=this.context)&&void 0!==Ee||(this.context=new _e),this.params){const Kt=this.params.toString();if(0===Kt.length)this.urlWithParams=D;else{const cn=D.indexOf("?");this.urlWithParams=D+(-1===cn?"?":cn<D.length-1?"&":"")+Kt}}else this.params=new We,this.urlWithParams=D}serializeBody(){return null===this.body?null:"string"==typeof this.body||se(this.body)||Oe(this.body)||Ke(this.body)||function tt(m){return typeof URLSearchParams<"u"&&m instanceof URLSearchParams}(this.body)?this.body:this.body instanceof We?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ke(this.body)?null:Oe(this.body)?this.body.type||null:se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof We?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(b={}){var D,C,k,Y;const Ee=b.method||this.method,Dt=b.url||this.url,Kt=b.responseType||this.responseType,cn=null!==(D=b.transferCache)&&void 0!==D?D:this.transferCache,hr=void 0!==b.body?b.body:this.body,bi=null!==(C=b.withCredentials)&&void 0!==C?C:this.withCredentials,pi=null!==(k=b.reportProgress)&&void 0!==k?k:this.reportProgress;let yi=b.headers||this.headers,qr=b.params||this.params;const wi=null!==(Y=b.context)&&void 0!==Y?Y:this.context;return void 0!==b.setHeaders&&(yi=Object.keys(b.setHeaders).reduce((wr,oi)=>wr.set(oi,b.setHeaders[oi]),yi)),b.setParams&&(qr=Object.keys(b.setParams).reduce((wr,oi)=>wr.set(oi,b.setParams[oi]),qr)),new He(Ee,Dt,hr,{params:qr,headers:yi,context:wi,reportProgress:pi,responseType:Kt,withCredentials:bi,transferCache:cn})}}var lt=function(m){return m[m.Sent=0]="Sent",m[m.UploadProgress=1]="UploadProgress",m[m.ResponseHeader=2]="ResponseHeader",m[m.DownloadProgress=3]="DownloadProgress",m[m.Response=4]="Response",m[m.User=5]="User",m}(lt||{});class yt{constructor(b,D=200,C="OK"){this.headers=b.headers||new nt,this.status=void 0!==b.status?b.status:D,this.statusText=b.statusText||C,this.url=b.url||null,this.ok=this.status>=200&&this.status<300}}class Bt extends yt{constructor(b={}){super(b),this.type=lt.ResponseHeader}clone(b={}){return new Bt({headers:b.headers||this.headers,status:void 0!==b.status?b.status:this.status,statusText:b.statusText||this.statusText,url:b.url||this.url||void 0})}}class Fn extends yt{constructor(b={}){super(b),this.type=lt.Response,this.body=void 0!==b.body?b.body:null}clone(b={}){return new Fn({body:void 0!==b.body?b.body:this.body,headers:b.headers||this.headers,status:void 0!==b.status?b.status:this.status,statusText:b.statusText||this.statusText,url:b.url||this.url||void 0})}}class bt extends yt{constructor(b){super(b,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${b.url||"(unknown url)"}`:`Http failure response for ${b.url||"(unknown url)"}: ${b.status} ${b.statusText}`,this.error=b.error||null}}function en(m,b){return{body:b,headers:m.headers,context:m.context,observe:m.observe,params:m.params,reportProgress:m.reportProgress,responseType:m.responseType,withCredentials:m.withCredentials,transferCache:m.transferCache}}let zt=(()=>{var m;class b{constructor(C){this.handler=C}request(C,k,Y={}){let Ee;if(C instanceof He)Ee=C;else{let cn,hr;cn=Y.headers instanceof nt?Y.headers:new nt(Y.headers),Y.params&&(hr=Y.params instanceof We?Y.params:new We({fromObject:Y.params})),Ee=new He(C,k,void 0!==Y.body?Y.body:null,{headers:cn,context:Y.context,params:hr,reportProgress:Y.reportProgress,responseType:Y.responseType||"json",withCredentials:Y.withCredentials,transferCache:Y.transferCache})}const Dt=(0,Et.of)(Ee).pipe((0,Ot.H)(cn=>this.handler.handle(cn)));if(C instanceof He||"events"===Y.observe)return Dt;const Kt=Dt.pipe((0,St.p)(cn=>cn instanceof Fn));switch(Y.observe||"body"){case"body":switch(Ee.responseType){case"arraybuffer":return Kt.pipe((0,pt.T)(cn=>{if(null!==cn.body&&!(cn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return cn.body}));case"blob":return Kt.pipe((0,pt.T)(cn=>{if(null!==cn.body&&!(cn.body instanceof Blob))throw new Error("Response is not a Blob.");return cn.body}));case"text":return Kt.pipe((0,pt.T)(cn=>{if(null!==cn.body&&"string"!=typeof cn.body)throw new Error("Response is not a string.");return cn.body}));default:return Kt.pipe((0,pt.T)(cn=>cn.body))}case"response":return Kt;default:throw new Error(`Unreachable: unhandled observe type ${Y.observe}}`)}}delete(C,k={}){return this.request("DELETE",C,k)}get(C,k={}){return this.request("GET",C,k)}head(C,k={}){return this.request("HEAD",C,k)}jsonp(C,k){return this.request("JSONP",C,{params:(new We).append(k,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(C,k={}){return this.request("OPTIONS",C,k)}patch(C,k,Y={}){return this.request("PATCH",C,en(Y,k))}post(C,k,Y={}){return this.request("POST",C,en(Y,k))}put(C,k,Y={}){return this.request("PUT",C,en(Y,k))}}return(m=b).\u0275fac=function(C){return new(C||m)(o.KVO(st))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),b})();const Un=/^\)\]\}',?\n/;function Fe(m){if(m.url)return m.url;const b="X-Request-URL".toLocaleLowerCase();return m.headers.get(b)}let Le=(()=>{var m;class b{constructor(){var C,k;this.fetchImpl=null!==(C=null===(k=(0,o.WQX)(Ut,{optional:!0}))||void 0===k?void 0:k.fetch)&&void 0!==C?C:(...Y)=>globalThis.fetch(...Y),this.ngZone=(0,o.WQX)(o.SKi)}handle(C){return new vt.c(k=>{const Y=new AbortController;return this.doRequest(C,Y.signal,k).then(Ft,Ee=>k.error(new bt({error:Ee}))),()=>Y.abort()})}doRequest(C,k,Y){var Ee=this;return(0,Re.A)(function*(){var Dt;const Kt=Ee.createRequestInit(C);let cn;try{const Ci=Ee.ngZone.runOutsideAngular(()=>Ee.fetchImpl(C.urlWithParams,{signal:k,...Kt}));(function tr(m){m.then(Ft,Ft)})(Ci),Y.next({type:lt.Sent}),cn=yield Ci}catch(Ci){var hr;return void Y.error(new bt({error:Ci,status:null!==(hr=Ci.status)&&void 0!==hr?hr:0,statusText:Ci.statusText,url:C.urlWithParams,headers:Ci.headers}))}const bi=new nt(cn.headers),pi=cn.statusText,yi=null!==(Dt=Fe(cn))&&void 0!==Dt?Dt:C.urlWithParams;let qr=cn.status,wi=null;if(C.reportProgress&&Y.next(new Bt({headers:bi,status:qr,statusText:pi,url:yi})),cn.body){const Ci=cn.headers.get("content-length"),Oi=[],Ps=cn.body.getReader();let Ha,Ol,Wo=0;const ec=typeof Zone<"u"&&Zone.current;yield Ee.ngZone.runOutsideAngular((0,Re.A)(function*(){for(;;){const{done:ef,value:fo}=yield Ps.read();if(ef)break;if(Oi.push(fo),Wo+=fo.length,C.reportProgress){var Il,$c;Ol="text"===C.responseType?(null!==(Il=Ol)&&void 0!==Il?Il:"")+(null!==($c=Ha)&&void 0!==$c?$c:Ha=new TextDecoder).decode(fo,{stream:!0}):void 0;const nh=()=>Y.next({type:lt.DownloadProgress,total:Ci?+Ci:void 0,loaded:Wo,partialText:Ol});ec?ec.run(nh):nh()}}}));const z_=Ee.concatChunks(Oi,Wo);try{var wr;const Il=null!==(wr=cn.headers.get("Content-Type"))&&void 0!==wr?wr:"";wi=Ee.parseBody(C,z_,Il)}catch(Il){var oi;return void Y.error(new bt({error:Il,headers:new nt(cn.headers),status:cn.status,statusText:cn.statusText,url:null!==(oi=Fe(cn))&&void 0!==oi?oi:C.urlWithParams}))}}0===qr&&(qr=wi?200:0),qr>=200&&qr<300?(Y.next(new Fn({body:wi,headers:bi,status:qr,statusText:pi,url:yi})),Y.complete()):Y.error(new bt({error:wi,headers:bi,status:qr,statusText:pi,url:yi}))})()}parseBody(C,k,Y){switch(C.responseType){case"json":const Ee=(new TextDecoder).decode(k).replace(Un,"");return""===Ee?null:JSON.parse(Ee);case"text":return(new TextDecoder).decode(k);case"blob":return new Blob([k],{type:Y});case"arraybuffer":return k.buffer}}createRequestInit(C){const k={},Y=C.withCredentials?"include":void 0;if(C.headers.forEach((Ee,Dt)=>k[Ee]=Dt.join(",")),C.headers.has("Accept")||(k.Accept="application/json, text/plain, */*"),!C.headers.has("Content-Type")){const Ee=C.detectContentTypeHeader();null!==Ee&&(k["Content-Type"]=Ee)}return{body:C.serializeBody(),method:C.method,headers:k,credentials:Y}}concatChunks(C,k){const Y=new Uint8Array(k);let Ee=0;for(const Dt of C)Y.set(Dt,Ee),Ee+=Dt.length;return Y}}return(m=b).\u0275fac=function(C){return new(C||m)},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),b})();class Ut{}function Ft(){}function or(m,b){return b(m)}function Hn(m,b){return(D,C)=>b.intercept(D,{handle:k=>m(k,C)})}const yr=new o.nKC(""),ar=new o.nKC(""),Qn=new o.nKC(""),nr=new o.nKC("",{providedIn:"root",factory:()=>!0});function fr(){let m=null;return(b,D)=>{var C;null===m&&(m=(null!==(C=(0,o.WQX)(yr,{optional:!0}))&&void 0!==C?C:[]).reduceRight(Hn,or));const k=(0,o.WQX)(o.TgB);if((0,o.WQX)(nr)){const Ee=k.add();return m(b,D).pipe((0,we.j)(()=>k.remove(Ee)))}return m(b,D)}}let Ar=(()=>{var m;class b extends st{constructor(C,k){super(),this.backend=C,this.injector=k,this.chain=null,this.pendingTasks=(0,o.WQX)(o.TgB),this.contributeToStability=(0,o.WQX)(nr)}handle(C){if(null===this.chain){const k=Array.from(new Set([...this.injector.get(ar),...this.injector.get(Qn,[])]));this.chain=k.reduceRight((Y,Ee)=>function Mn(m,b,D){return(C,k)=>(0,o.N4e)(D,()=>b(C,Y=>m(Y,k)))}(Y,Ee,this.injector),or)}if(this.contributeToStability){const k=this.pendingTasks.add();return this.chain(C,Y=>this.backend.handle(Y)).pipe((0,we.j)(()=>this.pendingTasks.remove(k)))}return this.chain(C,k=>this.backend.handle(k))}}return(m=b).\u0275fac=function(C){return new(C||m)(o.KVO(ht),o.KVO(o.uvJ))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),b})();const At=/^\)\]\}',?\n/;let ct=(()=>{var m;class b{constructor(C){this.xhrFactory=C}handle(C){if("JSONP"===C.method)throw new o.wOt(-2800,!1);const k=this.xhrFactory;return(k.\u0275loadImpl?(0,ut.H)(k.\u0275loadImpl()):(0,Et.of)(null)).pipe((0,xe.n)(()=>new vt.c(Ee=>{const Dt=k.build();if(Dt.open(C.method,C.urlWithParams),C.withCredentials&&(Dt.withCredentials=!0),C.headers.forEach((wr,oi)=>Dt.setRequestHeader(wr,oi.join(","))),C.headers.has("Accept")||Dt.setRequestHeader("Accept","application/json, text/plain, */*"),!C.headers.has("Content-Type")){const wr=C.detectContentTypeHeader();null!==wr&&Dt.setRequestHeader("Content-Type",wr)}if(C.responseType){const wr=C.responseType.toLowerCase();Dt.responseType="json"!==wr?wr:"text"}const Kt=C.serializeBody();let cn=null;const hr=()=>{if(null!==cn)return cn;const wr=Dt.statusText||"OK",oi=new nt(Dt.getAllResponseHeaders()),zo=function $e(m){return"responseURL"in m&&m.responseURL?m.responseURL:/^X-Request-URL:/m.test(m.getAllResponseHeaders())?m.getResponseHeader("X-Request-URL"):null}(Dt)||C.url;return cn=new Bt({headers:oi,status:Dt.status,statusText:wr,url:zo}),cn},bi=()=>{let{headers:wr,status:oi,statusText:zo,url:Ci}=hr(),Oi=null;204!==oi&&(Oi=typeof Dt.response>"u"?Dt.responseText:Dt.response),0===oi&&(oi=Oi?200:0);let Ps=oi>=200&&oi<300;if("json"===C.responseType&&"string"==typeof Oi){const Wo=Oi;Oi=Oi.replace(At,"");try{Oi=""!==Oi?JSON.parse(Oi):null}catch(Ha){Oi=Wo,Ps&&(Ps=!1,Oi={error:Ha,text:Oi})}}Ps?(Ee.next(new Fn({body:Oi,headers:wr,status:oi,statusText:zo,url:Ci||void 0})),Ee.complete()):Ee.error(new bt({error:Oi,headers:wr,status:oi,statusText:zo,url:Ci||void 0}))},pi=wr=>{const{url:oi}=hr(),zo=new bt({error:wr,status:Dt.status||0,statusText:Dt.statusText||"Unknown Error",url:oi||void 0});Ee.error(zo)};let yi=!1;const qr=wr=>{yi||(Ee.next(hr()),yi=!0);let oi={type:lt.DownloadProgress,loaded:wr.loaded};wr.lengthComputable&&(oi.total=wr.total),"text"===C.responseType&&Dt.responseText&&(oi.partialText=Dt.responseText),Ee.next(oi)},wi=wr=>{let oi={type:lt.UploadProgress,loaded:wr.loaded};wr.lengthComputable&&(oi.total=wr.total),Ee.next(oi)};return Dt.addEventListener("load",bi),Dt.addEventListener("error",pi),Dt.addEventListener("timeout",pi),Dt.addEventListener("abort",pi),C.reportProgress&&(Dt.addEventListener("progress",qr),null!==Kt&&Dt.upload&&Dt.upload.addEventListener("progress",wi)),Dt.send(Kt),Ee.next({type:lt.Sent}),()=>{Dt.removeEventListener("error",pi),Dt.removeEventListener("abort",pi),Dt.removeEventListener("load",bi),Dt.removeEventListener("timeout",pi),C.reportProgress&&(Dt.removeEventListener("progress",qr),null!==Kt&&Dt.upload&&Dt.upload.removeEventListener("progress",wi)),Dt.readyState!==Dt.DONE&&Dt.abort()}})))}}return(m=b).\u0275fac=function(C){return new(C||m)(o.KVO(Ne.N0))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),b})();const J=new o.nKC(""),ne=new o.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),je=new o.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tn{}let Sn=(()=>{var m;class b{constructor(C,k,Y){this.doc=C,this.platform=k,this.cookieName=Y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const C=this.doc.cookie||"";return C!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Ne._b)(C,this.cookieName),this.lastCookieString=C),this.lastToken}}return(m=b).\u0275fac=function(C){return new(C||m)(o.KVO(Ne.qQ),o.KVO(o.Agw),o.KVO(ne))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),b})();function Ve(m,b){const D=m.url.toLowerCase();if(!(0,o.WQX)(J)||"GET"===m.method||"HEAD"===m.method||D.startsWith("http://")||D.startsWith("https://"))return b(m);const C=(0,o.WQX)(tn).getToken(),k=(0,o.WQX)(je);return null!=C&&!m.headers.has(k)&&(m=m.clone({headers:m.headers.set(k,C)})),b(m)}var oe=function(m){return m[m.Interceptors=0]="Interceptors",m[m.LegacyInterceptors=1]="LegacyInterceptors",m[m.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",m[m.NoXsrfProtection=3]="NoXsrfProtection",m[m.JsonpSupport=4]="JsonpSupport",m[m.RequestsMadeViaParent=5]="RequestsMadeViaParent",m[m.Fetch=6]="Fetch",m}(oe||{});function Nt(m,b){return{\u0275kind:m,\u0275providers:b}}function Je(...m){const b=[zt,ct,Ar,{provide:st,useExisting:Ar},{provide:ht,useFactory:()=>{var D;return null!==(D=(0,o.WQX)(Le,{optional:!0}))&&void 0!==D?D:(0,o.WQX)(ct)}},{provide:ar,useValue:Ve,multi:!0},{provide:J,useValue:!0},{provide:tn,useClass:Sn}];for(const D of m)b.push(...D.\u0275providers);return(0,o.EmA)(b)}const Xn=new o.nKC("");let Ye=(()=>{var m;class b{}return(m=b).\u0275fac=function(C){return new(C||m)},m.\u0275mod=o.$C({type:m}),m.\u0275inj=o.G2t({providers:[Je(Nt(oe.LegacyInterceptors,[{provide:Xn,useFactory:fr},{provide:ar,useExisting:Xn,multi:!0}]))]}),b})(),Ao=(()=>{var m;class b{constructor(C,k,Y){this.firestore=C,this.auth=k,this.http=Y,this.fcmServerKey="BOV3uao1z47YpCi69vF5IMWazjO2ciGDGuLi_7DRcvKi4WinbLI2Hv2hScOCJtfiTpdQ9Yu6bK9n-fRTXN5S5Gc"}getInventory(C){return this.firestore.collection("usuarios").doc(C).collection("inventario").valueChanges({idField:"id"})}addItemToInventory(C,k){return this.firestore.collection("usuarios").doc(k).collection("inventario").add(C)}addItemToGlobalCollection(C){return this.firestore.collection("items").add(C)}getGlobalItems(){return this.firestore.collection("items").valueChanges({idField:"id"})}deleteItemFromInventory(C,k){return this.firestore.collection("usuarios").doc(k).collection("inventario").doc(C).delete()}updateItemQuantity(C,k,Y){return this.firestore.collection("usuarios").doc(C).collection("inventario").doc(k).update({cantidad:Y})}getExpiringItems(C){const k=new Date,Y=new Date;return Y.setDate(k.getDate()+7),this.getInventory(C).pipe((0,pt.T)(Ee=>Ee.filter(Dt=>{const Kt=new Date(Dt.fechaVencimiento);return Kt<=Y&&Kt>=k})))}notifyExpiringItems(C,k){this.getExpiringItems(C).subscribe(Y=>{Y.length>0&&this.http.post("https://fcm.googleapis.com/fcm/send",{notification:{title:"\xa1Atenci\xf3n!",body:`Tienes ${Y.length} \xedtems por vencer en tu inventario.`,click_action:"FCM_PLUGIN_ACTIVITY",icon:"fcm_push_icon"},to:k},{headers:{Authorization:`key=${this.fcmServerKey}`,"Content-Type":"application/json"}}).subscribe(()=>console.log("Notificaci\xf3n enviada con \xe9xito"),Dt=>console.error("Error al enviar la notificaci\xf3n:",Dt))})}}return(m=b).\u0275fac=function(C){return new(C||m)(o.KVO(Ce.Qe),o.KVO(et.DS),o.KVO(zt))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),b})(),qo=(()=>{var m;class b{constructor(){this.InteractionService=(0,o.WQX)(Ao)}init(){console.log("Initializing NotificationsPushService"),at.requestPermissions().then(C=>{"granted"===C.receive&&at.register()}),this.addListener()}addListener(){at.addListener("registration",C=>{alert("Push registration success, token: "+C.value)}),at.addListener("registrationError",C=>{alert("Error on registration: "+JSON.stringify(C))}),at.addListener("pushNotificationReceived",C=>{alert("Push received: "+JSON.stringify(C))}),at.addListener("pushNotificationActionPerformed",C=>{alert("Push action performed: "+JSON.stringify(C))})}}return(m=b).\u0275fac=function(C){return new(C||m)},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),b})();const Ji=m=>[m];function jo(m,b){if(1&m&&(o.j41(0,"ion-menu-toggle",12)(1,"ion-item",13),o.nrm(2,"ion-icon",14),o.j41(3,"ion-label"),o.EFF(4),o.k0s()()()),2&m){const D=b.$implicit,C=o.XpG(2).$implicit;o.R7$(),o.Y8G("routerLink",o.eq3(4,Ji,D.url)),o.R7$(),o.Y8G("ios",C.icon+"-outline")("md",D.icon+"-sharp"),o.R7$(2),o.JRh(D.title)}}function ns(m,b){if(1&m&&(o.j41(0,"ion-accordion-group",7)(1,"ion-accordion",8)(2,"ion-item",9)(3,"ion-label"),o.EFF(4),o.k0s()(),o.j41(5,"ion-list",10),o.DNE(6,jo,5,6,"ion-menu-toggle",11),o.k0s()()()),2&m){const D=o.XpG().$implicit;o.FS9("value",D.title),o.R7$(),o.FS9("value",D.title),o.R7$(3),o.JRh(D.title),o.R7$(2),o.Y8G("ngForOf",D.items)}}function Qo(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-item",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG(2);return o.Njj(k.closeMenu())}),o.nrm(1,"ion-icon",16),o.j41(2,"ion-label"),o.EFF(3),o.k0s()()}if(2&m){const D=o.XpG().$implicit;o.Y8G("routerLink",o.eq3(4,Ji,D.url)),o.R7$(),o.Y8G("ios",D.icon+"-outline")("md",D.icon+"-sharp"),o.R7$(2),o.JRh(D.title)}}function go(m,b){if(1&m&&o.DNE(0,ns,7,4,"ng-template",6)(1,Qo,4,6,"ng-template",null,0,o.C5r),2&m){const D=b.$implicit,C=o.sdS(2);o.Y8G("ngIf",(null==D.items?null:D.items.length)>0)("ngIfElse",C)}}let Xr=(()=>{var m;class b{constructor(C,k,Y,Ee,Dt,Kt,cn,hr){this.navCtrl=C,this.auth=k,this.firestore=Y,this.platform=Ee,this.notificationsPushService=Dt,this.menuController=Kt,this.afAuth=cn,this.router=hr,this.userId=null,this.appPages=[{title:"Inicio",url:"/home",icon:"Home"},{title:"Inventario",url:"/inventory",icon:"clipboard"},{title:"Favoritos",url:"/favorites",icon:"heart"},{title:"Recetas",icon:"restaurant",items:[{title:"Desayuno",url:"/breakfast-recipes",icon:"restaurant"},{title:"Almuerzo",url:"/lunch-recipes",icon:"restaurant"},{title:"Cena",url:"/dinner-recipes",icon:"restaurant"},{title:"Postres",url:"/dessert-recipes",icon:"restaurant"},{title:"Agregar recetas",url:"/add-recipe",icon:"add"}]},{title:"Perfil",url:"/perfilusuario",icon:"person"},{title:"Cerrar sesi\xf3n",url:"/login",icon:"close"}],this.initializeFCM(),this.listenToMessages(),this.init(),this.initializeNotifications()}navigateToAlmuerzo(){this.navCtrl.navigateForward("/almuerzo")}navigateToCena(){this.navCtrl.navigateForward("/cena")}navigateToDesayunos(){this.navCtrl.navigateForward("/desayunos")}navigateToPostres(){this.navCtrl.navigateForward("/postres")}init(){Ge.Ii.isNativePlatform()&&this.notificationsPushService.init()}ngOnInit(){this.afAuth.authState.subscribe(C=>{C?(console.log("Usuario autenticado:",C),this.router.navigate(["/home"])):(console.log("No hay usuario autenticado."),this.router.navigate(["/login"]))})}initializeApp(){this.platform.ready().then(()=>{this.requestNotificationPermission(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(C=>{console.log("Service Worker registrado:",C)}).catch(C=>{console.log("Error al registrar el Service Worker:",C)})})}requestNotificationPermission(){Notification.requestPermission().then(C=>{"granted"===C?console.log("Permiso para notificaciones concedido"):console.error("Permiso para notificaciones denegado")})}listenToMessages(){const C=(0,Ct.dG)();(0,Ct.xD)(C,k=>{console.log("Mensaje recibido en primer plano: ",k)})}initializeFCM(){var C=this;return(0,Re.A)(function*(){C.auth.user.subscribe(function(){var k=(0,Re.A)(function*(Y){if(Y)if(C.userId=Y.uid,"granted"===(yield Me.requestPermissions()).receive){const Dt=yield Me.getToken();console.log("FCM Token:",Dt),C.firestore.collection("usuarios").doc(C.userId).set({fcmToken:Dt},{merge:!0}),Me.addListener("notificationReceived",Kt=>{console.log("Notificaci\xf3n recibida:",Kt)}),Me.addListener("notificationActionPerformed",Kt=>{console.log("Acci\xf3n de notificaci\xf3n:",Kt)})}else console.log("Permisos de notificaci\xf3n denegados")});return function(Y){return k.apply(this,arguments)}}())})()}closeMenu(){var C=this;return(0,Re.A)(function*(){yield C.menuController.close()})()}initializeNotifications(){at.requestPermissions().then(C=>{"granted"===C.receive&&at.register()}),at.addListener("pushNotificationReceived",C=>{console.log("Notificaci\xf3n recibida:",C)}),at.addListener("pushNotificationActionPerformed",C=>{console.log("Acci\xf3n de notificaci\xf3n realizada:",C)})}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(be.q9),o.rXU(et.DS),o.rXU(Ce.Qe),o.rXU(be.OD),o.rXU(qo),o.rXU(W._t),o.rXU(et.DS),o.rXU($.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-root"]],decls:11,vars:1,consts:[["sinItems",""],["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],["ngFor","",3,"ngForOf"],["id","main-content"],[3,"ngIf","ngIfElse"],[3,"value"],["toggle-icon","arrow-down-circle",3,"value"],["slot","header"],["id","inbox-list","slot","content"],["auto-hide","false",4,"ngFor","ngForOf"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"ios","md"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"click","routerLink"],["aria-hidden","true","slot","start",3,"ios","md"]],template:function(C,k){1&C&&(o.j41(0,"ion-app")(1,"ion-split-pane",1)(2,"ion-menu",2)(3,"ion-content")(4,"ion-list",3)(5,"ion-list-header"),o.EFF(6,"Miven"),o.k0s(),o.j41(7,"ion-note"),o.EFF(8,"V.1"),o.k0s(),o.DNE(9,go,3,2,"ng-template",4),o.k0s()()(),o.nrm(10,"ion-router-outlet",5),o.k0s()()),2&C&&(o.R7$(9),o.Y8G("ngForOf",k.appPages))},dependencies:[Ne.Sq,Ne.bT,W.xk,W.YH,W.U1,W.W9,W.iq,W.uz,W.he,W.nf,W.AF,W.oS,W.cA,W.JI,W.HP,W.Rg,W.N7,$.Wk,$.wQ],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-background-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}[_ngcontent-%COMP%]:root{--ion-background-color: #ffffff;--ion-text-color: #000000}.dark-theme[_ngcontent-%COMP%]{--ion-background-color: #000000;--ion-text-color: #ffffff}"]}),b})(),fs=(()=>{var m;class b{constructor(C){this.popoverController=C}selectSort(C){this.popoverController.dismiss(C)}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(W.IE))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-sort-menu"]],decls:7,vars:0,consts:[["button","",3,"click"]],template:function(C,k){1&C&&(o.j41(0,"ion-list")(1,"ion-item",0),o.bIt("click",function(){return k.selectSort("alphabetical")}),o.j41(2,"ion-label"),o.EFF(3,"Orden Alfab\xe9tico"),o.k0s()(),o.j41(4,"ion-item",0),o.bIt("click",function(){return k.selectSort("expiration")}),o.j41(5,"ion-label"),o.EFF(6,"Fecha de Vencimiento"),o.k0s()()())},dependencies:[W.uz,W.he,W.nf]}),b})();var jn=V(4341);function jr(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()()),2&m){const D=b.$implicit;o.R7$(3),o.JRh(D.nombre),o.R7$(2),o.SpI("Venci\xf3 el: ",D.fechaVencimiento,"")}}function Ks(m,b){if(1&m&&(o.j41(0,"ion-card",9)(1,"ion-card-header")(2,"ion-card-title"),o.EFF(3,"Productos Vencidos"),o.k0s()(),o.j41(4,"ion-card-content")(5,"ion-list"),o.DNE(6,jr,6,2,"ion-item",4),o.k0s()()()),2&m){const D=o.XpG(2);o.R7$(6),o.Y8G("ngForOf",D.expiredItems)}}function Is(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()()),2&m){const D=b.$implicit;o.R7$(3),o.JRh(D.nombre),o.R7$(2),o.SpI("Vence el: ",D.fechaVencimiento,"")}}function mo(m,b){if(1&m&&(o.j41(0,"ion-card",10)(1,"ion-card-header")(2,"ion-card-title"),o.EFF(3,"Productos por Vencer"),o.k0s()(),o.j41(4,"ion-card-content")(5,"ion-list"),o.DNE(6,Is,6,2,"ion-item",4),o.k0s()()()),2&m){const D=o.XpG(2);o.R7$(6),o.Y8G("ngForOf",D.expiringSoonItems)}}function Mi(m,b){if(1&m&&(o.j41(0,"div"),o.DNE(1,Ks,7,1,"ion-card",7)(2,mo,7,1,"ion-card",8),o.k0s()),2&m){const D=o.XpG();o.R7$(),o.Y8G("ngIf",D.expiredItems.length>0),o.R7$(),o.Y8G("ngIf",D.expiringSoonItems.length>0)}}function Es(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-item")(1,"ion-label")(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()(),o.j41(8,"ion-button",1),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.startEditItem(k))}),o.EFF(9,"Editar"),o.k0s(),o.j41(10,"ion-button",11),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.deleteItem(k.id))}),o.EFF(11,"Eliminar"),o.k0s()()}if(2&m){const D=b.$implicit;o.R7$(3),o.JRh(D.nombre),o.R7$(2),o.Lme("Cantidad: ",D.cantidad," ",D.unidadMedida,""),o.R7$(2),o.SpI("Fecha de Vencimiento: ",D.fechaVencimiento,"")}}function No(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Editar Cantidad"),o.k0s(),o.j41(4,"ion-buttons",12)(5,"ion-button",1),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeEditModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",13),o.EFF(10,"Nueva Cantidad"),o.k0s(),o.j41(11,"ion-input",14),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.editItemCantidad,k)||(Y.editItemCantidad=k),o.Njj(k)}),o.k0s()(),o.j41(12,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.updateItemQuantity())}),o.EFF(13,"Guardar Cambios"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(11),o.R50("ngModel",D.editItemCantidad)}}let Nr=(()=>{var m;class b{constructor(C,k,Y,Ee){this.inventoryService=C,this.auth=k,this.popoverController=Y,this.alertController=Ee,this.inventoryItems=[],this.sortedInventory=[],this.expiredItems=[],this.expiringSoonItems=[],this.userId=null,this.editItemCantidad=null,this.editItemId=null,this.isEditModalOpen=!1}ngOnInit(){this.auth.user.subscribe(C=>{C&&(this.userId=C.uid,this.loadInventory())}),this.requestNotificationPermission()}loadInventory(){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(C=>{this.inventoryItems=C,this.sortInventory("alphabetical"),this.checkExpiringItems()})}openSortMenu(C){var k=this;return(0,Re.A)(function*(){const Y=yield k.popoverController.create({component:fs,event:C,translucent:!0});yield Y.present();const{data:Ee}=yield Y.onDidDismiss();Ee&&k.sortInventory(Ee)})()}sortInventory(C){"alphabetical"===C?this.sortedInventory=[...this.inventoryItems].sort((k,Y)=>k.nombre.localeCompare(Y.nombre)):"expiration"===C&&(this.sortedInventory=[...this.inventoryItems].sort((k,Y)=>new Date(k.fechaVencimiento).getTime()-new Date(Y.fechaVencimiento).getTime()))}requestNotificationPermission(){"Notification"in window&&Notification.requestPermission().then(C=>{console.log("granted"===C?"Permiso para notificaciones otorgado":"Notificaciones bloqueadas")})}sendNotification(C,k){"Notification"in window&&"granted"===Notification.permission&&new Notification("Producto por vencer",{body:`El \xedtem ${C} vence el ${k}.`,icon:"assets/icon/alert.png"})}deleteItem(C){this.userId&&confirm("\xbfEst\xe1s seguro de que deseas eliminar este \xedtem del inventario?")&&this.inventoryService.deleteItemFromInventory(C,this.userId).then(()=>{console.log("\xcdtem eliminado con \xe9xito"),this.loadInventory()}).catch(k=>{console.error("Error al eliminar el \xedtem:",k)})}startEditItem(C){this.editItemCantidad=C.cantidad,this.editItemId=C.id,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editItemCantidad=null,this.editItemId=null}updateItemQuantity(){this.userId&&this.editItemId&&null!=this.editItemCantidad&&this.inventoryService.updateItemQuantity(this.userId,this.editItemId,this.editItemCantidad).then(()=>{console.log("Cantidad actualizada con \xe9xito"),this.closeEditModal()}).catch(C=>{console.error("Error al actualizar la cantidad:",C)})}convertDate(C){if(C instanceof Date)return C;if("string"==typeof C){const k=C.split("-");if(3===k.length){const[Y,Ee,Dt]=k.map(Kt=>parseInt(Kt,10));return new Date(Dt,Ee-1,Y)}}return console.error("Formato de fecha inv\xe1lido:",C),new Date(NaN)}checkExpiringItems(){const C=new Date,k=new Date;k.setDate(C.getDate()+7),console.log("Hoy es:",C),console.log("Una semana desde hoy es:",k),this.expiredItems=this.inventoryItems.filter(Y=>{const Ee=this.convertDate(Y.fechaVencimiento);return isNaN(Ee.getTime())?(console.warn(`Fecha inv\xe1lida para el \xedtem ${Y.nombre}:`,Y.fechaVencimiento),!1):Ee<C}),this.expiringSoonItems=this.inventoryItems.filter(Y=>{const Ee=this.convertDate(Y.fechaVencimiento);return isNaN(Ee.getTime())?(console.warn(`Fecha inv\xe1lida para el \xedtem ${Y.nombre}:`,Y.fechaVencimiento),!1):Ee>=C&&Ee<=k}),console.log("Productos vencidos:",this.expiredItems),console.log("Productos por vencer:",this.expiringSoonItems),this.showAlerts()}showAlerts(){var C=this;return(0,Re.A)(function*(){C.expiredItems.length>0&&(yield(yield C.alertController.create({header:"Productos Vencidos",message:`Tienes ${C.expiredItems.length} producto(s) vencido(s):${C.expiredItems.map(Y=>Y.nombre).join(", ")}`,buttons:["OK"]})).present()),C.expiringSoonItems.length>0&&(yield(yield C.alertController.create({header:"Productos por Vencer",message:`Tienes ${C.expiringSoonItems.length} producto(s) que vencer\xe1n pronto:<br>${C.expiringSoonItems.map(Y=>Y.nombre).join(", ")}`,buttons:["OK"]})).present())})()}processItems(C,k){console.log("Expired Items:",C),console.log("Expiring Items:",k)}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(Ao),o.rXU(et.DS),o.rXU(W.IE),o.rXU(W.hG))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-inventory"]],decls:16,vars:3,consts:[["slot","start"],[3,"click"],["name","funnel","slot","icon-only"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"isOpen"],["expand","full","routerLink","/add-item"],["color","danger",4,"ngIf"],["color","warning",4,"ngIf"],["color","danger"],["color","warning"],["color","danger",3,"click"],["slot","end"],["position","floating"],["type","number",3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Inventario"),o.k0s(),o.j41(6,"ion-button",1),o.bIt("click",function(Ee){return k.openSortMenu(Ee)}),o.nrm(7,"ion-icon",2),o.k0s()()()(),o.j41(8,"ion-content"),o.DNE(9,Mi,3,2,"div",3),o.j41(10,"ion-list"),o.DNE(11,Es,12,4,"ion-item",4),o.k0s(),o.j41(12,"ion-modal",5),o.DNE(13,No,14,1,"ng-template"),o.k0s(),o.j41(14,"ion-button",6),o.EFF(15,"Agregar \xcdtem"),o.k0s()()),2&C&&(o.R7$(9),o.Y8G("ngIf",k.expiredItems.length>0||k.expiringSoonItems.length>0),o.R7$(2),o.Y8G("ngForOf",k.sortedInventory),o.R7$(),o.Y8G("isOpen",k.isEditModalOpen))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.$w,W.uz,W.he,W.nf,W.MC,W.BC,W.ai,W.Sb,W.su,W.N7,$.Wk,jn.BC,jn.vS]}),b})();var Xs=V(4572),mi=V(7935);let Ii=(()=>{var m;class b{constructor(C,k){this.firestore=C,this.auth=k}addRecipe(C){return this.firestore.collection("recetas").add(C)}getAllRecipes(){return this.firestore.collection("recetas").valueChanges({idField:"id"})}getRecipesByCategory(C){return this.firestore.collection("recetas",k=>k.where("categoria","==",C)).valueChanges({idField:"id"})}deleteRecipe(C){return this.firestore.collection("recetas").doc(C).delete()}getRecipeCommentsWithUser(C){return this.firestore.collection("recetas").doc(C).collection("comentarios",k=>k.orderBy("timestamp","desc")).snapshotChanges().pipe((0,xe.n)(k=>{const Y=k.map(Ee=>{const Dt=Ee.payload.doc.data(),Kt=Ee.payload.doc.id;return this.firestore.collection("usuarios").doc(Dt.userId).get().pipe((0,pt.T)(cn=>{const hr=cn.data()||{};return{...Dt,id:Kt,userName:hr.nombre||"Usuario An\xf3nimo",timestamp:Dt.timestamp.toDate()}}))});return(0,Xs.z)(Y)}))}addCommentWithRating(C,k,Y,Ee){var Dt=this;return this.firestore.firestore.runTransaction(function(){var Kt=(0,Re.A)(function*(cn){var hr,bi;const pi=Dt.firestore.collection("recetas").doc(C).ref,yi=yield cn.get(pi);if(!yi.exists)throw new Error("Receta no encontrada");const qr=yi.data()||{},oi=(null!==(hr=qr.ratingCount)&&void 0!==hr?hr:0)+1,zo=(null!==(bi=qr.ratingTotal)&&void 0!==bi?bi:0)+Y;cn.update(pi,{ratingCount:oi,ratingTotal:zo,rating:zo/oi});const Oi=Dt.firestore.collection("recetas").doc(C).collection("comentarios").doc();cn.set(Oi.ref,{userId:k,rating:Y,comment:Ee,timestamp:mi.A.firestore.FieldValue.serverTimestamp()})});return function(cn){return Kt.apply(this,arguments)}}())}markAsFavorite(C,k,Y){return this.firestore.collection("usuarios").doc(k).collection("favoritos").doc(C).set({favorita:Y})}getFavoriteRecipes(C){return this.firestore.collection("usuarios").doc(C).collection("favoritos").valueChanges()}getRecipeById(C){return this.firestore.collection("recetas").doc(C).valueChanges().pipe((0,pt.T)(k=>{if(!k)throw new Error(`Receta con ID ${C} no encontrada`);return k}))}updateRecipe(C,k){return this.firestore.collection("recetas").doc(C).update(k)}}return(m=b).\u0275fac=function(C){return new(C||m)(o.KVO(Ce.Qe),o.KVO(et.DS))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),b})();var Pi=V(9842),br=V(5407),Yo=V(3236),co=V(9974),ni=V(4360),Oo=V(9253),Di=V(1566),F=V(7991),E=V(4923),O=V(6238);const A="firebasestorage.googleapis.com",G="storageBucket";class Tt extends E.g{constructor(b,D,C=0){super(dn(b),`Firebase Storage: ${D} (${dn(b)})`),this.status_=C,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(b){this.status_=b}_codeEquals(b){return dn(b)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(b){this.customData.serverResponse=b,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var qt=function(m){return m.UNKNOWN="unknown",m.OBJECT_NOT_FOUND="object-not-found",m.BUCKET_NOT_FOUND="bucket-not-found",m.PROJECT_NOT_FOUND="project-not-found",m.QUOTA_EXCEEDED="quota-exceeded",m.UNAUTHENTICATED="unauthenticated",m.UNAUTHORIZED="unauthorized",m.UNAUTHORIZED_APP="unauthorized-app",m.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",m.INVALID_CHECKSUM="invalid-checksum",m.CANCELED="canceled",m.INVALID_EVENT_NAME="invalid-event-name",m.INVALID_URL="invalid-url",m.INVALID_DEFAULT_BUCKET="invalid-default-bucket",m.NO_DEFAULT_BUCKET="no-default-bucket",m.CANNOT_SLICE_BLOB="cannot-slice-blob",m.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",m.NO_DOWNLOAD_URL="no-download-url",m.INVALID_ARGUMENT="invalid-argument",m.INVALID_ARGUMENT_COUNT="invalid-argument-count",m.APP_DELETED="app-deleted",m.INVALID_ROOT_OPERATION="invalid-root-operation",m.INVALID_FORMAT="invalid-format",m.INTERNAL_ERROR="internal-error",m.UNSUPPORTED_ENVIRONMENT="unsupported-environment",m}(qt||{});function dn(m){return"storage/"+m}function xn(){return new Tt(qt.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function si(){return new Tt(qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ui(){return new Tt(qt.CANCELED,"User canceled the upload/download.")}function Gi(){return new Tt(qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ho(m){return new Tt(qt.INVALID_ARGUMENT,m)}function ps(){return new Tt(qt.APP_DELETED,"The Firebase app was deleted.")}function ko(m){return new Tt(qt.INVALID_ROOT_OPERATION,"The operation '"+m+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vo(m,b){return new Tt(qt.INVALID_FORMAT,"String does not match format '"+m+"': "+b)}function os(m){throw new Tt(qt.INTERNAL_ERROR,"Internal error: "+m)}class ri{constructor(b,D){this.bucket=b,this.path_=D}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const b=encodeURIComponent;return"/b/"+b(this.bucket)+"/o/"+b(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(b,D){let C;try{C=ri.makeFromUrl(b,D)}catch{return new ri(b,"")}if(""===C.path)return C;throw function uo(m){return new Tt(qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+m+"'.")}(b)}static makeFromUrl(b,D){let C=null;const k="([A-Za-z0-9.\\-_]+)",Dt=new RegExp("^gs://"+k+"(/(.*))?$","i");function cn(Oi){Oi.path_=decodeURIComponent(Oi.path)}const bi=D.replace(/[.]/g,"\\."),Ci=[{regex:Dt,indices:{bucket:1,path:3},postModify:function Y(Oi){"/"===Oi.path.charAt(Oi.path.length-1)&&(Oi.path_=Oi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${bi}/v[A-Za-z0-9_]+/b/${k}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:cn},{regex:new RegExp(`^https?://${D===A?"(?:storage.googleapis.com|storage.cloud.google.com)":D}/${k}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:cn}];for(let Oi=0;Oi<Ci.length;Oi++){const Ps=Ci[Oi],Wo=Ps.regex.exec(b);if(Wo){let Ol=Wo[Ps.indices.path];Ol||(Ol=""),C=new ri(Wo[Ps.indices.bucket],Ol),Ps.postModify(C);break}}if(null==C)throw function di(m){return new Tt(qt.INVALID_URL,"Invalid URL '"+m+"'.")}(b);return C}}class ta{constructor(b){this.promise_=Promise.reject(b)}getPromise(){return this.promise_}cancel(b=!1){}}function pe(m){return"string"==typeof m||m instanceof String}function qe(m){return Ht()&&m instanceof Blob}function Ht(){return typeof Blob<"u"}function yn(m,b,D,C){if(C<b)throw ho(`Invalid value for '${m}'. Expected ${b} or greater.`);if(C>D)throw ho(`Invalid value for '${m}'. Expected ${D} or less.`)}function Kn(m,b,D){let C=b;return null==D&&(C=`https://${b}`),`${D}://${C}/v0${m}`}function An(m){const b=encodeURIComponent;let D="?";for(const C in m)m.hasOwnProperty(C)&&(D=D+(b(C)+"=")+b(m[C])+"&");return D=D.slice(0,-1),D}var Jn=function(m){return m[m.NO_ERROR=0]="NO_ERROR",m[m.NETWORK_ERROR=1]="NETWORK_ERROR",m[m.ABORT=2]="ABORT",m}(Jn||{});function $i(m,b){const D=m>=500&&m<600,k=-1!==[408,429].indexOf(m),Y=-1!==b.indexOf(m);return D||k||Y}class Zi{constructor(b,D,C,k,Y,Ee,Dt,Kt,cn,hr,bi,pi=!0){this.url_=b,this.method_=D,this.headers_=C,this.body_=k,this.successCodes_=Y,this.additionalRetryCodes_=Ee,this.callback_=Dt,this.errorCallback_=Kt,this.timeout_=cn,this.progressCallback_=hr,this.connectionFactory_=bi,this.retry=pi,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((yi,qr)=>{this.resolve_=yi,this.reject_=qr,this.start_()})}start_(){const D=(C,k)=>{const Y=this.resolve_,Ee=this.reject_,Dt=k.connection;if(k.wasSuccessCode)try{const Kt=this.callback_(Dt,Dt.getResponse());!function Cs(m){return void 0!==m}(Kt)?Y():Y(Kt)}catch(Kt){Ee(Kt)}else if(null!==Dt){const Kt=xn();Kt.serverResponse=Dt.getErrorText(),Ee(this.errorCallback_?this.errorCallback_(Dt,Kt):Kt)}else Ee(k.canceled?this.appDelete_?ps():ui():si())};this.canceled_?D(0,new to(!1,null,!0)):this.backoffId_=function Os(m,b,D){let C=1,k=null,Y=null,Ee=!1,Dt=0;function Kt(){return 2===Dt}let cn=!1;function hr(...wr){cn||(cn=!0,b.apply(null,wr))}function bi(wr){k=setTimeout(()=>{k=null,m(yi,Kt())},wr)}function pi(){Y&&clearTimeout(Y)}function yi(wr,...oi){if(cn)return void pi();if(wr)return pi(),void hr.call(null,wr,...oi);if(Kt()||Ee)return pi(),void hr.call(null,wr,...oi);let Ci;C<64&&(C*=2),1===Dt?(Dt=2,Ci=0):Ci=1e3*(C+Math.random()),bi(Ci)}let qr=!1;function wi(wr){qr||(qr=!0,pi(),!cn&&(null!==k?(wr||(Dt=2),clearTimeout(k),bi(0)):wr||(Dt=1)))}return bi(0),Y=setTimeout(()=>{Ee=!0,wi(!0)},D),wi}((C,k)=>{if(k)return void C(!1,new to(!1,null,!0));const Y=this.connectionFactory_();this.pendingConnection_=Y;const Ee=Dt=>{null!==this.progressCallback_&&this.progressCallback_(Dt.loaded,Dt.lengthComputable?Dt.total:-1)};null!==this.progressCallback_&&Y.addUploadProgressListener(Ee),Y.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Y.removeUploadProgressListener(Ee),this.pendingConnection_=null;const Dt=Y.getErrorCode()===Jn.NO_ERROR,Kt=Y.getStatus();if(!Dt||$i(Kt,this.additionalRetryCodes_)&&this.retry){const hr=Y.getErrorCode()===Jn.ABORT;return void C(!1,new to(!1,null,hr))}const cn=-1!==this.successCodes_.indexOf(Kt);C(!0,new to(cn,Y))})},D,this.timeout_)}getPromise(){return this.promise_}cancel(b){this.canceled_=!0,this.appDelete_=b||!1,null!==this.backoffId_&&function Ro(m){m(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class to{constructor(b,D,C){this.wasSuccessCode=b,this.connection=D,this.canceled=!!C}}function Ul(...m){const b=function As(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==b){const D=new b;for(let C=0;C<m.length;C++)D.append(m[C]);return D.getBlob()}if(Ht())return new Blob(m);throw new Tt(qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ya{constructor(b,D){this.data=b,this.contentType=D||null}}function Z(m,b){switch(m){case Jo.RAW:return new ya(L(b));case Jo.BASE64:case Jo.BASE64URL:return new ya(K(m,b));case Jo.DATA_URL:return new ya(function _n(m){const b=new ye(m);return b.base64?K(Jo.BASE64,b.rest):function le(m){let b;try{b=decodeURIComponent(m)}catch{throw vo(Jo.DATA_URL,"Malformed data URL.")}return L(b)}(b.rest)}(b),function cr(m){return new ye(m).contentType}(b))}throw xn()}function L(m){const b=[];for(let D=0;D<m.length;D++){let C=m.charCodeAt(D);C<=127?b.push(C):C<=2047?b.push(192|C>>6,128|63&C):55296==(64512&C)?D<m.length-1&&56320==(64512&m.charCodeAt(D+1))?(C=65536|(1023&C)<<10|1023&m.charCodeAt(++D),b.push(240|C>>18,128|C>>12&63,128|C>>6&63,128|63&C)):b.push(239,191,189):56320==(64512&C)?b.push(239,191,189):b.push(224|C>>12,128|C>>6&63,128|63&C)}return new Uint8Array(b)}function K(m,b){switch(m){case Jo.BASE64:{const k=-1!==b.indexOf("-"),Y=-1!==b.indexOf("_");if(k||Y)throw vo(m,"Invalid character '"+(k?"-":"_")+"' found: is it base64url encoded?");break}case Jo.BASE64URL:{const k=-1!==b.indexOf("+"),Y=-1!==b.indexOf("/");if(k||Y)throw vo(m,"Invalid character '"+(k?"+":"/")+"' found: is it base64 encoded?");b=b.replace(/-/g,"+").replace(/_/g,"/");break}}let D;try{D=function as(m){if(typeof atob>"u")throw function bs(m){return new Tt(qt.UNSUPPORTED_ENVIRONMENT,`${m} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(m)}(b)}catch(k){throw k.message.includes("polyfill")?k:vo(m,"Invalid character found")}const C=new Uint8Array(D.length);for(let k=0;k<D.length;k++)C[k]=D.charCodeAt(k);return C}class ye{constructor(b){this.base64=!1,this.contentType=null;const D=b.match(/^data:([^,]+)?,/);if(null===D)throw vo(Jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const C=D[1]||null;null!=C&&(this.base64=function xi(m,b){return m.length>=b.length&&m.substring(m.length-b.length)===b}(C,";base64"),this.contentType=this.base64?C.substring(0,C.length-7):C),this.rest=b.substring(b.indexOf(",")+1)}}class Vi{constructor(b,D){let C=0,k="";qe(b)?(this.data_=b,C=b.size,k=b.type):b instanceof ArrayBuffer?(D?this.data_=new Uint8Array(b):(this.data_=new Uint8Array(b.byteLength),this.data_.set(new Uint8Array(b))),C=this.data_.length):b instanceof Uint8Array&&(D?this.data_=b:(this.data_=new Uint8Array(b.length),this.data_.set(b)),C=b.length),this.size_=C,this.type_=k}size(){return this.size_}type(){return this.type_}slice(b,D){if(qe(this.data_)){const k=function sc(m,b,D){return m.webkitSlice?m.webkitSlice(b,D):m.mozSlice?m.mozSlice(b,D):m.slice?m.slice(b,D):null}(this.data_,b,D);return null===k?null:new Vi(k)}{const C=new Uint8Array(this.data_.buffer,b,D-b);return new Vi(C,!0)}}static getBlob(...b){if(Ht()){const D=b.map(C=>C instanceof Vi?C.data_:C);return new Vi(Ul.apply(null,D))}{const D=b.map(Ee=>pe(Ee)?Z(Jo.RAW,Ee).data:Ee.data_);let C=0;D.forEach(Ee=>{C+=Ee.byteLength});const k=new Uint8Array(C);let Y=0;return D.forEach(Ee=>{for(let Dt=0;Dt<Ee.length;Dt++)k[Y++]=Ee[Dt]}),new Vi(k,!0)}}uploadData(){return this.data_}}function io(m){let b;try{b=JSON.parse(m)}catch{return null}return function Wr(m){return"object"==typeof m&&!Array.isArray(m)}(b)?b:null}function gs(m){const b=m.lastIndexOf("/",m.length-2);return-1===b?m:m.slice(b+1)}function ka(m,b){return b}class yo{constructor(b,D,C,k){this.server=b,this.local=D||b,this.writable=!!C,this.xform=k||ka}}let Pr=null;function Ki(){if(Pr)return Pr;const m=[];m.push(new yo("bucket")),m.push(new yo("generation")),m.push(new yo("metageneration")),m.push(new yo("name","fullPath",!0));const D=new yo("name");D.xform=function b(Y,Ee){return function Ti(m){return!pe(m)||m.length<2?m:gs(m)}(Ee)},m.push(D);const k=new yo("size");return k.xform=function C(Y,Ee){return void 0!==Ee?Number(Ee):Ee},m.push(k),m.push(new yo("timeCreated")),m.push(new yo("updated")),m.push(new yo("md5Hash",null,!0)),m.push(new yo("cacheControl",null,!0)),m.push(new yo("contentDisposition",null,!0)),m.push(new yo("contentEncoding",null,!0)),m.push(new yo("contentLanguage",null,!0)),m.push(new yo("contentType",null,!0)),m.push(new yo("metadata","customMetadata",!0)),Pr=m,Pr}function za(m,b,D){const C=io(b);return null===C?null:function Io(m,b,D){const C={type:"file"},k=D.length;for(let Y=0;Y<k;Y++){const Ee=D[Y];C[Ee.local]=Ee.xform(C,b[Ee.server])}return function ks(m,b){Object.defineProperty(m,"ref",{get:function D(){const Y=new ri(m.bucket,m.fullPath);return b._makeStorageReference(Y)}})}(C,m),C}(m,C,D)}function ms(m,b){const D={},C=b.length;for(let k=0;k<C;k++){const Y=b[k];Y.writable&&(D[Y.server]=m[Y.local])}return JSON.stringify(D)}const Fs="prefixes",sl="items";class _s{constructor(b,D,C,k){this.url=b,this.method=D,this.handler=C,this.timeout=k,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Fo(m){if(!m)throw xn()}function Wa(m,b){return function D(C,k){const Y=za(m,k,b);return Fo(null!==Y),Y}}function ia(m){return function b(D,C){let k;return k=401===D.getStatus()?D.getErrorText().includes("Firebase App Check token is invalid")?function zr(){return new Tt(qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function lr(){return new Tt(qt.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===D.getStatus()?function er(m){return new Tt(qt.QUOTA_EXCEEDED,"Quota for bucket '"+m+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(m.bucket):403===D.getStatus()?function Ei(m){return new Tt(qt.UNAUTHORIZED,"User does not have permission to access '"+m+"'.")}(m.path):C,k.status=D.getStatus(),k.serverResponse=C.serverResponse,k}}function Ls(m){const b=ia(m);return function D(C,k){let Y=b(C,k);return 404===C.getStatus()&&(Y=function Wn(m){return new Tt(qt.OBJECT_NOT_FOUND,"Object '"+m+"' does not exist.")}(m.path)),Y.serverResponse=k.serverResponse,Y}}function Ts(m,b,D){const k=Kn(b.fullServerUrl(),m.host,m._protocol),Ee=m.maxOperationRetryTime,Dt=new _s(k,"GET",Wa(m,D),Ee);return Dt.errorHandler=Ls(b),Dt}function ll(m,b,D,C,k){const Y={};Y.prefix=b.isRoot?"":b.path+"/",D&&D.length>0&&(Y.delimiter=D),C&&(Y.pageToken=C),k&&(Y.maxResults=k);const Dt=Kn(b.bucketOnlyServerUrl(),m.host,m._protocol),cn=m.maxOperationRetryTime,hr=new _s(Dt,"GET",function ls(m,b){return function D(C,k){const Y=function wc(m,b,D){const C=io(D);return null===C?null:function Fa(m,b,D){const C={prefixes:[],items:[],nextPageToken:D.nextPageToken};if(D[Fs])for(const k of D[Fs]){const Y=k.replace(/\/$/,""),Ee=m._makeStorageReference(new ri(b,Y));C.prefixes.push(Ee)}if(D[sl])for(const k of D[sl]){const Y=m._makeStorageReference(new ri(b,k.name));C.items.push(Y)}return C}(m,b,C)}(m,b,k);return Fo(null!==Y),Y}}(m,b.bucket),cn);return hr.urlParams=Y,hr.errorHandler=ia(b),hr}function oa(m,b,D){const C=Object.assign({},D);return C.fullPath=m.path,C.size=b.size(),C.contentType||(C.contentType=function eu(m,b){return m&&m.contentType||b&&b.type()||"application/octet-stream"}(null,b)),C}class Ho{constructor(b,D,C,k){this.current=b,this.total=D,this.finalized=!!C,this.metadata=k||null}}function vs(m,b){let D=null;try{D=m.getResponseHeader("X-Goog-Upload-Status")}catch{Fo(!1)}return Fo(!!D&&-1!==(b||["active"]).indexOf(D)),D}const ws={STATE_CHANGED:"state_changed"},oo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sa(m){switch(m){case"running":case"pausing":case"canceling":return oo.RUNNING;case"paused":return oo.PAUSED;case"success":return oo.SUCCESS;case"canceled":return oo.CANCELED;default:return oo.ERROR}}class Us{constructor(b,D,C){if(function Or(m){return"function"==typeof m}(b)||null!=D||null!=C)this.next=b,this.error=null!=D?D:void 0,this.complete=null!=C?C:void 0;else{const Y=b;this.next=Y.next,this.error=Y.error,this.complete=Y.complete}}}function Ds(m){return(...b)=>{Promise.resolve().then(()=>m(...b))}}let Va=null;class $l{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Jn.NO_ERROR,this.sendPromise_=new Promise(b=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Jn.ABORT,b()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Jn.NETWORK_ERROR,b()}),this.xhr_.addEventListener("load",()=>{b()})})}send(b,D,C,k){if(this.sent_)throw os("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(D,b,!0),void 0!==k)for(const Y in k)k.hasOwnProperty(Y)&&this.xhr_.setRequestHeader(Y,k[Y].toString());return void 0!==C?this.xhr_.send(C):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw os("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw os("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw os("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw os("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(b){return this.xhr_.getResponseHeader(b)}addUploadProgressListener(b){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",b)}removeUploadProgressListener(b){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",b)}}class R extends $l{initXhr(){this.xhr_.responseType="text"}}function q(){return Va?Va():new R}class ln{constructor(b,D,C=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=b,this._blob=D,this._metadata=C,this._mappings=Ki(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=k=>{if(this._request=void 0,this._chunkMultiplier=1,k._codeEquals(qt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Y=this.isExponentialBackoffExpired();if($i(k.status,[])){if(!Y)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();k=si()}this._error=k,this._transition("error")}},this._metadataErrorHandler=k=>{this._request=void 0,k._codeEquals(qt.CANCELED)?this.completeTransitions_():(this._error=k,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((k,Y)=>{this._resolve=k,this._reject=Y,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const b=this._transferred;return D=>this._updateProgress(b+D)}_shouldDoResumable(b){return b.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(b){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([D,C])=>{switch(this._state){case"running":b(D,C);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((b,D)=>{const C=function Ia(m,b,D,C,k){const Y=b.bucketOnlyServerUrl(),Ee=oa(b,C,k),Dt={name:Ee.fullPath},Kt=Kn(Y,m.host,m._protocol),hr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${C.size()}`,"X-Goog-Upload-Header-Content-Type":Ee.contentType,"Content-Type":"application/json; charset=utf-8"},bi=ms(Ee,D),qr=new _s(Kt,"POST",function yi(wi){let wr;vs(wi);try{wr=wi.getResponseHeader("X-Goog-Upload-URL")}catch{Fo(!1)}return Fo(pe(wr)),wr},m.maxUploadRetryTime);return qr.urlParams=Dt,qr.headers=hr,qr.body=bi,qr.errorHandler=ia(b),qr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),k=this._ref.storage._makeRequest(C,q,b,D);this._request=k,k.getPromise().then(Y=>{this._request=void 0,this._uploadUrl=Y,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const b=this._uploadUrl;this._resolveToken((D,C)=>{const k=function ac(m,b,D,C){const Kt=new _s(D,"POST",function Y(cn){const hr=vs(cn,["active","final"]);let bi=null;try{bi=cn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fo(!1)}bi||Fo(!1);const pi=Number(bi);return Fo(!isNaN(pi)),new Ho(pi,C.size(),"final"===hr)},m.maxUploadRetryTime);return Kt.headers={"X-Goog-Upload-Command":"query"},Kt.errorHandler=ia(b),Kt}(this._ref.storage,this._ref._location,b,this._blob),Y=this._ref.storage._makeRequest(k,q,D,C);this._request=Y,Y.getPromise().then(Ee=>{this._request=void 0,this._updateProgress(Ee.current),this._needToFetchStatus=!1,Ee.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const b=262144*this._chunkMultiplier,D=new Ho(this._transferred,this._blob.size()),C=this._uploadUrl;this._resolveToken((k,Y)=>{let Ee;try{Ee=function cl(m,b,D,C,k,Y,Ee,Dt){const Kt=new Ho(0,0);if(Ee?(Kt.current=Ee.current,Kt.total=Ee.total):(Kt.current=0,Kt.total=C.size()),C.size()!==Kt.total)throw function _o(){return new Tt(qt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const cn=Kt.total-Kt.current;let hr=cn;k>0&&(hr=Math.min(hr,k));const bi=Kt.current;let yi="";yi=0===hr?"finalize":cn===hr?"upload, finalize":"upload";const qr={"X-Goog-Upload-Command":yi,"X-Goog-Upload-Offset":`${Kt.current}`},wi=C.slice(bi,bi+hr);if(null===wi)throw Gi();const Ci=new _s(D,"POST",function wr(Oi,Ps){const Wo=vs(Oi,["active","final"]),Ha=Kt.current+hr,Ol=C.size();let ec;return ec="final"===Wo?Wa(b,Y)(Oi,Ps):null,new Ho(Ha,Ol,"final"===Wo,ec)},b.maxUploadRetryTime);return Ci.headers=qr,Ci.body=wi.uploadData(),Ci.progressCallback=Dt||null,Ci.errorHandler=ia(m),Ci}(this._ref._location,this._ref.storage,C,this._blob,b,this._mappings,D,this._makeProgressCallback())}catch(Kt){return this._error=Kt,void this._transition("error")}const Dt=this._ref.storage._makeRequest(Ee,q,k,Y,!1);this._request=Dt,Dt.getPromise().then(Kt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Kt.current),Kt.finalized?(this._metadata=Kt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((b,D)=>{const C=Ts(this._ref.storage,this._ref._location,this._mappings),k=this._ref.storage._makeRequest(C,q,b,D);this._request=k,k.getPromise().then(Y=>{this._request=void 0,this._metadata=Y,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((b,D)=>{const C=function La(m,b,D,C,k){const Y=b.bucketOnlyServerUrl(),Ee={"X-Goog-Upload-Protocol":"multipart"},Kt=function Dt(){let Ci="";for(let Oi=0;Oi<2;Oi++)Ci+=Math.random().toString().slice(2);return Ci}();Ee["Content-Type"]="multipart/related; boundary="+Kt;const cn=oa(b,C,k),hr=ms(cn,D),yi=Vi.getBlob("--"+Kt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+hr+"\r\n--"+Kt+"\r\nContent-Type: "+cn.contentType+"\r\n\r\n",C,"\r\n--"+Kt+"--");if(null===yi)throw Gi();const qr={name:cn.fullPath},wi=Kn(Y,m.host,m._protocol),oi=m.maxUploadRetryTime,zo=new _s(wi,"POST",Wa(m,D),oi);return zo.urlParams=qr,zo.headers=Ee,zo.body=yi.uploadData(),zo.errorHandler=ia(b),zo}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),k=this._ref.storage._makeRequest(C,q,b,D);this._request=k,k.getPromise().then(Y=>{this._request=void 0,this._metadata=Y,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(b){const D=this._transferred;this._transferred=b,this._transferred!==D&&this._notifyObservers()}_transition(b){if(this._state!==b)switch(b){case"canceling":case"pausing":this._state=b,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const D="paused"===this._state;this._state=b,D&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=b,this._notifyObservers();break;case"canceled":this._error=ui(),this._state=b,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const b=sa(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:b,metadata:this._metadata,task:this,ref:this._ref}}on(b,D,C,k){const Y=new Us(D||void 0,C||void 0,k||void 0);return this._addObserver(Y),()=>{this._removeObserver(Y)}}then(b,D){return this._promise.then(b,D)}catch(b){return this.then(null,b)}_addObserver(b){this._observers.push(b),this._notifyObserver(b)}_removeObserver(b){const D=this._observers.indexOf(b);-1!==D&&this._observers.splice(D,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(D=>{this._notifyObserver(D)})}_finishPromise(){if(void 0!==this._resolve){let b=!0;switch(sa(this._state)){case oo.SUCCESS:Ds(this._resolve.bind(null,this.snapshot))();break;case oo.CANCELED:case oo.ERROR:Ds(this._reject.bind(null,this._error))();break;default:b=!1}b&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(b){switch(sa(this._state)){case oo.RUNNING:case oo.PAUSED:b.next&&Ds(b.next.bind(b,this.snapshot))();break;case oo.SUCCESS:b.complete&&Ds(b.complete.bind(b))();break;default:b.error&&Ds(b.error.bind(b,this._error))()}}resume(){const b="paused"===this._state||"pausing"===this._state;return b&&this._transition("running"),b}pause(){const b="running"===this._state;return b&&this._transition("pausing"),b}cancel(){const b="running"===this._state||"pausing"===this._state;return b&&this._transition("canceling"),b}}class Dn{constructor(b,D){this._service=b,this._location=D instanceof ri?D:ri.makeFromUrl(D,b.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(b,D){return new Dn(b,D)}get root(){const b=new ri(this._location.bucket,"");return this._newRef(this._service,b)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gs(this._location.path)}get storage(){return this._service}get parent(){const b=function wo(m){if(0===m.length)return null;const b=m.lastIndexOf("/");return-1===b?"":m.slice(0,b)}(this._location.path);if(null===b)return null;const D=new ri(this._location.bucket,b);return new Dn(this._service,D)}_throwIfRoot(b){if(""===this._location.path)throw ko(b)}}function Xi(m,b,D){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,Re.A)(function*(m,b,D){const k=yield hi(m,{pageToken:D});b.prefixes.push(...k.prefixes),b.items.push(...k.items),null!=k.nextPageToken&&(yield Xi(m,b,k.nextPageToken))})).apply(this,arguments)}function hi(m,b){null!=b&&"number"==typeof b.maxResults&&yn("options.maxResults",1,1e3,b.maxResults);const D=b||{},C=ll(m.storage,m._location,"/",D.pageToken,D.maxResults);return m.storage.makeRequestWithTokens(C,q)}function qi(m){m._throwIfRoot("getDownloadURL");const b=function Tl(m,b,D){const k=Kn(b.fullServerUrl(),m.host,m._protocol),Ee=m.maxOperationRetryTime,Dt=new _s(k,"GET",function al(m,b){return function D(C,k){const Y=za(m,k,b);return Fo(null!==Y),function ra(m,b,D,C){const k=io(b);if(null===k||!pe(k.downloadTokens))return null;const Y=k.downloadTokens;if(0===Y.length)return null;const Ee=encodeURIComponent;return Y.split(",").map(cn=>{const bi=m.fullPath;return Kn("/b/"+Ee(m.bucket)+"/o/"+Ee(bi),D,C)+An({alt:"media",token:cn})})[0]}(Y,k,m.host,m._protocol)}}(m,D),Ee);return Dt.errorHandler=Ls(b),Dt}(m.storage,m._location,Ki());return m.storage.makeRequestWithTokens(b,q).then(D=>{if(null===D)throw function is(){return new Tt(qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return D})}function zi(m,b){const D=function na(m,b){const D=b.split("/").filter(C=>C.length>0).join("/");return 0===m.length?D:m+"/"+D}(m._location.path,b),C=new ri(m._location.bucket,D);return new Dn(m.storage,C)}function Br(m,b){if(m instanceof aa){const D=m;if(null==D._bucket)throw function To(){return new Tt(qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G+"' property when initializing the app?")}();const C=new Dn(D,D._bucket);return null!=b?Br(C,b):C}return void 0!==b?zi(m,b):m}function Tr(m,b){if(b&&function Lo(m){return/^[A-Za-z]+:\/\//.test(m)}(b)){if(m instanceof aa)return function qs(m,b){return new Dn(m,b)}(m,b);throw ho("To use ref(service, url), the first argument must be a Storage instance.")}return Br(m,b)}function cs(m,b){const D=null==b?void 0:b[G];return null==D?null:ri.makeFromBucketSpec(D,m)}class aa{constructor(b,D,C,k,Y){this.app=b,this._authProvider=D,this._appCheckProvider=C,this._url=k,this._firebaseVersion=Y,this._bucket=null,this._host=A,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=k?ri.makeFromBucketSpec(k,this._host):cs(this._host,this.app.options)}get host(){return this._host}set host(b){this._host=b,this._bucket=null!=this._url?ri.makeFromBucketSpec(this._url,b):cs(b,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(b){yn("time",0,Number.POSITIVE_INFINITY,b),this._maxUploadRetryTime=b}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(b){yn("time",0,Number.POSITIVE_INFINITY,b),this._maxOperationRetryTime=b}_getAuthToken(){var b=this;return(0,Re.A)(function*(){if(b._overrideAuthToken)return b._overrideAuthToken;const D=b._authProvider.getImmediate({optional:!0});if(D){const C=yield D.getToken();if(null!==C)return C.accessToken}return null})()}_getAppCheckToken(){var b=this;return(0,Re.A)(function*(){const D=b._appCheckProvider.getImmediate({optional:!0});return D?(yield D.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(b=>b.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(b){return new Dn(this,b)}_makeRequest(b,D,C,k,Y=!0){if(this._deleted)return new ta(ps());{const Ee=function _i(m,b,D,C,k,Y,Ee=!0){const Dt=An(m.urlParams),Kt=m.url+Dt,cn=Object.assign({},m.headers);return function Na(m,b){b&&(m["X-Firebase-GMPID"]=b)}(cn,b),function ss(m,b){null!==b&&b.length>0&&(m.Authorization="Firebase "+b)}(cn,D),function ai(m,b){m["X-Firebase-Storage-Version"]="webjs/"+(null!=b?b:"AppManager")}(cn,Y),function Oa(m,b){null!==b&&(m["X-Firebase-AppCheck"]=b)}(cn,C),new Zi(Kt,m.method,cn,m.body,m.successCodes,m.additionalRetryCodes,m.handler,m.errorHandler,m.timeout,m.progressCallback,k,Ee)}(b,this._appId,C,k,D,this._firebaseVersion,Y);return this._requests.add(Ee),Ee.getPromise().then(()=>this._requests.delete(Ee),()=>this._requests.delete(Ee)),Ee}}makeRequestWithTokens(b,D){var C=this;return(0,Re.A)(function*(){const[k,Y]=yield Promise.all([C._getAuthToken(),C._getAppCheckToken()]);return C._makeRequest(b,D,k,Y).getPromise()})()}}const Bs="@firebase/storage";function qa(m,b){return Tr(m=(0,E.Ku)(m),b)}function Eo(m,{instanceIdentifier:b}){const D=m.getProvider("app").getImmediate(),C=m.getProvider("auth-internal"),k=m.getProvider("app-check-internal");return new aa(D,C,k,b,F.SDK_VERSION)}!function ao(){(0,F._registerComponent)(new O.uA("storage",Eo,"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Bs,"0.13.2",""),(0,F.registerVersion)(Bs,"0.13.2","esm2017")}();class ba{constructor(b,D,C){this._delegate=b,this.task=D,this.ref=C}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ya{constructor(b,D){this._delegate=b,this._ref=D,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ba(this._delegate.snapshot,this,this._ref)}then(b,D){return this._delegate.then(C=>{if(b)return b(new ba(C,this,this._ref))},D)}on(b,D,C,k){let Y;return D&&(Y="function"==typeof D?Ee=>D(new ba(Ee,this,this._ref)):{next:D.next?Ee=>D.next(new ba(Ee,this,this._ref)):void 0,complete:D.complete||void 0,error:D.error||void 0}),this._delegate.on(b,Y,C||void 0,k||void 0)}}class eo{constructor(b,D){this._delegate=b,this._service=D}get prefixes(){return this._delegate.prefixes.map(b=>new Do(b,this._service))}get items(){return this._delegate.items.map(b=>new Do(b,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Do{constructor(b,D){this._delegate=b,this.storage=D}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(b){const D=function Ea(m,b){return zi(m,b)}(this._delegate,b);return new Do(D,this.storage)}get root(){return new Do(this._delegate.root,this.storage)}get parent(){const b=this._delegate.parent;return null==b?null:new Do(b,this.storage)}put(b,D){return this._throwIfRoot("put"),new Ya(function la(m,b,D){return function Zr(m,b,D){return m._throwIfRoot("uploadBytesResumable"),new ln(m,new Vi(b),D)}(m=(0,E.Ku)(m),b,D)}(this._delegate,b,D),this)}putString(b,D=Jo.RAW,C){this._throwIfRoot("putString");const k=Z(D,b),Y=Object.assign({},C);return null==Y.contentType&&null!=k.contentType&&(Y.contentType=k.contentType),new Ya(new ln(this._delegate,new Vi(k.data,!0),Y),this)}listAll(){return function Ys(m){return function li(m){const b={prefixes:[],items:[]};return Xi(m,b).then(()=>b)}(m=(0,E.Ku)(m))}(this._delegate).then(b=>new eo(b,this.storage))}list(b){return function so(m,b){return hi(m=(0,E.Ku)(m),b)}(this._delegate,b||void 0).then(D=>new eo(D,this.storage))}getMetadata(){return function Qs(m){return function Nn(m){m._throwIfRoot("getMetadata");const b=Ts(m.storage,m._location,Ki());return m.storage.makeRequestWithTokens(b,q)}(m=(0,E.Ku)(m))}(this._delegate)}updateMetadata(b){return function ca(m,b){return function ur(m,b){m._throwIfRoot("updateMetadata");const D=function Bl(m,b,D,C){const Y=Kn(b.fullServerUrl(),m.host,m._protocol),Dt=ms(D,C),cn=m.maxOperationRetryTime,hr=new _s(Y,"PATCH",Wa(m,C),cn);return hr.headers={"Content-Type":"application/json; charset=utf-8"},hr.body=Dt,hr.errorHandler=Ls(b),hr}(m.storage,m._location,b,Ki());return m.storage.makeRequestWithTokens(D,q)}(m=(0,E.Ku)(m),b)}(this._delegate,b)}getDownloadURL(){return function pr(m){return qi(m=(0,E.Ku)(m))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Dc(m){return function Mo(m){m._throwIfRoot("deleteObject");const b=function Ur(m,b){const C=Kn(b.fullServerUrl(),m.host,m._protocol),Dt=new _s(C,"DELETE",function Ee(Kt,cn){},m.maxOperationRetryTime);return Dt.successCodes=[200,204],Dt.errorHandler=Ls(b),Dt}(m.storage,m._location);return m.storage.makeRequestWithTokens(b,q)}(m=(0,E.Ku)(m))}(this._delegate)}_throwIfRoot(b){if(""===this._delegate._location.path)throw ko(b)}}class Ca{constructor(b,D){this.app=b,this._delegate=D}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(b){if(lc(b))throw ho("ref() expected a child path but got a URL, use refFromURL instead.");return new Do(qa(this._delegate,b),this)}refFromURL(b){if(!lc(b))throw ho("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ri.makeFromUrl(b,this._delegate.host)}catch{throw ho("refFromUrl() expected a valid full URL but got an invalid one.")}return new Do(qa(this._delegate,b),this)}setMaxUploadRetryTime(b){this._delegate.maxUploadRetryTime=b}setMaxOperationRetryTime(b){this._delegate.maxOperationRetryTime=b}useEmulator(b,D,C={}){!function Qa(m,b,D,C={}){!function kr(m,b,D,C={}){m.host=`${b}:${D}`,m._protocol="http";const{mockUserToken:k}=C;k&&(m._overrideAuthToken="string"==typeof k?k:(0,E.Fy)(k,m.app.options.projectId))}(m,b,D,C)}(this._delegate,b,D,C)}}function lc(m){return/^[A-Za-z]+:\/\//.test(m)}function nd(m,{instanceIdentifier:b}){const D=m.getProvider("app-compat").getImmediate(),C=m.getProvider("storage").getImmediate({identifier:b});return new Ca(D,C)}function id(m){const b=function rd(m){return new vt.c(b=>{const D=Ee=>b.next(Ee);D(m.snapshot);const Y=m.on("state_changed",D);return m.then(Ee=>{D(Ee),b.complete()},Ee=>{D(m.snapshot),(Ee=>{b.error(Ee)})(Ee)}),function(){Y()}}).pipe(function rs(m,b=Yo.E){return(0,co.N)((D,C)=>{let k=null,Y=null,Ee=null;const Dt=()=>{if(k){k.unsubscribe(),k=null;const cn=Y;Y=null,C.next(cn)}};function Kt(){const cn=Ee+m,hr=b.now();if(hr<cn)return k=this.schedule(void 0,cn-hr),void C.add(k);Dt()}D.subscribe((0,ni._)(C,cn=>{Y=cn,Ee=b.now(),k||(k=b.schedule(Kt,m),C.add(k))},()=>{Dt(),C.complete()},void 0,()=>{Y=k=null}))})}(0))}(m);return{task:m,then:m.then.bind(m),catch:m.catch.bind(m),pause:m.pause.bind(m),cancel:m.cancel.bind(m),resume:m.resume.bind(m),snapshotChanges:()=>b,percentageChanges:()=>b.pipe((0,pt.T)(D=>D.bytesTransferred/D.totalBytes*100))}}function Rc(m){return{getDownloadURL:()=>(0,Et.of)(void 0).pipe(br.Oe,(0,xe.n)(()=>m.getDownloadURL()),br.U0),getMetadata:()=>(0,Et.of)(void 0).pipe(br.Oe,(0,xe.n)(()=>m.getMetadata()),br.U0),delete:()=>(0,ut.H)(m.delete()),child:b=>Rc(m.child(b)),updateMetadata:b=>(0,ut.H)(m.updateMetadata(b)),put:(b,D)=>id(m.put(b,D)),putString:(b,D,C)=>id(m.putString(b,D,C)),list:b=>(0,ut.H)(m.list(b)),listAll:()=>(0,ut.H)(m.listAll())}}!function Sc(m){const b={TaskState:oo,TaskEvent:ws,StringFormat:Jo,Storage:Ca,Reference:Do};m.INTERNAL.registerComponent(new O.uA("storage-compat",nd,"PUBLIC").setServiceProps(b).setMultipleInstances(!0)),m.registerVersion("@firebase/storage-compat","0.3.12")}(Di.A);const T=new o.nKC("angularfire2.storageBucket"),x=new o.nKC("angularfire2.storage.maxUploadRetryTime"),B=new o.nKC("angularfire2.storage.maxOperationRetryTime"),P=new o.nKC("angularfire2.storage.use-emulator");let j=(()=>{var m;class b{constructor(C,k,Y,Ee,Dt,Kt,cn,hr,bi,pi){(0,Pi.A)(this,"storage",void 0);const yi=(0,Oo.iB)(C,Dt,k);this.storage=(0,Oo.BM)(`${yi.name}.storage.${Y}`,"AngularFireStorage",yi.name,()=>{const qr=Dt.runOutsideAngular(()=>yi.storage(Y||void 0)),wi=bi;return wi&&qr.useEmulator(...wi),cn&&qr.setMaxUploadRetryTime(cn),hr&&qr.setMaxOperationRetryTime(hr),qr},[cn,hr])}ref(C){return Rc(this.storage.ref(C))}refFromURL(C){return Rc(this.storage.refFromURL(C))}upload(C,k,Y){return Rc(this.storage.ref(C)).put(k,Y)}}return m=b,(0,Pi.A)(b,"\u0275fac",function(C){return new(C||m)(o.KVO(Oo.rx),o.KVO(Oo.uP,8),o.KVO(T,8),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(br.u0),o.KVO(x,8),o.KVO(B,8),o.KVO(P,8),o.KVO(br.Jv,8))}),(0,Pi.A)(b,"\u0275prov",o.jDH({token:m,factory:m.\u0275fac,providedIn:"any"})),b})();function vn(m,b){if(1&m&&(o.j41(0,"ion-item"),o.nrm(1,"img",17),o.k0s()),2&m){const D=o.XpG();o.R7$(),o.Y8G("src",D.imagePreview,o.B4B)}}function Wt(m,b){if(1&m&&(o.j41(0,"ion-select-option",18),o.EFF(1),o.k0s()),2&m){const D=b.$implicit;o.Y8G("value",D.nombre),o.R7$(),o.JRh(D.nombre)}}function Zn(m,b){if(1&m&&(o.j41(0,"ion-item"),o.EFF(1),o.k0s()),2&m){const D=b.$implicit;o.R7$(),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," ")}}let Fr=(()=>{var m;class b{constructor(C,k,Y,Ee){this.recipeService=C,this.inventoryService=k,this.auth=Y,this.storage=Ee,this.titulo="",this.imageUrl=null,this.descripcion="",this.categoria="desayuno",this.ingredientes=[],this.ingrediente="",this.cantidadIngrediente=1,this.unidadIngrediente="unidad",this.selectedFile=null,this.imagePreview=null,this.globalItems=[]}ngOnInit(){this.loadGlobalItems()}loadGlobalItems(){this.inventoryService.getGlobalItems().subscribe(C=>{this.globalItems=C})}addIngredient(){if(this.ingrediente.trim()){const C={nombre:this.ingrediente.trim(),cantidad:this.cantidadIngrediente,unidad:this.unidadIngrediente};this.ingredientes.push(C),this.ingrediente="",this.cantidadIngrediente=1,this.unidadIngrediente="unidad"}}addRecipe(){if(this.selectedFile){const C=`recipes/${(new Date).getTime()}_${this.selectedFile.name}`,k=this.storage.ref(C);this.storage.upload(C,this.selectedFile).snapshotChanges().pipe((0,we.j)(()=>{k.getDownloadURL().subscribe(Ee=>{this.imageUrl=Ee,this.saveRecipe()})})).subscribe(()=>{},Ee=>console.error("Error al subir la imagen:",Ee))}else this.saveRecipe()}saveRecipe(){this.auth.user.subscribe(C=>{C&&this.recipeService.addRecipe({titulo:this.titulo,imageUrl:this.imageUrl,descripcion:this.descripcion,categoria:this.categoria,ingredientes:this.ingredientes,creadorId:C.uid}).then(()=>{}).catch(Y=>{console.error("Error al agregar la receta:",Y)})})}onFileSelected(C){var k;const Y=null===(k=C.target.files)||void 0===k?void 0:k[0];if(Y){this.selectedFile=Y;const Ee=new FileReader;Ee.onload=()=>{this.imagePreview=Ee.result},Ee.readAsDataURL(Y)}}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(Ii),o.rXU(Ao),o.rXU(et.DS),o.rXU(j))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-add-recipe"]],decls:57,vars:9,consts:[["slot","start"],["position","stacked"],[3,"ngModelChange","ngModel"],["type","file","accept","image/*",3,"change"],[4,"ngIf"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModelChange","ngModel"],["value","gramos"],["value","ml"],["value","unidad"],[3,"click"],[4,"ngFor","ngForOf"],["expand","full",3,"click"],["alt","Vista previa de la imagen",2,"width","100%","max-height","200px",3,"src"],[3,"value"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Agregar Receta"),o.k0s()()(),o.j41(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-label",1),o.EFF(10,"T\xedtulo"),o.k0s(),o.j41(11,"ion-input",2),o.mxI("ngModelChange",function(Ee){return o.DH7(k.titulo,Ee)||(k.titulo=Ee),Ee}),o.k0s()(),o.j41(12,"ion-item")(13,"input",3),o.bIt("change",function(Ee){return k.onFileSelected(Ee)}),o.k0s()(),o.DNE(14,vn,2,1,"ion-item",4),o.j41(15,"ion-item")(16,"ion-label",1),o.EFF(17,"Descripci\xf3n"),o.k0s(),o.j41(18,"ion-textarea",2),o.mxI("ngModelChange",function(Ee){return o.DH7(k.descripcion,Ee)||(k.descripcion=Ee),Ee}),o.k0s()(),o.j41(19,"ion-item")(20,"ion-label"),o.EFF(21,"Categor\xeda"),o.k0s(),o.j41(22,"ion-select",2),o.mxI("ngModelChange",function(Ee){return o.DH7(k.categoria,Ee)||(k.categoria=Ee),Ee}),o.j41(23,"ion-select-option",5),o.EFF(24,"Desayuno"),o.k0s(),o.j41(25,"ion-select-option",6),o.EFF(26,"Almuerzo"),o.k0s(),o.j41(27,"ion-select-option",7),o.EFF(28,"Cena"),o.k0s(),o.j41(29,"ion-select-option",8),o.EFF(30,"Postre"),o.k0s()()(),o.j41(31,"ion-item")(32,"ion-label"),o.EFF(33,"Seleccionar Ingrediente"),o.k0s(),o.j41(34,"ion-select",2),o.mxI("ngModelChange",function(Ee){return o.DH7(k.ingrediente,Ee)||(k.ingrediente=Ee),Ee}),o.DNE(35,Wt,2,2,"ion-select-option",9),o.k0s()(),o.j41(36,"ion-item")(37,"ion-label",1),o.EFF(38,"Cantidad"),o.k0s(),o.j41(39,"ion-input",10),o.mxI("ngModelChange",function(Ee){return o.DH7(k.cantidadIngrediente,Ee)||(k.cantidadIngrediente=Ee),Ee}),o.k0s()(),o.j41(40,"ion-item")(41,"ion-label"),o.EFF(42,"Unidad"),o.k0s(),o.j41(43,"ion-select",2),o.mxI("ngModelChange",function(Ee){return o.DH7(k.unidadIngrediente,Ee)||(k.unidadIngrediente=Ee),Ee}),o.j41(44,"ion-select-option",11),o.EFF(45,"Gramos"),o.k0s(),o.j41(46,"ion-select-option",12),o.EFF(47,"Mililitros"),o.k0s(),o.j41(48,"ion-select-option",13),o.EFF(49,"Unidad"),o.k0s()()(),o.j41(50,"ion-item")(51,"ion-button",14),o.bIt("click",function(){return k.addIngredient()}),o.EFF(52,"A\xf1adir Ingrediente"),o.k0s()(),o.j41(53,"ion-list"),o.DNE(54,Zn,2,3,"ion-item",15),o.k0s(),o.j41(55,"ion-button",16),o.bIt("click",function(){return k.addRecipe()}),o.EFF(56,"Agregar Receta"),o.k0s()()()),2&C&&(o.R7$(11),o.R50("ngModel",k.titulo),o.R7$(3),o.Y8G("ngIf",k.imagePreview),o.R7$(4),o.R50("ngModel",k.descripcion),o.R7$(4),o.R50("ngModel",k.categoria),o.R7$(12),o.R50("ngModel",k.ingrediente),o.R7$(),o.Y8G("ngForOf",k.globalItems),o.R7$(4),o.R50("ngModel",k.cantidadIngrediente),o.R7$(4),o.R50("ngModel",k.unidadIngrediente),o.R7$(11),o.Y8G("ngForOf",k.ingredientes))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.W9,W.eU,W.$w,W.uz,W.he,W.nf,W.MC,W.Nm,W.Ip,W.nc,W.BC,W.ai,W.su,W.Je,W.Gw,jn.BC,jn.vS]}),b})();const ki=()=>[1,2,3,4,5];function Qr(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function Qi(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function Go(m,b){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=b.$implicit,C=o.XpG().$implicit;o.Y8G("name",D<=C.calificacionPromedio?"star":"star-outline")}}function Zo(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function ul(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,Qr,2,0,"ion-button",5)(2,Qi,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,Go,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,Zo,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=b.$implicit,C=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===C.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,ki)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",C.userId===D.creadorId),o.R7$(2),o.Y8G("name",C.isFavorite(D.id)?"heart":"heart-outline")("color",C.isFavorite(D.id)?"danger":"medium")}}function us(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function Js(m,b){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function Dl(m,b){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function cc(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,Js,2,0,"span",23)(4,Dl,2,0,"span",24),o.k0s()()),2&m){const D=b.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function Gl(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=b.$implicit,C=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,C.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function Aa(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,us,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,cc,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,Gl,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let Ua=(()=>{var m;class b{constructor(C,k,Y,Ee,Dt){this.recipeService=C,this.inventoryService=k,this.auth=Y,this.firestore=Ee,this.router=Dt,this.breakfastRecipes=[],this.filteredBreakfastRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(C=>{C&&(this.userId=C.uid,this.loadFavorites())}),this.loadBreakfastRecipes()}loadBreakfastRecipes(){this.recipeService.getRecipesByCategory("desayuno").subscribe(C=>{this.breakfastRecipes=C,this.filteredBreakfastRecipes=C;const k=this.breakfastRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ee=>{Y.averageRating=Ee}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredBreakfastRecipes.sort((C,k)=>(k.averageRating||0)-(C.averageRating||0))}onSearch(C){var k;const Y=(null===(k=C.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredBreakfastRecipes=Y?this.breakfastRecipes.filter(Ee=>Ee.titulo.toLowerCase().includes(Y)):this.breakfastRecipes}openRecipeModal(C){this.selectedRecipe=C,this.checkIngredientsAvailability(C.ingredientes),this.recipeService.getRecipeCommentsWithUser(C.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(C){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=C.map(Y=>{const Ee=k.find(Dt=>{var Kt,cn;return(null==Dt||null===(Kt=Dt.nombre)||void 0===Kt?void 0:Kt.toLowerCase())===(null==Y||null===(cn=Y.nombre)||void 0===cn?void 0:cn.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ee&&Ee.cantidad>=Y.cantidad}})})}rateRecipe(C){this.newRating=C}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(C=>{console.error("Error al enviar el comentario:",C)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(C){return new Promise(k=>{this.firestore.collection("recetas").doc(C).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Dt=Y.reduce((Kt,cn)=>Kt+cn.rating,0)/Y.length;k(Dt)}else k(0)})})}deleteRecipe(C){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(C).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadBreakfastRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(C=>{this.favorites=C})}addToFavorites(C,k){if(this.userId){if(this.isFavorite(C))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:C,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ee=>{console.error("Error al agregar a favoritos:",Ee)})}}isFavorite(C){return this.favorites.some(k=>k.recipeId===C)}navigateToEdit(C){this.router.navigate(["/edit-recipe",C])}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(Ii),o.rXU(Ao),o.rXU(et.DS),o.rXU(Ce.Qe),o.rXU($.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-breakfast-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Desayuno"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ee){return k.onSearch(Ee)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,ul,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,Aa,34,8,"ng-template"),o.k0s()()),2&C&&(o.R7$(9),o.Y8G("ngForOf",k.filteredBreakfastRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,jn.BC,jn.vS,Ne.P9,Ne.QX,Ne.vh],styles:[".delete-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background:none;border:none;color:red;font-size:10px;cursor:pointer;padding:0}.delete-button[_ngcontent-%COMP%]:hover{color:#8b0000;transform:scale(1)}"]}),b})();const zl=()=>[1,2,3,4,5];function ds(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function uc(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function dl(m,b){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=b.$implicit,C=o.XpG().$implicit;o.Y8G("name",D<=C.calificacionPromedio?"star":"star-outline")}}function Si(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function Mc(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,ds,2,0,"ion-button",5)(2,uc,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,dl,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,Si,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=b.$implicit,C=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===C.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,zl)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",C.userId===D.creadorId),o.R7$(2),o.Y8G("name",C.isFavorite(D.id)?"heart":"heart-outline")("color",C.isFavorite(D.id)?"danger":"medium")}}function dc(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function Rs(m,b){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function od(m,b){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function Wl(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,Rs,2,0,"span",23)(4,od,2,0,"span",24),o.k0s()()),2&m){const D=b.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function Sl(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=b.$implicit,C=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,C.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function Ms(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,dc,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,Wl,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,Sl,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let Kl=(()=>{var m;class b{constructor(C,k,Y,Ee,Dt){this.recipeService=C,this.inventoryService=k,this.auth=Y,this.firestore=Ee,this.router=Dt,this.lunchRecipes=[],this.filteredLunchRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(C=>{C&&(this.userId=C.uid,this.loadFavorites())}),this.loadLunchRecipes()}loadLunchRecipes(){this.recipeService.getRecipesByCategory("almuerzo").subscribe(C=>{this.lunchRecipes=C,this.filteredLunchRecipes=C;const k=this.lunchRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ee=>{Y.averageRating=Ee}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredLunchRecipes.sort((C,k)=>(k.averageRating||0)-(C.averageRating||0))}onSearch(C){var k;const Y=(null===(k=C.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredLunchRecipes=Y?this.lunchRecipes.filter(Ee=>Ee.titulo.toLowerCase().includes(Y)):this.lunchRecipes}openRecipeModal(C){this.selectedRecipe=C,this.checkIngredientsAvailability(C.ingredientes),this.recipeService.getRecipeCommentsWithUser(C.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(C){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=C.map(Y=>{const Ee=k.find(Dt=>{var Kt,cn;return(null==Dt||null===(Kt=Dt.nombre)||void 0===Kt?void 0:Kt.toLowerCase())===(null==Y||null===(cn=Y.nombre)||void 0===cn?void 0:cn.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ee&&Ee.cantidad>=Y.cantidad}})})}rateRecipe(C){this.newRating=C}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(C=>{console.error("Error al enviar el comentario:",C)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(C){return new Promise(k=>{this.firestore.collection("recetas").doc(C).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Dt=Y.reduce((Kt,cn)=>Kt+cn.rating,0)/Y.length;k(Dt)}else k(0)})})}deleteRecipe(C){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(C).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadLunchRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(C=>{this.favorites=C})}addToFavorites(C,k){if(this.userId){if(this.isFavorite(C))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:C,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ee=>{console.error("Error al agregar a favoritos:",Ee)})}}isFavorite(C){return this.favorites.some(k=>k.recipeId===C)}navigateToEdit(C){this.router.navigate(["/edit-recipe",C])}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(Ii),o.rXU(Ao),o.rXU(et.DS),o.rXU(Ce.Qe),o.rXU($.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-lunch-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Desayuno"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ee){return k.onSearch(Ee)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,Mc,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,Ms,34,8,"ng-template"),o.k0s()()),2&C&&(o.R7$(9),o.Y8G("ngForOf",k.filteredLunchRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,jn.BC,jn.vS,Ne.P9,Ne.QX,Ne.vh]}),b})();const sd=()=>[1,2,3,4,5];function hl(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function Ta(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function Pc(m,b){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=b.$implicit,C=o.XpG().$implicit;o.Y8G("name",D<=C.calificacionPromedio?"star":"star-outline")}}function ru(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function jd(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,hl,2,0,"ion-button",5)(2,Ta,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,Pc,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,ru,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=b.$implicit,C=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===C.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,sd)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",C.userId===D.creadorId),o.R7$(2),o.Y8G("name",C.isFavorite(D.id)?"heart":"heart-outline")("color",C.isFavorite(D.id)?"danger":"medium")}}function Rl(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function Xl(m,b){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function Za(m,b){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function ua(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,Xl,2,0,"span",23)(4,Za,2,0,"span",24),o.k0s()()),2&m){const D=b.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function hc(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=b.$implicit,C=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,C.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function wa(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,Rl,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,ua,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,hc,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let Hr=(()=>{var m;class b{constructor(C,k,Y,Ee,Dt){this.recipeService=C,this.inventoryService=k,this.auth=Y,this.firestore=Ee,this.router=Dt,this.dinnerRecipes=[],this.filteredDinnerRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(C=>{C&&(this.userId=C.uid,this.loadFavorites())}),this.loadDinnerRecipes()}loadDinnerRecipes(){this.recipeService.getRecipesByCategory("cena").subscribe(C=>{this.dinnerRecipes=C,this.filteredDinnerRecipes=C;const k=this.dinnerRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ee=>{Y.averageRating=Ee}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredDinnerRecipes.sort((C,k)=>(k.averageRating||0)-(C.averageRating||0))}onSearch(C){var k;const Y=(null===(k=C.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredDinnerRecipes=Y?this.dinnerRecipes.filter(Ee=>Ee.titulo.toLowerCase().includes(Y)):this.dinnerRecipes}openRecipeModal(C){this.selectedRecipe=C,this.checkIngredientsAvailability(C.ingredientes),this.recipeService.getRecipeCommentsWithUser(C.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(C){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=C.map(Y=>{const Ee=k.find(Dt=>{var Kt,cn;return(null==Dt||null===(Kt=Dt.nombre)||void 0===Kt?void 0:Kt.toLowerCase())===(null==Y||null===(cn=Y.nombre)||void 0===cn?void 0:cn.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ee&&Ee.cantidad>=Y.cantidad}})})}rateRecipe(C){this.newRating=C}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(C=>{console.error("Error al enviar el comentario:",C)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(C){return new Promise(k=>{this.firestore.collection("recetas").doc(C).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Dt=Y.reduce((Kt,cn)=>Kt+cn.rating,0)/Y.length;k(Dt)}else k(0)})})}deleteRecipe(C){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(C).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadDinnerRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(C=>{this.favorites=C})}addToFavorites(C,k){if(this.userId){if(this.isFavorite(C))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:C,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ee=>{console.error("Error al agregar a favoritos:",Ee)})}}isFavorite(C){return this.favorites.some(k=>k.recipeId===C)}navigateToEdit(C){this.router.navigate(["/edit-recipe",C])}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(Ii),o.rXU(Ao),o.rXU(et.DS),o.rXU(Ce.Qe),o.rXU($.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-dinner-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Cena"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ee){return k.onSearch(Ee)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,jd,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,wa,34,8,"ng-template"),o.k0s()()),2&C&&(o.R7$(9),o.Y8G("ngForOf",k.filteredDinnerRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,jn.BC,jn.vS,Ne.P9,Ne.QX,Ne.vh]}),b})();const xc=()=>[1,2,3,4,5];function fc(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function Nc(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function Hh(m,b){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=b.$implicit,C=o.XpG().$implicit;o.Y8G("name",D<=C.calificacionPromedio?"star":"star-outline")}}function ad(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function Oc(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,fc,2,0,"ion-button",5)(2,Nc,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,Hh,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,ad,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=b.$implicit,C=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===C.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,xc)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",C.userId===D.creadorId),o.R7$(2),o.Y8G("name",C.isFavorite(D.id)?"heart":"heart-outline")("color",C.isFavorite(D.id)?"danger":"medium")}}function Hd(m,b){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function kc(m,b){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function fl(m,b){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function ld(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,kc,2,0,"span",23)(4,fl,2,0,"span",24),o.k0s()()),2&m){const D=b.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function iu(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=b.$implicit,C=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,C.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function cd(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,Hd,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,ld,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,iu,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let Gd=(()=>{var m;class b{constructor(C,k,Y,Ee,Dt){this.recipeService=C,this.inventoryService=k,this.auth=Y,this.firestore=Ee,this.router=Dt,this.dessertRecipes=[],this.filteredDessertRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(C=>{C&&(this.userId=C.uid,this.loadFavorites())}),this.loadDessertRecipes()}loadDessertRecipes(){this.recipeService.getRecipesByCategory("postre").subscribe(C=>{this.dessertRecipes=C,this.filteredDessertRecipes=C;const k=this.dessertRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ee=>{Y.averageRating=Ee}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredDessertRecipes.sort((C,k)=>(k.averageRating||0)-(C.averageRating||0))}onSearch(C){var k;const Y=(null===(k=C.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredDessertRecipes=Y?this.dessertRecipes.filter(Ee=>Ee.titulo.toLowerCase().includes(Y)):this.dessertRecipes}openRecipeModal(C){this.selectedRecipe=C,this.checkIngredientsAvailability(C.ingredientes),this.recipeService.getRecipeCommentsWithUser(C.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(C){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=C.map(Y=>{const Ee=k.find(Dt=>{var Kt,cn;return(null==Dt||null===(Kt=Dt.nombre)||void 0===Kt?void 0:Kt.toLowerCase())===(null==Y||null===(cn=Y.nombre)||void 0===cn?void 0:cn.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ee&&Ee.cantidad>=Y.cantidad}})})}rateRecipe(C){this.newRating=C}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(C=>{console.error("Error al enviar el comentario:",C)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(C){return new Promise(k=>{this.firestore.collection("recetas").doc(C).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Dt=Y.reduce((Kt,cn)=>Kt+cn.rating,0)/Y.length;k(Dt)}else k(0)})})}deleteRecipe(C){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(C).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadDessertRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(C=>{this.favorites=C})}addToFavorites(C,k){if(this.userId){if(this.isFavorite(C))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:C,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ee=>{console.error("Error al agregar a favoritos:",Ee)})}}isFavorite(C){return this.favorites.some(k=>k.recipeId===C)}navigateToEdit(C){this.router.navigate(["/edit-recipe",C])}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(Ii),o.rXU(Ao),o.rXU(et.DS),o.rXU(Ce.Qe),o.rXU($.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-dessert-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Postre"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ee){return k.onSearch(Ee)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,Oc,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,cd,34,8,"ng-template"),o.k0s()()),2&C&&(o.R7$(9),o.Y8G("ngForOf",k.filteredDessertRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,jn.BC,jn.vS,Ne.P9,Ne.QX,Ne.vh]}),b})();var da=function(m){return m.Prompt="PROMPT",m.Camera="CAMERA",m.Photos="PHOTOS",m}(da||{}),hn=function(m){return m.Rear="REAR",m.Front="FRONT",m}(hn||{}),Kr=function(m){return m.Uri="uri",m.Base64="base64",m.DataUrl="dataUrl",m}(Kr||{});class Fc extends Ge.E_{getPhoto(b){var D=this;return(0,Re.A)(function*(){return new Promise(function(){var C=(0,Re.A)(function*(k,Y){if(b.webUseInput||b.source===da.Photos)D.fileInputExperience(b,k,Y);else if(b.source===da.Prompt){let Ee=document.querySelector("pwa-action-sheet");Ee||(Ee=document.createElement("pwa-action-sheet"),document.body.appendChild(Ee)),Ee.header=b.promptLabelHeader||"Photo",Ee.cancelable=!1,Ee.options=[{title:b.promptLabelPhoto||"From Photos"},{title:b.promptLabelPicture||"Take Picture"}],Ee.addEventListener("onSelection",function(){var Dt=(0,Re.A)(function*(Kt){0===Kt.detail?D.fileInputExperience(b,k,Y):D.cameraExperience(b,k,Y)});return function(Kt){return Dt.apply(this,arguments)}}())}else D.cameraExperience(b,k,Y)});return function(k,Y){return C.apply(this,arguments)}}())})()}pickImages(b){var D=this;return(0,Re.A)(function*(){return new Promise(function(){var C=(0,Re.A)(function*(k,Y){D.multipleFileInputExperience(k,Y)});return function(k,Y){return C.apply(this,arguments)}}())})()}cameraExperience(b,D,C){var k=this;return(0,Re.A)(function*(){if(customElements.get("pwa-camera-modal")){const Y=document.createElement("pwa-camera-modal");Y.facingMode=b.direction===hn.Front?"user":"environment",document.body.appendChild(Y);try{yield Y.componentOnReady(),Y.addEventListener("onPhoto",function(){var Ee=(0,Re.A)(function*(Dt){const Kt=Dt.detail;null===Kt?C(new Ge.I9("User cancelled photos app")):Kt instanceof Error?C(Kt):D(yield k._getCameraPhoto(Kt,b)),Y.dismiss(),document.body.removeChild(Y)});return function(Dt){return Ee.apply(this,arguments)}}()),Y.present()}catch{k.fileInputExperience(b,D,C)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),k.fileInputExperience(b,D,C)})()}fileInputExperience(b,D,C){let k=document.querySelector("#_capacitor-camera-input");const Y=()=>{var Ee;null===(Ee=k.parentNode)||void 0===Ee||Ee.removeChild(k)};k||(k=document.createElement("input"),k.id="_capacitor-camera-input",k.type="file",k.hidden=!0,document.body.appendChild(k),k.addEventListener("change",Ee=>{const Dt=k.files[0];let Kt="jpeg";if("image/png"===Dt.type?Kt="png":"image/gif"===Dt.type&&(Kt="gif"),"dataUrl"===b.resultType||"base64"===b.resultType){const cn=new FileReader;cn.addEventListener("load",()=>{if("dataUrl"===b.resultType)D({dataUrl:cn.result,format:Kt});else if("base64"===b.resultType){const hr=cn.result.split(",")[1];D({base64String:hr,format:Kt})}Y()}),cn.readAsDataURL(Dt)}else D({webPath:URL.createObjectURL(Dt),format:Kt}),Y()}),k.addEventListener("cancel",Ee=>{C(new Ge.I9("User cancelled photos app")),Y()})),k.accept="image/*",k.capture=!0,b.source===da.Photos||b.source===da.Prompt?k.removeAttribute("capture"):b.direction===hn.Front?k.capture="user":b.direction===hn.Rear&&(k.capture="environment"),k.click()}multipleFileInputExperience(b,D){let C=document.querySelector("#_capacitor-camera-input-multiple");const k=()=>{var Y;null===(Y=C.parentNode)||void 0===Y||Y.removeChild(C)};C||(C=document.createElement("input"),C.id="_capacitor-camera-input-multiple",C.type="file",C.hidden=!0,C.multiple=!0,document.body.appendChild(C),C.addEventListener("change",Y=>{const Ee=[];for(let Dt=0;Dt<C.files.length;Dt++){const Kt=C.files[Dt];let cn="jpeg";"image/png"===Kt.type?cn="png":"image/gif"===Kt.type&&(cn="gif"),Ee.push({webPath:URL.createObjectURL(Kt),format:cn})}b({photos:Ee}),k()}),C.addEventListener("cancel",Y=>{D(new Ge.I9("User cancelled photos app")),k()})),C.accept="image/*",C.click()}_getCameraPhoto(b,D){return new Promise((C,k)=>{const Y=new FileReader,Ee=b.type.split("/")[1];"uri"===D.resultType?C({webPath:URL.createObjectURL(b),format:Ee,saved:!1}):(Y.readAsDataURL(b),Y.onloadend=()=>{const Dt=Y.result;C("dataUrl"===D.resultType?{dataUrl:Dt,format:Ee,saved:!1}:{base64String:Dt.split(",")[1],format:Ee,saved:!1})},Y.onerror=Dt=>{k(Dt)})})}checkPermissions(){var b=this;return(0,Re.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw b.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw b.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var b=this;return(0,Re.A)(function*(){throw b.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var b=this;return(0,Re.A)(function*(){throw b.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var b=this;return(0,Re.A)(function*(){throw b.unavailable("Not implemented on web.")})()}}new Fc;const ei=(0,Ge.F3)("Camera",{web:()=>new Fc});function su(m,b){if(1&m&&(o.j41(0,"div")(1,"h3"),o.EFF(2,"Imagen Capturada:"),o.k0s(),o.nrm(3,"img",14),o.k0s()),2&m){const D=o.XpG();o.R7$(3),o.Y8G("src",D.capturedImage,o.B4B)}}function pl(m,b){if(1&m&&(o.j41(0,"ion-select-option",15),o.EFF(1),o.k0s()),2&m){const D=b.$implicit;o.Y8G("value",D),o.R7$(),o.JRh(D)}}function js(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-item")(1,"ion-label",3),o.EFF(2,"Nuevo \xcdtem"),o.k0s(),o.j41(3,"ion-input",8),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newItem.nombre,k)||(Y.newItem.nombre=k),o.Njj(k)}),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.R50("ngModel",D.newItem.nombre)}}let au=(()=>{var m;class b{constructor(C,k,Y){this.inventoryService=C,this.auth=k,this.firestore=Y,this.predefinedItems=[],this.availableItems=[],this.selectedItem=null,this.isNewItem=!1,this.newItem={nombre:"",cantidad:0,fechaVencimiento:"",unidadMedida:""},this.userId=null,this.capturedImage=null,this.auth.user.subscribe(Ee=>{Ee&&(this.userId=Ee.uid)})}ngOnInit(){this.loadAvailableItems()}openCamera(){var C=this;return(0,Re.A)(function*(){try{const k=yield ei.getPhoto({quality:90,resultType:Kr.Base64,source:da.Camera});C.capturedImage=`data:image/jpeg;base64,${k.base64String}`}catch(k){console.error("Error al capturar la imagen:",k)}})()}loadAvailableItems(){this.firestore.collection("items").valueChanges({idField:"id"}).subscribe(C=>{this.availableItems=[...this.predefinedItems,...C.map(k=>k.nombre)]})}formatFechaVencimiento(C){const k=new Date(C);return`${String(k.getDate()).padStart(2,"0")}-${String(k.getMonth()+1).padStart(2,"0")}-${k.getFullYear()}`}onItemSelected(C){const k=C.detail.value;"Otro"===k?(this.isNewItem=!0,this.newItem.nombre=""):(this.isNewItem=!1,this.newItem.nombre=k)}addItem(){if(!this.isNewItem&&this.selectedItem&&(this.newItem.nombre=this.selectedItem),this.userId&&this.newItem.nombre&&this.newItem.cantidad>0&&this.newItem.unidadMedida&&this.newItem.fechaVencimiento){const C=this.formatFechaVencimiento(this.newItem.fechaVencimiento);this.inventoryService.addItemToInventory({nombre:this.newItem.nombre,cantidad:this.newItem.cantidad,fechaVencimiento:C,unidadMedida:this.newItem.unidadMedida,imageUrl:this.capturedImage},this.userId).then(()=>{this.isNewItem&&this.addItemToFirestore(this.newItem.nombre),console.log("\xcdtem agregado con \xe9xito"),this.resetForm()}).catch(Y=>{console.error("Error al agregar el \xedtem:",Y)})}else console.error("Todos los campos son obligatorios")}addItemToFirestore(C){this.firestore.collection("items").doc(C).set({nombre:C})}resetForm(){this.newItem={nombre:"",cantidad:0,fechaVencimiento:"",unidadMedida:""},this.selectedItem=null,this.isNewItem=!1,this.capturedImage=null}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(Ao),o.rXU(et.DS),o.rXU(Ce.Qe))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-add-item"]],decls:39,vars:6,consts:[["slot","start"],["expand","block",3,"click"],[4,"ngIf"],["position","floating"],["placeholder","Selecciona o agrega un \xedtem",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["value","Otro"],["type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","gramos"],["value","ml"],["value","unidad"],["displayFormat","YYYY-MM-DD","min","2024-01-01","max","2030-12-31",3,"ngModelChange","ngModel"],["expand","full",3,"click"],["alt","Imagen Capturada",2,"width","100%","height","auto","margin-top","10px",3,"src"],[3,"value"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Agregar Item"),o.k0s(),o.j41(6,"ion-item")(7,"ion-button",1),o.bIt("click",function(){return k.openCamera()}),o.EFF(8,"Capturar Imagen"),o.k0s()()()()(),o.j41(9,"ion-content"),o.DNE(10,su,4,1,"div",2),o.j41(11,"ion-item")(12,"ion-label",3),o.EFF(13,"Selecciona un producto"),o.k0s(),o.j41(14,"ion-select",4),o.bIt("ionChange",function(Ee){return k.onItemSelected(Ee)}),o.DNE(15,pl,2,2,"ion-select-option",5),o.j41(16,"ion-select-option",6),o.EFF(17,"Otro (Agregar nuevo)"),o.k0s()()(),o.DNE(18,js,4,1,"ion-item",2),o.j41(19,"ion-item")(20,"ion-label",3),o.EFF(21,"Cantidad"),o.k0s(),o.j41(22,"ion-input",7),o.mxI("ngModelChange",function(Ee){return o.DH7(k.newItem.cantidad,Ee)||(k.newItem.cantidad=Ee),Ee}),o.k0s()(),o.j41(23,"ion-item")(24,"ion-label"),o.EFF(25,"Unidad"),o.k0s(),o.j41(26,"ion-select",8),o.mxI("ngModelChange",function(Ee){return o.DH7(k.newItem.unidadMedida,Ee)||(k.newItem.unidadMedida=Ee),Ee}),o.j41(27,"ion-select-option",9),o.EFF(28,"Gramos"),o.k0s(),o.j41(29,"ion-select-option",10),o.EFF(30,"Mililitros"),o.k0s(),o.j41(31,"ion-select-option",11),o.EFF(32,"Unidad"),o.k0s()()(),o.j41(33,"ion-item")(34,"ion-label",3),o.EFF(35,"Fecha de Vencimiento"),o.k0s(),o.j41(36,"ion-datetime",12),o.mxI("ngModelChange",function(Ee){return o.DH7(k.newItem.fechaVencimiento,Ee)||(k.newItem.fechaVencimiento=Ee),Ee}),o.k0s()(),o.j41(37,"ion-button",13),o.bIt("click",function(){return k.addItem()}),o.EFF(38,"Agregar \xcdtem"),o.k0s()()),2&C&&(o.R7$(10),o.Y8G("ngIf",k.capturedImage),o.R7$(5),o.Y8G("ngForOf",k.availableItems),o.R7$(3),o.Y8G("ngIf",k.isNewItem),o.R7$(4),o.R50("ngModel",k.newItem.cantidad),o.R7$(4),o.R50("ngModel",k.newItem.unidadMedida),o.R7$(10),o.R50("ngModel",k.newItem.fechaVencimiento))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.W9,W.A9,W.eU,W.$w,W.uz,W.he,W.MC,W.Nm,W.Ip,W.BC,W.ai,W.su,W.Je,W.Gw,jn.BC,jn.vS]}),b})();function Ba(m,b){if(1&m&&o.nrm(0,"ion-img",12),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function gl(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-card"),o.DNE(1,Ba,1,1,"ion-img",8),o.j41(2,"ion-card-header")(3,"ion-card-title"),o.EFF(4),o.k0s()(),o.j41(5,"ion-card-content"),o.EFF(6),o.nI1(7,"slice"),o.j41(8,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(9,"Ver m\xe1s"),o.k0s(),o.j41(10,"ion-button",10),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.removeFromFavorites(k.id))}),o.nrm(11,"ion-icon",11),o.k0s()()()}if(2&m){const D=b.$implicit,C=o.XpG();o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(7,5,D.descripcion,0,100),"... "),o.R7$(5),o.Y8G("name",C.isFavorite(D.id)?"heart":"heart-outline")("color",C.isFavorite(D.id)?"danger":"medium")}}function Gh(m,b){if(1&m&&o.nrm(0,"ion-img",12),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function pc(m,b){1&m&&o.nrm(0,"ion-icon",17)}function zd(m,b){1&m&&o.nrm(0,"ion-icon",18)}function ml(m,b){if(1&m&&(o.j41(0,"ion-item"),o.EFF(1),o.DNE(2,pc,1,0,"ion-icon",15)(3,zd,1,0,"ion-icon",16),o.k0s()),2&m){const D=b.$implicit;o.R7$(),o.SpI(" ",D.name," "),o.R7$(),o.Y8G("ngIf",D.inInventory),o.R7$(),o.Y8G("ngIf",!D.inInventory)}}function ud(m,b){1&m&&(o.j41(0,"span",21),o.EFF(1,"Disponible"),o.k0s())}function Uo(m,b){1&m&&(o.j41(0,"span",22),o.EFF(1,"No disponible"),o.k0s())}function $a(m,b){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,ud,2,0,"span",19)(4,Uo,2,0,"span",20),o.k0s()()),2&m){const D=b.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function Wd(m,b){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",13)(5,"ion-button",14),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,Gh,1,1,"ion-img",8),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,ml,4,3,"ion-item",6)(15,$a,5,5,"ion-item",6),o.j41(16,"ion-item")(17,"ion-label")(18,"h2"),o.EFF(19),o.k0s()()()(),o.j41(20,"ion-button",14),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(21,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion)}}let Hs=(()=>{var m;class b{constructor(C,k,Y,Ee){this.auth=C,this.firestore=k,this.recipeService=Y,this.inventoryService=Ee,this.userId=null,this.favorites=[],this.filteredFavorites=[],this.isModalOpen=!1,this.selectedRecipe=null,this.selectedCategory="desayuno",this.isAuthenticated=!1,this.availableIngredients=[],console.log(" en cosntruct")}ngOnInit(){this.auth.authState.subscribe(C=>{this.isAuthenticated=!!C,console.log(" isAuthenticated subscribe :: ",this.isAuthenticated),this.isAuthenticated&&C&&C.uid&&(this.userId=C.uid,this.filterFavorites())})}filterFavorites(){console.log(" this === ",this.userId),this.userId&&(this.filteredFavorites=[],this.firestore.collection("usuarios").doc(this.userId).collection("favoritos",k=>k.where("category","==",this.selectedCategory)).get().forEach(k=>{k.forEach(Y=>{const Ee=Y.data();console.log("datos  ID :: ",Y.id),this.firestore.collection("recetas").doc(Ee.recipeId).get().forEach(Dt=>{const Kt=Dt.data();Kt.id=Y.id,this.filteredFavorites.push(Kt)})})}))}openRecipeModal(C){this.selectedRecipe=C,this.checkIngredientsAvailability(C.ingredientes),this.recipeService.getRecipeCommentsWithUser(C.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}removeFromFavorites(C){console.log("recipeId :: ",C),this.userId&&(this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").doc(C).delete(),this.filterFavorites())}checkIngredientsAvailability(C){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=C.map(Y=>{const Ee=k.find(Dt=>{var Kt,cn;return(null==Dt||null===(Kt=Dt.nombre)||void 0===Kt?void 0:Kt.toLowerCase())===(null==Y||null===(cn=Y.nombre)||void 0===cn?void 0:cn.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ee&&Ee.cantidad>=Y.cantidad}})})}isFavorite(C){return this.favorites.some(k=>k.recipeId===C)}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(et.DS),o.rXU(Ce.Qe),o.rXU(Ii),o.rXU(Ao))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-favorites"]],decls:24,vars:3,consts:[["slot","start"],[3,"ngModelChange","ionChange","ngModel"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],[4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],["alt","Imagen de la receta",3,"src",4,"ngIf"],["fill","clear",3,"click"],["fill","clear","color","danger",3,"click"],[3,"name","color"],["alt","Imagen de la receta",3,"src"],["slot","end"],[3,"click"],["name","checkmark-circle","color","success",4,"ngIf"],["name","close-circle","color","danger",4,"ngIf"],["name","checkmark-circle","color","success"],["name","close-circle","color","danger"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-buttons",0),o.nrm(2,"ion-menu-button"),o.j41(3,"ion-title"),o.EFF(4,"Recetas Favoritas"),o.k0s()()(),o.j41(5,"ion-toolbar")(6,"ion-segment",1),o.mxI("ngModelChange",function(Ee){return o.DH7(k.selectedCategory,Ee)||(k.selectedCategory=Ee),Ee}),o.bIt("ionChange",function(){return k.filterFavorites()}),o.j41(7,"ion-segment-button",2)(8,"ion-label"),o.EFF(9,"Desayuno"),o.k0s()(),o.j41(10,"ion-segment-button",3)(11,"ion-label"),o.EFF(12,"Almuerzo"),o.k0s()(),o.j41(13,"ion-segment-button",4)(14,"ion-label"),o.EFF(15,"Cena"),o.k0s()(),o.j41(16,"ion-segment-button",5)(17,"ion-label"),o.EFF(18,"Postre"),o.k0s()()()(),o.j41(19,"ion-content")(20,"ion-list"),o.DNE(21,gl,12,9,"ion-card",6),o.k0s(),o.j41(22,"ion-modal",7),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(23,Wd,22,6,"ng-template"),o.k0s()()),2&C&&(o.R7$(6),o.R50("ngModel",k.selectedCategory),o.R7$(15),o.Y8G("ngForOf",k.filteredFavorites),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Ne.Sq,Ne.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Gp,W.eP,W.BC,W.ai,W.Sb,W.Je,jn.BC,jn.vS,Ne.P9]}),b})();function _l(m,b){if(1&m){const D=o.RV6();o.j41(0,"div",13)(1,"ion-item")(2,"ion-label",1),o.EFF(3,"Nombre"),o.k0s(),o.nrm(4,"ion-input",14),o.k0s(),o.j41(5,"ion-item")(6,"ion-label",1),o.EFF(7,"Cantidad"),o.k0s(),o.nrm(8,"ion-input",15),o.k0s(),o.j41(9,"ion-item")(10,"ion-label",1),o.EFF(11,"Unidad"),o.k0s(),o.nrm(12,"ion-input",16),o.k0s(),o.j41(13,"ion-button",17),o.bIt("click",function(){const k=o.eBV(D).index,Y=o.XpG();return o.Njj(Y.removeIngredient(k))}),o.EFF(14,"Eliminar Ingrediente"),o.k0s()()}2&m&&o.Y8G("formGroupName",b.index)}let dd=(()=>{var m;class b{constructor(C,k,Y,Ee){this.fb=C,this.route=k,this.router=Y,this.recipeService=Ee,this.recipeId=null,this.recipeForm=this.fb.group({titulo:["",jn.k0.required],descripcion:["",jn.k0.required],categoria:["",jn.k0.required],ingredientes:this.fb.array([])})}ngOnInit(){this.recipeId=this.route.snapshot.paramMap.get("id"),this.recipeId&&this.loadRecipe()}get ingredientes(){return this.recipeForm.get("ingredientes")}loadRecipe(){this.recipeService.getRecipeById(this.recipeId).subscribe(C=>{C&&this.populateForm(C)})}populateForm(C){this.recipeForm.patchValue({titulo:C.titulo,descripcion:C.descripcion,categoria:C.categoria}),this.ingredientes.clear(),C.ingredientes.forEach(k=>{this.ingredientes.push(this.fb.group({nombre:[k.nombre,jn.k0.required],cantidad:[k.cantidad,[jn.k0.required,jn.k0.min(1)]],unidad:[k.unidad,jn.k0.required]}))})}addIngredient(){this.ingredientes.push(this.fb.group({nombre:["",jn.k0.required],cantidad:[1,[jn.k0.required,jn.k0.min(1)]],unidad:["",jn.k0.required]}))}removeIngredient(C){this.ingredientes.removeAt(C)}submitForm(){this.recipeForm.valid&&this.recipeId?this.recipeService.updateRecipe(this.recipeId,this.recipeForm.value).then(()=>{console.log("Receta actualizada con \xe9xito"),this.router.navigate(["/recetas"])}).catch(C=>{console.error("Error al actualizar la receta:",C)}):console.error("Formulario inv\xe1lido o ID de receta no encontrado")}}return(m=b).\u0275fac=function(C){return new(C||m)(o.rXU(jn.ok),o.rXU($.nX),o.rXU($.Ix),o.rXU(Ii))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-edit-recipe"]],decls:32,vars:2,consts:[[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","titulo"],["formControlName","descripcion"],["formControlName","categoria"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],["formArrayName","ingredientes"],[3,"formGroupName",4,"ngFor","ngForOf"],["expand","block",3,"click"],["expand","block","type","submit"],[3,"formGroupName"],["formControlName","nombre"],["type","number","formControlName","cantidad"],["formControlName","unidad"],["expand","block","color","danger",3,"click"]],template:function(C,k){1&C&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Editar Receta"),o.k0s()()(),o.j41(4,"ion-content")(5,"form",0),o.bIt("ngSubmit",function(){return k.submitForm()}),o.j41(6,"ion-item")(7,"ion-label",1),o.EFF(8,"T\xedtulo"),o.k0s(),o.nrm(9,"ion-input",2),o.k0s(),o.j41(10,"ion-item")(11,"ion-label",1),o.EFF(12,"Descripci\xf3n"),o.k0s(),o.nrm(13,"ion-textarea",3),o.k0s(),o.j41(14,"ion-item")(15,"ion-label",1),o.EFF(16,"Categor\xeda"),o.k0s(),o.j41(17,"ion-select",4)(18,"ion-select-option",5),o.EFF(19,"Desayuno"),o.k0s(),o.j41(20,"ion-select-option",6),o.EFF(21,"Almuerzo"),o.k0s(),o.j41(22,"ion-select-option",7),o.EFF(23,"Cena"),o.k0s(),o.j41(24,"ion-select-option",8),o.EFF(25,"Postre"),o.k0s()()(),o.j41(26,"div",9),o.DNE(27,_l,15,1,"div",10),o.k0s(),o.j41(28,"ion-button",11),o.bIt("click",function(){return k.addIngredient()}),o.EFF(29,"Agregar Ingrediente"),o.k0s(),o.j41(30,"ion-button",12),o.EFF(31,"Guardar Cambios"),o.k0s()()()),2&C&&(o.R7$(5),o.Y8G("formGroup",k.recipeForm),o.R7$(22),o.Y8G("ngForOf",k.ingredientes.controls))},dependencies:[Ne.Sq,W.Jm,W.W9,W.eU,W.$w,W.uz,W.he,W.Nm,W.Ip,W.nc,W.BC,W.ai,W.su,W.Je,W.Gw,jn.qT,jn.BC,jn.cb,jn.j4,jn.JD,jn.$R,jn.v8]}),b})();const Kd=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>V.e(8812).then(V.bind(V,8812)).then(m=>m.FolderPageModule)},{path:"login",loadChildren:()=>Promise.all([V.e(2076),V.e(3485)]).then(V.bind(V,3485)).then(m=>m.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([V.e(2076),V.e(8618)]).then(V.bind(V,8618)).then(m=>m.RegisterPageModule)},{path:"inventory",component:Nr},{path:"",redirectTo:"/inventory",pathMatch:"full"},{path:"add-recipe",component:Fr},{path:"",redirectTo:"/add-recipe",pathMatch:"full"},{path:"breakfast-recipes",component:Ua},{path:"",redirectTo:"/breakfast-recipes",pathMatch:"full"},{path:"lunch-recipes",component:Kl},{path:"",redirectTo:"/lunch-recipes",pathMatch:"full"},{path:"dinner-recipes",component:Hr},{path:"",redirectTo:"/dinner-recipes",pathMatch:"full"},{path:"dessert-recipes",component:Gd},{path:"",redirectTo:"/dessert-recipes",pathMatch:"full"},{path:"inventory",component:Nr},{path:"",redirectTo:"/inventory",pathMatch:"full"},{path:"add-item",component:au},{path:"",redirectTo:"/add-item",pathMatch:"full"},{path:"favorites",component:Hs},{path:"",redirectTo:"/favorites",pathMatch:"full"},{path:"edit-recipe/:id",component:dd},{path:"home",loadChildren:()=>V.e(5075).then(V.bind(V,5075)).then(m=>m.HomePageModule)},{path:"perfilusuario",loadChildren:()=>Promise.all([V.e(2076),V.e(4617)]).then(V.bind(V,4617)).then(m=>m.PerfilusuarioPageModule)}];let lu=(()=>{var m;class b{}return(m=b).\u0275fac=function(C){return new(C||m)},m.\u0275mod=o.$C({type:m}),m.\u0275inj=o.G2t({imports:[$.iI.forRoot(Kd,{preloadingStrategy:$.Kp}),$.iI]}),b})();var Ml=V(2214);class gc{constructor(b){return b}}class Lc{constructor(){return(0,Ml.Dk)()}}const vl=new o.nKC("angularfire2._apps"),mc={provide:gc,useFactory:function ql(m){return m&&1===m.length?m[0]:new gc((0,Ml.Sx)())},deps:[[new o.Xx1,vl]]},cu={provide:Lc,deps:[[new o.Xx1,vl]]};function hd(m){return(b,D)=>{const C=D.get(o.Agw);(0,Ml.KO)("angularfire",br.xv.full,"core"),(0,Ml.KO)("angularfire",br.xv.full,"app"),(0,Ml.KO)("angular",o.xvI.full,C.toString());const k=b.runOutsideAngular(()=>m(D));return new gc(k)}}function uu(m,...b){return(0,o.EmA)([mc,cu,{provide:vl,useFactory:hd(m),multi:!0,deps:[o.SKi,o.zZn,br.u0,...b]}])}const es=(0,br.S3)(Ml.Wp,!0);var fd=V(2233);V(8041);class Pl{constructor(b){return b}}const pd=new o.nKC("angularfire2.auth-instances");function Ql(m){return(b,D)=>{const C=b.runOutsideAngular(()=>m(D));return new Pl(C)}}const ja={provide:class el{constructor(){return(0,br.CA)("auth")}},deps:[[new o.Xx1,pd]]},Yl={provide:Pl,useFactory:function xl(m,b){const D=(0,br.lR)("auth",m,b);return D&&new Pl(D)},deps:[[new o.Xx1,pd],gc]};function fu(m,...b){return(0,Ml.KO)("angularfire",br.xv.full,"auth"),(0,o.EmA)([Yl,ja,{provide:pd,useFactory:Ql(m),multi:!0,deps:[o.SKi,o.zZn,br.u0,Lc,[new o.Xx1,br.Jv],...b]}])}const re=(0,br.S3)(fd.o,!0);var Jh=V(5312);let Zh=(()=>{var m;class b{}return(m=b).\u0275fac=function(C){return new(C||m)},m.\u0275mod=o.$C({type:m,bootstrap:[Xr,dd]}),m.\u0275inj=o.G2t({providers:[{provide:$.b,useClass:be.jM},uu(()=>es({projectId:"miven-c5f93",appId:"1:46504601832:web:ecc2f1c0f13346da7c415d",storageBucket:"miven-c5f93.appspot.com",apiKey:"AIzaSyC7SViDJ3MAfnpzls1znWTVYTvO6S5K1ys",authDomain:"miven-c5f93.firebaseapp.com",messagingSenderId:"46504601832"})),fu(()=>re())],imports:[d.Bb,W.bv.forRoot(),lu,Oo.bf.initializeApp(Jh.c.firebaseConfig),jn.YN,et.X8,Ce.cM,Ye,W.bv.forRoot(),jn.X1]}),b})();Jh.c.production&&(0,o.SmG)(),d.sG().bootstrapModule(Zh).catch(m=>console.log(m))},2233:(kn,Mt,V)=>{"use strict";V.d(Mt,{$:()=>qe,A:()=>Me,G:()=>et,K:()=>fs,L:()=>mo,N:()=>er,P:()=>uc,R:()=>Qi,U:()=>Ve,V:()=>ko,W:()=>ta,X:()=>Os,Y:()=>Ro,Z:()=>ri,_:()=>pe,a:()=>Xa,a0:()=>Jn,a1:()=>Z,a2:()=>le,a3:()=>ye,a4:()=>Vi,a5:()=>Ti,a6:()=>ks,a7:()=>za,a8:()=>ms,a9:()=>sl,aA:()=>Wi,aB:()=>xe,aC:()=>fe,aD:()=>su,aE:()=>tn,aF:()=>ve,aG:()=>hn,aH:()=>xc,aI:()=>Hr,aJ:()=>Yn,aN:()=>Qs,aQ:()=>Or,aa:()=>wc,ab:()=>Fo,ac:()=>Wa,ad:()=>al,ae:()=>ia,af:()=>Vs,ag:()=>Bl,ah:()=>eu,ak:()=>vs,al:()=>ac,am:()=>Ka,ap:()=>ai,aq:()=>q,as:()=>Nn,at:()=>Tr,au:()=>mt,av:()=>xr,aw:()=>Gr,ax:()=>we,ay:()=>lo,az:()=>Ba,b:()=>no,c:()=>Ms,d:()=>Ta,e:()=>sd,f:()=>Hh,g:()=>ld,h:()=>Hd,i:()=>rd,j:()=>Gd,k:()=>du,l:()=>Js,m:()=>yl,o:()=>Jf,p:()=>Ge,r:()=>cc,s:()=>ul,u:()=>zl});var d=V(467),o=V(7991),$=V(4923),be=V(8041),W=V(1635),Ce=V(6238);const Ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Me={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const et=function Ct(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},pt=function at(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Et=new $.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new be.Vy("@firebase/auth");function St(w,...p){ut.logLevel<=be.$b.ERROR&&ut.error(`Auth (${o.SDK_VERSION}): ${w}`,...p)}function we(w,...p){throw nt(w,...p)}function xe(w,...p){return nt(w,...p)}function Ne(w,p,_){const M=Object.assign(Object.assign({},pt()),{[p]:_});return new $.FA("auth","Firebase",M).create(p,{appName:w.name})}function st(w){return Ne(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ht(w,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&we(w,"argument-error"),Ne(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(w,...p){if("string"!=typeof w){const _=p[0],M=[...p.slice(1)];return M[0]&&(M[0].appName=w.name),w._errorFactory.create(_,...M)}return Et.create(w,...p)}function fe(w,p,..._){if(!w)throw nt(p,..._)}function gt(w){const p="INTERNAL ASSERTION FAILED: "+w;throw St(p),new Error(p)}function mt(w,p){w||gt(p)}function Ze(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Lt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class De{constructor(p,_){this.shortDelay=p,this.longDelay=_,mt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,$.jZ)()||(0,$.lV)()}get(){return function pn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Lt()||(0,$.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _e(w,p){mt(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class Se{static initialize(p,_,M){this.fetchImpl=p,_&&(this.headersImpl=_),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void gt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void gt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void gt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Oe=new De(3e4,6e4);function Ke(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function tt(w,p,_,M){return He.apply(this,arguments)}function He(){return(He=(0,d.A)(function*(w,p,_,M,re={}){return lt(w,re,(0,d.A)(function*(){let Ie={},Pt={};M&&("GET"===p?Pt=M:Ie={body:JSON.stringify(M)});const on=(0,$.Am)(Object.assign({key:w.config.apiKey},Pt)).slice(1),Rn=yield w._getAdditionalHeaders();Rn["Content-Type"]="application/json",w.languageCode&&(Rn["X-Firebase-Locale"]=w.languageCode);const dr=Object.assign({method:p,headers:Rn},Ie);return(0,$.c1)()||(dr.referrerPolicy="no-referrer"),Se.fetch()(bt(w,w.config.apiHost,_,on),dr)}))})).apply(this,arguments)}function lt(w,p,_){return yt.apply(this,arguments)}function yt(){return(yt=(0,d.A)(function*(w,p,_){w._canInitEmulator=!1;const M=Object.assign(Object.assign({},se),p);try{const re=new Ln(w),Ie=yield Promise.race([_(),re.promise]);re.clearNetworkTimeout();const Pt=yield Ie.json();if("needConfirmation"in Pt)throw qn(w,"account-exists-with-different-credential",Pt);if(Ie.ok&&!("errorMessage"in Pt))return Pt;{const on=Ie.ok?Pt.errorMessage:Pt.error.message,[Rn,dr]=on.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rn)throw qn(w,"credential-already-in-use",Pt);if("EMAIL_EXISTS"===Rn)throw qn(w,"email-already-in-use",Pt);if("USER_DISABLED"===Rn)throw qn(w,"user-disabled",Pt);const Cr=M[Rn]||Rn.toLowerCase().replace(/[_\s]+/g,"-");if(dr)throw Ne(w,Cr,dr);we(w,Cr)}}catch(re){if(re instanceof $.g)throw re;we(w,"network-request-failed",{message:String(re)})}})).apply(this,arguments)}function Bt(w,p,_,M){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(w,p,_,M,re={}){const Ie=yield tt(w,p,_,M,re);return"mfaPendingCredential"in Ie&&we(w,"multi-factor-auth-required",{_serverResponse:Ie}),Ie})).apply(this,arguments)}function bt(w,p,_,M){const re=`${p}${_}?${M}`;return w.config.emulator?_e(w.config,re):`${w.config.apiScheme}://${re}`}function In(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ln{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,M)=>{this.timer=setTimeout(()=>M(xe(this.auth,"network-request-failed")),Oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(w,p,_){const M={appName:w.name};_.email&&(M.email=_.email),_.phoneNumber&&(M.phoneNumber=_.phoneNumber);const re=xe(w,p,M);return re.customData._tokenResponse=_,re}function en(w){return void 0!==w&&void 0!==w.getResponse}function zt(w){return void 0!==w&&void 0!==w.enterprise}class Un{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return In(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function Fe(){return(Fe=(0,d.A)(function*(w){return(yield tt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(w,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,d.A)(function*(w,p){return tt(w,"GET","/v2/recaptchaConfig",Ke(w,p))})).apply(this,arguments)}function tr(){return(tr=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Mn(w,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ar(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function fr(){return(fr=(0,d.A)(function*(w,p=!1){const _=(0,$.Ku)(w),M=yield _.getIdToken(p),re=wn(M);fe(re&&re.exp&&re.auth_time&&re.iat,_.auth,"internal-error");const Ie="object"==typeof re.firebase?re.firebase:void 0,Pt=null==Ie?void 0:Ie.sign_in_provider;return{claims:re,token:M,authTime:ar(Vr(re.auth_time)),issuedAtTime:ar(Vr(re.iat)),expirationTime:ar(Vr(re.exp)),signInProvider:Pt||null,signInSecondFactor:(null==Ie?void 0:Ie.sign_in_second_factor)||null}})).apply(this,arguments)}function Vr(w){return 1e3*Number(w)}function wn(w){const[p,_,M]=w.split(".");if(void 0===p||void 0===_||void 0===M)return St("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,$.u)(_);return re?JSON.parse(re):(St("Failed to decode base64 JWT payload"),null)}catch(re){return St("Caught error parsing JWT payload as JSON",null==re?void 0:re.toString()),null}}function Ar(w){const p=wn(w);return fe(p,"internal-error"),fe(typeof p.exp<"u","internal-error"),fe(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function $n(w,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.A)(function*(w,p,_=!1){if(_)return p;try{return yield p}catch(M){throw M instanceof $.g&&function Pn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(M)&&w.auth.currentUser===w&&(yield w.auth.signOut()),M}})).apply(this,arguments)}class Ai{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const re=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,re)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const M=this.getInterval(p);this.timerId=setTimeout((0,d.A)(function*(){yield _.iteration()}),M)}iteration(){var p=this;return(0,d.A)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class ir{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ar(this.lastLoginAt),this.creationTime=ar(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _r(w){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.A)(function*(w){var p;const _=w.auth,M=yield w.getIdToken(),re=yield $n(w,Mn(_,{idToken:M}));fe(null==re?void 0:re.users.length,_,"internal-error");const Ie=re.users[0];w._notifyReloadListener(Ie);const Pt=null!==(p=Ie.providerUserInfo)&&void 0!==p&&p.length?Yt(Ie.providerUserInfo):[],on=function Rt(w,p){return[...w.filter(M=>!p.some(re=>re.providerId===M.providerId)),...p]}(w.providerData,Pt),Cr=!!w.isAnonymous&&!(w.email&&Ie.passwordHash||null!=on&&on.length),fi={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:on,metadata:new ir(Ie.createdAt,Ie.lastLoginAt),isAnonymous:Cr};Object.assign(w,fi)})).apply(this,arguments)}function Xt(){return(Xt=(0,d.A)(function*(w){const p=(0,$.Ku)(w);yield _r(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Yt(w){return w.map(p=>{var{providerId:_}=p,M=(0,W.Tt)(p,["providerId"]);return{providerId:_,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function $e(){return($e=(0,d.A)(function*(w,p){const _=yield lt(w,{},(0,d.A)(function*(){const M=(0,$.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:re,apiKey:Ie}=w.config,Pt=bt(w,re,"/v1/token",`key=${Ie}`),on=yield w._getAdditionalHeaders();return on["Content-Type"]="application/x-www-form-urlencoded",Se.fetch()(Pt,{method:"POST",headers:on,body:M})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function J(){return(J=(0,d.A)(function*(w,p){return tt(w,"POST","/v2/accounts:revokeToken",Ke(w,p))})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){fe(p.idToken,"internal-error"),fe(typeof p.idToken<"u","internal-error"),fe(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Ar(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}updateFromIdToken(p){fe(0!==p.length,"internal-error");const _=Ar(p);this.updateTokensAndExpiration(p,null,_)}getToken(p,_=!1){var M=this;return(0,d.A)(function*(){return _||!M.accessToken||M.isExpired?(fe(M.refreshToken,p,"user-token-expired"),M.refreshToken?(yield M.refresh(p,M.refreshToken),M.accessToken):null):M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var M=this;return(0,d.A)(function*(){const{accessToken:re,refreshToken:Ie,expiresIn:Pt}=yield function At(w,p){return $e.apply(this,arguments)}(p,_);M.updateTokensAndExpiration(re,Ie,Number(Pt))})()}updateTokensAndExpiration(p,_,M){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(p,_){const{refreshToken:M,accessToken:re,expirationTime:Ie}=_,Pt=new Q;return M&&(fe("string"==typeof M,"internal-error",{appName:p}),Pt.refreshToken=M),re&&(fe("string"==typeof re,"internal-error",{appName:p}),Pt.accessToken=re),Ie&&(fe("number"==typeof Ie,"internal-error",{appName:p}),Pt.expirationTime=Ie),Pt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return gt("not implemented")}}function ne(w,p){fe("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class ke{constructor(p){var{uid:_,auth:M,stsTokenManager:re}=p,Ie=(0,W.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ai(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=M,this.stsTokenManager=re,this.accessToken=re.accessToken,this.displayName=Ie.displayName||null,this.email=Ie.email||null,this.emailVerified=Ie.emailVerified||!1,this.phoneNumber=Ie.phoneNumber||null,this.photoURL=Ie.photoURL||null,this.isAnonymous=Ie.isAnonymous||!1,this.tenantId=Ie.tenantId||null,this.providerData=Ie.providerData?[...Ie.providerData]:[],this.metadata=new ir(Ie.createdAt||void 0,Ie.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,d.A)(function*(){const M=yield $n(_,_.stsTokenManager.getToken(_.auth,p));return fe(M,_.auth,"internal-error"),_.accessToken!==M&&(_.accessToken=M,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),M})()}getIdTokenResult(p){return function nr(w){return fr.apply(this,arguments)}(this,p)}reload(){return function En(w){return Xt.apply(this,arguments)}(this)}_assign(p){this!==p&&(fe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new ke(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var M=this;return(0,d.A)(function*(){let re=!1;p.idToken&&p.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(p),re=!0),_&&(yield _r(M)),yield M.auth._persistUserIfCurrent(M),re&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var p=this;return(0,d.A)(function*(){if((0,o._isFirebaseServerApp)(p.auth.app))return Promise.reject(st(p.auth));const _=yield p.getIdToken();return yield $n(p,function Ft(w,p){return tr.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var M,re,Ie,Pt,on,Rn,dr,Cr;const fi=null!==(M=_.displayName)&&void 0!==M?M:void 0,Da=null!==(re=_.email)&&void 0!==re?re:void 0,tl=null!==(Ie=_.phoneNumber)&&void 0!==Ie?Ie:void 0,Vc=null!==(Pt=_.photoURL)&&void 0!==Pt?Pt:void 0,Jd=null!==(on=_.tenantId)&&void 0!==on?on:void 0,ha=null!==(Rn=_._redirectEventId)&&void 0!==Rn?Rn:void 0,mu=null!==(dr=_.createdAt)&&void 0!==dr?dr:void 0,Nl=null!==(Cr=_.lastLoginAt)&&void 0!==Cr?Cr:void 0,{uid:Jl,emailVerified:_u,isAnonymous:vc,providerData:yc,stsTokenManager:Zd}=_;fe(Jl&&Zd,p,"internal-error");const qh=Q.fromJSON(this.name,Zd);fe("string"==typeof Jl,p,"internal-error"),ne(fi,p.name),ne(Da,p.name),fe("boolean"==typeof _u,p,"internal-error"),fe("boolean"==typeof vc,p,"internal-error"),ne(tl,p.name),ne(Vc,p.name),ne(Jd,p.name),ne(ha,p.name),ne(mu,p.name),ne(Nl,p.name);const vu=new ke({uid:Jl,auth:p,email:Da,emailVerified:_u,displayName:fi,isAnonymous:vc,photoURL:Vc,phoneNumber:tl,tenantId:Jd,stsTokenManager:qh,createdAt:mu,lastLoginAt:Nl});return yc&&Array.isArray(yc)&&(vu.providerData=yc.map(yu=>Object.assign({},yu))),ha&&(vu._redirectEventId=ha),vu}static _fromIdTokenResponse(p,_,M=!1){return(0,d.A)(function*(){const re=new Q;re.updateFromServerResponse(_);const Ie=new ke({uid:_.localId,auth:p,stsTokenManager:re,isAnonymous:M});return yield _r(Ie),Ie})()}static _fromGetAccountInfoResponse(p,_,M){return(0,d.A)(function*(){const re=_.users[0];fe(void 0!==re.localId,"internal-error");const Ie=void 0!==re.providerUserInfo?Yt(re.providerUserInfo):[],Pt=!(re.email&&re.passwordHash||null!=Ie&&Ie.length),on=new Q;on.updateFromIdToken(M);const Rn=new ke({uid:re.localId,auth:p,stsTokenManager:on,isAnonymous:Pt}),dr={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:Ie,metadata:new ir(re.createdAt,re.lastLoginAt),isAnonymous:!(re.email&&re.passwordHash||null!=Ie&&Ie.length)};return Object.assign(Rn,dr),Rn})()}}const je=new Map;function tn(w){mt(w instanceof Function,"Expected a class definition");let p=je.get(w);return p?(mt(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,je.set(w,p),p)}const Ve=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(_,M){var re=this;return(0,d.A)(function*(){re.storage[_]=M})()}_get(_){var M=this;return(0,d.A)(function*(){const re=M.storage[_];return void 0===re?null:re})()}_remove(_){var M=this;return(0,d.A)(function*(){delete M.storage[_]})()}_addListener(_,M){}_removeListener(_,M){}}return w.type="NONE",w})();function ve(w,p,_){return`firebase:${w}:${p}:${_}`}class oe{constructor(p,_,M){this.persistence=p,this.auth=_,this.userKey=M;const{config:re,name:Ie}=this.auth;this.fullUserKey=ve(this.userKey,re.apiKey,Ie),this.fullPersistenceKey=ve("persistence",re.apiKey,Ie),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.A)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?ke._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,d.A)(function*(){if(_.persistence===p)return;const M=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,M?_.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,M="authUser"){return(0,d.A)(function*(){if(!_.length)return new oe(tn(Ve),p,M);const re=(yield Promise.all(_.map(function(){var dr=(0,d.A)(function*(Cr){if(yield Cr._isAvailable())return Cr});return function(Cr){return dr.apply(this,arguments)}}()))).filter(dr=>dr);let Ie=re[0]||tn(Ve);const Pt=ve(M,p.config.apiKey,p.name);let on=null;for(const dr of _)try{const Cr=yield dr._get(Pt);if(Cr){const fi=ke._fromJSON(p,Cr);dr!==Ie&&(on=fi),Ie=dr;break}}catch{}const Rn=re.filter(dr=>dr._shouldAllowMigration);return Ie._shouldAllowMigration&&Rn.length?(Ie=Rn[0],on&&(yield Ie._set(Pt,on.toJSON())),yield Promise.all(_.map(function(){var dr=(0,d.A)(function*(Cr){if(Cr!==Ie)try{yield Cr._remove(Pt)}catch{}});return function(Cr){return dr.apply(this,arguments)}}())),new oe(Ie,p,M)):new oe(Ie,p,M)})()}}function Nt(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Bn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Je(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Li(p))return"Blackberry";if(gi(p))return"Webos";if(bn(p))return"Safari";if((p.includes("chrome/")||Xn(p))&&!p.includes("edge/"))return"Chrome";if(Gr(p))return"Android";{const M=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function Je(w=(0,$.ZQ)()){return/firefox\//i.test(w)}function bn(w=(0,$.ZQ)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Xn(w=(0,$.ZQ)()){return/crios\//i.test(w)}function Bn(w=(0,$.ZQ)()){return/iemobile/i.test(w)}function Gr(w=(0,$.ZQ)()){return/android/i.test(w)}function Li(w=(0,$.ZQ)()){return/blackberry/i.test(w)}function gi(w=(0,$.ZQ)()){return/webos/i.test(w)}function xr(w=(0,$.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Wi(w=(0,$.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function Ae(w=(0,$.ZQ)()){return xr(w)||Gr(w)||gi(w)||Li(w)||/windows phone/i.test(w)||Bn(w)}function wt(w,p=[]){let _;switch(w){case"Browser":_=Nt((0,$.ZQ)());break;case"Worker":_=`${Nt((0,$.ZQ)())}-${w}`;break;default:_=w}const M=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${o.SDK_VERSION}/${M}`}class he{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const M=Ie=>new Promise((Pt,on)=>{try{Pt(p(Ie))}catch(Rn){on(Rn)}});M.onAbort=_,this.queue.push(M);const re=this.queue.length-1;return()=>{this.queue[re]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,d.A)(function*(){if(_.auth.currentUser===p)return;const M=[];try{for(const re of _.queue)yield re(p),re.onAbort&&M.push(re.onAbort)}catch(re){M.reverse();for(const Ie of M)try{Ie()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==re?void 0:re.message})}})()}}function ze(){return(ze=(0,d.A)(function*(w,p={}){return tt(w,"GET","/v2/passwordPolicy",Ke(w,p))})).apply(this,arguments)}class gn{constructor(p){var _,M,re,Ie;const Pt=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=Pt.minPasswordLength)&&void 0!==_?_:6,Pt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Pt.maxPasswordLength),void 0!==Pt.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Pt.containsLowercaseCharacter),void 0!==Pt.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Pt.containsUppercaseCharacter),void 0!==Pt.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Pt.containsNumericCharacter),void 0!==Pt.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Pt.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(re=null===(M=p.allowedNonAlphanumericCharacters)||void 0===M?void 0:M.join(""))&&void 0!==re?re:"",this.forceUpgradeOnSignin=null!==(Ie=p.forceUpgradeOnSignin)&&void 0!==Ie&&Ie,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,M,re,Ie,Pt,on;const Rn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,Rn),this.validatePasswordCharacterOptions(p,Rn),Rn.isValid&&(Rn.isValid=null===(_=Rn.meetsMinPasswordLength)||void 0===_||_),Rn.isValid&&(Rn.isValid=null===(M=Rn.meetsMaxPasswordLength)||void 0===M||M),Rn.isValid&&(Rn.isValid=null===(re=Rn.containsLowercaseLetter)||void 0===re||re),Rn.isValid&&(Rn.isValid=null===(Ie=Rn.containsUppercaseLetter)||void 0===Ie||Ie),Rn.isValid&&(Rn.isValid=null===(Pt=Rn.containsNumericCharacter)||void 0===Pt||Pt),Rn.isValid&&(Rn.isValid=null===(on=Rn.containsNonAlphanumericCharacter)||void 0===on||on),Rn}validatePasswordLengthOptions(p,_){const M=this.customStrengthOptions.minPasswordLength,re=this.customStrengthOptions.maxPasswordLength;M&&(_.meetsMinPasswordLength=p.length>=M),re&&(_.meetsMaxPasswordLength=p.length<=re)}validatePasswordCharacterOptions(p,_){let M;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let re=0;re<p.length;re++)M=p.charAt(re),this.updatePasswordCharacterOptionsStatuses(_,M>="a"&&M<="z",M>="A"&&M<="Z",M>="0"&&M<="9",this.allowedNonAlphanumericCharacters.includes(M))}updatePasswordCharacterOptionsStatuses(p,_,M,re,Ie){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=M)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=re)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=Ie))}}class On{constructor(p,_,M,re){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=M,this.config=re,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sr(this),this.idTokenSubscription=new Sr(this),this.beforeStateQueue=new he(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Et,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=re.sdkClientVersion}_initializeWithPersistence(p,_){var M=this;return _&&(this._popupRedirectResolver=tn(_)),this._initializationPromise=this.queue((0,d.A)(function*(){var re,Ie;if(!M._deleted&&(M.persistenceManager=yield oe.create(M,p),!M._deleted)){if(null!==(re=M._popupRedirectResolver)&&void 0!==re&&re._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch{}yield M.initializeCurrentUser(_),M.lastNotifiedUid=(null===(Ie=M.currentUser)||void 0===Ie?void 0:Ie.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.A)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(p){var _=this;return(0,d.A)(function*(){try{const M=yield Mn(_,{idToken:p}),re=yield ke._fromGetAccountInfoResponse(_,M,p);yield _.directlySetCurrentUser(re)}catch(M){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",M),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var _=this;return(0,d.A)(function*(){var M;if((0,o._isFirebaseServerApp)(_.app)){const on=_.app.settings.authIdToken;return on?new Promise(Rn=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(on).then(Rn,Rn))}):_.directlySetCurrentUser(null)}const re=yield _.assertedPersistence.getCurrentUser();let Ie=re,Pt=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const on=null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId,Rn=null==Ie?void 0:Ie._redirectEventId,dr=yield _.tryRedirectSignIn(p);(!on||on===Rn)&&null!=dr&&dr.user&&(Ie=dr.user,Pt=!0)}if(!Ie)return _.directlySetCurrentUser(null);if(!Ie._redirectEventId){if(Pt)try{yield _.beforeStateQueue.runMiddleware(Ie)}catch(on){Ie=re,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(on))}return Ie?_.reloadAndSetCurrentUserOrClear(Ie):_.directlySetCurrentUser(null)}return fe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Ie._redirectEventId?_.directlySetCurrentUser(Ie):_.reloadAndSetCurrentUserOrClear(Ie)})()}tryRedirectSignIn(p){var _=this;return(0,d.A)(function*(){let M=null;try{M=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,d.A)(function*(){try{yield _r(p)}catch(M){if("auth/network-request-failed"!==(null==M?void 0:M.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,d.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,d.A)(function*(){if((0,o._isFirebaseServerApp)(_.app))return Promise.reject(st(_));const M=p?(0,$.Ku)(p):null;return M&&fe(M.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(M&&M._clone(_))})()}_updateCurrentUser(p,_=!1){var M=this;return(0,d.A)(function*(){if(!M._deleted)return p&&fe(M.tenantId===p.tenantId,M,"tenant-id-mismatch"),_||(yield M.beforeStateQueue.runMiddleware(p)),M.queue((0,d.A)(function*(){yield M.directlySetCurrentUser(p),M.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.A)(function*(){return(0,o._isFirebaseServerApp)(p.app)?Promise.reject(st(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var _=this;return(0,o._isFirebaseServerApp)(this.app)?Promise.reject(st(this)):this.queue((0,d.A)(function*(){yield _.assertedPersistence.setPersistence(tn(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,d.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const M=_._getPasswordPolicyInternal();return M.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):M.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,d.A)(function*(){const _=yield function ce(w){return ze.apply(this,arguments)}(p),M=new gn(_);null===p.tenantId?p._projectPasswordPolicy=M:p._tenantPasswordPolicies[p.tenantId]=M})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new $.FA("auth","Firebase",p())}onAuthStateChanged(p,_,M){return this.registerStateListener(this.authStateSubscription,p,_,M)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,M){return this.registerStateListener(this.idTokenSubscription,p,_,M)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const M=this.onAuthStateChanged(()=>{M(),p()},_)}})}revokeAccessToken(p){var _=this;return(0,d.A)(function*(){if(_.currentUser){const M=yield _.currentUser.getIdToken(),re={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:M};null!=_.tenantId&&(re.tenantId=_.tenantId),yield function ct(w,p){return J.apply(this,arguments)}(_,re)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var M=this;return(0,d.A)(function*(){const re=yield M.getOrInitRedirectPersistenceManager(_);return null===p?re.removeCurrentUser():re.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,d.A)(function*(){if(!_.redirectPersistenceManager){const M=p&&tn(p)||_._popupRedirectResolver;fe(M,_,"argument-error"),_.redirectPersistenceManager=yield oe.create(_,[tn(M._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,d.A)(function*(){var M,re;return _._isInitialized&&(yield _.queue((0,d.A)(function*(){}))),(null===(M=_._currentUser)||void 0===M?void 0:M._redirectEventId)===p?_._currentUser:(null===(re=_.redirectUser)||void 0===re?void 0:re._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,d.A)(function*(){if(p===_.currentUser)return _.queue((0,d.A)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,M,re){if(this._deleted)return()=>{};const Ie="function"==typeof _?_:_.next.bind(_);let Pt=!1;const on=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(on,this,"internal-error"),on.then(()=>{Pt||Ie(this.currentUser)}),"function"==typeof _){const Rn=p.addObserver(_,M,re);return()=>{Pt=!0,Rn()}}{const Rn=p.addObserver(_);return()=>{Pt=!0,Rn()}}}directlySetCurrentUser(p){var _=this;return(0,d.A)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=wt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.A)(function*(){var _;const M={"X-Client-Version":p.clientVersion};p.app.options.appId&&(M["X-Firebase-gmpid"]=p.app.options.appId);const re=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();re&&(M["X-Firebase-Client"]=re);const Ie=yield p._getAppCheckToken();return Ie&&(M["X-Firebase-AppCheck"]=Ie),M})()}_getAppCheckToken(){var p=this;return(0,d.A)(function*(){var _;const M=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return null!=M&&M.error&&function Ot(w,...p){ut.logLevel<=be.$b.WARN&&ut.warn(`Auth (${o.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${M.error}`),null==M?void 0:M.token})()}}function Yn(w){return(0,$.Ku)(w)}class Sr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,$.tD)(_=>this.observer=_)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sr={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mr(w){return sr.loadJS(w)}function ti(w){return`__${w}${Math.floor(1e6*Math.random())}`}class po{constructor(p){this.type="recaptcha-enterprise",this.auth=Yn(p)}verify(p="verify",_=!1){var M=this;return(0,d.A)(function*(){function Ie(){return Ie=(0,d.A)(function*(on){if(!_){if(null==on.tenantId&&null!=on._agentRecaptchaConfig)return on._agentRecaptchaConfig.siteKey;if(null!=on.tenantId&&void 0!==on._tenantRecaptchaConfigs[on.tenantId])return on._tenantRecaptchaConfigs[on.tenantId].siteKey}return new Promise(function(){var Rn=(0,d.A)(function*(dr,Cr){Le(on,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(fi=>{if(void 0!==fi.recaptchaKey){const Da=new Un(fi);return null==on.tenantId?on._agentRecaptchaConfig=Da:on._tenantRecaptchaConfigs[on.tenantId]=Da,dr(Da.siteKey)}Cr(new Error("recaptcha Enterprise site key undefined"))}).catch(fi=>{Cr(fi)})});return function(dr,Cr){return Rn.apply(this,arguments)}}())}),Ie.apply(this,arguments)}function Pt(on,Rn,dr){const Cr=window.grecaptcha;zt(Cr)?Cr.enterprise.ready(()=>{Cr.enterprise.execute(on,{action:p}).then(fi=>{Rn(fi)}).catch(()=>{Rn("NO_RECAPTCHA")})}):dr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((on,Rn)=>{(function re(on){return Ie.apply(this,arguments)})(M.auth).then(dr=>{if(!_&&zt(window.grecaptcha))Pt(dr,on,Rn);else{if(typeof window>"u")return void Rn(new Error("RecaptchaVerifier is only supported in browser"));let Cr=function ji(){return sr.recaptchaEnterpriseScript}();0!==Cr.length&&(Cr+=dr),mr(Cr).then(()=>{Pt(dr,on,Rn)}).catch(fi=>{Rn(fi)})}}).catch(dr=>{Rn(dr)})})})()}}function Ao(w,p,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,d.A)(function*(w,p,_,M=!1){const re=new po(w);let Ie;try{Ie=yield re.verify(_)}catch{Ie=yield re.verify(_,!0)}const Pt=Object.assign({},p);return Object.assign(Pt,M?{captchaResp:Ie}:{captchaResponse:Ie}),Object.assign(Pt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Pt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Pt})).apply(this,arguments)}function Ji(w,p,_,M){return jo.apply(this,arguments)}function jo(){return jo=(0,d.A)(function*(w,p,_,M){var re;if(null!==(re=w._getRecaptchaConfig())&&void 0!==re&&re.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ie=yield Ao(w,p,_,"getOobCode"===_);return M(w,Ie)}return M(w,p).catch(function(){var Ie=(0,d.A)(function*(Pt){if("auth/missing-recaptcha-token"===Pt.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const on=yield Ao(w,p,_,"getOobCode"===_);return M(w,on)}return Promise.reject(Pt)});return function(Pt){return Ie.apply(this,arguments)}}())}),jo.apply(this,arguments)}function fs(w,p,_){const M=Yn(w);fe(M._canInitEmulator,M,"emulator-config-failed"),fe(/^https?:\/\//.test(p),M,"invalid-emulator-scheme");const re=!(null==_||!_.disableWarnings),Ie=jn(p),{host:Pt,port:on}=function jr(w){const p=jn(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!_)return{host:"",port:null};const M=_[2].split("@").pop()||"",re=/^(\[[^\]]+\])(:|$)/.exec(M);if(re){const Ie=re[1];return{host:Ie,port:Ks(M.substr(Ie.length+1))}}{const[Ie,Pt]=M.split(":");return{host:Ie,port:Ks(Pt)}}}(p);M.config.emulator={url:`${Ie}//${Pt}${null===on?"":`:${on}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Pt,port:on,protocol:Ie.replace(":",""),options:Object.freeze({disableWarnings:re})}),re||function Is(){function w(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function jn(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function Ks(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class mo{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return gt("not implemented")}_getIdTokenResponse(p){return gt("not implemented")}_linkToIdToken(p,_){return gt("not implemented")}_getReauthenticationResolver(p){return gt("not implemented")}}function Mi(w,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:resetPassword",Ke(w,p))})).apply(this,arguments)}function Nr(){return(Nr=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xs(w,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Pi(){return(Pi=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:update",Ke(w,p))})).apply(this,arguments)}function br(w,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signInWithPassword",Ke(w,p))})).apply(this,arguments)}function co(w,p){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:sendOobCode",Ke(w,p))})).apply(this,arguments)}function Oo(){return(Oo=(0,d.A)(function*(w,p){return co(w,p)})).apply(this,arguments)}function Di(w,p){return F.apply(this,arguments)}function F(){return(F=(0,d.A)(function*(w,p){return co(w,p)})).apply(this,arguments)}function E(w,p){return O.apply(this,arguments)}function O(){return(O=(0,d.A)(function*(w,p){return co(w,p)})).apply(this,arguments)}function G(){return(G=(0,d.A)(function*(w,p){return co(w,p)})).apply(this,arguments)}function ot(){return(ot=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signInWithEmailLink",Ke(w,p))})).apply(this,arguments)}function Tt(){return(Tt=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signInWithEmailLink",Ke(w,p))})).apply(this,arguments)}class qt extends mo{constructor(p,_,M,re=null){super("password",M),this._email=p,this._password=_,this._tenantId=re}static _fromEmailAndPassword(p,_){return new qt(p,_,"password")}static _fromEmailAndCode(p,_,M=null){return new qt(p,_,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,d.A)(function*(){switch(_.signInMethod){case"password":return Ji(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",br);case"emailLink":return function ae(w,p){return ot.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:we(p,"internal-error")}})()}_linkToIdToken(p,_){var M=this;return(0,d.A)(function*(){switch(M.signInMethod){case"password":return Ji(p,{idToken:_,returnSecureToken:!0,email:M._email,password:M._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xs);case"emailLink":return function an(w,p){return Tt.apply(this,arguments)}(p,{idToken:_,email:M._email,oobCode:M._password});default:we(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function dn(w,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signInWithIdp",Ke(w,p))})).apply(this,arguments)}class er extends mo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new er(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):we("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:re}=_,Ie=(0,W.Tt)(_,["providerId","signInMethod"]);if(!M||!re)return null;const Pt=new er(M,re);return Pt.idToken=Ie.idToken||void 0,Pt.accessToken=Ie.accessToken||void 0,Pt.secret=Ie.secret,Pt.nonce=Ie.nonce,Pt.pendingToken=Ie.pendingToken||null,Pt}_getIdTokenResponse(p){return dn(p,this.buildRequest())}_linkToIdToken(p,_){const M=this.buildRequest();return M.idToken=_,dn(p,M)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,dn(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,$.Am)(_)}return p}}function zr(){return(zr=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:sendVerificationCode",Ke(w,p))})).apply(this,arguments)}function si(){return(si=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ke(w,p))})).apply(this,arguments)}function di(){return(di=(0,d.A)(function*(w,p){const _=yield Bt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ke(w,p));if(_.temporaryProof)throw qn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const uo={USER_NOT_FOUND:"user-not-found"};function Gi(){return(Gi=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signInWithPhoneNumber",Ke(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),uo)})).apply(this,arguments)}class _o extends mo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new _o({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new _o({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Ei(w,p){return si.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function ui(w,p){return di.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function To(w,p){return Gi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:M,verificationCode:re}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:M,code:re}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:M,phoneNumber:re,temporaryProof:Ie}=p;return M||_||re||Ie?new _o({verificationId:_,verificationCode:M,phoneNumber:re,temporaryProof:Ie}):null}}class ho{constructor(p){var _,M,re,Ie,Pt,on;const Rn=(0,$.I9)((0,$.hp)(p)),dr=null!==(_=Rn.apiKey)&&void 0!==_?_:null,Cr=null!==(M=Rn.oobCode)&&void 0!==M?M:null,fi=function is(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(re=Rn.mode)&&void 0!==re?re:null);fe(dr&&Cr&&fi,"argument-error"),this.apiKey=dr,this.operation=fi,this.code=Cr,this.continueUrl=null!==(Ie=Rn.continueUrl)&&void 0!==Ie?Ie:null,this.languageCode=null!==(Pt=Rn.languageCode)&&void 0!==Pt?Pt:null,this.tenantId=null!==(on=Rn.tenantId)&&void 0!==on?on:null}static parseLink(p){const _=function bs(w){const p=(0,$.I9)((0,$.hp)(w)).link,_=p?(0,$.I9)((0,$.hp)(p)).deep_link_id:null,M=(0,$.I9)((0,$.hp)(w)).deep_link_id;return(M?(0,$.I9)((0,$.hp)(M)).link:null)||M||_||p||w}(p);try{return new ho(_)}catch{return null}}}let ko=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,M){return qt._fromEmailAndPassword(_,M)}static credentialWithLink(_,M){const re=ho.parseLink(M);return fe(re,"argument-error"),qt._fromEmailAndCode(_,re.code,re.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class vo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class os extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ri extends os{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return fe("providerId"in _&&"signInMethod"in _,"argument-error"),er._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return fe(p.idToken||p.accessToken,"argument-error"),er._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ri.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ri.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:M,oauthTokenSecret:re,pendingToken:Ie,nonce:Pt,providerId:on}=p;if(!M&&!re&&!_&&!Ie||!on)return null;try{return new ri(on)._credential({idToken:_,accessToken:M,nonce:Pt,pendingToken:Ie})}catch{return null}}}let ta=(()=>{class w extends os{constructor(){super("facebook.com")}static credential(_){return er._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Os=(()=>{class w extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(_,M){return er._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:M})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:M,oauthAccessToken:re}=_;if(!M&&!re)return null;try{return w.credential(M,re)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Ro=(()=>{class w extends os{constructor(){super("github.com")}static credential(_){return er._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Or extends mo{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return dn(p,this.buildRequest())}_linkToIdToken(p,_){const M=this.buildRequest();return M.idToken=_,dn(p,M)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,dn(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:M,signInMethod:re,pendingToken:Ie}=_;return M&&re&&Ie&&M===re?new Or(M,Ie):null}static _create(p,_){return new Or(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class pe extends vo{constructor(p){fe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return pe.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return pe.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Or.fromJSON(p);return fe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:M}=p;if(!_||!M)return null;try{return Or._create(M,_)}catch{return null}}}let qe=(()=>{class w extends os{constructor(){super("twitter.com")}static credential(_,M){return er._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:M})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:M,oauthTokenSecret:re}=_;if(!M||!re)return null;try{return w.credential(M,re)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ht(w,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signUp",Ke(w,p))})).apply(this,arguments)}class Kn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,M,re=!1){return(0,d.A)(function*(){const Ie=yield ke._fromIdTokenResponse(p,M,re),Pt=An(M);return new Kn({user:Ie,providerId:Pt,_tokenResponse:M,operationType:_})})()}static _forOperation(p,_,M){return(0,d.A)(function*(){yield p._updateTokensIfNecessary(M,!0);const re=An(M);return new Kn({user:p,providerId:re,_tokenResponse:M,operationType:_})})()}}function An(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Jn(w){return $i.apply(this,arguments)}function $i(){return($i=(0,d.A)(function*(w){var p;if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const _=Yn(w);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Kn({user:_.currentUser,providerId:null,operationType:"signIn"});const M=yield Ht(_,{returnSecureToken:!0}),re=yield Kn._fromIdTokenResponse(_,"signIn",M,!0);return yield _._updateCurrentUser(re.user),re})).apply(this,arguments)}class Zi extends $.g{constructor(p,_,M,re){var Ie;super(_.code,_.message),this.operationType=M,this.user=re,Object.setPrototypeOf(this,Zi.prototype),this.customData={appName:p.name,tenantId:null!==(Ie=p.tenantId)&&void 0!==Ie?Ie:void 0,_serverResponse:_.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(p,_,M,re){return new Zi(p,_,M,re)}}function to(w,p,_,M){return("reauthenticate"===p?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(Ie=>{throw"auth/multi-factor-auth-required"===Ie.code?Zi._fromErrorAndOperation(w,Ie,p,M):Ie})}function ss(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function ai(w,p){return Na.apply(this,arguments)}function Na(){return Na=(0,d.A)(function*(w,p){const _=(0,$.Ku)(w);yield As(!0,_,p);const{providerUserInfo:M}=yield function or(w,p){return Hn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),re=ss(M||[]);return _.providerData=_.providerData.filter(Ie=>re.has(Ie.providerId)),re.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Na.apply(this,arguments)}function Oa(w,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.A)(function*(w,p,_=!1){const M=yield $n(w,p._linkToIdToken(w.auth,yield w.getIdToken()),_);return Kn._forOperation(w,"link",M)})).apply(this,arguments)}function As(w,p,_){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,d.A)(function*(w,p,_){yield _r(p);const re=!1===w?"provider-already-linked":"no-such-provider";fe(ss(p.providerData).has(_)===w,p.auth,re)})).apply(this,arguments)}function sc(w,p){return as.apply(this,arguments)}function as(){return(as=(0,d.A)(function*(w,p,_=!1){const{auth:M}=w;if((0,o._isFirebaseServerApp)(M.app))return Promise.reject(st(M));const re="reauthenticate";try{const Ie=yield $n(w,to(M,re,p,w),_);fe(Ie.idToken,M,"internal-error");const Pt=wn(Ie.idToken);fe(Pt,M,"internal-error");const{sub:on}=Pt;return fe(w.uid===on,M,"user-mismatch"),Kn._forOperation(w,re,Ie)}catch(Ie){throw"auth/user-not-found"===(null==Ie?void 0:Ie.code)&&we(M,"user-mismatch"),Ie}})).apply(this,arguments)}function Jo(w,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.A)(function*(w,p,_=!1){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const M="signIn",re=yield to(w,M,p),Ie=yield Kn._fromIdTokenResponse(w,M,re);return _||(yield w._updateCurrentUser(Ie.user)),Ie})).apply(this,arguments)}function Z(w,p){return L.apply(this,arguments)}function L(){return(L=(0,d.A)(function*(w,p){return Jo(Yn(w),p)})).apply(this,arguments)}function le(w,p){return K.apply(this,arguments)}function K(){return(K=(0,d.A)(function*(w,p){const _=(0,$.Ku)(w);return yield As(!1,_,p.providerId),Oa(_,p)})).apply(this,arguments)}function ye(w,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,d.A)(function*(w,p){return sc((0,$.Ku)(w),p)})).apply(this,arguments)}function xi(){return(xi=(0,d.A)(function*(w,p){return Bt(w,"POST","/v1/accounts:signInWithCustomToken",Ke(w,p))})).apply(this,arguments)}function Vi(w,p){return io.apply(this,arguments)}function io(){return io=(0,d.A)(function*(w,p){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const _=Yn(w),M=yield function cr(w,p){return xi.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),re=yield Kn._fromIdTokenResponse(_,"signIn",M);return yield _._updateCurrentUser(re.user),re}),io.apply(this,arguments)}class wo{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?na._fromServerResponse(p,_):"totpInfo"in _?gs._fromServerResponse(p,_):we(p,"internal-error")}}class na extends wo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new na(_)}}class gs extends wo{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new gs(_)}}function ka(w,p,_){var M;fe((null===(M=_.url)||void 0===M?void 0:M.length)>0,w,"invalid-continue-uri"),fe(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(fe(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(fe(_.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function yo(w){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,d.A)(function*(w){const p=Yn(w);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function Ti(w,p,_){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.A)(function*(w,p,_){const M=Yn(w),re={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&ka(M,re,_),yield Ji(M,re,"getOobCode",Di)})).apply(this,arguments)}function ks(w,p,_){return Io.apply(this,arguments)}function Io(){return Io=(0,d.A)(function*(w,p,_){yield Mi((0,$.Ku)(w),{oobCode:p,newPassword:_}).catch(function(){var M=(0,d.A)(function*(re){throw"auth/password-does-not-meet-requirements"===re.code&&yo(w),re});return function(re){return M.apply(this,arguments)}}())}),Io.apply(this,arguments)}function za(w,p){return ra.apply(this,arguments)}function ra(){return ra=(0,d.A)(function*(w,p){yield function Ii(w,p){return Pi.apply(this,arguments)}((0,$.Ku)(w),{oobCode:p})}),ra.apply(this,arguments)}function ms(w,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.A)(function*(w,p){const _=(0,$.Ku)(w),M=yield Mi(_,{oobCode:p}),re=M.requestType;switch(fe(re,_,"internal-error"),re){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(M.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(M.mfaInfo,_,"internal-error");default:fe(M.email,_,"internal-error")}let Ie=null;return M.mfaInfo&&(Ie=wo._fromServerResponse(Yn(_),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:Ie},operation:re}})).apply(this,arguments)}function sl(w,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,d.A)(function*(w,p){const{data:_}=yield ms((0,$.Ku)(w),p);return _.email})).apply(this,arguments)}function wc(w,p,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const M=Yn(w),Pt=yield Ji(M,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ht).catch(Rn=>{throw"auth/password-does-not-meet-requirements"===Rn.code&&yo(w),Rn}),on=yield Kn._fromIdTokenResponse(M,"signIn",Pt);return yield M._updateCurrentUser(on.user),on})).apply(this,arguments)}function Fo(w,p,_){return(0,o._isFirebaseServerApp)(w.app)?Promise.reject(st(w)):Z((0,$.Ku)(w),ko.credential(p,_)).catch(function(){var M=(0,d.A)(function*(re){throw"auth/password-does-not-meet-requirements"===re.code&&yo(w),re});return function(re){return M.apply(this,arguments)}}())}function Wa(w,p,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,d.A)(function*(w,p,_){const M=Yn(w),re={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function Ie(Pt,on){fe(on.handleCodeInApp,M,"argument-error"),on&&ka(M,Pt,on)})(re,_),yield Ji(M,re,"getOobCode",E)})).apply(this,arguments)}function al(w,p){const _=ho.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function ia(w,p,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const M=(0,$.Ku)(w),re=ko.credentialWithLink(p,_||Ze());return fe(re._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Z(M,re)})).apply(this,arguments)}function ll(){return(ll=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:createAuthUri",Ke(w,p))})).apply(this,arguments)}function Vs(w,p){return Tl.apply(this,arguments)}function Tl(){return Tl=(0,d.A)(function*(w,p){const M={identifier:p,continueUri:Lt()?Ze():"http://localhost"},{signinMethods:re}=yield function Ts(w,p){return ll.apply(this,arguments)}((0,$.Ku)(w),M);return re||[]}),Tl.apply(this,arguments)}function Bl(w,p){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,d.A)(function*(w,p){const _=(0,$.Ku)(w),re={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&ka(_.auth,re,p);const{email:Ie}=yield function rs(w,p){return Oo.apply(this,arguments)}(_.auth,re);Ie!==w.email&&(yield w.reload())}),Ur.apply(this,arguments)}function eu(w,p,_){return oa.apply(this,arguments)}function oa(){return oa=(0,d.A)(function*(w,p,_){const M=(0,$.Ku)(w),Ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};_&&ka(M.auth,Ie,_);const{email:Pt}=yield function A(w,p){return G.apply(this,arguments)}(M.auth,Ie);Pt!==w.email&&(yield w.reload())}),oa.apply(this,arguments)}function Ho(){return(Ho=(0,d.A)(function*(w,p){return tt(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vs(w,p){return Ia.apply(this,arguments)}function Ia(){return Ia=(0,d.A)(function*(w,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const M=(0,$.Ku)(w),Ie={idToken:yield M.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},Pt=yield $n(M,function La(w,p){return Ho.apply(this,arguments)}(M.auth,Ie));M.displayName=Pt.displayName||null,M.photoURL=Pt.photoUrl||null;const on=M.providerData.find(({providerId:Rn})=>"password"===Rn);on&&(on.displayName=M.displayName,on.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Pt)}),Ia.apply(this,arguments)}function ac(w,p){const _=(0,$.Ku)(w);return(0,o._isFirebaseServerApp)(_.auth.app)?Promise.reject(st(_.auth)):cl(_,p,null)}function Ka(w,p){return cl((0,$.Ku)(w),null,p)}function cl(w,p,_){return ws.apply(this,arguments)}function ws(){return ws=(0,d.A)(function*(w,p,_){const{auth:M}=w,Ie={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(Ie.email=p),_&&(Ie.password=_);const Pt=yield $n(w,function No(w,p){return Nr.apply(this,arguments)}(M,Ie));yield w._updateTokensIfNecessary(Pt,!0)}),ws.apply(this,arguments)}class sa{constructor(p,_,M={}){this.isNewUser=p,this.providerId=_,this.profile=M}}class Us extends sa{constructor(p,_,M,re){super(p,_,M),this.username=re}}class Ds extends sa{constructor(p,_){super(p,"facebook.com",_)}}class Va extends Us{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class $l extends sa{constructor(p,_){super(p,"google.com",_)}}class R extends Us{constructor(p,_,M){super(p,"twitter.com",_,M)}}function q(w){const{user:p,_tokenResponse:_}=w;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function oo(w){var p,_;if(!w)return null;const{providerId:M}=w,re=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},Ie=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!M&&null!=w&&w.idToken){const Pt=null===(_=null===(p=wn(w.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(Pt)return new sa(Ie,"anonymous"!==Pt&&"custom"!==Pt?Pt:null)}if(!M)return null;switch(M){case"facebook.com":return new Ds(Ie,re);case"github.com":return new Va(Ie,re);case"google.com":return new $l(Ie,re);case"twitter.com":return new R(Ie,re,w.screenName||null);case"custom":case"anonymous":return new sa(Ie,null);default:return new sa(Ie,M,re)}}(_)}class Ui{constructor(p,_,M){this.type=p,this.credential=_,this.user=M}static _fromIdtoken(p,_){return new Ui("enroll",p,_)}static _fromMfaPendingCredential(p){return new Ui("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,M;if(null!=p&&p.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Ui._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(M=p.multiFactorSession)&&void 0!==M&&M.idToken)return Ui._fromIdtoken(p.multiFactorSession.idToken)}return null}}class hi{constructor(p,_,M){this.session=p,this.hints=_,this.signInResolver=M}static _fromError(p,_){const M=Yn(p),re=_.customData._serverResponse,Ie=(re.mfaInfo||[]).map(on=>wo._fromServerResponse(M,on));fe(re.mfaPendingCredential,M,"internal-error");const Pt=Ui._fromMfaPendingCredential(re.mfaPendingCredential);return new hi(Pt,Ie,function(){var on=(0,d.A)(function*(Rn){const dr=yield Rn._process(M,Pt);delete re.mfaInfo,delete re.mfaPendingCredential;const Cr=Object.assign(Object.assign({},re),{idToken:dr.idToken,refreshToken:dr.refreshToken});switch(_.operationType){case"signIn":const fi=yield Kn._fromIdTokenResponse(M,_.operationType,Cr);return yield M._updateCurrentUser(fi.user),fi;case"reauthenticate":return fe(_.user,M,"internal-error"),Kn._forOperation(_.user,_.operationType,Cr);default:we(M,"internal-error")}});return function(Rn){return on.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,d.A)(function*(){return _.signInResolver(p)})()}}function Nn(w,p){var _;const M=(0,$.Ku)(w),re=p;return fe(p.customData.operationType,M,"argument-error"),fe(null===(_=re.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,M,"argument-error"),hi._fromError(M,re)}class qs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(M=>wo._fromServerResponse(p.auth,M)))})}static _fromUser(p){return new qs(p)}getSession(){var p=this;return(0,d.A)(function*(){return Ui._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,_){var M=this;return(0,d.A)(function*(){const re=p,Ie=yield M.getSession(),Pt=yield $n(M.user,re._process(M.user.auth,Ie,_));return yield M.user._updateTokensIfNecessary(Pt),M.user.reload()})()}unenroll(p){var _=this;return(0,d.A)(function*(){const M="string"==typeof p?p:p.uid,re=yield _.user.getIdToken();try{const Ie=yield $n(_.user,function Lo(w,p){return tt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Ke(w,p))}(_.user.auth,{idToken:re,mfaEnrollmentId:M}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Pt})=>Pt!==M),yield _.user._updateTokensIfNecessary(Ie),yield _.user.reload()}catch(Ie){throw Ie}})()}}const Br=new WeakMap;function Tr(w){const p=(0,$.Ku)(w);return Br.has(p)||Br.set(p,qs._fromUser(p)),Br.get(p)}const cs="__sak";class kr{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(cs,"1"),this.storage.removeItem(cs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const no=(()=>{class w extends kr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,M)=>this.onStorageEvent(_,M),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ae(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const M of Object.keys(this.listeners)){const re=this.storage.getItem(M),Ie=this.localCache[M];re!==Ie&&_(M,Ie,re)}}onStorageEvent(_,M=!1){if(!_.key)return void this.forAllChangedKeys((on,Rn,dr)=>{this.notifyListeners(on,dr)});const re=_.key;M?this.detachListener():this.stopPolling();const Ie=()=>{const on=this.storage.getItem(re);!M&&this.localCache[re]===on||this.notifyListeners(re,on)},Pt=this.storage.getItem(re);!function Ye(){return(0,$.lT)()&&10===document.documentMode}()||Pt===_.newValue||_.newValue===_.oldValue?Ie():setTimeout(Ie,10)}notifyListeners(_,M){this.localCache[_]=M;const re=this.listeners[_];if(re)for(const Ie of Array.from(re))Ie(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,M,re)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:M,newValue:re}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,M){var re=()=>super._set,Ie=this;return(0,d.A)(function*(){yield re().call(Ie,_,M),Ie.localCache[_]=JSON.stringify(M)})()}_get(_){var M=()=>super._get,re=this;return(0,d.A)(function*(){const Ie=yield M().call(re,_);return re.localCache[_]=JSON.stringify(Ie),Ie})()}_remove(_){var M=()=>super._remove,re=this;return(0,d.A)(function*(){yield M().call(re,_),delete re.localCache[_]})()}}return w.type="LOCAL",w})(),Xa=(()=>{class w extends kr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,M){}_removeListener(_,M){}}return w.type="SESSION",w})();let la=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const M=this.receivers.find(Ie=>Ie.isListeningto(_));if(M)return M;const re=new w(_);return this.receivers.push(re),re}isListeningto(_){return this.eventTarget===_}handleEvent(_){var M=this;return(0,d.A)(function*(){const re=_,{eventId:Ie,eventType:Pt,data:on}=re.data,Rn=M.handlersMap[Pt];if(null==Rn||!Rn.size)return;re.ports[0].postMessage({status:"ack",eventId:Ie,eventType:Pt});const dr=Array.from(Rn).map(function(){var fi=(0,d.A)(function*(Da){return Da(re.origin,on)});return function(Da){return fi.apply(this,arguments)}}()),Cr=yield function Ss(w){return Promise.all(w.map(function(){var p=(0,d.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(M){return{fulfilled:!1,reason:M}}});return function(_){return p.apply(this,arguments)}}()))}(dr);re.ports[0].postMessage({status:"done",eventId:Ie,eventType:Pt,response:Cr})})()}_subscribe(_,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(M)}_unsubscribe(_,M){this.handlersMap[_]&&M&&this.handlersMap[_].delete(M),(!M||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Qs(w="",p=10){let _="";for(let M=0;M<p;M++)_+=Math.floor(10*Math.random());return w+_}class ca{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,M=50){var re=this;return(0,d.A)(function*(){const Ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ie)throw new Error("connection_unavailable");let Pt,on;return new Promise((Rn,dr)=>{const Cr=Qs("",20);Ie.port1.start();const fi=setTimeout(()=>{dr(new Error("unsupported_event"))},M);on={messageChannel:Ie,onMessage(Da){const tl=Da;if(tl.data.eventId===Cr)switch(tl.data.status){case"ack":clearTimeout(fi),Pt=setTimeout(()=>{dr(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pt),Rn(tl.data.response);break;default:clearTimeout(fi),clearTimeout(Pt),dr(new Error("invalid_response"))}}},re.handlers.add(on),Ie.port1.addEventListener("message",on.onMessage),re.target.postMessage({eventType:p,eventId:Cr,data:_},[Ie.port2])}).finally(()=>{on&&re.removeMessageHandler(on)})})()}}function so(){return window}function pr(){return typeof so().WorkerGlobalScope<"u"&&"function"==typeof so().importScripts}function qa(){return(qa=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qa="firebaseLocalStorageDb",Hl="firebaseLocalStorage",Eo="fbase_key";class ao{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ba(w,p){return w.transaction([Hl],p?"readwrite":"readonly").objectStore(Hl)}function eo(){const w=indexedDB.open(Qa,1);return new Promise((p,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const M=w.result;try{M.createObjectStore(Hl,{keyPath:Eo})}catch(re){_(re)}}),w.addEventListener("success",(0,d.A)(function*(){const M=w.result;M.objectStoreNames.contains(Hl)?p(M):(M.close(),yield function Ya(){const w=indexedDB.deleteDatabase(Qa);return new ao(w).toPromise()}(),p(yield eo()))}))})}function Do(w,p,_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,d.A)(function*(w,p,_){const M=ba(w,!0).put({[Eo]:p,value:_});return new ao(M).toPromise()})).apply(this,arguments)}function Ja(){return(Ja=(0,d.A)(function*(w,p){const _=ba(w,!1).get(p),M=yield new ao(_).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function $s(w,p){const _=ba(w,!0).delete(p);return new ao(_).toPromise()}const rd=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.A)(function*(){return _.db||(_.db=yield eo()),_.db})()}_withRetries(_){var M=this;return(0,d.A)(function*(){let re=0;for(;;)try{const Ie=yield M._openDb();return yield _(Ie)}catch(Ie){if(re++>3)throw Ie;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.A)(function*(){return pr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.A)(function*(){_.receiver=la._getInstance(function tu(){return pr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var M=(0,d.A)(function*(re,Ie){return{keyProcessed:(yield _._poll()).includes(Ie.key)}});return function(re,Ie){return M.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var M=(0,d.A)(function*(re,Ie){return["keyChanged"]});return function(re,Ie){return M.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.A)(function*(){var M,re;if(_.activeServiceWorker=yield function Dc(){return qa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ca(_.activeServiceWorker);const Ie=yield _.sender._send("ping",{},800);Ie&&null!==(M=Ie[0])&&void 0!==M&&M.fulfilled&&null!==(re=Ie[0])&&void 0!==re&&re.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var M=this;return(0,d.A)(function*(){if(M.sender&&M.activeServiceWorker&&function Ea(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:_},M.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const _=yield eo();return yield Do(_,cs,"1"),yield $s(_,cs),!0}catch{}return!1})()}_withPendingWrite(_){var M=this;return(0,d.A)(function*(){M.pendingWrites++;try{yield _()}finally{M.pendingWrites--}})()}_set(_,M){var re=this;return(0,d.A)(function*(){return re._withPendingWrite((0,d.A)(function*(){return yield re._withRetries(Ie=>Do(Ie,_,M)),re.localCache[_]=M,re.notifyServiceWorker(_)}))})()}_get(_){var M=this;return(0,d.A)(function*(){const re=yield M._withRetries(Ie=>function lc(w,p){return Ja.apply(this,arguments)}(Ie,_));return M.localCache[_]=re,re})()}_remove(_){var M=this;return(0,d.A)(function*(){return M._withPendingWrite((0,d.A)(function*(){return yield M._withRetries(re=>$s(re,_)),delete M.localCache[_],M.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.A)(function*(){const M=yield _._withRetries(Pt=>{const on=ba(Pt,!1).getAll();return new ao(on).toPromise()});if(!M)return[];if(0!==_.pendingWrites)return[];const re=[],Ie=new Set;if(0!==M.length)for(const{fbase_key:Pt,value:on}of M)Ie.add(Pt),JSON.stringify(_.localCache[Pt])!==JSON.stringify(on)&&(_.notifyListeners(Pt,on),re.push(Pt));for(const Pt of Object.keys(_.localCache))_.localCache[Pt]&&!Ie.has(Pt)&&(_.notifyListeners(Pt,null),re.push(Pt));return re})()}notifyListeners(_,M){this.localCache[_]=M;const re=this.listeners[_];if(re)for(const Ie of Array.from(re))Ie(M)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(M)}_removeListener(_,M){this.listeners[_]&&(this.listeners[_].delete(M),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),P=1e12;class j{constructor(p){this.auth=p,this.counter=P,this._widgets=new Map}render(p,_){const M=this.counter;return this._widgets.set(M,new ge(p,this.auth.name,_||{})),this.counter++,M}reset(p){var _;const M=p||P;null===(_=this._widgets.get(M))||void 0===_||_.delete(),this._widgets.delete(M)}getResponse(p){var _;return(null===(_=this._widgets.get(p||P))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,d.A)(function*(){var M;return null===(M=_._widgets.get(p||P))||void 0===M||M.execute(),""})()}}class ge{constructor(p,_,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const re="string"==typeof p?document.getElementById(p):p;fe(re,"argument-error",{appName:_}),this.container=re,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Te(w){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<w;M++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $t=ti("rcb"),vn=new De(3e4,6e4);class Wt{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=so().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return fe(function Zn(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&en(so().grecaptcha)?Promise.resolve(so().grecaptcha):new Promise((M,re)=>{const Ie=so().setTimeout(()=>{re(xe(p,"network-request-failed"))},vn.get());so()[$t]=()=>{so().clearTimeout(Ie),delete so()[$t];const on=so().grecaptcha;if(!on||!en(on))return void re(xe(p,"internal-error"));const Rn=on.render;on.render=(dr,Cr)=>{const fi=Rn(dr,Cr);return this.counter++,fi},this.hostLanguage=_,M(on)},mr(`${function Ri(){return sr.recaptchaV2Script}()}?${(0,$.Am)({onload:$t,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(Ie),re(xe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=so().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Fr{load(p){return(0,d.A)(function*(){return new j(p)})()}clearedOneInstance(){}}const ki="recaptcha",Qr={theme:"light",type:"image"};class Qi{constructor(p,_,M=Object.assign({},Qr)){this.parameters=M,this.type=ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(p),this.isInvisible="invisible"===this.parameters.size,fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const re="string"==typeof _?document.getElementById(_):_;fe(re,this.auth,"argument-error"),this.container=re,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Fr:new Wt,this.validateStartingState()}verify(){var p=this;return(0,d.A)(function*(){p.assertNotDestroyed();const _=yield p.render(),M=p.getAssertedRecaptcha();return M.getResponse(_)||new Promise(Ie=>{const Pt=on=>{on&&(p.tokenChangeListeners.delete(Pt),Ie(on))};p.tokenChangeListeners.add(Pt),p.isInvisible&&M.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(M=>M(_)),"function"==typeof p)p(_);else if("string"==typeof p){const M=so()[p];"function"==typeof M&&M(_)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.A)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const M=document.createElement("div");_.appendChild(M),_=M}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.A)(function*(){fe(Lt()&&!pr(),p.auth,"internal-error"),yield function Go(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function sn(w){return Fe.apply(this,arguments)}(p.auth);fe(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Zo{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=_o._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ul(w,p,_){return us.apply(this,arguments)}function us(){return(us=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const M=Yn(w),re=yield Aa(M,p,(0,$.Ku)(_));return new Zo(re,Ie=>Z(M,Ie))})).apply(this,arguments)}function Js(w,p,_){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,d.A)(function*(w,p,_){const M=(0,$.Ku)(w);yield As(!1,M,"phone");const re=yield Aa(M.auth,p,(0,$.Ku)(_));return new Zo(re,Ie=>le(M,Ie))})).apply(this,arguments)}function cc(w,p,_){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,d.A)(function*(w,p,_){const M=(0,$.Ku)(w);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(st(M.auth));const re=yield Aa(M.auth,p,(0,$.Ku)(_));return new Zo(re,Ie=>ye(M,Ie))})).apply(this,arguments)}function Aa(w,p,_){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,d.A)(function*(w,p,_){var M;const re=yield _.verify();try{let Ie;if(fe("string"==typeof re,w,"argument-error"),fe(_.type===ki,w,"argument-error"),Ie="string"==typeof p?{phoneNumber:p}:p,"session"in Ie){const Pt=Ie.session;if("phoneNumber"in Ie)return fe("enroll"===Pt.type,w,"internal-error"),(yield function ur(w,p){return tt(w,"POST","/v2/accounts/mfaEnrollment:start",Ke(w,p))}(w,{idToken:Pt.credential,phoneEnrollmentInfo:{phoneNumber:Ie.phoneNumber,recaptchaToken:re}})).phoneSessionInfo.sessionInfo;{fe("signin"===Pt.type,w,"internal-error");const on=(null===(M=Ie.multiFactorHint)||void 0===M?void 0:M.uid)||Ie.multiFactorUid;return fe(on,w,"missing-multi-factor-info"),(yield function id(w,p){return tt(w,"POST","/v2/accounts/mfaSignIn:start",Ke(w,p))}(w,{mfaPendingCredential:Pt.credential,mfaEnrollmentId:on,phoneSignInInfo:{recaptchaToken:re}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pt}=yield function lr(w,p){return zr.apply(this,arguments)}(w,{phoneNumber:Ie.phoneNumber,recaptchaToken:re});return Pt}}finally{_._reset()}}),Ua.apply(this,arguments)}function zl(w,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,d.A)(function*(w,p){const _=(0,$.Ku)(w);if((0,o._isFirebaseServerApp)(_.auth.app))return Promise.reject(st(_.auth));yield Oa(_,p)})).apply(this,arguments)}let uc=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Yn(_)}verifyPhoneNumber(_,M){return Aa(this.auth,_,(0,$.Ku)(M))}static credential(_,M){return _o._fromVerification(_,M)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:M,temporaryProof:re}=_;return M&&re?_o._fromTokenResponse(M,re):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function dl(w,p){return p?tn(p):(fe(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Si extends mo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return dn(p,this._buildIdpRequest())}_linkToIdToken(p,_){return dn(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return dn(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Mc(w){return Jo(w.auth,new Si(w),w.bypassAuthState)}function dc(w){const{auth:p,user:_}=w;return fe(_,p,"internal-error"),sc(_,new Si(w),w.bypassAuthState)}function Rs(w){return od.apply(this,arguments)}function od(){return(od=(0,d.A)(function*(w){const{auth:p,user:_}=w;return fe(_,p,"internal-error"),Oa(_,new Si(w),w.bypassAuthState)})).apply(this,arguments)}class Wl{constructor(p,_,M,re,Ie=!1){this.auth=p,this.resolver=M,this.user=re,this.bypassAuthState=Ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,d.A)(function*(M,re){p.pendingPromise={resolve:M,reject:re};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Ie){p.reject(Ie)}});return function(M,re){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,d.A)(function*(){const{urlResponse:M,sessionId:re,postBody:Ie,tenantId:Pt,error:on,type:Rn}=p;if(on)return void _.reject(on);const dr={auth:_.auth,requestUri:M,sessionId:re,tenantId:Pt||void 0,postBody:Ie||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Rn)(dr))}catch(Cr){_.reject(Cr)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Mc;case"linkViaPopup":case"linkViaRedirect":return Rs;case"reauthViaPopup":case"reauthViaRedirect":return dc;default:we(this.auth,"internal-error")}}resolve(p){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Sl=new De(2e3,1e4);function Ms(w,p,_){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(xe(w,"operation-not-supported-in-this-environment"));const M=Yn(w);ht(w,p,vo);const re=dl(M,_);return new ru(M,"signInViaPopup",p,re).executeNotNull()})).apply(this,arguments)}function sd(w,p,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.A)(function*(w,p,_){const M=(0,$.Ku)(w);if((0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(xe(M.auth,"operation-not-supported-in-this-environment"));ht(M.auth,p,vo);const re=dl(M.auth,_);return new ru(M.auth,"reauthViaPopup",p,re,M).executeNotNull()})).apply(this,arguments)}function Ta(w,p,_){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.A)(function*(w,p,_){const M=(0,$.Ku)(w);ht(M.auth,p,vo);const re=dl(M.auth,_);return new ru(M.auth,"linkViaPopup",p,re,M).executeNotNull()})).apply(this,arguments)}let ru=(()=>{class w extends Wl{constructor(_,M,re,Ie,Pt){super(_,M,Ie,Pt),this.provider=re,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.A)(function*(){const M=yield _.execute();return fe(M,_.auth,"internal-error"),M})()}onExecution(){var _=this;return(0,d.A)(function*(){mt(1===_.filter.length,"Popup operations only handle one event");const M=Qs();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],M),_.authWindow.associatedEvent=M,_.resolver._originValidation(_.auth).catch(re=>{_.reject(re)}),_.resolver._isIframeWebStorageSupported(_.auth,re=>{re||_.reject(xe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var M,re;this.pollId=null!==(re=null===(M=this.authWindow)||void 0===M?void 0:M.window)&&void 0!==re&&re.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Sl.get())};_()}}return w.currentPopupAction=null,w})();const jd="pendingRedirect",Rl=new Map;class Xl extends Wl{constructor(p,_,M=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,M),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,d.A)(function*(){let M=Rl.get(_.auth._key());if(!M){try{const Ie=(yield function Za(w,p){return ua.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;M=()=>Promise.resolve(Ie)}catch(re){M=()=>Promise.reject(re)}Rl.set(_.auth._key(),M)}return _.bypassAuthState||Rl.set(_.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,M=this;return(0,d.A)(function*(){if("signInViaRedirect"===p.type)return _().call(M,p);if("unknown"!==p.type){if(p.eventId){const re=yield M.auth._redirectUserForId(p.eventId);if(re)return M.user=re,_().call(M,p);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function ua(){return(ua=(0,d.A)(function*(w,p){const _=Nc(p),M=fc(w);if(!(yield M._isAvailable()))return!1;const re="true"===(yield M._get(_));return yield M._remove(_),re})).apply(this,arguments)}function hc(w,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.A)(function*(w,p){return fc(w)._set(Nc(p),"true")})).apply(this,arguments)}function Hr(){Rl.clear()}function xc(w,p){Rl.set(w._key(),p)}function fc(w){return tn(w._redirectPersistence)}function Nc(w){return ve(jd,w.config.apiKey,w.name)}function Hh(w,p,_){return function ad(w,p,_){return Oc.apply(this,arguments)}(w,p,_)}function Oc(){return(Oc=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const M=Yn(w);ht(w,p,vo),yield M._initializationPromise;const re=dl(M,_);return yield hc(re,M),re._openRedirect(M,p,"signInViaRedirect")})).apply(this,arguments)}function Hd(w,p,_){return function kc(w,p,_){return fl.apply(this,arguments)}(w,p,_)}function fl(){return(fl=(0,d.A)(function*(w,p,_){const M=(0,$.Ku)(w);if(ht(M.auth,p,vo),(0,o._isFirebaseServerApp)(M.auth.app))return Promise.reject(st(M.auth));yield M.auth._initializationPromise;const re=dl(M.auth,_);yield hc(re,M.auth);const Ie=yield Fc(M);return re._openRedirect(M.auth,p,"reauthViaRedirect",Ie)})).apply(this,arguments)}function ld(w,p,_){return function iu(w,p,_){return cd.apply(this,arguments)}(w,p,_)}function cd(){return(cd=(0,d.A)(function*(w,p,_){const M=(0,$.Ku)(w);ht(M.auth,p,vo),yield M.auth._initializationPromise;const re=dl(M.auth,_);yield As(!1,M,p.providerId),yield hc(re,M.auth);const Ie=yield Fc(M);return re._openRedirect(M.auth,p,"linkViaRedirect",Ie)})).apply(this,arguments)}function Gd(w,p){return da.apply(this,arguments)}function da(){return(da=(0,d.A)(function*(w,p){return yield Yn(w)._initializationPromise,hn(w,p,!1)})).apply(this,arguments)}function hn(w,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,d.A)(function*(w,p,_=!1){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(st(w));const M=Yn(w),re=dl(M,p),Pt=yield new Xl(M,re,_).execute();return Pt&&!_&&(delete Pt.user._redirectEventId,yield M._persistUserIfCurrent(Pt.user),yield M._setRedirectUser(null,p)),Pt})).apply(this,arguments)}function Fc(w){return ou.apply(this,arguments)}function ou(){return(ou=(0,d.A)(function*(w){const p=Qs(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class su{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(p,M)&&(_=!0,this.sendToConsumer(p,M),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function au(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return js(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var M;if(p.error&&!js(p)){const re=(null===(M=p.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";_.onError(xe(this.auth,re))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const M=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&M}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pl(p))}saveEventToCache(p){this.cachedEventUids.add(pl(p)),this.lastProcessedEventTime=Date.now()}}function pl(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function js({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ba(w){return gl.apply(this,arguments)}function gl(){return(gl=(0,d.A)(function*(w,p={}){return tt(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Gh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pc=/^https?/;function ml(){return(ml=(0,d.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Ba(w);for(const _ of p)try{if(ud(_))return}catch{}we(w,"unauthorized-domain")})).apply(this,arguments)}function ud(w){const p=Ze(),{protocol:_,hostname:M}=new URL(p);if(w.startsWith("chrome-extension://")){const Pt=new URL(w);return""===Pt.hostname&&""===M?"chrome-extension:"===_&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&Pt.hostname===M}if(!pc.test(_))return!1;if(Gh.test(w))return M===w;const re=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+re+"|"+re+")$","i").test(M)}const Uo=new De(3e4,6e4);function $a(){const w=so().___jsl;if(null!=w&&w.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let Hs=null;const dd=new De(5e3,15e3),Kd="__/auth/iframe",lu="emulator/auth/iframe",Ml={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lc(w){const p=w.config;fe(p.authDomain,w,"auth-domain-config-required");const _=p.emulator?_e(p,lu):`https://${w.config.authDomain}/${Kd}`,M={apiKey:p.apiKey,appName:w.name,v:o.SDK_VERSION},re=gc.get(w.config.apiHost);re&&(M.eid=re);const Ie=w._getFrameworks();return Ie.length&&(M.fw=Ie.join(",")),`${_}?${(0,$.Am)(M).slice(1)}`}function ql(){return ql=(0,d.A)(function*(w){const p=yield function _l(w){return Hs=Hs||function Wd(w){return new Promise((p,_)=>{var M,re,Ie;function Pt(){$a(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{$a(),_(xe(w,"network-request-failed"))},timeout:Uo.get()})}if(null!==(re=null===(M=so().gapi)||void 0===M?void 0:M.iframes)&&void 0!==re&&re.Iframe)p(gapi.iframes.getContext());else{if(null===(Ie=so().gapi)||void 0===Ie||!Ie.load){const on=ti("iframefcb");return so()[on]=()=>{gapi.load?Pt():_(xe(w,"network-request-failed"))},mr(`${function Co(){return sr.gapiScript}()}?onload=${on}`).catch(Rn=>_(Rn))}Pt()}}).catch(p=>{throw Hs=null,p})}(w),Hs}(w),_=so().gapi;return fe(_,w,"internal-error"),p.open({where:document.body,url:Lc(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ml,dontclear:!0},M=>new Promise(function(){var re=(0,d.A)(function*(Ie,Pt){yield M.restyle({setHideOnLeave:!1});const on=xe(w,"network-request-failed"),Rn=so().setTimeout(()=>{Pt(on)},dd.get());function dr(){so().clearTimeout(Rn),Ie(M)}M.ping(dr).then(dr,()=>{Pt(on)})});return function(Ie,Pt){return re.apply(this,arguments)}}()))}),ql.apply(this,arguments)}const vl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qf="__/auth/handler",es="emulator/auth/handler",Po=encodeURIComponent("fac");function lo(w,p,_,M,re,Ie){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,d.A)(function*(w,p,_,M,re,Ie){fe(w.config.authDomain,w,"auth-domain-config-required"),fe(w.config.apiKey,w,"invalid-api-key");const Pt={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:M,v:o.SDK_VERSION,eventId:re};if(p instanceof vo){p.setDefaultLanguage(w.languageCode),Pt.providerId=p.providerId||"",(0,$.Im)(p.getCustomParameters())||(Pt.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Cr,fi]of Object.entries(Ie||{}))Pt[Cr]=fi}if(p instanceof os){const Cr=p.getScopes().filter(fi=>""!==fi);Cr.length>0&&(Pt.scopes=Cr.join(","))}w.tenantId&&(Pt.tid=w.tenantId);const on=Pt;for(const Cr of Object.keys(on))void 0===on[Cr]&&delete on[Cr];const Rn=yield w._getAppCheckToken(),dr=Rn?`#${Po}=${encodeURIComponent(Rn)}`:"";return`${function Qf({config:w}){return w.emulator?_e(w,es):`https://${w.authDomain}/${qf}`}(w)}?${(0,$.Am)(on).slice(1)}${dr}`})).apply(this,arguments)}const fd="webStorageSupport",du=class Yd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xa,this._completeRedirectFn=hn,this._overrideRedirectResult=xc}_openPopup(p,_,M,re){var Ie=this;return(0,d.A)(function*(){var Pt;mt(null===(Pt=Ie.eventManagers[p._key()])||void 0===Pt?void 0:Pt.manager,"_initialize() not called before _openPopup()");const on=yield lo(p,_,M,Ze(),re);return function Wh(w,p,_,M=500,re=600){const Ie=Math.max((window.screen.availHeight-re)/2,0).toString(),Pt=Math.max((window.screen.availWidth-M)/2,0).toString();let on="";const Rn=Object.assign(Object.assign({},vl),{width:M.toString(),height:re.toString(),top:Ie,left:Pt}),dr=(0,$.ZQ)().toLowerCase();_&&(on=Xn(dr)?"_blank":_),Je(dr)&&(p=p||"http://localhost",Rn.scrollbars="yes");const Cr=Object.entries(Rn).reduce((Da,[tl,Vc])=>`${Da}${tl}=${Vc},`,"");if(function Dr(w=(0,$.ZQ)()){var p;return xr(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(dr)&&"_self"!==on)return function qd(w,p){const _=document.createElement("a");_.href=w,_.target=p;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(M)}(p||"",on),new uu(null);const fi=window.open(p||"",on,Cr);fe(fi,w,"popup-blocked");try{fi.focus()}catch{}return new uu(fi)}(p,on,Qs())})()}_openRedirect(p,_,M,re){var Ie=this;return(0,d.A)(function*(){return yield Ie._originValidation(p),function Ys(w){so().location.href=w}(yield lo(p,_,M,Ze(),re)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:re,promise:Ie}=this.eventManagers[_];return re?Promise.resolve(re):(mt(Ie,"If manager is not set, promise should be"),Ie)}const M=this.initAndGetManager(p);return this.eventManagers[_]={promise:M},M.catch(()=>{delete this.eventManagers[_]}),M}initAndGetManager(p){var _=this;return(0,d.A)(function*(){const M=yield function Xd(w){return ql.apply(this,arguments)}(p),re=new su(p);return M.register("authEvent",Ie=>(fe(null==Ie?void 0:Ie.authEvent,p,"invalid-auth-event"),{status:re.onEvent(Ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:re},_.iframes[p._key()]=M,re})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(fd,{type:fd},re=>{var Ie;const Pt=null===(Ie=null==re?void 0:re[0])||void 0===Ie?void 0:Ie[fd];void 0!==Pt&&_(!!Pt),we(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function zd(w){return ml.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ae()||bn()||xr()}};class Pl{constructor(p){this.factorId=p}_process(p,_,M){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,M);case"signin":return this._finalizeSignIn(p,_.credential);default:return gt("unexpected MultiFactorSessionType")}}}class el extends Pl{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new el(p)}_finalizeEnroll(p,_,M){return function qi(w,p){return tt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Ke(w,p))}(p,{idToken:_,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Rc(w,p){return tt(w,"POST","/v2/accounts/mfaSignIn:finalize",Ke(w,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let yl=(()=>{class w{constructor(){}static assertion(_){return el._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var Yl="@firebase/auth";class fu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,d.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(M=>{p((null==M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Kh=(0,$.XA)("authIdTokenMaxAge")||300;let gu=null;const gd=w=>function(){var p=(0,d.A)(function*(_){const M=_&&(yield _.getIdTokenResult()),re=M&&((new Date).getTime()-Date.parse(M.issuedAtTime))/1e3;if(re&&re>Kh)return;const Ie=null==M?void 0:M.token;gu!==Ie&&(gu=Ie,yield fetch(w,{method:Ie?"POST":"DELETE",headers:Ie?{Authorization:`Bearer ${Ie}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Jf(w=(0,o.getApp)()){const p=(0,o._getProvider)(w,"auth");if(p.isInitialized())return p.getImmediate();const _=function go(w,p){const _=(0,o._getProvider)(w,"auth");if(_.isInitialized()){const re=_.getImmediate(),Ie=_.getOptions();if((0,$.bD)(Ie,null!=p?p:{}))return re;we(re,"already-initialized")}return _.initialize({options:p})}(w,{popupRedirectResolver:du,persistence:[rd,no,Xa]}),M=(0,$.XA)("authTokenSyncURL");if(M&&"boolean"==typeof isSecureContext&&isSecureContext){const Ie=new URL(M,location.origin);if(location.origin===Ie.origin){const Pt=gd(Ie.toString());(function Dn(w,p,_){(0,$.Ku)(w).beforeAuthStateChanged(p,_)})(_,Pt,()=>Pt(_.currentUser)),function ln(w,p,_,M){(0,$.Ku)(w).onIdTokenChanged(p,_,M)}(_,on=>Pt(on))}}const re=(0,$.Tj)("auth");return re&&fs(_,`http://${re}`),_}(function Hi(w){sr=w})({loadJS:w=>new Promise((p,_)=>{const M=document.createElement("script");M.setAttribute("src",w),M.onload=p,M.onerror=re=>{const Ie=xe("internal-error");Ie.customData=re,_(Ie)},M.type="text/javascript",M.charset="UTF-8",function Xh(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(M)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function _c(w){(0,o._registerComponent)(new Ce.uA("auth",(p,{options:_})=>{const M=p.getProvider("app").getImmediate(),re=p.getProvider("heartbeat"),Ie=p.getProvider("app-check-internal"),{apiKey:Pt,authDomain:on}=M.options;fe(Pt&&!Pt.includes(":"),"invalid-api-key",{appName:M.name});const Rn={apiKey:Pt,authDomain:on,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wt(w)},dr=new On(M,re,Ie,Rn);return function Xr(w,p){const _=(null==p?void 0:p.persistence)||[],M=(Array.isArray(_)?_:[_]).map(tn);null!=p&&p.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(M,null==p?void 0:p.popupRedirectResolver)}(dr,_),dr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,M)=>{p.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new Ce.uA("auth-internal",p=>{const _=Yn(p.getProvider("auth").getImmediate());return new fu(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(Yl,"1.7.9",function Yf(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,o.registerVersion)(Yl,"1.7.9","esm2017")}("Browser")},4923:(kn,Mt,V)=>{"use strict";V.d(Mt,{Am:()=>or,Bd:()=>gt,FA:()=>lt,Fy:()=>st,I9:()=>Hn,Im:()=>Fe,Ku:()=>ct,Ll:()=>fe,T9:()=>we,Tj:()=>Ot,Uj:()=>ft,XA:()=>xe,ZQ:()=>ht,bD:()=>Ut,c1:()=>Ze,dM:()=>Ke,eX:()=>Oe,g:()=>He,gR:()=>Un,hp:()=>Mn,jZ:()=>nt,lT:()=>We,lV:()=>Vt,mS:()=>et,nr:()=>Se,p7:()=>mt,sr:()=>Lt,tD:()=>ar,u:()=>it,zW:()=>se,zw:()=>Ct});const be=function(J){const Q=[];let ne=0;for(let ke=0;ke<J.length;ke++){let je=J.charCodeAt(ke);je<128?Q[ne++]=je:je<2048?(Q[ne++]=je>>6|192,Q[ne++]=63&je|128):55296==(64512&je)&&ke+1<J.length&&56320==(64512&J.charCodeAt(ke+1))?(je=65536+((1023&je)<<10)+(1023&J.charCodeAt(++ke)),Q[ne++]=je>>18|240,Q[ne++]=je>>12&63|128,Q[ne++]=je>>6&63|128,Q[ne++]=63&je|128):(Q[ne++]=je>>12|224,Q[ne++]=je>>6&63|128,Q[ne++]=63&je|128)}return Q},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Q){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,ke=[];for(let je=0;je<J.length;je+=3){const tn=J[je],Sn=je+1<J.length,Ve=Sn?J[je+1]:0,ve=je+2<J.length,oe=ve?J[je+2]:0;let bn=(15&Ve)<<2|oe>>6,Xn=63&oe;ve||(Xn=64,Sn||(bn=64)),ke.push(ne[tn>>2],ne[(3&tn)<<4|Ve>>4],ne[bn],ne[Xn])}return ke.join("")},encodeString(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(J):this.encodeByteArray(be(J),Q)},decodeString(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(J):function(J){const Q=[];let ne=0,ke=0;for(;ne<J.length;){const je=J[ne++];if(je<128)Q[ke++]=String.fromCharCode(je);else if(je>191&&je<224){const tn=J[ne++];Q[ke++]=String.fromCharCode((31&je)<<6|63&tn)}else if(je>239&&je<365){const ve=((7&je)<<18|(63&J[ne++])<<12|(63&J[ne++])<<6|63&J[ne++])-65536;Q[ke++]=String.fromCharCode(55296+(ve>>10)),Q[ke++]=String.fromCharCode(56320+(1023&ve))}else{const tn=J[ne++],Sn=J[ne++];Q[ke++]=String.fromCharCode((15&je)<<12|(63&tn)<<6|63&Sn)}}return Q.join("")}(this.decodeStringToByteArray(J,Q))},decodeStringToByteArray(J,Q){this.init_();const ne=Q?this.charToByteMapWebSafe_:this.charToByteMap_,ke=[];for(let je=0;je<J.length;){const tn=ne[J.charAt(je++)],Ve=je<J.length?ne[J.charAt(je)]:0;++je;const oe=je<J.length?ne[J.charAt(je)]:64;++je;const Je=je<J.length?ne[J.charAt(je)]:64;if(++je,null==tn||null==Ve||null==oe||null==Je)throw new Re;ke.push(tn<<2|Ve>>4),64!==oe&&(ke.push(Ve<<4&240|oe>>2),64!==Je&&ke.push(oe<<6&192|Je))}return ke},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ft=function(J){return function(J){const Q=be(J);return Ce.encodeByteArray(Q,!0)}(J).replace(/\./g,"")},it=function(J){try{return Ce.decodeString(J,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function Ct(J,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Q}for(const ne in Q)!Q.hasOwnProperty(ne)||!at(ne)||(J[ne]=Ct(J[ne],Q[ne]));return J}function at(J){return"__proto__"!==J}function et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ut=()=>{try{return et().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=J&&it(J[1]);return Q&&JSON.parse(Q)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Ot=J=>{var Q,ne;return null===(ne=null===(Q=ut())||void 0===Q?void 0:Q.emulatorHosts)||void 0===ne?void 0:ne[J]},we=()=>{var J;return null===(J=ut())||void 0===J?void 0:J.config},xe=J=>{var Q;return null===(Q=ut())||void 0===Q?void 0:Q[`_${J}`]};function st(J,Q){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ke=Q||"demo-project",je=J.iat||0,tn=J.sub||J.user_id;if(!tn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Sn=Object.assign({iss:`https://securetoken.google.com/${ke}`,aud:ke,iat:je,exp:je+3600,auth_time:je,sub:tn,user_id:tn,firebase:{sign_in_provider:"custom",identities:{}}},J);return[ft(JSON.stringify({alg:"none",type:"JWT"})),ft(JSON.stringify(Sn)),""].join(".")}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function fe(){var J;const Q=null===(J=ut())||void 0===J?void 0:J.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function gt(){return typeof window<"u"||mt()}function mt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ze(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Lt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const J=ht();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function Se(){return!fe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function se(){try{return"object"==typeof indexedDB}catch{return!1}}function Oe(){return new Promise((J,Q)=>{try{let ne=!0;const ke="validate-browser-context-for-indexeddb-analytics-module",je=self.indexedDB.open(ke);je.onsuccess=()=>{je.result.close(),ne||self.indexedDB.deleteDatabase(ke),J(!0)},je.onupgradeneeded=()=>{ne=!1},je.onerror=()=>{var tn;Q((null===(tn=je.error)||void 0===tn?void 0:tn.message)||"")}}catch(ne){Q(ne)}})}function Ke(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class He extends Error{constructor(Q,ne,ke){super(ne),this.code=Q,this.customData=ke,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(Q,ne,ke){this.service=Q,this.serviceName=ne,this.errors=ke}create(Q,...ne){const ke=ne[0]||{},je=`${this.service}/${Q}`,tn=this.errors[Q],Sn=tn?function yt(J,Q){return J.replace(Bt,(ne,ke)=>{const je=Q[ke];return null!=je?String(je):`<${ke}?>`})}(tn,ke):"Error";return new He(je,`${this.serviceName}: ${Sn} (${je}).`,ke)}}const Bt=/\{\$([^}]+)}/g;function Un(J,Q){return Object.prototype.hasOwnProperty.call(J,Q)}function Fe(J){for(const Q in J)if(Object.prototype.hasOwnProperty.call(J,Q))return!1;return!0}function Ut(J,Q){if(J===Q)return!0;const ne=Object.keys(J),ke=Object.keys(Q);for(const je of ne){if(!ke.includes(je))return!1;const tn=J[je],Sn=Q[je];if(Ft(tn)&&Ft(Sn)){if(!Ut(tn,Sn))return!1}else if(tn!==Sn)return!1}for(const je of ke)if(!ne.includes(je))return!1;return!0}function Ft(J){return null!==J&&"object"==typeof J}function or(J){const Q=[];for(const[ne,ke]of Object.entries(J))Array.isArray(ke)?ke.forEach(je=>{Q.push(encodeURIComponent(ne)+"="+encodeURIComponent(je))}):Q.push(encodeURIComponent(ne)+"="+encodeURIComponent(ke));return Q.length?"&"+Q.join("&"):""}function Hn(J){const Q={};return J.replace(/^\?/,"").split("&").forEach(ke=>{if(ke){const[je,tn]=ke.split("=");Q[decodeURIComponent(je)]=decodeURIComponent(tn)}}),Q}function Mn(J){const Q=J.indexOf("?");if(!Q)return"";const ne=J.indexOf("#",Q);return J.substring(Q,ne>0?ne:void 0)}function ar(J,Q){const ne=new Qn(J,Q);return ne.subscribe.bind(ne)}class Qn{constructor(Q,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{Q(this)}).catch(ke=>{this.error(ke)})}next(Q){this.forEachObserver(ne=>{ne.next(Q)})}error(Q){this.forEachObserver(ne=>{ne.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,ne,ke){let je;if(void 0===Q&&void 0===ne&&void 0===ke)throw new Error("Missing Observer.");je=function fr(J,Q){if("object"!=typeof J||null===J)return!1;for(const ne of Q)if(ne in J&&"function"==typeof J[ne])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:ne,complete:ke},void 0===je.next&&(je.next=Vr),void 0===je.error&&(je.error=Vr),void 0===je.complete&&(je.complete=Vr);const tn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?je.error(this.finalError):je.complete()}catch{}}),this.observers.push(je),tn}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,Q)}sendOne(Q,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{ne(this.observers[Q])}catch(ke){typeof console<"u"&&console.error&&console.error(ke)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vr(){}function ct(J){return J&&J._delegate?J._delegate:J}},4412:(kn,Mt,V)=>{"use strict";V.d(Mt,{t:()=>o});var d=V(1413);class o extends d.B{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const W=super._subscribe(be);return!W.closed&&be.next(this._value),W}getValue(){const{hasError:be,thrownError:W,_value:Ce}=this;if(be)throw W;return this._throwIfClosed(),Ce}next(be){super.next(this._value=be)}}},1985:(kn,Mt,V)=>{"use strict";V.d(Mt,{c:()=>Ge});var d=V(7707),o=V(8359),$=V(3494),be=V(1203),W=V(1026),Ce=V(8071),Re=V(9786);let Ge=(()=>{class Ct{constructor(et){et&&(this._subscribe=et)}lift(et){const pt=new Ct;return pt.source=this,pt.operator=et,pt}subscribe(et,pt,Et){const vt=function Me(Ct){return Ct&&Ct instanceof d.vU||function it(Ct){return Ct&&(0,Ce.T)(Ct.next)&&(0,Ce.T)(Ct.error)&&(0,Ce.T)(Ct.complete)}(Ct)&&(0,o.Uv)(Ct)}(et)?et:new d.Ms(et,pt,Et);return(0,Re.Y)(()=>{const{operator:ut,source:Ot}=this;vt.add(ut?ut.call(vt,Ot):Ot?this._subscribe(vt):this._trySubscribe(vt))}),vt}_trySubscribe(et){try{return this._subscribe(et)}catch(pt){et.error(pt)}}forEach(et,pt){return new(pt=ft(pt))((Et,vt)=>{const ut=new d.Ms({next:Ot=>{try{et(Ot)}catch(St){vt(St),ut.unsubscribe()}},error:vt,complete:Et});this.subscribe(ut)})}_subscribe(et){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(et)}[$.s](){return this}pipe(...et){return(0,be.m)(et)(this)}toPromise(et){return new(et=ft(et))((pt,Et)=>{let vt;this.subscribe(ut=>vt=ut,ut=>Et(ut),()=>pt(vt))})}}return Ct.create=at=>new Ct(at),Ct})();function ft(Ct){var at;return null!==(at=null!=Ct?Ct:W.$.Promise)&&void 0!==at?at:Promise}},1413:(kn,Mt,V)=>{"use strict";V.d(Mt,{B:()=>Re});var d=V(1985),o=V(8359);const be=(0,V(1853).L)(ft=>function(){ft(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=V(7908),Ce=V(9786);let Re=(()=>{class ft extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Me){const Ct=new Ge(this,this);return Ct.operator=Me,Ct}_throwIfClosed(){if(this.closed)throw new be}next(Me){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ct of this.currentObservers)Ct.next(Me)}})}error(Me){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Me;const{observers:Ct}=this;for(;Ct.length;)Ct.shift().error(Me)}})}complete(){(0,Ce.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Me}=this;for(;Me.length;)Me.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Me;return(null===(Me=this.observers)||void 0===Me?void 0:Me.length)>0}_trySubscribe(Me){return this._throwIfClosed(),super._trySubscribe(Me)}_subscribe(Me){return this._throwIfClosed(),this._checkFinalizedStatuses(Me),this._innerSubscribe(Me)}_innerSubscribe(Me){const{hasError:Ct,isStopped:at,observers:et}=this;return Ct||at?o.Kn:(this.currentObservers=null,et.push(Me),new o.yU(()=>{this.currentObservers=null,(0,W.o)(et,Me)}))}_checkFinalizedStatuses(Me){const{hasError:Ct,thrownError:at,isStopped:et}=this;Ct?Me.error(at):et&&Me.complete()}asObservable(){const Me=new d.c;return Me.source=this,Me}}return ft.create=(it,Me)=>new Ge(it,Me),ft})();class Ge extends Re{constructor(it,Me){super(),this.destination=it,this.source=Me}next(it){var Me,Ct;null===(Ct=null===(Me=this.destination)||void 0===Me?void 0:Me.next)||void 0===Ct||Ct.call(Me,it)}error(it){var Me,Ct;null===(Ct=null===(Me=this.destination)||void 0===Me?void 0:Me.error)||void 0===Ct||Ct.call(Me,it)}complete(){var it,Me;null===(Me=null===(it=this.destination)||void 0===it?void 0:it.complete)||void 0===Me||Me.call(it)}_subscribe(it){var Me,Ct;return null!==(Ct=null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(it))&&void 0!==Ct?Ct:o.Kn}}},7707:(kn,Mt,V)=>{"use strict";V.d(Mt,{Ms:()=>Et,vU:()=>Ct});var d=V(8071),o=V(8359),$=V(1026),be=V(5334),W=V(5343);const Ce=ft("C",void 0,void 0);function ft(we,xe,Ne){return{kind:we,value:xe,error:Ne}}var it=V(9270),Me=V(9786);class Ct extends o.yU{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,o.Uv)(xe)&&xe.add(this)):this.destination=St}static create(xe,Ne,st){return new Et(xe,Ne,st)}next(xe){this.isStopped?Ot(function Ge(we){return ft("N",we,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?Ot(function Re(we){return ft("E",void 0,we)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Ot(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const at=Function.prototype.bind;function et(we,xe){return at.call(we,xe)}class pt{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(xe)}catch(st){vt(st)}}error(xe){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(xe)}catch(st){vt(st)}else vt(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Ne){vt(Ne)}}}class Et extends Ct{constructor(xe,Ne,st){let ht;if(super(),(0,d.T)(xe)||!xe)ht={next:null!=xe?xe:void 0,error:null!=Ne?Ne:void 0,complete:null!=st?st:void 0};else{let nt;this&&$.$.useDeprecatedNextContext?(nt=Object.create(xe),nt.unsubscribe=()=>this.unsubscribe(),ht={next:xe.next&&et(xe.next,nt),error:xe.error&&et(xe.error,nt),complete:xe.complete&&et(xe.complete,nt)}):ht=xe}this.destination=new pt(ht)}}function vt(we){$.$.useDeprecatedSynchronousErrorHandling?(0,Me.l)(we):(0,be.m)(we)}function Ot(we,xe){const{onStoppedNotification:Ne}=$.$;Ne&&it.f.setTimeout(()=>Ne(we,xe))}const St={closed:!0,next:W.l,error:function ut(we){throw we},complete:W.l}},8359:(kn,Mt,V)=>{"use strict";V.d(Mt,{Kn:()=>Ce,yU:()=>W,Uv:()=>Re});var d=V(8071);const $=(0,V(1853).L)(ft=>function(Me){ft(this),this.message=Me?`${Me.length} errors occurred during unsubscription:\n${Me.map((Ct,at)=>`${at+1}) ${Ct.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Me});var be=V(7908);class W{constructor(it){this.initialTeardown=it,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let it;if(!this.closed){this.closed=!0;const{_parentage:Me}=this;if(Me)if(this._parentage=null,Array.isArray(Me))for(const et of Me)et.remove(this);else Me.remove(this);const{initialTeardown:Ct}=this;if((0,d.T)(Ct))try{Ct()}catch(et){it=et instanceof $?et.errors:[et]}const{_finalizers:at}=this;if(at){this._finalizers=null;for(const et of at)try{Ge(et)}catch(pt){it=null!=it?it:[],pt instanceof $?it=[...it,...pt.errors]:it.push(pt)}}if(it)throw new $(it)}}add(it){var Me;if(it&&it!==this)if(this.closed)Ge(it);else{if(it instanceof W){if(it.closed||it._hasParent(this))return;it._addParent(this)}(this._finalizers=null!==(Me=this._finalizers)&&void 0!==Me?Me:[]).push(it)}}_hasParent(it){const{_parentage:Me}=this;return Me===it||Array.isArray(Me)&&Me.includes(it)}_addParent(it){const{_parentage:Me}=this;this._parentage=Array.isArray(Me)?(Me.push(it),Me):Me?[Me,it]:it}_removeParent(it){const{_parentage:Me}=this;Me===it?this._parentage=null:Array.isArray(Me)&&(0,be.o)(Me,it)}remove(it){const{_finalizers:Me}=this;Me&&(0,be.o)(Me,it),it instanceof W&&it._removeParent(this)}}W.EMPTY=(()=>{const ft=new W;return ft.closed=!0,ft})();const Ce=W.EMPTY;function Re(ft){return ft instanceof W||ft&&"closed"in ft&&(0,d.T)(ft.remove)&&(0,d.T)(ft.add)&&(0,d.T)(ft.unsubscribe)}function Ge(ft){(0,d.T)(ft)?ft():ft.unsubscribe()}},1026:(kn,Mt,V)=>{"use strict";V.d(Mt,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(kn,Mt,V)=>{"use strict";V.d(Mt,{z:()=>it});var d=V(1985),o=V(3073),$=V(8455),be=V(3669),W=V(6450),Ce=V(3794),Re=V(8496),Ge=V(4360),ft=V(5225);function it(...at){const et=(0,Ce.lI)(at),pt=(0,Ce.ms)(at),{args:Et,keys:vt}=(0,o.D)(at);if(0===Et.length)return(0,$.H)([],et);const ut=new d.c(function Me(at,et,pt=be.D){return Et=>{Ct(et,()=>{const{length:vt}=at,ut=new Array(vt);let Ot=vt,St=vt;for(let we=0;we<vt;we++)Ct(et,()=>{const xe=(0,$.H)(at[we],et);let Ne=!1;xe.subscribe((0,Ge._)(Et,st=>{ut[we]=st,Ne||(Ne=!0,St--),St||Et.next(pt(ut.slice()))},()=>{--Ot||Et.complete()}))},Et)},Et)}}(Et,et,vt?Ot=>(0,Re.e)(vt,Ot):be.D));return pt?ut.pipe((0,W.I)(pt)):ut}function Ct(at,et,pt){at?(0,ft.N)(pt,at,et):et()}},8793:(kn,Mt,V)=>{"use strict";V.d(Mt,{x:()=>W});var d=V(6365),$=V(3794),be=V(8455);function W(...Ce){return function o(){return(0,d.U)(1)}()((0,be.H)(Ce,(0,$.lI)(Ce)))}},983:(kn,Mt,V)=>{"use strict";V.d(Mt,{w:()=>o});const o=new(V(1985).c)(W=>W.complete())},8455:(kn,Mt,V)=>{"use strict";V.d(Mt,{H:()=>xe});var d=V(8750),o=V(941),$=V(6745),Ce=V(1985),Ge=V(4761),ft=V(8071),it=V(5225);function Ct(Ne,st){if(!Ne)throw new Error("Iterable cannot be null");return new Ce.c(ht=>{(0,it.N)(ht,st,()=>{const nt=Ne[Symbol.asyncIterator]();(0,it.N)(ht,st,()=>{nt.next().then(fe=>{fe.done?ht.complete():ht.next(fe.value)})},0,!0)})})}var at=V(5055),et=V(9858),pt=V(7441),Et=V(5397),vt=V(7953),ut=V(591),Ot=V(5196);function xe(Ne,st){return st?function we(Ne,st){if(null!=Ne){if((0,at.l)(Ne))return function be(Ne,st){return(0,d.Tg)(Ne).pipe((0,$._)(st),(0,o.Q)(st))}(Ne,st);if((0,pt.X)(Ne))return function Re(Ne,st){return new Ce.c(ht=>{let nt=0;return st.schedule(function(){nt===Ne.length?ht.complete():(ht.next(Ne[nt++]),ht.closed||this.schedule())})})}(Ne,st);if((0,et.y)(Ne))return function W(Ne,st){return(0,d.Tg)(Ne).pipe((0,$._)(st),(0,o.Q)(st))}(Ne,st);if((0,vt.T)(Ne))return Ct(Ne,st);if((0,Et.x)(Ne))return function Me(Ne,st){return new Ce.c(ht=>{let nt;return(0,it.N)(ht,st,()=>{nt=Ne[Ge.l](),(0,it.N)(ht,st,()=>{let fe,gt;try{({value:fe,done:gt}=nt.next())}catch(mt){return void ht.error(mt)}gt?ht.complete():ht.next(fe)},0,!0)}),()=>(0,ft.T)(null==nt?void 0:nt.return)&&nt.return()})}(Ne,st);if((0,Ot.U)(Ne))return function St(Ne,st){return Ct((0,Ot.C)(Ne),st)}(Ne,st)}throw(0,ut.L)(Ne)}(Ne,st):(0,d.Tg)(Ne)}},3726:(kn,Mt,V)=>{"use strict";V.d(Mt,{R:()=>it});var d=V(8750),o=V(1985),$=V(1397),be=V(7441),W=V(8071),Ce=V(6450);const Re=["addListener","removeListener"],Ge=["addEventListener","removeEventListener"],ft=["on","off"];function it(pt,Et,vt,ut){if((0,W.T)(vt)&&(ut=vt,vt=void 0),ut)return it(pt,Et,vt).pipe((0,Ce.I)(ut));const[Ot,St]=function et(pt){return(0,W.T)(pt.addEventListener)&&(0,W.T)(pt.removeEventListener)}(pt)?Ge.map(we=>xe=>pt[we](Et,xe,vt)):function Ct(pt){return(0,W.T)(pt.addListener)&&(0,W.T)(pt.removeListener)}(pt)?Re.map(Me(pt,Et)):function at(pt){return(0,W.T)(pt.on)&&(0,W.T)(pt.off)}(pt)?ft.map(Me(pt,Et)):[];if(!Ot&&(0,be.X)(pt))return(0,$.Z)(we=>it(we,Et,vt))((0,d.Tg)(pt));if(!Ot)throw new TypeError("Invalid event target");return new o.c(we=>{const xe=(...Ne)=>we.next(1<Ne.length?Ne:Ne[0]);return Ot(xe),()=>St(xe)})}function Me(pt,Et){return vt=>ut=>pt[vt](Et,ut)}},8750:(kn,Mt,V)=>{"use strict";V.d(Mt,{Tg:()=>at});var d=V(1635),o=V(7441),$=V(9858),be=V(1985),W=V(5055),Ce=V(7953),Re=V(591),Ge=V(5397),ft=V(5196),it=V(8071),Me=V(5334),Ct=V(3494);function at(we){if(we instanceof be.c)return we;if(null!=we){if((0,W.l)(we))return function et(we){return new be.c(xe=>{const Ne=we[Ct.s]();if((0,it.T)(Ne.subscribe))return Ne.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,o.X)(we))return function pt(we){return new be.c(xe=>{for(let Ne=0;Ne<we.length&&!xe.closed;Ne++)xe.next(we[Ne]);xe.complete()})}(we);if((0,$.y)(we))return function Et(we){return new be.c(xe=>{we.then(Ne=>{xe.closed||(xe.next(Ne),xe.complete())},Ne=>xe.error(Ne)).then(null,Me.m)})}(we);if((0,Ce.T)(we))return ut(we);if((0,Ge.x)(we))return function vt(we){return new be.c(xe=>{for(const Ne of we)if(xe.next(Ne),xe.closed)return;xe.complete()})}(we);if((0,ft.U)(we))return function Ot(we){return ut((0,ft.C)(we))}(we)}throw(0,Re.L)(we)}function ut(we){return new be.c(xe=>{(function St(we,xe){var Ne,st,ht,nt;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Ne=(0,d.xN)(we);!(st=yield Ne.next()).done;)if(xe.next(st.value),xe.closed)return}catch(fe){ht={error:fe}}finally{try{st&&!st.done&&(nt=Ne.return)&&(yield nt.call(Ne))}finally{if(ht)throw ht.error}}xe.complete()})})(we,xe).catch(Ne=>xe.error(Ne))})}},7673:(kn,Mt,V)=>{"use strict";V.d(Mt,{of:()=>$});var d=V(3794),o=V(8455);function $(...be){const W=(0,d.lI)(be);return(0,o.H)(be,W)}},4360:(kn,Mt,V)=>{"use strict";V.d(Mt,{_:()=>o});var d=V(7707);function o(be,W,Ce,Re,Ge){return new $(be,W,Ce,Re,Ge)}class $ extends d.vU{constructor(W,Ce,Re,Ge,ft,it){super(W),this.onFinalize=ft,this.shouldUnsubscribe=it,this._next=Ce?function(Me){try{Ce(Me)}catch(Ct){W.error(Ct)}}:super._next,this._error=Ge?function(Me){try{Ge(Me)}catch(Ct){W.error(Ct)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Me){W.error(Me)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},274:(kn,Mt,V)=>{"use strict";V.d(Mt,{H:()=>$});var d=V(1397),o=V(8071);function $(be,W){return(0,o.T)(W)?(0,d.Z)(be,W,1):(0,d.Z)(be,1)}},9901:(kn,Mt,V)=>{"use strict";V.d(Mt,{U:()=>$});var d=V(9974),o=V(4360);function $(be){return(0,d.N)((W,Ce)=>{let Re=!1;W.subscribe((0,o._)(Ce,Ge=>{Re=!0,Ce.next(Ge)},()=>{Re||Ce.next(be),Ce.complete()}))})}},3294:(kn,Mt,V)=>{"use strict";V.d(Mt,{F:()=>be});var d=V(3669),o=V(9974),$=V(4360);function be(Ce,Re=d.D){return Ce=null!=Ce?Ce:W,(0,o.N)((Ge,ft)=>{let it,Me=!0;Ge.subscribe((0,$._)(ft,Ct=>{const at=Re(Ct);(Me||!Ce(it,at))&&(Me=!1,it=at,ft.next(Ct))}))})}function W(Ce,Re){return Ce===Re}},5964:(kn,Mt,V)=>{"use strict";V.d(Mt,{p:()=>$});var d=V(9974),o=V(4360);function $(be,W){return(0,d.N)((Ce,Re)=>{let Ge=0;Ce.subscribe((0,o._)(Re,ft=>be.call(W,ft,Ge++)&&Re.next(ft)))})}},980:(kn,Mt,V)=>{"use strict";V.d(Mt,{j:()=>o});var d=V(9974);function o($){return(0,d.N)((be,W)=>{try{be.subscribe(W)}finally{W.add($)}})}},1594:(kn,Mt,V)=>{"use strict";V.d(Mt,{$:()=>Re});var d=V(9350),o=V(5964),$=V(6697),be=V(9901),W=V(3774),Ce=V(3669);function Re(Ge,ft){const it=arguments.length>=2;return Me=>Me.pipe(Ge?(0,o.p)((Ct,at)=>Ge(Ct,at,Me)):Ce.D,(0,$.s)(1),it?(0,be.U)(ft):(0,W.v)(()=>new d.G))}},6354:(kn,Mt,V)=>{"use strict";V.d(Mt,{T:()=>$});var d=V(9974),o=V(4360);function $(be,W){return(0,d.N)((Ce,Re)=>{let Ge=0;Ce.subscribe((0,o._)(Re,ft=>{Re.next(be.call(W,ft,Ge++))}))})}},6365:(kn,Mt,V)=>{"use strict";V.d(Mt,{U:()=>$});var d=V(1397),o=V(3669);function $(be=1/0){return(0,d.Z)(o.D,be)}},1397:(kn,Mt,V)=>{"use strict";V.d(Mt,{Z:()=>Ge});var d=V(6354),o=V(8750),$=V(9974),be=V(5225),W=V(4360),Re=V(8071);function Ge(ft,it,Me=1/0){return(0,Re.T)(it)?Ge((Ct,at)=>(0,d.T)((et,pt)=>it(Ct,et,at,pt))((0,o.Tg)(ft(Ct,at))),Me):("number"==typeof it&&(Me=it),(0,$.N)((Ct,at)=>function Ce(ft,it,Me,Ct,at,et,pt,Et){const vt=[];let ut=0,Ot=0,St=!1;const we=()=>{St&&!vt.length&&!ut&&it.complete()},xe=st=>ut<Ct?Ne(st):vt.push(st),Ne=st=>{et&&it.next(st),ut++;let ht=!1;(0,o.Tg)(Me(st,Ot++)).subscribe((0,W._)(it,nt=>{null==at||at(nt),et?xe(nt):it.next(nt)},()=>{ht=!0},void 0,()=>{if(ht)try{for(ut--;vt.length&&ut<Ct;){const nt=vt.shift();pt?(0,be.N)(it,pt,()=>Ne(nt)):Ne(nt)}we()}catch(nt){it.error(nt)}}))};return ft.subscribe((0,W._)(it,xe,()=>{St=!0,we()})),()=>{null==Et||Et()}}(Ct,at,ft,Me)))}},941:(kn,Mt,V)=>{"use strict";V.d(Mt,{Q:()=>be});var d=V(5225),o=V(9974),$=V(4360);function be(W,Ce=0){return(0,o.N)((Re,Ge)=>{Re.subscribe((0,$._)(Ge,ft=>(0,d.N)(Ge,W,()=>Ge.next(ft),Ce),()=>(0,d.N)(Ge,W,()=>Ge.complete(),Ce),ft=>(0,d.N)(Ge,W,()=>Ge.error(ft),Ce)))})}},2816:(kn,Mt,V)=>{"use strict";V.d(Mt,{S:()=>be});var d=V(9974),o=V(4360);function be(W,Ce){return(0,d.N)(function $(W,Ce,Re,Ge,ft){return(it,Me)=>{let Ct=Re,at=Ce,et=0;it.subscribe((0,o._)(Me,pt=>{const Et=et++;at=Ct?W(at,pt,Et):(Ct=!0,pt),Ge&&Me.next(at)},ft&&(()=>{Ct&&Me.next(at),Me.complete()})))}}(W,Ce,arguments.length>=2,!0))}},9172:(kn,Mt,V)=>{"use strict";V.d(Mt,{Z:()=>be});var d=V(8793),o=V(3794),$=V(9974);function be(...W){const Ce=(0,o.lI)(W);return(0,$.N)((Re,Ge)=>{(Ce?(0,d.x)(W,Re,Ce):(0,d.x)(W,Re)).subscribe(Ge)})}},6745:(kn,Mt,V)=>{"use strict";V.d(Mt,{_:()=>o});var d=V(9974);function o($,be=0){return(0,d.N)((W,Ce)=>{Ce.add($.schedule(()=>W.subscribe(Ce),be))})}},5558:(kn,Mt,V)=>{"use strict";V.d(Mt,{n:()=>be});var d=V(8750),o=V(9974),$=V(4360);function be(W,Ce){return(0,o.N)((Re,Ge)=>{let ft=null,it=0,Me=!1;const Ct=()=>Me&&!ft&&Ge.complete();Re.subscribe((0,$._)(Ge,at=>{null==ft||ft.unsubscribe();let et=0;const pt=it++;(0,d.Tg)(W(at,pt)).subscribe(ft=(0,$._)(Ge,Et=>Ge.next(Ce?Ce(at,Et,pt,et++):Et),()=>{ft=null,Ct()}))},()=>{Me=!0,Ct()}))})}},6697:(kn,Mt,V)=>{"use strict";V.d(Mt,{s:()=>be});var d=V(983),o=V(9974),$=V(4360);function be(W){return W<=0?()=>d.w:(0,o.N)((Ce,Re)=>{let Ge=0;Ce.subscribe((0,$._)(Re,ft=>{++Ge<=W&&(Re.next(ft),W<=Ge&&Re.complete())}))})}},8141:(kn,Mt,V)=>{"use strict";V.d(Mt,{M:()=>W});var d=V(8071),o=V(9974),$=V(4360),be=V(3669);function W(Ce,Re,Ge){const ft=(0,d.T)(Ce)||Re||Ge?{next:Ce,error:Re,complete:Ge}:Ce;return ft?(0,o.N)((it,Me)=>{var Ct;null===(Ct=ft.subscribe)||void 0===Ct||Ct.call(ft);let at=!0;it.subscribe((0,$._)(Me,et=>{var pt;null===(pt=ft.next)||void 0===pt||pt.call(ft,et),Me.next(et)},()=>{var et;at=!1,null===(et=ft.complete)||void 0===et||et.call(ft),Me.complete()},et=>{var pt;at=!1,null===(pt=ft.error)||void 0===pt||pt.call(ft,et),Me.error(et)},()=>{var et,pt;at&&(null===(et=ft.unsubscribe)||void 0===et||et.call(ft)),null===(pt=ft.finalize)||void 0===pt||pt.call(ft)}))}):be.D}},3774:(kn,Mt,V)=>{"use strict";V.d(Mt,{v:()=>be});var d=V(9350),o=V(9974),$=V(4360);function be(Ce=W){return(0,o.N)((Re,Ge)=>{let ft=!1;Re.subscribe((0,$._)(Ge,it=>{ft=!0,Ge.next(it)},()=>ft?Ge.complete():Ge.error(Ce())))})}function W(){return new d.G}},6780:(kn,Mt,V)=>{"use strict";V.d(Mt,{R:()=>W});var d=V(8359);class o extends d.yU{constructor(Re,Ge){super()}schedule(Re,Ge=0){return this}}const $={setInterval(Ce,Re,...Ge){const{delegate:ft}=$;return null!=ft&&ft.setInterval?ft.setInterval(Ce,Re,...Ge):setInterval(Ce,Re,...Ge)},clearInterval(Ce){const{delegate:Re}=$;return((null==Re?void 0:Re.clearInterval)||clearInterval)(Ce)},delegate:void 0};var be=V(7908);class W extends o{constructor(Re,Ge){super(Re,Ge),this.scheduler=Re,this.work=Ge,this.pending=!1}schedule(Re,Ge=0){var ft;if(this.closed)return this;this.state=Re;const it=this.id,Me=this.scheduler;return null!=it&&(this.id=this.recycleAsyncId(Me,it,Ge)),this.pending=!0,this.delay=Ge,this.id=null!==(ft=this.id)&&void 0!==ft?ft:this.requestAsyncId(Me,this.id,Ge),this}requestAsyncId(Re,Ge,ft=0){return $.setInterval(Re.flush.bind(Re,this),ft)}recycleAsyncId(Re,Ge,ft=0){if(null!=ft&&this.delay===ft&&!1===this.pending)return Ge;null!=Ge&&$.clearInterval(Ge)}execute(Re,Ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ft=this._execute(Re,Ge);if(ft)return ft;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,Ge){let it,ft=!1;try{this.work(Re)}catch(Me){ft=!0,it=Me||new Error("Scheduled action threw falsy error")}if(ft)return this.unsubscribe(),it}unsubscribe(){if(!this.closed){const{id:Re,scheduler:Ge}=this,{actions:ft}=Ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.o)(ft,this),null!=Re&&(this.id=this.recycleAsyncId(Ge,Re,null)),this.delay=null,super.unsubscribe()}}}},9687:(kn,Mt,V)=>{"use strict";V.d(Mt,{q:()=>$});var d=V(6129);class o{constructor(W,Ce=o.now){this.schedulerActionCtor=W,this.now=Ce}schedule(W,Ce=0,Re){return new this.schedulerActionCtor(this,W).schedule(Re,Ce)}}o.now=d.U.now;class $ extends o{constructor(W,Ce=o.now){super(W,Ce),this.actions=[],this._active=!1}flush(W){const{actions:Ce}=this;if(this._active)return void Ce.push(W);let Re;this._active=!0;do{if(Re=W.execute(W.state,W.delay))break}while(W=Ce.shift());if(this._active=!1,Re){for(;W=Ce.shift();)W.unsubscribe();throw Re}}}},3236:(kn,Mt,V)=>{"use strict";V.d(Mt,{E:()=>$});var d=V(6780);const $=new(V(9687).q)(d.R)},6129:(kn,Mt,V)=>{"use strict";V.d(Mt,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(kn,Mt,V)=>{"use strict";V.d(Mt,{f:()=>d});const d={setTimeout(o,$,...be){const{delegate:W}=d;return null!=W&&W.setTimeout?W.setTimeout(o,$,...be):setTimeout(o,$,...be)},clearTimeout(o){const{delegate:$}=d;return((null==$?void 0:$.clearTimeout)||clearTimeout)(o)},delegate:void 0}},4761:(kn,Mt,V)=>{"use strict";V.d(Mt,{l:()=>o});const o=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(kn,Mt,V)=>{"use strict";V.d(Mt,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(kn,Mt,V)=>{"use strict";V.d(Mt,{G:()=>o});const o=(0,V(1853).L)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(kn,Mt,V)=>{"use strict";V.d(Mt,{R0:()=>Ce,ms:()=>be,lI:()=>W});var d=V(8071);function $(Re){return Re[Re.length-1]}function be(Re){return(0,d.T)($(Re))?Re.pop():void 0}function W(Re){return function o(Re){return Re&&(0,d.T)(Re.schedule)}($(Re))?Re.pop():void 0}function Ce(Re,Ge){return"number"==typeof $(Re)?Re.pop():Ge}},3073:(kn,Mt,V)=>{"use strict";V.d(Mt,{D:()=>W});const{isArray:d}=Array,{getPrototypeOf:o,prototype:$,keys:be}=Object;function W(Re){if(1===Re.length){const Ge=Re[0];if(d(Ge))return{args:Ge,keys:null};if(function Ce(Re){return Re&&"object"==typeof Re&&o(Re)===$}(Ge)){const ft=be(Ge);return{args:ft.map(it=>Ge[it]),keys:ft}}}return{args:Re,keys:null}}},7908:(kn,Mt,V)=>{"use strict";function d(o,$){if(o){const be=o.indexOf($);0<=be&&o.splice(be,1)}}V.d(Mt,{o:()=>d})},1853:(kn,Mt,V)=>{"use strict";function d(o){const be=o(W=>{Error.call(W),W.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}V.d(Mt,{L:()=>d})},8496:(kn,Mt,V)=>{"use strict";function d(o,$){return o.reduce((be,W,Ce)=>(be[W]=$[Ce],be),{})}V.d(Mt,{e:()=>d})},9786:(kn,Mt,V)=>{"use strict";V.d(Mt,{Y:()=>$,l:()=>be});var d=V(1026);let o=null;function $(W){if(d.$.useDeprecatedSynchronousErrorHandling){const Ce=!o;if(Ce&&(o={errorThrown:!1,error:null}),W(),Ce){const{errorThrown:Re,error:Ge}=o;if(o=null,Re)throw Ge}}else W()}function be(W){d.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=W)}},5225:(kn,Mt,V)=>{"use strict";function d(o,$,be,W=0,Ce=!1){const Re=$.schedule(function(){be(),Ce?o.add(this.schedule(null,W)):this.unsubscribe()},W);if(o.add(Re),!Ce)return Re}V.d(Mt,{N:()=>d})},3669:(kn,Mt,V)=>{"use strict";function d(o){return o}V.d(Mt,{D:()=>d})},7441:(kn,Mt,V)=>{"use strict";V.d(Mt,{X:()=>d});const d=o=>o&&"number"==typeof o.length&&"function"!=typeof o},7953:(kn,Mt,V)=>{"use strict";V.d(Mt,{T:()=>o});var d=V(8071);function o($){return Symbol.asyncIterator&&(0,d.T)(null==$?void 0:$[Symbol.asyncIterator])}},8071:(kn,Mt,V)=>{"use strict";function d(o){return"function"==typeof o}V.d(Mt,{T:()=>d})},5055:(kn,Mt,V)=>{"use strict";V.d(Mt,{l:()=>$});var d=V(3494),o=V(8071);function $(be){return(0,o.T)(be[d.s])}},5397:(kn,Mt,V)=>{"use strict";V.d(Mt,{x:()=>$});var d=V(4761),o=V(8071);function $(be){return(0,o.T)(null==be?void 0:be[d.l])}},9858:(kn,Mt,V)=>{"use strict";V.d(Mt,{y:()=>o});var d=V(8071);function o($){return(0,d.T)(null==$?void 0:$.then)}},5196:(kn,Mt,V)=>{"use strict";V.d(Mt,{C:()=>$,U:()=>be});var d=V(1635),o=V(8071);function $(W){return(0,d.AQ)(this,arguments,function*(){const Re=W.getReader();try{for(;;){const{value:Ge,done:ft}=yield(0,d.N3)(Re.read());if(ft)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Ge)}}finally{Re.releaseLock()}})}function be(W){return(0,o.T)(null==W?void 0:W.getReader)}},9974:(kn,Mt,V)=>{"use strict";V.d(Mt,{N:()=>$,S:()=>o});var d=V(8071);function o(be){return(0,d.T)(null==be?void 0:be.lift)}function $(be){return W=>{if(o(W))return W.lift(function(Ce){try{return be(Ce,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(kn,Mt,V)=>{"use strict";V.d(Mt,{I:()=>be});var d=V(6354);const{isArray:o}=Array;function be(W){return(0,d.T)(Ce=>function $(W,Ce){return o(Ce)?W(...Ce):W(Ce)}(W,Ce))}},5343:(kn,Mt,V)=>{"use strict";function d(){}V.d(Mt,{l:()=>d})},1203:(kn,Mt,V)=>{"use strict";V.d(Mt,{F:()=>o,m:()=>$});var d=V(3669);function o(...be){return $(be)}function $(be){return 0===be.length?d.D:1===be.length?be[0]:function(Ce){return be.reduce((Re,Ge)=>Ge(Re),Ce)}}},5334:(kn,Mt,V)=>{"use strict";V.d(Mt,{m:()=>$});var d=V(1026),o=V(9270);function $(be){o.f.setTimeout(()=>{const{onUnhandledError:W}=d.$;if(!W)throw be;W(be)})}},591:(kn,Mt,V)=>{"use strict";function d(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Mt,{L:()=>d})},8996:(kn,Mt,V)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[6552,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function o($){if(!V.o(d,$))return Promise.resolve().then(()=>{var Ce=new Error("Cannot find module '"+$+"'");throw Ce.code="MODULE_NOT_FOUND",Ce});var be=d[$],W=be[0];return Promise.all(be.slice(1).map(V.e)).then(()=>V(W))}o.keys=()=>Object.keys(d),o.id=8996,kn.exports=o},177:(kn,Mt,V)=>{"use strict";V.d(Mt,{AJ:()=>an,MD:()=>ot,N0:()=>Ei,P9:()=>G,QT:()=>$,QX:()=>Di,Sm:()=>Et,Sq:()=>sr,T3:()=>Qo,VF:()=>W,Vy:()=>dn,Xr:()=>Wn,ZD:()=>be,_b:()=>ce,aZ:()=>ut,bT:()=>Ri,fw:()=>vt,hb:()=>et,hj:()=>ft,qQ:()=>Re,vh:()=>Ii});var d=V(4438);let o=null;function $(){return o}function be(R){var q;null!==(q=o)&&void 0!==q||(o=R)}class W{}const Re=new d.nKC("");let Ge=(()=>{var R;class q{historyGo(X){throw new Error("")}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275prov=d.jDH({token:R,factory:()=>(0,d.WQX)(it),providedIn:"platform"}),q})();const ft=new d.nKC("");let it=(()=>{var R;class q extends Ge{constructor(){super(),this._doc=(0,d.WQX)(Re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(X){const ue=$().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",X,!1),()=>ue.removeEventListener("popstate",X)}onHashChange(X){const ue=$().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",X,!1),()=>ue.removeEventListener("hashchange",X)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(X){this._location.pathname=X}pushState(X,ue,Qe){this._history.pushState(X,ue,Qe)}replaceState(X,ue,Qe){this._history.replaceState(X,ue,Qe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(X=0){this._history.go(X)}getState(){return this._history.state}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275prov=d.jDH({token:R,factory:()=>new R,providedIn:"platform"}),q})();function Me(R,q){if(0==R.length)return q;if(0==q.length)return R;let Ue=0;return R.endsWith("/")&&Ue++,q.startsWith("/")&&Ue++,2==Ue?R+q.substring(1):1==Ue?R+q:R+"/"+q}function Ct(R){const q=R.match(/#|\?|$/),Ue=q&&q.index||R.length;return R.slice(0,Ue-("/"===R[Ue-1]?1:0))+R.slice(Ue)}function at(R){return R&&"?"!==R[0]?"?"+R:R}let et=(()=>{var R;class q{historyGo(X){throw new Error("")}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275prov=d.jDH({token:R,factory:()=>(0,d.WQX)(Et),providedIn:"root"}),q})();const pt=new d.nKC("");let Et=(()=>{var R;class q extends et{constructor(X,ue){var Qe,ln,Dn;super(),this._platformLocation=X,this._removeListenerFns=[],this._baseHref=null!==(Qe=null!==(ln=null!=ue?ue:this._platformLocation.getBaseHrefFromDOM())&&void 0!==ln?ln:null===(Dn=(0,d.WQX)(Re).location)||void 0===Dn?void 0:Dn.origin)&&void 0!==Qe?Qe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}prepareExternalUrl(X){return Me(this._baseHref,X)}path(X=!1){const ue=this._platformLocation.pathname+at(this._platformLocation.search),Qe=this._platformLocation.hash;return Qe&&X?`${ue}${Qe}`:ue}pushState(X,ue,Qe,ln){const Dn=this.prepareExternalUrl(Qe+at(ln));this._platformLocation.pushState(X,ue,Dn)}replaceState(X,ue,Qe,ln){const Dn=this.prepareExternalUrl(Qe+at(ln));this._platformLocation.replaceState(X,ue,Dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var ue,Qe;null===(ue=(Qe=this._platformLocation).historyGo)||void 0===ue||ue.call(Qe,X)}}return(R=q).\u0275fac=function(X){return new(X||R)(d.KVO(Ge),d.KVO(pt,8))},R.\u0275prov=d.jDH({token:R,factory:R.\u0275fac,providedIn:"root"}),q})(),vt=(()=>{var R;class q extends et{constructor(X,ue){super(),this._platformLocation=X,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}path(X=!1){var ue;const Qe=null!==(ue=this._platformLocation.hash)&&void 0!==ue?ue:"#";return Qe.length>0?Qe.substring(1):Qe}prepareExternalUrl(X){const ue=Me(this._baseHref,X);return ue.length>0?"#"+ue:ue}pushState(X,ue,Qe,ln){let Dn=this.prepareExternalUrl(Qe+at(ln));0==Dn.length&&(Dn=this._platformLocation.pathname),this._platformLocation.pushState(X,ue,Dn)}replaceState(X,ue,Qe,ln){let Dn=this.prepareExternalUrl(Qe+at(ln));0==Dn.length&&(Dn=this._platformLocation.pathname),this._platformLocation.replaceState(X,ue,Dn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var ue,Qe;null===(ue=(Qe=this._platformLocation).historyGo)||void 0===ue||ue.call(Qe,X)}}return(R=q).\u0275fac=function(X){return new(X||R)(d.KVO(Ge),d.KVO(pt,8))},R.\u0275prov=d.jDH({token:R,factory:R.\u0275fac}),q})(),ut=(()=>{var R;class q{constructor(X){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=X;const ue=this._locationStrategy.getBaseHref();this._basePath=function xe(R){if(new RegExp("^(https?:)?//").test(R)){const[,Ue]=R.split(/\/\/[^\/]+/);return Ue}return R}(Ct(we(ue))),this._locationStrategy.onPopState(Qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Qe.state,type:Qe.type})})}ngOnDestroy(){var X;null===(X=this._urlChangeSubscription)||void 0===X||X.unsubscribe(),this._urlChangeListeners=[]}path(X=!1){return this.normalize(this._locationStrategy.path(X))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(X,ue=""){return this.path()==this.normalize(X+at(ue))}normalize(X){return q.stripTrailingSlash(function St(R,q){if(!R||!q.startsWith(R))return q;const Ue=q.substring(R.length);return""===Ue||["/",";","?","#"].includes(Ue[0])?Ue:q}(this._basePath,we(X)))}prepareExternalUrl(X){return X&&"/"!==X[0]&&(X="/"+X),this._locationStrategy.prepareExternalUrl(X)}go(X,ue="",Qe=null){this._locationStrategy.pushState(Qe,"",X,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+at(ue)),Qe)}replaceState(X,ue="",Qe=null){this._locationStrategy.replaceState(Qe,"",X,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+at(ue)),Qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(X=0){var ue,Qe;null===(ue=(Qe=this._locationStrategy).historyGo)||void 0===ue||ue.call(Qe,X)}onUrlChange(X){var ue;return this._urlChangeListeners.push(X),null!==(ue=this._urlChangeSubscription)&&void 0!==ue||(this._urlChangeSubscription=this.subscribe(Qe=>{this._notifyUrlChangeListeners(Qe.url,Qe.state)})),()=>{const Qe=this._urlChangeListeners.indexOf(X);var ln;this._urlChangeListeners.splice(Qe,1),0===this._urlChangeListeners.length&&(null===(ln=this._urlChangeSubscription)||void 0===ln||ln.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(X="",ue){this._urlChangeListeners.forEach(Qe=>Qe(X,ue))}subscribe(X,ue,Qe){return this._subject.subscribe({next:X,error:ue,complete:Qe})}}return(R=q).normalizeQueryParams=at,R.joinWithSlash=Me,R.stripTrailingSlash=Ct,R.\u0275fac=function(X){return new(X||R)(d.KVO(et))},R.\u0275prov=d.jDH({token:R,factory:()=>function Ot(){return new ut((0,d.KVO)(et))}(),providedIn:"root"}),q})();function we(R){return R.replace(/\/index.html$/,"")}var st=function(R){return R[R.Decimal=0]="Decimal",R[R.Percent=1]="Percent",R[R.Currency=2]="Currency",R[R.Scientific=3]="Scientific",R}(st||{}),nt=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(nt||{}),fe=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(fe||{}),gt=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}(gt||{});const mt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function se(R,q){return zt((0,d.H5H)(R)[d.KH2.DateFormat],q)}function Oe(R,q){return zt((0,d.H5H)(R)[d.KH2.TimeFormat],q)}function Ke(R,q){return zt((0,d.H5H)(R)[d.KH2.DateTimeFormat],q)}function tt(R,q){const Ue=(0,d.H5H)(R),X=Ue[d.KH2.NumberSymbols][q];if(typeof X>"u"){if(q===mt.CurrencyDecimal)return Ue[d.KH2.NumberSymbols][mt.Decimal];if(q===mt.CurrencyGroup)return Ue[d.KH2.NumberSymbols][mt.Group]}return X}function In(R){if(!R[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zt(R,q){for(let Ue=q;Ue>-1;Ue--)if(typeof R[Ue]<"u")return R[Ue];throw new Error("Locale data API: locale data undefined")}function Un(R){const[q,Ue]=R.split(":");return{hours:+q,minutes:+Ue}}const Ut=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ft={},tr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var or=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(or||{}),Hn=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(Hn||{}),Mn=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(Mn||{});function yr(R,q,Ue,X){let ue=function J(R){if(ne(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[ue,Qe=1,ln=1]=R.split("-").map(Dn=>+Dn);return ar(ue,Qe-1,ln)}const Ue=parseFloat(R);if(!isNaN(R-Ue))return new Date(Ue);let X;if(X=R.match(Ut))return function Q(R){const q=new Date(0);let Ue=0,X=0;const ue=R[8]?q.setUTCFullYear:q.setFullYear,Qe=R[8]?q.setUTCHours:q.setHours;R[9]&&(Ue=Number(R[9]+R[10]),X=Number(R[9]+R[11])),ue.call(q,Number(R[1]),Number(R[2])-1,Number(R[3]));const ln=Number(R[4]||0)-Ue,Dn=Number(R[5]||0)-X,Rr=Number(R[6]||0),ii=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return Qe.call(q,ln,Dn,Rr,ii),q}(X)}const q=new Date(R);if(!ne(q))throw new Error(`Unable to convert "${R}" into a date`);return q}(R);q=Qn(Ue,q)||q;let Dn,ln=[];for(;q;){if(Dn=tr.exec(q),!Dn){ln.push(q);break}{ln=ln.concat(Dn.slice(1));const vi=ln.pop();if(!vi)break;q=vi}}let Rr=ue.getTimezoneOffset();X&&(Rr=At(X,Rr),ue=function ct(R,q,Ue){const X=Ue?-1:1,ue=R.getTimezoneOffset();return function $e(R,q){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+q),R}(R,X*(At(q,ue)-ue))}(ue,X,!0));let ii="";return ln.forEach(vi=>{const Zr=function Yt(R){if(Rt[R])return Rt[R];let q;switch(R){case"G":case"GG":case"GGG":q=$n(Mn.Eras,fe.Abbreviated);break;case"GGGG":q=$n(Mn.Eras,fe.Wide);break;case"GGGGG":q=$n(Mn.Eras,fe.Narrow);break;case"y":q=wn(Hn.FullYear,1,0,!1,!0);break;case"yy":q=wn(Hn.FullYear,2,0,!0,!0);break;case"yyy":q=wn(Hn.FullYear,3,0,!1,!0);break;case"yyyy":q=wn(Hn.FullYear,4,0,!1,!0);break;case"Y":q=Xt(1);break;case"YY":q=Xt(2,!0);break;case"YYY":q=Xt(3);break;case"YYYY":q=Xt(4);break;case"M":case"L":q=wn(Hn.Month,1,1);break;case"MM":case"LL":q=wn(Hn.Month,2,1);break;case"MMM":q=$n(Mn.Months,fe.Abbreviated);break;case"MMMM":q=$n(Mn.Months,fe.Wide);break;case"MMMMM":q=$n(Mn.Months,fe.Narrow);break;case"LLL":q=$n(Mn.Months,fe.Abbreviated,nt.Standalone);break;case"LLLL":q=$n(Mn.Months,fe.Wide,nt.Standalone);break;case"LLLLL":q=$n(Mn.Months,fe.Narrow,nt.Standalone);break;case"w":q=En(1);break;case"ww":q=En(2);break;case"W":q=En(1,!0);break;case"d":q=wn(Hn.Date,1);break;case"dd":q=wn(Hn.Date,2);break;case"c":case"cc":q=wn(Hn.Day,1);break;case"ccc":q=$n(Mn.Days,fe.Abbreviated,nt.Standalone);break;case"cccc":q=$n(Mn.Days,fe.Wide,nt.Standalone);break;case"ccccc":q=$n(Mn.Days,fe.Narrow,nt.Standalone);break;case"cccccc":q=$n(Mn.Days,fe.Short,nt.Standalone);break;case"E":case"EE":case"EEE":q=$n(Mn.Days,fe.Abbreviated);break;case"EEEE":q=$n(Mn.Days,fe.Wide);break;case"EEEEE":q=$n(Mn.Days,fe.Narrow);break;case"EEEEEE":q=$n(Mn.Days,fe.Short);break;case"a":case"aa":case"aaa":q=$n(Mn.DayPeriods,fe.Abbreviated);break;case"aaaa":q=$n(Mn.DayPeriods,fe.Wide);break;case"aaaaa":q=$n(Mn.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":q=$n(Mn.DayPeriods,fe.Abbreviated,nt.Standalone,!0);break;case"bbbb":q=$n(Mn.DayPeriods,fe.Wide,nt.Standalone,!0);break;case"bbbbb":q=$n(Mn.DayPeriods,fe.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":q=$n(Mn.DayPeriods,fe.Abbreviated,nt.Format,!0);break;case"BBBB":q=$n(Mn.DayPeriods,fe.Wide,nt.Format,!0);break;case"BBBBB":q=$n(Mn.DayPeriods,fe.Narrow,nt.Format,!0);break;case"h":q=wn(Hn.Hours,1,-12);break;case"hh":q=wn(Hn.Hours,2,-12);break;case"H":q=wn(Hn.Hours,1);break;case"HH":q=wn(Hn.Hours,2);break;case"m":q=wn(Hn.Minutes,1);break;case"mm":q=wn(Hn.Minutes,2);break;case"s":q=wn(Hn.Seconds,1);break;case"ss":q=wn(Hn.Seconds,2);break;case"S":q=wn(Hn.FractionalSeconds,1);break;case"SS":q=wn(Hn.FractionalSeconds,2);break;case"SSS":q=wn(Hn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=Pn(or.Short);break;case"ZZZZZ":q=Pn(or.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=Pn(or.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=Pn(or.Long);break;default:return null}return Rt[R]=q,q}(vi);ii+=Zr?Zr(ue,Ue,Rr):"''"===vi?"'":vi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ii}function ar(R,q,Ue){const X=new Date(0);return X.setFullYear(R,q,Ue),X.setHours(0,0,0),X}function Qn(R,q){var Ue;const X=function Lt(R){return(0,d.H5H)(R)[d.KH2.LocaleId]}(R);if(null!==(Ue=Ft[X])&&void 0!==Ue||(Ft[X]={}),Ft[X][q])return Ft[X][q];let ue="";switch(q){case"shortDate":ue=se(R,gt.Short);break;case"mediumDate":ue=se(R,gt.Medium);break;case"longDate":ue=se(R,gt.Long);break;case"fullDate":ue=se(R,gt.Full);break;case"shortTime":ue=Oe(R,gt.Short);break;case"mediumTime":ue=Oe(R,gt.Medium);break;case"longTime":ue=Oe(R,gt.Long);break;case"fullTime":ue=Oe(R,gt.Full);break;case"short":const Qe=Qn(R,"shortTime"),ln=Qn(R,"shortDate");ue=nr(Ke(R,gt.Short),[Qe,ln]);break;case"medium":const Dn=Qn(R,"mediumTime"),Rr=Qn(R,"mediumDate");ue=nr(Ke(R,gt.Medium),[Dn,Rr]);break;case"long":const ii=Qn(R,"longTime"),vi=Qn(R,"longDate");ue=nr(Ke(R,gt.Long),[ii,vi]);break;case"full":const Zr=Qn(R,"fullTime"),Ni=Qn(R,"fullDate");ue=nr(Ke(R,gt.Full),[Zr,Ni])}return ue&&(Ft[X][q]=ue),ue}function nr(R,q){return q&&(R=R.replace(/\{([^}]+)}/g,function(Ue,X){return null!=q&&X in q?q[X]:Ue})),R}function fr(R,q,Ue="-",X,ue){let Qe="";(R<0||ue&&R<=0)&&(ue?R=1-R:(R=-R,Qe=Ue));let ln=String(R);for(;ln.length<q;)ln="0"+ln;return X&&(ln=ln.slice(ln.length-q)),Qe+ln}function wn(R,q,Ue=0,X=!1,ue=!1){return function(Qe,ln){let Dn=function Ar(R,q){switch(R){case Hn.FullYear:return q.getFullYear();case Hn.Month:return q.getMonth();case Hn.Date:return q.getDate();case Hn.Hours:return q.getHours();case Hn.Minutes:return q.getMinutes();case Hn.Seconds:return q.getSeconds();case Hn.FractionalSeconds:return q.getMilliseconds();case Hn.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,Qe);if((Ue>0||Dn>-Ue)&&(Dn+=Ue),R===Hn.Hours)0===Dn&&-12===Ue&&(Dn=12);else if(R===Hn.FractionalSeconds)return function Vr(R,q){return fr(R,3).substring(0,q)}(Dn,q);const Rr=tt(ln,mt.MinusSign);return fr(Dn,q,Rr,X,ue)}}function $n(R,q,Ue=nt.Format,X=!1){return function(ue,Qe){return function Ir(R,q,Ue,X,ue,Qe){switch(Ue){case Mn.Months:return function We(R,q,Ue){const X=(0,d.H5H)(R),Qe=zt([X[d.KH2.MonthsFormat],X[d.KH2.MonthsStandalone]],q);return zt(Qe,Ue)}(q,ue,X)[R.getMonth()];case Mn.Days:return function pn(R,q,Ue){const X=(0,d.H5H)(R),Qe=zt([X[d.KH2.DaysFormat],X[d.KH2.DaysStandalone]],q);return zt(Qe,Ue)}(q,ue,X)[R.getDay()];case Mn.DayPeriods:const ln=R.getHours(),Dn=R.getMinutes();if(Qe){const ii=function Ln(R){const q=(0,d.H5H)(R);return In(q),(q[d.KH2.ExtraData][2]||[]).map(X=>"string"==typeof X?Un(X):[Un(X[0]),Un(X[1])])}(q),vi=function qn(R,q,Ue){const X=(0,d.H5H)(R);In(X);const Qe=zt([X[d.KH2.ExtraData][0],X[d.KH2.ExtraData][1]],q)||[];return zt(Qe,Ue)||[]}(q,ue,X),Zr=ii.findIndex(Ni=>{if(Array.isArray(Ni)){const[li,Xi]=Ni,Ui=ln>=li.hours&&Dn>=li.minutes,hi=ln<Xi.hours||ln===Xi.hours&&Dn<Xi.minutes;if(li.hours<Xi.hours){if(Ui&&hi)return!0}else if(Ui||hi)return!0}else if(Ni.hours===ln&&Ni.minutes===Dn)return!0;return!1});if(-1!==Zr)return vi[Zr]}return function Vt(R,q,Ue){const X=(0,d.H5H)(R),Qe=zt([X[d.KH2.DayPeriodsFormat],X[d.KH2.DayPeriodsStandalone]],q);return zt(Qe,Ue)}(q,ue,X)[ln<12?0:1];case Mn.Eras:return function De(R,q){return zt((0,d.H5H)(R)[d.KH2.Eras],q)}(q,X)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Ue}`)}}(ue,Qe,R,q,Ue,X)}}function Pn(R){return function(q,Ue,X){const ue=-1*X,Qe=tt(Ue,mt.MinusSign),ln=ue>0?Math.floor(ue/60):Math.ceil(ue/60);switch(R){case or.Short:return(ue>=0?"+":"")+fr(ln,2,Qe)+fr(Math.abs(ue%60),2,Qe);case or.ShortGMT:return"GMT"+(ue>=0?"+":"")+fr(ln,1,Qe);case or.Long:return"GMT"+(ue>=0?"+":"")+fr(ln,2,Qe)+":"+fr(Math.abs(ue%60),2,Qe);case or.Extended:return 0===X?"Z":(ue>=0?"+":"")+fr(ln,2,Qe)+":"+fr(Math.abs(ue%60),2,Qe);default:throw new Error(`Unknown zone width "${R}"`)}}}const Ai=0,ir=4;function Er(R){const q=R.getDay(),Ue=0===q?-3:ir-q;return ar(R.getFullYear(),R.getMonth(),R.getDate()+Ue)}function En(R,q=!1){return function(Ue,X){let ue;if(q){const Qe=new Date(Ue.getFullYear(),Ue.getMonth(),1).getDay()-1,ln=Ue.getDate();ue=1+Math.floor((ln+Qe)/7)}else{const Qe=Er(Ue),ln=function _r(R){const q=ar(R,Ai,1).getDay();return ar(R,0,1+(q<=ir?ir:ir+7)-q)}(Qe.getFullYear()),Dn=Qe.getTime()-ln.getTime();ue=1+Math.round(Dn/6048e5)}return fr(ue,R,tt(X,mt.MinusSign))}}function Xt(R,q=!1){return function(Ue,X){return fr(Er(Ue).getFullYear(),R,tt(X,mt.MinusSign),q)}}const Rt={};function At(R,q){R=R.replace(/:/g,"");const Ue=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(Ue)?q:Ue}function ne(R){return R instanceof Date&&!isNaN(R.valueOf())}const ke=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Dr(R){const q=parseInt(R);if(isNaN(q))throw new Error("Invalid integer literal when parsing "+R);return q}function ce(R,q){q=encodeURIComponent(q);for(const Ue of R.split(";")){const X=Ue.indexOf("="),[ue,Qe]=-1==X?[Ue,""]:[Ue.slice(0,X),Ue.slice(X+1)];if(ue.trim()===q)return decodeURIComponent(Qe)}return null}class Sr{constructor(q,Ue,X,ue){this.$implicit=q,this.ngForOf=Ue,this.index=X,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sr=(()=>{var R;class q{set ngForOf(X){this._ngForOf=X,this._ngForOfDirty=!0}set ngForTrackBy(X){this._trackByFn=X}get ngForTrackBy(){return this._trackByFn}constructor(X,ue,Qe){this._viewContainer=X,this._template=ue,this._differs=Qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(X){X&&(this._template=X)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const X=this._ngForOf;!this._differ&&X&&(this._differ=this._differs.find(X).create(this.ngForTrackBy))}if(this._differ){const X=this._differ.diff(this._ngForOf);X&&this._applyChanges(X)}}_applyChanges(X){const ue=this._viewContainer;X.forEachOperation((Qe,ln,Dn)=>{if(null==Qe.previousIndex)ue.createEmbeddedView(this._template,new Sr(Qe.item,this._ngForOf,-1,-1),null===Dn?void 0:Dn);else if(null==Dn)ue.remove(null===ln?void 0:ln);else if(null!==ln){const Rr=ue.get(ln);ue.move(Rr,Dn),Hi(Rr,Qe)}});for(let Qe=0,ln=ue.length;Qe<ln;Qe++){const Rr=ue.get(Qe).context;Rr.index=Qe,Rr.count=ln,Rr.ngForOf=this._ngForOf}X.forEachIdentityChange(Qe=>{Hi(ue.get(Qe.currentIndex),Qe)})}static ngTemplateContextGuard(X,ue){return!0}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},R.\u0275dir=d.FsC({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Hi(R,q){R.context.$implicit=q.item}let Ri=(()=>{var R;class q{constructor(X,ue){this._viewContainer=X,this._context=new ji,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(X){this._context.$implicit=this._context.ngIf=X,this._updateView()}set ngIfThen(X){Co("ngIfThen",X),this._thenTemplateRef=X,this._thenViewRef=null,this._updateView()}set ngIfElse(X){Co("ngIfElse",X),this._elseTemplateRef=X,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(X,ue){return!0}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.c1b),d.rXU(d.C4Q))},R.\u0275dir=d.FsC({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class ji{constructor(){this.$implicit=null,this.ngIf=null}}function Co(R,q){if(q&&!q.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,d.Tbb)(q)}'.`)}let Qo=(()=>{var R;class q{constructor(X){this._viewContainerRef=X,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(X){if(this._shouldRecreateView(X)){var ue;const Qe=this._viewContainerRef;if(this._viewRef&&Qe.remove(Qe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const ln=this._createContextForwardProxy();this._viewRef=Qe.createEmbeddedView(this.ngTemplateOutlet,ln,{injector:null!==(ue=this.ngTemplateOutletInjector)&&void 0!==ue?ue:void 0})}}_shouldRecreateView(X){return!!X.ngTemplateOutlet||!!X.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(X,ue,Qe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ue,Qe),get:(X,ue,Qe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ue,Qe)}})}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.c1b))},R.\u0275dir=d.FsC({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),q})();function Xr(R,q){return new d.wOt(2100,!1)}const Xs=new d.nKC(""),mi=new d.nKC("");let Ii=(()=>{var R;class q{constructor(X,ue,Qe){this.locale=X,this.defaultTimezone=ue,this.defaultOptions=Qe}transform(X,ue,Qe,ln){if(null==X||""===X||X!=X)return null;try{var Dn,Rr,ii,vi,Zr;const Ni=null!==(Dn=null!=ue?ue:null===(Rr=this.defaultOptions)||void 0===Rr?void 0:Rr.dateFormat)&&void 0!==Dn?Dn:"mediumDate",li=null!==(ii=null!==(vi=null!=Qe?Qe:null===(Zr=this.defaultOptions)||void 0===Zr?void 0:Zr.timezone)&&void 0!==vi?vi:this.defaultTimezone)&&void 0!==ii?ii:void 0;return yr(X,Ni,ln||this.locale,li)}catch(Ni){throw Xr()}}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.xe9,16),d.rXU(Xs,24),d.rXU(mi,24))},R.\u0275pipe=d.EJ8({name:"date",type:R,pure:!0,standalone:!0}),q})(),Di=(()=>{var R;class q{constructor(X){this._locale=X}transform(X,ue,Qe){if(!function O(R){return!(null==R||""===R||R!=R)}(X))return null;Qe||(Qe=this._locale);try{return function Gr(R,q,Ue){return function bn(R,q,Ue,X,ue,Qe,ln=!1){let Dn="",Rr=!1;if(isFinite(R)){let ii=function xr(R){let X,ue,Qe,ln,Dn,q=Math.abs(R)+"",Ue=0;for((ue=q.indexOf("."))>-1&&(q=q.replace(".","")),(Qe=q.search(/e/i))>0?(ue<0&&(ue=Qe),ue+=+q.slice(Qe+1),q=q.substring(0,Qe)):ue<0&&(ue=q.length),Qe=0;"0"===q.charAt(Qe);Qe++);if(Qe===(Dn=q.length))X=[0],ue=1;else{for(Dn--;"0"===q.charAt(Dn);)Dn--;for(ue-=Qe,X=[],ln=0;Qe<=Dn;Qe++,ln++)X[ln]=Number(q.charAt(Qe))}return ue>22&&(X=X.splice(0,21),Ue=ue-1,ue=1),{digits:X,exponent:Ue,integerLen:ue}}(R);ln&&(ii=function gi(R){if(0===R.digits[0])return R;const q=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===q?R.digits.push(0,0):1===q&&R.digits.push(0),R.integerLen+=2),R}(ii));let vi=q.minInt,Zr=q.minFrac,Ni=q.maxFrac;if(Qe){const ur=Qe.match(ke);if(null===ur)throw new Error(`${Qe} is not a valid digit info`);const qi=ur[1],Mo=ur[3],zi=ur[5];null!=qi&&(vi=Dr(qi)),null!=Mo&&(Zr=Dr(Mo)),null!=zi?Ni=Dr(zi):null!=Mo&&Zr>Ni&&(Ni=Zr)}!function Wi(R,q,Ue){if(q>Ue)throw new Error(`The minimum number of digits after fraction (${q}) is higher than the maximum (${Ue}).`);let X=R.digits,ue=X.length-R.integerLen;const Qe=Math.min(Math.max(q,ue),Ue);let ln=Qe+R.integerLen,Dn=X[ln];if(ln>0){X.splice(Math.max(R.integerLen,ln));for(let Zr=ln;Zr<X.length;Zr++)X[Zr]=0}else{ue=Math.max(0,ue),R.integerLen=1,X.length=Math.max(1,ln=Qe+1),X[0]=0;for(let Zr=1;Zr<ln;Zr++)X[Zr]=0}if(Dn>=5)if(ln-1<0){for(let Zr=0;Zr>ln;Zr--)X.unshift(0),R.integerLen++;X.unshift(1),R.integerLen++}else X[ln-1]++;for(;ue<Math.max(0,Qe);ue++)X.push(0);let Rr=0!==Qe;const ii=q+R.integerLen,vi=X.reduceRight(function(Zr,Ni,li,Xi){return Xi[li]=(Ni+=Zr)<10?Ni:Ni-10,Rr&&(0===Xi[li]&&li>=ii?Xi.pop():Rr=!1),Ni>=10?1:0},0);vi&&(X.unshift(vi),R.integerLen++)}(ii,Zr,Ni);let li=ii.digits,Xi=ii.integerLen;const Ui=ii.exponent;let hi=[];for(Rr=li.every(ur=>!ur);Xi<vi;Xi++)li.unshift(0);for(;Xi<0;Xi++)li.unshift(0);Xi>0?hi=li.splice(Xi,li.length):(hi=li,li=[0]);const Nn=[];for(li.length>=q.lgSize&&Nn.unshift(li.splice(-q.lgSize,li.length).join(""));li.length>q.gSize;)Nn.unshift(li.splice(-q.gSize,li.length).join(""));li.length&&Nn.unshift(li.join("")),Dn=Nn.join(tt(Ue,X)),hi.length&&(Dn+=tt(Ue,ue)+hi.join("")),Ui&&(Dn+=tt(Ue,mt.Exponential)+"+"+Ui)}else Dn=tt(Ue,mt.Infinity);return Dn=R<0&&!Rr?q.negPre+Dn+q.negSuf:q.posPre+Dn+q.posSuf,Dn}(R,function Li(R,q="-"){const Ue={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=R.split(";"),ue=X[0],Qe=X[1],ln=-1!==ue.indexOf(".")?ue.split("."):[ue.substring(0,ue.lastIndexOf("0")+1),ue.substring(ue.lastIndexOf("0")+1)],Dn=ln[0],Rr=ln[1]||"";Ue.posPre=Dn.substring(0,Dn.indexOf("#"));for(let vi=0;vi<Rr.length;vi++){const Zr=Rr.charAt(vi);"0"===Zr?Ue.minFrac=Ue.maxFrac=vi+1:"#"===Zr?Ue.maxFrac=vi+1:Ue.posSuf+=Zr}const ii=Dn.split(",");if(Ue.gSize=ii[1]?ii[1].length:0,Ue.lgSize=ii[2]||ii[1]?(ii[2]||ii[1]).length:0,Qe){const vi=ue.length-Ue.posPre.length-Ue.posSuf.length,Zr=Qe.indexOf("#");Ue.negPre=Qe.substring(0,Zr).replace(/'/g,""),Ue.negSuf=Qe.slice(Zr+vi).replace(/'/g,"")}else Ue.negPre=q+Ue.posPre,Ue.negSuf=Ue.posSuf;return Ue}(function He(R,q){return(0,d.H5H)(R)[d.KH2.NumberFormats][q]}(q,st.Decimal),tt(q,mt.MinusSign)),q,mt.Group,mt.Decimal,Ue)}(function A(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(X),Qe,ue)}catch(ln){throw Xr()}}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.xe9,16))},R.\u0275pipe=d.EJ8({name:"number",type:R,pure:!0,standalone:!0}),q})();let G=(()=>{var R;class q{transform(X,ue,Qe){if(null==X)return null;if(!this.supports(X))throw Xr();return X.slice(ue,Qe)}supports(X){return"string"==typeof X||Array.isArray(X)}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275pipe=d.EJ8({name:"slice",type:R,pure:!1,standalone:!0}),q})(),ot=(()=>{var R;class q{}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275mod=d.$C({type:R}),R.\u0275inj=d.G2t({}),q})();const an="browser",Tt="server";function dn(R){return R===Tt}let Wn=(()=>{var R;class q{}return(R=q).\u0275prov=(0,d.jDH)({token:R,providedIn:"root",factory:()=>function qt(R){return R===an}((0,d.WQX)(d.Agw))?new er((0,d.WQX)(Re),window):new zr}),q})();class er{constructor(q,Ue){this.document=q,this.window=Ue,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(q){this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){const Ue=function lr(R,q){const Ue=R.getElementById(q)||R.getElementsByName(q)[0];if(Ue)return Ue;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const X=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ue=X.currentNode;for(;ue;){const Qe=ue.shadowRoot;if(Qe){const ln=Qe.getElementById(q)||Qe.querySelector(`[name="${q}"]`);if(ln)return ln}ue=X.nextNode()}}return null}(this.document,q);Ue&&(this.scrollToElement(Ue),Ue.focus())}setHistoryScrollRestoration(q){this.window.history.scrollRestoration=q}scrollToElement(q){const Ue=q.getBoundingClientRect(),X=Ue.left+this.window.pageXOffset,ue=Ue.top+this.window.pageYOffset,Qe=this.offset();this.window.scrollTo(X-Qe[0],ue-Qe[1])}}class zr{setOffset(q){}getScrollPosition(){return[0,0]}scrollToPosition(q){}scrollToAnchor(q){}setHistoryScrollRestoration(q){}}class Ei{}},4438:(kn,Mt,V)=>{"use strict";function d(e,t){return Object.is(e,t)}V.d(Mt,{iLQ:()=>c0,sZ2:()=>ah,hnV:()=>WT,Hbi:()=>n1,o8S:()=>td,BIS:()=>rm,gRc:()=>lw,Ql9:()=>AP,Ocv:()=>PP,Z63:()=>pe,aKT:()=>ih,uvJ:()=>Ho,zcH:()=>tc,bkB:()=>Wo,$GK:()=>Nr,nKC:()=>sr,zZn:()=>Kt,_q3:()=>YE,MKu:()=>JE,xe9:()=>zE,Co$:()=>Kb,Vns:()=>jf,SKi:()=>fo,Xx1:()=>Ei,Agw:()=>yp,PLl:()=>vp,sFG:()=>Dy,_9s:()=>Vd,czy:()=>Lp,kdw:()=>ui,C4Q:()=>Cf,NYb:()=>_P,giA:()=>GT,xvI:()=>zM,RxE:()=>LT,c1b:()=>$f,gXe:()=>An,mal:()=>jy,L39:()=>N1,EWP:()=>k1,a0P:()=>j1,Ol2:()=>WI,w6W:()=>dD,oH4:()=>iw,SmG:()=>$P,Rfq:()=>At,WQX:()=>Tt,naY:()=>BP,QuC:()=>ks,EmA:()=>Fa,fpN:()=>t1,HJs:()=>H1,N4e:()=>Va,vPA:()=>Sb,O8t:()=>F1,H3F:()=>VT,H8p:()=>Bl,KH2:()=>Og,TgB:()=>Ci,wOt:()=>Ft,WHO:()=>jT,e01:()=>HT,H5H:()=>vE,Zy3:()=>tr,mq5:()=>JC,JZv:()=>Pn,LfX:()=>he,plB:()=>Qu,jNT:()=>$E,zjR:()=>zT,TL$:()=>nm,Tbb:()=>En,Vt3:()=>jI,GFd:()=>Wb,OA$:()=>ul,Jv_:()=>sT,aNF:()=>aT,R7$:()=>Um,BMQ:()=>oE,AVh:()=>dE,wni:()=>OA,VBU:()=>Vi,FsC:()=>ka,jDH:()=>Dr,G2t:()=>Ae,$C:()=>na,EJ8:()=>yo,rXU:()=>Uu,nrm:()=>mE,eu8:()=>_E,bVm:()=>Yy,qex:()=>Qy,k0s:()=>qy,j41:()=>Xy,RV6:()=>qC,xGo:()=>Lg,KVO:()=>ot,kS0:()=>Bc,QTQ:()=>jv,bIt:()=>EE,lsd:()=>LA,XpG:()=>CA,nI1:()=>_T,bMT:()=>vT,i5U:()=>yT,brH:()=>IT,SdG:()=>TA,NAR:()=>AA,Y8G:()=>cE,FS9:()=>CE,Mz_:()=>n0,lJ4:()=>uT,eq3:()=>dT,mGM:()=>FA,sdS:()=>VA,Njj:()=>ou,eBV:()=>Fc,B4B:()=>Rp,n$t:()=>Td,DNE:()=>XI,C5r:()=>ET,EFF:()=>XA,JRh:()=>TE,SpI:()=>r0,Lme:()=>wE,E5c:()=>DE,DH7:()=>nT,mxI:()=>RE,R50:()=>SE,GBs:()=>kA});let o=null,$=!1,be=1;const W=Symbol("SIGNAL");function Ce(e){const t=o;return o=e,t}const it={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Me(e){if($)throw new Error("");if(null===o)return;o.consumerOnSignalRead(e);const t=o.nextProducerIndex++;st(o),t<o.producerNode.length&&o.producerNode[t]!==e&&Ne(o)&&xe(o.producerNode[t],o.producerIndexOfThis[t]),o.producerNode[t]!==e&&(o.producerNode[t]=e,o.producerIndexOfThis[t]=Ne(o)?we(e,o,t):0),o.producerLastReadVersion[t]=e.version}function at(e){if((!Ne(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==be)){if(!e.producerMustRecompute(e)&&!Ot(e))return e.dirty=!1,void(e.lastCleanEpoch=be);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=be}}function et(e){if(void 0===e.liveConsumerNode)return;const t=$;$=!0;try{for(const r of e.liveConsumerNode)r.dirty||Et(r)}finally{$=t}}function pt(){var e;return!1!==(null===(e=o)||void 0===e?void 0:e.consumerAllowSignalWrites)}function Et(e){var t;e.dirty=!0,et(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function vt(e){return e&&(e.nextProducerIndex=0),Ce(e)}function ut(e,t){if(Ce(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ne(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)xe(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ot(e){st(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==r.version||(at(r),s!==r.version))return!0}return!1}function St(e){if(st(e),Ne(e))for(let t=0;t<e.producerNode.length;t++)xe(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function we(e,t,r){if(ht(e),0===e.liveConsumerNode.length&&nt(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=we(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function xe(e,t){if(ht(e),1===e.liveConsumerNode.length&&nt(e))for(let s=0;s<e.producerNode.length;s++)xe(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];st(l),l.producerIndexOfThis[s]=t}}function Ne(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function st(e){var t,r,s;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(s=e.producerLastReadVersion)&&void 0!==s||(e.producerLastReadVersion=[])}function ht(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function nt(e){return void 0!==e.producerNode}const gt=Symbol("UNSET"),mt=Symbol("COMPUTING"),Ze=Symbol("ERRORED"),Lt={...it,value:gt,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===gt||e.value===mt,producerRecomputeValue(e){if(e.value===mt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=mt;const r=vt(e);let s;try{s=e.computation()}catch(l){s=Ze,e.error=l}finally{ut(e,r)}t!==gt&&t!==Ze&&s!==Ze&&e.equal(t,s)?e.value=t:(e.value=s,e.version++)}};let pn=function Vt(){throw new Error};function We(){pn()}let _e=null;function Ke(e,t){pt()||We(),e.equal(e.value,t)||(e.value=t,function yt(e){var t;e.version++,function Ct(){be++}(),et(e),null===(t=_e)||void 0===t||t()}(e))}const lt={...it,equal:d,value:void 0};var Un,Fe,Ln=V(4412),qn=V(1413),en=V(8359),zt=V(6354);const Ut="https://g.co/ng/security#xss";class Ft extends Error{constructor(t,r){super(tr(t,r)),this.code=t}}function tr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Qn(e){return{toString:e}.toString()}const fr="__parameters__";function $n(e,t,r){return Qn(()=>{const s=function Ar(e){return function(...r){if(e){const s=e(...r);for(const l in s)this[l]=s[l]}}}(t);function l(...h){if(this instanceof l)return s.apply(this,h),this;const g=new l(...h);return I.annotation=g,I;function I(S,z,ee){const de=S.hasOwnProperty(fr)?S[fr]:Object.defineProperty(S,fr,{value:[]})[fr];for(;de.length<=ee;)de.push(null);return(de[ee]=de[ee]||[]).push(g),S}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Pn=globalThis;function _r(e){for(let t in e)if(e[t]===_r)return t;throw Error("Could not find renamed property on target object.")}function Er(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function En(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(En).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Xt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Yt=_r({__forward_ref__:_r});function At(e){return e.__forward_ref__=At,e.toString=function(){return En(this())},e}function $e(e){return ct(e)?e():e}function ct(e){return"function"==typeof e&&e.hasOwnProperty(Yt)&&e.__forward_ref__===At}function Dr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ae(e){return{providers:e.providers||[],imports:e.imports||[]}}function wt(e){return ce(e,gn)||ce(e,Yn)}function he(e){return null!==wt(e)}function ce(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qt(e){return e&&(e.hasOwnProperty(On)||e.hasOwnProperty(Sr))?e[On]:null}const gn=_r({\u0275prov:_r}),On=_r({\u0275inj:_r}),Yn=_r({ngInjectableDef:_r}),Sr=_r({ngInjectorDef:_r});class sr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Dr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qo(e){return e&&!!e.\u0275providers}const Ji=_r({\u0275cmp:_r}),jo=_r({\u0275dir:_r}),ns=_r({\u0275pipe:_r}),Qo=_r({\u0275mod:_r}),go=_r({\u0275fac:_r}),Xr=_r({__NG_ELEMENT_ID__:_r}),fs=_r({__NG_ENV_ID__:_r});function jn(e){return"string"==typeof e?e:null==e?"":String(e)}function No(e,t){throw new Ft(-201,!1)}var Nr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Nr||{});let Xs;function mi(){return Xs}function Ii(e){const t=Xs;return Xs=e,t}function Pi(e,t,r){const s=wt(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Nr.Optional?null:void 0!==t?t:void No()}const co={},ni="__NG_DI_FLAG__",rs="ngTempTokenPath",Di=/\n/gm,E="__source";let O;function G(e){const t=O;return O=e,t}function ae(e,t=Nr.Default){if(void 0===O)throw new Ft(-203,!1);return null===O?Pi(e,void 0,t):O.get(e,t&Nr.Optional?null:void 0,t)}function ot(e,t=Nr.Default){return(mi()||ae)($e(e),t)}function Tt(e,t=Nr.Default){return ot(e,qt(t))}function qt(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function dn(e){const t=[];for(let r=0;r<e.length;r++){const s=$e(e[r]);if(Array.isArray(s)){if(0===s.length)throw new Ft(900,!1);let l,h=Nr.Default;for(let g=0;g<s.length;g++){const I=s[g],S=Wn(I);"number"==typeof S?-1===S?l=I.token:h|=S:l=I}t.push(ot(l,h))}else t.push(ot(s))}return t}function xn(e,t){return e[ni]=t,e.prototype[ni]=t,e}function Wn(e){return e[ni]}const Ei=xn($n("Optional"),8),ui=xn($n("SkipSelf"),4);function uo(e,t){return e.hasOwnProperty(go)?e[go]:null}function _o(e,t){e.forEach(r=>Array.isArray(r)?_o(r,t):t(r))}function is(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function bs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ri(e,t,r){let s=Os(e,t);return s>=0?e[1|s]=r:(s=~s,function vo(e,t,r,s){let l=e.length;if(l==t)e.push(r,s);else if(1===l)e.push(s,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=r,e[t+1]=s}}(e,s,t,r)),s}function ta(e,t){const r=Os(e,t);if(r>=0)return e[1|r]}function Os(e,t){return function Cs(e,t,r){let s=0,l=e.length>>r;for(;l!==s;){const h=s+(l-s>>1),g=e[h<<r];if(t===g)return h<<r;g>t?l=h:s=h+1}return~(l<<r)}(e,t,1)}const Or={},Wr=[],pe=new sr(""),qe=new sr("",-1),Ht=new sr("");class yn{get(t,r=co){if(r===co){const s=new Error(`NullInjectorError: No provider for ${En(t)}!`);throw s.name="NullInjectorError",s}return r}}var Kn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kn||{}),An=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(An||{}),Jn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Jn||{});function $i(e,t,r){let s=e.length;for(;;){const l=e.indexOf(t,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const h=t.length;if(l+h===s||e.charCodeAt(l+h)<=32)return l}r=l+1}}function Zi(e,t,r){let s=0;for(;s<r.length;){const l=r[s];if("number"==typeof l){if(0!==l)break;s++;const h=r[s++],g=r[s++],I=r[s++];e.setAttribute(t,g,I,h)}else{const h=l,g=r[++s];ss(h)?e.setProperty(t,h,g):e.setAttribute(t,h,g),s++}}return s}function to(e){return 3===e||4===e||6===e}function ss(e){return 64===e.charCodeAt(0)}function ai(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){const l=t[s];"number"==typeof l?r=l:0===r||Na(e,r,l,null,-1===r||2===r?t[++s]:null)}}return e}function Na(e,t,r,s,l){let h=0,g=e.length;if(-1===t)g=-1;else for(;h<e.length;){const I=e[h++];if("number"==typeof I){if(I===t){g=-1;break}if(I>t){g=h-1;break}}}for(;h<e.length;){const I=e[h];if("number"==typeof I)break;if(I===r){if(null===s)return void(null!==l&&(e[h+1]=l));if(s===e[h+1])return void(e[h+2]=l)}h++,null!==s&&h++,null!==l&&h++}-1!==g&&(e.splice(g,0,t),h=g+1),e.splice(h++,0,r),null!==s&&e.splice(h++,0,s),null!==l&&e.splice(h++,0,l)}const Oa="ng-template";function _i(e,t,r,s){let l=0;if(s){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==$i(t[l+1].toLowerCase(),r,0))return!0}else if(As(e))return!1;if(l=t.indexOf(1,l),l>-1){let h;for(;++l<t.length&&"string"==typeof(h=t[l]);)if(h.toLowerCase()===r)return!0}return!1}function As(e){return 4===e.type&&e.value!==Oa}function Ul(e,t,r){return t===(4!==e.type||r?e.value:Oa)}function sc(e,t,r){let s=4;const l=e.attrs,h=null!==l?function L(e){for(let t=0;t<e.length;t++)if(to(e[t]))return t;return e.length}(l):0;let g=!1;for(let I=0;I<t.length;I++){const S=t[I];if("number"!=typeof S){if(!g)if(4&s){if(s=2|1&s,""!==S&&!Ul(e,S,r)||""===S&&1===t.length){if(as(s))return!1;g=!0}}else if(8&s){if(null===l||!_i(e,l,S,r)){if(as(s))return!1;g=!0}}else{const z=t[++I],ee=Jo(S,l,As(e),r);if(-1===ee){if(as(s))return!1;g=!0;continue}if(""!==z){let de;if(de=ee>h?"":l[ee+1].toLowerCase(),2&s&&z!==de){if(as(s))return!1;g=!0}}}}else{if(!g&&!as(s)&&!as(S))return!1;if(g&&as(S))continue;g=!1,s=S|1&s}}return as(s)||g}function as(e){return!(1&e)}function Jo(e,t,r,s){if(null===t)return-1;let l=0;if(s||!r){let h=!1;for(;l<t.length;){const g=t[l];if(g===e)return l;if(3===g||6===g)h=!0;else{if(1===g||2===g){let I=t[++l];for(;"string"==typeof I;)I=t[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=h?1:2}return-1}return function le(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===t)return r;r++}return-1}(t,e)}function ya(e,t,r=!1){for(let s=0;s<t.length;s++)if(sc(e,t[s],r))return!0;return!1}function K(e,t){e:for(let r=0;r<t.length;r++){const s=t[r];if(e.length===s.length){for(let l=0;l<e.length;l++)if(e[l]!==s[l])continue e;return!0}}return!1}function ye(e,t){return e?":not("+t.trim()+")":t}function _n(e){let t=e[0],r=1,s=2,l="",h=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&s){const I=e[++r];l+="["+g+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?l+="."+g:4&s&&(l+=" "+g);else""!==l&&!as(g)&&(t+=ye(h,l),l=""),s=g,h=h||!as(s);r++}return""!==l&&(t+=ye(h,l)),t}function Vi(e){return Qn(()=>{var t;const r=za(e),s={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||An.Emulated,styles:e.styles||Wr,_:null,schemas:e.schemas||null,tView:null,id:""};ra(s);const l=e.dependencies;return s.directiveDefs=ms(l,!1),s.pipeDefs=ms(l,!0),s.id=function sl(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of r)t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(s),s})}function io(e){return Pr(e)||Ti(e)}function wo(e){return null!==e}function na(e){return Qn(()=>({type:e.type,bootstrap:e.bootstrap||Wr,declarations:e.declarations||Wr,imports:e.imports||Wr,exports:e.exports||Wr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gs(e,t){if(null==e)return Or;const r={};for(const l in e)if(e.hasOwnProperty(l)){const h=e[l];let g,I,S=Jn.None;var s;Array.isArray(h)?(S=h[0],g=h[1],I=null!==(s=h[2])&&void 0!==s?s:g):(g=h,I=h),t?(r[g]=S!==Jn.None?[l,S]:l,t[g]=I):r[g]=l}return r}function ka(e){return Qn(()=>{const t=za(e);return ra(t),t})}function yo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pr(e){return e[Ji]||null}function Ti(e){return e[jo]||null}function Ki(e){return e[ns]||null}function ks(e){const t=Pr(e)||Ti(e)||Ki(e);return null!==t&&t.standalone}function Io(e,t){const r=e[Qo]||null;if(!r&&!0===t)throw new Error(`Type ${En(e)} does not have '\u0275mod' property.`);return r}function za(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Or,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Wr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gs(e.inputs,t),outputs:gs(e.outputs),debugInfo:null}}function ra(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function ms(e,t){if(!e)return null;const r=t?Ki:io;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(wo)}function Fa(e){return{\u0275providers:e}}function wc(...e){return{\u0275providers:_s(0,e),\u0275fromNgModule:!0}}function _s(e,...t){const r=[],s=new Set;let l;const h=g=>{r.push(g)};return _o(t,g=>{const I=g;Wa(I,h,[],s)&&(l||(l=[]),l.push(I))}),void 0!==l&&Fo(l,h),r}function Fo(e,t){for(let r=0;r<e.length;r++){const{ngModule:s,providers:l}=e[r];al(l,h=>{t(h,s)})}}function Wa(e,t,r,s){if(!(e=$e(e)))return!1;let l=null,h=Qt(e);const g=!h&&Pr(e);if(h||g){if(g&&!g.standalone)return!1;l=e}else{const S=e.ngModule;if(h=Qt(S),!h)return!1;l=S}const I=s.has(l);if(g){if(I)return!1;if(s.add(l),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const z of S)Wa(z,t,r,s)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let z;s.add(l);try{_o(h.imports,ee=>{Wa(ee,t,r,s)&&(z||(z=[]),z.push(ee))})}finally{}void 0!==z&&Fo(z,t)}if(!I){const z=uo(l)||(()=>new l);t({provide:l,useFactory:z,deps:Wr},l),t({provide:Ht,useValue:l,multi:!0},l),t({provide:pe,useValue:()=>ot(l),multi:!0},l)}const S=h.providers;if(null!=S&&!I){const z=e;al(S,ee=>{t(ee,z)})}}}return l!==e&&void 0!==e.providers}function al(e,t){for(let r of e)qo(r)&&(r=r.\u0275providers),Array.isArray(r)?al(r,t):t(r)}const ia=_r({provide:String,useValue:_r});function Ls(e){return null!==e&&"object"==typeof e&&ia in e}function Vs(e){return"function"==typeof e}const Bl=new sr(""),Ur={},eu={};let oa;function La(){return void 0===oa&&(oa=new yn),oa}class Ho{}class vs extends Ho{get destroyed(){return this._destroyed}constructor(t,r,s,l){super(),this.parent=r,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ds(t,g=>this.processProvider(g)),this.records.set(qe,ws(void 0,this)),l.has("environment")&&this.records.set(Ho,ws(void 0,this));const h=this.records.get(Bl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ht,Wr,Nr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=Ce(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=G(this),s=Ii(void 0);try{return t()}finally{G(r),Ii(s)}}get(t,r=co,s=Nr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(fs))return t[fs](this);s=qt(s);const h=G(this),g=Ii(void 0);try{if(!(s&Nr.SkipSelf)){let S=this.records.get(t);if(void 0===S){const z=function Us(e){return"function"==typeof e||"object"==typeof e&&e instanceof sr}(t)&&wt(t);S=z&&this.injectableDefInScope(z)?ws(Ia(t),Ur):null,this.records.set(t,S)}if(null!=S)return this.hydrate(t,S)}return(s&Nr.Self?La():this.parent).get(t,r=s&Nr.Optional&&r===co?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[rs]=I[rs]||[]).unshift(En(t)),h)throw I;return function er(e,t,r,s){const l=e[rs];throw t[E]&&l.unshift(t[E]),e.message=function lr(e,t,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=En(t);if(Array.isArray(t))l=t.map(En).join(" -> ");else if("object"==typeof t){let h=[];for(let g in t)if(t.hasOwnProperty(g)){let I=t[g];h.push(g+":"+("string"==typeof I?JSON.stringify(I):En(I)))}l=`{${h.join(", ")}}`}return`${r}${s?"("+s+")":""}[${l}]: ${e.replace(Di,"\n  ")}`}("\n"+e.message,l,r,s),e.ngTokenPath=l,e[rs]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{Ii(g),G(h)}}resolveInjectorInitializers(){const t=Ce(null),r=G(this),s=Ii(void 0);try{const h=this.get(pe,Wr,Nr.Self);for(const g of h)g()}finally{G(r),Ii(s),Ce(t)}}toString(){const t=[],r=this.records;for(const s of r.keys())t.push(En(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ft(205,!1)}processProvider(t){let r=Vs(t=$e(t))?t:$e(t&&t.provide);const s=function Ka(e){return Ls(e)?ws(void 0,e.useValue):ws(cl(e),Ur)}(t);if(!Vs(t)&&!0===t.multi){let l=this.records.get(r);l||(l=ws(void 0,Ur,!0),l.factory=()=>dn(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,s)}hydrate(t,r){const s=Ce(null);try{return r.value===Ur&&(r.value=eu,r.value=r.factory()),"object"==typeof r.value&&r.value&&function sa(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ce(s)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=$e(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ia(e){const t=wt(e),r=null!==t?t.factory:uo(e);if(null!==r)return r;if(e instanceof sr)throw new Ft(204,!1);if(e instanceof Function)return function ac(e){if(e.length>0)throw new Ft(204,!1);const r=function ze(e){return e&&(e[gn]||e[Yn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Ft(204,!1)}function cl(e,t,r){let s;if(Vs(e)){const l=$e(e);return uo(l)||Ia(l)}if(Ls(e))s=()=>$e(e.useValue);else if(function ll(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...dn(e.deps||[]));else if(function Ts(e){return!(!e||!e.useExisting)}(e))s=()=>ot($e(e.useExisting));else{const l=$e(e&&(e.useClass||e.provide));if(!function oo(e){return!!e.deps}(e))return uo(l)||Ia(l);s=()=>new l(...dn(e.deps))}return s}function ws(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Ds(e,t){for(const r of e)Array.isArray(r)?Ds(r,t):r&&qo(r)?Ds(r.\u0275providers,t):t(r)}function Va(e,t){e instanceof vs&&e.assertNotDestroyed();const s=G(e),l=Ii(void 0);try{return t()}finally{G(s),Ii(l)}}function $l(){return void 0!==mi()||null!=function A(){return O}()}const hi=0,Nn=1,ur=2,qi=3,Mo=4,zi=5,Lo=6,qs=7,Br=8,Tr=9,cs=10,kr=11,aa=12,Bs=13,wl=14,no=15,jl=16,Xa=17,Ss=18,la=19,Qs=20,ca=21,so=22,Ys=23,pr=25,Dc=1,Ea=7,Qa=9,Vo=10;var Hl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Hl||{});function Eo(e){return Array.isArray(e)&&"object"==typeof e[Dc]}function ao(e){return Array.isArray(e)&&!0===e[Dc]}function ba(e){return!!(4&e.flags)}function Ya(e){return e.componentOffset>-1}function eo(e){return!(1&~e.flags)}function Do(e){return!!e.template}function Ca(e){return!!(512&e[ur])}class Go{constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function Zo(e,t,r,s){null!==t?t.applyValueToInputSignal(t,s):e[r]=s}function ul(){return us}function us(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dl),Js}function Js(){const e=Gl(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Or)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Dl(e,t,r,s,l){const h=this.declaredInputs[s],g=Gl(e)||function Aa(e,t){return e[cc]=t}(e,{previous:Or,current:null}),I=g.current||(g.current={}),S=g.previous,z=S[h];I[h]=new Go(z&&z.currentValue,r,S===Or),Zo(e,t,l,r)}ul.ngInherit=!0;const cc="__ngSimpleChanges__";function Gl(e){return e[cc]||null}const ds=function(e,t,r){};function Si(e){for(;Array.isArray(e);)e=e[hi];return e}function dc(e,t){return Si(t[e])}function Rs(e,t){return Si(t[e.index])}function Wl(e,t){return e.data[t]}function Sl(e,t){return e[t]}function Ms(e,t){const r=t[e];return Eo(r)?r:r[hi]}function sd(e){return!(128&~e[ur])}function Ta(e,t){return null==t?null:e[t]}function Pc(e){e[Xa]=0}function ru(e){1024&e[ur]||(e[ur]|=1024,sd(e)&&Za(e))}function Rl(e){var t;return!!(9216&e[ur]||null!==(t=e[Ys])&&void 0!==t&&t.dirty)}function Xl(e){var t;null===(t=e[cs].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[ur]&&(e[ur]|=1024),Rl(e)&&Za(e)}function Za(e){var t;null===(t=e[cs].changeDetectionScheduler)||void 0===t||t.notify(0);let r=wa(e);for(;null!==r&&!(8192&r[ur])&&(r[ur]|=8192,sd(r));)r=wa(r)}function ua(e,t){if(!(256&~e[ur]))throw new Ft(911,!1);null===e[ca]&&(e[ca]=[]),e[ca].push(t)}function wa(e){const t=e[qi];return ao(t)?t[qi]:t}const Hr={lFrame:zh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Nc=!1;function kc(){return Hr.bindingsEnabled}function fl(){return null!==Hr.skipHydrationRootTNode}function hn(){return Hr.lFrame.lView}function Kr(){return Hr.lFrame.tView}function Fc(e){return Hr.lFrame.contextLView=e,e[Br]}function ou(e){return Hr.lFrame.contextLView=null,e}function ei(){let e=su();for(;null!==e&&64===e.type;)e=e.parent;return e}function su(){return Hr.lFrame.currentTNode}function js(e,t){const r=Hr.lFrame;r.currentTNode=e,r.isParent=t}function au(){return Hr.lFrame.isParent}function Ba(){Hr.lFrame.isParent=!1}function ml(){return Nc}function ud(e){Nc=e}function Uo(){const e=Hr.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function $a(){return Hr.lFrame.bindingIndex}function Hs(){return Hr.lFrame.bindingIndex++}function _l(e){const t=Hr.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function lu(e,t){const r=Hr.lFrame;r.bindingIndex=r.bindingRootIndex=e,gc(t)}function gc(e){Hr.lFrame.currentDirectiveIndex=e}function Xd(){return Hr.lFrame.currentQueryIndex}function ql(e){Hr.lFrame.currentQueryIndex=e}function vl(e){const t=e[Nn];return 2===t.type?t.declTNode:1===t.type?e[zi]:null}function mc(e,t,r){if(r&Nr.SkipSelf){let l=t,h=e;for(;!(l=l.parent,null!==l||r&Nr.Host||(l=vl(h),null===l||(h=h[wl],10&l.type))););if(null===l)return!1;t=l,e=h}const s=Hr.lFrame=hd();return s.currentTNode=t,s.lView=e,!0}function cu(e){const t=hd(),r=e[Nn];Hr.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function hd(){const e=Hr.lFrame,t=null===e?null:e.child;return null===t?zh(e):t}function zh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function uu(){const e=Hr.lFrame;return Hr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Wh=uu;function qd(){const e=uu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function es(){return Hr.lFrame.selectedIndex}function Po(e){Hr.lFrame.selectedIndex=e}function lo(){const e=Hr.lFrame;return Wl(e.tView,e.selectedIndex)}let Pl=!0;function el(){return Pl}function yl(e){Pl=e}function xl(e,t){for(let z=t.directiveStart,ee=t.directiveEnd;z<ee;z++){const Xe=e.data[z].type.prototype,{ngAfterContentInit:dt,ngAfterContentChecked:rt,ngAfterViewInit:un,ngAfterViewChecked:Tn,ngOnDestroy:Gn}=Xe;var r,s,l,h,g,I,S;dt&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-z,dt),rt&&((null!==(s=e.contentHooks)&&void 0!==s?s:e.contentHooks=[]).push(z,rt),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push(z,rt)),un&&(null!==(h=e.viewHooks)&&void 0!==h?h:e.viewHooks=[]).push(-z,un),Tn&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(z,Tn),(null!==(I=e.viewCheckHooks)&&void 0!==I?I:e.viewCheckHooks=[]).push(z,Tn)),null!=Gn&&(null!==(S=e.destroyHooks)&&void 0!==S?S:e.destroyHooks=[]).push(z,Gn)}}function Ql(e,t,r){hu(e,t,3,r)}function ja(e,t,r,s){(3&e[ur])===r&&hu(e,t,r,s)}function Yl(e,t){let r=e[ur];(3&r)===t&&(r&=16383,r+=1,e[ur]=r)}function hu(e,t,r,s){const h=null!=s?s:-1,g=t.length-1;let I=0;for(let S=void 0!==s?65535&e[Xa]:0;S<g;S++)if("number"==typeof t[S+1]){if(I=t[S],null!=s&&I>=s)break}else t[S]<0&&(e[Xa]+=65536),(I<h||-1==h)&&(Yf(e,r,t,S),e[Xa]=(4294901760&e[Xa])+S+2),S++}function fu(e,t){ds(4,e,t);const r=Ce(null);try{t.call(e)}finally{Ce(r),ds(5,e,t)}}function Yf(e,t,r,s){const l=r[s]<0,h=r[s+1],I=e[l?-r[s]:r[s]];l?e[ur]>>14<e[Xa]>>16&&(3&e[ur])===t&&(e[ur]+=16384,fu(I,h)):fu(I,h)}const _c=-1;class pu{constructor(t,r,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}const M={};class re{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,s){s=qt(s);const l=this.injector.get(t,M,s);return l!==M||r===M?l:this.parentInjector.get(t,r,s)}}function Ie(e){return e!==_c}function Pt(e){return 32767&e}function Rn(e,t){let r=function on(e){return e>>16}(e),s=t;for(;r>0;)s=s[wl],r--;return s}let Cr=!0;function fi(e){const t=Cr;return Cr=e,t}const tl=255,Vc=5;let Jd=0;const ha={};function Nl(e,t){const r=_u(e,t);if(-1!==r)return r;const s=t[Nn];s.firstCreatePass&&(e.injectorIndex=t.length,Jl(s.data,e),Jl(t,null),Jl(s.blueprint,null));const l=vc(e,t),h=e.injectorIndex;if(Ie(l)){const g=Pt(l),I=Rn(l,t),S=I[Nn].data;for(let z=0;z<8;z++)t[h+z]=I[g+z]|S[g+z]}return t[h+8]=l,h}function Jl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _u(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,l=t;for(;null!==l;){if(s=Vg(l),null===s)return _c;if(r++,l=l[wl],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return _c}function yc(e,t,r){!function mu(e,t,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Xr)&&(s=r[Xr]),null==s&&(s=r[Xr]=Jd++);const l=s&tl;t.data[e+(l>>Vc)]|=1<<l}(e,t,r)}function qh(e,t,r){if(r&Nr.Optional||void 0!==e)return e;No()}function vu(e,t,r,s){if(r&Nr.Optional&&void 0===s&&(s=null),!(r&(Nr.Self|Nr.Host))){const l=e[Tr],h=Ii(void 0);try{return l?l.get(t,s,r&Nr.Optional):Pi(t,s,r&Nr.Optional)}finally{Ii(h)}}return qh(s,0,r)}function yu(e,t,r,s=Nr.Default,l){if(null!==e){if(2048&t[ur]&&!(s&Nr.Self)){const g=function G_(e,t,r,s,l){let h=e,g=t;for(;null!==h&&null!==g&&2048&g[ur]&&!(512&g[ur]);){const I=Qh(h,g,r,s|Nr.Self,ha);if(I!==ha)return I;let S=h.parent;if(!S){const z=g[Qs];if(z){const ee=z.get(r,ha,s);if(ee!==ha)return ee}S=Vg(g),g=g[wl]}h=S}return l}(e,t,r,s,ha);if(g!==ha)return g}const h=Qh(e,t,r,s,ha);if(h!==ha)return h}return vu(t,r,s,l)}function Qh(e,t,r,s,l){const h=function j_(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Xr)?e[Xr]:void 0;return"number"==typeof t?t>=0?t&tl:H_:t}(r);if("function"==typeof h){if(!mc(t,e,s))return s&Nr.Host?qh(l,0,s):vu(t,r,s,l);try{let g;if(g=h(s),null!=g||s&Nr.Optional)return g;No()}finally{Wh()}}else if("number"==typeof h){let g=null,I=_u(e,t),S=_c,z=s&Nr.Host?t[no][zi]:null;for((-1===I||s&Nr.SkipSelf)&&(S=-1===I?vc(e,t):t[I+8],S!==_c&&eh(s,!1)?(g=t[Nn],I=Pt(S),t=Rn(S,t)):I=-1);-1!==I;){const ee=t[Nn];if(Zf(h,I,ee.data)){const de=$_(I,t,r,g,s,z);if(de!==ha)return de}S=t[I+8],S!==_c&&eh(s,t[Nn].data[I+8]===z)&&Zf(h,I,t)?(g=ee,I=Pt(S),t=Rn(S,t)):I=-1}}return l}function $_(e,t,r,s,l,h){const g=t[Nn],I=g.data[e+8],ee=Yh(I,g,r,null==s?Ya(I)&&Cr:s!=g&&!!(3&I.type),l&Nr.Host&&h===I);return null!==ee?ts(t,g,ee,I):ha}function Yh(e,t,r,s,l){const h=e.providerIndexes,g=t.data,I=1048575&h,S=e.directiveStart,ee=h>>20,Xe=l?I+ee:e.directiveEnd;for(let dt=s?I:I+ee;dt<Xe;dt++){const rt=g[dt];if(dt<S&&r===rt||dt>=S&&rt.type===r)return dt}if(l){const dt=g[S];if(dt&&Do(dt)&&dt.type===r)return S}return null}function ts(e,t,r,s){let l=e[r];const h=t.data;if(function Kh(e){return e instanceof pu}(l)){const g=l;g.resolving&&function mo(e,t){throw t&&t.join(" > "),new Ft(-200,e)}(function jr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():jn(e)}(h[r]));const I=fi(g.canSeeViewProviders);g.resolving=!0;const z=g.injectImpl?Ii(g.injectImpl):null;mc(e,s,Nr.Default);try{l=e[r]=g.factory(void 0,h,e,s),t.firstCreatePass&&r>=s.directiveStart&&function pd(e,t,r){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:h}=t.type.prototype;if(s){var g,I;const de=us(t);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,de),(null!==(I=r.preOrderCheckHooks)&&void 0!==I?I:r.preOrderCheckHooks=[]).push(e,de)}var S,z,ee;l&&(null!==(S=r.preOrderHooks)&&void 0!==S?S:r.preOrderHooks=[]).push(0-e,l),h&&((null!==(z=r.preOrderHooks)&&void 0!==z?z:r.preOrderHooks=[]).push(e,h),(null!==(ee=r.preOrderCheckHooks)&&void 0!==ee?ee:r.preOrderCheckHooks=[]).push(e,h))}(r,h[r],t)}finally{null!==z&&Ii(z),fi(I),g.resolving=!1,Wh()}}return l}function Zf(e,t,r){return!!(r[t+(e>>Vc)]&1<<e)}function eh(e,t){return!(e&Nr.Self||e&Nr.Host&&t)}class ys{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,s){return yu(this._tNode,this._lView,t,qt(s),r)}}function H_(){return new ys(ei(),hn())}function Lg(e){return Qn(()=>{const t=e.prototype.constructor,r=t[go]||ep(t),s=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==s;){const h=l[go]||ep(l);if(h&&h!==r)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function ep(e){return ct(e)?()=>{const t=ep($e(e));return t&&t()}:uo(e)}function Vg(e){const t=e[Nn],r=t.type;return 2===r?t.declTNode:1===r?e[zi]:null}function Bc(e){return function Zd(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const s=r.length;let l=0;for(;l<s;){const h=r[l];if(to(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<s&&"string"==typeof r[l];)l++;else{if(h===t)return r[l+1];l+=2}}}return null}(ei(),e)}function Ee(e,t=null,r=null,s){const l=Dt(e,t,r,s);return l.resolveInjectorInitializers(),l}function Dt(e,t=null,r=null,s,l=new Set){const h=[r||Wr,wc(e)];return s=s||("object"==typeof e?void 0:En(e)),new vs(h,t||La(),s||null,l)}class Kt{static create(t,r){if(Array.isArray(t))return Ee({name:""},r,t,"");{var s;const l=null!==(s=t.name)&&void 0!==s?s:"";return Ee({name:l},t.parent,t.providers,l)}}}(Un=Kt).THROW_IF_NOT_FOUND=co,Un.NULL=new yn,Un.\u0275prov=Dr({token:Un,providedIn:"any",factory:()=>ot(qe)}),Un.__NG_ELEMENT_ID__=-1,new sr("").__NG_ELEMENT_ID__=e=>{const t=ei();if(null===t)throw new Ft(204,!1);if(2&t.type)return t.value;if(e&Nr.Optional)return null;throw new Ft(204,!1)};function qr(e){return e.ngOriginalError}const wi=!0;let wr=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=zo,e.__NG_ENV_ID__=r=>r,t})();class oi extends wr{constructor(t){super(),this._lView=t}onDestroy(t){return ua(this._lView,t),()=>function hc(e,t){if(null===e[ca])return;const r=e[ca].indexOf(t);-1!==r&&e[ca].splice(r,1)}(this._lView,t)}}function zo(){return new oi(hn())}let Ci=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ln.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=Dr({token:e,providedIn:"root",factory:()=>new e}),t})();const Wo=class Ps extends qn.B{constructor(t=!1){var r,s;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,$l()&&(this.destroyRef=null!==(r=Tt(wr,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(s=Tt(Ci,{optional:!0}))&&void 0!==s?s:void 0)}emit(t){const r=Ce(null);try{super.next(t)}finally{Ce(r)}}subscribe(t,r,s){let l=t,h=r||(()=>null),g=s;if(t&&"object"==typeof t){var I,S,z;const de=t;l=null===(I=de.next)||void 0===I?void 0:I.bind(de),h=null===(S=de.error)||void 0===S?void 0:S.bind(de),g=null===(z=de.complete)||void 0===z?void 0:z.bind(de)}this.__isAsync&&(h=this.wrapInTimeout(h),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const ee=super.subscribe({next:l,error:h,complete:g});return t instanceof en.yU&&t.add(ee),ee}wrapInTimeout(t){return r=>{var s;const l=null===(s=this.pendingTasks)||void 0===s?void 0:s.add();setTimeout(()=>{var h;t(r),void 0!==l&&(null===(h=this.pendingTasks)||void 0===h||h.remove(l))})}}};function Ha(...e){}function Ol(e){let t,r;function s(){e=Ha;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),s()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),s()})),()=>s()}function ec(e){return queueMicrotask(()=>e()),()=>{e=Ha}}const Il="isAngularZone",$c=Il+"_ID";let ef=0;class fo{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:h=wi}=t;if(typeof Zone>"u")throw new Ft(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&s,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=h,function Ug(e){const t=()=>{!function Au(e){function t(){Ol(()=>{e.callbackScheduled=!1,Tu(e),e.isCheckStableRunning=!0,Cu(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Tu(e))}(e)},r=ef++;e._inner=e._inner.fork({name:"angular",properties:{[Il]:!0,[$c]:r,[$c+r]:!0},onInvokeTask:(s,l,h,g,I,S)=>{if(function E0(e){return $g(e,"__ignore_ng_zone__")}(S))return s.invokeTask(h,g,I,S);try{return md(e),s.invokeTask(h,g,I,S)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),Bg(e)}},onInvoke:(s,l,h,g,I,S,z)=>{try{return md(e),s.invoke(h,g,I,S,z)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function b0(e){return $g(e,"__scheduler_tick__")}(S)&&t(),Bg(e)}},onHasTask:(s,l,h,g)=>{s.hasTask(h,g),l===h&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,Tu(e),Cu(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,l,h,g)=>(s.handleError(h,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Il)}static assertInAngularZone(){if(!fo.isInAngularZone())throw new Ft(909,!1)}static assertNotInAngularZone(){if(fo.isInAngularZone())throw new Ft(909,!1)}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,l){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+l,t,nh,Ha,Ha);try{return h.runTask(g,r,s)}finally{h.cancelTask(g)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}}const nh={};function Cu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function md(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bg(e){e._nesting--,Cu(e)}class wu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(t,r,s){return t.apply(r,s)}runGuarded(t,r,s){return t.apply(r,s)}runOutsideAngular(t){return t()}runTask(t,r,s,l){return t.apply(r,s)}}function $g(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class tc{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&qr(t);for(;r&&qr(r);)r=qr(r);return r||null}}const Hg=new sr("",{providedIn:"root",factory:()=>{const e=Tt(fo),t=Tt(tc);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Gg(){return rh(ei(),hn())}function rh(e,t){return new ih(Rs(e,t))}let ih=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Gg,t})();function X_(e){return e instanceof ih?e.nativeElement:e}function q_(){return this._results[Symbol.iterator]()}class ip{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new Wo}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=ip.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=q_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const s=function Gi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function To(e,t,r){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let l=e[s],h=t[s];if(r&&(l=r(l),h=r(h)),h!==l)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function tf(e){return!(128&~e.flags)}const Wg=new Map;let Kg=0;function rf(e){Wg.delete(e[la])}const lp="__ngContext__";function Zs(e,t){Eo(t)?(e[lp]=t[la],function Xg(e){Wg.set(e[la],e)}(t)):e[lp]=t}function fp(e){return pp(e[aa])}function nv(e){return pp(e[Mo])}function pp(e){for(;null!==e&&!ao(e);)e=e[Mo];return e}let tm;function nm(e){tm=e}const ah=new sr("",{providedIn:"root",factory:()=>_p}),_p="ng",vp=new sr(""),yp=new sr("",{providedIn:"platform",factory:()=>"unknown"}),rm=new sr("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Du(){if(void 0!==tm)return tm;if(typeof document<"u")return document;throw new Ft(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let Ep=()=>null;function am(e,t,r=!1){return Ep(e,t,r)}const ea=new sr("",{providedIn:"root",factory:()=>!1});let Cp;function U0(e){var t;return(null===(t=function mm(){if(void 0===Cp&&(Cp=null,Pn.trustedTypes))try{Cp=Pn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cp}())||void 0===t?void 0:t.createScriptURL(e))||e}class Ko{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ut})`}}function Nu(e){return e instanceof Ko?e.changingThisBreaksApplicationSecurity:e}function ff(e,t){const r=function j0(e){return e instanceof Ko&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Ut})`)}return r===t}const Cd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ec=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ec||{});function Rp(e){const t=wd();return t?t.sanitize(Ec.URL,e)||"":ff(e,"URL")?Nu(e):function ph(e){return(e=String(e)).match(Cd)?e:"unsafe:"+e}(jn(e))}function Mp(e){const t=wd();if(t)return U0(t.sanitize(Ec.RESOURCE_URL,e)||"");if(ff(e,"ResourceURL"))return U0(Nu(e));throw new Ft(904,!1)}function Td(e,t,r){return function z0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Mp:Rp}(t,r)(e)}function wd(){const e=hn();return e&&e[cs].sanitizer}const W0=/^>|^->|<!--|-->|--!>|<!-$/g,Pp=/(<|>)/g,K0="\u200b$1\u200b";function El(e){return e instanceof Function?e():e}var Lp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Lp||{});let Vp;function Pm(e,t){return Vp(e,t)}function Vu(e,t,r,s,l){if(null!=s){let h,g=!1;ao(s)?h=s:Eo(s)&&(g=!0,s=s[hi]);const I=Si(s);0===e&&null!==r?null==l?Fv(t,r,I):Sd(t,r,I,l||null,!0):1===e&&null!==r?Sd(t,r,I,l||null,!0):2===e?function jp(e,t,r){e.removeChild(null,t,r)}(t,I,g):3===e&&t.destroyNode(I),null!=h&&function Vm(e,t,r,s,l){const h=r[Ea];h!==Si(r)&&Vu(t,e,s,h,l);for(let I=Vo;I<r.length;I++){const S=r[I];Lm(S[Nn],S,e,t,s,h)}}(t,e,h,r,l)}}function xm(e,t){return e.createComment(function Dv(e){return e.replace(W0,t=>t.replace(Pp,K0))}(t))}function Up(e,t,r){return e.createElement(t,r)}function oI(e,t){var r;null===(r=t[cs].changeDetectionScheduler)||void 0===r||r.notify(9),Lm(e,t,t[kr],2,null,null)}function sI(e,t){const r=e[Qa],s=t[qi];(Eo(s)||t[no]!==s[qi][no])&&(e[ur]|=Hl.HasTransplantedViews),null===r?e[Qa]=[t]:r.push(t)}function Nm(e,t){const r=e[Qa],s=r.indexOf(t);r.splice(s,1)}function vf(e,t){if(e.length<=Vo)return;const r=Vo+t,s=e[r];if(s){const l=s[jl];null!==l&&l!==e&&Nm(l,s),t>0&&(e[r-1][Mo]=s[Mo]);const h=bs(e,Vo+t);!function rI(e,t){oI(e,t),t[hi]=null,t[zi]=null}(s[Nn],s);const g=h[Ss];null!==g&&g.detachView(h[Nn]),s[qi]=null,s[Mo]=null,s[ur]&=-129}return s}function Bp(e,t){if(!(256&t[ur])){const r=t[kr];r.destroyNode&&Lm(e,t,r,3,null,null),function vb(e){let t=e[aa];if(!t)return Nv(e[Nn],e);for(;t;){let r=null;if(Eo(t))r=t[aa];else{const s=t[Vo];s&&(r=s)}if(!r){for(;t&&!t[Mo]&&t!==e;)Eo(t)&&Nv(t[Nn],t),t=t[qi];null===t&&(t=e),Eo(t)&&Nv(t[Nn],t),r=t&&t[Mo]}t=r}}(t)}}function Nv(e,t){if(256&t[ur])return;const r=Ce(null);try{t[ur]&=-129,t[ur]|=256,t[Ys]&&St(t[Ys]),function Ov(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const l=t[r[s]];if(!(l instanceof pu)){const h=r[s+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const I=l[h[g]],S=h[g+1];ds(4,I,S);try{S.call(I)}finally{ds(5,I,S)}}else{ds(4,l,h);try{h.call(l)}finally{ds(5,l,h)}}}}}(e,t),function aI(e,t){const r=e.cleanup,s=t[qs];if(null!==r)for(let h=0;h<r.length-1;h+=2)if("string"==typeof r[h]){const g=r[h+3];g>=0?s[g]():s[-g].unsubscribe(),h+=2}else r[h].call(s[r[h+1]]);null!==s&&(t[qs]=null);const l=t[ca];if(null!==l){t[ca]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(e,t),1===t[Nn].type&&t[kr].destroy();const s=t[jl];if(null!==s&&ao(t[qi])){s!==t[qi]&&Nm(s,t);const l=t[Ss];null!==l&&l.detachView(e)}rf(t)}finally{Ce(r)}}function Cc(e,t,r){return function kv(e,t,r){let s=t;for(;null!==s&&168&s.type;)s=(t=s).parent;if(null===s)return r[hi];{const{componentOffset:l}=s;if(l>-1){const{encapsulation:h}=e.data[s.directiveStart+l];if(h===An.None||h===An.Emulated)return null}return Rs(s,r)}}(e,t.parent,r)}function Sd(e,t,r,s,l){e.insertBefore(t,r,s,l)}function Fv(e,t,r){e.appendChild(t,r)}function Lv(e,t,r,s,l){null!==s?Sd(e,t,r,s,l):Fv(e,t,r)}function Om(e,t){return e.parentNode(t)}function Vv(e,t,r){return uI(e,t,r)}let Uv,uI=function cI(e,t,r){return 40&e.type?Rs(e,r):null};function $p(e,t,r,s){const l=Cc(e,s,t),h=t[kr],I=Vv(s.parent||t[zi],s,t);if(null!=l)if(Array.isArray(r))for(let S=0;S<r.length;S++)Lv(h,l,r[S],I,!1);else Lv(h,l,r,I,!1);void 0!==Uv&&Uv(h,s,t,r,l)}function Ih(e,t){if(null!==t){const r=t.type;if(3&r)return Rs(t,e);if(4&r)return Bv(-1,e[t.index]);if(8&r){const s=t.child;if(null!==s)return Ih(e,s);{const l=e[t.index];return ao(l)?Bv(-1,l):Si(l)}}if(128&r)return Ih(e,t.next);if(32&r)return Pm(t,e)()||Si(e[t.index]);{const s=dI(e,t);return null!==s?Array.isArray(s)?s[0]:Ih(wa(e[no]),s):Ih(e,t.next)}}return null}function dI(e,t){return null!==t?e[no][zi].projection[t.projection]:null}function Bv(e,t){const r=Vo+e+1;if(r<t.length){const s=t[r],l=s[Nn].firstChild;if(null!==l)return Ih(s,l)}return t[Ea]}function Hp(e,t,r,s,l,h,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=s[r.index],S=r.type;if(g&&0===t&&(I&&Zs(Si(I),s),r.flags|=2),32&~r.flags)if(8&S)Hp(e,t,r.child,s,l,h,!1),Vu(t,e,l,I,h);else if(32&S){const z=Pm(r,s);let ee;for(;ee=z();)Vu(t,e,l,ee,h);Vu(t,e,l,I,h)}else 16&S?hI(e,t,s,r,l,h):Vu(t,e,l,I,h);r=g?r.projectionNext:r.next}}function Lm(e,t,r,s,l,h){Hp(r,s,e.firstChild,t,l,h,!1)}function hI(e,t,r,s,l,h){const g=r[no],S=g[zi].projection[s.projection];if(Array.isArray(S))for(let z=0;z<S.length;z++)Vu(t,e,l,S[z],h);else{let z=S;const ee=g[qi];tf(s)&&(z.flags|=128),Hp(e,t,z,ee,l,h,!0)}}function $v(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function zp(e,t,r){const{mergedAttrs:s,classes:l,styles:h}=r;null!==s&&Zi(e,t,s),null!==l&&$v(e,t,l),null!==h&&function fI(e,t,r){e.setAttribute(t,"style",r)}(e,t,h)}const ci={};function Um(e=1){Eh(Kr(),hn(),es()+e,!1)}function Eh(e,t,r,s){if(!s)if(3&~t[ur]){const h=e.preOrderHooks;null!==h&&ja(t,h,0,r)}else{const h=e.preOrderCheckHooks;null!==h&&Ql(t,h,r)}Po(r)}function Uu(e,t=Nr.Default){const r=hn();return null===r?ot(e,t):yu(ei(),r,$e(e),t)}function jv(){throw new Error("invalid")}function Hv(e,t,r,s,l,h){const g=Ce(null);try{let I=null;l&Jn.SignalBased&&(I=t[s][W]),null!==I&&void 0!==I.transformFn&&(h=I.transformFn(h)),l&Jn.HasDecoratorInputTransform&&(h=e.inputTransforms[s].call(t,h)),null!==e.setInput?e.setInput(t,I,h,r,s):Zo(t,I,s,h)}finally{Ce(g)}}function Rd(e,t,r,s,l,h,g,I,S,z,ee){const de=t.blueprint.slice();return de[hi]=l,de[ur]=204|s,(null!==z||e&&2048&e[ur])&&(de[ur]|=2048),Pc(de),de[qi]=de[wl]=e,de[Br]=r,de[cs]=g||e&&e[cs],de[kr]=I||e&&e[kr],de[Tr]=S||e&&e[Tr]||null,de[zi]=h,de[la]=function J_(){return Kg++}(),de[Lo]=ee,de[Qs]=z,de[no]=2==t.type?e[no]:de,de}function Md(e,t,r,s,l){let h=e.data[t];if(null===h)h=function Wp(e,t,r,s,l){const h=su(),g=au(),S=e.data[t]=function Nd(e,t,r,s,l,h){let g=t?t.injectorIndex:-1,I=0;return fl()&&(I|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,r,t,s,l);return null===e.firstChild&&(e.firstChild=S),null!==h&&(g?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S,S.prev=h)),S}(e,t,r,s,l),function dd(){return Hr.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=r,h.value=s,h.attrs=l;const g=function pl(){const e=Hr.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return js(h,!0),h}function bh(e,t,r,s){if(0===r)return-1;const l=t.length;for(let h=0;h<r;h++)t.push(s),e.blueprint.push(s),e.data.push(null);return l}function Bu(e,t,r,s,l){const h=es(),g=2&s;try{Po(-1),g&&t.length>pr&&Eh(e,t,pr,!1),ds(g?2:0,l),r(s,l)}finally{Po(h),ds(g?3:1,l)}}function nl(e,t,r){if(ba(t)){const s=Ce(null);try{const h=t.directiveEnd;for(let g=t.directiveStart;g<h;g++){const I=e.data[g];I.contentQueries&&I.contentQueries(1,r[g],g)}}finally{Ce(s)}}}function fa(e,t,r){kc()&&(function jm(e,t,r,s){const l=r.directiveStart,h=r.directiveEnd;Ya(r)&&function ty(e,t,r){const s=Rs(t,e),l=Bm(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const I=u(e,Rd(e,l,null,g,s,t,null,e[cs].rendererFactory.createRenderer(s,r),null,null,null));e[t.index]=I}(t,r,e.data[l+r.componentOffset]),e.firstCreatePass||Nl(r,t),Zs(s,t);const g=r.initialInputs;for(let I=l;I<h;I++){const S=e.data[I],z=ts(t,e,I,r);Zs(z,t),null!==g&&c(0,I-l,z,S,0,g),Do(S)&&(Ms(r.index,t)[Br]=ts(t,e,I,r))}}(e,t,r,Rs(r,t)),!(64&~r.flags)&&Qv(e,t,r))}function Kp(e,t,r=Rs){const s=t.localNames;if(null!==s){let l=t.index+1;for(let h=0;h<s.length;h+=2){const g=s[h+1],I=-1===g?r(t,e):e[g];e[l++]=I}}}function Bm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Pd(e,t,r,s,l,h,g,I,S,z,ee){const de=pr+s,Xe=de+l,dt=function yf(e,t){const r=[];for(let s=0;s<t;s++)r.push(s<e?null:ci);return r}(de,Xe),rt="function"==typeof z?z():z;return dt[Nn]={type:e,blueprint:dt,template:r,queries:null,viewQuery:I,declTNode:t,data:dt.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:rt,incompleteFirstPass:!1,ssrId:ee}}let Xp=()=>null;function zv(e,t,r,s,l){for(let g in t){var h;if(!t.hasOwnProperty(g))continue;const I=t[g];if(void 0===I)continue;null!==(h=s)&&void 0!==h||(s={});let S,z=Jn.None;Array.isArray(I)?(S=I[0],z=I[1]):S=I;let ee=g;if(null!==l){if(!l.hasOwnProperty(g))continue;ee=l[g]}0===e?Wv(s,r,ee,S,z):Wv(s,r,ee,S)}return s}function Wv(e,t,r,s,l){let h;e.hasOwnProperty(r)?(h=e[r]).push(t,s):h=e[r]=[t,s],void 0!==l&&h.push(l)}function rl(e,t,r,s,l,h,g,I){const S=Rs(t,r);let ee,z=t.inputs;!I&&null!=z&&(ee=z[s])?(Be(e,r,ee,s,l),Ya(t)&&function Kv(e,t){const r=Ms(t,e);16&r[ur]||(r[ur]|=64)}(r,t.index)):3&t.type&&(s=function mI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),l=null!=g?g(l,t.value||"",s):l,h.setProperty(S,s,l))}function qp(e,t,r,s){if(kc()){const l=null===s?null:{"":-1},h=function Jv(e,t){const r=e.directiveRegistry;let s=null,l=null;if(r)for(let g=0;g<r.length;g++){const I=r[g];if(ya(t,I.selectors,!1))if(s||(s=[]),Do(I))if(null!==I.findHostDirectiveDefs){const S=[];l=l||new Map,I.findHostDirectiveDefs(I,S,l),s.unshift(...S,I),Hm(e,t,S.length)}else s.unshift(I),Hm(e,t,0);else{var h;l=l||new Map,null===(h=I.findHostDirectiveDefs)||void 0===h||h.call(I,I,s,l),s.push(I)}}return null===s?null:[s,l]}(e,r);let g,I;null===h?g=I=null:[g,I]=h,null!==g&&If(e,t,r,g,l,I),l&&function Zv(e,t,r){if(t){const s=e.localNames=[];for(let l=0;l<t.length;l+=2){const h=r[t[l+1]];if(null==h)throw new Ft(-301,!1);s.push(t[l],h)}}}(r,s,l)}r.mergedAttrs=ai(r.mergedAttrs,r.attrs)}function If(e,t,r,s,l,h){for(let de=0;de<s.length;de++)yc(Nl(r,t),e,s[de].type);!function yI(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,s.length);for(let de=0;de<s.length;de++){const Xe=s[de];Xe.providersResolver&&Xe.providersResolver(Xe)}let g=!1,I=!1,S=bh(e,t,s.length,null);for(let de=0;de<s.length;de++){const Xe=s[de];r.mergedAttrs=ai(r.mergedAttrs,Xe.hostAttrs),II(e,r,t,S,Xe),ey(S,Xe,l),null!==Xe.contentQueries&&(r.flags|=4),(null!==Xe.hostBindings||null!==Xe.hostAttrs||0!==Xe.hostVars)&&(r.flags|=64);const dt=Xe.type.prototype;var z,ee;!g&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((null!==(z=e.preOrderHooks)&&void 0!==z?z:e.preOrderHooks=[]).push(r.index),g=!0),I||!dt.ngOnChanges&&!dt.ngDoCheck||((null!==(ee=e.preOrderCheckHooks)&&void 0!==ee?ee:e.preOrderCheckHooks=[]).push(r.index),I=!0),S++}!function gI(e,t,r){const l=t.directiveEnd,h=e.data,g=t.attrs,I=[];let S=null,z=null;for(let ee=t.directiveStart;ee<l;ee++){const de=h[ee],Xe=r?r.get(de):null,rt=Xe?Xe.outputs:null;S=zv(0,de.inputs,ee,S,Xe?Xe.inputs:null),z=zv(1,de.outputs,ee,z,rt);const un=null===S||null===g||As(t)?null:n(S,ee,g);I.push(un)}null!==S&&(S.hasOwnProperty("class")&&(t.flags|=8),S.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=I,t.inputs=S,t.outputs=z}(e,r,h)}function Qv(e,t,r){const s=r.directiveStart,l=r.directiveEnd,h=r.index,g=function Ml(){return Hr.lFrame.currentDirectiveIndex}();try{Po(h);for(let I=s;I<l;I++){const S=e.data[I],z=t[I];gc(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Yv(S,z)}}finally{Po(-1),gc(g)}}function Yv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hm(e,t,r){var s;t.componentOffset=r,(null!==(s=e.components)&&void 0!==s?s:e.components=[]).push(t.index)}function ey(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;Do(t)&&(r[""]=e)}}function II(e,t,r,s,l){e.data[s]=l;const h=l.factory||(l.factory=uo(l.type)),g=new pu(h,Do(l),Uu);e.blueprint[s]=g,r[s]=g,function qv(e,t,r,s,l){const h=l.hostBindings;if(h){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const I=~t.index;(function vI(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=I&&g.push(I),g.push(r,s,h)}}(e,t,s,bh(e,r,l.hostVars,ci),l)}function nc(e,t,r,s,l,h){const g=Rs(e,t);!function Gm(e,t,r,s,l,h,g){if(null==h)e.removeAttribute(t,l,r);else{const I=null==g?jn(h):g(h,s||"",l);e.setAttribute(t,l,I,r)}}(t[kr],g,h,e.value,r,s,l)}function c(e,t,r,s,l,h){const g=h[t];if(null!==g)for(let I=0;I<g.length;)Hv(s,r,g[I++],g[I++],g[I++],g[I++])}function n(e,t,r){let s=null,l=0;for(;l<r.length;){const h=r[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(e.hasOwnProperty(h)){null===s&&(s=[]);const g=e[h];for(let I=0;I<g.length;I+=3)if(g[I]===t){s.push(h,g[I+1],g[I+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return s}function i(e,t,r,s){return[e,!0,0,t,null,s,null,r,null,null]}function a(e,t){const r=e.contentQueries;if(null!==r){const s=Ce(null);try{for(let l=0;l<r.length;l+=2){const g=r[l+1];if(-1!==g){const I=e.data[g];ql(r[l]),I.contentQueries(2,t[g],g)}}}finally{Ce(s)}}}function u(e,t){return e[aa]?e[Bs][Mo]=t:e[aa]=t,e[Bs]=t,t}function f(e,t,r){ql(0);const s=Ce(null);try{t(e,r)}finally{Ce(s)}}function N(e){var t;return null!==(t=e[qs])&&void 0!==t?t:e[qs]=[]}function U(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function me(e,t){const r=e[Tr],s=r?r.get(tc,null):null;s&&s.handleError(t)}function Be(e,t,r,s,l){for(let h=0;h<r.length;){const g=r[h++],I=r[h++],S=r[h++];Hv(e.data[g],t[g],s,I,S,l)}}function It(e,t,r){const s=dc(t,e);!function xv(e,t,r){e.setValue(t,r)}(e[kr],s,r)}function nn(e,t){const r=Ms(t,e),s=r[Nn];!function Cn(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(s,r);const l=r[hi];null!==l&&null===r[Lo]&&(r[Lo]=am(l,r[Tr])),zn(s,r,r[Br])}function zn(e,t,r){cu(t);try{var s;const l=e.viewQuery;null!==l&&f(1,l,r);const h=e.template;null!==h&&Bu(e,t,h,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(s=t[Ss])||void 0===s||s.finishViewCreation(e),e.staticContentQueries&&a(e,t),e.staticViewQueries&&f(2,e.viewQuery,r);const g=e.components;null!==g&&function Vn(e,t){for(let r=0;r<t.length;r++)nn(e,t[r])}(t,g)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[ur]&=-5,qd()}}function gr(e,t,r,s){const l=Ce(null);try{var h,g,I;const S=t.tView,de=Rd(e,S,r,4096&e[ur]?4096:16,null,t,null,null,null!==(h=null==s?void 0:s.injector)&&void 0!==h?h:null,null!==(g=null==s?void 0:s.embeddedViewInjector)&&void 0!==g?g:null,null!==(I=null==s?void 0:s.dehydratedView)&&void 0!==I?I:null);de[jl]=e[t.index];const dt=e[Ss];return null!==dt&&(de[Ss]=dt.createEmbeddedView(S)),zn(S,de,r),de}finally{Ce(l)}}function vr(e,t){return!t||null===t.firstChild||tf(e)}function Lr(e,t,r,s=!0){const l=t[Nn];if(function yb(e,t,r,s){const l=Vo+s,h=r.length;s>0&&(r[l-1][Mo]=t),s<h-Vo?(t[Mo]=r[l],is(r,Vo+s,t)):(r.push(t),t[Mo]=null),t[qi]=r;const g=t[jl];null!==g&&r!==g&&sI(g,t);const I=t[Ss];null!==I&&I.insertView(e),Xl(t),t[ur]|=128}(l,t,e,r),s){const g=Bv(r,e),I=t[kr],S=Om(I,e[Ea]);null!==S&&function iI(e,t,r,s,l,h){s[hi]=l,s[zi]=t,Lm(e,s,r,1,l,h)}(l,e[zi],I,t,S,g)}const h=t[Lo];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function Yr(e,t,r,s,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const h=t[r.index];null!==h&&s.push(Si(h)),ao(h)&&jt(h,s);const g=r.type;if(8&g)Yr(e,t,r.child,s);else if(32&g){const I=Pm(r,t);let S;for(;S=I();)s.push(S)}else if(16&g){const I=dI(t,r);if(Array.isArray(I))s.push(...I);else{const S=wa(t[no]);Yr(S[Nn],S,I,s,!0)}}r=l?r.projectionNext:r.next}return s}function jt(e,t){for(let r=Vo;r<e.length;r++){const s=e[r],l=s[Nn].firstChild;null!==l&&Yr(s[Nn],s,l,t)}e[Ea]!==e[hi]&&t.push(e[Ea])}let _t=[];const rn={...it,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Za(e.lView)},consumerOnSignalRead(){this.lView[Ys]=this}},Gc={...it,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=wa(e.lView);for(;t&&!Ah(t[Nn]);)t=wa(t);t&&ru(t)},consumerOnSignalRead(){this.lView[Ys]=this}};function Ah(e){return 2!==e.type}const EI=100;function $u(e,t=!0,r=0){const s=e[cs],l=s.rendererFactory;var g;null===(g=l.begin)||void 0===g||g.call(l);try{!function Ef(e,t){const r=ml();try{ud(!0),Od(e,t);let s=0;for(;Rl(e);){if(s===EI)throw new Ft(103,!1);s++,Od(e,1)}}finally{ud(r)}}(e,r)}catch(z){throw t&&me(e,z),z}finally{var I,S;null===(I=l.end)||void 0===I||I.call(l),null===(S=s.inlineEffectRunner)||void 0===S||S.flush()}}function ny(e,t,r,s){var l;const h=t[ur];if(!(256&~h))return;null===(l=t[cs].inlineEffectRunner)||void 0===l||l.flush(),cu(t);let S=!0,z=null,ee=null;Ah(e)?(ee=function kt(e){var t;return null!==(t=e[Ys])&&void 0!==t?t:function Gt(e){var t;const r=null!==(t=_t.pop())&&void 0!==t?t:Object.create(rn);return r.lView=e,r}(e)}(t),z=vt(ee)):null===function Re(){return o}()?(S=!1,ee=function xt(e){var t;const r=null!==(t=e[Ys])&&void 0!==t?t:Object.create(Gc);return r.lView=e,r}(t),z=vt(ee)):t[Ys]&&(St(t[Ys]),t[Ys]=null);try{Pc(t),function Wd(e){return Hr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Bu(e,t,r,2,s);const de=!(3&~h);if(de){const rt=e.preOrderCheckHooks;null!==rt&&Ql(t,rt,null)}else{const rt=e.preOrderHooks;null!==rt&&ja(t,rt,0,null),Yl(t,0)}if(function ju(e){for(let t=fp(e);null!==t;t=nv(t)){if(!(t[ur]&Hl.HasTransplantedViews))continue;const r=t[Qa];for(let s=0;s<r.length;s++)ru(r[s])}}(t),ry(t,0),null!==e.contentQueries&&a(e,t),de){const rt=e.contentCheckHooks;null!==rt&&Ql(t,rt)}else{const rt=e.contentHooks;null!==rt&&ja(t,rt,1),Yl(t,1)}!function Gv(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const l=r[s];if(l<0)Po(~l);else{const h=l,g=r[++s],I=r[++s];lu(g,h),I(2,t[h])}}}finally{Po(-1)}}(e,t);const Xe=e.components;null!==Xe&&oy(t,Xe,0);const dt=e.viewQuery;if(null!==dt&&f(2,dt,s),de){const rt=e.viewCheckHooks;null!==rt&&Ql(t,rt)}else{const rt=e.viewHooks;null!==rt&&ja(t,rt,2),Yl(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[so]){for(const rt of t[so])rt();t[so]=null}t[ur]&=-73}catch(de){throw Za(t),de}finally{null!==ee&&(ut(ee,z),S&&function Jt(e){e.lView[Ys]!==e&&(e.lView=null,_t.push(e))}(ee)),qd()}}function ry(e,t){for(let r=fp(e);null!==r;r=nv(r))for(let s=Vo;s<r.length;s++)iy(r[s],t)}function Ra(e,t,r){iy(Ms(t,e),r)}function iy(e,t){sd(e)&&Od(e,t)}function Od(e,t){const s=e[Nn],l=e[ur],h=e[Ys];let g=!!(0===t&&16&l);if(g||(g=!!(64&l&&0===t)),g||(g=!!(1024&l)),g||(g=!(null==h||!h.dirty||!Ot(h))),g||(g=!1),h&&(h.dirty=!1),e[ur]&=-9217,g)ny(s,e,s.template,e[Br]);else if(8192&l){ry(e,1);const I=s.components;null!==I&&oy(e,I,1)}}function oy(e,t,r){for(let s=0;s<t.length;s++)Ra(e,t[s],r)}function zc(e,t){var r;const s=ml()?64:1088;for(null===(r=e[cs].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[ur]|=s;const l=wa(e);if(Ca(e)&&!l)return e;e=l}return null}class bf{get rootNodes(){const t=this._lView,r=t[Nn];return Yr(r,t,r.firstChild,[])}constructor(t,r,s=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Br]}set context(t){this._lView[Br]=t}get destroyed(){return!(256&~this._lView[ur])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[qi];if(ao(t)){const r=t[8],s=r?r.indexOf(this):-1;s>-1&&(vf(t,s),bs(r,s))}this._attachedToViewContainer=!1}Bp(this._lView[Nn],this._lView)}onDestroy(t){ua(this._lView,t)}markForCheck(){zc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ur]&=-129}reattach(){Xl(this._lView),this._lView[ur]|=128}detectChanges(){this._lView[ur]|=1024,$u(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ca(this._lView),r=this._lView[jl];null!==r&&!t&&Nm(r,this._lView),oI(this._lView[Nn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ft(902,!1);this._appRef=t;const r=Ca(this._lView),s=this._lView[jl];null!==s&&!r&&sI(s,this._lView),Xl(this._lView)}}let Cf=(()=>{class t{}return t.__NG_ELEMENT_ID__=zm,t})();const Yp=Cf,Jp=class extends Yp{constructor(t,r,s){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=s}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,s){const l=gr(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:s});return new bf(l)}};function zm(){return Th(ei(),hn())}function Th(e,t){return 4&e.type?new Jp(t,e,rh(e,t)):null}let kh=()=>null;function Xu(e,t){return kh(e,t)}class Ld{}const Ac=new sr("",{providedIn:"root",factory:()=>!1}),Ay=new sr(""),a_=new sr("");class qu{}class Ty{}class wy{resolveComponentFactory(t){throw function VI(e){const t=Error(`No component factory found for ${En(e)}.`);return t.ngComponent=e,t}(t)}}class Qc{}Qc.NULL=new wy;class Vd{}let Dy=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function c_(){const e=hn(),r=Ms(ei().index,e);return(Eo(r)?r:e)[kr]}(),t})(),hs=(()=>{var e;class t{}return(e=t).\u0275prov=Dr({token:e,providedIn:"root",factory:()=>null}),t})();function Qu(e){return!!Io(e)}function Vh(e,t,r){let s=r?e.styles:null,l=r?e.classes:null,h=0;if(null!==t)for(let g=0;g<t.length;g++){const I=t[g];"number"==typeof I?h=I:1==h?l=Xt(l,I):2==h&&(s=Xt(s,I+": "+t[++g]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=l:e.classesWithoutHost=l}class Vf extends Qc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Pr(t);return new Uf(r,this.ngModule)}}function f_(e,t){const r=[];for(const s in e){if(!e.hasOwnProperty(s))continue;const l=e[s];if(void 0===l)continue;const h=Array.isArray(l),g=h?l[0]:l;r.push(t?{propName:g,templateName:s,isSignal:!!((h?l[1]:Jn.None)&Jn.SignalBased)}:{propName:g,templateName:s})}return r}class Uf extends Ty{get inputs(){const t=this.componentDef,r=t.inputTransforms,s=f_(t.inputs,!0);if(null!==r)for(const l of s)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return s}get outputs(){return f_(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function cr(e){return e.map(_n).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,s,l){const h=Ce(null);try{var I;let S=(l=l||this.ngModule)instanceof Ho?l:null===(I=l)||void 0===I?void 0:I.injector;S&&null!==this.componentDef.getStandaloneInjector&&(S=this.componentDef.getStandaloneInjector(S)||S);const z=S?new re(t,S):t,ee=z.get(Vd,null);if(null===ee)throw new Ft(407,!1);const dt={rendererFactory:ee,sanitizer:z.get(hs,null),inlineEffectRunner:null,changeDetectionScheduler:z.get(Ld,null)},rt=ee.createRenderer(null,this.componentDef),un=this.componentDef.selectors[0][0]||"div",Tn=s?function Ga(e,t,r,s){const h=s.get(ea,!1)||r===An.ShadowDom,g=e.selectRootElement(t,h);return function pI(e){Xp(e)}(g),g}(rt,s,this.componentDef.encapsulation,z):Up(rt,un,function lg(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(un));let Gn=512;this.componentDef.signals?Gn|=4096:this.componentDef.onPush||(Gn|=16);let mn=null;null!==Tn&&(mn=am(Tn,z,!0));const $r=Pd(0,null,null,1,0,null,null,null,null,null,null),Jr=Rd(null,$r,null,Gn,null,null,dt,rt,z,null,mn);cu(Jr);let $o,va,ol=null;try{const oc=this.componentDef;let Xf,tb=null;oc.findHostDirectiveDefs?(Xf=[],tb=new Map,oc.findHostDirectiveDefs(oc,Xf,tb),Xf.push(oc)):Xf=[oc];const G1=function Bf(e,t){const r=e[Nn],s=pr;return e[s]=t,Md(r,s,2,"#host",null)}(Jr,Tn);ol=function My(e,t,r,s,l,h,g){const I=l[Nn];!function Py(e,t,r,s){for(const l of e)t.mergedAttrs=ai(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&(Vh(t,t.mergedAttrs,!0),null!==r&&zp(s,r,t))}(s,e,t,g);let S=null;null!==t&&(S=am(t,l[Tr]));const z=h.rendererFactory.createRenderer(t,r);let ee=16;r.signals?ee=4096:r.onPush&&(ee=64);const de=Rd(l,Bm(r),null,ee,l[e.index],e,h,z,null,null,S);return I.firstCreatePass&&Hm(I,e,s.length-1),u(l,de),l[e.index]=de}(G1,Tn,oc,Xf,Jr,dt,rt),va=Wl($r,pr),Tn&&function g_(e,t,r,s){if(s)Zi(e,r,["ng-version","18.2.13"]);else{const{attrs:l,classes:h}=function xi(e){const t=[],r=[];let s=1,l=2;for(;s<e.length;){let h=e[s];if("string"==typeof h)2===l?""!==h&&t.push(h,e[++s]):8===l&&r.push(h);else{if(!as(l))break;l=h}s++}return{attrs:t,classes:r}}(t.selectors[0]);l&&Zi(e,r,l),h&&h.length>0&&$v(e,r,h.join(" "))}}(rt,oc,Tn,s),void 0!==r&&function xy(e,t,r){const s=e.projection=[];for(let l=0;l<t.length;l++){const h=r[l];s.push(null!=h?Array.from(h):null)}}(va,this.ngContentSelectors,r),$o=function p_(e,t,r,s,l,h){const g=ei(),I=l[Nn],S=Rs(g,l);If(I,l,g,r,null,s);for(let ee=0;ee<r.length;ee++)Zs(ts(l,I,g.directiveStart+ee,g),l);Qv(I,l,g),S&&Zs(S,l);const z=ts(l,I,g.directiveStart+g.componentOffset,g);if(e[Br]=l[Br]=z,null!==h)for(const ee of h)ee(z,t);return nl(I,g,l),z}(ol,oc,Xf,tb,Jr,[cg]),zn($r,Jr,null)}catch(oc){throw null!==ol&&rf(ol),rf(Jr),oc}finally{qd()}return new Ry(this.componentType,$o,rh(va,Jr),Jr,va)}finally{Ce(h)}}}class Ry extends qu{constructor(t,r,s,l,h){super(),this.location=s,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new bf(l,void 0,!1),this.componentType=t}setInput(t,r){const s=this._tNode.inputs;let l;if(null!==s&&(l=s[t])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const g=this._rootLView;Be(g[Nn],g,l,t,r),this.previousInputValues.set(t,r),zc(Ms(this._tNode.index,g),1)}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function cg(){const e=ei();xl(hn()[Nn],e)}let $f=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ny,t})();function Ny(){return v_(ei(),hn())}const Ud=$f,m_=class extends Ud{constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return rh(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const t=vc(this._hostTNode,this._hostLView);if(Ie(t)){const r=Rn(t,this._hostLView),s=Pt(t);return new ys(r[Nn].data[s+8],r)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=__(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Vo}createEmbeddedView(t,r,s){let l,h;"number"==typeof s?l=s:null!=s&&(l=s.index,h=s.injector);const g=Xu(this._lContainer,t.ssrId),I=t.createEmbeddedViewImpl(r||{},h,g);return this.insertImpl(I,l,vr(this._hostTNode,g)),I}createComponent(t,r,s,l,h){var g,I,S;const z=t&&!function Dn(e){return"function"==typeof e}(t);let ee;if(z)ee=r;else{const Gn=r||{};ee=Gn.index,s=Gn.injector,l=Gn.projectableNodes,h=Gn.environmentInjector||Gn.ngModuleRef}const de=z?t:new Uf(Pr(t)),Xe=s||this.parentInjector;if(!h&&null==de.ngModule){const mn=(z?Xe:this.parentInjector).get(Ho,null);mn&&(h=mn)}const dt=Pr(null!==(g=de.componentType)&&void 0!==g?g:{}),rt=Xu(this._lContainer,null!==(I=null==dt?void 0:dt.id)&&void 0!==I?I:null),un=null!==(S=null==rt?void 0:rt.firstChild)&&void 0!==S?S:null,Tn=de.create(Xe,l,un,h);return this.insertImpl(Tn.hostView,ee,vr(this._hostTNode,rt)),Tn}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,s){const l=t._lView;if(function hl(e){return ao(e[qi])}(l)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const S=l[qi],z=new m_(S,S[zi],S[qi]);z.detach(z.indexOf(t))}}const h=this._adjustIndex(r),g=this._lContainer;return Lr(g,l,h,s),t.attachToViewContainerRef(),is(ug(g),h,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=__(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),s=vf(this._lContainer,r);s&&(bs(ug(this._lContainer),r),Bp(s[Nn],s))}detach(t){const r=this._adjustIndex(t,-1),s=vf(this._lContainer,r);return s&&null!=bs(ug(this._lContainer),r)?new bf(s):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function __(e){return e[8]}function ug(e){return e[8]||(e[8]=[])}function v_(e,t){let r;const s=t[e.index];return ao(s)?r=s:(r=i(s,t,null,e),t[e.index]=r,u(t,r)),il(r,t,e,s),new m_(r,e,t)}let il=function Bd(e,t,r,s){if(e[Ea])return;let l;l=8&r.type?Si(s):function dg(e,t){const r=e[kr],s=r.createComment(""),l=Rs(t,e);return Sd(r,Om(r,l),s,function lI(e,t){return e.nextSibling(t)}(r,l),!1),s}(t,r),e[Ea]=l},hg=()=>!1;class Pe{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pe(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zt{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const s=null!==t.contentQueries?t.contentQueries[0]:r.length,l=[];for(let h=0;h<s;h++){const g=r.getByIndex(h);l.push(this.queries[g.indexInDeclarationView].clone())}return new Zt(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==BI(t,r).matches&&this.queries[r].setDirty()}}class fn{constructor(t,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof t?function Gw(e){return e.split(",").map(t=>t.trim())}(t):t}}class rr{constructor(t=[]){this.queries=t}elementStart(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let s=0;s<this.length;s++){const l=null!==r?r.length:0,h=this.getByIndex(s).embeddedTView(t,l);h&&(h.indexInDeclarationView=s,null!==r?r.push(h):r=[h])}return null!==r?new rr(r):null}template(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bo{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new bo(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const h=s[l];this.matchTNodeWithReadOption(t,r,ga(r,h)),this.matchTNodeWithReadOption(t,r,Yh(r,t,h,!1,!1))}else s===Cf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Yh(r,t,s,!1,!1))}matchTNodeWithReadOption(t,r,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===ih||l===$f||l===Cf&&4&r.type)this.addMatch(r.index,-2);else{const h=Yh(r,t,l,!1,!1);null!==h&&this.addMatch(r.index,h)}else this.addMatch(r.index,s)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function ga(e,t){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===t)return r[s+1];return null}function Pa(e,t,r,s){return-1===r?function ro(e,t){return 11&e.type?rh(e,t):4&e.type?Th(e,t):null}(t,e):-2===r?function xa(e,t,r){return r===ih?rh(t,e):r===Cf?Th(t,e):r===$f?v_(t,e):void 0}(e,t,s):ts(e,e[Nn],r,t)}function $d(e,t,r,s){const l=t[Ss].queries[s];if(null===l.matches){const h=e.data,g=r.matches,I=[];for(let S=0;null!==g&&S<g.length;S+=2){const z=g[S];I.push(z<0?null:Pa(t,h[z],g[S+1],r.metadata.read))}l.matches=I}return l.matches}function bl(e,t,r,s){const l=e.queries.getByIndex(r),h=l.matches;if(null!==h){const g=$d(e,t,l,r);for(let I=0;I<h.length;I+=2){const S=h[I];if(S>0)s.push(g[I/2]);else{const z=h[I+1],ee=t[-S];for(let de=Vo;de<ee.length;de++){const Xe=ee[de];Xe[jl]===Xe[qi]&&bl(Xe[Nn],Xe,z,s)}if(null!==ee[Qa]){const de=ee[Qa];for(let Xe=0;Xe<de.length;Xe++){const dt=de[Xe];bl(dt[Nn],dt,z,s)}}}}}return s}function fg(e,t,r){var s;const l=new ip(!(4&~r));return function $m(e,t,r,s){const l=N(t);l.push(r),e.firstCreatePass&&U(e).push(s,l.length-1)}(e,t,l,l.destroy),(null!==(s=t[Ss])&&void 0!==s?s:t[Ss]=new Zt).queries.push(new Pe(l))-1}function Ab(e,t,r){null===e.queries&&(e.queries=new rr),e.queries.track(new bo(t,r))}function BI(e,t){return e.queries.getByIndex(t)}function Tb(e,t){const r=e[Nn],s=BI(r,t);return s.crossesNgTemplate?bl(r,e,t,[]):$d(r,e,s,t)}const wb=new Set;function Cl(e){var t,r;wb.has(e)||(wb.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function Sb(e,t){Cl("NgSignals");const r=function Se(e){const t=Object.create(lt);t.value=e;const r=()=>(Me(t),t.value);return r[W]=t,r}(e),s=r[W];return null!=t&&t.equal&&(s.equal=t.equal),r.set=l=>Ke(s,l),r.update=l=>function tt(e,t){pt()||We(),Ke(e,t(e.value))}(s,l),r.asReadonly=Rb.bind(r),r}function Rb(){const e=this[W];if(void 0===e.readonlyFn){const t=()=>this();t[W]=e,e.readonlyFn=t}return e.readonlyFn}function Mb(e){return function Db(e){return"function"==typeof e&&void 0!==e[W]}(e)&&"function"==typeof e.set}function jI(e){let t=function $b(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;t;){let l;if(Do(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ft(903,!1);l=t.\u0275dir}if(l){if(r){s.push(l);const g=e;g.inputs=ky(e.inputs),g.inputTransforms=ky(e.inputTransforms),g.declaredInputs=ky(e.declaredInputs),g.outputs=ky(e.outputs);const I=l.hostBindings;I&&oD(e,I);const S=l.viewQuery,z=l.contentQueries;if(S&&rD(e,S),z&&iD(e,z),tD(e,l),Er(e.outputs,l.outputs),Do(l)&&l.data.animation){const ee=e.data;ee.animation=(ee.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let g=0;g<h.length;g++){const I=h[g];I&&I.ngInherit&&I(e),I===jI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function nD(e){let t=0,r=null;for(let s=e.length-1;s>=0;s--){const l=e[s];l.hostVars=t+=l.hostVars,l.hostAttrs=ai(l.hostAttrs,r=ai(r,l.hostAttrs))}}(s)}function tD(e,t){for(const s in t.inputs){if(!t.inputs.hasOwnProperty(s)||e.inputs.hasOwnProperty(s))continue;const l=t.inputs[s];if(void 0!==l&&(e.inputs[s]=l,e.declaredInputs[s]=t.declaredInputs[s],null!==t.inputTransforms)){var r;const h=Array.isArray(l)?l[0]:l;if(!t.inputTransforms.hasOwnProperty(h))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[h]=t.inputTransforms[h]}}}function ky(e){return e===Or?{}:e===Wr?[]:e}function rD(e,t){const r=e.viewQuery;e.viewQuery=r?(s,l)=>{t(s,l),r(s,l)}:t}function iD(e,t){const r=e.contentQueries;e.contentQueries=r?(s,l,h)=>{t(s,l,h),r(s,l,h)}:t}function oD(e,t){const r=e.hostBindings;e.hostBindings=r?(s,l)=>{t(s,l),r(s,l)}:t}function Wb(e){const t=e.inputConfig,r={};for(const s in t)if(t.hasOwnProperty(s)){const l=t[s];Array.isArray(l)&&l[3]&&(r[s]=l[3])}e.inputTransforms=r}class jf{}class Kb{}function dD(e,t){return new GI(e,null!=t?t:null,[])}class GI extends jf{constructor(t,r,s,l=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vf(this);const h=Io(t);this._bootstrapComponents=El(h.bootstrap),this._r3Injector=Dt(t,r,[{provide:jf,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver},...s],En(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zI extends Kb{constructor(t){super(),this.moduleType=t}create(t){return new GI(this.moduleType,t,[])}}class Xb extends jf{constructor(t){super(),this.componentFactoryResolver=new Vf(this),this.instance=null;const r=new vs([...t.providers,{provide:jf,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],t.parent||La(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function WI(e,t,r=null){return new Xb({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function Fy(e){return!!KI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function KI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ju(e,t,r){return e[t]=r}function Gs(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Hf(e,t,r,s){const l=Gs(e,t,r);return Gs(e,t+1,s)||l}function Ly(e,t,r,s,l){const h=Hf(e,t,r,s);return Gs(e,t+2,l)||h}function b_(e,t,r,s,l,h,g,I,S,z){const ee=r+pr,de=t.firstCreatePass?function _D(e,t,r,s,l,h,g,I,S){const z=t.consts,ee=Md(t,e,4,g||null,I||null);qp(t,r,ee,Ta(z,S)),xl(t,ee);const de=ee.tView=Pd(2,ee,s,l,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,z,null);return null!==t.queries&&(t.queries.template(t,ee),de.queries=t.queries.embeddedTView(ee)),ee}(ee,t,e,s,l,h,g,I,S):t.data[ee];js(de,!1);const Xe=qb(t,e,de,r);el()&&$p(t,e,Xe,de),Zs(Xe,e);const dt=i(Xe,e,Xe,de);return e[ee]=dt,u(e,dt),function y_(e,t,r){return hg(e,t,r)}(dt,de,e),eo(de)&&fa(t,e,de),null!=S&&Kp(e,de,z),de}function XI(e,t,r,s,l,h,g,I){const S=hn(),z=Kr();return b_(S,z,e,t,r,s,l,Ta(z.consts,h),g,I),XI}let qb=function Qb(e,t,r,s){return yl(!0),t[kr].createComment("")};var _g=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_g||{});let nC=(()=>{var e;class t{constructor(){this.impl=null}execute(){var s;null===(s=this.impl)||void 0===s||s.execute()}}return(e=t).\u0275prov=Dr({token:e,providedIn:"root",factory:()=>new e}),t})();class $y{constructor(){this.ngZone=Tt(fo),this.scheduler=Tt(Ld),this.errorHandler=Tt(tc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of $y.PHASES)for(const s of this.sequences)if(!s.erroredOrDestroyed&&s.hooks[r])try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>s.hooks[r](s.pipelinedValue))}catch(l){var t;s.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(l)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(Fe=$y).PHASES=[_g.EarlyRead,_g.Write,_g.MixedReadWrite,_g.Read],Fe.\u0275prov=Dr({token:Fe,providedIn:"root",factory:()=>new Fe});class ED{constructor(t,r,s,l){this.impl=t,this.hooks=r,this.once=s,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==l?void 0:l.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var t;this.impl.unregister(this),null===(t=this.unregisterOnDestroy)||void 0===t||t.call(this)}}function jy(e,t){var r;(null==t||!t.injector)&&function R(e){if(!$l())throw new Ft(-203,!1)}();const s=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Tt(Kt);return function xs(e){return"browser"===(null!=e?e:Tt(Kt)).get(yp)}(s)?(Cl("NgAfterNextRender"),function rC(e,t,r,s){var l,h;const g=t.get(nC);null!==(l=g.impl)&&void 0!==l||(g.impl=t.get($y));const I=null!==(h=null==r?void 0:r.phase)&&void 0!==h?h:_g.MixedReadWrite,S=!0!==(null==r?void 0:r.manualCleanup)?t.get(wr):null,z=new ED(g.impl,function CD(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,I),s,S);return g.impl.register(z),z}(e,s,t,!0)):iC}const iC={destroy(){}};function oE(e,t,r,s){const l=hn();return Gs(l,Hs(),t)&&(Kr(),nc(lo(),l,e,t,r,s)),oE}function Ag(e,t,r,s){return Gs(e,Hs(),r)?t+jn(r)+s:ci}function zy(e,t){return e<<17|t<<2}function $h(e){return e>>17&32767}function sE(e){return 2|e}function zf(e){return(131068&e)>>2}function aE(e,t){return-131069&e|t<<2}function lE(e){return 1|e}function MC(e,t,r,s){const l=e[r+1],h=null===t;let g=s?$h(l):zf(l),I=!1;for(;0!==g&&(!1===I||h);){const z=e[g+1];oS(e[g],t)&&(I=!0,e[g+1]=s?lE(z):sE(z)),g=s?$h(z):zf(z)}I&&(e[r+1]=s?sE(l):lE(l))}function oS(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Os(e,t)>=0}function cE(e,t,r){const s=hn();return Gs(s,Hs(),t)&&rl(Kr(),lo(),s,e,t,s[kr],r,!1),cE}function uE(e,t,r,s,l){const g=l?"class":"style";Be(e,r,t.inputs[g],g,s)}function dE(e,t){return function Jc(e,t,r,s){const l=hn(),h=Kr(),g=_l(2);h.firstUpdatePass&&function UC(e,t,r,s){const l=e.data;if(null===l[r+1]){const h=l[es()],g=function VC(e,t){return t>=e.expandoStartIndex}(e,r);(function HC(e,t){return!!(e.flags&(t?8:16))})(h,s)&&null===t&&!g&&(t=!1),t=function pS(e,t,r,s){const l=function Lc(e){const t=Hr.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=s?t.residualClasses:t.residualStyles;if(null===l)0===(s?t.classBindings:t.styleBindings)&&(r=w_(r=hE(null,e,t,r,s),t.attrs,s),h=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==l)if(r=hE(l,e,t,r,s),null===h){let S=function gS(e,t,r){const s=r?t.classBindings:t.styleBindings;if(0!==zf(s))return e[$h(s)]}(e,t,s);void 0!==S&&Array.isArray(S)&&(S=hE(null,e,t,S[1],s),S=w_(S,t.attrs,s),function mS(e,t,r,s){e[$h(r?t.classBindings:t.styleBindings)]=s}(e,t,s,S))}else h=function _S(e,t,r){let s;const l=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<l;h++)s=w_(s,e[h].hostAttrs,r);return w_(s,t.attrs,r)}(e,t,s)}return void 0!==h&&(s?t.residualClasses=h:t.residualStyles=h),r}(l,h,t,s),function rS(e,t,r,s,l,h){let g=h?t.classBindings:t.styleBindings,I=$h(g),S=zf(g);e[s]=r;let ee,z=!1;if(Array.isArray(r)?(ee=r[1],(null===ee||Os(r,ee)>0)&&(z=!0)):ee=r,l)if(0!==S){const Xe=$h(e[I+1]);e[s+1]=zy(Xe,I),0!==Xe&&(e[Xe+1]=aE(e[Xe+1],s)),e[I+1]=function tS(e,t){return 131071&e|t<<17}(e[I+1],s)}else e[s+1]=zy(I,0),0!==I&&(e[I+1]=aE(e[I+1],s)),I=s;else e[s+1]=zy(S,0),0===I?I=s:e[S+1]=aE(e[S+1],s),S=s;z&&(e[s+1]=sE(e[s+1])),MC(e,ee,s,!0),MC(e,ee,s,!1),function iS(e,t,r,s,l){const h=l?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Os(h,t)>=0&&(r[s+1]=lE(r[s+1]))}(t,ee,e,s,h),g=zy(I,S),h?t.classBindings=g:t.styleBindings=g}(l,h,t,r,g,s)}}(h,e,g,s),t!==ci&&Gs(l,g,t)&&function $C(e,t,r,s,l,h,g,I){if(!(3&t.type))return;const S=e.data,z=S[I+1],ee=function nS(e){return!(1&~e)}(z)?jC(S,t,r,l,zf(z),g):void 0;Wy(ee)||(Wy(h)||function eS(e){return!(2&~e)}(z)&&(h=jC(S,null,r,l,I,g)),function Gp(e,t,r,s,l){if(t)l?e.addClass(r,s):e.removeClass(r,s);else{let h=-1===s.indexOf("-")?void 0:Lp.DashCase;null==l?e.removeStyle(r,s,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Lp.Important),e.setStyle(r,s,l,h))}}(s,g,dc(es(),r),l,h))}(h,h.data[es()],l,l[kr],e,l[g+1]=function ES(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=En(Nu(e)))),e}(t,r),s,g)}(e,t,null,!0),dE}function hE(e,t,r,s,l){let h=null;const g=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<g&&(h=t[I],s=w_(s,h.hostAttrs,l),h!==e);)I++;return null!==e&&(r.directiveStylingLast=I),s}function w_(e,t,r){const s=r?1:2;let l=-1;if(null!==t)for(let h=0;h<t.length;h++){const g=t[h];"number"==typeof g?l=g:l===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ri(e,g,!!r||t[++h]))}return void 0===e?null:e}function jC(e,t,r,s,l,h){const g=null===t;let I;for(;l>0;){const S=e[l],z=Array.isArray(S),ee=z?S[1]:S,de=null===ee;let Xe=r[l+1];Xe===ci&&(Xe=de?Wr:void 0);let dt=de?ta(Xe,s):ee===s?Xe:void 0;if(z&&!Wy(dt)&&(dt=ta(S,s)),Wy(dt)&&(I=dt,g))return I;const rt=e[l+1];l=g?$h(rt):zf(rt)}if(null!==t){let S=h?t.residualClasses:t.residualStyles;null!=S&&(I=ta(S,s))}return I}function Wy(e){return void 0!==e}function Xy(e,t,r,s){const l=hn(),h=Kr(),g=pr+e,I=l[kr],S=h.firstCreatePass?function GS(e,t,r,s,l,h){const g=t.consts,S=Md(t,e,2,s,Ta(g,l));return qp(t,r,S,Ta(g,h)),null!==S.attrs&&Vh(S,S.attrs,!1),null!==S.mergedAttrs&&Vh(S,S.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,S),S}(g,h,l,t,r,s):h.data[g],z=KC(h,l,S,I,t,e);l[g]=z;const ee=eo(S);return js(S,!0),zp(I,z,S),!function gg(e){return!(32&~e.flags)}(S)&&el()&&$p(h,l,z,S),0===function ad(){return Hr.lFrame.elementDepthCount}()&&Zs(z,l),function Oc(){Hr.lFrame.elementDepthCount++}(),ee&&(fa(h,l,S),nl(h,S,l)),null!==s&&Kp(l,S),Xy}function qy(){let e=ei();au()?Ba():(e=e.parent,js(e,!1));const t=e;(function ld(e){return Hr.skipHydrationRootTNode===e})(t)&&function da(){Hr.skipHydrationRootTNode=null}(),function Hd(){Hr.lFrame.elementDepthCount--}();const r=Kr();return r.firstCreatePass&&(xl(r,e),ba(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Xh(e){return!!(8&e.flags)}(t)&&uE(r,t,hn(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function w(e){return!!(16&e.flags)}(t)&&uE(r,t,hn(),t.stylesWithoutHost,!1),qy}function mE(e,t,r,s){return Xy(e,t,r,s),qy(),mE}let KC=(e,t,r,s,l,h)=>(yl(!0),Up(s,l,function du(){return Hr.lFrame.currentNamespace}()));function Qy(e,t,r){const s=hn(),l=Kr(),h=e+pr,g=l.firstCreatePass?function KS(e,t,r,s,l){const h=t.consts,g=Ta(h,s),I=Md(t,e,8,"ng-container",g);return null!==g&&Vh(I,g,!0),qp(t,r,I,Ta(h,l)),null!==t.queries&&t.queries.elementStart(t,I),I}(h,l,s,t,r):l.data[h];js(g,!0);const I=XC(l,s,g,e);return s[h]=I,el()&&$p(l,s,I,g),Zs(I,s),eo(g)&&(fa(l,s,g),nl(l,g,s)),null!=r&&Kp(s,g),Qy}function Yy(){let e=ei();const t=Kr();return au()?Ba():(e=e.parent,js(e,!1)),t.firstCreatePass&&(xl(t,e),ba(e)&&t.queries.elementEnd(e)),Yy}function _E(e,t,r){return Qy(e,t,r),Yy(),_E}let XC=(e,t,r,s)=>(yl(!0),xm(t[kr],""));function qC(){return hn()}const Wf=void 0;var YS=["en",[["a","p"],["AM","PM"],Wf],[["AM","PM"],Wf,Wf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wf,"{1} 'at' {0}",Wf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QS(e){const r=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let Ng={};function vE(e){const t=function JS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=ZC(t);if(r)return r;const s=t.split("-")[0];if(r=ZC(s),r)return r;if("en"===s)return YS;throw new Ft(701,!1)}function JC(e){return vE(e)[Og.PluralCase]}function ZC(e){return e in Ng||(Ng[e]=Pn.ng&&Pn.ng.common&&Pn.ng.common.locales&&Pn.ng.common.locales[e]),Ng[e]}var Og=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Og||{});const Jy="en-US";let eA=Jy,vA=(e,t,r)=>{};function EE(e,t,r,s){const l=hn(),h=Kr(),g=ei();return bE(h,l,l[kr],g,e,t,s),EE}function bE(e,t,r,s,l,h,g){const I=eo(s),z=e.firstCreatePass&&U(e),ee=t[Br],de=N(t);let Xe=!0;if(3&s.type||g){const un=Rs(s,t),Tn=g?g(un):un,Gn=de.length,mn=g?Jr=>g(Si(Jr[s.index])):s.index;let $r=null;if(!g&&I&&($r=function BR(e,t,r,s){const l=e.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const g=l[h];if(g===r&&l[h+1]===s){const I=t[qs],S=l[h+2];return I.length>S?I[S]:null}"string"==typeof g&&(h+=2)}return null}(e,t,l,s.index)),null!==$r)($r.__ngLastListenerFn__||$r).__ngNextListenerFn__=h,$r.__ngLastListenerFn__=h,Xe=!1;else{h=bA(s,t,ee,h),vA(un,l,h);const Jr=r.listen(Tn,l,h);de.push(h,Jr),z&&z.push(l,mn,Gn,Gn+1)}}else h=bA(s,t,ee,h);const dt=s.outputs;let rt;if(Xe&&null!==dt&&(rt=dt[l])){const un=rt.length;if(un)for(let Tn=0;Tn<un;Tn+=2){const $o=t[rt[Tn]][rt[Tn+1]].subscribe(h),va=de.length;de.push(h,$o),z&&z.push(l,s.index,va,-(va+1))}}}function EA(e,t,r,s){const l=Ce(null);try{return ds(6,t,r),!1!==r(s)}catch(h){return me(e,h),!1}finally{ds(7,t,r),Ce(l)}}function bA(e,t,r,s){return function l(h){if(h===Function)return s;zc(e.componentOffset>-1?Ms(e.index,t):t,5);let I=EA(t,r,s,h),S=l.__ngNextListenerFn__;for(;S;)I=EA(t,r,S,h)&&I,S=S.__ngNextListenerFn__;return I}}function CA(e=1){return function qf(e){return(Hr.lFrame.contextLView=function jd(e,t){for(;e>0;)t=t[wl],e--;return t}(e,Hr.lFrame.contextLView))[Br]}(e)}function $R(e,t){let r=null;const s=function Z(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let l=0;l<t.length;l++){const h=t[l];if("*"!==h){if(null===s?ya(e,h,!0):K(s,h))return l}else r=l}return r}function AA(e){const t=hn()[no][zi];if(!t.projection){const s=t.projection=function ho(e,t){const r=[];for(let s=0;s<e;s++)r.push(t);return r}(e?e.length:1,null),l=s.slice();let h=t.child;for(;null!==h;){if(128!==h.type){const g=e?$R(h,e):0;null!==g&&(l[g]?l[g].projectionNext=h:s[g]=h,l[g]=h)}h=h.next}}}function TA(e,t=0,r,s,l,h){const g=hn(),I=Kr(),S=s?e+1:null;null!==S&&b_(g,I,S,s,l,h,null,r);const z=Md(I,pr+e,16,null,r||null);null===z.projection&&(z.projection=t),Ba();const de=!g[Lo]||fl();null===g[no][zi].projection[z.projection]&&null!==S?function jR(e,t,r){const s=pr+r,l=t.data[s],h=e[s],g=Xu(h,l.tView.ssrId);Lr(h,gr(e,l,void 0,{dehydratedView:g}),0,vr(l,g))}(g,I,S):de&&32&~z.flags&&function Ib(e,t,r){hI(t[kr],0,t,r,Cc(e,r,t),Vv(r.parent||t[zi],r,t))}(I,g,z)}function CE(e,t,r){return n0(e,"",t,"",r),CE}function n0(e,t,r,s,l){const h=hn(),g=Ag(h,t,r,s);return g!==ci&&rl(Kr(),lo(),h,e,g,h[kr],l,!1),n0}function OA(e,t,r,s){!function Cb(e,t,r,s){const l=Kr();if(l.firstCreatePass){const h=ei();Ab(l,new fn(t,r,s),h.index),function zw(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return fg(l,hn(),r)}(e,t,r,s)}function kA(e,t,r){!function bb(e,t,r){const s=Kr();return s.firstCreatePass&&(Ab(s,new fn(e,t,r),-1),!(2&~t)&&(s.staticViewQueries=!0)),fg(s,hn(),t)}(e,t,r)}function FA(e){const t=hn(),r=Kr(),s=Xd();ql(s+1);const l=BI(r,s);if(e.dirty&&function Kl(e){return!(4&~e[ur])}(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const h=Tb(t,s);e.reset(h,X_),e.notifyOnChanges()}return!0}return!1}function LA(){return function Uh(e,t){return e[Ss].queries[t].queryList}(hn(),Xd())}function VA(e){return Sl(function gl(){return Hr.lFrame.contextLView}(),pr+e)}function XA(e,t=""){const r=hn(),s=Kr(),l=e+pr,h=s.firstCreatePass?Md(s,l,1,t,null):s.data[l],g=qA(s,r,h,t,e);r[l]=g,el()&&$p(s,r,g,h),js(h,!1)}let qA=(e,t,r,s,l)=>(yl(!0),function Pv(e,t){return e.createText(t)}(t[kr],s));function TE(e){return r0("",e,""),TE}function r0(e,t,r){const s=hn(),l=Ag(s,e,t,r);return l!==ci&&It(s,es(),l),r0}function wE(e,t,r,s,l){const h=hn(),g=function Tg(e,t,r,s,l,h){const I=Hf(e,$a(),r,l);return _l(2),I?t+jn(r)+s+jn(l)+h:ci}(h,e,t,r,s,l);return g!==ci&&It(h,es(),g),wE}function DE(e,t,r,s,l,h,g){const I=hn(),S=function wg(e,t,r,s,l,h,g,I){const z=Ly(e,$a(),r,l,g);return _l(3),z?t+jn(r)+s+jn(l)+h+jn(g)+I:ci}(I,e,t,r,s,l,h,g);return S!==ci&&It(I,es(),S),DE}function SE(e,t,r){Mb(t)&&(t=t());const s=hn();return Gs(s,Hs(),t)&&rl(Kr(),lo(),s,e,t,s[kr],r,!1),SE}function nT(e,t){const r=Mb(e);return r&&e.set(t),r}function RE(e,t){const r=hn(),s=Kr(),l=ei();return bE(s,r,r[kr],l,e,t),RE}function ME(e,t,r,s,l){if(e=$e(e),Array.isArray(e))for(let h=0;h<e.length;h++)ME(e[h],t,r,s,l);else{const h=Kr(),g=hn(),I=ei();let S=Vs(e)?e:$e(e.provide);const z=cl(e),ee=1048575&I.providerIndexes,de=I.directiveStart,Xe=I.providerIndexes>>20;if(Vs(e)||!e.multi){const dt=new pu(z,l,Uu),rt=xE(S,t,l?ee:ee+Xe,de);-1===rt?(yc(Nl(I,g),h,S),PE(h,e,t.length),t.push(S),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),r.push(dt),g.push(dt)):(r[rt]=dt,g[rt]=dt)}else{const dt=xE(S,t,ee+Xe,de),rt=xE(S,t,ee,ee+Xe),Tn=rt>=0&&r[rt];if(l&&!Tn||!l&&!(dt>=0&&r[dt])){yc(Nl(I,g),h,S);const Gn=function lM(e,t,r,s,l){const h=new pu(e,r,Uu);return h.multi=[],h.index=t,h.componentProviders=0,oT(h,l,s&&!r),h}(l?aM:sM,r.length,l,s,z);!l&&Tn&&(r[rt].providerFactory=Gn),PE(h,e,t.length,0),t.push(S),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),r.push(Gn),g.push(Gn)}else PE(h,e,dt>-1?dt:rt,oT(r[l?rt:dt],z,!l&&s));!l&&s&&Tn&&r[rt].componentProviders++}}}function PE(e,t,r,s){const l=Vs(t),h=function Tl(e){return!!e.useClass}(t);if(l||h){const S=(h?$e(t.useClass):t).prototype.ngOnDestroy;if(S){const z=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const ee=z.indexOf(r);-1===ee?z.push(r,[s,S]):z[ee+1].push(s,S)}else z.push(r,S)}}}function oT(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function xE(e,t,r,s){for(let l=r;l<s;l++)if(t[l]===e)return l;return-1}function sM(e,t,r,s){return NE(this.multi,[])}function aM(e,t,r,s){const l=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,I=ts(r,r[Nn],this.providerFactory.index,s);h=I.slice(0,g),NE(l,h);for(let S=g;S<I.length;S++)h.push(I[S])}else h=[],NE(l,h);return h}function NE(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function sT(e,t=[]){return r=>{r.providersResolver=(s,l)=>function oM(e,t,r){const s=Kr();if(s.firstCreatePass){const l=Do(e);ME(r,s.data,s.blueprint,l,!0),ME(t,s.data,s.blueprint,l,!1)}}(s,l?l(e):e,t)}}let cM=(()=>{var e;class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const l=_s(0,s.type),h=l.length>0?WI([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,h)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Dr({token:e,providedIn:"environment",factory:()=>new e(ot(Ho))}),t})();function aT(e){Cl("NgStandalone"),e.getStandaloneInjector=t=>t.get(cM).getOrCreateStandaloneInjector(e)}function uT(e,t,r){const s=Uo()+e,l=hn();return l[s]===ci?Ju(l,s,r?t.call(r):t()):function E_(e,t){return e[t]}(l,s)}function dT(e,t,r,s){return hT(hn(),Uo(),e,t,r,s)}function x_(e,t){const r=e[t];return r===ci?void 0:r}function hT(e,t,r,s,l,h){const g=t+r;return Gs(e,g,l)?Ju(e,g+1,h?s.call(h,l):s(l)):x_(e,g+1)}function _T(e,t){const r=Kr();let s;const l=e+pr;var h;r.firstCreatePass?(s=function EM(e,t){if(t)for(let r=t.length-1;r>=0;r--){const s=t[r];if(e===s.name)return s}}(t,r.pipeRegistry),r.data[l]=s,s.onDestroy&&(null!==(h=r.destroyHooks)&&void 0!==h?h:r.destroyHooks=[]).push(l,s.onDestroy)):s=r.data[l];const g=s.factory||(s.factory=uo(s.type)),S=Ii(Uu);try{const z=fi(!1),ee=g();return fi(z),function AE(e,t,r,s){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=s}(r,hn(),l,ee),ee}finally{Ii(S)}}function vT(e,t,r){const s=e+pr,l=hn(),h=Sl(l,s);return N_(l,s)?hT(l,Uo(),t,h.transform,r,h):h.transform(r)}function yT(e,t,r,s){const l=e+pr,h=hn(),g=Sl(h,l);return N_(h,l)?function fT(e,t,r,s,l,h,g){const I=t+r;return Hf(e,I,l,h)?Ju(e,I+2,g?s.call(g,l,h):s(l,h)):x_(e,I+2)}(h,Uo(),t,g.transform,r,s,g):g.transform(r,s)}function IT(e,t,r,s,l){const h=e+pr,g=hn(),I=Sl(g,h);return N_(g,h)?function pT(e,t,r,s,l,h,g,I){const S=t+r;return Ly(e,S,l,h,g)?Ju(e,S+3,I?s.call(I,l,h,g):s(l,h,g)):x_(e,S+3)}(g,Uo(),t,I.transform,r,s,l,I):I.transform(r,s,l)}function N_(e,t){return e[Nn].data[t].pure}function ET(e,t){return Th(e,t)}class LT{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const zM=new LT("18.2.13");let VT=(()=>{var e;class t{log(s){console.log(s)}warn(s){console.warn(s)}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const jT=new sr(""),HT=new sr("");let BE,_P=(()=>{var e;class t{constructor(s,l,h){this._ngZone=s,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,BE||(function vP(e){BE=e}(h),h.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),s()},l)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:h})}whenStable(s,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,h),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,h){return[]}}return(e=t).\u0275fac=function(s){return new(s||e)(ot(fo),ot(GT),ot(HT))},e.\u0275prov=Dr({token:e,factory:e.\u0275fac}),t})(),GT=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){var h,g;return null!==(h=null===(g=BE)||void 0===g?void 0:g.findTestabilityInTree(this,s,l))&&void 0!==h?h:null}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function $E(e){return!!e&&"function"==typeof e.then}function zT(e){return!!e&&"function"==typeof e.subscribe}const WT=new sr("");let KT=(()=>{var e;class t{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=null!==(s=Tt(WT,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const h of this.appInits){const g=h();if($E(g))s.push(g);else if(zT(g)){const I=new Promise((S,z)=>{g.subscribe({complete:S,error:z})});s.push(I)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(h=>{this.reject(h)}),0===s.length&&l(),this.initialized=!0}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const c0=new sr("");function qT(e,t){return Array.isArray(t)?t.reduce(qT,e):{...e,...t}}let td=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Tt(Hg),this.afterRenderManager=Tt(nC),this.zonelessEnabled=Tt(Ac),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qn.B,this.afterTick=new qn.B,this.componentTypes=[],this.components=[],this.isStable=Tt(Ci).hasPendingTasks.pipe((0,zt.T)(s=>!s)),this._injector=Tt(Ho)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let s;return new Promise(l=>{s=this.isStable.subscribe({next:h=>{h&&l()}})}).finally(()=>{s.unsubscribe()})}get injector(){return this._injector}bootstrap(s,l){const h=s instanceof Ty;if(!this._injector.get(KT).done)throw!h&&ks(s),new Ft(405,!1);let I;I=h?s:this._injector.get(Qc).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const S=function yP(e){return e.isBoundToModule}(I)?void 0:this._injector.get(jf),ee=I.create(Kt.NULL,[],l||I.selector,S),de=ee.location.nativeElement,Xe=ee.injector.get(jT,null);return null==Xe||Xe.registerApplication(de),ee.onDestroy(()=>{this.detachView(ee.hostView),u0(this.components,ee),null==Xe||Xe.unregisterApplication(de)}),this._loadComponent(ee),ee}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Ft(101,!1);const s=Ce(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,Ce(s),this.afterTick.next()}}synchronize(){let s=null;this._injector.destroyed||(s=this._injector.get(Vd,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(s)}synchronizeOnce(s){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:I,notifyErrorHandler:S}of this._views)bP(I,S,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var l,h;null==s||null===(l=s.begin)||void 0===l||l.call(s),null==s||null===(h=s.end)||void 0===h||h.call(s)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:s})=>Rl(s))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;u0(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(c0,[]);[...this._bootstrapListeners,...l].forEach(h=>h(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>u0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ft(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function u0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function bP(e,t,r,s){(r||Rl(e))&&$u(e,t,r&&!s?0:1)}class CP{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let AP=(()=>{var e;class t{compileModuleSync(s){return new zI(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),g=El(Io(s).declarations).reduce((I,S)=>{const z=Pr(S);return z&&I.push(new Uf(z)),I},[]);return new CP(l,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DP=(()=>{var e;class t{constructor(){this.zone=Tt(fo),this.changeDetectionScheduler=Tt(Ld),this.applicationRef=Tt(td)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var s;return null!==(s=e)&&void 0!==s||(e=()=>new fo({...HE(),scheduleInRootZone:r})),[{provide:fo,useFactory:e},{provide:pe,multi:!0,useFactory:()=>{const l=Tt(DP,{optional:!0});return()=>l.initialize()}},{provide:pe,multi:!0,useFactory:()=>{const l=Tt(RP);return()=>{l.initialize()}}},!0===t?{provide:Ay,useValue:!0}:[],{provide:a_,useValue:null!=r?r:wi}]}function HE(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let RP=(()=>{var e;class t{constructor(){this.subscription=new en.yU,this.initialized=!1,this.zone=Tt(fo),this.pendingTasks=Tt(Ci)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fo.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;fo.assertInAngularZone(),null!==(l=s)&&void 0!==l||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),L_=(()=>{var e;class t{constructor(){var s,l,h;this.appRef=Tt(td),this.taskService=Tt(Ci),this.ngZone=Tt(fo),this.zonelessEnabled=Tt(Ac),this.disableScheduling=null!==(s=Tt(Ay,{optional:!0}))&&void 0!==s&&s,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new en.yU,this.angularZoneId=this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get($c):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(h=Tt(a_,{optional:!0}))&&void 0!==h&&h,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof wu||!this.zoneIsDefined))}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?ec:Ol;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($c+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(s),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ec(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.runningTick=!1,null===(s=this.cancelScheduledCallback)||void 0===s||s.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const zE=new sr("",{providedIn:"root",factory:()=>Tt(zE,Nr.Optional|Nr.SkipSelf)||function MP(){return typeof $localize<"u"&&$localize.locale||Jy}()}),PP=new sr("",{providedIn:"root",factory:()=>"USD"}),d0=new sr("");function h0(e){return!e.moduleRef}let nw=(()=>{var e;class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const h=null==l?void 0:l.scheduleInRootZone,S=[jE({ngZoneFactory:()=>function jg(e="zone.js",t){return"noop"===e?new wu:"zone.js"===e?new fo(t):e}(null==l?void 0:l.ngZone,{...HE({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:h}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:Ld,useExisting:L_}],z=function hD(e,t,r){return new GI(e,t,r,!1)}(s.moduleType,this.injector,S);return function tw(e){const t=h0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(fo);return r.run(()=>{h0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const s=t.get(tc,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:h=>{s.handleError(h)}})}),h0(e)){const h=()=>t.destroy(),g=e.platformInjector.get(d0);g.add(h),t.onDestroy(()=>{l.unsubscribe(),g.delete(h)})}else{const h=()=>e.moduleRef.destroy(),g=e.platformInjector.get(d0);g.add(h),e.moduleRef.onDestroy(()=>{u0(e.allPlatformModules,e.moduleRef),l.unsubscribe(),g.delete(h)})}return function EP(e,t,r){try{const s=r();return $E(s)?s.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(s,r,()=>{const h=t.get(KT);return h.runInitializers(),h.donePromise.then(()=>{if(function nR(e){"string"==typeof e&&(eA=e.toLowerCase().replace(/_/g,"-"))}(t.get(zE,Jy)||Jy),h0(e)){const I=t.get(td);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function FP(e,t){const r=e.injector.get(td);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Ft(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:z,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(s,l=[]){const h=qT({},l);return function wP(e,t,r){const s=new zI(r);return Promise.resolve(s)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,h))}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ft(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(d0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(s){return new(s||e)(ot(Kt))},e.\u0275prov=Dr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),jh=null;const rw=new sr("");function iw(e,t,r=[]){const s=`Platform: ${t}`,l=new sr(s);return(h=[])=>{let g=WE();if(!g||g.injector.get(rw,!1)){const I=[...r,...h,{provide:l,useValue:!0}];e?e(I):function LP(e){if(jh&&!jh.get(rw,!1))throw new Ft(400,!1);(function XT(){!function De(e){pn=e}(()=>{throw new Ft(600,!1)})})(),jh=e;const t=e.get(nw);(function sw(e){const t=e.get(vp,null);null==t||t.forEach(r=>r())})(e)}(function ow(e=[],t){return Kt.create({name:t,providers:[{provide:Bl,useValue:"platform"},{provide:d0,useValue:new Set([()=>jh=null])},...e]})}(I,s))}return function VP(){const t=WE();if(!t)throw new Ft(401,!1);return t}()}}function WE(){var e,t;return null!==(e=null===(t=jh)||void 0===t?void 0:t.get(nw))&&void 0!==e?e:null}function BP(){return!1}function $P(){}let lw=(()=>{class t{}return t.__NG_ELEMENT_ID__=jP,t})();function jP(e){return function HP(e,t,r){if(Ya(e)&&!r){const s=Ms(e.index,t);return new bf(s,s)}return 175&e.type?new bf(t[no],t):null}(ei(),hn(),!(16&~e))}class hw{constructor(){}supports(t){return Fy(t)}create(t){return new XP(t)}}const KP=(e,t)=>t;class XP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||KP}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,s=this._removalsHead,l=0,h=null;for(;r||s;){const g=!s||r&&r.currentIndex<pw(s,l,h)?r:s,I=pw(g,l,h),S=g.currentIndex;if(g===s)l--,s=s._nextRemoved;else if(r=r._next,null==g.previousIndex)l++;else{h||(h=[]);const z=I-l,ee=S-l;if(z!=ee){for(let Xe=0;Xe<z;Xe++){const dt=Xe<h.length?h[Xe]:h[Xe]=0,rt=dt+Xe;ee<=rt&&rt<z&&(h[Xe]=dt+1)}h[g.previousIndex]=ee-z}}I!==S&&t(g,I,S)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Fy(t))throw new Ft(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,h,g,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)h=t[I],g=this._trackByFn(I,h),null!==r&&Object.is(r.trackById,g)?(s&&(r=this._verifyReinsertion(r,h,g,I)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,g,I),s=!0),r=r._next}else l=0,function gD(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let s;for(;!(s=r.next()).done;)t(s.value)}}(t,I=>{g=this._trackByFn(l,I),null!==r&&Object.is(r.trackById,g)?(s&&(r=this._verifyReinsertion(r,I,g,l)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,g,l),s=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,s,l){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,h,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,h,l)):t=this._addAfter(new qP(r,s),h,l),t}_verifyReinsertion(t,r,s,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==h?t=this._reinsertAfter(h,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,h=t._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(t,r,s),this._addToMoves(t,s),t}_moveAfter(t,r,s){return this._unlink(t),this._insertAfter(t,r,s),this._addToMoves(t,s),t}_addAfter(t,r,s){return this._insertAfter(t,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,s){const l=null===r?this._itHead:r._next;return t._next=l,t._prev=r,null===l?this._itTail=t:l._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,s=t._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class qP{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const r=t._prevDup,s=t._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class fw{constructor(){this.map=new Map}put(t){const r=t.trackById;let s=this.map.get(r);s||(s=new QP,this.map.set(r,s)),s.add(t)}get(t,r){const l=this.map.get(t);return l?l.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(e,t,r){const s=e.previousIndex;if(null===s)return s;let l=0;return r&&s<r.length&&(l=r[s]),s+t+l}class gw{constructor(){}supports(t){return t instanceof Map||KI(t)}create(){return new YP}}class YP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||KI(t)))throw new Ft(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const h=this._getOrCreateRecordForKey(l,s);r=this._insertBeforeOrAppend(r,h)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const s=t._prev;return r._next=t,r._prev=s,t._prev=r,s&&(s._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,r);const h=l._prev,g=l._next;return h&&(h._next=g),g&&(g._prev=h),l._next=null,l._prev=null,l}const s=new JP(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(s=>r(t[s],s))}}class JP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new YE([new hw])}let YE=(()=>{var e;class t{constructor(s){this.factories=s}static create(s,l){if(null!=l){const h=l.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||mw()),deps:[[t,new ui,new Ei]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(null!=l)return l;throw new Ft(901,!1)}}return(e=t).\u0275prov=Dr({token:e,providedIn:"root",factory:mw}),t})();function _w(){return new JE([new gw])}let JE=(()=>{var e;class t{constructor(s){this.factories=s}static create(s,l){if(l){const h=l.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||_w()),deps:[[t,new ui,new Ei]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(l)return l;throw new Ft(901,!1)}}return(e=t).\u0275prov=Dr({token:e,providedIn:"root",factory:_w}),t})();const t1=iw(null,"core",[]);let n1=(()=>{var e;class t{constructor(s){}}return(e=t).\u0275fac=function(s){return new(s||e)(ot(td))},e.\u0275mod=na({type:e}),e.\u0275inj=Ae({}),t})();function N1(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function k1(e,t){Cl("NgSignals");const r=function fe(e){const t=Object.create(Lt);t.computation=e;const r=()=>{if(at(t),Me(t),t.value===Ze)throw t.error;return t.value};return r[W]=t,r}(e);return null!=t&&t.equal&&(r[W].equal=t.equal),r}function F1(e){const t=Ce(null);try{return e()}finally{Ce(t)}}function j1(e,t){const r=Pr(e),s=t.elementInjector||La();return new Uf(r).create(s,t.projectableNodes,t.hostElement,t.environmentInjector)}function H1(e){const t=Pr(e);if(!t)return null;const r=new Uf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(kn,Mt,V)=>{"use strict";V.d(Mt,{DS:()=>Ke,X8:()=>tt,$z:()=>_e,UB:()=>se,yy:()=>We,ZP:()=>De,AU:()=>Se,CP:()=>pn,gF:()=>Oe});var d=V(9842),$=(V(6548),V(177)),be=V(4438),W=V(5407),Ce=V(9253),Re=V(1413),Ge=V(7673),ft=V(1985),it=V(8455),Me=V(6365),Ct=V(8750),at=V(983),et=V(3794),Et=V(941),vt=V(5558),ut=V(6354),Ot=V(6129);class St extends Re.B{constructor(lt=1/0,yt=1/0,Bt=Ot.U){super(),this._bufferSize=lt,this._windowTime=yt,this._timestampProvider=Bt,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=yt===1/0,this._bufferSize=Math.max(1,lt),this._windowTime=Math.max(1,yt)}next(lt){const{isStopped:yt,_buffer:Bt,_infiniteTimeWindow:Fn,_timestampProvider:bt,_windowTime:In}=this;yt||(Bt.push(lt),!Fn&&Bt.push(bt.now()+In)),this._trimBuffer(),super.next(lt)}_subscribe(lt){this._throwIfClosed(),this._trimBuffer();const yt=this._innerSubscribe(lt),{_infiniteTimeWindow:Bt,_buffer:Fn}=this,bt=Fn.slice();for(let In=0;In<bt.length&&!lt.closed;In+=Bt?1:2)lt.next(bt[In]);return this._checkFinalizedStatuses(lt),yt}_trimBuffer(){const{_bufferSize:lt,_timestampProvider:yt,_buffer:Bt,_infiniteTimeWindow:Fn}=this,bt=(Fn?1:2)*lt;if(lt<1/0&&bt<Bt.length&&Bt.splice(0,Bt.length-bt),!Fn){const In=yt.now();let Ln=0;for(let qn=1;qn<Bt.length&&Bt[qn]<=In;qn+=2)Ln=qn;Ln&&Bt.splice(0,Ln+1)}}}var we=V(7707),xe=V(9974);function st(He,lt,...yt){if(!0===lt)return void He();if(!1===lt)return;const Bt=new we.Ms({next:()=>{Bt.unsubscribe(),He()}});return(0,Ct.Tg)(lt(...yt)).subscribe(Bt)}function ht(He,lt,yt){let Bt,Fn=!1;return He&&"object"==typeof He?({bufferSize:Bt=1/0,windowTime:lt=1/0,refCount:Fn=!1,scheduler:yt}=He):Bt=null!=He?He:1/0,function Ne(He={}){const{connector:lt=()=>new Re.B,resetOnError:yt=!0,resetOnComplete:Bt=!0,resetOnRefCountZero:Fn=!0}=He;return bt=>{let In,Ln,qn,en=0,zt=!1,Un=!1;const sn=()=>{null==Ln||Ln.unsubscribe(),Ln=void 0},Fe=()=>{sn(),In=qn=void 0,zt=Un=!1},Le=()=>{const Ut=In;Fe(),null==Ut||Ut.unsubscribe()};return(0,xe.N)((Ut,Ft)=>{en++,!Un&&!zt&&sn();const tr=qn=null!=qn?qn:lt();Ft.add(()=>{en--,0===en&&!Un&&!zt&&(Ln=st(Le,Fn))}),tr.subscribe(Ft),!In&&en>0&&(In=new we.Ms({next:or=>tr.next(or),error:or=>{Un=!0,sn(),Ln=st(Fe,yt,or),tr.error(or)},complete:()=>{zt=!0,sn(),Ln=st(Fe,Bt),tr.complete()}}),(0,Ct.Tg)(Ut).subscribe(In))})(bt)}}({connector:()=>new St(Bt,lt,yt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Fn})}var nt=V(1594),fe=V(8071);function gt(He,lt){return(0,fe.T)(lt)?(0,vt.n)(()=>He,lt):(0,vt.n)(()=>He)}var mt=V(6745),Ze=V(5964),Lt=V(7935);const pn=new be.nKC("angularfire2.auth.use-emulator"),We=new be.nKC("angularfire2.auth.settings"),De=new be.nKC("angularfire2.auth.tenant-id"),_e=new be.nKC("angularfire2.auth.langugage-code"),Se=new be.nKC("angularfire2.auth.use-device-language"),se=new be.nKC("angularfire.auth.persistence"),Oe=(He,lt,yt,Bt,Fn,bt,In,Ln)=>(0,Ce.BM)(`${He.name}.auth`,"AngularFireAuth",He.name,()=>{const qn=lt.runOutsideAngular(()=>He.auth());if(yt&&qn.useEmulator(...yt),Bt&&(qn.tenantId=Bt),qn.languageCode=Fn,bt&&qn.useDeviceLanguage(),In)for(const[en,zt]of Object.entries(In))qn.settings[en]=zt;return Ln&&qn.setPersistence(Ln),qn},[yt,Bt,Fn,bt,In,Ln]);let Ke=(()=>{var He;class lt{constructor(Bt,Fn,bt,In,Ln,qn,en,zt,Un,sn,Fe,Le){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const Ut=new Re.B,Ft=(0,Ge.of)(void 0).pipe((0,Et.Q)(Ln.outsideAngular),(0,vt.n)(()=>In.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,6548)))),(0,ut.T)(()=>(0,Ce.iB)(Bt,In,Fn)),(0,ut.T)(tr=>Oe(tr,In,qn,zt,Un,sn,en,Fe)),ht({bufferSize:1,refCount:!1}));if((0,$.Vy)(bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ge.of)(null);else{Ft.pipe((0,nt.$)()).subscribe();const tr=Ft.pipe((0,vt.n)(Mn=>Mn.getRedirectResult().then(yr=>yr,()=>null)),W.U0,ht({bufferSize:1,refCount:!1})),or=Ft.pipe((0,vt.n)(Mn=>new ft.c(yr=>({unsubscribe:In.runOutsideAngular(()=>Mn.onAuthStateChanged(ar=>yr.next(ar),ar=>yr.error(ar),()=>yr.complete()))})))),Hn=Ft.pipe((0,vt.n)(Mn=>new ft.c(yr=>({unsubscribe:In.runOutsideAngular(()=>Mn.onIdTokenChanged(ar=>yr.next(ar),ar=>yr.error(ar),()=>yr.complete()))}))));this.authState=tr.pipe(gt(or),(0,mt._)(Ln.outsideAngular),(0,Et.Q)(Ln.insideAngular)),this.user=tr.pipe(gt(Hn),(0,mt._)(Ln.outsideAngular),(0,Et.Q)(Ln.insideAngular)),this.idToken=this.user.pipe((0,vt.n)(Mn=>Mn?(0,it.H)(Mn.getIdToken()):(0,Ge.of)(null))),this.idTokenResult=this.user.pipe((0,vt.n)(Mn=>Mn?(0,it.H)(Mn.getIdTokenResult()):(0,Ge.of)(null))),this.credential=function pt(...He){const lt=(0,et.lI)(He),yt=(0,et.R0)(He,1/0),Bt=He;return Bt.length?1===Bt.length?(0,Ct.Tg)(Bt[0]):(0,Me.U)(yt)((0,it.H)(Bt,lt)):at.w}(tr,Ut,this.authState.pipe((0,Ze.p)(Mn=>!Mn))).pipe((0,ut.T)(Mn=>null!=Mn&&Mn.user?Mn:null),(0,mt._)(Ln.outsideAngular),(0,Et.Q)(Ln.insideAngular))}return(0,Ce.Gt)(this,Ft,In,{spy:{apply:(tr,or,Hn)=>{(tr.startsWith("signIn")||tr.startsWith("createUser"))&&Hn.then(Mn=>Ut.next(Mn))}}})}}return He=lt,(0,d.A)(lt,"\u0275fac",function(Bt){return new(Bt||He)(be.KVO(Ce.rx),be.KVO(Ce.uP,8),be.KVO(be.Agw),be.KVO(be.SKi),be.KVO(W.u0),be.KVO(pn,8),be.KVO(We,8),be.KVO(De,8),be.KVO(_e,8),be.KVO(Se,8),be.KVO(se,8),be.KVO(W.Jv,8))}),(0,d.A)(lt,"\u0275prov",be.jDH({token:He,factory:He.\u0275fac,providedIn:"any"})),lt})(),tt=(()=>{var He;class lt{constructor(){Lt.A.registerVersion("angularfire",W.xv.full,"auth-compat")}}return He=lt,(0,d.A)(lt,"\u0275fac",function(Bt){return new(Bt||He)}),(0,d.A)(lt,"\u0275mod",be.$C({type:He})),(0,d.A)(lt,"\u0275inj",be.G2t({providers:[Ke]})),lt})()},6422:(kn,Mt,V)=>{"use strict";V.d(Mt,{Qe:()=>nc,cM:()=>Gm});var d=V(9842),o=V(177),$=V(4438),be=V(5407),W=V(9253),Ce=V(1182),Re=V(3236),Ge=V(1985),ft=V(8455),it=V(7673),Me=V(9172),Ct=V(9974),at=V(4360);function et(){return(0,Ct.N)((c,n)=>{let i,a=!1;c.subscribe((0,at._)(n,u=>{const f=i;i=u,a&&n.next([f,u]),a=!0}))})}var gt,mt,pt=V(6354),Et=V(2816),vt=V(3294),ut=V(5964),St=(V(6548),V(1566)),we=V(467),xe=V(7991),Ne=V(6238),st=V(8041),ht=V(4923),nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={};(function(){var c;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(jt,_t,kt){kt||(kt=0);var Gt=Array(16);if("string"==typeof _t)for(var Jt=0;16>Jt;++Jt)Gt[Jt]=_t.charCodeAt(kt++)|_t.charCodeAt(kt++)<<8|_t.charCodeAt(kt++)<<16|_t.charCodeAt(kt++)<<24;else for(Jt=0;16>Jt;++Jt)Gt[Jt]=_t[kt++]|_t[kt++]<<8|_t[kt++]<<16|_t[kt++]<<24;var rn=jt.g[3],xt=(_t=jt.g[0])+(rn^(kt=jt.g[1])&((Jt=jt.g[2])^rn))+Gt[0]+3614090360&4294967295;xt=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=(kt=(Jt=(rn=(_t=kt+(xt<<7&4294967295|xt>>>25))+((xt=rn+(Jt^_t&(kt^Jt))+Gt[1]+3905402710&4294967295)<<12&4294967295|xt>>>20))+((xt=Jt+(kt^rn&(_t^kt))+Gt[2]+606105819&4294967295)<<17&4294967295|xt>>>15))+((xt=kt+(_t^Jt&(rn^_t))+Gt[3]+3250441966&4294967295)<<22&4294967295|xt>>>10))+((xt=_t+(rn^kt&(Jt^rn))+Gt[4]+4118548399&4294967295)<<7&4294967295|xt>>>25))+((xt=rn+(Jt^_t&(kt^Jt))+Gt[5]+1200080426&4294967295)<<12&4294967295|xt>>>20))+((xt=Jt+(kt^rn&(_t^kt))+Gt[6]+2821735955&4294967295)<<17&4294967295|xt>>>15))+((xt=kt+(_t^Jt&(rn^_t))+Gt[7]+4249261313&4294967295)<<22&4294967295|xt>>>10))+((xt=_t+(rn^kt&(Jt^rn))+Gt[8]+1770035416&4294967295)<<7&4294967295|xt>>>25))+((xt=rn+(Jt^_t&(kt^Jt))+Gt[9]+2336552879&4294967295)<<12&4294967295|xt>>>20))+((xt=Jt+(kt^rn&(_t^kt))+Gt[10]+4294925233&4294967295)<<17&4294967295|xt>>>15))+((xt=kt+(_t^Jt&(rn^_t))+Gt[11]+2304563134&4294967295)<<22&4294967295|xt>>>10))+((xt=_t+(rn^kt&(Jt^rn))+Gt[12]+1804603682&4294967295)<<7&4294967295|xt>>>25))+((xt=rn+(Jt^_t&(kt^Jt))+Gt[13]+4254626195&4294967295)<<12&4294967295|xt>>>20))+((xt=Jt+(kt^rn&(_t^kt))+Gt[14]+2792965006&4294967295)<<17&4294967295|xt>>>15))+((xt=kt+(_t^Jt&(rn^_t))+Gt[15]+1236535329&4294967295)<<22&4294967295|xt>>>10))+((xt=_t+(Jt^rn&(kt^Jt))+Gt[1]+4129170786&4294967295)<<5&4294967295|xt>>>27))+((xt=rn+(kt^Jt&(_t^kt))+Gt[6]+3225465664&4294967295)<<9&4294967295|xt>>>23))+((xt=Jt+(_t^kt&(rn^_t))+Gt[11]+643717713&4294967295)<<14&4294967295|xt>>>18))+((xt=kt+(rn^_t&(Jt^rn))+Gt[0]+3921069994&4294967295)<<20&4294967295|xt>>>12))+((xt=_t+(Jt^rn&(kt^Jt))+Gt[5]+3593408605&4294967295)<<5&4294967295|xt>>>27))+((xt=rn+(kt^Jt&(_t^kt))+Gt[10]+38016083&4294967295)<<9&4294967295|xt>>>23))+((xt=Jt+(_t^kt&(rn^_t))+Gt[15]+3634488961&4294967295)<<14&4294967295|xt>>>18))+((xt=kt+(rn^_t&(Jt^rn))+Gt[4]+3889429448&4294967295)<<20&4294967295|xt>>>12))+((xt=_t+(Jt^rn&(kt^Jt))+Gt[9]+568446438&4294967295)<<5&4294967295|xt>>>27))+((xt=rn+(kt^Jt&(_t^kt))+Gt[14]+3275163606&4294967295)<<9&4294967295|xt>>>23))+((xt=Jt+(_t^kt&(rn^_t))+Gt[3]+4107603335&4294967295)<<14&4294967295|xt>>>18))+((xt=kt+(rn^_t&(Jt^rn))+Gt[8]+1163531501&4294967295)<<20&4294967295|xt>>>12))+((xt=_t+(Jt^rn&(kt^Jt))+Gt[13]+2850285829&4294967295)<<5&4294967295|xt>>>27))+((xt=rn+(kt^Jt&(_t^kt))+Gt[2]+4243563512&4294967295)<<9&4294967295|xt>>>23))+((xt=Jt+(_t^kt&(rn^_t))+Gt[7]+1735328473&4294967295)<<14&4294967295|xt>>>18))+((xt=kt+(rn^_t&(Jt^rn))+Gt[12]+2368359562&4294967295)<<20&4294967295|xt>>>12))+((xt=_t+(kt^Jt^rn)+Gt[5]+4294588738&4294967295)<<4&4294967295|xt>>>28))+((xt=rn+(_t^kt^Jt)+Gt[8]+2272392833&4294967295)<<11&4294967295|xt>>>21))+((xt=Jt+(rn^_t^kt)+Gt[11]+1839030562&4294967295)<<16&4294967295|xt>>>16))+((xt=kt+(Jt^rn^_t)+Gt[14]+4259657740&4294967295)<<23&4294967295|xt>>>9))+((xt=_t+(kt^Jt^rn)+Gt[1]+2763975236&4294967295)<<4&4294967295|xt>>>28))+((xt=rn+(_t^kt^Jt)+Gt[4]+1272893353&4294967295)<<11&4294967295|xt>>>21))+((xt=Jt+(rn^_t^kt)+Gt[7]+4139469664&4294967295)<<16&4294967295|xt>>>16))+((xt=kt+(Jt^rn^_t)+Gt[10]+3200236656&4294967295)<<23&4294967295|xt>>>9))+((xt=_t+(kt^Jt^rn)+Gt[13]+681279174&4294967295)<<4&4294967295|xt>>>28))+((xt=rn+(_t^kt^Jt)+Gt[0]+3936430074&4294967295)<<11&4294967295|xt>>>21))+((xt=Jt+(rn^_t^kt)+Gt[3]+3572445317&4294967295)<<16&4294967295|xt>>>16))+((xt=kt+(Jt^rn^_t)+Gt[6]+76029189&4294967295)<<23&4294967295|xt>>>9))+((xt=_t+(kt^Jt^rn)+Gt[9]+3654602809&4294967295)<<4&4294967295|xt>>>28))+((xt=rn+(_t^kt^Jt)+Gt[12]+3873151461&4294967295)<<11&4294967295|xt>>>21))+((xt=Jt+(rn^_t^kt)+Gt[15]+530742520&4294967295)<<16&4294967295|xt>>>16))+((xt=kt+(Jt^rn^_t)+Gt[2]+3299628645&4294967295)<<23&4294967295|xt>>>9))+((xt=_t+(Jt^(kt|~rn))+Gt[0]+4096336452&4294967295)<<6&4294967295|xt>>>26))+((xt=rn+(kt^(_t|~Jt))+Gt[7]+1126891415&4294967295)<<10&4294967295|xt>>>22))+((xt=Jt+(_t^(rn|~kt))+Gt[14]+2878612391&4294967295)<<15&4294967295|xt>>>17))+((xt=kt+(rn^(Jt|~_t))+Gt[5]+4237533241&4294967295)<<21&4294967295|xt>>>11))+((xt=_t+(Jt^(kt|~rn))+Gt[12]+1700485571&4294967295)<<6&4294967295|xt>>>26))+((xt=rn+(kt^(_t|~Jt))+Gt[3]+2399980690&4294967295)<<10&4294967295|xt>>>22))+((xt=Jt+(_t^(rn|~kt))+Gt[10]+4293915773&4294967295)<<15&4294967295|xt>>>17))+((xt=kt+(rn^(Jt|~_t))+Gt[1]+2240044497&4294967295)<<21&4294967295|xt>>>11))+((xt=_t+(Jt^(kt|~rn))+Gt[8]+1873313359&4294967295)<<6&4294967295|xt>>>26))+((xt=rn+(kt^(_t|~Jt))+Gt[15]+4264355552&4294967295)<<10&4294967295|xt>>>22))+((xt=Jt+(_t^(rn|~kt))+Gt[6]+2734768916&4294967295)<<15&4294967295|xt>>>17))+((xt=kt+(rn^(Jt|~_t))+Gt[13]+1309151649&4294967295)<<21&4294967295|xt>>>11))+((rn=(_t=kt+((xt=_t+(Jt^(kt|~rn))+Gt[4]+4149444226&4294967295)<<6&4294967295|xt>>>26))+((xt=rn+(kt^(_t|~Jt))+Gt[11]+3174756917&4294967295)<<10&4294967295|xt>>>22))^((Jt=rn+((xt=Jt+(_t^(rn|~kt))+Gt[2]+718787259&4294967295)<<15&4294967295|xt>>>17))|~_t))+Gt[9]+3951481745&4294967295,jt.g[0]=jt.g[0]+_t&4294967295,jt.g[1]=jt.g[1]+(Jt+(xt<<21&4294967295|xt>>>11))&4294967295,jt.g[2]=jt.g[2]+Jt&4294967295,jt.g[3]=jt.g[3]+rn&4294967295}function y(jt,_t){this.h=_t;for(var kt=[],Gt=!0,Jt=jt.length-1;0<=Jt;Jt--){var rn=0|jt[Jt];Gt&&rn==_t||(kt[Jt]=rn,Gt=!1)}this.g=kt}(function n(jt,_t){function kt(){}kt.prototype=_t.prototype,jt.D=_t.prototype,jt.prototype=new kt,jt.prototype.constructor=jt,jt.C=function(Gt,Jt,rn){for(var xt=Array(arguments.length-2),Gc=2;Gc<arguments.length;Gc++)xt[Gc-2]=arguments[Gc];return _t.prototype[Jt].apply(Gt,xt)}})(a,function i(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(jt,_t){void 0===_t&&(_t=jt.length);for(var kt=_t-this.blockSize,Gt=this.B,Jt=this.h,rn=0;rn<_t;){if(0==Jt)for(;rn<=kt;)u(this,jt,rn),rn+=this.blockSize;if("string"==typeof jt){for(;rn<_t;)if(Gt[Jt++]=jt.charCodeAt(rn++),Jt==this.blockSize){u(this,Gt),Jt=0;break}}else for(;rn<_t;)if(Gt[Jt++]=jt[rn++],Jt==this.blockSize){u(this,Gt),Jt=0;break}}this.h=Jt,this.o+=_t},a.prototype.v=function(){var jt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);jt[0]=128;for(var _t=1;_t<jt.length-8;++_t)jt[_t]=0;var kt=8*this.o;for(_t=jt.length-8;_t<jt.length;++_t)jt[_t]=255&kt,kt/=256;for(this.u(jt),jt=Array(16),_t=kt=0;4>_t;++_t)for(var Gt=0;32>Gt;Gt+=8)jt[kt++]=this.g[_t]>>>Gt&255;return jt};var N={};function U(jt){return-128<=jt&&128>jt?function f(jt,_t){var kt=N;return Object.prototype.hasOwnProperty.call(kt,jt)?kt[jt]:kt[jt]=_t(jt)}(jt,function(_t){return new y([0|_t],0>_t?-1:0)}):new y([0|jt],0>jt?-1:0)}function te(jt){if(isNaN(jt)||!isFinite(jt))return Be;if(0>jt)return Vn(te(-jt));for(var _t=[],kt=1,Gt=0;jt>=kt;Gt++)_t[Gt]=jt/kt|0,kt*=4294967296;return new y(_t,0)}var Be=U(0),It=U(1),nn=U(16777216);function Cn(jt){if(0!=jt.h)return!1;for(var _t=0;_t<jt.g.length;_t++)if(0!=jt.g[_t])return!1;return!0}function zn(jt){return-1==jt.h}function Vn(jt){for(var _t=jt.g.length,kt=[],Gt=0;Gt<_t;Gt++)kt[Gt]=~jt.g[Gt];return new y(kt,~jt.h).add(It)}function gr(jt,_t){return jt.add(Vn(_t))}function Mr(jt,_t){for(;(65535&jt[_t])!=jt[_t];)jt[_t+1]+=jt[_t]>>>16,jt[_t]&=65535,_t++}function vr(jt,_t){this.g=jt,this.h=_t}function Lr(jt,_t){if(Cn(_t))throw Error("division by zero");if(Cn(jt))return new vr(Be,Be);if(zn(jt))return _t=Lr(Vn(jt),_t),new vr(Vn(_t.g),Vn(_t.h));if(zn(_t))return _t=Lr(jt,Vn(_t)),new vr(Vn(_t.g),_t.h);if(30<jt.g.length){if(zn(jt)||zn(_t))throw Error("slowDivide_ only works with positive integers.");for(var kt=It,Gt=_t;0>=Gt.l(jt);)kt=Bi(kt),Gt=Bi(Gt);var Jt=Yr(kt,1),rn=Yr(Gt,1);for(Gt=Yr(Gt,2),kt=Yr(kt,2);!Cn(Gt);){var xt=rn.add(Gt);0>=xt.l(jt)&&(Jt=Jt.add(kt),rn=xt),Gt=Yr(Gt,1),kt=Yr(kt,1)}return _t=gr(jt,Jt.j(_t)),new vr(Jt,_t)}for(Jt=Be;0<=jt.l(_t);){for(kt=Math.max(1,Math.floor(jt.m()/_t.m())),Gt=48>=(Gt=Math.ceil(Math.log(kt)/Math.LN2))?1:Math.pow(2,Gt-48),xt=(rn=te(kt)).j(_t);zn(xt)||0<xt.l(jt);)xt=(rn=te(kt-=Gt)).j(_t);Cn(rn)&&(rn=It),Jt=Jt.add(rn),jt=gr(jt,xt)}return new vr(Jt,jt)}function Bi(jt){for(var _t=jt.g.length+1,kt=[],Gt=0;Gt<_t;Gt++)kt[Gt]=jt.i(Gt)<<1|jt.i(Gt-1)>>>31;return new y(kt,jt.h)}function Yr(jt,_t){var kt=_t>>5;_t%=32;for(var Gt=jt.g.length-kt,Jt=[],rn=0;rn<Gt;rn++)Jt[rn]=0<_t?jt.i(rn+kt)>>>_t|jt.i(rn+kt+1)<<32-_t:jt.i(rn+kt);return new y(Jt,jt.h)}(c=y.prototype).m=function(){if(zn(this))return-Vn(this).m();for(var jt=0,_t=1,kt=0;kt<this.g.length;kt++){var Gt=this.i(kt);jt+=(0<=Gt?Gt:4294967296+Gt)*_t,_t*=4294967296}return jt},c.toString=function(jt){if(2>(jt=jt||10)||36<jt)throw Error("radix out of range: "+jt);if(Cn(this))return"0";if(zn(this))return"-"+Vn(this).toString(jt);for(var _t=te(Math.pow(jt,6)),kt=this,Gt="";;){var Jt=Lr(kt,_t).g,rn=((0<(kt=gr(kt,Jt.j(_t))).g.length?kt.g[0]:kt.h)>>>0).toString(jt);if(Cn(kt=Jt))return rn+Gt;for(;6>rn.length;)rn="0"+rn;Gt=rn+Gt}},c.i=function(jt){return 0>jt?0:jt<this.g.length?this.g[jt]:this.h},c.l=function(jt){return zn(jt=gr(this,jt))?-1:Cn(jt)?0:1},c.abs=function(){return zn(this)?Vn(this):this},c.add=function(jt){for(var _t=Math.max(this.g.length,jt.g.length),kt=[],Gt=0,Jt=0;Jt<=_t;Jt++){var rn=Gt+(65535&this.i(Jt))+(65535&jt.i(Jt)),xt=(rn>>>16)+(this.i(Jt)>>>16)+(jt.i(Jt)>>>16);Gt=xt>>>16,kt[Jt]=(xt&=65535)<<16|(rn&=65535)}return new y(kt,-2147483648&kt[kt.length-1]?-1:0)},c.j=function(jt){if(Cn(this)||Cn(jt))return Be;if(zn(this))return zn(jt)?Vn(this).j(Vn(jt)):Vn(Vn(this).j(jt));if(zn(jt))return Vn(this.j(Vn(jt)));if(0>this.l(nn)&&0>jt.l(nn))return te(this.m()*jt.m());for(var _t=this.g.length+jt.g.length,kt=[],Gt=0;Gt<2*_t;Gt++)kt[Gt]=0;for(Gt=0;Gt<this.g.length;Gt++)for(var Jt=0;Jt<jt.g.length;Jt++){var rn=this.i(Gt)>>>16,xt=65535&this.i(Gt),Gc=jt.i(Jt)>>>16,Ah=65535&jt.i(Jt);kt[2*Gt+2*Jt]+=xt*Ah,Mr(kt,2*Gt+2*Jt),kt[2*Gt+2*Jt+1]+=rn*Ah,Mr(kt,2*Gt+2*Jt+1),kt[2*Gt+2*Jt+1]+=xt*Gc,Mr(kt,2*Gt+2*Jt+1),kt[2*Gt+2*Jt+2]+=rn*Gc,Mr(kt,2*Gt+2*Jt+2)}for(Gt=0;Gt<_t;Gt++)kt[Gt]=kt[2*Gt+1]<<16|kt[2*Gt];for(Gt=_t;Gt<2*_t;Gt++)kt[Gt]=0;return new y(kt,0)},c.A=function(jt){return Lr(this,jt).h},c.and=function(jt){for(var _t=Math.max(this.g.length,jt.g.length),kt=[],Gt=0;Gt<_t;Gt++)kt[Gt]=this.i(Gt)&jt.i(Gt);return new y(kt,this.h&jt.h)},c.or=function(jt){for(var _t=Math.max(this.g.length,jt.g.length),kt=[],Gt=0;Gt<_t;Gt++)kt[Gt]=this.i(Gt)|jt.i(Gt);return new y(kt,this.h|jt.h)},c.xor=function(jt){for(var _t=Math.max(this.g.length,jt.g.length),kt=[],Gt=0;Gt<_t;Gt++)kt[Gt]=this.i(Gt)^jt.i(Gt);return new y(kt,this.h^jt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,mt=fe.Md5=a,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=te,y.fromString=function me(jt,_t){if(0==jt.length)throw Error("number format error: empty string");if(2>(_t=_t||10)||36<_t)throw Error("radix out of range: "+_t);if("-"==jt.charAt(0))return Vn(me(jt.substring(1),_t));if(0<=jt.indexOf("-"))throw Error('number format error: interior "-" character');for(var kt=te(Math.pow(_t,8)),Gt=Be,Jt=0;Jt<jt.length;Jt+=8){var rn=Math.min(8,jt.length-Jt),xt=parseInt(jt.substring(Jt,Jt+rn),_t);8>rn?(rn=te(Math.pow(_t,rn)),Gt=Gt.j(rn).add(te(xt))):Gt=(Gt=Gt.j(kt)).add(te(xt))}return Gt},gt=fe.Integer=y}).apply(typeof nt<"u"?nt:typeof self<"u"?self:typeof window<"u"?window:{});var Vt,We,De,_e,Se,se,Oe,Ke,Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lt={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,H,ie){return v==Array.prototype||v==Object.prototype||(v[H]=ie.value),v},a=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ze&&Ze];for(var H=0;H<v.length;++H){var ie=v[H];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}(this);!function u(v,H){if(H)e:{var ie=a;v=v.split(".");for(var Pe=0;Pe<v.length-1;Pe++){var Zt=v[Pe];if(!(Zt in ie))break e;ie=ie[Zt]}(H=H(Pe=ie[v=v[v.length-1]]))!=Pe&&null!=H&&n(ie,v,{configurable:!0,writable:!0,value:H})}}("Array.prototype.values",function(v){return v||function(){return function f(v,H){v instanceof String&&(v+="");var ie=0,Pe=!1,Zt={next:function(){if(!Pe&&ie<v.length){var fn=ie++;return{value:H(fn,v[fn]),done:!1}}return Pe=!0,{done:!0,value:void 0}}};return Zt[Symbol.iterator]=function(){return Zt},Zt}(this,function(H,ie){return ie})}});var y=y||{},N=this||self;function U(v){var H=typeof v;return"array"==(H="object"!=H?H:v?Array.isArray(v)?"array":H:"null")||"object"==H&&"number"==typeof v.length}function te(v){var H=typeof v;return"object"==H&&null!=v||"function"==H}function me(v,H,ie){return v.call.apply(v.bind,arguments)}function Be(v,H,ie){if(!v)throw Error();if(2<arguments.length){var Pe=Array.prototype.slice.call(arguments,2);return function(){var Zt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Zt,Pe),v.apply(H,Zt)}}return function(){return v.apply(H,arguments)}}function It(v,H,ie){return(It=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?me:Be).apply(null,arguments)}function nn(v,H){var ie=Array.prototype.slice.call(arguments,1);return function(){var Pe=ie.slice();return Pe.push.apply(Pe,arguments),v.apply(this,Pe)}}function Cn(v,H){function ie(){}ie.prototype=H.prototype,v.aa=H.prototype,v.prototype=new ie,v.prototype.constructor=v,v.Qb=function(Pe,Zt,fn){for(var rr=Array(arguments.length-2),bo=2;bo<arguments.length;bo++)rr[bo-2]=arguments[bo];return H.prototype[Zt].apply(Pe,rr)}}function zn(v){const H=v.length;if(0<H){const ie=Array(H);for(let Pe=0;Pe<H;Pe++)ie[Pe]=v[Pe];return ie}return[]}function Vn(v,H){for(let ie=1;ie<arguments.length;ie++){const Pe=arguments[ie];if(U(Pe)){const Zt=v.length||0,fn=Pe.length||0;v.length=Zt+fn;for(let rr=0;rr<fn;rr++)v[Zt+rr]=Pe[rr]}else v.push(Pe)}}function Mr(v){return/^[\s\xa0]*$/.test(v)}function vr(){var v=N.navigator;return v&&(v=v.userAgent)?v:""}function Lr(v){return Lr[" "](v),v}Lr[" "]=function(){};var Bi=!(-1==vr().indexOf("Gecko")||-1!=vr().toLowerCase().indexOf("webkit")&&-1==vr().indexOf("Edge")||-1!=vr().indexOf("Trident")||-1!=vr().indexOf("MSIE")||-1!=vr().indexOf("Edge"));function Yr(v,H,ie){for(const Pe in v)H.call(ie,v[Pe],Pe,v)}function _t(v){const H={};for(const ie in v)H[ie]=v[ie];return H}const kt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gt(v,H){let ie,Pe;for(let Zt=1;Zt<arguments.length;Zt++){for(ie in Pe=arguments[Zt],Pe)v[ie]=Pe[ie];for(let fn=0;fn<kt.length;fn++)ie=kt[fn],Object.prototype.hasOwnProperty.call(Pe,ie)&&(v[ie]=Pe[ie])}}function Jt(v){var H=1;v=v.split(":");const ie=[];for(;0<H&&v.length;)ie.push(v.shift()),H--;return v.length&&ie.push(v.join(":")),ie}function rn(v){N.setTimeout(()=>{throw v},0)}function xt(){var v=Qp;let H=null;return v.g&&(H=v.g,v.g=v.g.next,v.g||(v.h=null),H.next=null),H}var Ah=new class gr{constructor(H,ie){this.i=H,this.j=ie,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}(()=>new EI,v=>v.reset());class EI{constructor(){this.next=this.g=this.h=null}set(H,ie){this.h=H,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let $u,Ef=!1,Qp=new class Gc{constructor(){this.h=this.g=null}add(H,ie){const Pe=Ah.get();Pe.set(H,ie),this.h?this.h.next=Pe:this.g=Pe,this.h=Pe}},ny=()=>{const v=N.Promise.resolve(void 0);$u=()=>{v.then(ry)}};var ry=()=>{for(var v;v=xt();){try{v.h.call(v.g)}catch(ie){rn(ie)}var H=Ah;H.j(v),100>H.h&&(H.h++,v.next=H.g,H.g=v)}Ef=!1};function ju(){this.s=this.s,this.C=this.C}function Ra(v,H){this.type=v,this.g=this.target=H,this.defaultPrevented=!1}ju.prototype.s=!1,ju.prototype.ma=function(){this.s||(this.s=!0,this.N())},ju.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ra.prototype.h=function(){this.defaultPrevented=!0};var iy=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var v=!1,H=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const ie=()=>{};N.addEventListener("test",ie,H),N.removeEventListener("test",ie,H)}catch{}return v}();function Od(v,H){if(Ra.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var ie=this.type=v.type,Pe=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=H,H=v.relatedTarget){if(Bi){e:{try{Lr(H.nodeName);var Zt=!0;break e}catch{}Zt=!1}Zt||(H=null)}}else"mouseover"==ie?H=v.fromElement:"mouseout"==ie&&(H=v.toElement);this.relatedTarget=H,Pe?(this.clientX=void 0!==Pe.clientX?Pe.clientX:Pe.pageX,this.clientY=void 0!==Pe.clientY?Pe.clientY:Pe.pageY,this.screenX=Pe.screenX||0,this.screenY=Pe.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:oy[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Od.aa.h.call(this)}}Cn(Od,Ra);var oy={2:"touch",3:"pen",4:"mouse"};Od.prototype.h=function(){Od.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var zc="closure_listenable_"+(1e6*Math.random()|0),bf=0;function Cf(v,H,ie,Pe,Zt){this.listener=v,this.proxy=null,this.src=H,this.type=ie,this.capture=!!Pe,this.ha=Zt,this.key=++bf,this.da=this.fa=!1}function Yp(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Jp(v){this.src=v,this.g={},this.h=0}function zm(v,H){var ie=H.type;if(ie in v.g){var fn,Pe=v.g[ie],Zt=Array.prototype.indexOf.call(Pe,H,void 0);(fn=0<=Zt)&&Array.prototype.splice.call(Pe,Zt,1),fn&&(Yp(H),0==v.g[ie].length&&(delete v.g[ie],v.h--))}}function Th(v,H,ie,Pe){for(var Zt=0;Zt<v.length;++Zt){var fn=v[Zt];if(!fn.da&&fn.listener==H&&fn.capture==!!ie&&fn.ha==Pe)return Zt}return-1}Jp.prototype.add=function(v,H,ie,Pe,Zt){var fn=v.toString();(v=this.g[fn])||(v=this.g[fn]=[],this.h++);var rr=Th(v,H,Pe,Zt);return-1<rr?(H=v[rr],ie||(H.fa=!1)):((H=new Cf(H,this.src,fn,!!Pe,Zt)).fa=ie,v.push(H)),H};var Af="closure_lm_"+(1e6*Math.random()|0),Wm={};function bI(v,H,ie,Pe,Zt){if(Pe&&Pe.once)return sy(v,H,ie,Pe,Zt);if(Array.isArray(H)){for(var fn=0;fn<H.length;fn++)bI(v,H[fn],ie,Pe,Zt);return null}return ie=Tf(ie),v&&v[zc]?v.K(H,ie,te(Pe)?!!Pe.capture:!!Pe,Zt):CI(v,H,ie,!1,Pe,Zt)}function CI(v,H,ie,Pe,Zt,fn){if(!H)throw Error("Invalid event type");var rr=te(Zt)?!!Zt.capture:!!Zt,bo=Xm(v);if(bo||(v[Af]=bo=new Jp(v)),(ie=bo.add(H,ie,Pe,rr,fn)).proxy)return ie;if(Pe=function AI(){const H=DI;return function v(ie){return H.call(v.src,v.listener,ie)}}(),ie.proxy=Pe,Pe.src=v,Pe.listener=ie,v.addEventListener)iy||(Zt=rr),void 0===Zt&&(Zt=!1),v.addEventListener(H.toString(),Pe,Zt);else if(v.attachEvent)v.attachEvent(wI(H.toString()),Pe);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Pe)}return ie}function sy(v,H,ie,Pe,Zt){if(Array.isArray(H)){for(var fn=0;fn<H.length;fn++)sy(v,H[fn],ie,Pe,Zt);return null}return ie=Tf(ie),v&&v[zc]?v.L(H,ie,te(Pe)?!!Pe.capture:!!Pe,Zt):CI(v,H,ie,!0,Pe,Zt)}function TI(v,H,ie,Pe,Zt){if(Array.isArray(H))for(var fn=0;fn<H.length;fn++)TI(v,H[fn],ie,Pe,Zt);else Pe=te(Pe)?!!Pe.capture:!!Pe,ie=Tf(ie),v&&v[zc]?(v=v.i,(H=String(H).toString())in v.g&&-1<(ie=Th(fn=v.g[H],ie,Pe,Zt))&&(Yp(fn[ie]),Array.prototype.splice.call(fn,ie,1),0==fn.length&&(delete v.g[H],v.h--))):v&&(v=Xm(v))&&(H=v.g[H.toString()],v=-1,H&&(v=Th(H,ie,Pe,Zt)),(ie=-1<v?H[v]:null)&&Km(ie))}function Km(v){if("number"!=typeof v&&v&&!v.da){var H=v.src;if(H&&H[zc])zm(H.i,v);else{var ie=v.type,Pe=v.proxy;H.removeEventListener?H.removeEventListener(ie,Pe,v.capture):H.detachEvent?H.detachEvent(wI(ie),Pe):H.addListener&&H.removeListener&&H.removeListener(Pe),(ie=Xm(H))?(zm(ie,v),0==ie.h&&(ie.src=null,H[Af]=null)):Yp(v)}}}function wI(v){return v in Wm?Wm[v]:Wm[v]="on"+v}function DI(v,H){if(v.da)v=!0;else{H=new Od(H,this);var ie=v.listener,Pe=v.ha||v.src;v.fa&&Km(v),v=ie.call(Pe,H)}return v}function Xm(v){return(v=v[Af])instanceof Jp?v:null}var qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(v){return"function"==typeof v?v:(v[qm]||(v[qm]=function(H){return v.handleEvent(H)}),v[qm])}function Ns(){ju.call(this),this.i=new Jp(this),this.M=this,this.F=null}function pa(v,H){var ie,Pe=v.F;if(Pe)for(ie=[];Pe;Pe=Pe.F)ie.push(Pe);if(v=v.M,Pe=H.type||H,"string"==typeof H)H=new Ra(H,v);else if(H instanceof Ra)H.target=H.target||v;else{var Zt=H;Gt(H=new Ra(Pe,v),Zt)}if(Zt=!0,ie)for(var fn=ie.length-1;0<=fn;fn--){var rr=H.g=ie[fn];Zt=kd(rr,Pe,!0,H)&&Zt}if(Zt=kd(rr=H.g=v,Pe,!0,H)&&Zt,Zt=kd(rr,Pe,!1,H)&&Zt,ie)for(fn=0;fn<ie.length;fn++)Zt=kd(rr=H.g=ie[fn],Pe,!1,H)&&Zt}function kd(v,H,ie,Pe){if(!(H=v.i.g[String(H)]))return!0;H=H.concat();for(var Zt=!0,fn=0;fn<H.length;++fn){var rr=H[fn];if(rr&&!rr.da&&rr.capture==ie){var bo=rr.listener,ga=rr.ha||rr.src;rr.fa&&zm(v.i,rr),Zt=!1!==bo.call(ga,Pe)&&Zt}}return Zt&&!Pe.defaultPrevented}function Qm(v,H,ie){if("function"==typeof v)ie&&(v=It(v,ie));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=It(v.handleEvent,v)}return 2147483647<Number(H)?-1:N.setTimeout(v,H||0)}function wh(v){v.g=Qm(()=>{v.g=null,v.i&&(v.i=!1,wh(v))},v.l);const H=v.h;v.h=null,v.m.apply(null,H)}Cn(Ns,ju),Ns.prototype[zc]=!0,Ns.prototype.removeEventListener=function(v,H,ie,Pe){TI(this,v,H,ie,Pe)},Ns.prototype.N=function(){if(Ns.aa.N.call(this),this.i){var H,v=this.i;for(H in v.g){for(var ie=v.g[H],Pe=0;Pe<ie.length;Pe++)Yp(ie[Pe]);delete v.g[H],v.h--}}this.F=null},Ns.prototype.K=function(v,H,ie,Pe){return this.i.add(String(v),H,!1,ie,Pe)},Ns.prototype.L=function(v,H,ie,Pe){return this.i.add(String(v),H,!0,ie,Pe)};class ay extends ju{constructor(H,ie){super(),this.m=H,this.l=ie,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:wh(this)}N(){super.N(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wf(v){ju.call(this),this.h=v,this.g={}}Cn(wf,ju);var Dh=[];function Ym(v){Yr(v.g,function(H,ie){this.g.hasOwnProperty(ie)&&Km(H)},v),v.g={}}wf.prototype.N=function(){wf.aa.N.call(this),Ym(this)},wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zp=N.JSON.stringify,ly=N.JSON.parse,cy=class{stringify(v){return N.JSON.stringify(v,void 0)}parse(v){return N.JSON.parse(v,void 0)}};function Jm(){}function dy(){}Jm.prototype.h=null;var Wc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zm(){Ra.call(this,"d")}function e_(){Ra.call(this,"c")}Cn(Zm,Ra),Cn(e_,Ra);var Fd={},Df=null;function Sf(){return Df=Df||new Ns}function t_(v){Ra.call(this,Fd.La,v)}function Sh(v){const H=Sf();pa(H,new t_(H))}function hy(v,H){Ra.call(this,Fd.STAT_EVENT,v),this.stat=H}function Ma(v){const H=Sf();pa(H,new hy(H,v))}function eg(v,H){Ra.call(this,Fd.Ma,v),this.size=H}function Hu(v,H){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){v()},H)}function Rf(){this.g=!0}function Rh(v,H,ie,Pe){v.info(function(){return"XMLHTTP TEXT ("+H+"): "+function PI(v,H){if(!v.g)return H;if(!H)return null;try{var ie=JSON.parse(H);if(ie)for(v=0;v<ie.length;v++)if(Array.isArray(ie[v])){var Pe=ie[v];if(!(2>Pe.length)){var Zt=Pe[1];if(Array.isArray(Zt)&&!(1>Zt.length)){var fn=Zt[0];if("noop"!=fn&&"stop"!=fn&&"close"!=fn)for(var rr=1;rr<Zt.length;rr++)Zt[rr]=""}}}return Zp(ie)}catch{return H}}(v,ie)+(Pe?" "+Pe:"")})}Fd.La="serverreachability",Cn(t_,Ra),Fd.STAT_EVENT="statevent",Cn(hy,Ra),Fd.Ma="timingevent",Cn(eg,Ra),Rf.prototype.xa=function(){this.g=!1},Rf.prototype.info=function(){};var tg,Mh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ph={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Mf(){}function Gu(v,H,ie,Pe){this.j=v,this.i=H,this.l=ie,this.R=Pe||1,this.U=new wf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xh}function xh(){this.i=null,this.g="",this.h=!1}Cn(Mf,Jm),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},tg=new Mf;var Pf={},fy={};function n_(v,H,ie){v.L=1,v.v=og(Xc(H)),v.m=ie,v.P=!0,r_(v,null)}function r_(v,H){v.F=Date.now(),xf(v),v.A=Xc(v.v);var ie=v.A,Pe=v.R;Array.isArray(Pe)||(Pe=[String(Pe)]),Ld(ie.i,"t",Pe),v.C=0,ie=v.j.J,v.h=new xh,v.g=ug(v.j,ie?H:null,!v.m),0<v.O&&(v.M=new ay(It(v.Y,v,v.g),v.O)),H=v.U,ie=v.g,Pe=v.ca;var Zt="readystatechange";Array.isArray(Zt)||(Zt&&(Dh[0]=Zt.toString()),Zt=Dh);for(var fn=0;fn<Zt.length;fn++){var rr=bI(ie,Zt[fn],Pe||H.handleEvent,!1,H.h||H);if(!rr)break;H.g[rr.key]=rr}H=v.H?_t(v.H):{},v.m?(v.u||(v.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,H)):(v.u="GET",v.g.ea(v.A,v.u,null,H)),Sh(),function SI(v,H,ie,Pe,Zt,fn){v.info(function(){if(v.g)if(fn)for(var rr="",bo=fn.split("&"),ga=0;ga<bo.length;ga++){var ro=bo[ga].split("=");if(1<ro.length){var Pa=ro[0];ro=ro[1];var xa=Pa.split("_");rr=2<=xa.length&&"type"==xa[1]?rr+(Pa+"=")+ro+"&":rr+(Pa+"=redacted&")}}else rr=null;else rr=fn;return"XMLHTTP REQ ("+Pe+") [attempt "+Zt+"]: "+H+"\n"+ie+"\n"+rr})}(v.i,v.u,v.A,v.l,v.R,v.m)}function ng(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function xI(v,H){var ie=v.C,Pe=H.indexOf("\n",ie);return-1==Pe?fy:(ie=Number(H.substring(ie,Pe)),isNaN(ie)?Pf:(Pe+=1)+ie>H.length?fy:(H=H.slice(Pe,Pe+ie),v.C=Pe+ie,H))}function xf(v){v.S=Date.now()+v.I,py(v,v.I)}function py(v,H){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Hu(It(v.ba,v),H)}function rg(v){v.B&&(N.clearTimeout(v.B),v.B=null)}function Nh(v){0==v.j.G||v.J||$f(v.j,v)}function zu(v){rg(v);var H=v.M;H&&"function"==typeof H.ma&&H.ma(),v.M=null,Ym(v.U),v.g&&(H=v.g,v.g=null,H.abort(),H.ma())}function Nf(v,H){try{var ie=v.j;if(0!=ie.G&&(ie.g==v||i_(ie.h,v)))if(!v.K&&i_(ie.h,v)&&3==ie.G){try{var Pe=ie.Da.g.parse(H)}catch{Pe=null}if(Array.isArray(Pe)&&3==Pe.length){var Zt=Pe;if(0==Zt[0]){e:if(!ie.u){if(ie.g){if(!(ie.g.F+3e3<v.F))break e;cg(ie),Vf(ie)}p_(ie),Ma(18)}}else ie.za=Zt[1],0<ie.za-ie.T&&37500>Zt[2]&&ie.F&&0==ie.v&&!ie.C&&(ie.C=Hu(It(ie.Za,ie),6e3));if(1>=_y(ie.h)&&ie.ca){try{ie.ca()}catch{}ie.ca=void 0}}else Ud(ie,11)}else if((v.K||ie.g==v)&&cg(ie),!Mr(H))for(Zt=ie.Da.g.parse(H),H=0;H<Zt.length;H++){let ro=Zt[H];if(ie.T=ro[0],ro=ro[1],2==ie.G)if("c"==ro[0]){ie.K=ro[1],ie.ia=ro[2];const Pa=ro[3];null!=Pa&&(ie.la=Pa,ie.j.info("VER="+ie.la));const xa=ro[4];null!=xa&&(ie.Aa=xa,ie.j.info("SVER="+ie.Aa));const $d=ro[5];null!=$d&&"number"==typeof $d&&0<$d&&(ie.L=Pe=1.5*$d,ie.j.info("backChannelRequestTimeoutMs_="+Pe)),Pe=ie;const bl=v.g;if(bl){const Uh=bl.g?bl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uh){var fn=Pe.h;fn.g||-1==Uh.indexOf("spdy")&&-1==Uh.indexOf("quic")&&-1==Uh.indexOf("h2")||(fn.j=fn.l,fn.g=new Set,fn.h&&(o_(fn,fn.h),fn.h=null))}if(Pe.D){const fg=bl.g?bl.g.getResponseHeader("X-HTTP-Session-Id"):null;fg&&(Pe.ya=fg,Xo(Pe.I,Pe.D,fg))}}ie.G=3,ie.l&&ie.l.ua(),ie.ba&&(ie.R=Date.now()-v.F,ie.j.info("Handshake RTT: "+ie.R+"ms"));var rr=v;if((Pe=ie).qa=__(Pe,Pe.J?Pe.ia:null,Pe.W),rr.K){ig(Pe.h,rr);var bo=rr,ga=Pe.L;ga&&(bo.I=ga),bo.B&&(rg(bo),xf(bo)),Pe.g=rr}else Py(Pe);0<ie.i.length&&lg(ie)}else"stop"!=ro[0]&&"close"!=ro[0]||Ud(ie,7);else 3==ie.G&&("stop"==ro[0]||"close"==ro[0]?"stop"==ro[0]?Ud(ie,7):Vh(ie):"noop"!=ro[0]&&ie.l&&ie.l.ta(ro),ie.v=0)}Sh()}catch{}}Gu.prototype.ca=function(v){v=v.target;const H=this.M;H&&3==rc(v)?H.j():this.Y(v)},Gu.prototype.Y=function(v){try{if(v==this.g)e:{const xa=rc(this.g);var H=this.g.Ba();if(this.g.Z(),!(3>xa)&&(3!=xa||this.g&&(this.h.h||this.g.oa()||h_(this.g)))){this.J||4!=xa||7==H||Sh(),rg(this);var ie=this.g.Z();this.X=ie;t:if(ng(this)){var Pe=h_(this.g);v="";var Zt=Pe.length,fn=4==rc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zu(this),Nh(this);var rr="";break t}this.h.i=new N.TextDecoder}for(H=0;H<Zt;H++)this.h.h=!0,v+=this.h.i.decode(Pe[H],{stream:!(fn&&H==Zt-1)});Pe.length=0,this.h.g+=v,this.C=0,rr=this.h.g}else rr=this.g.oa();if(this.o=200==ie,function RI(v,H,ie,Pe,Zt,fn,rr){v.info(function(){return"XMLHTTP RESP ("+Pe+") [ attempt "+Zt+"]: "+H+"\n"+ie+"\n"+fn+" "+rr})}(this.i,this.u,this.A,this.l,this.R,xa,ie),this.o){if(this.T&&!this.K){t:{if(this.g){var bo,ga=this.g;if((bo=ga.g?ga.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mr(bo)){var ro=bo;break t}}ro=null}if(!(ie=ro)){this.o=!1,this.s=3,Ma(12),zu(this),Nh(this);break e}Rh(this.i,this.l,ie,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nf(this,ie)}if(this.P){let bl;for(ie=!0;!this.J&&this.C<rr.length;){if(bl=xI(this,rr),bl==fy){4==xa&&(this.s=4,Ma(14),ie=!1),Rh(this.i,this.l,null,"[Incomplete Response]");break}if(bl==Pf){this.s=4,Ma(15),Rh(this.i,this.l,rr,"[Invalid Chunk]"),ie=!1;break}Rh(this.i,this.l,bl,null),Nf(this,bl)}if(ng(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=xa||0!=rr.length||this.h.h||(this.s=1,Ma(16),ie=!1),this.o=this.o&&ie,ie){if(0<rr.length&&!this.W){this.W=!0;var Pa=this.j;Pa.g==this&&Pa.ba&&!Pa.M&&(Pa.j.info("Great, no buffering proxy detected. Bytes received: "+rr.length),g_(Pa),Pa.M=!0,Ma(11))}}else Rh(this.i,this.l,rr,"[Invalid Chunked Response]"),zu(this),Nh(this)}else Rh(this.i,this.l,rr,null),Nf(this,rr);4==xa&&zu(this),this.o&&!this.J&&(4==xa?$f(this.j,this):(this.o=!1,xf(this)))}else(function Yu(v){const H={};v=(v.g&&2<=rc(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Pe=0;Pe<v.length;Pe++){if(Mr(v[Pe]))continue;var ie=Jt(v[Pe]);const Zt=ie[0];if("string"!=typeof(ie=ie[1]))continue;ie=ie.trim();const fn=H[Zt]||[];H[Zt]=fn,fn.push(ie)}!function jt(v,H){for(const ie in v)H.call(void 0,v[ie],ie,v)}(H,function(Pe){return Pe.join(", ")})})(this.g),400==ie&&0<rr.indexOf("Unknown SID")?(this.s=3,Ma(12)):(this.s=0,Ma(13)),zu(this),Nh(this)}}}catch{}},Gu.prototype.cancel=function(){this.J=!0,zu(this)},Gu.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function MI(v,H){v.info(function(){return"TIMEOUT: "+H})}(this.i,this.A),2!=this.L&&(Sh(),Ma(17)),zu(this),this.s=2,Nh(this)):py(this,this.S-v)};var NI=class{constructor(v,H){this.g=v,this.map=H}};function gy(v){this.l=v||10,v=N.PerformanceNavigationTiming?0<(v=N.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(N.chrome&&N.chrome.loadTimes&&N.chrome.loadTimes()&&N.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function my(v){return!!v.h||!!v.g&&v.g.size>=v.j}function _y(v){return v.h?1:v.g?v.g.size:0}function i_(v,H){return v.h?v.h==H:!!v.g&&v.g.has(H)}function o_(v,H){v.g?v.g.add(H):v.h=H}function ig(v,H){v.h&&v.h==H?v.h=null:v.g&&v.g.has(H)&&v.g.delete(H)}function vy(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let H=v.i;for(const ie of v.g.values())H=H.concat(ie.D);return H}return zn(v.i)}function Wu(v,H){if(v.forEach&&"function"==typeof v.forEach)v.forEach(H,void 0);else if(U(v)||"string"==typeof v)Array.prototype.forEach.call(v,H,void 0);else for(var ie=function kI(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(U(v)||"string"==typeof v){var H=[];v=v.length;for(var ie=0;ie<v;ie++)H.push(ie);return H}H=[],ie=0;for(const Pe in v)H[ie++]=Pe;return H}}}(v),Pe=function OI(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(U(v)){for(var H=[],ie=v.length,Pe=0;Pe<ie;Pe++)H.push(v[Pe]);return H}for(Pe in H=[],ie=0,v)H[ie++]=v[Pe];return H}(v),Zt=Pe.length,fn=0;fn<Zt;fn++)H.call(void 0,Pe[fn],ie&&ie[fn],v)}gy.prototype.cancel=function(){if(this.i=vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Oh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Kc){this.h=v.h,qc(this,v.j),this.o=v.o,this.g=v.g,Of(this,v.s),this.l=v.l;var H=v.i,ie=new kh;ie.i=H.i,H.g&&(ie.g=new Map(H.g),ie.h=H.h),yy(this,ie),this.m=v.m}else v&&(H=String(v).match(Oh))?(this.h=!1,qc(this,H[1]||"",!0),this.o=kf(H[2]||""),this.g=kf(H[3]||"",!0),Of(this,H[4]),this.l=kf(H[5]||"",!0),yy(this,H[6]||"",!0),this.m=kf(H[7]||"")):(this.h=!1,this.i=new kh(null,this.h))}function Xc(v){return new Kc(v)}function qc(v,H,ie){v.j=ie?kf(H,!0):H,v.j&&(v.j=v.j.replace(/:$/,""))}function Of(v,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);v.s=H}else v.s=null}function yy(v,H,ie){H instanceof kh?(v.i=H,function Eb(v,H){H&&!v.j&&(Ku(v),v.i=null,v.g.forEach(function(ie,Pe){var Zt=Pe.toLowerCase();Pe!=Zt&&(Cy(this,Pe),Ld(this,Zt,ie))},v)),v.j=H}(v.i,v.h)):(ie||(H=Ff(H,FI)),v.i=new kh(H,v.h))}function Xo(v,H,ie){v.i.set(H,ie)}function og(v){return Xo(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function kf(v,H){return v?H?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ff(v,H,ie){return"string"==typeof v?(v=encodeURI(v).replace(H,Iy),ie&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Iy(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Kc.prototype.toString=function(){var v=[],H=this.j;H&&v.push(Ff(H,Ey,!0),":");var ie=this.g;return(ie||"file"==H)&&(v.push("//"),(H=this.o)&&v.push(Ff(H,Ey,!0),"@"),v.push(encodeURIComponent(String(ie)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ie=this.s)&&v.push(":",String(ie))),(ie=this.l)&&(this.g&&"/"!=ie.charAt(0)&&v.push("/"),v.push(Ff(ie,"/"==ie.charAt(0)?sg:by,!0))),(ie=this.i.toString())&&v.push("?",ie),(ie=this.m)&&v.push("#",Ff(ie,LI)),v.join("")};var Ey=/[#\/\?@]/g,by=/[#\?:]/g,sg=/[#\?]/g,FI=/[#\?@]/g,LI=/#/g;function kh(v,H){this.h=this.g=null,this.i=v||null,this.j=!!H}function Ku(v){v.g||(v.g=new Map,v.h=0,v.i&&function s_(v,H){if(v){v=v.split("&");for(var ie=0;ie<v.length;ie++){var Pe=v[ie].indexOf("="),Zt=null;if(0<=Pe){var fn=v[ie].substring(0,Pe);Zt=v[ie].substring(Pe+1)}else fn=v[ie];H(fn,Zt?decodeURIComponent(Zt.replace(/\+/g," ")):"")}}}(v.i,function(H,ie){v.add(decodeURIComponent(H.replace(/\+/g," ")),ie)}))}function Cy(v,H){Ku(v),H=Ac(v,H),v.g.has(H)&&(v.i=null,v.h-=v.g.get(H).length,v.g.delete(H))}function Xu(v,H){return Ku(v),H=Ac(v,H),v.g.has(H)}function Ld(v,H,ie){Cy(v,H),0<ie.length&&(v.i=null,v.g.set(Ac(v,H),zn(ie)),v.h+=ie.length)}function Ac(v,H){return H=String(H),v.j&&(H=H.toLowerCase()),H}function qu(v,H,ie,Pe,Zt){try{Zt&&(Zt.onload=null,Zt.onerror=null,Zt.onabort=null,Zt.ontimeout=null),Pe(ie)}catch{}}function Ty(){this.g=new cy}function VI(v,H,ie){const Pe=ie||"";try{Wu(v,function(Zt,fn){let rr=Zt;te(Zt)&&(rr=Zp(Zt)),H.push(Pe+fn+"="+encodeURIComponent(rr))})}catch(Zt){throw H.push(Pe+"type="+encodeURIComponent("_badmap")),Zt}}function Fh(v){this.l=v.Ub||null,this.j=v.eb||!1}function l_(v,H){Ns.call(this),this.D=v,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function wy(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Qc(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Vd(v)}function Vd(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Dy(v){let H="";return Yr(v,function(ie,Pe){H+=Pe,H+=":",H+=ie,H+="\r\n"}),H}function c_(v,H,ie){e:{for(Pe in ie){var Pe=!1;break e}Pe=!0}Pe||(ie=Dy(ie),"string"==typeof v?null!=ie&&encodeURIComponent(String(ie)):Xo(v,H,ie))}function hs(v){Ns.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=kh.prototype).add=function(v,H){Ku(this),this.i=null,v=Ac(this,v);var ie=this.g.get(v);return ie||this.g.set(v,ie=[]),ie.push(H),this.h+=1,this},c.forEach=function(v,H){Ku(this),this.g.forEach(function(ie,Pe){ie.forEach(function(Zt){v.call(H,Zt,Pe,this)},this)},this)},c.na=function(){Ku(this);const v=Array.from(this.g.values()),H=Array.from(this.g.keys()),ie=[];for(let Pe=0;Pe<H.length;Pe++){const Zt=v[Pe];for(let fn=0;fn<Zt.length;fn++)ie.push(H[Pe])}return ie},c.V=function(v){Ku(this);let H=[];if("string"==typeof v)Xu(this,v)&&(H=H.concat(this.g.get(Ac(this,v))));else{v=Array.from(this.g.values());for(let ie=0;ie<v.length;ie++)H=H.concat(v[ie])}return H},c.set=function(v,H){return Ku(this),this.i=null,Xu(this,v=Ac(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[H]),this.h+=1,this},c.get=function(v,H){return v&&0<(v=this.V(v)).length?String(v[0]):H},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],H=Array.from(this.g.keys());for(var ie=0;ie<H.length;ie++){var Pe=H[ie];const fn=encodeURIComponent(String(Pe)),rr=this.V(Pe);for(Pe=0;Pe<rr.length;Pe++){var Zt=fn;""!==rr[Pe]&&(Zt+="="+encodeURIComponent(String(rr[Pe]))),v.push(Zt)}}return this.i=v.join("&")},Cn(Fh,Jm),Fh.prototype.g=function(){return new l_(this.l,this.j)},Fh.prototype.i=function(v){return function(){return v}}({}),Cn(l_,Ns),(c=l_.prototype).open=function(v,H){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=H,this.readyState=1,Vd(this)},c.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(H.body=v),(this.D||N).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qc(this)),this.readyState=0},c.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Vd(this)),this.g&&(this.readyState=3,Vd(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wy(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var H=v.value?v.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!v.done}))&&(this.response=this.responseText+=H)}v.done?Qc(this):Vd(this),3==this.readyState&&wy(this)}},c.Ra=function(v){this.g&&(this.response=this.responseText=v,Qc(this))},c.Qa=function(v){this.g&&(this.response=v,Qc(this))},c.ga=function(){this.g&&Qc(this)},c.setRequestHeader=function(v,H){this.u.append(v,H)},c.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],H=this.h.entries();for(var ie=H.next();!ie.done;)v.push((ie=ie.value)[0]+": "+ie[1]),ie=H.next();return v.join("\r\n")},Object.defineProperty(l_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Cn(hs,Ns);var u_=/^https?$/i,Qu=["POST","PUT"];function Lf(v,H){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=H,v.m=5,d_(v),ag(v)}function d_(v){v.A||(v.A=!0,pa(v,"complete"),pa(v,"error"))}function Lh(v){if(v.h&&typeof y<"u"&&(!v.v[1]||4!=rc(v)||2!=v.Z()))if(v.u&&4==rc(v))Qm(v.Ea,0,v);else if(pa(v,"readystatechange"),4==rc(v)){v.h=!1;try{const rr=v.Z();e:switch(rr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var ie;if(!(ie=H)){var Pe;if(Pe=0===rr){var Zt=String(v.D).match(Oh)[1]||null;!Zt&&N.self&&N.self.location&&(Zt=N.self.location.protocol.slice(0,-1)),Pe=!u_.test(Zt?Zt.toLowerCase():"")}ie=Pe}if(ie)pa(v,"complete"),pa(v,"success");else{v.m=6;try{var fn=2<rc(v)?v.g.statusText:""}catch{fn=""}v.l=fn+" ["+v.Z()+"]",d_(v)}}finally{ag(v)}}}function ag(v,H){if(v.g){Sy(v);const ie=v.g,Pe=v.v[0]?()=>{}:null;v.g=null,v.v=null,H||pa(v,"ready");try{ie.onreadystatechange=Pe}catch{}}}function Sy(v){v.I&&(N.clearTimeout(v.I),v.I=null)}function rc(v){return v.g?v.g.readyState:0}function h_(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Yc(v,H,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[v]||H}function UI(v){this.Aa=0,this.i=[],this.j=new Rf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yc("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yc("baseRetryDelayMs",5e3,v),this.cb=Yc("retryDelaySeedMs",1e4,v),this.Wa=Yc("forwardChannelMaxRetries",2,v),this.wa=Yc("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new gy(v&&v.concurrentRequestLimit),this.Da=new Ty,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Vh(v){if(f_(v),3==v.G){var H=v.U++,ie=Xc(v.I);if(Xo(ie,"SID",v.K),Xo(ie,"RID",H),Xo(ie,"TYPE","terminate"),Bf(v,ie),(H=new Gu(v,v.j,H)).L=2,H.v=og(Xc(ie)),ie=!1,N.navigator&&N.navigator.sendBeacon)try{ie=N.navigator.sendBeacon(H.v.toString(),"")}catch{}!ie&&N.Image&&((new Image).src=H.v,ie=!0),ie||(H.g=ug(H.j,null),H.g.ea(H.v)),H.F=Date.now(),xf(H)}m_(v)}function Vf(v){v.g&&(g_(v),v.g.cancel(),v.g=null)}function f_(v){Vf(v),v.u&&(N.clearTimeout(v.u),v.u=null),cg(v),v.h.cancel(),v.s&&("number"==typeof v.s&&N.clearTimeout(v.s),v.s=null)}function lg(v){if(!my(v.h)&&!v.s){v.s=!0;var H=v.Ga;$u||ny(),Ef||($u(),Ef=!0),Qp.add(H,v),v.B=0}}function Ry(v,H){var ie;ie=H?H.l:v.U++;const Pe=Xc(v.I);Xo(Pe,"SID",v.K),Xo(Pe,"RID",ie),Xo(Pe,"AID",v.T),Bf(v,Pe),v.m&&v.o&&c_(Pe,v.m,v.o),ie=new Gu(v,v.j,ie,v.B+1),null===v.m&&(ie.H=v.o),H&&(v.i=H.D.concat(v.i)),H=My(v,ie,1e3),ie.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),o_(v.h,ie),n_(ie,Pe,H)}function Bf(v,H){v.H&&Yr(v.H,function(ie,Pe){Xo(H,Pe,ie)}),v.l&&Wu({},function(ie,Pe){Xo(H,Pe,ie)})}function My(v,H,ie){ie=Math.min(v.i.length,ie);var Pe=v.l?It(v.l.Na,v.l,v):null;e:{var Zt=v.i;let fn=-1;for(;;){const rr=["count="+ie];-1==fn?0<ie?(fn=Zt[0].g,rr.push("ofs="+fn)):fn=0:rr.push("ofs="+fn);let bo=!0;for(let ga=0;ga<ie;ga++){let ro=Zt[ga].g;const Pa=Zt[ga].map;if(ro-=fn,0>ro)fn=Math.max(0,Zt[ga].g-100),bo=!1;else try{VI(Pa,rr,"req"+ro+"_")}catch{Pe&&Pe(Pa)}}if(bo){Pe=rr.join("&");break e}}}return v=v.i.splice(0,ie),H.D=v,Pe}function Py(v){if(!v.g&&!v.u){v.Y=1;var H=v.Fa;$u||ny(),Ef||($u(),Ef=!0),Qp.add(H,v),v.v=0}}function p_(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Hu(It(v.Fa,v),Ny(v,v.v)),v.v++,0))}function g_(v){null!=v.A&&(N.clearTimeout(v.A),v.A=null)}function xy(v){v.g=new Gu(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var H=Xc(v.qa);Xo(H,"RID","rpc"),Xo(H,"SID",v.K),Xo(H,"AID",v.T),Xo(H,"CI",v.F?"0":"1"),!v.F&&v.ja&&Xo(H,"TO",v.ja),Xo(H,"TYPE","xmlhttp"),Bf(v,H),v.m&&v.o&&c_(H,v.m,v.o),v.L&&(v.g.I=v.L);var ie=v.g;v=v.ia,ie.L=1,ie.v=og(Xc(H)),ie.m=null,ie.P=!0,r_(ie,v)}function cg(v){null!=v.C&&(N.clearTimeout(v.C),v.C=null)}function $f(v,H){var ie=null;if(v.g==H){cg(v),g_(v),v.g=null;var Pe=2}else{if(!i_(v.h,H))return;ie=H.D,ig(v.h,H),Pe=1}if(0!=v.G)if(H.o)if(1==Pe){ie=H.m?H.m.length:0,H=Date.now()-H.F;var Zt=v.B;pa(Pe=Sf(),new eg(Pe,ie)),lg(v)}else Py(v);else if(3==(Zt=H.s)||0==Zt&&0<H.X||!(1==Pe&&function Uf(v,H){return!(_y(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=H.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Hu(It(v.Ga,v,H),Ny(v,v.B)),v.B++,0)))}(v,H)||2==Pe&&p_(v)))switch(ie&&0<ie.length&&(H=v.h,H.i=H.i.concat(ie)),Zt){case 1:Ud(v,5);break;case 4:Ud(v,10);break;case 3:Ud(v,6);break;default:Ud(v,2)}}function Ny(v,H){let ie=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(ie*=2),ie*H}function Ud(v,H){if(v.j.info("Error code "+H),2==H){var ie=It(v.fb,v),Pe=v.Xa;const Zt=!Pe;Pe=new Kc(Pe||"//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||qc(Pe,"https"),og(Pe),Zt?function Ay(v,H){const ie=new Rf;if(N.Image){const Pe=new Image;Pe.onload=nn(qu,ie,"TestLoadImage: loaded",!0,H,Pe),Pe.onerror=nn(qu,ie,"TestLoadImage: error",!1,H,Pe),Pe.onabort=nn(qu,ie,"TestLoadImage: abort",!1,H,Pe),Pe.ontimeout=nn(qu,ie,"TestLoadImage: timeout",!1,H,Pe),N.setTimeout(function(){Pe.ontimeout&&Pe.ontimeout()},1e4),Pe.src=v}else H(!1)}(Pe.toString(),ie):function a_(v,H){new Rf;const Pe=new AbortController,Zt=setTimeout(()=>{Pe.abort(),qu(0,0,!1,H)},1e4);fetch(v,{signal:Pe.signal}).then(fn=>{clearTimeout(Zt),qu(0,0,!!fn.ok,H)}).catch(()=>{clearTimeout(Zt),qu(0,0,!1,H)})}(Pe.toString(),ie)}else Ma(2);v.G=0,v.l&&v.l.sa(H),m_(v),f_(v)}function m_(v){if(v.G=0,v.ka=[],v.l){const H=vy(v.h);(0!=H.length||0!=v.i.length)&&(Vn(v.ka,H),Vn(v.ka,v.i),v.h.i.length=0,zn(v.i),v.i.length=0),v.l.ra()}}function __(v,H,ie){var Pe=ie instanceof Kc?Xc(ie):new Kc(ie);if(""!=Pe.g)H&&(Pe.g=H+"."+Pe.g),Of(Pe,Pe.s);else{var Zt=N.location;Pe=Zt.protocol,H=H?H+"."+Zt.hostname:Zt.hostname,Zt=+Zt.port;var fn=new Kc(null);Pe&&qc(fn,Pe),H&&(fn.g=H),Zt&&Of(fn,Zt),ie&&(fn.l=ie),Pe=fn}return H=v.ya,(ie=v.D)&&H&&Xo(Pe,ie,H),Xo(Pe,"VER",v.la),Bf(v,Pe),Pe}function ug(v,H,ie){if(H&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(H=new hs(v.Ca&&!v.pa?new Fh({eb:ie}):v.pa)).Ha(v.J),H}function v_(){}function dg(){}function il(v,H){Ns.call(this),this.g=new UI(H),this.l=v,this.h=H&&H.messageUrlParams||null,v=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(v?v["X-WebChannel-Content-Type"]=H.messageContentType:v={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(v?v["X-WebChannel-Client-Profile"]=H.va:v={"X-WebChannel-Client-Profile":H.va}),this.g.S=v,(v=H&&H.Sb)&&!Mr(v)&&(this.g.m=v),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!Mr(H)&&(this.g.D=H,null!==(v=this.h)&&H in v&&H in(v=this.h)&&delete v[H]),this.j=new Bd(this)}function hg(v){Zm.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var H=v.__sm__;if(H){e:{for(const ie in H){v=ie;break e}v=void 0}(this.i=v)&&(v=this.i,H=null!==H&&v in H?H[v]:void 0),this.data=H}else this.data=v}function y_(){e_.call(this),this.status=1}function Bd(v){this.g=v}(c=hs.prototype).Ha=function(v){this.J=v},c.ea=function(v,H,ie,Pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);H=H?H.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tg.g(),this.v=function uy(v){return v.h||(v.h=v.i())}(this.o?this.o:tg),this.g.onreadystatechange=It(this.Ea,this);try{this.B=!0,this.g.open(H,String(v),!0),this.B=!1}catch(fn){return void Lf(this,fn)}if(v=ie||"",ie=new Map(this.headers),Pe)if(Object.getPrototypeOf(Pe)===Object.prototype)for(var Zt in Pe)ie.set(Zt,Pe[Zt]);else{if("function"!=typeof Pe.keys||"function"!=typeof Pe.get)throw Error("Unknown input type for opt_headers: "+String(Pe));for(const fn of Pe.keys())ie.set(fn,Pe.get(fn))}Pe=Array.from(ie.keys()).find(fn=>"content-type"==fn.toLowerCase()),Zt=N.FormData&&v instanceof N.FormData,!(0<=Array.prototype.indexOf.call(Qu,H,void 0))||Pe||Zt||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fn,rr]of ie)this.g.setRequestHeader(fn,rr);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sy(this),this.u=!0,this.g.send(v),this.u=!1}catch(fn){Lf(this,fn)}},c.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,pa(this,"complete"),pa(this,"abort"),ag(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ag(this,!0)),hs.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Lh(this):this.bb())},c.bb=function(){Lh(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<rc(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(v){if(this.g){var H=this.g.responseText;return v&&0==H.indexOf(v)&&(H=H.substring(v.length)),ly(H)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=UI.prototype).la=8,c.G=1,c.connect=function(v,H,ie,Pe){Ma(0),this.W=v,this.H=H||{},ie&&void 0!==Pe&&(this.H.OSID=ie,this.H.OAID=Pe),this.F=this.X,this.I=__(this,null,this.W),lg(this)},c.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Zt=new Gu(this,this.j,v);let fn=this.o;if(this.S&&(fn?(fn=_t(fn),Gt(fn,this.S)):fn=this.S),null!==this.m||this.O||(Zt.H=fn,fn=null),this.P)e:{for(var H=0,ie=0;ie<this.i.length;ie++){var Pe=this.i[ie];if(void 0===(Pe="__data__"in Pe.map&&"string"==typeof(Pe=Pe.map.__data__)?Pe.length:void 0))break;if(4096<(H+=Pe)){H=ie;break e}if(4096===H||ie===this.i.length-1){H=ie+1;break e}}H=1e3}else H=1e3;H=My(this,Zt,H),Xo(ie=Xc(this.I),"RID",v),Xo(ie,"CVER",22),this.D&&Xo(ie,"X-HTTP-Session-Id",this.D),Bf(this,ie),fn&&(this.O?H="headers="+encodeURIComponent(String(Dy(fn)))+"&"+H:this.m&&c_(ie,this.m,fn)),o_(this.h,Zt),this.Ua&&Xo(ie,"TYPE","init"),this.P?(Xo(ie,"$req",H),Xo(ie,"SID","null"),Zt.T=!0,n_(Zt,ie,null)):n_(Zt,ie,H),this.G=2}}else 3==this.G&&(v?Ry(this,v):0==this.i.length||my(this.h)||Ry(this))},c.Fa=function(){if(this.u=null,xy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Hu(It(this.ab,this),v)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ma(10),Vf(this),xy(this))},c.Za=function(){null!=this.C&&(this.C=null,Vf(this),p_(this),Ma(19))},c.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ma(2)):(this.j.info("Failed to ping google.com"),Ma(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=v_.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},dg.prototype.g=function(v,H){return new il(v,H)},Cn(il,Ns),il.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},il.prototype.close=function(){Vh(this.g)},il.prototype.o=function(v){var H=this.g;if("string"==typeof v){var ie={};ie.__data__=v,v=ie}else this.u&&((ie={}).__data__=Zp(v),v=ie);H.i.push(new NI(H.Ya++,v)),3==H.G&&lg(H)},il.prototype.N=function(){this.g.l=null,delete this.j,Vh(this.g),delete this.g,il.aa.N.call(this)},Cn(hg,Zm),Cn(y_,e_),Cn(Bd,v_),Bd.prototype.ua=function(){pa(this.g,"a")},Bd.prototype.ta=function(v){pa(this.g,new hg(v))},Bd.prototype.sa=function(v){pa(this.g,new y_)},Bd.prototype.ra=function(){pa(this.g,"b")},dg.prototype.createWebChannel=dg.prototype.g,il.prototype.send=il.prototype.o,il.prototype.open=il.prototype.m,il.prototype.close=il.prototype.close,Ke=Lt.createWebChannelTransport=function(){return new dg},Oe=Lt.getStatEventTarget=function(){return Sf()},se=Lt.Event=Fd,Se=Lt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mh.NO_ERROR=0,Mh.TIMEOUT=8,Mh.HTTP_ERROR=6,_e=Lt.ErrorCode=Mh,Ph.COMPLETE="complete",De=Lt.EventType=Ph,dy.EventType=Wc,Wc.OPEN="a",Wc.CLOSE="b",Wc.ERROR="c",Wc.MESSAGE="d",Ns.prototype.listen=Ns.prototype.K,We=Lt.WebChannel=dy,Lt.FetchXmlHttpFactory=Fh,hs.prototype.listenOnce=hs.prototype.L,hs.prototype.getLastError=hs.prototype.Ka,hs.prototype.getLastErrorCode=hs.prototype.Ba,hs.prototype.getStatus=hs.prototype.Z,hs.prototype.getResponseJson=hs.prototype.Oa,hs.prototype.getResponseText=hs.prototype.oa,hs.prototype.send=hs.prototype.ea,hs.prototype.setWithCredentials=hs.prototype.Ha,Vt=Lt.XhrIo=hs}).apply(typeof Ze<"u"?Ze:typeof self<"u"?self:typeof window<"u"?window:{});const tt="@firebase/firestore";class He{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");let lt="10.14.0";const yt=new st.Vy("@firebase/firestore");function Bt(){return yt.logLevel}function bt(c,...n){if(yt.logLevel<=st.$b.DEBUG){const i=n.map(qn);yt.debug(`Firestore (${lt}): ${c}`,...i)}}function In(c,...n){if(yt.logLevel<=st.$b.ERROR){const i=n.map(qn);yt.error(`Firestore (${lt}): ${c}`,...i)}}function Ln(c,...n){if(yt.logLevel<=st.$b.WARN){const i=n.map(qn);yt.warn(`Firestore (${lt}): ${c}`,...i)}}function qn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function en(c="Unexpected state"){const n=`FIRESTORE (${lt}) INTERNAL ASSERTION FAILED: `+c;throw In(n),new Error(n)}function zt(c,n){c||en()}function sn(c,n){return c}const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends ht.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ut{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class Ft{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class tr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(He.UNAUTHENTICATED))}shutdown(){}}class or{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Hn{constructor(n){this.t=n,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;zt(void 0===this.o);let u=this.i;const f=te=>this.i!==u?(u=this.i,i(te)):Promise.resolve();let y=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Ut,n.enqueueRetryable(()=>f(this.currentUser))};const N=()=>{const te=y;n.enqueueRetryable((0,we.A)(function*(){yield te.promise,yield f(a.currentUser)}))},U=te=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.o&&(this.auth.addAuthTokenListener(this.o),N())};this.t.onInit(te=>U(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?U(te):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Ut)}},0),N()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(zt("string"==typeof a.accessToken),new Ft(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return zt(null===n||"string"==typeof n),new He(n)}}class Mn{constructor(n,i,a){this.l=n,this.h=i,this.P=a,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yr{constructor(n,i,a){this.l=n,this.h=i,this.P=a}getToken(){return Promise.resolve(new Mn(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ar{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qn{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){zt(void 0===this.o);const a=f=>{null!=f.error&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const y=f.token!==this.R;return this.R=f.token,bt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?i(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>a(f))};const u=f=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(zt("string"==typeof i.token),this.R=i.token,new ar(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function fr(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<c;a++)i[a]=Math.floor(256*Math.random());return i}class Vr{static newId(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const u=fr(40);for(let f=0;f<u.length;++f)a.length<20&&u[f]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return a}}function wn(c,n){return c<n?-1:c>n?1:0}function Ar(c,n,i){return c.length===n.length&&c.every((a,u)=>i(a,n[u]))}function $n(c){return c+"\0"}class Ir{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Le(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Le(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Le(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Le(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Ir.fromMillis(Date.now())}static fromDate(n){return Ir.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new Ir(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?wn(this.nanoseconds,n.nanoseconds):wn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Pn(n)}static min(){return new Pn(new Ir(0,0))}static max(){return new Pn(new Ir(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ai{constructor(n,i,a){void 0===i?i=0:i>n.length&&en(),void 0===a?a=n.length-i:a>n.length-i&&en(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===Ai.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Ai?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let u=0;u<a;u++){const f=n.get(u),y=i.get(u);if(f<y)return-1;if(f>y)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class ir extends Ai{construct(n,i,a){return new ir(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new Le(Fe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new ir(i)}static emptyPath(){return new ir([])}}const _r=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Er extends Ai{construct(n,i,a){return new Er(n,i,a)}static isValidIdentifier(n){return _r.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Er.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Er(["__name__"])}static fromServerFormat(n){const i=[];let a="",u=0;const f=()=>{if(0===a.length)throw new Le(Fe.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let y=!1;for(;u<n.length;){const N=n[u];if("\\"===N){if(u+1===n.length)throw new Le(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const U=n[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Le(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=U,u+=2}else"`"===N?(y=!y,u++):"."!==N||y?(a+=N,u++):(f(),u++)}if(f(),y)throw new Le(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Er(i)}static emptyPath(){return new Er([])}}class En{constructor(n){this.path=n}static fromPath(n){return new En(ir.fromString(n))}static fromName(n){return new En(ir.fromString(n).popFirst(5))}static empty(){return new En(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===ir.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return ir.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new En(new ir(n.slice()))}}class Xt{constructor(n,i,a,u){this.indexId=n,this.collectionGroup=i,this.fields=a,this.indexState=u}}function Rt(c){return c.fields.find(n=>2===n.kind)}function Yt(c){return c.fields.filter(n=>2!==n.kind)}Xt.UNKNOWN_ID=-1;class $e{constructor(n,i){this.fieldPath=n,this.kind=i}}class J{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new J(0,ke.min())}}function Q(c,n){const i=c.toTimestamp().seconds,a=c.toTimestamp().nanoseconds+1,u=Pn.fromTimestamp(1e9===a?new Ir(i+1,0):new Ir(i,a));return new ke(u,En.empty(),n)}function ne(c){return new ke(c.readTime,c.key,-1)}class ke{constructor(n,i,a){this.readTime=n,this.documentKey=i,this.largestBatchId=a}static min(){return new ke(Pn.min(),En.empty(),-1)}static max(){return new ke(Pn.max(),En.empty(),-1)}}function je(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=En.comparator(c.documentKey,n.documentKey),0!==i?i:wn(c.largestBatchId,n.largestBatchId))}const tn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function Ve(c){return ve.apply(this,arguments)}function ve(){return(ve=(0,we.A)(function*(c){if(c.code!==Fe.FAILED_PRECONDITION||c.message!==tn)throw c;bt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class oe{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new oe((a,u)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(a,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof oe?i:oe.resolve(i)}catch(i){return oe.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):oe.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):oe.reject(i)}static resolve(n){return new oe((i,a)=>{i(n)})}static reject(n){return new oe((i,a)=>{a(n)})}static waitFor(n){return new oe((i,a)=>{let u=0,f=0,y=!1;n.forEach(N=>{++u,N.next(()=>{++f,y&&f===u&&i()},U=>a(U))}),y=!0,f===u&&i()})}static or(n){let i=oe.resolve(!1);for(const a of n)i=i.next(u=>u?oe.resolve(u):a());return i}static forEach(n,i){const a=[];return n.forEach((u,f)=>{a.push(i.call(this,u,f))}),this.waitFor(a)}static mapArray(n,i){return new oe((a,u)=>{const f=n.length,y=new Array(f);let N=0;for(let U=0;U<f;U++){const te=U;i(n[te]).next(me=>{y[te]=me,++N,N===f&&a(y)},me=>u(me))}})}static doWhile(n,i){return new oe((a,u)=>{const f=()=>{!0===n()?i().next(()=>{f()},u):a()};f()})}}class Nt{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new Ut,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Bn(n,i.error)):this.V.resolve()},this.transaction.onerror=a=>{const u=Wi(a.target.error);this.V.reject(new Bn(n,u))}}static open(n,i,a,u){try{return new Nt(i,n.transaction(u,a))}catch(f){throw new Bn(i,f)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(bt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new Li(i)}}class Je{constructor(n,i,a){this.name=n,this.version=i,this.p=a,12.2===Je.S((0,ht.ZQ)())&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return bt("SimpleDb","Removing database:",n),gi(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,ht.zW)())return!1;if(Je.v())return!0;const n=(0,ht.ZQ)(),i=Je.S(n),a=0<i&&i<10,u=bn(n),f=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||f)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(n){var i=this;return(0,we.A)(function*(){return i.db||(bt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=y=>{a(y.target.result)},f.onblocked=()=>{u(new Bn(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=y=>{const N=y.target.error;u("VersionError"===N.name?new Le(Fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new Le(Fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Bn(n,N))},f.onupgradeneeded=y=>{bt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',y.oldVersion),i.p.O(y.target.result,f.transaction,y.oldVersion,i.version).next(()=>{bt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=a=>i.N(a)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,u){var f=this;return(0,we.A)(function*(){const y="readonly"===i;let N=0;for(;;){++N;try{f.db=yield f.M(n);const U=Nt.open(f.db,n,y?"readonly":"readwrite",a),te=u(U).next(me=>(U.g(),me)).catch(me=>(U.abort(me),oe.reject(me))).toPromise();return te.catch(()=>{}),yield U.m,te}catch(U){const te=U,me="FirebaseError"!==te.name&&N<3;if(bt("SimpleDb","Transaction failed with error:",te.message,"Retrying:",me),f.close(),!me)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function bn(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Xn{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return gi(this.B.delete())}}class Bn extends Le{constructor(n,i){super(Fe.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Gr(c){return"IndexedDbTransactionError"===c.name}class Li{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(bt("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(bt("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),gi(a)}add(n){return bt("SimpleDb","ADD",this.store.name,n,n),gi(this.store.add(n))}get(n){return gi(this.store.get(n)).next(i=>(void 0===i&&(i=null),bt("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return bt("SimpleDb","DELETE",this.store.name,n),gi(this.store.delete(n))}count(){return bt("SimpleDb","COUNT",this.store.name),gi(this.store.count())}U(n,i){const a=this.options(n,i),u=a.index?this.store.index(a.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(a.range);return new oe((y,N)=>{f.onerror=U=>{N(U.target.error)},f.onsuccess=U=>{y(U.target.result)}})}{const f=this.cursor(a),y=[];return this.W(f,(N,U)=>{y.push(U)}).next(()=>y)}}G(n,i){const a=this.store.getAll(n,null===i?void 0:i);return new oe((u,f)=>{a.onerror=y=>{f(y.target.error)},a.onsuccess=y=>{u(y.target.result)}})}j(n,i){bt("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.H=!1;const u=this.cursor(a);return this.W(u,(f,y,N)=>N.delete())}J(n,i){let a;i?a=n:(a={},i=n);const u=this.cursor(a);return this.W(u,i)}Y(n){const i=this.cursor({});return new oe((a,u)=>{i.onerror=f=>{const y=Wi(f.target.error);u(y)},i.onsuccess=f=>{const y=f.target.result;y?n(y.primaryKey,y.value).next(N=>{N?y.continue():a()}):a()}})}W(n,i){const a=[];return new oe((u,f)=>{n.onerror=y=>{f(y.target.error)},n.onsuccess=y=>{const N=y.target.result;if(!N)return void u();const U=new Xn(N),te=i(N.primaryKey,N.value,U);if(te instanceof oe){const me=te.catch(Be=>(U.done(),oe.reject(Be)));a.push(me)}U.isDone?u():null===U.K?N.continue():N.continue(U.K)}}).next(()=>oe.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.H?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function gi(c){return new oe((n,i)=>{c.onsuccess=a=>{n(a.target.result)},c.onerror=a=>{const u=Wi(a.target.error);i(u)}})}let xr=!1;function Wi(c){const n=Je.S((0,ht.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(i)>=0){const a=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xr||(xr=!0,setTimeout(()=>{throw a},0)),a}}return c}class Dr{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;bt("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,we.A)(function*(){i.task=null;try{bt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(a){Gr(a)?bt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield Ve(a)}yield i.X(6e4)}))}}class Ye{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,we.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.te(a,n))})()}te(n,i){const a=new Set;let u=i,f=!0;return oe.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(y=>{if(null!==y&&!a.has(y))return bt("IndexBackfiller",`Processing collection: ${y}`),this.ne(n,y,u).next(N=>{u-=N,a.add(y)});f=!1})).next(()=>i-u)}ne(n,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,a).next(f=>{const y=f.changes;return this.localStore.indexManager.updateIndexEntries(n,y).next(()=>this.re(u,f)).next(N=>(bt("IndexBackfiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(n,i,N))).next(()=>y.size)}))}re(n,i){let a=n;return i.changes.forEach((u,f)=>{const y=ne(f);je(y,a)>0&&(a=y)}),new ke(a.readTime,a.documentKey,Math.max(i.batchId,n.largestBatchId))}}let Ae=(()=>{class c{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=u=>this.ie(u),this.se=u=>a.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return c.oe=-1,c})();function wt(c){return null==c}function he(c){return 0===c&&1/c==-1/0}function ce(c){return"number"==typeof c&&Number.isInteger(c)&&!he(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function ze(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=gn(n)),n=Qt(c.get(i),n);return gn(n)}function Qt(c,n){let i=n;const a=c.length;for(let u=0;u<a;u++){const f=c.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function gn(c){return c+"\x01\x01"}function On(c){const n=c.length;if(zt(n>=2),2===n)return zt("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),ir.emptyPath();const i=n-2,a=[];let u="";for(let f=0;f<n;){const y=c.indexOf("\x01",f);switch((y<0||y>i)&&en(),c.charAt(y+1)){case"\x01":const N=c.substring(f,y);let U;0===u.length?U=N:(u+=N,U=u,u=""),a.push(U);break;case"\x10":u+=c.substring(f,y),u+="\0";break;case"\x11":u+=c.substring(f,y+1);break;default:en()}f=y+2}return new ir(a)}const Yn=["userId","batchId"];function Sr(c,n){return[c,ze(n)]}function sr(c,n,i){return[c,ze(n),i]}const Hi={},mr=["prefixPath","collectionGroup","readTime","documentId"],Ri=["prefixPath","collectionGroup","documentId"],ji=["collectionGroup","readTime","prefixPath","documentId"],Co=["canonicalId","targetId"],ti=["targetId","path"],xo=["path","targetId"],Yi=["collectionId","parent"],po=["indexId","uid"],Ao=["uid","sequenceNumber"],qo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ji=["indexId","uid","orderedDocumentKey"],jo=["userId","collectionPath","documentId"],ns=["userId","collectionPath","largestBatchId"],Qo=["userId","collectionGroup","largestBatchId"],go=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Xr=[...go,"documentOverlays"],fs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jn=fs,jr=[...jn,"indexConfiguration","indexState","indexEntries"],Ks=jr,Is=[...jr,"globals"];class mo extends Sn{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Mi(c,n){const i=sn(c);return Je.F(i._e,n)}function Es(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function No(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function Xs(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class mi{constructor(n,i){this.comparator=n,this.root=i||Pi.EMPTY}insert(n,i){return new mi(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Pi.BLACK,null,null))}remove(n){return new mi(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Pi.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(n,a.key);if(0===u)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Ii(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Ii(this.root,n,this.comparator,!1)}getReverseIterator(){return new Ii(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Ii(this.root,n,this.comparator,!0)}}class Ii{constructor(n,i,a,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=i?a(n.key,i):1,i&&u&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Pi{constructor(n,i,a,u,f){this.key=n,this.value=i,this.color=null!=a?a:Pi.RED,this.left=null!=u?u:Pi.EMPTY,this.right=null!=f?f:Pi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,u,f){return new Pi(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let u=this;const f=a(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,i,a),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Pi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Pi.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Pi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Pi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const n=this.left.check();if(n!==this.right.check())throw en();return n+(this.isRed()?0:1)}}Pi.EMPTY=null,Pi.RED=!0,Pi.BLACK=!1,Pi.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(n,i,a,u,f){return this}insert(n,i,a){return new Pi(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class br{constructor(n){this.comparator=n,this.data=new mi(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yo(this.data.getIterator())}getIteratorFrom(n){return new Yo(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof br)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new br(this.comparator);return i.data=n,i}}class Yo{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function co(c){return c.hasNext()?c.getNext():void 0}class ni{constructor(n){this.fields=n,n.sort(Er.comparator)}static empty(){return new ni([])}unionWith(n){let i=new br(Er.comparator);for(const a of this.fields)i=i.add(a);for(const a of n)i=i.add(a);return new ni(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Ar(this.fields,n.fields,(i,a)=>i.isEqual(a))}}class rs extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Di{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new rs("Invalid base64 string: "+f):f}}(n);return new Di(i)}static fromUint8Array(n){const i=function(u){let f="";for(let y=0;y<u.length;++y)f+=String.fromCharCode(u[y]);return f}(n);return new Di(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return wn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function E(c){if(zt(!!c),"string"==typeof c){let n=0;const i=F.exec(c);if(zt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const a=new Date(c);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:O(c.seconds),nanos:O(c.nanos)}}function O(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function A(c){return"string"==typeof c?Di.fromBase64String(c):Di.fromUint8Array(c)}function G(c){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==c?void 0:c.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ae(c){const n=c.mapValue.fields.__previous_value__;return G(n)?ae(n):n}function ot(c){const n=E(c.mapValue.fields.__local_write_time__.timestampValue);return new Ir(n.seconds,n.nanos)}class an{constructor(n,i,a,u,f,y,N,U,te){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=N,this.longPollingOptions=U,this.useFetchStreams=te}}class Tt{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Tt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Tt&&n.projectId===this.projectId&&n.database===this.database}}const qt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dn={nullValue:"NULL_VALUE"};function xn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?G(c)?4:ko(c)?9007199254740991:ho(c)?10:11:en()}function Wn(c,n){if(c===n)return!0;const i=xn(c);if(i!==xn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return ot(c).isEqual(ot(n));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const y=E(u.timestampValue),N=E(f.timestampValue);return y.seconds===N.seconds&&y.nanos===N.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return f=n,A(c.bytesValue).isEqual(A(f.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,f){return O(u.geoPointValue.latitude)===O(f.geoPointValue.latitude)&&O(u.geoPointValue.longitude)===O(f.geoPointValue.longitude)}(c,n);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return O(u.integerValue)===O(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const y=O(u.doubleValue),N=O(f.doubleValue);return y===N?he(y)===he(N):isNaN(y)&&isNaN(N)}return!1}(c,n);case 9:return Ar(c.arrayValue.values||[],n.arrayValue.values||[],Wn);case 10:case 11:return function(u,f){const y=u.mapValue.fields||{},N=f.mapValue.fields||{};if(Es(y)!==Es(N))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===N[U]||!Wn(y[U],N[U])))return!1;return!0}(c,n);default:return en()}var f}function er(c,n){return void 0!==(c.values||[]).find(i=>Wn(i,n))}function lr(c,n){if(c===n)return 0;const i=xn(c),a=xn(n);if(i!==a)return wn(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return wn(c.booleanValue,n.booleanValue);case 2:return function(f,y){const N=O(f.integerValue||f.doubleValue),U=O(y.integerValue||y.doubleValue);return N<U?-1:N>U?1:N===U?0:isNaN(N)?isNaN(U)?0:-1:1}(c,n);case 3:return zr(c.timestampValue,n.timestampValue);case 4:return zr(ot(c),ot(n));case 5:return wn(c.stringValue,n.stringValue);case 6:return function(f,y){const N=A(f),U=A(y);return N.compareTo(U)}(c.bytesValue,n.bytesValue);case 7:return function(f,y){const N=f.split("/"),U=y.split("/");for(let te=0;te<N.length&&te<U.length;te++){const me=wn(N[te],U[te]);if(0!==me)return me}return wn(N.length,U.length)}(c.referenceValue,n.referenceValue);case 8:return function(f,y){const N=wn(O(f.latitude),O(y.latitude));return 0!==N?N:wn(O(f.longitude),O(y.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return Ei(c.arrayValue,n.arrayValue);case 10:return function(f,y){var N,U,te,me;const nn=null===(N=(f.fields||{}).value)||void 0===N?void 0:N.arrayValue,Cn=null===(U=(y.fields||{}).value)||void 0===U?void 0:U.arrayValue,zn=wn((null===(te=null==nn?void 0:nn.values)||void 0===te?void 0:te.length)||0,(null===(me=null==Cn?void 0:Cn.values)||void 0===me?void 0:me.length)||0);return 0!==zn?zn:Ei(nn,Cn)}(c.mapValue,n.mapValue);case 11:return function(f,y){if(f===qt.mapValue&&y===qt.mapValue)return 0;if(f===qt.mapValue)return 1;if(y===qt.mapValue)return-1;const N=f.fields||{},U=Object.keys(N),te=y.fields||{},me=Object.keys(te);U.sort(),me.sort();for(let Be=0;Be<U.length&&Be<me.length;++Be){const It=wn(U[Be],me[Be]);if(0!==It)return It;const nn=lr(N[U[Be]],te[me[Be]]);if(0!==nn)return nn}return wn(U.length,me.length)}(c.mapValue,n.mapValue);default:throw en()}}function zr(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return wn(c,n);const i=E(c),a=E(n),u=wn(i.seconds,a.seconds);return 0!==u?u:wn(i.nanos,a.nanos)}function Ei(c,n){const i=c.values||[],a=n.values||[];for(let u=0;u<i.length&&u<a.length;++u){const f=lr(i[u],a[u]);if(f)return f}return wn(i.length,a.length)}function si(c){return ui(c)}function ui(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const a=E(i);return`time(${a.seconds},${a.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?A(c.bytesValue).toBase64():"referenceValue"in c?En.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let a="[",u=!0;for(const f of i.values||[])u?u=!1:a+=",",a+=ui(f);return a+"]"}(c.arrayValue):"mapValue"in c?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const y of a)f?f=!1:u+=",",u+=`${y}:${ui(i.fields[y])}`;return u+"}"}(c.mapValue):en()}function uo(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function To(c){return!!c&&"integerValue"in c}function Gi(c){return!!c&&"arrayValue"in c}function _o(c){return!!c&&"nullValue"in c}function is(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function bs(c){return!!c&&"mapValue"in c}function ho(c){var n,i;return"__vector__"===(null===(i=((null===(n=null==c?void 0:c.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ps(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return No(c.mapValue.fields,(i,a)=>n.mapValue.fields[i]=ps(a)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ps(c.arrayValue.values[i]);return n}return Object.assign({},c)}function ko(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}const vo={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function os(c){return"nullValue"in c?dn:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?uo(Tt.empty(),En.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?ho(c)?vo:{mapValue:{}}:en()}function ri(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?uo(Tt.empty(),En.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?vo:"mapValue"in c?ho(c)?{mapValue:{}}:qt:en()}function ta(c,n){const i=lr(c.value,n.value);return 0!==i?i:c.inclusive&&!n.inclusive?-1:!c.inclusive&&n.inclusive?1:0}function Os(c,n){const i=lr(c.value,n.value);return 0!==i?i:c.inclusive&&!n.inclusive?1:!c.inclusive&&n.inclusive?-1:0}class Ro{constructor(n){this.value=n}static empty(){return new Ro({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!bs(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=ps(i)}setAll(n){let i=Er.emptyPath(),a={},u=[];n.forEach((y,N)=>{if(!i.isImmediateParentOf(N)){const U=this.getFieldsMap(i);this.applyChanges(U,a,u),a={},u=[],i=N.popLast()}y?a[N.lastSegment()]=ps(y):u.push(N.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,u)}delete(n){const i=this.field(n.popLast());bs(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Wn(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let u=i.mapValue.fields[n.get(a)];bs(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,a){No(i,(u,f)=>n[u]=f);for(const u of a)delete n[u]}clone(){return new Ro(ps(this.value))}}function Cs(c){const n=[];return No(c.fields,(i,a)=>{const u=new Er([i]);if(bs(a)){const f=Cs(a.mapValue).fields;if(0===f.length)n.push(u);else for(const y of f)n.push(u.child(y))}else n.push(u)}),new ni(n)}class Or{constructor(n,i,a,u,f,y,N){this.key=n,this.documentType=i,this.version=a,this.readTime=u,this.createTime=f,this.data=y,this.documentState=N}static newInvalidDocument(n){return new Or(n,0,Pn.min(),Pn.min(),Pn.min(),Ro.empty(),0)}static newFoundDocument(n,i,a,u){return new Or(n,1,i,Pn.min(),a,u,0)}static newNoDocument(n,i){return new Or(n,2,i,Pn.min(),Pn.min(),Ro.empty(),0)}static newUnknownDocument(n,i){return new Or(n,3,i,Pn.min(),Pn.min(),Ro.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Ro.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Or&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wr{constructor(n,i){this.position=n,this.inclusive=i}}function pe(c,n,i){let a=0;for(let u=0;u<c.position.length;u++){const f=n[u],y=c.position[u];if(a=f.field.isKeyField()?En.comparator(En.fromName(y.referenceValue),i.key):lr(y,i.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return a}function qe(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Wn(c.position[i],n.position[i]))return!1;return!0}class Ht{constructor(n,i="asc"){this.field=n,this.dir=i}}function yn(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class Kn{}class An extends Kn{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,a):new As(n,i,a):"array-contains"===i?new Jo(n,a):"in"===i?new ya(n,a):"not-in"===i?new Z(n,a):"array-contains-any"===i?new L(n,a):new An(n,i,a)}static createKeyFieldInFilter(n,i,a){return"in"===i?new Ul(n,a):new sc(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(lr(i,this.value)):null!==i&&xn(this.value)===xn(i)&&this.matchesComparison(lr(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends Kn{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Jn(n,i)}matches(n){return $i(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $i(c){return"and"===c.op}function Zi(c){return"or"===c.op}function to(c){return ss(c)&&$i(c)}function ss(c){for(const n of c.filters)if(n instanceof Jn)return!1;return!0}function ai(c){if(c instanceof An)return c.field.canonicalString()+c.op.toString()+si(c.value);if(to(c))return c.filters.map(n=>ai(n)).join(",");{const n=c.filters.map(i=>ai(i)).join(",");return`${c.op}(${n})`}}function Na(c,n){return c instanceof An?(a=c,(u=n)instanceof An&&a.op===u.op&&a.field.isEqual(u.field)&&Wn(a.value,u.value)):c instanceof Jn?function(a,u){return u instanceof Jn&&a.op===u.op&&a.filters.length===u.filters.length&&a.filters.reduce((f,y,N)=>f&&Na(y,u.filters[N]),!0)}(c,n):void en();var a,u}function Oa(c,n){const i=c.filters.concat(n);return Jn.create(i,c.op)}function _i(c){return c instanceof An?`${(i=c).field.canonicalString()} ${i.op} ${si(i.value)}`:c instanceof Jn?function(i){return i.op.toString()+" {"+i.getFilters().map(_i).join(" ,")+"}"}(c):"Filter";var i}class As extends An{constructor(n,i,a){super(n,i,a),this.key=En.fromName(a.referenceValue)}matches(n){const i=En.comparator(n.key,this.key);return this.matchesComparison(i)}}class Ul extends An{constructor(n,i){super(n,"in",i),this.keys=as(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class sc extends An{constructor(n,i){super(n,"not-in",i),this.keys=as(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function as(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>En.fromName(a.referenceValue))}class Jo extends An{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Gi(i)&&er(i.arrayValue,this.value)}}class ya extends An{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&er(this.value.arrayValue,i)}}class Z extends An{constructor(n,i){super(n,"not-in",i)}matches(n){if(er(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!er(this.value.arrayValue,i)}}class L extends An{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Gi(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>er(this.value.arrayValue,a))}}class le{constructor(n,i=null,a=[],u=[],f=null,y=null,N=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=f,this.startAt=y,this.endAt=N,this.ue=null}}function K(c,n=null,i=[],a=[],u=null,f=null,y=null){return new le(c,n,i,a,u,f,y)}function ye(c){const n=sn(c);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>ai(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),wt(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>si(a)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>si(a)).join(",")),n.ue=i}return n.ue}function _n(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!yn(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!Na(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!qe(c.startAt,n.startAt)&&qe(c.endAt,n.endAt)}function cr(c){return En.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function xi(c,n){return c.filters.filter(i=>i instanceof An&&i.field.isEqual(n))}function Vi(c,n,i){let a=dn,u=!0;for(const f of xi(c,n)){let y=dn,N=!0;switch(f.op){case"<":case"<=":y=os(f.value);break;case"==":case"in":case">=":y=f.value;break;case">":y=f.value,N=!1;break;case"!=":case"not-in":y=dn}ta({value:a,inclusive:u},{value:y,inclusive:N})<0&&(a=y,u=N)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(n)){const y=i.position[f];ta({value:a,inclusive:u},{value:y,inclusive:i.inclusive})<0&&(a=y,u=i.inclusive);break}return{value:a,inclusive:u}}function io(c,n,i){let a=qt,u=!0;for(const f of xi(c,n)){let y=qt,N=!0;switch(f.op){case">=":case">":y=ri(f.value),N=!1;break;case"==":case"in":case"<=":y=f.value;break;case"<":y=f.value,N=!1;break;case"!=":case"not-in":y=qt}Os({value:a,inclusive:u},{value:y,inclusive:N})>0&&(a=y,u=N)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(n)){const y=i.position[f];Os({value:a,inclusive:u},{value:y,inclusive:i.inclusive})>0&&(a=y,u=i.inclusive);break}return{value:a,inclusive:u}}class wo{constructor(n,i=null,a=[],u=[],f=null,y="F",N=null,U=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=f,this.limitType=y,this.startAt=N,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function na(c,n,i,a,u,f,y,N){return new wo(c,n,i,a,u,f,y,N)}function gs(c){return new wo(c)}function ka(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function yo(c){return null!==c.collectionGroup}function Pr(c){const n=sn(c);if(null===n.ce){n.ce=[];const i=new Set;for(const f of n.explicitOrderBy)n.ce.push(f),i.add(f.field.canonicalString());const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(y){let N=new br(Er.comparator);return y.filters.forEach(U=>{U.getFlattenedFilters().forEach(te=>{te.isInequality()&&(N=N.add(te.field))})}),N})(n).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||n.ce.push(new Ht(f,a))}),i.has(Er.keyField().canonicalString())||n.ce.push(new Ht(Er.keyField(),a))}return n.ce}function Ti(c){const n=sn(c);return n.le||(n.le=function ks(c,n){if("F"===c.limitType)return K(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Ht(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new Wr(c.endAt.position,c.endAt.inclusive):null,a=c.startAt?new Wr(c.startAt.position,c.startAt.inclusive):null;return K(c.path,c.collectionGroup,n,c.filters,c.limit,i,a)}}(n,Pr(c))),n.le}function Io(c,n){const i=c.filters.concat([n]);return new wo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function za(c,n,i){return new wo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function ra(c,n){return _n(Ti(c),Ti(n))&&c.limitType===n.limitType}function ms(c){return`${ye(Ti(c))}|lt:${c.limitType}`}function Fs(c){return`Query(target=${function(i){let a=i.path.canonicalString();return null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>_i(u)).join(", ")}]`),wt(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>si(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>si(u)).join(",")),`Target(${a})`}(Ti(c))}; limitType=${c.limitType})`}function sl(c,n){return n.isFoundDocument()&&function(a,u){const f=u.key.path;return null!==a.collectionGroup?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):En.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(c,n)&&function(a,u){for(const f of Pr(a))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(c,n)&&function(a,u){for(const f of a.filters)if(!f.matches(u))return!1;return!0}(c,n)&&(u=n,!((a=c).startAt&&!function(y,N,U){const te=pe(y,N,U);return y.inclusive?te<=0:te<0}(a.startAt,Pr(a),u)||a.endAt&&!function(y,N,U){const te=pe(y,N,U);return y.inclusive?te>=0:te>0}(a.endAt,Pr(a),u)));var a,u}function Fa(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function wc(c){return(n,i)=>{let a=!1;for(const u of Pr(c)){const f=_s(u,n,i);if(0!==f)return f;a=a||u.field.isKeyField()}return 0}}function _s(c,n,i){const a=c.field.isKeyField()?En.comparator(n.key,i.key):function(f,y,N){const U=y.data.field(f),te=N.data.field(f);return null!==U&&null!==te?lr(U,te):en()}(c.field,n,i);switch(c.dir){case"asc":return a;case"desc":return-1*a;default:return en()}}class Fo{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[u,f]of a)if(this.equalsFn(u,n))return f}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),u=this.inner[a];if(void 0===u)return this.inner[a]=[[n,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return void(u[f]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],n))return 1===a.length?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(n){No(this.inner,(i,a)=>{for(const[u,f]of a)n(u,f)})}isEmpty(){return Xs(this.inner)}size(){return this.innerSize}}const Wa=new mi(En.comparator);function ls(){return Wa}const al=new mi(En.comparator);function ia(...c){let n=al;for(const i of c)n=n.insert(i.key,i);return n}function Ls(c){let n=al;return c.forEach((i,a)=>n=n.insert(i,a.overlayedDocument)),n}function Ts(){return Vs()}function ll(){return Vs()}function Vs(){return new Fo(c=>c.toString(),(c,n)=>c.isEqual(n))}const Tl=new mi(En.comparator),Bl=new br(En.comparator);function Ur(...c){let n=Bl;for(const i of c)n=n.add(i);return n}const eu=new br(wn);function oa(){return eu}function La(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:he(n)?"-0":n}}function Ho(c){return{integerValue:""+c}}function vs(c,n){return ce(n)?Ho(n):La(c,n)}class Ia{constructor(){this._=void 0}}function ac(c,n,i){return c instanceof ws?function(u,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&G(f)&&(f=ae(f)),f&&(y.fields.__previous_value__=f),{mapValue:y}}(i,n):c instanceof oo?sa(c,n):c instanceof Us?Ds(c,n):function(u,f){const y=cl(u,f),N=$l(y)+$l(u.Pe);return To(y)&&To(u.Pe)?Ho(N):La(u.serializer,N)}(c,n)}function Ka(c,n,i){return c instanceof oo?sa(c,n):c instanceof Us?Ds(c,n):i}function cl(c,n){return c instanceof Va?To(a=n)||(f=a)&&"doubleValue"in f?n:{integerValue:0}:null;var a,f}class ws extends Ia{}class oo extends Ia{constructor(n){super(),this.elements=n}}function sa(c,n){const i=R(n);for(const a of c.elements)i.some(u=>Wn(u,a))||i.push(a);return{arrayValue:{values:i}}}class Us extends Ia{constructor(n){super(),this.elements=n}}function Ds(c,n){let i=R(n);for(const a of c.elements)i=i.filter(u=>!Wn(u,a));return{arrayValue:{values:i}}}class Va extends Ia{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function $l(c){return O(c.integerValue||c.doubleValue)}function R(c){return Gi(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class q{constructor(n,i){this.field=n,this.transform=i}}class X{constructor(n,i){this.version=n,this.transformResults=i}}class ue{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new ue}static exists(n){return new ue(void 0,n)}static updateTime(n){return new ue(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Qe(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class ln{}function Dn(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new Nn(c.key,ue.none()):new Ni(c.key,c.data,ue.none());{const i=c.data,a=Ro.empty();let u=new br(Er.comparator);for(let f of n.fields)if(!u.has(f)){let y=i.field(f);null===y&&f.length>1&&(f=f.popLast(),y=i.field(f)),null===y?a.delete(f):a.set(f,y),u=u.add(f)}return new li(c.key,a,new ni(u.toArray()),ue.none())}}function Rr(c,n,i){c instanceof Ni?function(u,f,y){const N=u.value.clone(),U=Ui(u.fieldTransforms,f,y.transformResults);N.setAll(U),f.convertToFoundDocument(y.version,N).setHasCommittedMutations()}(c,n,i):c instanceof li?function(u,f,y){if(!Qe(u.precondition,f))return void f.convertToUnknownDocument(y.version);const N=Ui(u.fieldTransforms,f,y.transformResults),U=f.data;U.setAll(Xi(u)),U.setAll(N),f.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function ii(c,n,i,a){return c instanceof Ni?function(f,y,N,U){if(!Qe(f.precondition,y))return N;const te=f.value.clone(),me=hi(f.fieldTransforms,U,y);return te.setAll(me),y.convertToFoundDocument(y.version,te).setHasLocalMutations(),null}(c,n,i,a):c instanceof li?function(f,y,N,U){if(!Qe(f.precondition,y))return N;const te=hi(f.fieldTransforms,U,y),me=y.data;return me.setAll(Xi(f)),me.setAll(te),y.convertToFoundDocument(y.version,me).setHasLocalMutations(),null===N?null:N.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Be=>Be.field))}(c,n,i,a):(N=i,Qe(c.precondition,y=n)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):N);var y,N}function vi(c,n){let i=null;for(const a of c.fieldTransforms){const u=n.data.field(a.field),f=cl(a.transform,u||null);null!=f&&(null===i&&(i=Ro.empty()),i.set(a.field,f))}return i||null}function Zr(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(a=c.fieldTransforms)&&void 0===u||a&&u&&Ar(a,u,(f,y)=>function Ue(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(a=c.transform)instanceof oo&&u instanceof oo||a instanceof Us&&u instanceof Us?Ar(a.elements,u.elements,Wn):a instanceof Va&&u instanceof Va?Wn(a.Pe,u.Pe):a instanceof ws&&u instanceof ws);var a,u}(f,y))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var a,u}class Ni extends ln{constructor(n,i,a,u=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class li extends ln{constructor(n,i,a,u,f=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Xi(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=c.data.field(i);n.set(i,a)}}),n}function Ui(c,n,i){const a=new Map;zt(c.length===i.length);for(let u=0;u<i.length;u++){const f=c[u],y=f.transform,N=n.data.field(f.field);a.set(f.field,Ka(y,N,i[u]))}return a}function hi(c,n,i){const a=new Map;for(const u of c){const f=u.transform,y=i.data.field(u.field);a.set(u.field,ac(f,y,n))}return a}class Nn extends ln{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ur extends ln{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qi{constructor(n,i,a,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(n.key)&&Rr(f,n,a[u])}}applyToLocalView(n,i){for(const a of this.baseMutations)a.key.isEqual(n.key)&&(i=ii(a,n,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(n.key)&&(i=ii(a,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const a=ll();return this.mutations.forEach(u=>{const f=n.get(u.key),y=f.overlayedDocument;let N=this.applyToLocalView(y,f.mutatedFields);N=i.has(u.key)?null:N;const U=Dn(y,N);null!==U&&a.set(u.key,U),y.isValidDocument()||y.convertToNoDocument(Pn.min())}),a}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Ur())}isEqual(n){return this.batchId===n.batchId&&Ar(this.mutations,n.mutations,(i,a)=>Zr(i,a))&&Ar(this.baseMutations,n.baseMutations,(i,a)=>Zr(i,a))}}class Mo{constructor(n,i,a,u){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(n,i,a){zt(n.mutations.length===a.length);let u=function(){return Tl}();const f=n.mutations;for(let y=0;y<f.length;y++)u=u.insert(f[y].key,a[y].version);return new Mo(n,i,a,u)}}class zi{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qs{constructor(n,i){this.count=n,this.unchangedNames=i}}var Br,Tr;function cs(c){switch(c){default:return en();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0}}function kr(c){if(void 0===c)return In("GRPC error has no .code"),Fe.UNKNOWN;switch(c){case Br.OK:return Fe.OK;case Br.CANCELLED:return Fe.CANCELLED;case Br.UNKNOWN:return Fe.UNKNOWN;case Br.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Br.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Br.INTERNAL:return Fe.INTERNAL;case Br.UNAVAILABLE:return Fe.UNAVAILABLE;case Br.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Br.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Br.NOT_FOUND:return Fe.NOT_FOUND;case Br.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Br.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Br.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Br.ABORTED:return Fe.ABORTED;case Br.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Br.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Br.DATA_LOSS:return Fe.DATA_LOSS;default:return en()}}(Tr=Br||(Br={}))[Tr.OK=0]="OK",Tr[Tr.CANCELLED=1]="CANCELLED",Tr[Tr.UNKNOWN=2]="UNKNOWN",Tr[Tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tr[Tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tr[Tr.NOT_FOUND=5]="NOT_FOUND",Tr[Tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tr[Tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tr[Tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tr[Tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tr[Tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tr[Tr.ABORTED=10]="ABORTED",Tr[Tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tr[Tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tr[Tr.INTERNAL=13]="INTERNAL",Tr[Tr.UNAVAILABLE=14]="UNAVAILABLE",Tr[Tr.DATA_LOSS=15]="DATA_LOSS";function Bs(){return new TextEncoder}const wl=new gt([4294967295,4294967295],0);function no(c){const n=Bs().encode(c),i=new mt;return i.update(n),new Uint8Array(i.digest())}function jl(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),a=n.getUint32(4,!0),u=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new gt([i,a],0),new gt([u,f],0)]}class Xa{constructor(n,i,a){if(this.bitmap=n,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ss(`Invalid padding: ${i}`);if(a<0)throw new Ss(`Invalid hash count: ${a}`);if(n.length>0&&0===this.hashCount)throw new Ss(`Invalid hash count: ${a}`);if(0===n.length&&0!==i)throw new Ss(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=gt.fromNumber(this.Ie)}Ee(n,i,a){let u=n.add(i.multiply(gt.fromNumber(a)));return 1===u.compare(wl)&&(u=new gt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=no(n),[a,u]=jl(i);for(let f=0;f<this.hashCount;f++){const y=this.Ee(a,u,f);if(!this.de(y))return!1}return!0}static create(n,i,a){const u=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),y=new Xa(f,u,i);return a.forEach(N=>y.insert(N)),y}insert(n){if(0===this.Ie)return;const i=no(n),[a,u]=jl(i);for(let f=0;f<this.hashCount;f++){const y=this.Ee(a,u,f);this.Ae(y)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class la{constructor(n,i,a,u,f){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,i,a){const u=new Map;return u.set(n,Qs.createSynthesizedTargetChangeForCurrentChange(n,i,a)),new la(Pn.min(),u,new mi(wn),ls(),Ur())}}class Qs{constructor(n,i,a,u,f){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,i,a){return new Qs(a,i,Ur(),Ur(),Ur())}}class ca{constructor(n,i,a,u){this.Re=n,this.removedTargetIds=i,this.key=a,this.Ve=u}}class so{constructor(n,i){this.targetId=n,this.me=i}}class Ys{constructor(n,i,a=Di.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=u}}class pr{constructor(){this.fe=0,this.ge=Ea(),this.pe=Di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=Ur(),i=Ur(),a=Ur();return this.ge.forEach((u,f)=>{switch(f){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:en()}}),new Qs(this.pe,this.ye,n,i,a)}Ce(){this.we=!1,this.ge=Ea()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,zt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dc{constructor(n){this.Le=n,this.Be=new Map,this.ke=ls(),this.qe=qa(),this.Qe=new mi(wn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const a=this.Ge(i);switch(n.state){case 0:this.ze(i)&&a.De(n.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(n.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(n.resumeToken));break;default:en()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((a,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,a=n.me.count,u=this.Je(i);if(u){const f=u.target;if(cr(f))if(0===a){const y=new En(f.path);this.Ue(i,y,Or.newNoDocument(y,Pn.min()))}else zt(1===a);else{const y=this.Ye(i);if(y!==a){const N=this.Ze(n),U=N?this.Xe(N,n,y):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let y,N;try{y=A(a).toUint8Array()}catch(U){if(U instanceof rs)return Ln("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{N=new Xa(y,u,f)}catch(U){return Ln(U instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===N.Ie?null:N}Xe(n,i,a){return i.me.count===a-this.nt(n,i.targetId)?0:2}nt(n,i){const a=this.Le.getRemoteKeysForTarget(i);let u=0;return a.forEach(f=>{const y=this.Le.tt(),N=`projects/${y.projectId}/databases/${y.database}/documents/${f.path.canonicalString()}`;n.mightContain(N)||(this.Ue(i,f,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((f,y)=>{const N=this.Je(y);if(N){if(f.current&&cr(N.target)){const U=new En(N.target.path);null!==this.ke.get(U)||this.it(y,U)||this.Ue(y,U,Or.newNoDocument(U,n))}f.be&&(i.set(y,f.ve()),f.Ce())}});let a=Ur();this.qe.forEach((f,y)=>{let N=!0;y.forEachWhile(U=>{const te=this.Je(U);return!te||"TargetPurposeLimboResolution"===te.purpose||(N=!1,!1)}),N&&(a=a.add(f))}),this.ke.forEach((f,y)=>y.setReadTime(n));const u=new la(n,i,this.Qe,this.ke,a);return this.ke=ls(),this.qe=qa(),this.Qe=new mi(wn),u}$e(n,i){if(!this.ze(n))return;const a=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,a){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new pr,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new br(wn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||bt("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new pr),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function qa(){return new mi(En.comparator)}function Ea(){return new mi(En.comparator)}const tu={asc:"ASCENDING",desc:"DESCENDING"},Qa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vo={and:"AND",or:"OR"};class Hl{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Eo(c,n){return c.useProto3Json||wt(n)?n:{value:n}}function ao(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function ba(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function Ya(c,n){return ao(c,n.toTimestamp())}function eo(c){return zt(!!c),Pn.fromTimestamp(function(i){const a=E(i);return new Ir(a.seconds,a.nanos)}(c))}function Do(c,n){return Ca(c,n).canonicalString()}function Ca(c,n){const i=(u=c,new ir(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function lc(c){const n=ir.fromString(c);return zt(us(n)),n}function Ja(c,n){return Do(c.databaseId,n.path)}function $s(c,n){const i=lc(n);if(i.get(1)!==c.databaseId.projectId)throw new Le(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Le(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new En(rd(i))}function nu(c,n){return Do(c.databaseId,n)}function nd(c){const n=lc(c);return 4===n.length?ir.emptyPath():rd(n)}function Sc(c){return new ir(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function rd(c){return zt(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function id(c,n,i){return{name:Ja(c,n),fields:i.value.mapValue.fields}}function Rc(c,n,i){const a=$s(c,n.name),u=eo(n.updateTime),f=n.createTime?eo(n.createTime):Pn.min(),y=new Ro({mapValue:{fields:n.fields}}),N=Or.newFoundDocument(a,u,f,y);return i&&N.setHasCommittedMutations(),i?N.setHasCommittedMutations():N}function B(c,n){let i;if(n instanceof Ni)i={update:id(c,n.key,n.value)};else if(n instanceof Nn)i={delete:Ja(c,n.key)};else if(n instanceof li)i={update:id(c,n.key,n.data),updateMask:ul(n.fieldMask)};else{if(!(n instanceof ur))return en();i={verify:Ja(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(f,y){const N=y.transform;if(N instanceof ws)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(N instanceof oo)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:N.elements}};if(N instanceof Us)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:N.elements}};if(N instanceof Va)return{fieldPath:y.field.canonicalString(),increment:N.Pe};throw en()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:Ya(c,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:en()),i;var f}function P(c,n){const i=n.currentDocument?void 0!==(f=n.currentDocument).updateTime?ue.updateTime(eo(f.updateTime)):void 0!==f.exists?ue.exists(f.exists):ue.none():ue.none(),a=n.updateTransforms?n.updateTransforms.map(u=>function(y,N){let U=null;"setToServerValue"in N?(zt("REQUEST_TIME"===N.setToServerValue),U=new ws):"appendMissingElements"in N?U=new oo(N.appendMissingElements.values||[]):"removeAllFromArray"in N?U=new Us(N.removeAllFromArray.values||[]):"increment"in N?U=new Va(y,N.increment):en();const te=Er.fromServerFormat(N.fieldPath);return new q(te,U)}(c,u)):[];var f;if(n.update){const u=$s(c,n.update.name),f=new Ro({mapValue:{fields:n.update.fields}});if(n.updateMask){const y=new ni((n.updateMask.fieldPaths||[]).map(me=>Er.fromServerFormat(me)));return new li(u,f,y,i,a)}return new Ni(u,f,i,a)}if(n.delete){const u=$s(c,n.delete);return new Nn(u,i)}if(n.verify){const u=$s(c,n.verify);return new ur(u,i)}return en()}function ge(c,n){return{documents:[nu(c,n.path)]}}function Te(c,n){const i={structuredQuery:{}},a=n.path;let u;null!==n.collectionGroup?(u=a,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=nu(c,u);const f=function(te){if(0!==te.length)return Zo(Jn.create(te,"and"))}(n.filters);f&&(i.structuredQuery.where=f);const y=function(te){if(0!==te.length)return te.map(me=>{return{field:Qi((It=me).field),direction:Fr(It.dir)};var It})}(n.orderBy);y&&(i.structuredQuery.orderBy=y);const N=Eo(c,n.limit);return null!==N&&(i.structuredQuery.limit=N),n.startAt&&(i.structuredQuery.startAt={before:(te=n.startAt).inclusive,values:te.position}),n.endAt&&(i.structuredQuery.endAt=function(te){return{before:!te.inclusive,values:te.position}}(n.endAt)),{_t:i,parent:u};var te}function vn(c){let n=nd(c.parent);const i=c.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){zt(1===a);const me=i.from[0];me.allDescendants?u=me.collectionId:n=n.child(me.collectionId)}let f=[];i.where&&(f=function(Be){const It=Zn(Be);return It instanceof Jn&&to(It)?It.getFilters():[It]}(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(It=>{return new Ht(Go((Cn=It).field),function(Vn){switch(Vn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Cn.direction));var Cn}));let N=null;i.limit&&(N=function(Be){let It;return It="object"==typeof Be?Be.value:Be,wt(It)?null:It}(i.limit));let U=null;var Be;i.startAt&&(U=new Wr((Be=i.startAt).values||[],!!Be.before));let te=null;return i.endAt&&(te=function(Be){return new Wr(Be.values||[],!Be.before)}(i.endAt)),na(n,u,y,f,N,"F",U,te)}function Zn(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Go(i.unaryFilter.field);return An.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=Go(i.unaryFilter.field);return An.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Go(i.unaryFilter.field);return An.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Go(i.unaryFilter.field);return An.create(y,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(c):void 0!==c.fieldFilter?An.create(Go((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Jn.create(i.compositeFilter.filters.map(a=>Zn(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return en()}}(i.compositeFilter.op))}(c):en();var i}function Fr(c){return tu[c]}function ki(c){return Qa[c]}function Qr(c){return Vo[c]}function Qi(c){return{fieldPath:c.canonicalString()}}function Go(c){return Er.fromServerFormat(c.fieldPath)}function Zo(c){return c instanceof An?function(i){if("=="===i.op){if(is(i.value))return{unaryFilter:{field:Qi(i.field),op:"IS_NAN"}};if(_o(i.value))return{unaryFilter:{field:Qi(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(is(i.value))return{unaryFilter:{field:Qi(i.field),op:"IS_NOT_NAN"}};if(_o(i.value))return{unaryFilter:{field:Qi(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qi(i.field),op:ki(i.op),value:i.value}}}(c):c instanceof Jn?function(i){const a=i.getFilters().map(u=>Zo(u));return 1===a.length?a[0]:{compositeFilter:{op:Qr(i.op),filters:a}}}(c):en()}function ul(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function us(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Js{constructor(n,i,a,u,f=Pn.min(),y=Pn.min(),N=Di.EMPTY_BYTE_STRING,U=null){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=N,this.expectedCount=U}withSequenceNumber(n){return new Js(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class Dl{constructor(n){this.ct=n}}function Gl(c,n){const i=n.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Aa(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())a.document={name:Ja(f=c.ct,(y=n).key),fields:y.data.value.mapValue.fields,updateTime:ao(f,y.version.toTimestamp()),createTime:ao(f,y.createTime.toTimestamp())};else if(n.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:Ua(n.version)};else{if(!n.isUnknownDocument())return en();a.unknownDocument={path:i.path.toArray(),version:Ua(n.version)}}var f,y;return a}function Aa(c){const n=c.toTimestamp();return[n.seconds,n.nanoseconds]}function Ua(c){const n=c.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function zl(c){const n=new Ir(c.seconds,c.nanoseconds);return Pn.fromTimestamp(n)}function ds(c,n){const i=(n.baseMutations||[]).map(f=>P(c.ct,f));for(let f=0;f<n.mutations.length-1;++f)f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(n.mutations[f].updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f);const a=n.mutations.map(f=>P(c.ct,f)),u=Ir.fromMillis(n.localWriteTimeMs);return new qi(n.batchId,u,i,a)}function uc(c){const n=zl(c.readTime),i=void 0!==c.lastLimboFreeSnapshotVersion?zl(c.lastLimboFreeSnapshotVersion):Pn.min();let a;return a=void 0!==c.query.documents?(zt(1===(f=c.query).documents.length),Ti(gs(nd(f.documents[0])))):function(f){return Ti(vn(f))}(c.query),new Js(a,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,n,i,Di.fromBase64String(c.resumeToken));var f}function dl(c,n){const i=Ua(n.snapshotVersion),a=Ua(n.lastLimboFreeSnapshotVersion);let u;u=cr(n.target)?ge(c.ct,n.target):Te(c.ct,n.target)._t;const f=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:ye(n.target),readTime:i,resumeToken:f,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:u}}function Si(c){const n=vn({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?za(n,n.limit,"L"):n}function Mc(c,n){return new zi(n.largestBatchId,P(c.ct,n.overlayMutation))}function dc(c,n){const i=n.path.lastSegment();return[c,ze(n.path.popLast()),i]}function Rs(c,n,i,a){return{indexId:c,uid:n,sequenceNumber:i,readTime:Ua(a.readTime),documentKey:ze(a.documentKey.path),largestBatchId:a.largestBatchId}}class od{getBundleMetadata(n,i){return Wl(n).get(i).next(a=>{if(a)return{id:(f=a).bundleId,createTime:zl(f.createTime),version:f.version};var f})}saveBundleMetadata(n,i){return Wl(n).put({bundleId:(u=i).id,createTime:Ua(eo(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return Sl(n).get(i).next(a=>{if(a)return{name:(f=a).name,query:Si(f.bundledQuery),readTime:zl(f.readTime)};var f})}saveNamedQuery(n,i){return Sl(n).put({name:(u=i).name,readTime:Ua(eo(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Wl(c){return Mi(c,"bundles")}function Sl(c){return Mi(c,"namedQueries")}class Ms{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Ms(n,i.uid||"")}getOverlay(n,i){return Kl(n).get(dc(this.userId,i)).next(a=>a?Mc(this.serializer,a):null)}getOverlays(n,i){const a=Ts();return oe.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&a.set(u,f)})).next(()=>a)}saveOverlays(n,i,a){const u=[];return a.forEach((f,y)=>{const N=new zi(i,y);u.push(this.ht(n,N))}),oe.waitFor(u)}removeOverlaysForBatchId(n,i,a){const u=new Set;i.forEach(y=>u.add(ze(y.getCollectionPath())));const f=[];return u.forEach(y=>{const N=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,a+1],!1,!0);f.push(Kl(n).j("collectionPathOverlayIndex",N))}),oe.waitFor(f)}getOverlaysForCollection(n,i,a){const u=Ts(),f=ze(i),y=IDBKeyRange.bound([this.userId,f,a],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Kl(n).U("collectionPathOverlayIndex",y).next(N=>{for(const U of N){const te=Mc(this.serializer,U);u.set(te.getKey(),te)}return u})}getOverlaysForCollectionGroup(n,i,a,u){const f=Ts();let y;const N=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Kl(n).J({index:"collectionGroupOverlayIndex",range:N},(U,te,me)=>{const Be=Mc(this.serializer,te);f.size()<u||Be.largestBatchId===y?(f.set(Be.getKey(),Be),y=Be.largestBatchId):me.done()}).next(()=>f)}ht(n,i){return Kl(n).put(function(u,f,y){const[N,U,te]=dc(f,y.mutation.key);return{userId:f,collectionPath:U,documentId:te,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:B(u.ct,y.mutation)}}(this.serializer,this.userId,i))}}function Kl(c){return Mi(c,"documentOverlays")}class sd{Pt(n){return Mi(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const a=null==i?void 0:i.value;return a?Di.fromUint8Array(a):Di.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class hl{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(O(n.integerValue));else if("doubleValue"in n){const a=O(n.doubleValue);isNaN(a)?this.dt(i,13):(this.dt(i,15),he(a)?i.At(0):i.At(a))}else if("timestampValue"in n){let a=n.timestampValue;this.dt(i,20),"string"==typeof a&&(a=E(a)),i.Rt(`${a.seconds||""}`),i.At(a.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(A(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const a=n.geoPointValue;this.dt(i,45),i.At(a.latitude||0),i.At(a.longitude||0)}else"mapValue"in n?ko(n)?this.dt(i,Number.MAX_SAFE_INTEGER):ho(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):en()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const a=n.fields||{};this.dt(i,55);for(const u of Object.keys(a))this.Vt(u,i),this.Tt(a[u],i)}wt(n,i){var a,u;const f=n.fields||{};this.dt(i,53);const y="value",N=(null===(u=null===(a=f[y].arrayValue)||void 0===a?void 0:a.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(O(N)),this.Vt(y,i),this.Tt(f[y],i)}bt(n,i){const a=n.values||[];this.dt(i,50);for(const u of a)this.Tt(u,i)}yt(n,i){this.dt(i,37),En.fromName(n).path.forEach(a=>{this.dt(i,60),this.Dt(a,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function Ta(c){if(0===c)return 8;let n=0;return!(c>>4)&&(n+=4,c<<=4),!(c>>6)&&(n+=2,c<<=2),!(c>>7)&&(n+=1),n}function Pc(c){const n=64-function(a){let u=0;for(let f=0;f<8;++f){const y=Ta(255&a[f]);if(u+=y,8!==y)break}return u}(c);return Math.ceil(n/8)}hl.vt=new hl;class ru{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ft(a.value),a=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ot(a.value),a=i.next();this.Nt()}Lt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),a=Pc(i);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let u=i.length-a;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),a=Pc(i);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let u=i.length-a;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(f){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,f,!1),new Uint8Array(y.buffer)}(n),a=!!(128&i[0]);i[0]^=a?255:128;for(let u=1;u<i.length;++u)i[u]^=a?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const u=new Uint8Array(a);u.set(this.buffer),this.buffer=u}}class jd{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Rl{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class Xl{constructor(){this.jt=new ru,this.Ht=new jd(this.jt),this.Jt=new Rl(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Za{constructor(n,i,a,u){this.indexId=n,this.documentKey=i,this.arrayValue=a,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==n?a.set([0],this.directionalValue.length):++a[a.length-1],new Za(this.indexId,this.documentKey,this.arrayValue,a)}}function ua(c,n){let i=c.indexId-n.indexId;return 0!==i?i:(i=hc(c.arrayValue,n.arrayValue),0!==i?i:(i=hc(c.directionalValue,n.directionalValue),0!==i?i:En.comparator(c.documentKey,n.documentKey)))}function hc(c,n){for(let i=0;i<c.length&&i<n.length;++i){const a=c[i]-n[i];if(0!==a)return a}return c.length-n.length}class wa{constructor(n){this.Xt=new br((i,a)=>Er.comparator(i.field,a.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const a=i;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(n){if(zt(n.collectionGroup===this.collectionId),this.nn)return!1;const i=Rt(n);if(void 0!==i&&!this.sn(i))return!1;const a=Yt(n);let u=new Set,f=0,y=0;for(;f<a.length&&this.sn(a[f]);++f)u=u.add(a[f].fieldPath.canonicalString());if(f===a.length)return!0;if(this.Xt.size>0){const N=this.Xt.getIterator().getNext();if(!u.has(N.field.canonicalString())){const U=a[f];if(!this.on(N,U)||!this._n(this.en[y++],U))return!1}++f}for(;f<a.length;++f)if(y>=this.en.length||!this._n(this.en[y++],a[f]))return!1;return!0}an(){if(this.nn)return null;let n=new br(Er.comparator);const i=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)i.push(new $e(a.field,2));else{if(n.has(a.field))continue;n=n.add(a.field),i.push(new $e(a.field,0))}for(const a of this.en)a.field.isKeyField()||n.has(a.field)||(n=n.add(a.field),i.push(new $e(a.field,"asc"===a.dir?0:1)));return new Xt(Xt.UNKNOWN_ID,this.collectionId,i,J.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Hr(c){var n,i;if(zt(c instanceof An||c instanceof Jn),c instanceof An){if(c instanceof ya){const u=(null===(i=null===(n=c.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(f=>An.create(c.field,"==",f)))||[];return Jn.create(u,"or")}return c}const a=c.filters.map(u=>Hr(u));return Jn.create(a,c.op)}function xc(c){if(0===c.getFilters().length)return[];const n=ad(Hr(c));return zt(Hh(n)),fc(n)||Nc(n)?[n]:n.getFilters()}function fc(c){return c instanceof An}function Nc(c){return c instanceof Jn&&to(c)}function Hh(c){return fc(c)||Nc(c)||function(i){if(i instanceof Jn&&Zi(i)){for(const a of i.getFilters())if(!fc(a)&&!Nc(a))return!1;return!0}return!1}(c)}function ad(c){if(zt(c instanceof An||c instanceof Jn),c instanceof An)return c;if(1===c.filters.length)return ad(c.filters[0]);const n=c.filters.map(a=>ad(a));let i=Jn.create(n,c.op);return i=kc(i),Hh(i)?i:(zt(i instanceof Jn),zt($i(i)),zt(i.filters.length>1),i.filters.reduce((a,u)=>Oc(a,u)))}function Oc(c,n){let i;return zt(c instanceof An||c instanceof Jn),zt(n instanceof An||n instanceof Jn),i=c instanceof An?n instanceof An?Jn.create([c,n],"and"):Hd(c,n):n instanceof An?Hd(n,c):function(u,f){if(zt(u.filters.length>0&&f.filters.length>0),$i(u)&&$i(f))return Oa(u,f.getFilters());const y=Zi(u)?u:f,N=Zi(u)?f:u,U=y.filters.map(te=>Oc(te,N));return Jn.create(U,"or")}(c,n),kc(i)}function Hd(c,n){if($i(n))return Oa(n,c.getFilters());{const i=n.filters.map(a=>Oc(c,a));return Jn.create(i,"or")}}function kc(c){if(zt(c instanceof An||c instanceof Jn),c instanceof An)return c;const n=c.getFilters();if(1===n.length)return kc(n[0]);if(ss(c))return c;const i=n.map(u=>kc(u)),a=[];return i.forEach(u=>{u instanceof An?a.push(u):u instanceof Jn&&(u.op===c.op?a.push(...u.filters):a.push(u))}),1===a.length?a[0]:Jn.create(a,c.op)}class fl{constructor(){this.un=new ld}addToCollectionParentIndex(n,i){return this.un.add(i),oe.resolve()}getCollectionParents(n,i){return oe.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return oe.resolve()}deleteFieldIndex(n,i){return oe.resolve()}deleteAllFieldIndexes(n){return oe.resolve()}createTargetIndexes(n,i){return oe.resolve()}getDocumentsMatchingTarget(n,i){return oe.resolve(null)}getIndexType(n,i){return oe.resolve(0)}getFieldIndexes(n,i){return oe.resolve([])}getNextCollectionGroupToUpdate(n){return oe.resolve(null)}getMinOffset(n,i){return oe.resolve(ke.min())}getMinOffsetFromCollectionGroup(n,i){return oe.resolve(ke.min())}updateCollectionGroup(n,i,a){return oe.resolve()}updateIndexEntries(n,i){return oe.resolve()}}class ld{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),u=this.index[i]||new br(ir.comparator),f=!u.has(a);return this.index[i]=u.add(a),f}has(n){const i=n.lastSegment(),a=n.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(n){return(this.index[n]||new br(ir.comparator)).toArray()}}const iu=new Uint8Array(0);class cd{constructor(n,i){this.databaseId=i,this.cn=new ld,this.ln=new Fo(a=>ye(a),(a,u)=>_n(a,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const a=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:a,parent:ze(u)};return Gd(n).put(f)}return oe.resolve()}getCollectionParents(n,i){const a=[],u=IDBKeyRange.bound([i,""],[$n(i),""],!1,!0);return Gd(n).U(u).next(f=>{for(const y of f){if(y.collectionId!==i)break;a.push(On(y.parent))}return a})}addFieldIndex(n,i){const a=hn(n),u={indexId:(N=i).indexId,collectionGroup:N.collectionGroup,fields:N.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var N;delete u.indexId;const f=a.add(u);if(i.indexState){const y=Kr(n);return f.next(N=>{y.put(Rs(N,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(n,i){const a=hn(n),u=Kr(n),f=da(n);return a.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=hn(n),a=da(n),u=Kr(n);return i.j().next(()=>a.j()).next(()=>u.j())}createTargetIndexes(n,i){return oe.forEach(this.hn(i),a=>this.getIndexType(n,a).next(u=>{if(0===u||1===u){const f=new wa(a).an();if(null!=f)return this.addFieldIndex(n,f)}}))}getDocumentsMatchingTarget(n,i){const a=da(n);let u=!0;const f=new Map;return oe.forEach(this.hn(i),y=>this.Pn(n,y).next(N=>{u&&(u=!!N),f.set(y,N)})).next(()=>{if(u){let y=Ur();const N=[];return oe.forEach(f,(U,te)=>{var vr;bt("IndexedDbIndexManager",`Using index ${vr=U,`id=${vr.indexId}|cg=${vr.collectionGroup}|f=${vr.fields.map(Lr=>`${Lr.fieldPath}:${Lr.kind}`).join(",")}`} to execute ${ye(i)}`);const me=function(vr,Lr){const Bi=Rt(Lr);if(void 0===Bi)return null;for(const Yr of xi(vr,Bi.fieldPath))switch(Yr.op){case"array-contains-any":return Yr.value.arrayValue.values||[];case"array-contains":return[Yr.value]}return null}(te,U),Be=function(vr,Lr){const Bi=new Map;for(const Yr of Yt(Lr))for(const jt of xi(vr,Yr.fieldPath))switch(jt.op){case"==":case"in":Bi.set(Yr.fieldPath.canonicalString(),jt.value);break;case"not-in":case"!=":return Bi.set(Yr.fieldPath.canonicalString(),jt.value),Array.from(Bi.values())}return null}(te,U),It=function(vr,Lr){const Bi=[];let Yr=!0;for(const jt of Yt(Lr)){const _t=0===jt.kind?Vi(vr,jt.fieldPath,vr.startAt):io(vr,jt.fieldPath,vr.startAt);Bi.push(_t.value),Yr&&(Yr=_t.inclusive)}return new Wr(Bi,Yr)}(te,U),nn=function(vr,Lr){const Bi=[];let Yr=!0;for(const jt of Yt(Lr)){const _t=0===jt.kind?io(vr,jt.fieldPath,vr.endAt):Vi(vr,jt.fieldPath,vr.endAt);Bi.push(_t.value),Yr&&(Yr=_t.inclusive)}return new Wr(Bi,Yr)}(te,U),Cn=this.In(U,te,It),zn=this.In(U,te,nn),Vn=this.Tn(U,te,Be),gr=this.En(U.indexId,me,Cn,It.inclusive,zn,nn.inclusive,Vn);return oe.forEach(gr,Mr=>a.G(Mr,i.limit).next(vr=>{vr.forEach(Lr=>{const Bi=En.fromSegments(Lr.documentKey);y.has(Bi)||(y=y.add(Bi),N.push(Bi))})}))}).next(()=>N)}return oe.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:xc(Jn.create(n.filters,"and")).map(a=>K(n.path,n.collectionGroup,n.orderBy,a.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,a,u,f,y,N){const U=(null!=i?i.length:1)*Math.max(a.length,f.length),te=U/(null!=i?i.length:1),me=[];for(let Be=0;Be<U;++Be){const It=i?this.dn(i[Be/te]):iu,nn=this.An(n,It,a[Be%te],u),Cn=this.Rn(n,It,f[Be%te],y),zn=N.map(Vn=>this.An(n,It,Vn,!0));me.push(...this.createRange(nn,Cn,zn))}return me}An(n,i,a,u){const f=new Za(n,En.empty(),i,a);return u?f:f.Zt()}Rn(n,i,a,u){const f=new Za(n,En.empty(),i,a);return u?f.Zt():f}Pn(n,i){const a=new wa(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(f=>{let y=null;for(const N of f)a.rn(N)&&(!y||N.fields.length>y.fields.length)&&(y=N);return y})}getIndexType(n,i){let a=2;const u=this.hn(i);return oe.forEach(u,f=>this.Pn(n,f).next(y=>{y?0!==a&&y.fields.length<function(U){let te=new br(Er.comparator),me=!1;for(const Be of U.filters)for(const It of Be.getFlattenedFilters())It.field.isKeyField()||("array-contains"===It.op||"array-contains-any"===It.op?me=!0:te=te.add(It.field));for(const Be of U.orderBy)Be.field.isKeyField()||(te=te.add(Be.field));return te.size+(me?1:0)}(f)&&(a=1):a=0})).next(()=>null!==i.limit&&u.length>1&&2===a?1:a)}Vn(n,i){const a=new Xl;for(const u of Yt(n)){const f=i.data.field(u.fieldPath);if(null==f)return null;const y=a.Yt(u.kind);hl.vt.It(f,y)}return a.zt()}dn(n){const i=new Xl;return hl.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const a=new Xl;return hl.vt.It(uo(this.databaseId,i),a.Yt(function(f){const y=Yt(f);return 0===y.length?0:y[y.length-1].kind}(n))),a.zt()}Tn(n,i,a){if(null===a)return[];let u=[];u.push(new Xl);let f=0;for(const y of Yt(n)){const N=a[f++];for(const U of u)if(this.fn(i,y.fieldPath)&&Gi(N))u=this.gn(u,y,N);else{const te=U.Yt(y.kind);hl.vt.It(N,te)}}return this.pn(u)}In(n,i,a){return this.Tn(n,i,a.position)}pn(n){const i=[];for(let a=0;a<n.length;++a)i[a]=n[a].zt();return i}gn(n,i,a){const u=[...n],f=[];for(const y of a.arrayValue.values||[])for(const N of u){const U=new Xl;U.seed(N.zt()),hl.vt.It(y,U.Yt(i.kind)),f.push(U)}return f}fn(n,i){return!!n.filters.find(a=>a instanceof An&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(n,i){const a=hn(n),u=Kr(n);return(i?a.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.U()).next(f=>{const y=[];return oe.forEach(f,N=>u.get([N.indexId,this.uid]).next(U=>{y.push(function(me,Be){const It=Be?new J(Be.sequenceNumber,new ke(zl(Be.readTime),new En(On(Be.documentKey)),Be.largestBatchId)):J.empty(),nn=me.fields.map(([Cn,zn])=>new $e(Er.fromServerFormat(Cn),zn));return new Xt(me.indexId,me.collectionGroup,nn,It)}(N,U))})).next(()=>y)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((a,u)=>{const f=a.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:wn(a.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,a){const u=hn(n),f=Kr(n);return this.yn(n).next(y=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(N=>oe.forEach(N,U=>f.put(Rs(U.indexId,this.uid,y,a)))))}updateIndexEntries(n,i){const a=new Map;return oe.forEach(i,(u,f)=>{const y=a.get(u.collectionGroup);return(y?oe.resolve(y):this.getFieldIndexes(n,u.collectionGroup)).next(N=>(a.set(u.collectionGroup,N),oe.forEach(N,U=>this.wn(n,u,U).next(te=>{const me=this.Sn(f,U);return te.isEqual(me)?oe.resolve():this.bn(n,f,U,te,me)}))))})}Dn(n,i,a,u){return da(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(a,i.key),documentKey:i.key.path.toArray()})}vn(n,i,a,u){return da(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(a,i.key),i.key.path.toArray()])}wn(n,i,a){const u=da(n);let f=new br(ua);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,i)])},(y,N)=>{f=f.add(new Za(a.indexId,i,N.arrayValue,N.directionalValue))}).next(()=>f)}Sn(n,i){let a=new br(ua);const u=this.Vn(i,n);if(null==u)return a;const f=Rt(i);if(null!=f){const y=n.data.field(f.fieldPath);if(Gi(y))for(const N of y.arrayValue.values||[])a=a.add(new Za(i.indexId,n.key,this.dn(N),u))}else a=a.add(new Za(i.indexId,n.key,iu,u));return a}bn(n,i,a,u,f){bt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const y=[];return function(U,te,me,Be,It){const nn=U.getIterator(),Cn=te.getIterator();let zn=co(nn),Vn=co(Cn);for(;zn||Vn;){let gr=!1,Mr=!1;if(zn&&Vn){const vr=me(zn,Vn);vr<0?Mr=!0:vr>0&&(gr=!0)}else null!=zn?Mr=!0:gr=!0;gr?(Be(Vn),Vn=co(Cn)):Mr?(It(zn),zn=co(nn)):(zn=co(nn),Vn=co(Cn))}}(u,f,ua,N=>{y.push(this.Dn(n,i,a,N))},N=>{y.push(this.vn(n,i,a,N))}),oe.waitFor(y)}yn(n){let i=1;return Kr(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,a){a=a.sort((y,N)=>ua(y,N)).filter((y,N,U)=>!N||0!==ua(y,U[N-1]));const u=[];u.push(n);for(const y of a){const N=ua(y,n),U=ua(y,i);if(0===N)u[0]=n.Zt();else if(N>0&&U<0)u.push(y),u.push(y.Zt());else if(U>0)break}u.push(i);const f=[];for(let y=0;y<u.length;y+=2){if(this.Cn(u[y],u[y+1]))return[];f.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,iu,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,iu,[]]))}return f}Cn(n,i){return ua(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(Fc)}getMinOffset(n,i){return oe.mapArray(this.hn(i),a=>this.Pn(n,a).next(u=>u||en())).next(Fc)}}function Gd(c){return Mi(c,"collectionParents")}function da(c){return Mi(c,"indexEntries")}function hn(c){return Mi(c,"indexConfiguration")}function Kr(c){return Mi(c,"indexState")}function Fc(c){zt(0!==c.length);let n=c[0].indexState.offset,i=n.largestBatchId;for(let a=1;a<c.length;a++){const u=c[a].indexState.offset;je(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new ke(n.readTime,n.documentKey,i)}const ou={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ei{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new ei(n,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function su(c,n,i){const a=c.store("mutations"),u=c.store("documentMutations"),f=[],y=IDBKeyRange.only(i.batchId);let N=0;const U=a.J({range:y},(me,Be,It)=>(N++,It.delete()));f.push(U.next(()=>{zt(1===N)}));const te=[];for(const me of i.mutations){const Be=sr(n,me.key.path,i.batchId);f.push(u.delete(Be)),te.push(me.key)}return oe.waitFor(f).next(()=>te)}function pl(c){if(!c)return 0;let n;if(c.document)n=c.document;else if(c.unknownDocument)n=c.unknownDocument;else{if(!c.noDocument)throw en();n=c.noDocument}return JSON.stringify(n).length}ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(41943040,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);class js{constructor(n,i,a,u){this.userId=n,this.serializer=i,this.indexManager=a,this.referenceDelegate=u,this.Fn={}}static lt(n,i,a,u){zt(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new js(f,i,a,u)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ba(n).J({index:"userMutationsIndex",range:a},(u,f,y)=>{i=!1,y.done()}).next(()=>i)}addMutationBatch(n,i,a,u){const f=gl(n),y=Ba(n);return y.add({}).next(N=>{zt("number"==typeof N);const U=new qi(N,i,a,u),te=function(nn,Cn,zn){const Vn=zn.baseMutations.map(Mr=>B(nn.ct,Mr)),gr=zn.mutations.map(Mr=>B(nn.ct,Mr));return{userId:Cn,batchId:zn.batchId,localWriteTimeMs:zn.localWriteTime.toMillis(),baseMutations:Vn,mutations:gr}}(this.serializer,this.userId,U),me=[];let Be=new br((It,nn)=>wn(It.canonicalString(),nn.canonicalString()));for(const It of u){const nn=sr(this.userId,It.key.path,N);Be=Be.add(It.key.path.popLast()),me.push(y.put(te)),me.push(f.put(nn,Hi))}return Be.forEach(It=>{me.push(this.indexManager.addToCollectionParentIndex(n,It))}),n.addOnCommittedListener(()=>{this.Fn[N]=U.keys()}),oe.waitFor(me).next(()=>U)})}lookupMutationBatch(n,i){return Ba(n).get(i).next(a=>a?(zt(a.userId===this.userId),ds(this.serializer,a)):null)}Mn(n,i){return this.Fn[i]?oe.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const u=a.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,u=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return Ba(n).J({index:"userMutationsIndex",range:u},(y,N,U)=>{N.userId===this.userId&&(zt(N.batchId>=a),f=ds(this.serializer,N)),U.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ba(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,y)=>{a=f.batchId,y.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ba(n).U("userMutationsIndex",i).next(a=>a.map(u=>ds(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=Sr(this.userId,i.path),u=IDBKeyRange.lowerBound(a),f=[];return gl(n).J({range:u},(y,N,U)=>{const[te,me,Be]=y,It=On(me);if(te===this.userId&&i.path.isEqual(It))return Ba(n).get(Be).next(nn=>{if(!nn)throw en();zt(nn.userId===this.userId),f.push(ds(this.serializer,nn))});U.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new br(wn);const u=[];return i.forEach(f=>{const y=Sr(this.userId,f.path),N=IDBKeyRange.lowerBound(y),U=gl(n).J({range:N},(te,me,Be)=>{const[It,nn,Cn]=te,zn=On(nn);It===this.userId&&f.path.isEqual(zn)?a=a.add(Cn):Be.done()});u.push(U)}),oe.waitFor(u).next(()=>this.xn(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,u=a.length+1,f=Sr(this.userId,a),y=IDBKeyRange.lowerBound(f);let N=new br(wn);return gl(n).J({range:y},(U,te,me)=>{const[Be,It,nn]=U,Cn=On(It);Be===this.userId&&a.isPrefixOf(Cn)?Cn.length===u&&(N=N.add(nn)):me.done()}).next(()=>this.xn(n,N))}xn(n,i){const a=[],u=[];return i.forEach(f=>{u.push(Ba(n).get(f).next(y=>{if(null===y)throw en();zt(y.userId===this.userId),a.push(ds(this.serializer,y))}))}),oe.waitFor(u).next(()=>a)}removeMutationBatch(n,i){return su(n._e,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),oe.forEach(a,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return oe.resolve();const a=IDBKeyRange.lowerBound(function(y){return[y]}(this.userId)),u=[];return gl(n).J({range:a},(f,y,N)=>{if(f[0]===this.userId){const U=On(f[1]);u.push(U)}else N.done()}).next(()=>{zt(0===u.length)})})}containsKey(n,i){return au(n,this.userId,i)}Nn(n){return Gh(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function au(c,n,i){const a=Sr(n,i.path),u=a[1],f=IDBKeyRange.lowerBound(a);let y=!1;return gl(c).J({range:f,H:!0},(N,U,te)=>{const[me,Be,It]=N;me===n&&Be===u&&(y=!0),te.done()}).next(()=>y)}function Ba(c){return Mi(c,"mutations")}function gl(c){return Mi(c,"documentMutations")}function Gh(c){return Mi(c,"mutationQueues")}class pc{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new pc(0)}static kn(){return new pc(-1)}}class zd{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const a=new pc(i.highestTargetId);return i.highestTargetId=a.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>Pn.fromTimestamp(new Ir(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,a&&(u.lastRemoteSnapshotVersion=a.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(a=>(a.targetCount+=1,this.$n(i,a),this.Qn(n,a))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>ml(n).delete(i.targetId)).next(()=>this.qn(n)).next(a=>(zt(a.targetCount>0),a.targetCount-=1,this.Qn(n,a)))}removeTargets(n,i,a){let u=0;const f=[];return ml(n).J((y,N)=>{const U=uc(N);U.sequenceNumber<=i&&null===a.get(U.targetId)&&(u++,f.push(this.removeTargetData(n,U)))}).next(()=>oe.waitFor(f)).next(()=>u)}forEachTarget(n,i){return ml(n).J((a,u)=>{const f=uc(u);i(f)})}qn(n){return ud(n).get("targetGlobalKey").next(i=>(zt(null!==i),i))}Qn(n,i){return ud(n).put("targetGlobalKey",i)}Kn(n,i){return ml(n).put(dl(this.serializer,i))}$n(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const a=ye(i),u=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return ml(n).J({range:u,index:"queryTargetsIndex"},(y,N,U)=>{const te=uc(N);_n(i,te.target)&&(f=te,U.done())}).next(()=>f)}addMatchingKeys(n,i,a){const u=[],f=Uo(n);return i.forEach(y=>{const N=ze(y.path);u.push(f.put({targetId:a,path:N})),u.push(this.referenceDelegate.addReference(n,a,y))}),oe.waitFor(u)}removeMatchingKeys(n,i,a){const u=Uo(n);return oe.forEach(i,f=>{const y=ze(f.path);return oe.waitFor([u.delete([a,y]),this.referenceDelegate.removeReference(n,a,f)])})}removeMatchingKeysForTargetId(n,i){const a=Uo(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(u)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),u=Uo(n);let f=Ur();return u.J({range:a,H:!0},(y,N,U)=>{const te=On(y[1]),me=new En(te);f=f.add(me)}).next(()=>f)}containsKey(n,i){const a=ze(i.path),u=IDBKeyRange.bound([a],[$n(a)],!1,!0);let f=0;return Uo(n).J({index:"documentTargetsIndex",H:!0,range:u},([y,N],U,te)=>{0!==y&&(f++,te.done())}).next(()=>f>0)}ot(n,i){return ml(n).get(i).next(a=>a?uc(a):null)}}function ml(c){return Mi(c,"targets")}function ud(c){return Mi(c,"targetGlobal")}function Uo(c){return Mi(c,"targetDocuments")}function $a([c,n],[i,a]){const u=wn(c,i);return 0===u?wn(n,a):u}class Wd{constructor(n){this.Un=n,this.buffer=new br($a),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();$a(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Hs{constructor(n,i,a){this.garbageCollector=n,this.asyncQueue=i,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;bt("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,we.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){Gr(a)?bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Ve(a)}yield i.Hn(3e5)}))}}class _l{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return oe.resolve(Ae.oe);const a=new Wd(i);return this.Jn.forEachTarget(n,u=>a.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>a.zn(u))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.Jn.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(ou)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ou):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let a,u,f,y,N,U,te;const me=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Be=>(Be>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Be}`),u=this.params.maximumSequenceNumbersToCollect):u=Be,y=Date.now(),this.nthSequenceNumber(n,u))).next(Be=>(a=Be,N=Date.now(),this.removeTargets(n,a,i))).next(Be=>(f=Be,U=Date.now(),this.removeOrphanedDocuments(n,a))).next(Be=>(te=Date.now(),Bt()<=st.$b.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-me}ms\n\tDetermined least recently used ${u} in `+(N-y)+`ms\n\tRemoved ${f} targets in `+(U-N)+`ms\n\tRemoved ${Be} documents in `+(te-U)+`ms\nTotal Duration: ${te-me}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Be})))}}class Kd{constructor(n,i){this.db=n,this.garbageCollector=function dd(c,n){return new _l(c,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(u=>a+u))}er(n){let i=0;return this.Zn(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(a,u)=>i(u))}addReference(n,i,a){return lu(n,a)}removeReference(n,i,a){return lu(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return lu(n,i)}nr(n,i){return function(u,f){let y=!1;return Gh(u).Y(N=>au(u,N,f).next(U=>(U&&(y=!0),oe.resolve(!U)))).next(()=>y)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(n,(y,N)=>{if(N<=i){const U=this.nr(n,y).next(te=>{if(!te)return f++,a.getEntry(n,y).next(()=>(a.removeEntry(y,Pn.min()),Uo(n).delete([0,ze(y.path)])))});u.push(U)}}).next(()=>oe.waitFor(u)).next(()=>a.apply(n)).next(()=>f)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return lu(n,i)}tr(n,i){const a=Uo(n);let u,f=Ae.oe;return a.J({index:"documentTargetsIndex"},([y,N],{path:U,sequenceNumber:te})=>{0===y?(f!==Ae.oe&&i(new En(On(u)),f),f=te,u=U):f=Ae.oe}).next(()=>{f!==Ae.oe&&i(new En(On(u)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function lu(c,n){return Uo(c).put((u=c.currentSequenceNumber,{targetId:0,path:ze(n.path),sequenceNumber:u}));var u}class Ml{constructor(){this.changes=new Fo(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,Or.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?oe.resolve(a):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class gc{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,a){return vl(n).put(a)}removeEntry(n,i,a){return vl(n).delete(function(f,y){const N=f.path.toArray();return[N.slice(0,N.length-2),N[N.length-2],Aa(y),N[N.length-1]]}(i,a))}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.rr(n,a)))}getEntry(n,i){let a=Or.newInvalidDocument(i);return vl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(mc(i))},(u,f)=>{a=this.ir(i,f)}).next(()=>a)}sr(n,i){let a={size:0,document:Or.newInvalidDocument(i)};return vl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(mc(i))},(u,f)=>{a={document:this.ir(i,f),size:pl(f)}}).next(()=>a)}getEntries(n,i){let a=ls();return this._r(n,i,(u,f)=>{const y=this.ir(u,f);a=a.insert(u,y)}).next(()=>a)}ar(n,i){let a=ls(),u=new mi(En.comparator);return this._r(n,i,(f,y)=>{const N=this.ir(f,y);a=a.insert(f,N),u=u.insert(f,pl(y))}).next(()=>({documents:a,ur:u}))}_r(n,i,a){if(i.isEmpty())return oe.resolve();let u=new br(hd);i.forEach(U=>u=u.add(U));const f=IDBKeyRange.bound(mc(u.first()),mc(u.last())),y=u.getIterator();let N=y.getNext();return vl(n).J({index:"documentKeyIndex",range:f},(U,te,me)=>{const Be=En.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;N&&hd(N,Be)<0;)a(N,null),N=y.getNext();N&&N.isEqual(Be)&&(a(N,te),N=y.hasNext()?y.getNext():null),N?me.$(mc(N)):me.done()}).next(()=>{for(;N;)a(N,null),N=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(n,i,a,u,f){const y=i.path,N=[y.popLast().toArray(),y.lastSegment(),Aa(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],U=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vl(n).U(IDBKeyRange.bound(N,U,!0)).next(te=>{null==f||f.incrementDocumentReadCount(te.length);let me=ls();for(const Be of te){const It=this.ir(En.fromSegments(Be.prefixPath.concat(Be.collectionGroup,Be.documentId)),Be);It.isFoundDocument()&&(sl(i,It)||u.has(It.key))&&(me=me.insert(It.key,It))}return me})}getAllFromCollectionGroup(n,i,a,u){let f=ls();const y=cu(i,a),N=cu(i,ke.max());return vl(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,N,!0)},(U,te,me)=>{const Be=this.ir(En.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);f=f.insert(Be.key,Be),f.size===u&&me.done()}).next(()=>f)}newChangeBuffer(n){return new Xd(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return ql(n).get("remoteDocumentGlobalKey").next(i=>(zt(!!i),i))}rr(n,i){return ql(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const a=function cc(c,n){let i;if(n.document)i=Rc(c.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const a=En.fromSegments(n.noDocument.path),u=zl(n.noDocument.readTime);i=Or.newNoDocument(a,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return en();{const a=En.fromSegments(n.unknownDocument.path),u=zl(n.unknownDocument.version);i=Or.newUnknownDocument(a,u)}}return n.readTime&&i.setReadTime(function(u){const f=new Ir(u[0],u[1]);return Pn.fromTimestamp(f)}(n.readTime)),i}(this.serializer,i);if(!a.isNoDocument()||!a.version.isEqual(Pn.min()))return a}return Or.newInvalidDocument(n)}}function Lc(c){return new gc(c)}class Xd extends Ml{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Fo(a=>a.toString(),(a,u)=>a.isEqual(u))}applyChanges(n){const i=[];let a=0,u=new br((f,y)=>wn(f.canonicalString(),y.canonicalString()));return this.changes.forEach((f,y)=>{const N=this.lr.get(f);if(i.push(this.cr.removeEntry(n,f,N.readTime)),y.isValidDocument()){const U=Gl(this.cr.serializer,y);u=u.add(f.path.popLast());const te=pl(U);a+=te-N.size,i.push(this.cr.addEntry(n,f,U))}else if(a-=N.size,this.trackRemovals){const U=Gl(this.cr.serializer,y.convertToNoDocument(Pn.min()));i.push(this.cr.addEntry(n,f,U))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,f))}),i.push(this.cr.updateMetadata(n,a)),oe.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(a=>(this.lr.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:a,ur:u})=>(u.forEach((f,y)=>{this.lr.set(f,{size:y,readTime:a.get(f).readTime})}),a))}}function ql(c){return Mi(c,"remoteDocumentGlobal")}function vl(c){return Mi(c,"remoteDocumentsV14")}function mc(c){const n=c.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function cu(c,n){const i=n.documentKey.path.toArray();return[c,Aa(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function hd(c,n){const i=c.path.toArray(),a=n.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<a.length-2;++f)if(u=wn(i[f],a[f]),u)return u;return u=wn(i.length,a.length),u||(u=wn(i[i.length-2],a[a.length-2]),u||wn(i[i.length-1],a[a.length-1]))}class zh{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class uu{constructor(n,i,a,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(n,i){let a=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==a&&ii(a.mutation,u,ni.empty(),Ir.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.getLocalViewOfDocuments(n,a,Ur()).next(()=>a))}getLocalViewOfDocuments(n,i,a=Ur()){const u=Ts();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,a).next(f=>{let y=ia();return f.forEach((N,U)=>{y=y.insert(N,U.overlayedDocument)}),y}))}getOverlayedDocuments(n,i){const a=Ts();return this.populateOverlays(n,a,i).next(()=>this.computeViews(n,i,a,Ur()))}populateOverlays(n,i,a){const u=[];return a.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(n,u).next(f=>{f.forEach((y,N)=>{i.set(y,N)})})}computeViews(n,i,a,u){let f=ls();const y=Vs(),N=Vs();return i.forEach((U,te)=>{const me=a.get(te.key);u.has(te.key)&&(void 0===me||me.mutation instanceof li)?f=f.insert(te.key,te):void 0!==me?(y.set(te.key,me.mutation.getFieldMask()),ii(me.mutation,te,me.mutation.getFieldMask(),Ir.now())):y.set(te.key,ni.empty())}),this.recalculateAndSaveOverlays(n,f).next(U=>(U.forEach((te,me)=>y.set(te,me)),i.forEach((te,me)=>{var Be;return N.set(te,new zh(me,null!==(Be=y.get(te))&&void 0!==Be?Be:null))}),N))}recalculateAndSaveOverlays(n,i){const a=Vs();let u=new mi((y,N)=>y-N),f=Ur();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(y=>{for(const N of y)N.keys().forEach(U=>{const te=i.get(U);if(null===te)return;let me=a.get(U)||ni.empty();me=N.applyToLocalView(te,me),a.set(U,me);const Be=(u.get(N.batchId)||Ur()).add(U);u=u.insert(N.batchId,Be)})}).next(()=>{const y=[],N=u.getReverseIterator();for(;N.hasNext();){const U=N.getNext(),te=U.key,me=U.value,Be=ll();me.forEach(It=>{if(!f.has(It)){const nn=Dn(i.get(It),a.get(It));null!==nn&&Be.set(It,nn),f=f.add(It)}}),y.push(this.documentOverlayCache.saveOverlays(n,te,Be))}return oe.waitFor(y)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.recalculateAndSaveOverlays(n,a))}getDocumentsMatchingQuery(n,i,a,u){return En.isDocumentKey((y=i).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):yo(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,a,u):this.getDocumentsMatchingCollectionQuery(n,i,a,u);var y}getNextDocuments(n,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,a,u).next(f=>{const y=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,a.largestBatchId,u-f.size):oe.resolve(Ts());let N=-1,U=f;return y.next(te=>oe.forEach(te,(me,Be)=>(N<Be.largestBatchId&&(N=Be.largestBatchId),f.get(me)?oe.resolve():this.remoteDocumentCache.getEntry(n,me).next(It=>{U=U.insert(me,It)}))).next(()=>this.populateOverlays(n,te,f)).next(()=>this.computeViews(n,U,te,Ur())).next(me=>({batchId:N,changes:Ls(me)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new En(i)).next(a=>{let u=ia();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,a,u){const f=i.collectionGroup;let y=ia();return this.indexManager.getCollectionParents(n,f).next(N=>oe.forEach(N,U=>{const te=(Be=i,It=U.child(f),new wo(It,null,Be.explicitOrderBy.slice(),Be.filters.slice(),Be.limit,Be.limitType,Be.startAt,Be.endAt));var Be,It;return this.getDocumentsMatchingCollectionQuery(n,te,a,u).next(me=>{me.forEach((Be,It)=>{y=y.insert(Be,It)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(n,i,a,u){let f;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,a.largestBatchId).next(y=>(f=y,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,a,f,u))).next(y=>{f.forEach((U,te)=>{const me=te.getKey();null===y.get(me)&&(y=y.insert(me,Or.newInvalidDocument(me)))});let N=ia();return y.forEach((U,te)=>{const me=f.get(U);void 0!==me&&ii(me.mutation,te,ni.empty(),Ir.now()),sl(i,te)&&(N=N.insert(U,te))}),N})}}class Wh{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return oe.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:eo(u.createTime)}),oe.resolve();var u}getNamedQuery(n,i){return oe.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:Si(u.bundledQuery),readTime:eo(u.readTime)}),oe.resolve();var u}}class qd{constructor(){this.overlays=new mi(En.comparator),this.Ir=new Map}getOverlay(n,i){return oe.resolve(this.overlays.get(i))}getOverlays(n,i){const a=Ts();return oe.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&a.set(u,f)})).next(()=>a)}saveOverlays(n,i,a){return a.forEach((u,f)=>{this.ht(n,i,f)}),oe.resolve()}removeOverlaysForBatchId(n,i,a){const u=this.Ir.get(a);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(a)),oe.resolve()}getOverlaysForCollection(n,i,a){const u=Ts(),f=i.length+1,y=new En(i.child("")),N=this.overlays.getIteratorFrom(y);for(;N.hasNext();){const U=N.getNext().value,te=U.getKey();if(!i.isPrefixOf(te.path))break;te.path.length===f&&U.largestBatchId>a&&u.set(U.getKey(),U)}return oe.resolve(u)}getOverlaysForCollectionGroup(n,i,a,u){let f=new mi((te,me)=>te-me);const y=this.overlays.getIterator();for(;y.hasNext();){const te=y.getNext().value;if(te.getKey().getCollectionGroup()===i&&te.largestBatchId>a){let me=f.get(te.largestBatchId);null===me&&(me=Ts(),f=f.insert(te.largestBatchId,me)),me.set(te.getKey(),te)}}const N=Ts(),U=f.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((te,me)=>N.set(te,me)),!(N.size()>=u)););return oe.resolve(N)}ht(n,i,a){const u=this.overlays.get(a.key);if(null!==u){const y=this.Ir.get(u.largestBatchId).delete(a.key);this.Ir.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(a.key,new zi(i,a));let f=this.Ir.get(i);void 0===f&&(f=Ur(),this.Ir.set(i,f)),this.Ir.set(i,f.add(a.key))}}class qf{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(n){return oe.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,oe.resolve()}}class es{constructor(){this.Tr=new br(Po.Er),this.dr=new br(Po.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const a=new Po(n,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.Vr(new Po(n,i))}mr(n,i){n.forEach(a=>this.removeReference(a,i))}gr(n){const i=new En(new ir([])),a=new Po(i,n),u=new Po(i,n+1),f=[];return this.dr.forEachInRange([a,u],y=>{this.Vr(y),f.push(y.key)}),f}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new En(new ir([])),a=new Po(i,n),u=new Po(i,n+1);let f=Ur();return this.dr.forEachInRange([a,u],y=>{f=f.add(y.key)}),f}containsKey(n){const i=new Po(n,0),a=this.Tr.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class Po{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return En.comparator(n.key,i.key)||wn(n.wr,i.wr)}static Ar(n,i){return wn(n.wr,i.wr)||En.comparator(n.key,i.key)}}class lo{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new br(Po.Er)}checkEmpty(n){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,a,u){const f=this.Sr;this.Sr++;const y=new qi(f,i,a,u);this.mutationQueue.push(y);for(const N of u)this.br=this.br.add(new Po(N.key,f)),this.indexManager.addToCollectionParentIndex(n,N.key.path.popLast());return oe.resolve(y)}lookupMutationBatch(n,i){return oe.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),f=u<0?0:u;return oe.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new Po(i,0),u=new Po(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([a,u],y=>{const N=this.Dr(y.wr);f.push(N)}),oe.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new br(wn);return i.forEach(u=>{const f=new Po(u,0),y=new Po(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,y],N=>{a=a.add(N.wr)})}),oe.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,u=a.length+1;let f=a;En.isDocumentKey(f)||(f=f.child(""));const y=new Po(new En(f),0);let N=new br(wn);return this.br.forEachWhile(U=>{const te=U.key.path;return!!a.isPrefixOf(te)&&(te.length===u&&(N=N.add(U.wr)),!0)},y),oe.resolve(this.Cr(N))}Cr(n){const i=[];return n.forEach(a=>{const u=this.Dr(a);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){zt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return oe.forEach(i.mutations,u=>{const f=new Po(u.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=a})}On(n){}containsKey(n,i){const a=new Po(i,0),u=this.br.firstAfterOrEqual(a);return oe.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return oe.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Qd{constructor(n){this.Mr=n,this.docs=new mi(En.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const a=i.key,u=this.docs.get(a),f=u?u.size:0,y=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:y}),this.size+=y-f,this.indexManager.addToCollectionParentIndex(n,a.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return oe.resolve(a?a.document.mutableCopy():Or.newInvalidDocument(i))}getEntries(n,i){let a=ls();return i.forEach(u=>{const f=this.docs.get(u);a=a.insert(u,f?f.document.mutableCopy():Or.newInvalidDocument(u))}),oe.resolve(a)}getDocumentsMatchingQuery(n,i,a,u){let f=ls();const y=i.path,N=new En(y.child("")),U=this.docs.getIteratorFrom(N);for(;U.hasNext();){const{key:te,value:{document:me}}=U.getNext();if(!y.isPrefixOf(te.path))break;te.path.length>y.length+1||je(ne(me),a)<=0||(u.has(me.key)||sl(i,me))&&(f=f.insert(me.key,me.mutableCopy()))}return oe.resolve(f)}getAllFromCollectionGroup(n,i,a,u){en()}Or(n,i){return oe.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new Qf(this)}getSize(n){return oe.resolve(this.size)}}class Qf extends Ml{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(a)}),oe.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class fd{constructor(n){this.persistence=n,this.Nr=new Fo(i=>ye(i),_n),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new es,this.targetCount=0,this.kr=pc.Bn()}forEachTarget(n,i){return this.Nr.forEach((a,u)=>i(u)),oe.resolve()}getLastRemoteSnapshotVersion(n){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return oe.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),oe.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new pc(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,oe.resolve()}updateTargetData(n,i){return this.Kn(i),oe.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,oe.resolve()}removeTargets(n,i,a){let u=0;const f=[];return this.Nr.forEach((y,N)=>{N.sequenceNumber<=i&&null===a.get(N.targetId)&&(this.Nr.delete(y),f.push(this.removeMatchingKeysForTargetId(n,N.targetId)),u++)}),oe.waitFor(f).next(()=>u)}getTargetCount(n){return oe.resolve(this.targetCount)}getTargetData(n,i){const a=this.Nr.get(i)||null;return oe.resolve(a)}addMatchingKeys(n,i,a){return this.Br.Rr(i,a),oe.resolve()}removeMatchingKeys(n,i,a){this.Br.mr(i,a);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(y=>{f.push(u.markPotentiallyOrphaned(n,y))}),oe.waitFor(f)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),oe.resolve()}getMatchingKeysForTargetId(n,i){const a=this.Br.yr(i);return oe.resolve(a)}containsKey(n,i){return oe.resolve(this.Br.containsKey(i))}}class Yd{constructor(n,i){this.qr={},this.overlays={},this.Qr=new Ae(0),this.Kr=!1,this.Kr=!0,this.$r=new qf,this.referenceDelegate=n(this),this.Ur=new fd(this),this.indexManager=new fl,this.remoteDocumentCache=new Qd(a=>this.referenceDelegate.Wr(a)),this.serializer=new Dl(i),this.Gr=new Wh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new qd,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let a=this.qr[n.toKey()];return a||(a=new lo(i,this.referenceDelegate),this.qr[n.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,a){bt("MemoryPersistence","Starting transaction:",n);const u=new du(this.Qr.next());return this.referenceDelegate.zr(),a(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(n,i){return oe.or(Object.values(this.qr).map(a=>()=>a.containsKey(n,i)))}}class du extends Sn{constructor(n){super(),this.currentSequenceNumber=n}}class Pl{constructor(n){this.persistence=n,this.Jr=new es,this.Yr=null}static Zr(n){return new Pl(n)}get Xr(){if(this.Yr)return this.Yr;throw en()}addReference(n,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),oe.resolve()}removeReference(n,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),oe.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),oe.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>a.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,a=>{const u=En.fromPath(a);return this.ei(n,u).next(f=>{f||i.removeEntry(u,Pn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return oe.or([()=>oe.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class yl{constructor(n){this.serializer=n}O(n,i,a,u){const f=new Nt("createOrUpgrade",i);var U;a<1&&u>=1&&(n.createObjectStore("owner"),(U=n).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yn,{unique:!0}),U.createObjectStore("documentMutations"),pd(n),function(U){U.createObjectStore("remoteDocuments")}(n));let y=oe.resolve();return a<3&&u>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(n),pd(n)),y=y.next(()=>function(U){const te=U.store("targetGlobal"),me={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pn.min().toTimestamp(),targetCount:0};return te.put("targetGlobalKey",me)}(f))),a<4&&u>=4&&(0!==a&&(y=y.next(()=>function(U,te){return te.store("mutations").U().next(me=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yn,{unique:!0});const Be=te.store("mutations"),It=me.map(nn=>Be.put(nn));return oe.waitFor(It)})}(n,f))),y=y.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),a<5&&u>=5&&(y=y.next(()=>this.ni(f))),a<6&&u>=6&&(y=y.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(n),this.ri(f)))),a<7&&u>=7&&(y=y.next(()=>this.ii(f))),a<8&&u>=8&&(y=y.next(()=>this.si(n,f))),a<9&&u>=9&&(y=y.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(n)})),a<10&&u>=10&&(y=y.next(()=>this.oi(f))),a<11&&u>=11&&(y=y.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),a<12&&u>=12&&(y=y.next(()=>{!function(U){const te=U.createObjectStore("documentOverlays",{keyPath:jo});te.createIndex("collectionPathOverlayIndex",ns,{unique:!1}),te.createIndex("collectionGroupOverlayIndex",Qo,{unique:!1})}(n)})),a<13&&u>=13&&(y=y.next(()=>function(U){const te=U.createObjectStore("remoteDocumentsV14",{keyPath:mr});te.createIndex("documentKeyIndex",Ri),te.createIndex("collectionGroupIndex",ji)}(n)).next(()=>this._i(n,f)).next(()=>n.deleteObjectStore("remoteDocuments"))),a<14&&u>=14&&(y=y.next(()=>this.ai(n,f))),a<15&&u>=15&&(y=y.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:po}).createIndex("sequenceNumberIndex",Ao,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:qo}).createIndex("documentKeyIndex",Ji,{unique:!1})}(n))),a<16&&u>=16&&(y=y.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),a<17&&u>=17&&(y=y.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(n)})),y}ri(n){let i=0;return n.store("remoteDocuments").J((a,u)=>{i+=pl(u)}).next(()=>{const a={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(n){const i=n.store("mutationQueues"),a=n.store("mutations");return i.U().next(u=>oe.forEach(u,f=>{const y=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",y).next(N=>oe.forEach(N,U=>{zt(U.userId===f.userId);const te=ds(this.serializer,U);return su(n,f.userId,te).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),a=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return a.J((y,N)=>{const U=new ir(y),te=[0,ze(U)];f.push(i.get(te).next(me=>me?oe.resolve():i.put({targetId:0,path:ze(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>oe.waitFor(f))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:Yi});const a=i.store("collectionParents"),u=new ld,f=y=>{if(u.add(y)){const N=y.lastSegment(),U=y.popLast();return a.put({collectionId:N,parent:ze(U)})}};return i.store("remoteDocuments").J({H:!0},(y,N)=>{const U=new ir(y);return f(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([y,N,U],te)=>{const me=On(N);return f(me.popLast())}))}oi(n){const i=n.store("targets");return i.J((a,u)=>{const f=uc(u),y=dl(this.serializer,f);return i.put(y)})}_i(n,i){const a=i.store("remoteDocuments"),u=[];return a.J((f,y)=>{const N=i.store("remoteDocumentsV14"),U=(Be=y,Be.document?new En(ir.fromString(Be.document.name).popFirst(5)):Be.noDocument?En.fromSegments(Be.noDocument.path):Be.unknownDocument?En.fromSegments(Be.unknownDocument.path):en()).path.toArray(),te={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var Be;u.push(N.put(te))}).next(()=>oe.waitFor(u))}ai(n,i){const a=i.store("mutations"),u=Lc(this.serializer),f=new Yd(Pl.Zr,this.serializer.ct);return a.U().next(y=>{const N=new Map;return y.forEach(U=>{var te;let me=null!==(te=N.get(U.userId))&&void 0!==te?te:Ur();ds(this.serializer,U).keys().forEach(Be=>me=me.add(Be)),N.set(U.userId,me)}),oe.forEach(N,(U,te)=>{const me=new He(te),Be=Ms.lt(this.serializer,me),It=f.getIndexManager(me),nn=js.lt(me,this.serializer,It,f.referenceDelegate);return new uu(u,nn,Be,It).recalculateAndSaveOverlaysForDocumentKeys(new mo(i,Ae.oe),U).next()})})}}function pd(c){c.createObjectStore("targetDocuments",{keyPath:ti}).createIndex("documentTargetsIndex",xo,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Co,{unique:!0}),c.createObjectStore("targetGlobal")}const xl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ql{constructor(n,i,a,u,f,y,N,U,te,me,Be=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.ui=f,this.window=y,this.document=N,this.ci=te,this.li=me,this.hi=Be,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=It=>Promise.resolve(),!Ql.D())throw new Le(Fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kd(this,u),this.Ai=i+"main",this.serializer=new Dl(U),this.Ri=new Je(this.Ai,this.hi,new yl(this.serializer)),this.$r=new sd,this.Ur=new zd(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Lc(this.serializer),this.Gr=new od,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===me&&In("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(Fe.FAILED_PRECONDITION,xl);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new Ae(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var a=(0,we.A)(function*(u){if(i.started)return n(u)});return function(u){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,we.A)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,we.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Yl(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(Gr(n))return bt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return ja(n).get("owner").next(i=>oe.resolve(this.vi(i)))}Ci(n){return Yl(n).delete(this.clientId)}Fi(){var n=this;return(0,we.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const u=Mi(a,"clientMetadata");return u.U().next(f=>{const y=n.xi(f,18e5),N=f.filter(U=>-1===y.indexOf(U));return oe.forEach(N,U=>u.delete(U.clientId)).next(()=>N)})}).catch(()=>[]);if(n.Vi)for(const a of i)n.Vi.removeItem(n.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?oe.resolve(!0):ja(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Le(Fe.FAILED_PRECONDITION,xl);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yl(n).U().next(a=>void 0===this.xi(a,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&bt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,we.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new mo(i,Ae.oe);return n.bi(a).next(()=>n.Ci(a))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(a=>this.Mi(a.updateTimeMs,i)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>Yl(n).U().next(i=>this.xi(i,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return js.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new cd(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Ms.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,a){bt("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",f=17===(U=this.hi)?Is:16===U?Ks:15===U?jr:14===U?jn:13===U?fs:12===U?Xr:11===U?go:void en();var U;let y;return this.Ri.runTransaction(n,u,f,N=>(y=new mo(N,this.Qr?this.Qr.next():Ae.oe),"readwrite-primary"===i?this.wi(y).next(U=>!!U||this.Si(y)).next(U=>{if(!U)throw In(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Le(Fe.FAILED_PRECONDITION,tn);return a(y)}).next(U=>this.Di(y).next(()=>U)):this.Ki(y).next(()=>a(y)))).then(N=>(y.raiseOnCommittedEvent(),N))}Ki(n){return ja(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Le(Fe.FAILED_PRECONDITION,xl)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ja(n).put("owner",i)}static D(){return Je.D()}bi(n){const i=ja(n);return i.get("owner").next(a=>this.vi(a)?(bt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):oe.resolve())}Mi(n,i){const a=Date.now();return!(n<a-i||n>a&&(In(`Detected an update time that is in the future: ${n} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,ht.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const a=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return bt("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return In("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){In("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function ja(c){return Mi(c,"owner")}function Yl(c){return Mi(c,"clientMetadata")}function hu(c,n){let i=c.projectId;return c.isDefaultDatabase||(i+="."+c.database),"firestore/"+n+"/"+i+"/"}class fu{constructor(n,i,a,u){this.targetId=n,this.fromCache=i,this.$i=a,this.Ui=u}static Wi(n,i){let a=Ur(),u=Ur();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new fu(n,i.fromCache,a,u)}}class Yf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class _c{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,ht.nr)()?8:bn((0,ht.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,a,u){const f={result:null};return this.Yi(n,i).next(y=>{f.result=y}).next(()=>{if(!f.result)return this.Zi(n,i,u,a).next(y=>{f.result=y})}).next(()=>{if(f.result)return;const y=new Yf;return this.Xi(n,i,y).next(N=>{if(f.result=N,this.zi)return this.es(n,i,y,N.size)})}).next(()=>f.result)}es(n,i,a,u){return a.documentReadCount<this.ji?(Bt()<=st.$b.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Fs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(Bt()<=st.$b.DEBUG&&bt("QueryEngine","Query:",Fs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.Hi*u?(Bt()<=st.$b.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Fs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Ti(i))):oe.resolve())}Yi(n,i){if(ka(i))return oe.resolve(null);let a=Ti(i);return this.indexManager.getIndexType(n,a).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=za(i,null,"F"),a=Ti(i)),this.indexManager.getDocumentsMatchingTarget(n,a).next(f=>{const y=Ur(...f);return this.Ji.getDocuments(n,y).next(N=>this.indexManager.getMinOffset(n,a).next(U=>{const te=this.ts(i,N);return this.ns(i,te,y,U.readTime)?this.Yi(n,za(i,null,"F")):this.rs(n,te,i,U)}))})))}Zi(n,i,a,u){return ka(i)||u.isEqual(Pn.min())?oe.resolve(null):this.Ji.getDocuments(n,a).next(f=>{const y=this.ts(i,f);return this.ns(i,y,a,u)?oe.resolve(null):(Bt()<=st.$b.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Fs(i)),this.rs(n,y,i,Q(u,-1)).next(N=>N))})}ts(n,i){let a=new br(wc(n));return i.forEach((u,f)=>{sl(n,f)&&(a=a.add(f))}),a}ns(n,i,a,u){if(null===n.limit)return!1;if(a.size!==i.size)return!0;const f="F"===n.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(n,i,a){return Bt()<=st.$b.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Fs(i)),this.Ji.getDocumentsMatchingQuery(n,i,ke.min(),a)}rs(n,i,a,u){return this.Ji.getDocumentsMatchingQuery(n,a,u).next(f=>(i.forEach(y=>{f=f.insert(y.key,y)}),f))}}class pu{constructor(n,i,a,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new mi(wn),this._s=new Fo(f=>ye(f),_n),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(a)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new uu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function Kh(c,n,i,a){return new pu(c,n,i,a)}function gu(c,n){return gd.apply(this,arguments)}function gd(){return(gd=(0,we.A)(function*(c,n){const i=sn(c);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(f=>(u=f,i.ls(n),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const y=[],N=[];let U=Ur();for(const te of u){y.push(te.batchId);for(const me of te.mutations)U=U.add(me.key)}for(const te of f){N.push(te.batchId);for(const me of te.mutations)U=U.add(me.key)}return i.localDocuments.getDocuments(a,U).next(te=>({hs:te,removedBatchIds:y,addedBatchIds:N}))})})})).apply(this,arguments)}function Xh(c){const n=sn(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function p(c,n,i){let a=Ur(),u=Ur();return i.forEach(f=>a=a.add(f)),n.getEntries(c,a).next(f=>{let y=ls();return i.forEach((N,U)=>{const te=f.get(N);U.isFoundDocument()!==te.isFoundDocument()&&(u=u.add(N)),U.isNoDocument()&&U.version.isEqual(Pn.min())?(n.removeEntry(N,U.readTime),y=y.insert(N,U)):!te.isValidDocument()||U.version.compareTo(te.version)>0||0===U.version.compareTo(te.version)&&te.hasPendingWrites?(n.addEntry(U),y=y.insert(N,U)):bt("LocalStore","Ignoring outdated watch update for ",N,". Current version:",te.version," Watch version:",U.version)}),{Ps:y,Is:u}})}function _(c,n){const i=sn(c);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,n)))}function M(c,n){const i=sn(c);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ur.getTargetData(a,n).next(f=>f?(u=f,oe.resolve(u)):i.Ur.allocateTargetId(a).next(y=>(u=new Js(n,y,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.os.get(a.targetId);return(null===u||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(n,a.targetId)),a})}function re(c,n,i){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,we.A)(function*(c,n,i){const a=sn(c),u=a.os.get(n),f=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",f,y=>a.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!Gr(y))throw y;bt("LocalStore",`Failed to update sequence numbers for target ${n}: ${y}`)}a.os=a.os.remove(n),a._s.delete(u.target)})).apply(this,arguments)}function Pt(c,n,i){const a=sn(c);let u=Pn.min(),f=Ur();return a.persistence.runTransaction("Execute query","readwrite",y=>function(U,te,me){const Be=sn(U),It=Be._s.get(me);return void 0!==It?oe.resolve(Be.os.get(It)):Be.Ur.getTargetData(te,me)}(a,y,Ti(n)).next(N=>{if(N)return u=N.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(y,N.targetId).next(U=>{f=U})}).next(()=>a.ss.getDocumentsMatchingQuery(y,n,i?u:Pn.min(),i?f:Ur())).next(N=>(dr(a,Fa(n),N),{documents:N,Ts:f})))}function on(c,n){const i=sn(c),a=sn(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>a.ot(f,n).next(y=>y?y.target:null))}function Rn(c,n){const i=sn(c),a=i.us.get(n)||Pn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,Q(a,-1),Number.MAX_SAFE_INTEGER)).then(u=>(dr(i,n,u),u))}function dr(c,n,i){let a=c.us.get(n)||Pn.min();i.forEach((u,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),c.us.set(n,a)}function fi(){return(fi=(0,we.A)(function*(c,n,i,a){const u=sn(c);let f=Ur(),y=ls();for(const te of i){const me=n.Es(te.metadata.name);te.document&&(f=f.add(me));const Be=n.ds(te);Be.setReadTime(n.As(te.metadata.readTime)),y=y.insert(me,Be)}const N=u.cs.newChangeBuffer({trackRemovals:!0}),U=yield M(u,(me=a,Ti(gs(ir.fromString(`__bundle__/docs/${me}`)))));var me;return u.persistence.runTransaction("Apply bundle documents","readwrite",te=>p(te,N,y).next(me=>(N.apply(te),me)).next(me=>u.Ur.removeMatchingKeysForTargetId(te,U.targetId).next(()=>u.Ur.addMatchingKeys(te,f,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(te,me.Ps,me.Is)).next(()=>me.Ps)))})).apply(this,arguments)}function Da(c,n){return tl.apply(this,arguments)}function tl(){return(tl=(0,we.A)(function*(c,n,i=Ur()){const a=yield M(c,Ti(Si(n.bundledQuery))),u=sn(c);return u.persistence.runTransaction("Save named query","readwrite",f=>{const y=eo(n.readTime);if(a.snapshotVersion.compareTo(y)>=0)return u.Gr.saveNamedQuery(f,n);const N=a.withResumeToken(Di.EMPTY_BYTE_STRING,y);return u.os=u.os.insert(N.targetId,N),u.Ur.updateTargetData(f,N).next(()=>u.Ur.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,a.targetId)).next(()=>u.Gr.saveNamedQuery(f,n))})})).apply(this,arguments)}function Vc(c,n){return`firestore_clients_${c}_${n}`}function Jd(c,n,i){let a=`firestore_mutations_${c}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function ha(c,n){return`firestore_targets_${c}_${n}`}class mu{constructor(n,i,a,u){this.user=n,this.batchId=i,this.state=a,this.error=u}static Rs(n,i,a){const u=JSON.parse(a);let f,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(f=new Le(u.error.code,u.error.message))),y?new mu(n,i,u.state,f):(In("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Nl{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static Rs(n,i){const a=JSON.parse(i);let u,f="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(u=new Le(a.error.code,a.error.message))),f?new Nl(n,a.state,u):(In("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Jl{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const a=JSON.parse(i);let u="object"==typeof a&&a.activeTargetIds instanceof Array,f=oa();for(let y=0;u&&y<a.activeTargetIds.length;++y)u=ce(a.activeTargetIds[y]),f=f.add(a.activeTargetIds[y]);return u?new Jl(n,f):(In("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class _u{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new _u(i.clientId,i.onlineState):(In("SharedClientState",`Failed to parse online state: ${n}`),null)}}class vc{constructor(){this.activeTargetIds=oa()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class yc{constructor(n,i,a,u,f){this.window=n,this.ui=i,this.persistenceKey=a,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new mi(wn),this.started=!1,this.bs=[];const y=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=Vc(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new vc),this.Cs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,we.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const f=n.getItem(Vc(n.persistenceKey,u));if(f){const y=Jl.Rs(u,f);y&&(n.Ss=n.Ss.insert(y.clientId,y))}}n.Ns();const a=n.storage.getItem(n.xs);if(a){const u=n.Ls(a);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((a,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,a){this.qs(n,i,a),this.Qs(n)}addLocalQueryTarget(n,i=!0){let a="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(ha(this.persistenceKey,n));if(u){const f=Nl.Rs(n,u);f&&(a=f.state)}}return i&&this.Ks.fs(n),this.Ns(),a}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(ha(this.persistenceKey,n))}updateQueryState(n,i,a){this.$s(n,i,a)}handleUserChange(n,i,a){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,a.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return bt("SharedClientState","READ",n,i),i}setItem(n,i){bt("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){bt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const a=n;if(a.storageArea===this.storage){if(bt("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void In("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,we.A)(function*(){if(i.started){if(null!==a.key)if(i.Cs.test(a.key)){if(null==a.newValue){const u=i.Gs(a.key);return i.zs(u,null)}{const u=i.js(a.key,a.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(a.key)){if(null!==a.newValue){const u=i.Hs(a.key,a.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(a.key)){if(null!==a.newValue){const u=i.Ys(a.key,a.newValue);if(u)return i.Zs(u)}}else if(a.key===i.xs){if(null!==a.newValue){const u=i.Ls(a.newValue);if(u)return i.Bs(u)}}else if(a.key===i.vs){const u=function(y){let N=Ae.oe;if(null!=y)try{const U=JSON.parse(y);zt("number"==typeof U),N=U}catch(U){In("SharedClientState","Failed to read sequence number from WebStorage",U)}return N}(a.newValue);u!==Ae.oe&&i.sequenceNumberHandler(u)}else if(a.key===i.Os){const u=i.Xs(a.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,a){const u=new mu(this.currentUser,n,i,a),f=Jd(this.persistenceKey,this.currentUser,n);this.setItem(f,u.Vs())}Qs(n){const i=Jd(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,a){const u=ha(this.persistenceKey,n),f=new Nl(n,i,a);this.setItem(u,f.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const a=this.Gs(n);return Jl.Rs(a,i)}Hs(n,i){const a=this.Fs.exec(n),u=Number(a[1]);return mu.Rs(new He(void 0!==a[2]?a[2]:null),u,i)}Ys(n,i){const a=this.Ms.exec(n),u=Number(a[1]);return Nl.Rs(u,i)}Ls(n){return _u.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,we.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);bt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const a=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),f=this.ks(a),y=[],N=[];return f.forEach(U=>{u.has(U)||y.push(U)}),u.forEach(U=>{f.has(U)||N.push(U)}),this.syncEngine.io(y,N).then(()=>{this.Ss=a})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=oa();return n.forEach((a,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Zd{constructor(){this.so=new vc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,a){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new vc,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class qh{_o(n){}shutdown(){}}class vu{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yu=null;function Qh(){return null===yu?yu=268435456+Math.round(2147483648*Math.random()):yu++,"0x"+yu.toString(16)}const $_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yh{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const ts="WebChannelConnection";class j_ extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,a,u,f,y){const N=Qh(),U=this.xo(i,a.toUriEncodedString());bt("RestConnection",`Sending RPC '${i}' ${N}:`,U,u);const te={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(te,f,y),this.No(i,U,te,u).then(me=>(bt("RestConnection",`Received RPC '${i}' ${N}: `,me),me),me=>{throw Ln("RestConnection",`RPC '${i}' ${N} failed with error: `,me,"url: ",U,"request:",u),me})}Lo(i,a,u,f,y,N){return this.Mo(i,a,u,f,y)}Oo(i,a,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+lt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((f,y)=>i[y]=f),u&&u.headers.forEach((f,y)=>i[y]=f)}xo(i,a){return`${this.Do}/v1/${a}:${$_[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,a,u){const f=Qh();return new Promise((y,N)=>{const U=new Vt;U.setWithCredentials(!0),U.listenOnce(De.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case _e.NO_ERROR:const me=U.getResponseJson();bt(ts,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(me)),y(me);break;case _e.TIMEOUT:bt(ts,`RPC '${n}' ${f} timed out`),N(new Le(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case _e.HTTP_ERROR:const Be=U.getStatus();if(bt(ts,`RPC '${n}' ${f} failed with status:`,Be,"response text:",U.getResponseText()),Be>0){let It=U.getResponseJson();Array.isArray(It)&&(It=It[0]);const nn=null==It?void 0:It.error;if(nn&&nn.status&&nn.message){const Cn=function(Vn){const gr=Vn.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(gr)>=0?gr:Fe.UNKNOWN}(nn.status);N(new Le(Cn,nn.message))}else N(new Le(Fe.UNKNOWN,"Server responded with status "+U.getStatus()))}else N(new Le(Fe.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{bt(ts,`RPC '${n}' ${f} completed.`)}});const te=JSON.stringify(u);bt(ts,`RPC '${n}' ${f} sending request:`,u),U.send(i,"POST",te,a,15)})}Bo(n,i,a){const u=Qh(),f=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],y=Ke(),N=Oe(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},te=this.longPollingOptions.timeoutSeconds;void 0!==te&&(U.longPollingTimeout=Math.round(1e3*te)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,a),U.encodeInitMessageHeaders=!0;const me=f.join("");bt(ts,`Creating RPC '${n}' stream ${u}: ${me}`,U);const Be=y.createWebChannel(me,U);let It=!1,nn=!1;const Cn=new Yh({Io:Vn=>{nn?bt(ts,`Not sending because RPC '${n}' stream ${u} is closed:`,Vn):(It||(bt(ts,`Opening RPC '${n}' stream ${u} transport.`),Be.open(),It=!0),bt(ts,`RPC '${n}' stream ${u} sending:`,Vn),Be.send(Vn))},To:()=>Be.close()}),zn=(Vn,gr,Mr)=>{Vn.listen(gr,vr=>{try{Mr(vr)}catch(Lr){setTimeout(()=>{throw Lr},0)}})};return zn(Be,We.EventType.OPEN,()=>{nn||(bt(ts,`RPC '${n}' stream ${u} transport opened.`),Cn.yo())}),zn(Be,We.EventType.CLOSE,()=>{nn||(nn=!0,bt(ts,`RPC '${n}' stream ${u} transport closed`),Cn.So())}),zn(Be,We.EventType.ERROR,Vn=>{nn||(nn=!0,Ln(ts,`RPC '${n}' stream ${u} transport errored:`,Vn),Cn.So(new Le(Fe.UNAVAILABLE,"The operation could not be completed")))}),zn(Be,We.EventType.MESSAGE,Vn=>{var gr;if(!nn){const Mr=Vn.data[0];zt(!!Mr);const Lr=Mr.error||(null===(gr=Mr[0])||void 0===gr?void 0:gr.error);if(Lr){bt(ts,`RPC '${n}' stream ${u} received error:`,Lr);const Bi=Lr.status;let Yr=function(kt){const Gt=Br[kt];if(void 0!==Gt)return kr(Gt)}(Bi),jt=Lr.message;void 0===Yr&&(Yr=Fe.INTERNAL,jt="Unknown error status: "+Bi+" with message "+Lr.message),nn=!0,Cn.So(new Le(Yr,jt)),Be.close()}else bt(ts,`RPC '${n}' stream ${u} received:`,Mr),Cn.bo(Mr)}}),zn(N,se.STAT_EVENT,Vn=>{Vn.stat===Se.PROXY?bt(ts,`RPC '${n}' stream ${u} detected buffering proxy`):Vn.stat===Se.NOPROXY&&bt(ts,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Cn.wo()},0),Cn}}function Zf(){return typeof window<"u"?window:null}function eh(){return typeof document<"u"?document:null}function Zl(c){return new Hl(c,!0)}class Uc{constructor(n,i,a=1e3,u=1.5,f=6e4){this.ui=n,this.timerId=i,this.ko=a,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-a);u>0&&bt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ys{constructor(n,i,a,u,f,y,N,U){this.ui=n,this.Ho=a,this.Jo=u,this.connection=f,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=N,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Uc(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,we.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,we.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var a=this;return(0,we.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==n?a.t_.reset():i&&i.code===Fe.RESOURCE_EXHAUSTED?(In(i.toString()),In("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):i&&i.code===Fe.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.Yo===i&&this.P_(a,u)},a=>{n(()=>{const u=new Le(Fe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(u)})})}P_(n,i){const a=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{a(()=>this.I_(u))}),this.stream.onMessage(u=>{a(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,we.A)(function*(){n.state=0,n.start()}))}I_(n){return bt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H_ extends ys{constructor(n,i,a,u,f,y){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,y),this.serializer=f}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function x(c,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(te=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===te?1:"REMOVE"===te?2:"CURRENT"===te?3:"RESET"===te?4:en(),u=n.targetChange.targetIds||[],f=function(te,me){return te.useProto3Json?(zt(void 0===me||"string"==typeof me),Di.fromBase64String(me||"")):(zt(void 0===me||me instanceof Buffer||me instanceof Uint8Array),Di.fromUint8Array(me||new Uint8Array))}(c,n.targetChange.resumeToken),y=n.targetChange.cause,N=y&&function(te){const me=void 0===te.code?Fe.UNKNOWN:kr(te.code);return new Le(me,te.message||"")}(y);i=new Ys(a,u,f,N||null)}else if("documentChange"in n){const a=n.documentChange,u=$s(c,a.document.name),f=eo(a.document.updateTime),y=a.document.createTime?eo(a.document.createTime):Pn.min(),N=new Ro({mapValue:{fields:a.document.fields}}),U=Or.newFoundDocument(u,f,y,N);i=new ca(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in n){const a=n.documentDelete,u=$s(c,a.document),f=a.readTime?eo(a.readTime):Pn.min(),y=Or.newNoDocument(u,f);i=new ca([],a.removedTargetIds||[],y.key,y)}else if("documentRemove"in n){const a=n.documentRemove,u=$s(c,a.document);i=new ca([],a.removedTargetIds||[],u,null)}else{if(!("filter"in n))return en();{const a=n.filter,{count:u=0,unchangedNames:f}=a,y=new qs(u,f);i=new so(a.targetId,y)}}var te;return i}(this.serializer,n),a=function(f){if(!("targetChange"in f))return Pn.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?Pn.min():y.readTime?eo(y.readTime):Pn.min()}(n);return this.listener.d_(i,a)}A_(n){const i={};i.database=Sc(this.serializer),i.addTarget=function(f,y){let N;const U=y.target;if(N=cr(U)?{documents:ge(f,U)}:{query:Te(f,U)._t},N.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){N.resumeToken=ba(f,y.resumeToken);const te=Eo(f,y.expectedCount);null!==te&&(N.expectedCount=te)}else if(y.snapshotVersion.compareTo(Pn.min())>0){N.readTime=ao(f,y.snapshotVersion.toTimestamp());const te=Eo(f,y.expectedCount);null!==te&&(N.expectedCount=te)}return N}(this.serializer,n);const a=function Wt(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.a_(i)}R_(n){const i={};i.database=Sc(this.serializer),i.removeTarget=n,this.a_(i)}}class Lg extends ys{constructor(n,i,a,u,f,y){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,y),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return zt(!!n.streamToken),this.lastStreamToken=n.streamToken,zt(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){zt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function j(c,n){return c&&c.length>0?(zt(void 0!==n),c.map(i=>function(u,f){let y=eo(u.updateTime?u.updateTime:f);return y.isEqual(Pn.min())&&(y=eo(f)),new X(y,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=eo(n.commitTime);return this.listener.g_(a,i)}p_(){const n={};n.database=Sc(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>B(this.serializer,a))};this.a_(i)}}class ep extends class{}{constructor(n,i,a,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Le(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.Mo(n,Ca(i,a),u,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Le(Fe.UNKNOWN,f.toString())})}Lo(n,i,a,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,N])=>this.connection.Lo(n,Ca(i,a),u,y,N,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Le(Fe.UNKNOWN,y.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class G_{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(In(i),this.D_=!1):bt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Vg{constructor(n,i,a,u,f){var y=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(N=>{a.enqueueAndForget((0,we.A)(function*(){var U;b(y)&&(bt("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,we.A)(function*(me){const Be=sn(me);Be.L_.add(4),yield Iu(Be),Be.q_.set("Unknown"),Be.L_.delete(4),yield Bc(Be)}),function te(me){return U.apply(this,arguments)})(y))}))}),this.q_=new G_(a,u)}}function Bc(c){return tp.apply(this,arguments)}function tp(){return(tp=(0,we.A)(function*(c){if(b(c))for(const n of c.B_)yield n(!0)})).apply(this,arguments)}function Iu(c){return th.apply(this,arguments)}function th(){return(th=(0,we.A)(function*(c){for(const n of c.B_)yield n(!1)})).apply(this,arguments)}function Eu(c,n){const i=sn(c);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),m(i)?Zh(i):Cu(i).r_()&&np(i,n))}function bu(c,n){const i=sn(c),a=Cu(i);i.N_.delete(n),a.r_()&&Jh(i,n),0===i.N_.size&&(a.r_()?a.o_():b(i)&&i.q_.set("Unknown"))}function np(c,n){if(c.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Pn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}Cu(c).A_(n)}function Jh(c,n){c.Q_.xe(n),Cu(c).R_(n)}function Zh(c){c.Q_=new Dc({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>c.N_.get(n)||null,tt:()=>c.datastore.serializer.databaseId}),Cu(c).start(),c.q_.v_()}function m(c){return b(c)&&!Cu(c).n_()&&c.N_.size>0}function b(c){return 0===sn(c).L_.size}function D(c){c.Q_=void 0}function C(c){return k.apply(this,arguments)}function k(){return(k=(0,we.A)(function*(c){c.q_.set("Online")})).apply(this,arguments)}function Y(c){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,we.A)(function*(c){c.N_.forEach((n,i)=>{np(c,n)})})).apply(this,arguments)}function Dt(c,n){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,we.A)(function*(c,n){D(c),m(c)?(c.q_.M_(n),Zh(c)):c.q_.set("Unknown")})).apply(this,arguments)}function cn(c,n,i){return hr.apply(this,arguments)}function hr(){return hr=(0,we.A)(function*(c,n,i){if(c.q_.set("Online"),n instanceof Ys&&2===n.state&&n.cause)try{yield(a=(0,we.A)(function*(f,y){const N=y.cause;for(const U of y.targetIds)f.N_.has(U)&&(yield f.remoteSyncer.rejectListen(U,N),f.N_.delete(U),f.Q_.removeTarget(U))}),function u(f,y){return a.apply(this,arguments)})(c,n)}catch(a){bt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield bi(c,a)}else if(n instanceof ca?c.Q_.Ke(n):n instanceof so?c.Q_.He(n):c.Q_.We(n),!i.isEqual(Pn.min()))try{const a=yield Xh(c.localStore);i.compareTo(a)>=0&&(yield function(f,y){const N=f.Q_.rt(y);return N.targetChanges.forEach((U,te)=>{if(U.resumeToken.approximateByteSize()>0){const me=f.N_.get(te);me&&f.N_.set(te,me.withResumeToken(U.resumeToken,y))}}),N.targetMismatches.forEach((U,te)=>{const me=f.N_.get(U);if(!me)return;f.N_.set(U,me.withResumeToken(Di.EMPTY_BYTE_STRING,me.snapshotVersion)),Jh(f,U);const Be=new Js(me.target,U,te,me.sequenceNumber);np(f,Be)}),f.remoteSyncer.applyRemoteEvent(N)}(c,i))}catch(a){bt("RemoteStore","Failed to raise snapshot:",a),yield bi(c,a)}var a}),hr.apply(this,arguments)}function bi(c,n,i){return pi.apply(this,arguments)}function pi(){return(pi=(0,we.A)(function*(c,n,i){if(!Gr(n))throw n;c.L_.add(1),yield Iu(c),c.q_.set("Offline"),i||(i=()=>Xh(c.localStore)),c.asyncQueue.enqueueRetryable((0,we.A)(function*(){bt("RemoteStore","Retrying IndexedDB access"),yield i(),c.L_.delete(1),yield Bc(c)}))})).apply(this,arguments)}function yi(c,n){return n().catch(i=>bi(c,i,n))}function qr(c){return wi.apply(this,arguments)}function wi(){return(wi=(0,we.A)(function*(c){const n=sn(c),i=Au(n);let a=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;wr(n);)try{const u=yield _(n.localStore,a);if(null===u){0===n.O_.length&&i.o_();break}a=u.batchId,oi(n,u)}catch(u){yield bi(n,u)}zo(n)&&Ci(n)})).apply(this,arguments)}function wr(c){return b(c)&&c.O_.length<10}function oi(c,n){c.O_.push(n);const i=Au(c);i.r_()&&i.V_&&i.m_(n.mutations)}function zo(c){return b(c)&&!Au(c).n_()&&c.O_.length>0}function Ci(c){Au(c).start()}function Oi(c){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,we.A)(function*(c){Au(c).p_()})).apply(this,arguments)}function Wo(c){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,we.A)(function*(c){const n=Au(c);for(const i of c.O_)n.m_(i.mutations)})).apply(this,arguments)}function Ol(c,n,i){return ec.apply(this,arguments)}function ec(){return(ec=(0,we.A)(function*(c,n,i){const a=c.O_.shift(),u=Mo.from(a,n,i);yield yi(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield qr(c)})).apply(this,arguments)}function z_(c,n){return Il.apply(this,arguments)}function Il(){return Il=(0,we.A)(function*(c,n){var i;n&&Au(c).V_&&(yield(i=(0,we.A)(function*(u,f){if(cs(N=f.code)&&N!==Fe.ABORTED){const y=u.O_.shift();Au(u).s_(),yield yi(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,f)),yield qr(u)}var N}),function a(u,f){return i.apply(this,arguments)})(c,n)),zo(c)&&Ci(c)}),Il.apply(this,arguments)}function $c(c,n){return ef.apply(this,arguments)}function ef(){return(ef=(0,we.A)(function*(c,n){const i=sn(c);i.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const a=b(i);i.L_.add(3),yield Iu(i),a&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield Bc(i)})).apply(this,arguments)}function fo(c,n){return nh.apply(this,arguments)}function nh(){return(nh=(0,we.A)(function*(c,n){const i=sn(c);n?(i.L_.delete(2),yield Bc(i)):n||(i.L_.add(2),yield Iu(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Cu(c){return c.K_||(c.K_=function(i,a,u){const f=sn(i);return f.w_(),new H_(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Eo:C.bind(null,c),Ro:Y.bind(null,c),mo:Dt.bind(null,c),d_:cn.bind(null,c)}),c.B_.push(function(){var n=(0,we.A)(function*(i){i?(c.K_.s_(),m(c)?Zh(c):c.q_.set("Unknown")):(yield c.K_.stop(),D(c))});return function(i){return n.apply(this,arguments)}}())),c.K_}function Au(c){return c.U_||(c.U_=function(i,a,u){const f=sn(i);return f.w_(),new Lg(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Oi.bind(null,c),mo:z_.bind(null,c),f_:Wo.bind(null,c),g_:Ol.bind(null,c)}),c.B_.push(function(){var n=(0,we.A)(function*(i){i?(c.U_.s_(),yield qr(c)):(yield c.U_.stop(),c.O_.length>0&&(bt("RemoteStore",`Stopping write stream with ${c.O_.length} pending writes`),c.O_=[]))});return function(i){return n.apply(this,arguments)}}())),c.U_}class Ug{constructor(n,i,a,u,f){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=f,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,a,u,f){const y=Date.now()+a,N=new Ug(n,i,y,u,f);return N.start(a),N}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(Fe.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tu(c,n){if(In("AsyncQueue",`${n}: ${c}`),Gr(c))return new Le(Fe.UNAVAILABLE,`${n}: ${c}`);throw c}class md{constructor(n){this.comparator=n?(i,a)=>n(i,a)||En.comparator(i.key,a.key):(i,a)=>En.comparator(i.key,a.key),this.keyedMap=ia(),this.sortedSet=new mi(this.comparator)}static emptySet(n){return new md(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof md)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new md;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class Bg{constructor(){this.W_=new mi(En.comparator)}track(n){const i=n.doc.key,a=this.W_.get(i);a?0!==n.type&&3===a.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==a.type?this.W_=this.W_.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.W_=this.W_.remove(i):1===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):en():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,a)=>{n.push(a)}),n}}class wu{constructor(n,i,a,u,f,y,N,U,te){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=N,this.excludesMetadataChanges=U,this.hasCachedResults=te}static fromInitialDocuments(n,i,a,u,f){const y=[];return i.forEach(N=>{y.push({type:0,doc:N})}),new wu(n,i,md.emptySet(i),y,a,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ra(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}class E0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class b0{constructor(){this.queries=$g(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,a){const u=sn(i),f=u.queries;u.queries=$g(),f.forEach((y,N)=>{for(const U of N.j_)U.onError(a)})}(this,new Le(Fe.ABORTED,"Firestore shutting down"))}}function $g(){return new Fo(c=>ms(c),ra)}function jg(c,n){return tc.apply(this,arguments)}function tc(){return(tc=(0,we.A)(function*(c,n){const i=sn(c);let a=3;const u=n.query;let f=i.queries.get(u);f?!f.H_()&&n.J_()&&(a=2):(f=new E0,a=n.J_()?0:1);try{switch(a){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(y){const N=Tu(y,`Initialization of query '${Fs(n.query)}' failed`);return void n.onError(N)}i.queries.set(u,f),f.j_.push(n),n.Z_(i.onlineState),f.z_&&n.X_(f.z_)&&W_(i)})).apply(this,arguments)}function Hg(c,n){return rp.apply(this,arguments)}function rp(){return(rp=(0,we.A)(function*(c,n){const i=sn(c),a=n.query;let u=3;const f=i.queries.get(a);if(f){const y=f.j_.indexOf(n);y>=0&&(f.j_.splice(y,1),0===f.j_.length?u=n.J_()?0:1:!f.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function nb(c,n){const i=sn(c);let a=!1;for(const u of n){const y=i.queries.get(u.query);if(y){for(const N of y.j_)N.X_(u)&&(a=!0);y.z_=u}}a&&W_(i)}function rb(c,n,i){const a=sn(c),u=a.queries.get(n);if(u)for(const f of u.j_)f.onError(i);a.queries.delete(n)}function W_(c){c.Y_.forEach(n=>{n.next()})}var K_,C0;(C0=K_||(K_={})).ea="default",C0.Cache="cache";class Gg{constructor(n,i,a){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(n){if(!this.options.includeMetadataChanges){const a=[];for(const u of n.docChanges)3!==u.type&&a.push(u);n=new wu(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=wu.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==K_.Cache}}class rh{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class ih{constructor(n){this.serializer=n}Es(n){return $s(this.serializer,n)}ds(n){return n.metadata.exists?Rc(this.serializer,n.document,!1):Or.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return eo(n)}}class X_{constructor(n,i,a){this.ca=n,this.localStore=i,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=q_(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const a=ir.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,a=new ih(this.serializer);for(const u of n)if(u.metadata.queries){const f=a.Es(u.metadata.name);for(const y of u.metadata.queries){const N=(i.get(y)||Ur()).add(f);i.set(y,N)}}return i}complete(){var n=this;return(0,we.A)(function*(){const i=yield function Cr(c,n,i,a){return fi.apply(this,arguments)}(n.localStore,new ih(n.serializer),n.documents,n.ca.id),a=n.ha(n.documents);for(const u of n.queries)yield Da(n.localStore,u,a.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function q_(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class ip{constructor(n){this.key=n}}class oh{constructor(n){this.key=n}}class Q_{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ur(),this.mutatedKeys=Ur(),this.Aa=wc(n),this.Ra=new md(this.Aa)}get Va(){return this.Ta}ma(n,i){const a=i?i.fa:new Bg,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,y=u,N=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,te="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((me,Be)=>{const It=u.get(me),nn=sl(this.query,Be)?Be:null,Cn=!!It&&this.mutatedKeys.has(It.key),zn=!!nn&&(nn.hasLocalMutations||this.mutatedKeys.has(nn.key)&&nn.hasCommittedMutations);let Vn=!1;It&&nn?It.data.isEqual(nn.data)?Cn!==zn&&(a.track({type:3,doc:nn}),Vn=!0):this.ga(It,nn)||(a.track({type:2,doc:nn}),Vn=!0,(U&&this.Aa(nn,U)>0||te&&this.Aa(nn,te)<0)&&(N=!0)):!It&&nn?(a.track({type:0,doc:nn}),Vn=!0):It&&!nn&&(a.track({type:1,doc:It}),Vn=!0,(U||te)&&(N=!0)),Vn&&(nn?(y=y.add(nn),f=zn?f.add(me):f.delete(me)):(y=y.delete(me),f=f.delete(me)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const me="F"===this.query.limitType?y.last():y.first();y=y.delete(me.key),f=f.delete(me.key),a.track({type:1,doc:me})}return{Ra:y,fa:a,ns:N,mutatedKeys:f}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a,u){const f=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const y=n.fa.G_();y.sort((me,Be)=>function(nn,Cn){const zn=Vn=>{switch(Vn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return zn(nn)-zn(Cn)}(me.type,Be.type)||this.Aa(me.doc,Be.doc)),this.pa(a),u=null!=u&&u;const N=i&&!u?this.ya():[],U=0===this.da.size&&this.current&&!u?1:0,te=U!==this.Ea;return this.Ea=U,0!==y.length||te?{snapshot:new wu(this.query,n.Ra,f,y,n.mutatedKeys,0===U,te,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:N}:{wa:N}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Bg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=Ur(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const i=[];return n.forEach(a=>{this.da.has(a)||i.push(new oh(a))}),this.da.forEach(a=>{n.has(a)||i.push(new ip(a))}),i}ba(n){this.Ta=n.Ts,this.da=Ur();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return wu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class zg{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class Y_{constructor(n){this.key=n,this.va=!1}}class tf{constructor(n,i,a,u,f,y){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.Ca={},this.Fa=new Fo(N=>ms(N),ra),this.Ma=new Map,this.xa=new Set,this.Oa=new mi(En.comparator),this.Na=new Map,this.La=new es,this.Ba={},this.ka=new Map,this.qa=pc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function nf(c,n){return op.apply(this,arguments)}function op(){return(op=(0,we.A)(function*(c,n,i=!0){const a=_p(c);let u;const f=a.Fa.get(n);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield J_(a,n,i,!0),u})).apply(this,arguments)}function Wg(c,n){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,we.A)(function*(c,n){const i=_p(c);yield J_(i,n,!0,!1)})).apply(this,arguments)}function J_(c,n,i,a){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,we.A)(function*(c,n,i,a){const u=yield M(c.localStore,Ti(n)),f=u.targetId,y=c.sharedClientState.addLocalQueryTarget(f,i);let N;return a&&(N=yield sp(c,n,f,"current"===y,u.resumeToken)),c.isPrimaryClient&&i&&Eu(c.remoteStore,u),N})).apply(this,arguments)}function sp(c,n,i,a,u){return rf.apply(this,arguments)}function rf(){return rf=(0,we.A)(function*(c,n,i,a,u){c.Ka=(Be,It,nn)=>{return(Cn=(0,we.A)(function*(Vn,gr,Mr,vr){let Lr=gr.view.ma(Mr);Lr.ns&&(Lr=yield Pt(Vn.localStore,gr.query,!1).then(({documents:_t})=>gr.view.ma(_t,Lr)));const Bi=vr&&vr.targetChanges.get(gr.targetId),Yr=vr&&null!=vr.targetMismatches.get(gr.targetId),jt=gr.view.applyChanges(Lr,Vn.isPrimaryClient,Bi,Yr);return fp(Vn,gr.targetId,jt.wa),jt.snapshot}),function zn(Vn,gr,Mr,vr){return Cn.apply(this,arguments)})(c,Be,It,nn);var Cn};const f=yield Pt(c.localStore,n,!0),y=new Q_(n,f.Ts),N=y.ma(f.documents),U=Qs.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==c.onlineState,u),te=y.applyChanges(N,c.isPrimaryClient,U);fp(c,i,te.wa);const me=new zg(n,i,y);return c.Fa.set(n,me),c.Ma.has(i)?c.Ma.get(i).push(n):c.Ma.set(i,[n]),te.snapshot}),rf.apply(this,arguments)}function A0(c,n,i){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,we.A)(function*(c,n,i){const a=sn(c),u=a.Fa.get(n),f=a.Ma.get(u.targetId);if(f.length>1)return a.Ma.set(u.targetId,f.filter(y=>!ra(y,n))),void a.Fa.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||(yield re(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&bu(a.remoteStore,u.targetId),sh(a,u.targetId)}).catch(Ve))):(sh(a,u.targetId),yield re(a.localStore,u.targetId,!0))})).apply(this,arguments)}function qg(c,n){return ap.apply(this,arguments)}function ap(){return(ap=(0,we.A)(function*(c,n){const i=sn(c),a=i.Fa.get(n),u=i.Ma.get(a.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),bu(i.remoteStore,a.targetId))})).apply(this,arguments)}function Z_(){return(Z_=(0,we.A)(function*(c,n,i){const a=vp(c);try{const u=yield function(y,N){const U=sn(y),te=Ir.now(),me=N.reduce((nn,Cn)=>nn.add(Cn.key),Ur());let Be,It;return U.persistence.runTransaction("Locally write mutations","readwrite",nn=>{let Cn=ls(),zn=Ur();return U.cs.getEntries(nn,me).next(Vn=>{Cn=Vn,Cn.forEach((gr,Mr)=>{Mr.isValidDocument()||(zn=zn.add(gr))})}).next(()=>U.localDocuments.getOverlayedDocuments(nn,Cn)).next(Vn=>{Be=Vn;const gr=[];for(const Mr of N){const vr=vi(Mr,Be.get(Mr.key).overlayedDocument);null!=vr&&gr.push(new li(Mr.key,vr,Cs(vr.value.mapValue),ue.exists(!0)))}return U.mutationQueue.addMutationBatch(nn,te,gr,N)}).next(Vn=>{It=Vn;const gr=Vn.applyToLocalDocumentSet(Be,zn);return U.documentOverlayCache.saveOverlays(nn,Vn.batchId,gr)})}).then(()=>({batchId:It.batchId,changes:Ls(Be)}))}(a.localStore,n);a.sharedClientState.addPendingMutation(u.batchId),function(y,N,U){let te=y.Ba[y.currentUser.toKey()];te||(te=new mi(wn)),te=te.insert(N,U),y.Ba[y.currentUser.toKey()]=te}(a,u.batchId,i),yield kl(a,u.changes),yield qr(a.remoteStore)}catch(u){const f=Tu(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function T0(c,n){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,we.A)(function*(c,n){const i=sn(c);try{const a=yield function w(c,n){const i=sn(c),a=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const y=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const N=[];n.targetChanges.forEach((me,Be)=>{const It=u.get(Be);if(!It)return;N.push(i.Ur.removeMatchingKeys(f,me.removedDocuments,Be).next(()=>i.Ur.addMatchingKeys(f,me.addedDocuments,Be)));let nn=It.withSequenceNumber(f.currentSequenceNumber);var zn,Vn,gr;null!==n.targetMismatches.get(Be)?nn=nn.withResumeToken(Di.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):me.resumeToken.approximateByteSize()>0&&(nn=nn.withResumeToken(me.resumeToken,a)),u=u.insert(Be,nn),Vn=nn,gr=me,(0===(zn=It).resumeToken.approximateByteSize()||Vn.snapshotVersion.toMicroseconds()-zn.snapshotVersion.toMicroseconds()>=3e8||gr.addedDocuments.size+gr.modifiedDocuments.size+gr.removedDocuments.size>0)&&N.push(i.Ur.updateTargetData(f,nn))});let U=ls(),te=Ur();if(n.documentUpdates.forEach(me=>{n.resolvedLimboDocuments.has(me)&&N.push(i.persistence.referenceDelegate.updateLimboDocument(f,me))}),N.push(p(f,y,n.documentUpdates).next(me=>{U=me.Ps,te=me.Is})),!a.isEqual(Pn.min())){const me=i.Ur.getLastRemoteSnapshotVersion(f).next(Be=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,a));N.push(me)}return oe.waitFor(N).next(()=>y.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,U,te)).next(()=>U)}).then(f=>(i.os=u,f))}(i.localStore,n);n.targetChanges.forEach((u,f)=>{const y=i.Na.get(f);y&&(zt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.va=!0:u.modifiedDocuments.size>0?zt(y.va):u.removedDocuments.size>0&&(zt(y.va),y.va=!1))}),yield kl(i,a,n)}catch(a){yield Ve(a)}})).apply(this,arguments)}function _d(c,n,i){const a=sn(c);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const u=[];a.Fa.forEach((f,y)=>{const N=y.view.Z_(n);N.snapshot&&u.push(N.snapshot)}),function(y,N){const U=sn(y);U.onlineState=N;let te=!1;U.queries.forEach((me,Be)=>{for(const It of Be.j_)It.Z_(N)&&(te=!0)}),te&&W_(U)}(a.eventManager,n),u.length&&a.Ca.d_(u),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function ev(c,n,i){return cp.apply(this,arguments)}function cp(){return(cp=(0,we.A)(function*(c,n,i){const a=sn(c);a.sharedClientState.updateQueryState(n,"rejected",i);const u=a.Na.get(n),f=u&&u.key;if(f){let y=new mi(En.comparator);y=y.insert(f,Or.newNoDocument(f,Pn.min()));const N=Ur().add(f),U=new la(Pn.min(),new Map,new mi(wn),y,N);yield T0(a,U),a.Oa=a.Oa.remove(f),a.Na.delete(n),pp(a)}else yield re(a.localStore,n,!1).then(()=>sh(a,n,i)).catch(Ve)})).apply(this,arguments)}function w0(c,n){return up.apply(this,arguments)}function up(){return(up=(0,we.A)(function*(c,n){const i=sn(c),a=n.batch.batchId;try{const u=yield function Jf(c,n){const i=sn(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=n.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(N,U,te,me){const Be=te.batch,It=Be.keys();let nn=oe.resolve();return It.forEach(Cn=>{nn=nn.next(()=>me.getEntry(U,Cn)).next(zn=>{const Vn=te.docVersions.get(Cn);zt(null!==Vn),zn.version.compareTo(Vn)<0&&(Be.applyToRemoteDocument(zn,te),zn.isValidDocument()&&(zn.setReadTime(te.commitVersion),me.addEntry(zn)))})}),nn.next(()=>N.mutationQueue.removeMutationBatch(U,Be))}(i,a,n,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(N){let U=Ur();for(let te=0;te<N.mutationResults.length;++te)N.mutationResults[te].transformResults.length>0&&(U=U.add(N.batch.mutations[te].key));return U}(n))).next(()=>i.localDocuments.getDocuments(a,u))})}(i.localStore,n);Yg(i,a,null),Qg(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield kl(i,u)}catch(u){yield Ve(u)}})).apply(this,arguments)}function D0(c,n,i){return dp.apply(this,arguments)}function dp(){return(dp=(0,we.A)(function*(c,n,i){const a=sn(c);try{const u=yield function(y,N){const U=sn(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let me;return U.mutationQueue.lookupMutationBatch(te,N).next(Be=>(zt(null!==Be),me=Be.keys(),U.mutationQueue.removeMutationBatch(te,Be))).next(()=>U.mutationQueue.performConsistencyCheck(te)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(te,me,N)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(te,me)).next(()=>U.localDocuments.getDocuments(te,me))})}(a.localStore,n);Yg(a,n,i),Qg(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield kl(a,u)}catch(u){yield Ve(u)}})).apply(this,arguments)}function hp(){return(hp=(0,we.A)(function*(c,n){const i=sn(c);b(i.remoteStore)||bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(y){const N=sn(y);return N.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>N.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===a)return void n.resolve();const u=i.ka.get(a)||[];u.push(n),i.ka.set(a,u)}catch(a){const u=Tu(a,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function Qg(c,n){(c.ka.get(n)||[]).forEach(i=>{i.resolve()}),c.ka.delete(n)}function Yg(c,n,i){const a=sn(c);let u=a.Ba[a.currentUser.toKey()];if(u){const f=u.get(n);f&&(i?f.reject(i):f.resolve(),u=u.remove(n)),a.Ba[a.currentUser.toKey()]=u}}function sh(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const a of c.Ma.get(n))c.Fa.delete(a),i&&c.Ca.$a(a,i);c.Ma.delete(n),c.isPrimaryClient&&c.La.gr(n).forEach(a=>{c.La.containsKey(a)||tv(c,a)})}function tv(c,n){c.xa.delete(n.path.canonicalString());const i=c.Oa.get(n);null!==i&&(bu(c.remoteStore,i),c.Oa=c.Oa.remove(n),c.Na.delete(i),pp(c))}function fp(c,n,i){for(const a of i)a instanceof ip?(c.La.addReference(a.key,n),nv(c,a)):a instanceof oh?(bt("SyncEngine","Document no longer in limbo: "+a.key),c.La.removeReference(a.key,n),c.La.containsKey(a.key)||tv(c,a.key)):en()}function nv(c,n){const i=n.key,a=i.path.canonicalString();c.Oa.get(i)||c.xa.has(a)||(bt("SyncEngine","New document in limbo: "+i),c.xa.add(a),pp(c))}function pp(c){for(;c.xa.size>0&&c.Oa.size<c.maxConcurrentLimboResolutions;){const n=c.xa.values().next().value;c.xa.delete(n);const i=new En(ir.fromString(n)),a=c.qa.next();c.Na.set(a,new Y_(i)),c.Oa=c.Oa.insert(i,a),Eu(c.remoteStore,new Js(Ti(gs(i.path)),a,"TargetPurposeLimboResolution",Ae.oe))}}function kl(c,n,i){return gp.apply(this,arguments)}function gp(){return gp=(0,we.A)(function*(c,n,i){const a=sn(c),u=[],f=[],y=[];var N;a.Fa.isEmpty()||(a.Fa.forEach((N,U)=>{y.push(a.Ka(U,n,i).then(te=>{var me;if((te||i)&&a.isPrimaryClient){const Be=te?!te.fromCache:null===(me=null==i?void 0:i.targetChanges.get(U.targetId))||void 0===me?void 0:me.current;a.sharedClientState.updateQueryState(U.targetId,Be?"current":"not-current")}if(te){u.push(te);const Be=fu.Wi(U.targetId,te);f.push(Be)}}))}),yield Promise.all(y),a.Ca.d_(u),yield(N=(0,we.A)(function*(te,me){const Be=sn(te);try{yield Be.persistence.runTransaction("notifyLocalViewChanges","readwrite",It=>oe.forEach(me,nn=>oe.forEach(nn.$i,Cn=>Be.persistence.referenceDelegate.addReference(It,nn.targetId,Cn)).next(()=>oe.forEach(nn.Ui,Cn=>Be.persistence.referenceDelegate.removeReference(It,nn.targetId,Cn)))))}catch(It){if(!Gr(It))throw It;bt("LocalStore","Failed to update sequence numbers: "+It)}for(const It of me){const nn=It.targetId;if(!It.fromCache){const Cn=Be.os.get(nn),Vn=Cn.withLastLimboFreeSnapshotVersion(Cn.snapshotVersion);Be.os=Be.os.insert(nn,Vn)}}}),function U(te,me){return N.apply(this,arguments)})(a.localStore,f))}),gp.apply(this,arguments)}function rv(c,n){return mp.apply(this,arguments)}function mp(){return(mp=(0,we.A)(function*(c,n){const i=sn(c);if(!i.currentUser.isEqual(n)){bt("SyncEngine","User change. New user:",n.toKey());const a=yield gu(i.localStore,n);i.currentUser=n,(f=i).ka.forEach(N=>{N.forEach(U=>{U.reject(new Le(Fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield kl(i,a.hs)}var f})).apply(this,arguments)}function iv(c,n){const i=sn(c),a=i.Na.get(n);if(a&&a.va)return Ur().add(a.key);{let u=Ur();const f=i.Ma.get(n);if(!f)return u;for(const y of f){const N=i.Fa.get(y);u=u.unionWith(N.view.Va)}return u}}function R0(c,n){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,we.A)(function*(c,n){const i=sn(c),a=yield Pt(i.localStore,n.query,!0),u=n.view.ba(a);return i.isPrimaryClient&&fp(i,n.targetId,u.wa),u})).apply(this,arguments)}function M0(c,n){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,we.A)(function*(c,n){const i=sn(c);return Rn(i.localStore,n).then(a=>kl(i,a))})).apply(this,arguments)}function ov(c,n,i,a){return sv.apply(this,arguments)}function sv(){return(sv=(0,we.A)(function*(c,n,i,a){const u=sn(c),f=yield function(N,U){const te=sn(N),me=sn(te.mutationQueue);return te.persistence.runTransaction("Lookup mutation documents","readonly",Be=>me.Mn(Be,U).next(It=>It?te.localDocuments.getDocuments(Be,It):oe.resolve(null)))}(u.localStore,n);var U;null!==f?("pending"===i?yield qr(u.remoteStore):"acknowledged"===i||"rejected"===i?(Yg(u,n,a||null),Qg(u,n),U=n,sn(sn(u.localStore).mutationQueue).On(U)):en(),yield kl(u,f)):bt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function em(){return(em=(0,we.A)(function*(c,n){const i=sn(c);if(_p(i),vp(i),!0===n&&!0!==i.Qa){const a=i.sharedClientState.getAllActiveQueryTargets(),u=yield lv(i,a.toArray());i.Qa=!0,yield fo(i.remoteStore,!0);for(const f of u)Eu(i.remoteStore,f)}else if(!1===n&&!1!==i.Qa){const a=[];let u=Promise.resolve();i.Ma.forEach((f,y)=>{i.sharedClientState.isLocalQueryTarget(y)?a.push(y):u=u.then(()=>(sh(i,y),re(i.localStore,y,!0))),bu(i.remoteStore,y)}),yield u,yield lv(i,a),function(y){const N=sn(y);N.Na.forEach((U,te)=>{bu(N.remoteStore,te)}),N.La.pr(),N.Na=new Map,N.Oa=new mi(En.comparator)}(i),i.Qa=!1,yield fo(i.remoteStore,!1)}})).apply(this,arguments)}function lv(c,n,i){return cv.apply(this,arguments)}function cv(){return(cv=(0,we.A)(function*(c,n,i){const a=sn(c),u=[],f=[];for(const y of n){let N;const U=a.Ma.get(y);if(U&&0!==U.length){N=yield M(a.localStore,Ti(U[0]));for(const te of U){const me=a.Fa.get(te),Be=yield R0(a,me);Be.snapshot&&f.push(Be.snapshot)}}else{const te=yield on(a.localStore,y);N=yield M(a.localStore,te),yield sp(a,uv(te),y,!1,N.resumeToken)}u.push(N)}return a.Ca.d_(f),u})).apply(this,arguments)}function uv(c){return na(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function dv(c){return i=sn(c).localStore,sn(sn(i).persistence).Qi();var i}function tm(c,n,i,a){return nm.apply(this,arguments)}function nm(){return(nm=(0,we.A)(function*(c,n,i,a){const u=sn(c);if(u.Qa)return void bt("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(n);if(f&&f.length>0)switch(i){case"current":case"not-current":{const y=yield Rn(u.localStore,Fa(f[0])),N=la.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,Di.EMPTY_BYTE_STRING);yield kl(u,y,N);break}case"rejected":yield re(u.localStore,n,!0),sh(u,n,a);break;default:en()}})).apply(this,arguments)}function Du(c,n,i){return ah.apply(this,arguments)}function ah(){return(ah=(0,we.A)(function*(c,n,i){const a=_p(c);if(a.Qa){for(const u of n){if(a.Ma.has(u)&&a.sharedClientState.isActiveQueryTarget(u)){bt("SyncEngine","Adding an already active target "+u);continue}const f=yield on(a.localStore,u),y=yield M(a.localStore,f);yield sp(a,uv(f),y.targetId,!1,y.resumeToken),Eu(a.remoteStore,y)}for(const u of i)a.Ma.has(u)&&(yield re(a.localStore,u,!1).then(()=>{bu(a.remoteStore,u),sh(a,u)}).catch(Ve))}})).apply(this,arguments)}function _p(c){const n=sn(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=iv.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ev.bind(null,n),n.Ca.d_=nb.bind(null,n.eventManager),n.Ca.$a=rb.bind(null,n.eventManager),n}function vp(c){const n=sn(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=w0.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=D0.bind(null,n),n}let sf=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var a=this;return(0,we.A)(function*(){a.serializer=Zl(i.databaseInfo.databaseId),a.sharedClientState=a.Wa(i),a.persistence=a.Ga(i),yield a.persistence.start(),a.localStore=a.za(i),a.gcScheduler=a.ja(i,a.localStore),a.indexBackfillerScheduler=a.Ha(i,a.localStore)})()}ja(i,a){return null}Ha(i,a){return null}za(i){return Kh(this.persistence,new _c,i.initialUser,this.serializer)}Ga(i){return new Yd(Pl.Zr,this.serializer)}Wa(i){return new Zd}terminate(){var i=this;return(0,we.A)(function*(){var a,u;null===(a=i.gcScheduler)||void 0===a||a.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class rm extends sf{constructor(n,i,a){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,we.A)(function*(){yield i().call(a,n),yield a.Ja.initialize(a,n),yield vp(a.Ja.syncEngine),yield qr(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return Kh(this.persistence,new _c,n.initialUser,this.serializer)}ja(n,i){return new Hs(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const a=new Ye(i,this.persistence);return new Dr(n.asyncQueue,a)}Ga(n){const i=hu(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new Ql(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,Zf(),eh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new Zd}}class hv extends rm{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,we.A)(function*(){yield i().call(a,n);const u=a.Ja.syncEngine;a.sharedClientState instanceof yc&&(a.sharedClientState.syncEngine={no:ov.bind(null,u),ro:tm.bind(null,u),io:Du.bind(null,u),Qi:dv.bind(null,u),eo:M0.bind(null,u)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var f=(0,we.A)(function*(y){yield function av(c,n){return em.apply(this,arguments)}(a.Ja.syncEngine,y),a.gcScheduler&&(y&&!a.gcScheduler.started?a.gcScheduler.start():y||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(y&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():y||a.indexBackfillerScheduler.stop())});return function(y){return f.apply(this,arguments)}}())})()}Wa(n){const i=Zf();if(!yc.D(i))throw new Le(Fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=hu(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new yc(i,n.asyncQueue,a,n.clientId,n.initialUser)}}let lh=(()=>{class c{initialize(i,a){var u=this;return(0,we.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(a),u.remoteStore=u.createRemoteStore(a),u.eventManager=u.createEventManager(a),u.syncEngine=u.createSyncEngine(a,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>_d(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=rv.bind(null,u.syncEngine),yield fo(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new b0}createDatastore(i){const a=Zl(i.databaseInfo.databaseId),u=new j_(i.databaseInfo);return new ep(i.authCredentials,i.appCheckCredentials,u,a)}createRemoteStore(i){return u=this.localStore,f=this.datastore,y=i.asyncQueue,N=a=>_d(this.syncEngine,a,0),U=vu.D()?new vu:new qh,new Vg(u,f,y,N,U);var u,f,y,N,U}createSyncEngine(i,a){return function(f,y,N,U,te,me,Be){const It=new tf(f,y,N,U,te,me);return Be&&(It.Qa=!0),It}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,a)}terminate(){var i=this;return(0,we.A)(function*(){var a,u,f;yield(f=(0,we.A)(function*(N){const U=sn(N);bt("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield Iu(U),U.k_.shutdown(),U.q_.set("Unknown")}),function y(N){return f.apply(this,arguments)})(i.remoteStore),null===(a=i.datastore)||void 0===a||a.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();function P0(c,n=10240){let i=0;return{read:()=>(0,we.A)(function*(){if(i<c.byteLength){const a={value:c.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,we.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class im{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):In("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class Ip{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new Ut,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,we.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,we.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,we.A)(function*(){const i=yield n.nu();if(null===i)return null;const a=n.eu.decode(i),u=Number(a);isNaN(u)&&n.ru(`length string (${a}) is not valid number`);const f=yield n.iu(u);return new rh(JSON.parse(f),i.length+u)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,we.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}iu(n){var i=this;return(0,we.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const a=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,we.A)(function*(){const i=yield n.Xa.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class x0{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,we.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Le(Fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const a=yield(u=(0,we.A)(function*(y,N){const U=sn(y),te={documents:N.map(nn=>Ja(U.serializer,nn))},me=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,ir.emptyPath(),te,N.length),Be=new Map;me.forEach(nn=>{const Cn=function T(c,n){return"found"in n?function(a,u){zt(!!u.found);const f=$s(a,u.found.name),y=eo(u.found.updateTime),N=u.found.createTime?eo(u.found.createTime):Pn.min(),U=new Ro({mapValue:{fields:u.found.fields}});return Or.newFoundDocument(f,y,N,U)}(c,n):"missing"in n?function(a,u){zt(!!u.missing),zt(!!u.readTime);const f=$s(a,u.missing),y=eo(u.readTime);return Or.newNoDocument(f,y)}(c,n):en()}(U.serializer,nn);Be.set(Cn.key.toString(),Cn)});const It=[];return N.forEach(nn=>{const Cn=Be.get(nn.toString());zt(!!Cn),It.push(Cn)}),It}),function f(y,N){return u.apply(this,arguments)})(i.datastore,n);var u;return a.forEach(u=>i.recordVersion(u)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Nn(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,we.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,u)=>{const f=En.fromPath(u);n.mutations.push(new ur(f,n.precondition(f)))}),yield(a=(0,we.A)(function*(f,y){const N=sn(f),U={writes:y.map(te=>B(N.serializer,te))};yield N.Mo("Commit",N.serializer.databaseId,ir.emptyPath(),U)}),function u(f,y){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw en();i=Pn.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new Le(Fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Pn.min())?ue.exists(!1):ue.updateTime(i):ue.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Pn.min()))throw new Le(Fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ue.updateTime(i)}return ue.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class om{constructor(n,i,a,u,f){this.asyncQueue=n,this.datastore=i,this.options=a,this.updateFunction=u,this.deferred=f,this._u=a.maxAttempts,this.t_=new Uc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,we.A)(function*(){const i=new x0(n.datastore),a=n.cu(i);a&&a.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(f=>{n.lu(f)}))}).catch(u=>{n.lu(u)})}))}cu(n){try{const i=this.updateFunction(n);return!wt(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!cs(i)}return!1}}class sm{constructor(n,i,a,u,f){var y=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=He.UNAUTHENTICATED,this.clientId=Vr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,function(){var N=(0,we.A)(function*(U){bt("FirestoreClient","Received user=",U.uid),yield y.authCredentialListener(U),y.user=U});return function(U){return N.apply(this,arguments)}}()),this.appCheckCredentials.start(a,N=>(bt("FirestoreClient","Received new app check token=",N),this.appCheckCredentialListener(N,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(a){const u=Tu(a,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Su(c,n){return vd.apply(this,arguments)}function vd(){return vd=(0,we.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let a=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,we.A)(function*(f){a.isEqual(f)||(yield gu(n.localStore,f),a=f)});return function(f){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),vd.apply(this,arguments)}function af(c,n){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,we.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield yd(c);bt("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(a=>$c(n.remoteStore,a)),c.setAppCheckTokenChangeListener((a,u)=>$c(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function yd(c){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,we.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){bt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Su(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===Fe.FAILED_PRECONDITION||u.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;Ln("Error using user provided cache. Falling back to memory cache: "+n),yield Su(c,new sf)}}else bt("FirestoreClient","Using default OfflineComponentProvider"),yield Su(c,new sf);var u;return c._offlineComponents})).apply(this,arguments)}function ch(c){return Id.apply(this,arguments)}function Id(){return(Id=(0,we.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(bt("FirestoreClient","Using user provided OnlineComponentProvider"),yield af(c,c._uninitializedComponentsProvider._online)):(bt("FirestoreClient","Using default OnlineComponentProvider"),yield af(c,new lh))),c._onlineComponents})).apply(this,arguments)}function Ed(c){return yd(c).then(n=>n.persistence)}function jc(c){return yd(c).then(n=>n.localStore)}function N0(c){return ch(c).then(n=>n.remoteStore)}function lf(c){return ch(c).then(n=>n.syncEngine)}function dh(c){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,we.A)(function*(c){const n=yield ch(c),i=n.eventManager;return i.onListen=nf.bind(null,n.syncEngine),i.onUnlisten=A0.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=Wg.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=qg.bind(null,n.syncEngine),i})).apply(this,arguments)}function lm(c,n,i={}){const a=new Ut;return c.asyncQueue.enqueueAndForget((0,we.A)(function*(){return function(f,y,N,U,te){const me=new im({next:It=>{me.Za(),y.enqueueAndForget(()=>Hg(f,Be));const nn=It.docs.has(N);!nn&&It.fromCache?te.reject(new Le(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):nn&&It.fromCache&&U&&"server"===U.source?te.reject(new Le(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(It)},error:It=>te.reject(It)}),Be=new Gg(gs(N.path),me,{includeMetadataChanges:!0,_a:!0});return jg(f,Be)}(yield dh(c),c.asyncQueue,n,i,a)})),a.promise}function fv(c,n,i={}){const a=new Ut;return c.asyncQueue.enqueueAndForget((0,we.A)(function*(){return function(f,y,N,U,te){const me=new im({next:It=>{me.Za(),y.enqueueAndForget(()=>Hg(f,Be)),It.fromCache&&"server"===U.source?te.reject(new Le(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(It)},error:It=>te.reject(It)}),Be=new Gg(N,me,{includeMetadataChanges:!0,_a:!0});return jg(f,Be)}(yield dh(c),c.asyncQueue,n,i,a)})),a.promise}function gv(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const df=new Map;function hf(c,n,i){if(!i)throw new Le(Fe.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function um(c,n,i,a){if(!0===n&&!0===a)throw new Le(Fe.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)}function mv(c){if(!En.isDocumentKey(c))throw new Le(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function dm(c){if(En.isDocumentKey(c))throw new Le(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function hh(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(a=c).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof c?"a function":en()}function Fi(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Le(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hh(c);throw new Le(Fe.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}function Pu(c,n){if(n<=0)throw new Le(Fe.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${n}.`)}class hm{constructor(n){var i,a;if(void 0===n.host){if(void 0!==n.ssl)throw new Le(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Le(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}um("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gv(null!==(a=n.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Le(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Le(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Le(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class xu{constructor(n,i,a,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Le(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hm(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new tr;switch(a.type){case"firstParty":return new yr(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Le(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,we.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=df.get(i);a&&(bt("ComponentProvider","Removing Datastore"),df.delete(i),a.terminate())}(this),Promise.resolve()}}class ea{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new ea(this.firestore,n,this._query)}}class Bo{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Bo(this.firestore,n,this._key)}}class Fl extends ea{constructor(n,i,a){super(n,i,gs(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Bo(this.firestore,null,new En(n))}withConverter(n){return new Fl(this.firestore,n,this._path)}}function pm(c,n,...i){if(c=(0,ht.Ku)(c),hf("collection","path",n),c instanceof xu){const a=ir.fromString(n,...i);return dm(a),new Fl(c,null,a)}{if(!(c instanceof Bo||c instanceof Fl))throw new Le(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(ir.fromString(n,...i));return dm(a),new Fl(c.firestore,null,a)}}function fh(c,n,...i){if(c=(0,ht.Ku)(c),1===arguments.length&&(n=Vr.newId()),hf("doc","path",n),c instanceof xu){const a=ir.fromString(n,...i);return mv(a),new Bo(c,null,new En(a))}{if(!(c instanceof Bo||c instanceof Fl))throw new Le(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(ir.fromString(n,...i));return mv(a),new Bo(c.firestore,c instanceof Fl?c.converter:null,new En(a))}}function bd(c,n){return c=(0,ht.Ku)(c),n=(0,ht.Ku)(n),(c instanceof Bo||c instanceof Fl)&&(n instanceof Bo||n instanceof Fl)&&c.firestore===n.firestore&&c.path===n.path&&c.converter===n.converter}function gm(c,n){return c=(0,ht.Ku)(c),n=(0,ht.Ku)(n),c instanceof ea&&n instanceof ea&&c.firestore===n.firestore&&ra(c._query,n._query)&&c.converter===n.converter}class _v{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Uc(this,"async_queue_retry"),this.Vu=()=>{const a=eh();a&&bt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=n;const i=eh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=eh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new Ut;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,we.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!Gr(i))throw i;bt("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(a=>{throw this.Eu=a,this.du=!1,In("INTERNAL UNHANDLED ERROR: ",function(y){let N=y.message||"";return y.stack&&(N=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),N}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=i,i}enqueueAfterDelay(n,i,a){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const u=Ug.createAndSchedule(this,n,i,a,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&en()}verifyOperationInProgress(){}wu(){var n=this;return(0,we.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function vv(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(c)}class Cp{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ut,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class So extends xu{constructor(n,i,a,u){super(n,i,a,u),this.type="firestore",this._queue=new _v,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,we.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new _v(i),n._firestoreClient=void 0,yield i}})()}}function Ko(c){if(c._terminated)throw new Le(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||yv(c),c._firestoreClient}function yv(c){var n,i,a;const u=c._freezeSettings(),f=(U=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new an(c._databaseId,U,c._persistenceKey,(me=u).host,me.ssl,me.experimentalForceLongPolling,me.experimentalAutoDetectLongPolling,gv(me.experimentalLongPollingOptions),me.useFetchStreams));var U,me;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(a=u.localCache)||void 0===a)&&a._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new sm(c._authCredentials,c._appCheckCredentials,c._queue,f,c._componentsProvider&&function(N){const U=null==N?void 0:N._online.build();return{_offline:null==N?void 0:N._offline.build(U),_online:U}}(c._componentsProvider))}function _m(){return(_m=(0,we.A)(function*(c){Ln("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=c._freezeSettings();Iv(c,lh.provider,{build:i=>new hv(i,n.cacheSizeBytes)})})).apply(this,arguments)}function Iv(c,n,i){if((c=Fi(c,So))._firestoreClient||c._terminated)throw new Le(Fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(c._componentsProvider||c._getSettings().localCache)throw new Le(Fe.FAILED_PRECONDITION,"SDK cache is already specified.");c._componentsProvider={_online:n,_offline:i},yv(c)}class Ic{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Ic(Di.fromBase64String(n))}catch(i){throw new Le(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new Ic(Di.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Hc{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Le(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Er(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Cd{constructor(n){this._methodName=n}}class ph{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Le(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Le(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return wn(this._lat,n._lat)||wn(this._long,n._long)}}class Ll{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(a,u){if(a.length!==u.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==u[f])return!1;return!0}(this._values,n._values)}}const pf=/^__.*__$/;class bv{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new li(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ni(n,this.data,i,this.fieldTransforms)}}class vm{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new li(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function ym(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class Im{constructor(n,i,a,u,f,y){this.settings=n,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new Im(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:a,xu:!1});return u.Ou(n),u}Nu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:a,xu:!1});return u.vu(),u}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return vh(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if(ym(this.Cu)&&pf.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class db{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=a||Zl(n)}Qu(n,i,a,u=!1){return new Im({Cu:n,methodName:i,qu:a,path:Er.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gh(c){const n=c._freezeSettings(),i=Zl(c._databaseId);return new db(c._databaseId,!!n.ignoreUndefinedProperties,i)}function mh(c,n,i,a,u,f={}){const y=c.Qu(f.merge||f.mergeFields?2:0,n,i,u);wm("Data must be an object, but it was:",y,a);const N=Tm(a,y);let U,te;if(f.merge)U=new ni(y.fieldMask),te=y.fieldTransforms;else if(f.mergeFields){const me=[];for(const Be of f.mergeFields){const It=_h(n,Be,i);if(!y.contains(It))throw new Le(Fe.INVALID_ARGUMENT,`Field '${It}' is specified in your field mask but missing from your input data.`);wv(me,It)||me.push(It)}U=new ni(me),te=y.fieldTransforms.filter(Be=>U.covers(Be.field))}else U=null,te=y.fieldTransforms;return new bv(new Ro(N),U,te)}class Ad extends Cd{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Ad}}function H0(c,n,i){return new Im({Cu:3,qu:n.settings.qu,methodName:c._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class Cv extends Cd{_toFieldTransform(n){return new q(n.path,new ws)}isEqual(n){return n instanceof Cv}}class Tp extends Cd{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=H0(this,n,!0),a=this.Ku.map(f=>Ou(f,i)),u=new oo(a);return new q(n.path,u)}isEqual(n){return n instanceof Tp&&(0,ht.bD)(this.Ku,n.Ku)}}class Em extends Cd{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=H0(this,n,!0),a=this.Ku.map(f=>Ou(f,i)),u=new Us(a);return new q(n.path,u)}isEqual(n){return n instanceof Em&&(0,ht.bD)(this.Ku,n.Ku)}}class bm extends Cd{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new Va(n.serializer,vs(n.serializer,this.$u));return new q(n.path,i)}isEqual(n){return n instanceof bm&&this.$u===n.$u}}function Cm(c,n,i,a){const u=c.Qu(1,n,i);wm("Data must be an object, but it was:",u,a);const f=[],y=Ro.empty();No(a,(U,te)=>{const me=Dp(n,U,i);te=(0,ht.Ku)(te);const Be=u.Nu(me);if(te instanceof Ad)f.push(me);else{const It=Ou(te,Be);null!=It&&(f.push(me),y.set(me,It))}});const N=new ni(f);return new vm(y,N,u.fieldTransforms)}function Am(c,n,i,a,u,f){const y=c.Qu(1,n,i),N=[_h(n,a,i)],U=[u];if(f.length%2!=0)throw new Le(Fe.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let It=0;It<f.length;It+=2)N.push(_h(n,f[It])),U.push(f[It+1]);const te=[],me=Ro.empty();for(let It=N.length-1;It>=0;--It)if(!wv(te,N[It])){const nn=N[It];let Cn=U[It];Cn=(0,ht.Ku)(Cn);const zn=y.Nu(nn);if(Cn instanceof Ad)te.push(nn);else{const Vn=Ou(Cn,zn);null!=Vn&&(te.push(nn),me.set(nn,Vn))}}const Be=new ni(te);return new vm(me,Be,y.fieldTransforms)}function Av(c,n,i,a=!1){return Ou(i,c.Qu(a?4:3,n))}function Ou(c,n){if(Tv(c=(0,ht.Ku)(c)))return wm("Unsupported field value:",n,c),Tm(c,n);if(c instanceof Cd)return function(a,u){if(!ym(u.Cu))throw u.Bu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(a,u){const f=[];let y=0;for(const N of a){let U=Ou(N,u.Lu(y));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),y++}return{arrayValue:{values:f}}}(c,n)}return function(a,u){if(null===(a=(0,ht.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return vs(u.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const f=Ir.fromDate(a);return{timestampValue:ao(u.serializer,f)}}if(a instanceof Ir){const f=new Ir(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ao(u.serializer,f)}}if(a instanceof ph)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ic)return{bytesValue:ba(u.serializer,a._byteString)};if(a instanceof Bo){const f=u.databaseId,y=a.firestore._databaseId;if(!y.isEqual(f))throw u.Bu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Do(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Ll)return N=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(U=>{if("number"!=typeof U)throw N.Bu("VectorValues must only contain numeric values.");return La(N.serializer,U)})}}}}};var N;throw u.Bu(`Unsupported field value: ${hh(a)}`)}(c,n)}function Tm(c,n){const i={};return Xs(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):No(c,(a,u)=>{const f=Ou(u,n.Mu(a));null!=f&&(i[a]=f)}),{mapValue:{fields:i}}}function Tv(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Ir||c instanceof ph||c instanceof Ic||c instanceof Bo||c instanceof Cd||c instanceof Ll)}function wm(c,n,i){if(!Tv(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const a=hh(i);throw n.Bu("an object"===a?c+" a custom object":c+" "+a)}var u}function _h(c,n,i){if((n=(0,ht.Ku)(n))instanceof Hc)return n._internalPath;if("string"==typeof n)return Dp(c,n);throw vh("Field path arguments must be of type string or ",c,!1,void 0,i)}const wp=new RegExp("[~\\*/\\[\\]]");function Dp(c,n,i){if(n.search(wp)>=0)throw vh(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new Hc(...n.split("."))._internalPath}catch{throw vh(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function vh(c,n,i,a,u){const f=a&&!a.isEmpty(),y=void 0!==u;let N=`Function ${n}() called with invalid data`;i&&(N+=" (via `toFirestore()`)"),N+=". ";let U="";return(f||y)&&(U+=" (found",f&&(U+=` in field ${a}`),y&&(U+=` in document ${u}`),U+=")"),new Le(Fe.INVALID_ARGUMENT,N+c+U)}function wv(c,n){return c.some(i=>i.isEqual(n))}class Ec{constructor(n,i,a,u,f){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Bo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new G0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(Sp("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class G0 extends Ec{data(){return super.data()}}function Sp(c,n){return"string"==typeof n?Dp(c,n):n instanceof Hc?n._internalPath:n._delegate._internalPath}function Rp(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Le(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}class gf extends Mp{}function ku(c,n,...i){let a=[];n instanceof Mp&&a.push(n),a=a.concat(i),function(f){const y=f.filter(U=>U instanceof Td).length,N=f.filter(U=>U instanceof mf).length;if(y>1||y>0&&N>0)throw new Le(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)c=u._apply(c);return c}class mf extends gf{constructor(n,i,a){super(),this._field=n,this._op=i,this._value=a,this.type="where"}static _create(n,i,a){return new mf(n,i,a)}_apply(n){const i=this._parse(n);return kp(n._query,i),new ea(n.firestore,n.converter,Io(n._query,i))}_parse(n){const i=gh(n.firestore);return function(f,y,N,U,te,me,Be){let It;if(te.isKeyField()){if("array-contains"===me||"array-contains-any"===me)throw new Le(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${me}' queries on documentId().`);if("in"===me||"not-in"===me){Z0(Be,me);const nn=[];for(const Cn of Be)nn.push(J0(U,f,Cn));It={arrayValue:{values:nn}}}else It=J0(U,f,Be)}else"in"!==me&&"not-in"!==me&&"array-contains-any"!==me||Z0(Be,me),It=Av(N,"where",Be,"in"===me||"not-in"===me);return An.create(te,me,It)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class Td extends Mp{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Td(n,i)}_parse(n){const i=this._queryConstraints.map(a=>a._parse(n)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:Jn.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,f){let y=u;const N=f.getFlattenedFilters();for(const U of N)kp(y,U),y=Io(y,U)}(n._query,i),new ea(n.firestore,n.converter,Io(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wd extends gf{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new wd(n,i)}_apply(n){const i=function(u,f,y){if(null!==u.startAt)throw new Le(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Le(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ht(f,y)}(n._query,this._field,this._direction);return new ea(n.firestore,n.converter,function(u,f){const y=u.explicitOrderBy.concat([f]);return new wo(u.path,u.collectionGroup,y,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class Pp extends gf{constructor(n,i,a){super(),this.type=n,this._limit=i,this._limitType=a}static _create(n,i,a){return new Pp(n,i,a)}_apply(n){return new ea(n.firestore,n.converter,za(n._query,this._limit,this._limitType))}}class xp extends gf{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new xp(n,i,a)}_apply(n){const i=Op(n,this.type,this._docOrFields,this._inclusive);return new ea(n.firestore,n.converter,(f=i,new wo((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Np extends gf{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new Np(n,i,a)}_apply(n){const i=Op(n,this.type,this._docOrFields,this._inclusive);return new ea(n.firestore,n.converter,(f=i,new wo((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Op(c,n,i,a){if(i[0]=(0,ht.Ku)(i[0]),i[0]instanceof Ec)return function(f,y,N,U,te){if(!U)throw new Le(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${N}().`);const me=[];for(const Be of Pr(f))if(Be.field.isKeyField())me.push(uo(y,U.key));else{const It=U.data.field(Be.field);if(G(It))throw new Le(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Be.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===It){const nn=Be.field.canonicalString();throw new Le(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nn}' (used as the orderBy) does not exist.`)}me.push(It)}return new Wr(me,te)}(c._query,c.firestore._databaseId,n,i[0]._document,a);{const u=gh(c.firestore);return function(y,N,U,te,me,Be){const It=y.explicitOrderBy;if(me.length>It.length)throw new Le(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nn=[];for(let Cn=0;Cn<me.length;Cn++){const zn=me[Cn];if(It[Cn].field.isKeyField()){if("string"!=typeof zn)throw new Le(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${te}(), but got a ${typeof zn}`);if(!yo(y)&&-1!==zn.indexOf("/"))throw new Le(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${te}() must be a plain document ID, but '${zn}' contains a slash.`);const Vn=y.path.child(ir.fromString(zn));if(!En.isDocumentKey(Vn))throw new Le(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${te}() must result in a valid document path, but '${Vn}' is not because it contains an odd number of segments.`);const gr=new En(Vn);nn.push(uo(N,gr))}else{const Vn=Av(U,te,zn);nn.push(Vn)}}return new Wr(nn,Be)}(c._query,c.firestore._databaseId,u,n,i,a)}}function J0(c,n,i){if("string"==typeof(i=(0,ht.Ku)(i))){if(""===i)throw new Le(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yo(n)&&-1!==i.indexOf("/"))throw new Le(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(ir.fromString(i));if(!En.isDocumentKey(a))throw new Le(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return uo(c,new En(a))}if(i instanceof Bo)return uo(c,i._key);throw new Le(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hh(i)}.`)}function Z0(c,n){if(!Array.isArray(c)||0===c.length)throw new Le(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function kp(c,n){const i=function(u,f){for(const y of u)for(const N of y.getFlattenedFilters())if(f.indexOf(N.op)>=0)return N.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Le(Fe.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class Sv{convertValue(n,i="none"){switch(xn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return O(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(A(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw en()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const a={};return No(n,(u,f)=>{a[u]=this.convertValue(f,i)}),a}convertVectorValue(n){var i,a,u;const f=null===(u=null===(a=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===a?void 0:a.values)||void 0===u?void 0:u.map(y=>O(y.doubleValue));return new Ll(f)}convertGeoPoint(n){return new ph(O(n.latitude),O(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=ae(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ot(n));default:return null}}convertTimestamp(n){const i=E(n);return new Ir(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=ir.fromString(n);zt(us(a));const u=new Tt(a.get(1),a.get(3)),f=new En(a.popFirst(5));return u.isEqual(i)||In(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function Dm(c,n,i){let a;return a=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,a}class hb extends Sv{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ic(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Bo(this.firestore,null,i)}}class Fu{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class bc extends Ec{constructor(n,i,a,u,f,y){super(n,i,a,u,y),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(Sp("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class _f extends bc{data(n={}){return super.data(n)}}class Lu{constructor(n,i,a,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new Fu(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new _f(this._firestore,this._userDataWriter,a.key,a,new Fu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Le(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(N=>({type:"added",doc:new _f(u._firestore,u._userDataWriter,N.doc.key,N.doc,new Fu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(N=>f||3!==N.type).map(N=>{const U=new _f(u._firestore,u._userDataWriter,N.doc.key,N.doc,new Fu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter);let te=-1,me=-1;return 0!==N.type&&(te=y.indexOf(N.doc.key),y=y.delete(N.doc.key)),1!==N.type&&(y=y.add(N.doc),me=y.indexOf(N.doc.key)),{type:Rv(N.type),doc:U,oldIndex:te,newIndex:me}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Rv(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function Dd(c,n){return c instanceof bc&&n instanceof bc?c._firestore===n._firestore&&c._key.isEqual(n._key)&&(null===c._document?null===n._document:c._document.isEqual(n._document))&&c._converter===n._converter:c instanceof Lu&&n instanceof Lu&&c._firestore===n._firestore&&gm(c.query,n.query)&&c.metadata.isEqual(n.metadata)&&c._snapshot.isEqual(n._snapshot)}class xs extends Sv{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ic(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Bo(this.firestore,null,i)}}function Rm(c,n,i){c=Fi(c,Bo);const a=Fi(c.firestore,So),u=Dm(c.converter,n,i);return yh(a,[mh(gh(a),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,ue.none())])}function Mm(c,n,i,...a){c=Fi(c,Bo);const u=Fi(c.firestore,So),f=gh(u);let y;return y="string"==typeof(n=(0,ht.Ku)(n))||n instanceof Hc?Am(f,"updateDoc",c._key,n,i,a):Cm(f,"updateDoc",c._key,n),yh(u,[y.toMutation(c._key,ue.exists(!0))])}function Vp(c,...n){var i,a,u;c=(0,ht.Ku)(c);let f={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof n[y]||vv(n[y])||(f=n[y],y++);const N={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(vv(n[y])){const Be=n[y];n[y]=null===(i=Be.next)||void 0===i?void 0:i.bind(Be),n[y+1]=null===(a=Be.error)||void 0===a?void 0:a.bind(Be),n[y+2]=null===(u=Be.complete)||void 0===u?void 0:u.bind(Be)}let U,te,me;if(c instanceof Bo)te=Fi(c.firestore,So),me=gs(c._key.path),U={next:Be=>{n[y]&&n[y](Vu(te,c,Be))},error:n[y+1],complete:n[y+2]};else{const Be=Fi(c,ea);te=Fi(Be.firestore,So),me=Be._query;const It=new xs(te);U={next:nn=>{n[y]&&n[y](new Lu(te,It,Be,nn))},error:n[y+1],complete:n[y+2]},Rp(c._query)}return function(It,nn,Cn,zn){const Vn=new im(zn),gr=new Gg(nn,Vn,Cn);return It.asyncQueue.enqueueAndForget((0,we.A)(function*(){return jg(yield dh(It),gr)})),()=>{Vn.Za(),It.asyncQueue.enqueueAndForget((0,we.A)(function*(){return Hg(yield dh(It),gr)}))}}(Ko(te),me,N,U)}function yh(c,n){return function(a,u){const f=new Ut;return a.asyncQueue.enqueueAndForget((0,we.A)(function*(){return function lp(c,n,i){return Z_.apply(this,arguments)}(yield lf(a),u,f)})),f.promise}(Ko(c),n)}function Vu(c,n,i){const a=i.docs.get(n._key),u=new xs(c);return new bc(c,u,n._key,a,new Fu(i.hasPendingWrites,i.fromCache),n.converter)}const aI={maxAttempts:5};class Ov{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=gh(n)}set(n,i,a){this._verifyNotCommitted();const u=Cc(n,this._firestore),f=Dm(u.converter,i,a),y=mh(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,a);return this._mutations.push(y.toMutation(u._key,ue.none())),this}update(n,i,a,...u){this._verifyNotCommitted();const f=Cc(n,this._firestore);let y;return y="string"==typeof(i=(0,ht.Ku)(i))||i instanceof Hc?Am(this._dataReader,"WriteBatch.update",f._key,i,a,u):Cm(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(y.toMutation(f._key,ue.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Cc(n,this._firestore);return this._mutations=this._mutations.concat(new Nn(i._key,ue.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cc(c,n){if((c=(0,ht.Ku)(c)).firestore!==n)throw new Le(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class kv extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=gh(i)}get(i){const a=Cc(i,this._firestore),u=new hb(this._firestore);return this._transaction.lookup([a._key]).then(f=>{if(!f||1!==f.length)return en();const y=f[0];if(y.isFoundDocument())return new Ec(this._firestore,u,y.key,y,a.converter);if(y.isNoDocument())return new Ec(this._firestore,u,a._key,null,a.converter);throw en()})}set(i,a,u){const f=Cc(i,this._firestore),y=Dm(f.converter,a,u),N=mh(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,u);return this._transaction.set(f._key,N),this}update(i,a,u,...f){const y=Cc(i,this._firestore);let N;return N="string"==typeof(a=(0,ht.Ku)(a))||a instanceof Hc?Am(this._dataReader,"Transaction.update",y._key,a,u,f):Cm(this._dataReader,"Transaction.update",y._key,a),this._transaction.update(y._key,N),this}delete(i){const a=Cc(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Cc(n,this._firestore),a=new xs(this._firestore);return super.get(n).then(u=>new bc(this._firestore,a,i._key,u._document,new Fu(!1,!1),i.converter))}}function zp(c,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Le("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return n}function ci(){if(typeof Uint8Array>"u")throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function Um(){if(!function Oo(){return typeof atob<"u"}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){lt=xe.SDK_VERSION,(0,xe._registerComponent)(new Ne.uA("firestore",(a,{instanceIdentifier:u,options:f})=>{const y=a.getProvider("app").getImmediate(),N=new So(new Hn(a.getProvider("auth-internal")),new Qn(a.getProvider("app-check-internal")),function(te,me){if(!Object.prototype.hasOwnProperty.apply(te.options,["projectId"]))throw new Le(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tt(te.options.projectId,me)}(y,u),y);return f=Object.assign({useFetchStreams:i},f),N._setSettings(f),N},"PUBLIC").setMultipleInstances(!0)),(0,xe.registerVersion)(tt,"4.7.3",n),(0,xe.registerVersion)(tt,"4.7.3","esm2017")}();class Eh{constructor(n){this._delegate=n}static fromBase64String(n){return Um(),new Eh(Ic.fromBase64String(n))}static fromUint8Array(n){return ci(),new Eh(Ic.fromUint8Array(n))}toBase64(){return Um(),this._delegate.toBase64()}toUint8Array(){return ci(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Uu(c){return function jv(c,n){if("object"!=typeof c||null===c)return!1;const i=c;for(const a of n)if(a in i&&"function"==typeof i[a])return!0;return!1}(c,["next","error","complete"])}class Hv{enableIndexedDbPersistence(n,i){return function B0(c,n){Ln("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=c._freezeSettings();return Iv(c,lh.provider,{build:a=>new rm(a,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function $0(c){return _m.apply(this,arguments)}(n._delegate)}clearIndexedDbPersistence(n){return function Nu(c){if(c._initialized&&!c._terminated)throw new Le(Fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Ut;return c._queue.enqueueAndForgetEvenWhileRestricted((0,we.A)(function*(){try{yield(i=(0,we.A)(function*(u){if(!Je.D())return Promise.resolve();const f=u+"main";yield Je.delete(f)}),function a(u){return i.apply(this,arguments)})(hu(c._databaseId,c._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class Gv{constructor(n,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Tt||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&Ln("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,a={}){!function fm(c,n,i,a={}){var u;const f=(c=Fi(c,xu))._getSettings(),y=`${n}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==y&&Ln("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},f),{host:y,ssl:!1})),a.mockUserToken){let N,U;if("string"==typeof a.mockUserToken)N=a.mockUserToken,U=He.MOCK_USER;else{N=(0,ht.Fy)(a.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const te=a.mockUserToken.sub||a.mockUserToken.user_id;if(!te)throw new Le(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new He(te)}c._authCredentials=new or(new Ft(N,U))}}(this._delegate,n,i,a)}enableNetwork(){return function j0(c){return function O0(c){return c.asyncQueue.enqueue((0,we.A)(function*(){const n=yield Ed(c),i=yield N0(c);return n.setNetworkEnabled(!0),function(u){const f=sn(u);return f.L_.delete(0),Bc(f)}(i)}))}(Ko(c=Fi(c,So)))}(this._delegate)}disableNetwork(){return function ab(c){return function k0(c){return c.asyncQueue.enqueue((0,we.A)(function*(){const n=yield Ed(c),i=yield N0(c);return n.setNetworkEnabled(!1),(a=(0,we.A)(function*(f){const y=sn(f);y.L_.add(0),yield Iu(y),y.q_.set("Offline")}),function u(f){return a.apply(this,arguments)})(i);var a}))}(Ko(c=Fi(c,So)))}(this._delegate)}enablePersistence(n){let i=!1,a=!1;return n&&(i=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,um("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ff(c){return function(i){const a=new Ut;return i.asyncQueue.enqueueAndForget((0,we.A)(function*(){return function S0(c,n){return hp.apply(this,arguments)}(yield lf(i),a)})),a.promise}(Ko(c=Fi(c,So)))}(this._delegate)}onSnapshotsInSync(n){return function Pm(c,n){return function pv(c,n){const i=new im(n);return c.asyncQueue.enqueueAndForget((0,we.A)(function*(){return u=yield dh(c),f=i,sn(u).Y_.add(f),void f.next();var u,f})),()=>{i.Za(),c.asyncQueue.enqueueAndForget((0,we.A)(function*(){return u=yield dh(c),f=i,void sn(u).Y_.delete(f);var u,f}))}}(Ko(c=Fi(c,So)),vv(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Ch(this,pm(this._delegate,n))}catch(i){throw fa(i,"collection()","Firestore.collection()")}}doc(n){try{return new nl(this,fh(this._delegate,n))}catch(i){throw fa(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ga(this,function bp(c,n){if(c=Fi(c,xu),hf("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Le(Fe.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ea(c,null,(a=n,new wo(ir.emptyPath(),a)));var a}(this._delegate,n))}catch(i){throw fa(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function Sd(c,n,i){c=Fi(c,So);const a=Object.assign(Object.assign({},aI),i);return function(f){if(f.maxAttempts<1)throw new Le(Fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,y,N){const U=new Ut;return f.asyncQueue.enqueueAndForget((0,we.A)(function*(){const te=yield function uh(c){return ch(c).then(n=>n.datastore)}(f);new om(f.asyncQueue,te,N,y,U).au()})),U.promise}(Ko(c),u=>n(new kv(c,u)),a)}(this._delegate,i=>n(new Wp(this,i)))}batch(){return Ko(this._delegate),new bh(new Ov(this._delegate,n=>yh(this._delegate,n)))}loadBundle(n){return function lb(c,n){const i=Ko(c=Fi(c,So)),a=new Cp;return function cm(c,n,i,a){const u=function(y,N){let U;return U="string"==typeof y?Bs().encode(y):y,me=function(me){if(me instanceof Uint8Array)return P0(me,void 0);if(me instanceof ArrayBuffer)return P0(new Uint8Array(me),void 0);if(me instanceof ReadableStream)return me.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new Ip(me,N);var me}(i,Zl(n));c.asyncQueue.enqueueAndForget((0,we.A)(function*(){!function yp(c,n,i){const a=sn(c);var u;(u=(0,we.A)(function*(y,N,U){try{const te=yield N.getMetadata();if(yield function(Cn,zn){const Vn=sn(Cn),gr=eo(zn.createTime);return Vn.persistence.runTransaction("hasNewerBundle","readonly",Mr=>Vn.Gr.getBundleMetadata(Mr,zn.id)).then(Mr=>!!Mr&&Mr.createTime.compareTo(gr)>=0)}(y.localStore,te))return yield N.close(),U._completeWith({taskState:"Success",documentsLoaded:(Cn=te).totalDocuments,bytesLoaded:Cn.totalBytes,totalDocuments:Cn.totalDocuments,totalBytes:Cn.totalBytes}),Promise.resolve(new Set);U._updateProgress(q_(te));const me=new X_(te,y.localStore,N.serializer);let Be=yield N.Ua();for(;Be;){const nn=yield me.la(Be);nn&&U._updateProgress(nn),Be=yield N.Ua()}const It=yield me.complete();return yield kl(y,It.Ia,void 0),yield function(Cn,zn){const Vn=sn(Cn);return Vn.persistence.runTransaction("Save bundle","readwrite",gr=>Vn.Gr.saveBundleMetadata(gr,zn))}(y.localStore,te),U._completeWith(It.progress),Promise.resolve(It.Pa)}catch(te){return Ln("SyncEngine",`Loading bundle failed with ${te}`),U._failWith(te),Promise.resolve(new Set)}var Cn}),function f(y,N,U){return u.apply(this,arguments)})(a,n,i).then(u=>{a.sharedClientState.notifyBundleLoaded(u)})}(yield lf(c),u,a)}))}(i,c._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function cb(c,n){return function L0(c,n){return c.asyncQueue.enqueue((0,we.A)(function*(){return function(a,u){const f=sn(a);return f.persistence.runTransaction("Get named query","readonly",y=>f.Gr.getNamedQuery(y,u))}(yield jc(c),n)}))}(Ko(c=Fi(c,So)),n).then(i=>i?new ea(c,null,i.query):null)}(this._delegate,n).then(i=>i?new Ga(this,i):null)}}class Rd extends Sv{constructor(n){super(),this.firestore=n}convertBytes(n){return new Eh(new Ic(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return nl.forKey(i,this.firestore,null)}}class Wp{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new Rd(n)}get(n){const i=xd(n);return this._delegate.get(i).then(a=>new Pd(this._firestore,new bc(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(n,i,a){const u=xd(n);return a?(zp("Transaction.set",a),this._delegate.set(u,i,a)):this._delegate.set(u,i),this}update(n,i,a,...u){const f=xd(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,a,...u),this}delete(n){const i=xd(n);return this._delegate.delete(i),this}}class bh{constructor(n){this._delegate=n}set(n,i,a){const u=xd(n);return a?(zp("WriteBatch.set",a),this._delegate.set(u,i,a)):this._delegate.set(u,i),this}update(n,i,a,...u){const f=xd(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,a,...u),this}delete(n){const i=xd(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Bu{constructor(n,i,a){this._firestore=n,this._userDataWriter=i,this._delegate=a}fromFirestore(n,i){const a=new _f(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new yf(this._firestore,a),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const a=Bu.INSTANCES;let u=a.get(n);u||(u=new WeakMap,a.set(n,u));let f=u.get(i);return f||(f=new Bu(n,new Rd(n),i),u.set(i,f)),f}}Bu.INSTANCES=new WeakMap;class nl{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Rd(n)}static forPath(n,i,a){if(n.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new nl(i,new Bo(i._delegate,a,new En(n)))}static forKey(n,i,a){return new nl(i,new Bo(i._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Ch(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Ch(this.firestore,pm(this._delegate,n))}catch(i){throw fa(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,ht.Ku)(n))instanceof Bo&&bd(this._delegate,n)}set(n,i){i=zp("DocumentReference.set",i);try{return i?Rm(this._delegate,n,i):Rm(this._delegate,n)}catch(a){throw fa(a,"setDoc()","DocumentReference.set()")}}update(n,i,...a){try{return 1===arguments.length?Mm(this._delegate,n):Mm(this._delegate,n,i,...a)}catch(u){throw fa(u,"updateDoc()","DocumentReference.update()")}}delete(){return function _b(c){return yh(Fi(c.firestore,So),[new Nn(c._key,ue.none())])}(this._delegate)}onSnapshot(...n){const i=Kp(n),a=Bm(n,u=>new Pd(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Vp(this._delegate,i,a)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function Mv(c){c=Fi(c,Bo);const n=Fi(c.firestore,So),i=Ko(n),a=new xs(n);return function am(c,n){const i=new Ut;return c.asyncQueue.enqueueAndForget((0,we.A)(function*(){return(a=(0,we.A)(function*(f,y,N){try{const U=yield function(me,Be){const It=sn(me);return It.persistence.runTransaction("read document","readonly",nn=>It.localDocuments.getDocument(nn,Be))}(f,y);U.isFoundDocument()?N.resolve(U):U.isNoDocument()?N.resolve(null):N.reject(new Le(Fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const te=Tu(U,`Failed to get document '${y} from cache`);N.reject(te)}}),function u(f,y,N){return a.apply(this,arguments)})(yield jc(c),n,i);var a})),i.promise}(i,c._key).then(u=>new bc(n,a,c._key,u,new Fu(null!==u&&u.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function pb(c){c=Fi(c,Bo);const n=Fi(c.firestore,So);return lm(Ko(n),c._key,{source:"server"}).then(i=>Vu(n,c,i))}(this._delegate):function El(c){c=Fi(c,Bo);const n=Fi(c.firestore,So);return lm(Ko(n),c._key).then(i=>Vu(n,c,i))}(this._delegate),i.then(a=>new Pd(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new nl(this.firestore,this._delegate.withConverter(n?Bu.getInstance(this.firestore,n):null))}}function fa(c,n,i){return c.message=c.message.replace(n,i),c}function Kp(c){for(const n of c)if("object"==typeof n&&!Uu(n))return n;return{}}function Bm(c,n){var i,a;let u;return u=Uu(c[0])?c[0]:Uu(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:f=>{u.next&&u.next(n(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(a=u.complete)||void 0===a?void 0:a.bind(u)}}class Pd{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return Dd(this._delegate,n._delegate)}}class yf extends Pd{data(n){const i=this._delegate.data(n);return this._delegate._converter||function Un(c){c||en()}(void 0!==i),i}}class Ga{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new Rd(n)}where(n,i,a){try{return new Ga(this.firestore,ku(this._delegate,function z0(c,n,i){const a=n,u=Sp("where",c);return mf._create(u,a,i)}(n,i,a)))}catch(u){throw fa(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Ga(this.firestore,ku(this._delegate,function W0(c,n="asc"){const i=n,a=Sp("orderBy",c);return wd._create(a,i)}(n,i)))}catch(a){throw fa(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ga(this.firestore,ku(this._delegate,function K0(c){return Pu("limit",c),Pp._create("limit",c,"F")}(n)))}catch(i){throw fa(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Ga(this.firestore,ku(this._delegate,function Dv(c){return Pu("limitToLast",c),Pp._create("limitToLast",c,"L")}(n)))}catch(i){throw fa(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ga(this.firestore,ku(this._delegate,function X0(...c){return xp._create("startAt",c,!0)}(...n)))}catch(i){throw fa(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ga(this.firestore,ku(this._delegate,function q0(...c){return xp._create("startAfter",c,!1)}(...n)))}catch(i){throw fa(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ga(this.firestore,ku(this._delegate,function Q0(...c){return Np._create("endBefore",c,!1)}(...n)))}catch(i){throw fa(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ga(this.firestore,ku(this._delegate,function Y0(...c){return Np._create("endAt",c,!0)}(...n)))}catch(i){throw fa(i,"endAt()","Query.endAt()")}}isEqual(n){return gm(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function gb(c){c=Fi(c,ea);const n=Fi(c.firestore,So),i=Ko(n),a=new xs(n);return function F0(c,n){const i=new Ut;return c.asyncQueue.enqueueAndForget((0,we.A)(function*(){return(a=(0,we.A)(function*(f,y,N){try{const U=yield Pt(f,y,!0),te=new Q_(y,U.Ts),me=te.ma(U.documents),Be=te.applyChanges(me,!1);N.resolve(Be.snapshot)}catch(U){const te=Tu(U,`Failed to execute query '${y} against cache`);N.reject(te)}}),function u(f,y,N){return a.apply(this,arguments)})(yield jc(c),n,i);var a})),i.promise}(i,c._query).then(u=>new Lu(n,a,c,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function mb(c){c=Fi(c,ea);const n=Fi(c.firestore,So),i=Ko(n),a=new xs(n);return fv(i,c._query,{source:"server"}).then(u=>new Lu(n,a,c,u))}(this._delegate):function nI(c){c=Fi(c,ea);const n=Fi(c.firestore,So),i=Ko(n),a=new xs(n);return Rp(c._query),fv(i,c._query).then(u=>new Lu(n,a,c,u))}(this._delegate),i.then(a=>new Xp(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const i=Kp(n),a=Bm(n,u=>new Xp(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Vp(this._delegate,i,a)}withConverter(n){return new Ga(this.firestore,this._delegate.withConverter(n?Bu.getInstance(this.firestore,n):null))}}class pI{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new yf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Xp{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Ga(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new yf(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new pI(this._firestore,i))}forEach(n,i){this._delegate.forEach(a=>{n.call(i,new yf(this._firestore,a))})}isEqual(n){return Dd(this._delegate,n._delegate)}}class Ch extends Ga{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new nl(this.firestore,n):null}doc(n){try{return new nl(this.firestore,void 0===n?fh(this._delegate):fh(this._delegate,n))}catch(i){throw fa(i,"doc()","CollectionReference.doc()")}}add(n){return function Lp(c,n){const i=Fi(c.firestore,So),a=fh(c),u=Dm(c.converter,n);return yh(i,[mh(gh(c.firestore),"addDoc",a._key,u,null!==c.converter,{}).toMutation(a._key,ue.exists(!1))]).then(()=>a)}(this._delegate,n).then(i=>new nl(this.firestore,i))}isEqual(n){return bd(this._delegate,n._delegate)}withConverter(n){return new Ch(this.firestore,this._delegate.withConverter(n?Bu.getInstance(this.firestore,n):null))}}function xd(c){return Fi(c,Bo)}class $m{constructor(...n){this._delegate=new Hc(...n)}static documentId(){return new $m(Er.keyField().canonicalString())}isEqual(n){return(n=(0,ht.Ku)(n))instanceof Hc&&this._delegate._internalPath.isEqual(n._internalPath)}}class Nd{constructor(n){this._delegate=n}static serverTimestamp(){const n=function Lv(){return new Cv("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Nd(n)}static delete(){const n=function Fv(){return new Ad("deleteField")}();return n._methodName="FieldValue.delete",new Nd(n)}static arrayUnion(...n){const i=function Om(...c){return new Tp("arrayUnion",c)}(...n);return i._methodName="FieldValue.arrayUnion",new Nd(i)}static arrayRemove(...n){const i=function lI(...c){return new Em("arrayRemove",c)}(...n);return i._methodName="FieldValue.arrayRemove",new Nd(i)}static increment(n){const i=function Vv(c){return new bm("increment",c)}(n);return i._methodName="FieldValue.increment",new Nd(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const zv={Firestore:Gv,GeoPoint:ph,Timestamp:Ir,Blob:Eh,Transaction:Wp,WriteBatch:bh,DocumentReference:nl,DocumentSnapshot:Pd,Query:Ga,QueryDocumentSnapshot:yf,QuerySnapshot:Xp,CollectionReference:Ch,FieldPath:$m,FieldValue:Nd,setLogLevel:function Md(c){!function Fn(c){yt.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};!function gI(c){(function Wv(c,n){c.INTERNAL.registerComponent(new Ne.uA("firestore-compat",i=>{const a=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(a,u)},"PUBLIC").setServiceProps(Object.assign({},zv)))})(c,(n,i)=>new Gv(n,i,new Hv)),c.registerVersion("@firebase/firestore-compat","0.3.38")}(St.A);var mI=V(7935);function Kv(c,n){return function rl(c,n=Re.E){return new Ge.c(i=>{let a;return null!=n?n.schedule(()=>{a=c.onSnapshot({includeMetadataChanges:!0},i)}):a=c.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(c,n)}function Xv(c,n){return Kv(c,n).pipe((0,pt.T)(i=>({payload:i,type:"query"})))}class qp{constructor(n,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const a=this.ref.collection(n),{ref:u,query:f}=ty(a,i);return new Jv(u,f,this.afs)}snapshotChanges(){return function _I(c,n){return Kv(c,n).pipe((0,Me.Z)(void 0),et(),(0,pt.T)(i=>{const[a,u]=i;return u.exists?null!=a&&a.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,pt.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,ft.H)(this.ref.get(n)).pipe(be.U0)}}function If(c,n){return Xv(c,n).pipe((0,Me.Z)(void 0),et(),(0,pt.T)(i=>{const[a,u]=i,f=u.payload.docChanges(),y=f.map(N=>({type:N.type,payload:N}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((N,U)=>{const te=f.find(Be=>Be.doc.ref.isEqual(N.ref)),me=null==a?void 0:a.payload.docs.find(Be=>Be.ref.isEqual(N.ref));te&&JSON.stringify(te.doc.metadata)===JSON.stringify(N.metadata)||!te&&me&&JSON.stringify(me.metadata)===JSON.stringify(N.metadata)||y.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:N}})}),y}))}function qv(c,n,i){return If(c,i).pipe((0,Et.S)((a,u)=>function vI(c,n,i){return n.forEach(a=>{i.indexOf(a.type)>-1&&(c=function Qv(c,n){switch(n.type){case"added":if(!c[n.newIndex]||!c[n.newIndex].doc.ref.isEqual(n.doc.ref))return jm(c,n.newIndex,0,n);break;case"modified":if(null==c[n.oldIndex]||c[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=c.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return jm(c,n.newIndex,1,n)}break;case"removed":if(c[n.oldIndex]&&c[n.oldIndex].doc.ref.isEqual(n.doc.ref))return jm(c,n.oldIndex,1)}return c}(c,a))}),c}(a,u.map(f=>f.payload),n),[]),(0,vt.F)(),(0,pt.T)(a=>a.map(u=>({type:u.type,payload:u}))))}function jm(c,n,i,...a){const u=c.slice();return u.splice(n,i,...a),u}function Yv(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class Jv{constructor(n,i,a){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=a}stateChanges(n){let i=If(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,pt.T)(a=>a.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,Me.Z)(void 0),et(),(0,ut.p)(([a,u])=>u.length>0||!a),(0,pt.T)(([,a])=>a),be.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,Et.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=Yv(n);return qv(this.query,i,this.afs.schedulers.outsideAngular).pipe(be.U0)}valueChanges(n={}){return Xv(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.T)(i=>i.payload.docs.map(a=>n.idField?{...a.data(),[n.idField]:a.id}:a.data())),be.U0)}get(n){return(0,ft.H)(this.query.get(n)).pipe(be.U0)}add(n){return this.ref.add(n)}doc(n){return new qp(this.ref.doc(n),this.afs)}}class Hm{constructor(n,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?If(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.T)(i=>i.filter(a=>n.indexOf(a.type)>-1)),(0,ut.p)(i=>i.length>0),be.U0):If(this.query,this.afs.schedulers.outsideAngular).pipe(be.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,Et.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=Yv(n);return qv(this.query,i,this.afs.schedulers.outsideAngular).pipe(be.U0)}valueChanges(n={}){return Xv(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.T)(a=>a.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),be.U0)}get(n){return(0,ft.H)(this.query.get(n)).pipe(be.U0)}}const Zv=new $.nKC("angularfire2.enableFirestorePersistence"),ey=new $.nKC("angularfire2.firestore.persistenceSettings"),yI=new $.nKC("angularfire2.firestore.settings"),II=new $.nKC("angularfire2.firestore.use-emulator");function ty(c,n=i=>i){return{query:n(c),ref:c}}let nc=(()=>{var c;class n{constructor(a,u,f,y,N,U,te,me,Be,It,nn,Cn,zn,Vn,gr,Mr,vr){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=te;const Lr=(0,W.iB)(a,U,u),Bi=Be;It&&(0,Ce.gF)(Lr,U,nn,zn,Vn,gr,Cn,Mr),[this.firestore,this.persistenceEnabled$]=(0,W.BM)(`${Lr.name}.firestore`,"AngularFirestore",Lr.name,()=>{const Yr=U.runOutsideAngular(()=>Lr.firestore());if(y&&Yr.settings(y),Bi&&Yr.useEmulator(...Bi),f&&!(0,o.Vy)(N)){const jt=()=>{try{return(0,ft.H)(Yr.enablePersistence(me||void 0).then(()=>!0,()=>!1))}catch(_t){return typeof console<"u"&&console.warn(_t),(0,it.of)(!1)}};return[Yr,U.runOutsideAngular(jt)]}return[Yr,(0,it.of)(!1)]},[y,Bi,f])}collection(a,u){let f;f="string"==typeof a?this.firestore.collection(a):a;const{ref:y,query:N}=ty(f,u),U=this.schedulers.ngZone.run(()=>y);return new Jv(U,N,this)}collectionGroup(a,u){const f=u||(N=>N),y=this.firestore.collectionGroup(a);return new Hm(f(y),this)}doc(a){let u;u="string"==typeof a?this.firestore.doc(a):a;const f=this.schedulers.ngZone.run(()=>u);return new qp(f,this)}createId(){return this.firestore.collection("_").doc().id}}return c=n,(0,d.A)(n,"\u0275fac",function(a){return new(a||c)($.KVO(W.rx),$.KVO(W.uP,8),$.KVO(Zv,8),$.KVO(yI,8),$.KVO($.Agw),$.KVO($.SKi),$.KVO(be.u0),$.KVO(ey,8),$.KVO(II,8),$.KVO(Ce.DS,8),$.KVO(Ce.CP,8),$.KVO(Ce.yy,8),$.KVO(Ce.ZP,8),$.KVO(Ce.$z,8),$.KVO(Ce.AU,8),$.KVO(Ce.UB,8),$.KVO(be.Jv,8))}),(0,d.A)(n,"\u0275prov",$.jDH({token:c,factory:c.\u0275fac,providedIn:"any"})),n})(),Gm=(()=>{var c;class n{constructor(){mI.A.registerVersion("angularfire",be.xv.full,"fst-compat")}static enablePersistence(a){return{ngModule:n,providers:[{provide:Zv,useValue:!0},{provide:ey,useValue:a}]}}}return c=n,(0,d.A)(n,"\u0275fac",function(a){return new(a||c)}),(0,d.A)(n,"\u0275mod",$.$C({type:c})),(0,d.A)(n,"\u0275inj",$.G2t({providers:[nc]})),n})()},9253:(kn,Mt,V)=>{"use strict";V.d(Mt,{BM:()=>pt,Gt:()=>Ce,bf:()=>et,e7:()=>Re,iB:()=>Me,rx:()=>ft,uP:()=>it});var d=V(9842),o=V(4438),$=V(5407),be=V(7935);const W=["ngOnDestroy"],Ce=(Ot,St,we,xe={})=>new Proxy(Ot,{get:(Ne,st)=>we.runOutsideAngular(()=>{var ht;if(Ot[st])return null!=xe&&null!==(ht=xe.spy)&&void 0!==ht&&ht.get&&xe.spy.get(st,Ot[st]),Ot[st];if(W.indexOf(st)>-1)return()=>{};const nt=St.toPromise().then(fe=>{const gt=null==fe?void 0:fe[st];return"function"==typeof gt?gt.bind(fe):null!=gt&&gt.then?gt.then(mt=>we.run(()=>mt)):we.run(()=>gt)});return new Proxy(()=>{},{get:(fe,gt)=>nt[gt],apply:(fe,gt,mt)=>nt.then(Ze=>{var Lt;const Vt=null==Ze?void 0:Ze(...mt);return null!=xe&&null!==(Lt=xe.spy)&&void 0!==Lt&&Lt.apply&&xe.spy.apply(st,mt,Vt),Vt})})})}),Re=(Ot,St)=>{St.forEach(we=>{Object.getOwnPropertyNames(we.prototype||we).forEach(xe=>{Object.defineProperty(Ot.prototype,xe,Object.getOwnPropertyDescriptor(we.prototype||we,xe))})})};class Ge{constructor(St){return St}}const ft=new o.nKC("angularfire2.app.options"),it=new o.nKC("angularfire2.app.name");function Me(Ot,St,we){const Ne="object"==typeof we&&we||{};Ne.name=Ne.name||"string"==typeof we&&we||"[DEFAULT]";const ht=be.A.apps.filter(nt=>nt&&nt.name===Ne.name)[0]||St.runOutsideAngular(()=>be.A.initializeApp(Ot,Ne));try{if(JSON.stringify(Ot)!==JSON.stringify(ht.options)){const nt=!!module.hot;Ct("error",`${ht.name} Firebase App already initialized with different options${nt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ge(ht)}const Ct=(Ot,...St)=>{(0,o.naY)()&&typeof console<"u"&&console[Ot](...St)},at={provide:Ge,useFactory:Me,deps:[ft,o.SKi,[new o.Xx1,it]]};let et=(()=>{var Ot;class St{static initializeApp(xe,Ne){return{ngModule:St,providers:[{provide:ft,useValue:xe},{provide:it,useValue:Ne}]}}constructor(xe){be.A.registerVersion("angularfire",$.xv.full,"core"),be.A.registerVersion("angularfire",$.xv.full,"app-compat"),be.A.registerVersion("angular",o.xvI.full,xe.toString())}}return Ot=St,(0,d.A)(St,"\u0275fac",function(xe){return new(xe||Ot)(o.KVO(o.Agw))}),(0,d.A)(St,"\u0275mod",o.$C({type:Ot})),(0,d.A)(St,"\u0275inj",o.G2t({providers:[at]})),St})();function pt(Ot,St,we,xe,Ne){const[,st,ht]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===Ot)||[];if(st)return function Et(Ot,St){try{return Ot.toString()===St.toString()}catch{return Ot===St}}(Ne,ht)||(ut("error",`${St} was already initialized on the ${we} Firebase App with different settings.${vt?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Ne,was:ht})),st;{const nt=xe();return globalThis.\u0275AngularfireInstanceCache.push([Ot,nt,Ne]),nt}}const vt=typeof module<"u"&&!!module.hot,ut=(Ot,...St)=>{(0,o.naY)()&&typeof console<"u"&&console[Ot](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(kn,Mt,V)=>{"use strict";V.d(Mt,{xv:()=>pt,U0:()=>Ze,Oe:()=>gt,u0:()=>st,Jv:()=>Ot,CA:()=>ut,lR:()=>vt,S3:()=>pn});var d=V(9842),o=V(4438),$=V(2214),be=V(6780),Ce=V(9687);const Ge=new class Re extends Ce.q{}(class W extends be.R{constructor(De,_e){super(De,_e),this.scheduler=De,this.work=_e}schedule(De,_e=0){return _e>0?super.schedule(De,_e):(this.delay=_e,this.state=De,this.scheduler.flush(this),this)}execute(De,_e){return _e>0||this.closed?super.execute(De,_e):this._execute(De,_e)}requestAsyncId(De,_e,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(De,_e,Se):(De.flush(this),0)}});var it=V(3236),Me=V(1985),Ct=V(8141),at=V(941),et=V(6745);const pt=new o.RxE("ANGULARFIRE2_VERSION");function vt(We,De,_e){if(De){if(1===De.length)return De[0];const Oe=De.filter(Ke=>Ke.app===_e);if(1===Oe.length)return Oe[0]}return _e.container.getProvider(We).getImmediate({optional:!0})}const ut=(We,De)=>{const _e=De?[De]:(0,$.Dk)(),Se=[];return _e.forEach(se=>{se.container.getProvider(We).instances.forEach(Ke=>{Se.includes(Ke)||Se.push(Ke)})}),Se};class Ot{constructor(){return ut(St)}}const St="app-check";function we(){}class xe{constructor(De,_e=Ge){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=De,this.delegate=_e}now(){return this.delegate.now()}schedule(De,_e,Se){const se=this.zone;return this.delegate.schedule(function(Ke){se.runGuarded(()=>{De.apply(this,[Ke])})},_e,Se)}}class Ne{constructor(De){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=De}call(De,_e){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",we,{},we,we)),_e.pipe((0,Ct.M)({next:Se,complete:Se,error:Se})).subscribe(De).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let st=(()=>{var We;class De{constructor(Se){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=Se,this.outsideAngular=Se.runOutsideAngular(()=>new xe(Zone.current)),this.insideAngular=Se.run(()=>new xe(Zone.current,it.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return We=De,(0,d.A)(De,"\u0275fac",function(Se){return new(Se||We)(o.KVO(o.SKi))}),(0,d.A)(De,"\u0275prov",o.jDH({token:We,factory:We.\u0275fac,providedIn:"root"})),De})();function ht(){const We=globalThis.\u0275AngularFireScheduler;if(!We)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return We}function fe(We){return ht().ngZone.run(()=>We())}function gt(We){return We.pipe((0,at.Q)(ht().outsideAngular))}function Ze(We){return function Lt(We){return function(_e){return(_e=_e.lift(new Ne(We.ngZone))).pipe((0,et._)(We.outsideAngular),(0,at.Q)(We.insideAngular))}}(ht())(We)}const Vt=(We,De)=>function(){const Se=arguments;return De&&setTimeout(()=>{"scheduled"===De.state&&De.invoke()},10),fe(()=>We.apply(void 0,Se))},pn=(We,De)=>function(){let _e;const Se=arguments;for(let Oe=0;Oe<arguments.length;Oe++)"function"==typeof Se[Oe]&&(De&&(_e||(_e=fe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",we,{},we,we)))),Se[Oe]=Vt(Se[Oe],_e));const se=function nt(We){return ht().ngZone.runOutsideAngular(()=>We())}(()=>We.apply(this,Se));if(!De){if(se instanceof Me.c){const Oe=ht();return se.pipe((0,et._)(Oe.outsideAngular),(0,at.Q)(Oe.insideAngular))}return fe(()=>se)}return se instanceof Me.c?se.pipe(Ze):se instanceof Promise?fe(()=>new Promise((Oe,Ke)=>se.then(tt=>fe(()=>Oe(tt)),tt=>fe(()=>Ke(tt))))):"function"==typeof se&&_e?function(){return setTimeout(()=>{_e&&"scheduled"===_e.state&&_e.invoke()},10),se.apply(this,arguments)}:fe(()=>se)}},4341:(kn,Mt,V)=>{"use strict";V.d(Mt,{v8:()=>xn,ok:()=>As,JD:()=>lr,j4:()=>an,$R:()=>qt,YN:()=>Jo,zX:()=>os,VZ:()=>ta,cz:()=>ht,kq:()=>Et,vO:()=>Ut,BC:()=>Hn,cb:()=>Mn,vS:()=>br,X1:()=>ya,YS:()=>Cs,k0:()=>gt,qT:()=>Yo});var d=V(4438),o=V(177),$=V(8455),be=V(1985),W=V(3073),Ce=V(8750),Re=V(3794),Ge=V(4360),ft=V(6450),it=V(8496),Ct=V(1413),at=V(6354);let et=(()=>{var Z;class L{constructor(K,ye){this._renderer=K,this._elementRef=ye,this.onChange=_n=>{},this.onTouched=()=>{}}setProperty(K,ye){this._renderer.setProperty(this._elementRef.nativeElement,K,ye)}registerOnTouched(K){this.onTouched=K}registerOnChange(K){this.onChange=K}setDisabledState(K){this.setProperty("disabled",K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(d.sFG),d.rXU(d.aKT))},Z.\u0275dir=d.FsC({type:Z}),L})(),pt=(()=>{var Z;class L extends et{}return(Z=L).\u0275fac=(()=>{let le;return function(ye){return(le||(le=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,features:[d.Vt3]}),L})();const Et=new d.nKC(""),Ot={provide:Et,useExisting:(0,d.Rfq)(()=>xe),multi:!0},we=new d.nKC("");let xe=(()=>{var Z;class L extends et{constructor(K,ye,_n){super(K,ye),this._compositionMode=_n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function St(){const Z=(0,o.QT)()?(0,o.QT)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(K){this.setProperty("value",null==K?"":K)}_handleInput(K){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(K)}_compositionStart(){this._composing=!0}_compositionEnd(K){this._composing=!1,this._compositionMode&&this.onChange(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(we,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(K,ye){1&K&&d.bIt("input",function(cr){return ye._handleInput(cr.target.value)})("blur",function(){return ye.onTouched()})("compositionstart",function(){return ye._compositionStart()})("compositionend",function(cr){return ye._compositionEnd(cr.target.value)})},features:[d.Jv_([Ot]),d.Vt3]}),L})();function Ne(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function st(Z){return null!=Z&&"number"==typeof Z.length}const ht=new d.nKC(""),nt=new d.nKC(""),fe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gt{static min(L){return mt(L)}static max(L){return Ze(L)}static required(L){return Lt(L)}static requiredTrue(L){return function Vt(Z){return!0===Z.value?null:{required:!0}}(L)}static email(L){return function pn(Z){return Ne(Z.value)||fe.test(Z.value)?null:{email:!0}}(L)}static minLength(L){return function We(Z){return L=>Ne(L.value)||!st(L.value)?null:L.value.length<Z?{minlength:{requiredLength:Z,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function De(Z){return L=>st(L.value)&&L.value.length>Z?{maxlength:{requiredLength:Z,actualLength:L.value.length}}:null}(L)}static pattern(L){return function _e(Z){if(!Z)return Se;let L,le;return"string"==typeof Z?(le="","^"!==Z.charAt(0)&&(le+="^"),le+=Z,"$"!==Z.charAt(Z.length-1)&&(le+="$"),L=new RegExp(le)):(le=Z.toString(),L=Z),K=>{if(Ne(K.value))return null;const ye=K.value;return L.test(ye)?null:{pattern:{requiredPattern:le,actualValue:ye}}}}(L)}static nullValidator(L){return null}static compose(L){return yt(L)}static composeAsync(L){return Fn(L)}}function mt(Z){return L=>{if(Ne(L.value)||Ne(Z))return null;const le=parseFloat(L.value);return!isNaN(le)&&le<Z?{min:{min:Z,actual:L.value}}:null}}function Ze(Z){return L=>{if(Ne(L.value)||Ne(Z))return null;const le=parseFloat(L.value);return!isNaN(le)&&le>Z?{max:{max:Z,actual:L.value}}:null}}function Lt(Z){return Ne(Z.value)?{required:!0}:null}function Se(Z){return null}function se(Z){return null!=Z}function Oe(Z){return(0,d.jNT)(Z)?(0,$.H)(Z):Z}function Ke(Z){let L={};return Z.forEach(le=>{L=null!=le?{...L,...le}:L}),0===Object.keys(L).length?null:L}function tt(Z,L){return L.map(le=>le(Z))}function lt(Z){return Z.map(L=>function He(Z){return!Z.validate}(L)?L:le=>L.validate(le))}function yt(Z){if(!Z)return null;const L=Z.filter(se);return 0==L.length?null:function(le){return Ke(tt(le,L))}}function Bt(Z){return null!=Z?yt(lt(Z)):null}function Fn(Z){if(!Z)return null;const L=Z.filter(se);return 0==L.length?null:function(le){return function Me(...Z){const L=(0,Re.ms)(Z),{args:le,keys:K}=(0,W.D)(Z),ye=new be.c(_n=>{const{length:cr}=le;if(!cr)return void _n.complete();const xi=new Array(cr);let Vi=cr,io=cr;for(let wo=0;wo<cr;wo++){let na=!1;(0,Ce.Tg)(le[wo]).subscribe((0,Ge._)(_n,gs=>{na||(na=!0,io--),xi[wo]=gs},()=>Vi--,void 0,()=>{(!Vi||!na)&&(io||_n.next(K?(0,it.e)(K,xi):xi),_n.complete())}))}});return L?ye.pipe((0,ft.I)(L)):ye}(tt(le,L).map(Oe)).pipe((0,at.T)(Ke))}}function bt(Z){return null!=Z?Fn(lt(Z)):null}function In(Z,L){return null===Z?[L]:Array.isArray(Z)?[...Z,L]:[Z,L]}function Ln(Z){return Z._rawValidators}function qn(Z){return Z._rawAsyncValidators}function en(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function zt(Z,L){return Array.isArray(Z)?Z.includes(L):Z===L}function Un(Z,L){const le=en(L);return en(Z).forEach(ye=>{zt(le,ye)||le.push(ye)}),le}function sn(Z,L){return en(L).filter(le=>!zt(Z,le))}class Fe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Bt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=bt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,le){return!!this.control&&this.control.hasError(L,le)}getError(L,le){return this.control?this.control.getError(L,le):null}}class Le extends Fe{get formDirective(){return null}get path(){return null}}class Ut extends Fe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ft{constructor(L){this._cd=L}get isTouched(){var L,le,K;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(le=L._touched)||void 0===le||le.call(L),!(null===(K=this._cd)||void 0===K||null===(K=K.control)||void 0===K||!K.touched)}get isUntouched(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.untouched)}get isPristine(){var L,le,K;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(le=L._pristine)||void 0===le||le.call(L),!(null===(K=this._cd)||void 0===K||null===(K=K.control)||void 0===K||!K.pristine)}get isDirty(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.dirty)}get isValid(){var L,le,K;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(le=L._status)||void 0===le||le.call(L),!(null===(K=this._cd)||void 0===K||null===(K=K.control)||void 0===K||!K.valid)}get isInvalid(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.invalid)}get isPending(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.pending)}get isSubmitted(){var L,le,K;return null===(L=this._cd)||void 0===L||null===(le=L._submitted)||void 0===le||le.call(L),!(null===(K=this._cd)||void 0===K||!K.submitted)}}let Hn=(()=>{var Z;class L extends Ft{constructor(K){super(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Ut,2))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(K,ye){2&K&&d.AVh("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)},features:[d.Vt3]}),L})(),Mn=(()=>{var Z;class L extends Ft{constructor(K){super(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Le,10))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(K,ye){2&K&&d.AVh("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)("ng-submitted",ye.isSubmitted)},features:[d.Vt3]}),L})();const Yt="VALID",At="INVALID",$e="PENDING",ct="DISABLED";class J{}class Q extends J{constructor(L,le){super(),this.value=L,this.source=le}}class ne extends J{constructor(L,le){super(),this.pristine=L,this.source=le}}class ke extends J{constructor(L,le){super(),this.touched=L,this.source=le}}class je extends J{constructor(L,le){super(),this.status=L,this.source=le}}class tn extends J{constructor(L){super(),this.source=L}}class Sn extends J{constructor(L){super(),this.source=L}}function Ve(Z){return(Je(Z)?Z.validators:Z)||null}function oe(Z,L){return(Je(L)?L.asyncValidators:Z)||null}function Je(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function bn(Z,L,le){const K=Z.controls;if(!(L?Object.keys(K):K).length)throw new d.wOt(1e3,"");if(!K[le])throw new d.wOt(1001,"")}function Xn(Z,L,le){Z._forEachChild((K,ye)=>{if(void 0===le[ye])throw new d.wOt(1002,"")})}class Bn{constructor(L,le){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new Ct.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(le)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(L){(0,d.O8t)(()=>this.statusReactive.set(L))}get valid(){return this.status===Yt}get invalid(){return this.status===At}get pending(){return this.status==$e}get disabled(){return this.status===ct}get enabled(){return this.status!==ct}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(L){(0,d.O8t)(()=>this.pristineReactive.set(L))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(L){(0,d.O8t)(()=>this.touchedReactive.set(L))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(Un(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Un(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(sn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(sn(L,this._rawAsyncValidators))}hasValidator(L){return zt(this._rawValidators,L)}hasAsyncValidator(L){return zt(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){var le;const K=!1===this.touched;this.touched=!0;const ye=null!==(le=L.sourceControl)&&void 0!==le?le:this;this._parent&&!L.onlySelf&&this._parent.markAsTouched({...L,sourceControl:ye}),K&&!1!==L.emitEvent&&this._events.next(new ke(!0,ye))}markAllAsTouched(L={}){this.markAsTouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:this}),this._forEachChild(le=>le.markAllAsTouched(L))}markAsUntouched(L={}){var le;const K=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ye=null!==(le=L.sourceControl)&&void 0!==le?le:this;this._forEachChild(_n=>{_n.markAsUntouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:ye})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,ye),K&&!1!==L.emitEvent&&this._events.next(new ke(!1,ye))}markAsDirty(L={}){var le;const K=!0===this.pristine;this.pristine=!1;const ye=null!==(le=L.sourceControl)&&void 0!==le?le:this;this._parent&&!L.onlySelf&&this._parent.markAsDirty({...L,sourceControl:ye}),K&&!1!==L.emitEvent&&this._events.next(new ne(!1,ye))}markAsPristine(L={}){var le;const K=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ye=null!==(le=L.sourceControl)&&void 0!==le?le:this;this._forEachChild(_n=>{_n.markAsPristine({onlySelf:!0,emitEvent:L.emitEvent})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L,ye),K&&!1!==L.emitEvent&&this._events.next(new ne(!0,ye))}markAsPending(L={}){var le;this.status=$e;const K=null!==(le=L.sourceControl)&&void 0!==le?le:this;!1!==L.emitEvent&&(this._events.next(new je(this.status,K)),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.markAsPending({...L,sourceControl:K})}disable(L={}){var le;const K=this._parentMarkedDirty(L.onlySelf);this.status=ct,this.errors=null,this._forEachChild(_n=>{_n.disable({...L,onlySelf:!0})}),this._updateValue();const ye=null!==(le=L.sourceControl)&&void 0!==le?le:this;!1!==L.emitEvent&&(this._events.next(new Q(this.value,ye)),this._events.next(new je(this.status,ye)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:K},this),this._onDisabledChange.forEach(_n=>_n(!0))}enable(L={}){const le=this._parentMarkedDirty(L.onlySelf);this.status=Yt,this._forEachChild(K=>{K.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:le},this),this._onDisabledChange.forEach(K=>K(!1))}_updateAncestors(L,le){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine({},le),this._parent._updateTouched({},le))}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){var le;if(this._setInitialStatus(),this._updateValue(),this.enabled){const ye=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yt||this.status===$e)&&this._runAsyncValidator(ye,L.emitEvent)}const K=null!==(le=L.sourceControl)&&void 0!==le?le:this;!1!==L.emitEvent&&(this._events.next(new Q(this.value,K)),this._events.next(new je(this.status,K)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity({...L,sourceControl:K})}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(le=>le._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ct:Yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L,le){if(this.asyncValidator){this.status=$e,this._hasOwnPendingAsyncValidator={emitEvent:!1!==le};const K=Oe(this.asyncValidator(this));this._asyncValidationSubscription=K.subscribe(ye=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ye,{emitEvent:le,shouldHaveEmitted:L})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var L,le;this._asyncValidationSubscription.unsubscribe();const K=null!==(L=null===(le=this._hasOwnPendingAsyncValidator)||void 0===le?void 0:le.emitEvent)&&void 0!==L&&L;return this._hasOwnPendingAsyncValidator=null,K}return!1}setErrors(L,le={}){this.errors=L,this._updateControlsErrors(!1!==le.emitEvent,this,le.shouldHaveEmitted)}get(L){let le=L;return null==le||(Array.isArray(le)||(le=le.split(".")),0===le.length)?null:le.reduce((K,ye)=>K&&K._find(ye),this)}getError(L,le){const K=le?this.get(le):this;return K&&K.errors?K.errors[L]:null}hasError(L,le){return!!this.getError(L,le)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L,le,K){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),(L||K)&&this._events.next(new je(this.status,le)),this._parent&&this._parent._updateControlsErrors(L,le,K)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?ct:this.errors?At:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($e)?$e:this._anyControlsHaveStatus(At)?At:Yt}_anyControlsHaveStatus(L){return this._anyControls(le=>le.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L,le){const K=!this._anyControlsDirty(),ye=this.pristine!==K;this.pristine=K,this._parent&&!L.onlySelf&&this._parent._updatePristine(L,le),ye&&this._events.next(new ne(this.pristine,le))}_updateTouched(L={},le){this.touched=this._anyControlsTouched(),this._events.next(new ke(this.touched,le)),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,le)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Je(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function ve(Z){return Array.isArray(Z)?Bt(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function Nt(Z){return Array.isArray(Z)?bt(Z):Z||null}(this._rawAsyncValidators)}}class Gr extends Bn{constructor(L,le,K){super(Ve(le),oe(K,le)),this.controls=L,this._initObservables(),this._setUpdateStrategy(le),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,le){return this.controls[L]?this.controls[L]:(this.controls[L]=le,le.setParent(this),le._registerOnCollectionChange(this._onCollectionChange),le)}addControl(L,le,K={}){this.registerControl(L,le),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}removeControl(L,le={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}setControl(L,le,K={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],le&&this.registerControl(L,le),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,le={}){Xn(this,0,L),Object.keys(L).forEach(K=>{bn(this,!0,K),this.controls[K].setValue(L[K],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le)}patchValue(L,le={}){null!=L&&(Object.keys(L).forEach(K=>{const ye=this.controls[K];ye&&ye.patchValue(L[K],{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le))}reset(L={},le={}){this._forEachChild((K,ye)=>{K.reset(L?L[ye]:null,{onlySelf:!0,emitEvent:le.emitEvent})}),this._updatePristine(le,this),this._updateTouched(le,this),this.updateValueAndValidity(le)}getRawValue(){return this._reduceChildren({},(L,le,K)=>(L[K]=le.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(le,K)=>!!K._syncPendingControls()||le);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(le=>{const K=this.controls[le];K&&L(K,le)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[le,K]of Object.entries(this.controls))if(this.contains(le)&&L(K))return!0;return!1}_reduceValue(){return this._reduceChildren({},(le,K,ye)=>((K.enabled||this.disabled)&&(le[ye]=K.value),le))}_reduceChildren(L,le){let K=L;return this._forEachChild((ye,_n)=>{K=le(K,ye,_n)}),K}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class Wi extends Gr{}const Ye=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ae}),Ae="always";function wt(Z,L){return[...L.path,Z]}function he(Z,L,le=Ae){var K,ye;gn(Z,L),L.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===le)&&(null===(K=(ye=L.valueAccessor).setDisabledState)||void 0===K||K.call(ye,Z.disabled)),function Yn(Z,L){L.valueAccessor.registerOnChange(le=>{Z._pendingValue=le,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&sr(Z,L)})}(Z,L),function Hi(Z,L){const le=(K,ye)=>{L.valueAccessor.writeValue(K),ye&&L.viewToModelUpdate(K)};Z.registerOnChange(le),L._registerOnDestroy(()=>{Z._unregisterOnChange(le)})}(Z,L),function Sr(Z,L){L.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&sr(Z,L),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,L),function Qt(Z,L){if(L.valueAccessor.setDisabledState){const le=K=>{L.valueAccessor.setDisabledState(K)};Z.registerOnDisabledChange(le),L._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(le)})}}(Z,L)}function ce(Z,L,le=!0){const K=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(K),L.valueAccessor.registerOnTouched(K)),On(Z,L),Z&&(L._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function ze(Z,L){Z.forEach(le=>{le.registerOnValidatorChange&&le.registerOnValidatorChange(L)})}function gn(Z,L){const le=Ln(Z);null!==L.validator?Z.setValidators(In(le,L.validator)):"function"==typeof le&&Z.setValidators([le]);const K=qn(Z);null!==L.asyncValidator?Z.setAsyncValidators(In(K,L.asyncValidator)):"function"==typeof K&&Z.setAsyncValidators([K]);const ye=()=>Z.updateValueAndValidity();ze(L._rawValidators,ye),ze(L._rawAsyncValidators,ye)}function On(Z,L){let le=!1;if(null!==Z){if(null!==L.validator){const ye=Ln(Z);if(Array.isArray(ye)&&ye.length>0){const _n=ye.filter(cr=>cr!==L.validator);_n.length!==ye.length&&(le=!0,Z.setValidators(_n))}}if(null!==L.asyncValidator){const ye=qn(Z);if(Array.isArray(ye)&&ye.length>0){const _n=ye.filter(cr=>cr!==L.asyncValidator);_n.length!==ye.length&&(le=!0,Z.setAsyncValidators(_n))}}}const K=()=>{};return ze(L._rawValidators,K),ze(L._rawAsyncValidators,K),le}function sr(Z,L){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function po(Z,L){if(!Z.hasOwnProperty("model"))return!1;const le=Z.model;return!!le.isFirstChange()||!Object.is(L,le.currentValue)}function Ji(Z,L){if(!L)return null;let le,K,ye;return Array.isArray(L),L.forEach(_n=>{_n.constructor===xe?le=_n:function Ao(Z){return Object.getPrototypeOf(Z.constructor)===pt}(_n)?K=_n:ye=_n}),ye||K||le||null}function fs(Z,L){const le=Z.indexOf(L);le>-1&&Z.splice(le,1)}function jn(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}Promise.resolve();const jr=class extends Bn{constructor(L=null,le,K){super(Ve(le),oe(K,le)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(le),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Je(le)&&(le.nonNullable||le.initialValueIsDefault)&&(this.defaultValue=jn(L)?L.value:L)}setValue(L,le={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==le.emitModelToViewChange&&this._onChange.forEach(K=>K(this.value,!1!==le.emitViewToModelChange)),this.updateValueAndValidity(le)}patchValue(L,le={}){this.setValue(L,le)}reset(L=this.defaultValue,le={}){this._applyFormState(L),this.markAsPristine(le),this.markAsUntouched(le),this.setValue(this.value,le),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){fs(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){fs(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){jn(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}};let mo=(()=>{var Z;class L extends Le{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(Z=L).\u0275fac=(()=>{let le;return function(ye){return(le||(le=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,features:[d.Vt3]}),L})();const Ii={provide:Ut,useExisting:(0,d.Rfq)(()=>br)},Pi=Promise.resolve();let br=(()=>{var Z;class L extends Ut{constructor(K,ye,_n,cr,xi,Vi){super(),this._changeDetectorRef=xi,this.callSetDisabledState=Vi,this.control=new jr,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=K,this._setValidators(ye),this._setAsyncValidators(_n),this.valueAccessor=Ji(0,cr)}ngOnChanges(K){if(this._checkForErrors(),!this._registered||"name"in K){if(this._registered&&(this._checkName(),this.formDirective)){const ye=K.name.previousValue;this.formDirective.removeControl({name:ye,path:this._getPath(ye)})}this._setUpControl()}"isDisabled"in K&&this._updateDisabled(K),po(K,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){he(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(K){Pi.then(()=>{var ye;this.control.setValue(K,{emitViewToModelChange:!1}),null===(ye=this._changeDetectorRef)||void 0===ye||ye.markForCheck()})}_updateDisabled(K){const ye=K.isDisabled.currentValue,_n=0!==ye&&(0,d.L39)(ye);Pi.then(()=>{var cr;_n&&!this.control.disabled?this.control.disable():!_n&&this.control.disabled&&this.control.enable(),null===(cr=this._changeDetectorRef)||void 0===cr||cr.markForCheck()})}_getPath(K){return this._parent?wt(K,this._parent):[K]}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Le,9),d.rXU(ht,10),d.rXU(nt,10),d.rXU(Et,10),d.rXU(d.gRc,8),d.rXU(Ye,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Ii]),d.Vt3,d.OA$]}),L})(),Yo=(()=>{var Z;class L{}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275dir=d.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const A=new d.nKC(""),ot={provide:Le,useExisting:(0,d.Rfq)(()=>an)};let an=(()=>{var Z;class L extends Le{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(K){this._submittedReactive.set(K)}constructor(K,ye,_n){super(),this.callSetDisabledState=_n,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(K),this._setAsyncValidators(ye)}ngOnChanges(K){this._checkFormPresent(),K.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(On(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(K){const ye=this.form.get(K.path);return he(ye,K,this.callSetDisabledState),ye.updateValueAndValidity({emitEvent:!1}),this.directives.push(K),ye}getControl(K){return this.form.get(K.path)}removeControl(K){ce(K.control||null,K,!1),function jo(Z,L){const le=Z.indexOf(L);le>-1&&Z.splice(le,1)}(this.directives,K)}addFormGroup(K){this._setUpFormContainer(K)}removeFormGroup(K){this._cleanUpFormContainer(K)}getFormGroup(K){return this.form.get(K.path)}addFormArray(K){this._setUpFormContainer(K)}removeFormArray(K){this._cleanUpFormContainer(K)}getFormArray(K){return this.form.get(K.path)}updateModel(K,ye){this.form.get(K.path).setValue(ye)}onSubmit(K){var ye;return this._submittedReactive.set(!0),function qo(Z,L){Z._syncPendingControls(),L.forEach(le=>{const K=le.control;"submit"===K.updateOn&&K._pendingChange&&(le.viewToModelUpdate(K._pendingValue),K._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(K),this.form._events.next(new tn(this.control)),"dialog"===(null==K||null===(ye=K.target)||void 0===ye?void 0:ye.method)}onReset(){this.resetForm()}resetForm(K=void 0){this.form.reset(K),this._submittedReactive.set(!1),this.form._events.next(new Sn(this.form))}_updateDomValue(){this.directives.forEach(K=>{const ye=K.control,_n=this.form.get(K.path);ye!==_n&&(ce(ye||null,K),(Z=>Z instanceof jr)(_n)&&(he(_n,K,this.callSetDisabledState),K.control=_n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(K){const ye=this.form.get(K.path);(function mr(Z,L){gn(Z,L)})(ye,K),ye.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(K){if(this.form){const ye=this.form.get(K.path);ye&&function Ri(Z,L){return On(Z,L)}(ye,K)&&ye.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gn(this.form,this),this._oldForm&&On(this._oldForm,this)}_checkFormPresent(){}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(ht,10),d.rXU(nt,10),d.rXU(Ye,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formGroup",""]],hostBindings:function(K,ye){1&K&&d.bIt("submit",function(cr){return ye.onSubmit(cr)})("reset",function(){return ye.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([ot]),d.Vt3,d.OA$]}),L})();const Tt={provide:Le,useExisting:(0,d.Rfq)(()=>qt)};let qt=(()=>{var Z;class L extends mo{constructor(K,ye,_n){super(),this.name=null,this._parent=K,this._setValidators(ye),this._setAsyncValidators(_n)}_checkParentType(){Wn(this._parent)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Le,13),d.rXU(ht,10),d.rXU(nt,10))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[d.Jv_([Tt]),d.Vt3]}),L})();const dn={provide:Le,useExisting:(0,d.Rfq)(()=>xn)};let xn=(()=>{var Z;class L extends Le{constructor(K,ye,_n){super(),this.name=null,this._parent=K,this._setValidators(ye),this._setAsyncValidators(_n)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Wn(this._parent)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Le,13),d.rXU(ht,10),d.rXU(nt,10))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[d.Jv_([dn]),d.Vt3]}),L})();function Wn(Z){return!(Z instanceof qt||Z instanceof an||Z instanceof xn)}const er={provide:Ut,useExisting:(0,d.Rfq)(()=>lr)};let lr=(()=>{var Z;class L extends Ut{set isDisabled(K){}constructor(K,ye,_n,cr,xi){super(),this._ngModelWarningConfig=xi,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=K,this._setValidators(ye),this._setAsyncValidators(_n),this.valueAccessor=Ji(0,cr)}ngOnChanges(K){this._added||this._setUpControl(),po(K,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(Z=L)._ngModelWarningSentOnce=!1,Z.\u0275fac=function(K){return new(K||Z)(d.rXU(Le,13),d.rXU(ht,10),d.rXU(nt,10),d.rXU(Et,10),d.rXU(A,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([er]),d.Vt3,d.OA$]}),L})();function ps(Z){return"number"==typeof Z?Z:parseFloat(Z)}let ko=(()=>{var Z;class L{constructor(){this._validator=Se}ngOnChanges(K){if(this.inputName in K){const ye=this.normalizeInput(K[this.inputName].currentValue);this._enabled=this.enabled(ye),this._validator=this._enabled?this.createValidator(ye):Se,this._onChange&&this._onChange()}}validate(K){return this._validator(K)}registerOnValidatorChange(K){this._onChange=K}enabled(K){return null!=K}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275dir=d.FsC({type:Z,features:[d.OA$]}),L})();const vo={provide:ht,useExisting:(0,d.Rfq)(()=>os),multi:!0};let os=(()=>{var Z;class L extends ko{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=K=>ps(K),this.createValidator=K=>Ze(K)}}return(Z=L).\u0275fac=(()=>{let le;return function(ye){return(le||(le=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(K,ye){2&K&&d.BMQ("max",ye._enabled?ye.max:null)},inputs:{max:"max"},features:[d.Jv_([vo]),d.Vt3]}),L})();const ri={provide:ht,useExisting:(0,d.Rfq)(()=>ta),multi:!0};let ta=(()=>{var Z;class L extends ko{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=K=>ps(K),this.createValidator=K=>mt(K)}}return(Z=L).\u0275fac=(()=>{let le;return function(ye){return(le||(le=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(K,ye){2&K&&d.BMQ("min",ye._enabled?ye.min:null)},inputs:{min:"min"},features:[d.Jv_([ri]),d.Vt3]}),L})();const Os={provide:ht,useExisting:(0,d.Rfq)(()=>Cs),multi:!0};let Cs=(()=>{var Z;class L extends ko{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=K=>Lt}enabled(K){return K}}return(Z=L).\u0275fac=(()=>{let le;return function(ye){return(le||(le=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(K,ye){2&K&&d.BMQ("required",ye._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([Os]),d.Vt3]}),L})(),ss=(()=>{var Z;class L{}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275mod=d.$C({type:Z}),Z.\u0275inj=d.G2t({}),L})();class ai extends Bn{constructor(L,le,K){super(Ve(le),oe(K,le)),this.controls=L,this._initObservables(),this._setUpdateStrategy(le),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,le={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:le.emitEvent}),this._onCollectionChange()}insert(L,le,K={}){this.controls.splice(L,0,le),this._registerControl(le),this.updateValueAndValidity({emitEvent:K.emitEvent})}removeAt(L,le={}){let K=this._adjustIndex(L);K<0&&(K=0),this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),this.controls.splice(K,1),this.updateValueAndValidity({emitEvent:le.emitEvent})}setControl(L,le,K={}){let ye=this._adjustIndex(L);ye<0&&(ye=0),this.controls[ye]&&this.controls[ye]._registerOnCollectionChange(()=>{}),this.controls.splice(ye,1),le&&(this.controls.splice(ye,0,le),this._registerControl(le)),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,le={}){Xn(this,0,L),L.forEach((K,ye)=>{bn(this,!1,ye),this.at(ye).setValue(K,{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le)}patchValue(L,le={}){null!=L&&(L.forEach((K,ye)=>{this.at(ye)&&this.at(ye).patchValue(K,{onlySelf:!0,emitEvent:le.emitEvent})}),this.updateValueAndValidity(le))}reset(L=[],le={}){this._forEachChild((K,ye)=>{K.reset(L[ye],{onlySelf:!0,emitEvent:le.emitEvent})}),this._updatePristine(le,this),this._updateTouched(le,this),this.updateValueAndValidity(le)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(le=>le._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((le,K)=>!!K._syncPendingControls()||le,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((le,K)=>{L(le,K)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(le=>le.enabled&&L(le))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){var le;return null!==(le=this.at(L))&&void 0!==le?le:null}}function _i(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let As=(()=>{var Z;class L{constructor(){this.useNonNullable=!1}get nonNullable(){const K=new L;return K.useNonNullable=!0,K}group(K,ye=null){const _n=this._reduceControls(K);let cr={};return _i(ye)?cr=ye:null!==ye&&(cr.validators=ye.validator,cr.asyncValidators=ye.asyncValidator),new Gr(_n,cr)}record(K,ye=null){const _n=this._reduceControls(K);return new Wi(_n,ye)}control(K,ye,_n){let cr={};return this.useNonNullable?(_i(ye)?cr=ye:(cr.validators=ye,cr.asyncValidators=_n),new jr(K,{...cr,nonNullable:!0})):new jr(K,ye,_n)}array(K,ye,_n){const cr=K.map(xi=>this._createControl(xi));return new ai(cr,ye,_n)}_reduceControls(K){const ye={};return Object.keys(K).forEach(_n=>{ye[_n]=this._createControl(K[_n])}),ye}_createControl(K){return K instanceof jr||K instanceof Bn?K:Array.isArray(K)?this.control(K[0],K.length>1?K[1]:null,K.length>2?K[2]:null):this.control(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275prov=d.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"}),L})(),Jo=(()=>{var Z;class L{static withConfig(K){var ye;return{ngModule:L,providers:[{provide:Ye,useValue:null!==(ye=K.callSetDisabledState)&&void 0!==ye?ye:Ae}]}}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275mod=d.$C({type:Z}),Z.\u0275inj=d.G2t({imports:[ss]}),L})(),ya=(()=>{var Z;class L{static withConfig(K){var ye,_n;return{ngModule:L,providers:[{provide:A,useValue:null!==(ye=K.warnOnNgModelWithFormControl)&&void 0!==ye?ye:"always"},{provide:Ye,useValue:null!==(_n=K.callSetDisabledState)&&void 0!==_n?_n:Ae}]}}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275mod=d.$C({type:Z}),Z.\u0275inj=d.G2t({imports:[ss]}),L})()},345:(kn,Mt,V)=>{"use strict";V.d(Mt,{Bb:()=>qn,hE:()=>Un,sG:()=>Fn});var d=V(177),o=V(4438);class $ extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class be extends ${static makeCurrent(){(0,d.ZD)(new be)}onAndCancel(Rt,Yt,At){return Rt.addEventListener(Yt,At),()=>{Rt.removeEventListener(Yt,At)}}dispatchEvent(Rt,Yt){Rt.dispatchEvent(Yt)}remove(Rt){Rt.remove()}createElement(Rt,Yt){return(Yt=Yt||this.getDefaultDocument()).createElement(Rt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Rt){return Rt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Rt){return Rt instanceof DocumentFragment}getGlobalEventTarget(Rt,Yt){return"window"===Yt?window:"document"===Yt?Rt:"body"===Yt?Rt.body:null}getBaseHref(Rt){const Yt=function Ce(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==Yt?null:function Re(Xt){return new URL(Xt,document.baseURI).pathname}(Yt)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(Rt){return(0,d._b)(document.cookie,Rt)}}let W=null,ft=(()=>{var Xt;class Rt{build(){return new XMLHttpRequest}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)},Xt.\u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac}),Rt})();const it=new o.nKC("");let Me=(()=>{var Xt;class Rt{constructor(At,$e){this._zone=$e,this._eventNameToPlugin=new Map,At.forEach(ct=>{ct.manager=this}),this._plugins=At.slice().reverse()}addEventListener(At,$e,ct){return this._findPluginFor($e).addEventListener(At,$e,ct)}getZone(){return this._zone}_findPluginFor(At){let $e=this._eventNameToPlugin.get(At);if($e)return $e;if($e=this._plugins.find(J=>J.supports(At)),!$e)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(At,$e),$e}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)(o.KVO(it),o.KVO(o.SKi))},Xt.\u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac}),Rt})();class Ct{constructor(Rt){this._doc=Rt}}const at="ng-app-id";let et=(()=>{var Xt;class Rt{constructor(At,$e,ct,J={}){this.doc=At,this.appId=$e,this.nonce=ct,this.platformId=J,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(J),this.resetHostNodes()}addStyles(At){for(const $e of At)1===this.changeUsageCount($e,1)&&this.onStyleAdded($e)}removeStyles(At){for(const $e of At)this.changeUsageCount($e,-1)<=0&&this.onStyleRemoved($e)}ngOnDestroy(){const At=this.styleNodesInDOM;At&&(At.forEach($e=>$e.remove()),At.clear());for(const $e of this.getAllStyles())this.onStyleRemoved($e);this.resetHostNodes()}addHost(At){this.hostNodes.add(At);for(const $e of this.getAllStyles())this.addStyleToHost(At,$e)}removeHost(At){this.hostNodes.delete(At)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(At){for(const $e of this.hostNodes)this.addStyleToHost($e,At)}onStyleRemoved(At){var $e;const ct=this.styleRef;null===($e=ct.get(At))||void 0===$e||null===($e=$e.elements)||void 0===$e||$e.forEach(J=>J.remove()),ct.delete(At)}collectServerRenderedStyles(){var At;const $e=null===(At=this.doc.head)||void 0===At?void 0:At.querySelectorAll(`style[${at}="${this.appId}"]`);if(null!=$e&&$e.length){const ct=new Map;return $e.forEach(J=>{null!=J.textContent&&ct.set(J.textContent,J)}),ct}return null}changeUsageCount(At,$e){const ct=this.styleRef;if(ct.has(At)){const J=ct.get(At);return J.usage+=$e,J.usage}return ct.set(At,{usage:$e,elements:[]}),$e}getStyleElement(At,$e){const ct=this.styleNodesInDOM,J=null==ct?void 0:ct.get($e);if((null==J?void 0:J.parentNode)===At)return ct.delete($e),J.removeAttribute(at),J;{const Q=this.doc.createElement("style");return this.nonce&&Q.setAttribute("nonce",this.nonce),Q.textContent=$e,this.platformIsServer&&Q.setAttribute(at,this.appId),At.appendChild(Q),Q}}addStyleToHost(At,$e){var ct;const J=this.getStyleElement(At,$e),Q=this.styleRef,ne=null===(ct=Q.get($e))||void 0===ct?void 0:ct.elements;ne?ne.push(J):Q.set($e,{elements:[J],usage:1})}resetHostNodes(){const At=this.hostNodes;At.clear(),At.add(this.doc.head)}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)(o.KVO(d.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))},Xt.\u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac}),Rt})();const pt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Et=/%COMP%/g,we=new o.nKC("",{providedIn:"root",factory:()=>!0});function st(Xt,Rt){return Rt.map(Yt=>Yt.replace(Et,Xt))}let ht=(()=>{var Xt;class Rt{constructor(At,$e,ct,J,Q,ne,ke,je=null){this.eventManager=At,this.sharedStylesHost=$e,this.appId=ct,this.removeStylesOnCompDestroy=J,this.doc=Q,this.platformId=ne,this.ngZone=ke,this.nonce=je,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(ne),this.defaultRenderer=new nt(At,Q,ke,this.platformIsServer)}createRenderer(At,$e){if(!At||!$e)return this.defaultRenderer;this.platformIsServer&&$e.encapsulation===o.gXe.ShadowDom&&($e={...$e,encapsulation:o.gXe.Emulated});const ct=this.getOrCreateRenderer(At,$e);return ct instanceof Vt?ct.applyToHost(At):ct instanceof Lt&&ct.applyStyles(),ct}getOrCreateRenderer(At,$e){const ct=this.rendererByCompId;let J=ct.get($e.id);if(!J){const Q=this.doc,ne=this.ngZone,ke=this.eventManager,je=this.sharedStylesHost,tn=this.removeStylesOnCompDestroy,Sn=this.platformIsServer;switch($e.encapsulation){case o.gXe.Emulated:J=new Vt(ke,je,$e,this.appId,tn,Q,ne,Sn);break;case o.gXe.ShadowDom:return new Ze(ke,je,At,$e,Q,ne,this.nonce,Sn);default:J=new Lt(ke,je,$e,tn,Q,ne,Sn)}ct.set($e.id,J)}return J}ngOnDestroy(){this.rendererByCompId.clear()}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)(o.KVO(Me),o.KVO(et),o.KVO(o.sZ2),o.KVO(we),o.KVO(d.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))},Xt.\u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac}),Rt})();class nt{constructor(Rt,Yt,At,$e){this.eventManager=Rt,this.doc=Yt,this.ngZone=At,this.platformIsServer=$e,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Rt,Yt){return Yt?this.doc.createElementNS(pt[Yt]||Yt,Rt):this.doc.createElement(Rt)}createComment(Rt){return this.doc.createComment(Rt)}createText(Rt){return this.doc.createTextNode(Rt)}appendChild(Rt,Yt){(mt(Rt)?Rt.content:Rt).appendChild(Yt)}insertBefore(Rt,Yt,At){Rt&&(mt(Rt)?Rt.content:Rt).insertBefore(Yt,At)}removeChild(Rt,Yt){Yt.remove()}selectRootElement(Rt,Yt){let At="string"==typeof Rt?this.doc.querySelector(Rt):Rt;if(!At)throw new o.wOt(-5104,!1);return Yt||(At.textContent=""),At}parentNode(Rt){return Rt.parentNode}nextSibling(Rt){return Rt.nextSibling}setAttribute(Rt,Yt,At,$e){if($e){Yt=$e+":"+Yt;const ct=pt[$e];ct?Rt.setAttributeNS(ct,Yt,At):Rt.setAttribute(Yt,At)}else Rt.setAttribute(Yt,At)}removeAttribute(Rt,Yt,At){if(At){const $e=pt[At];$e?Rt.removeAttributeNS($e,Yt):Rt.removeAttribute(`${At}:${Yt}`)}else Rt.removeAttribute(Yt)}addClass(Rt,Yt){Rt.classList.add(Yt)}removeClass(Rt,Yt){Rt.classList.remove(Yt)}setStyle(Rt,Yt,At,$e){$e&(o.czy.DashCase|o.czy.Important)?Rt.style.setProperty(Yt,At,$e&o.czy.Important?"important":""):Rt.style[Yt]=At}removeStyle(Rt,Yt,At){At&o.czy.DashCase?Rt.style.removeProperty(Yt):Rt.style[Yt]=""}setProperty(Rt,Yt,At){null!=Rt&&(Rt[Yt]=At)}setValue(Rt,Yt){Rt.nodeValue=Yt}listen(Rt,Yt,At){if("string"==typeof Rt&&!(Rt=(0,d.QT)().getGlobalEventTarget(this.doc,Rt)))throw new Error(`Unsupported event target ${Rt} for event ${Yt}`);return this.eventManager.addEventListener(Rt,Yt,this.decoratePreventDefault(At))}decoratePreventDefault(Rt){return Yt=>{if("__ngUnwrap__"===Yt)return Rt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Rt(Yt)):Rt(Yt))&&Yt.preventDefault()}}}function mt(Xt){return"TEMPLATE"===Xt.tagName&&void 0!==Xt.content}class Ze extends nt{constructor(Rt,Yt,At,$e,ct,J,Q,ne){super(Rt,ct,J,ne),this.sharedStylesHost=Yt,this.hostEl=At,this.shadowRoot=At.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ke=st($e.id,$e.styles);for(const je of ke){const tn=document.createElement("style");Q&&tn.setAttribute("nonce",Q),tn.textContent=je,this.shadowRoot.appendChild(tn)}}nodeOrShadowRoot(Rt){return Rt===this.hostEl?this.shadowRoot:Rt}appendChild(Rt,Yt){return super.appendChild(this.nodeOrShadowRoot(Rt),Yt)}insertBefore(Rt,Yt,At){return super.insertBefore(this.nodeOrShadowRoot(Rt),Yt,At)}removeChild(Rt,Yt){return super.removeChild(null,Yt)}parentNode(Rt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Rt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Lt extends nt{constructor(Rt,Yt,At,$e,ct,J,Q,ne){super(Rt,ct,J,Q),this.sharedStylesHost=Yt,this.removeStylesOnCompDestroy=$e,this.styles=ne?st(ne,At.styles):At.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vt extends Lt{constructor(Rt,Yt,At,$e,ct,J,Q,ne){const ke=$e+"-"+At.id;super(Rt,Yt,At,ct,J,Q,ne,ke),this.contentAttr=function xe(Xt){return"_ngcontent-%COMP%".replace(Et,Xt)}(ke),this.hostAttr=function Ne(Xt){return"_nghost-%COMP%".replace(Et,Xt)}(ke)}applyToHost(Rt){this.applyStyles(),this.setAttribute(Rt,this.hostAttr,"")}createElement(Rt,Yt){const At=super.createElement(Rt,Yt);return super.setAttribute(At,this.contentAttr,""),At}}let pn=(()=>{var Xt;class Rt extends Ct{constructor(At){super(At)}supports(At){return!0}addEventListener(At,$e,ct){return At.addEventListener($e,ct,!1),()=>this.removeEventListener(At,$e,ct)}removeEventListener(At,$e,ct){return At.removeEventListener($e,ct)}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)(o.KVO(d.qQ))},Xt.\u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac}),Rt})();const We=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_e={alt:Xt=>Xt.altKey,control:Xt=>Xt.ctrlKey,meta:Xt=>Xt.metaKey,shift:Xt=>Xt.shiftKey};let Se=(()=>{var Xt;class Rt extends Ct{constructor(At){super(At)}supports(At){return null!=Rt.parseEventName(At)}addEventListener(At,$e,ct){const J=Rt.parseEventName($e),Q=Rt.eventCallback(J.fullKey,ct,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(At,J.domEventName,Q))}static parseEventName(At){const $e=At.toLowerCase().split("."),ct=$e.shift();if(0===$e.length||"keydown"!==ct&&"keyup"!==ct)return null;const J=Rt._normalizeKey($e.pop());let Q="",ne=$e.indexOf("code");if(ne>-1&&($e.splice(ne,1),Q="code."),We.forEach(je=>{const tn=$e.indexOf(je);tn>-1&&($e.splice(tn,1),Q+=je+".")}),Q+=J,0!=$e.length||0===J.length)return null;const ke={};return ke.domEventName=ct,ke.fullKey=Q,ke}static matchEventFullKeyCode(At,$e){let ct=De[At.key]||At.key,J="";return $e.indexOf("code.")>-1&&(ct=At.code,J="code."),!(null==ct||!ct)&&(ct=ct.toLowerCase()," "===ct?ct="space":"."===ct&&(ct="dot"),We.forEach(Q=>{Q!==ct&&(0,_e[Q])(At)&&(J+=Q+".")}),J+=ct,J===$e)}static eventCallback(At,$e,ct){return J=>{Rt.matchEventFullKeyCode(J,At)&&ct.runGuarded(()=>$e(J))}}static _normalizeKey(At){return"esc"===At?"escape":At}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)(o.KVO(d.qQ))},Xt.\u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac}),Rt})();const Fn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:d.AJ},{provide:o.PLl,useValue:function He(){be.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function yt(){return(0,o.TL$)(document),document},deps:[]}]),bt=new o.nKC(""),In=[{provide:o.e01,useClass:class Ge{addToWindow(Rt){o.JZv.getAngularTestability=(At,$e=!0)=>{const ct=Rt.findTestabilityInTree(At,$e);if(null==ct)throw new o.wOt(5103,!1);return ct},o.JZv.getAllAngularTestabilities=()=>Rt.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>Rt.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(At=>{const $e=o.JZv.getAllAngularTestabilities();let ct=$e.length;const J=function(){ct--,0==ct&&At()};$e.forEach(Q=>{Q.whenStable(J)})})}findTestabilityInTree(Rt,Yt,At){if(null==Yt)return null;const $e=Rt.getTestability(Yt);return null!=$e?$e:At?(0,d.QT)().isShadowRoot(Yt)?this.findTestabilityInTree(Rt,Yt.host,!0):this.findTestabilityInTree(Rt,Yt.parentElement,!0):null}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],Ln=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function lt(){return new o.zcH},deps:[]},{provide:it,useClass:pn,multi:!0,deps:[d.qQ,o.SKi,o.Agw]},{provide:it,useClass:Se,multi:!0,deps:[d.qQ]},ht,et,Me,{provide:o._9s,useExisting:ht},{provide:d.N0,useClass:ft,deps:[]},[]];let qn=(()=>{var Xt;class Rt{constructor(At){}static withServerTransition(At){return{ngModule:Rt,providers:[{provide:o.sZ2,useValue:At.appId}]}}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)(o.KVO(bt,12))},Xt.\u0275mod=o.$C({type:Xt}),Xt.\u0275inj=o.G2t({providers:[...Ln,...In],imports:[d.MD,o.Hbi]}),Rt})(),Un=(()=>{var Xt;class Rt{constructor(At){this._doc=At}getTitle(){return this._doc.title}setTitle(At){this._doc.title=At||""}}return(Xt=Rt).\u0275fac=function(At){return new(At||Xt)(o.KVO(d.qQ))},Xt.\u0275prov=o.jDH({token:Xt,factory:Xt.\u0275fac,providedIn:"root"}),Rt})()},9384:(kn,Mt,V)=>{"use strict";V.d(Mt,{nX:()=>qt,Zp:()=>F,Z:()=>ji,Xk:()=>Bt,Kp:()=>Lo,b:()=>Qe,Ix:()=>Ui,Wk:()=>ur,wQ:()=>qi,iI:()=>ba,Sd:()=>$n});var d=V(4438),o=V(1985),$=V(8071),W=V(8455),Ce=V(7673),Re=V(4412),Ge=V(4572),ft=V(9350),it=V(8793),Me=V(8750);function Ct(T){return new o.c(x=>{(0,Me.Tg)(T()).subscribe(x)})}var at=V(1203);function et(T,x){const B=(0,$.T)(T)?T:()=>T,P=j=>j.error(B());return new o.c(x?j=>x.schedule(P,0,j):P)}var pt=V(983),Et=V(8359),vt=V(9974),ut=V(4360);function Ot(){return(0,vt.N)((T,x)=>{let B=null;T._refCount++;const P=(0,ut._)(x,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void(B=null);const j=T._connection,ge=B;B=null,j&&(!ge||j===ge)&&j.unsubscribe(),x.unsubscribe()});T.subscribe(P),P.closed||(B=T.connect())})}class St extends o.c{constructor(x,B){super(),this.source=x,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,vt.S)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new Et.yU;const B=this.getSubject();x.add(this.source.subscribe((0,ut._)(B,void 0,()=>{this._teardown(),B.complete()},P=>{this._teardown(),B.error(P)},()=>this._teardown()))),x.closed&&(this._connection=null,x=Et.yU.EMPTY)}return x}refCount(){return Ot()(this)}}var we=V(1413),xe=V(177),Ne=V(6354),st=V(5558),ht=V(6697),nt=V(9172),fe=V(5964),gt=V(1397),mt=V(1594),Ze=V(274),Lt=V(8141);function Vt(T){return(0,vt.N)((x,B)=>{let ge,P=null,j=!1;P=x.subscribe((0,ut._)(B,void 0,void 0,Te=>{ge=(0,Me.Tg)(T(Te,Vt(T)(x))),P?(P.unsubscribe(),P=null,ge.subscribe(B)):j=!0})),j&&(P.unsubscribe(),P=null,ge.subscribe(B))})}var pn=V(2816),We=V(9901);function De(T){return T<=0?()=>pt.w:(0,vt.N)((x,B)=>{let P=[];x.subscribe((0,ut._)(B,j=>{P.push(j),T<P.length&&P.shift()},()=>{for(const j of P)B.next(j);B.complete()},void 0,()=>{P=null}))})}var _e=V(3774),Se=V(3669),Ke=V(980),tt=V(5343),lt=V(6365),yt=V(345);const Bt="primary",Fn=Symbol("RouteTitle");class bt{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const B=this.params[x];return Array.isArray(B)?B[0]:B}return null}getAll(x){if(this.has(x)){const B=this.params[x];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function In(T){return new bt(T)}function Ln(T,x,B){const P=B.path.split("/");if(P.length>T.length||"full"===B.pathMatch&&(x.hasChildren()||P.length<T.length))return null;const j={};for(let ge=0;ge<P.length;ge++){const Te=P[ge],$t=T[ge];if(":"===Te[0])j[Te.substring(1)]=$t;else if(Te!==$t.path)return null}return{consumed:T.slice(0,P.length),posParams:j}}function en(T,x){const B=T?zt(T):void 0,P=x?zt(x):void 0;if(!B||!P||B.length!=P.length)return!1;let j;for(let ge=0;ge<B.length;ge++)if(j=B[ge],!Un(T[j],x[j]))return!1;return!0}function zt(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function Un(T,x){if(Array.isArray(T)&&Array.isArray(x)){if(T.length!==x.length)return!1;const B=[...T].sort(),P=[...x].sort();return B.every((j,ge)=>P[ge]===j)}return T===x}function sn(T){return T.length>0?T[T.length-1]:null}function Fe(T){return function be(T){return!!T&&(T instanceof o.c||(0,$.T)(T.lift)&&(0,$.T)(T.subscribe))}(T)?T:(0,d.jNT)(T)?(0,W.H)(Promise.resolve(T)):(0,Ce.of)(T)}const Le={exact:function or(T,x,B){if(!wn(T.segments,x.segments)||!ar(T.segments,x.segments,B)||T.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!T.children[P]||!or(T.children[P],x.children[P],B))return!1;return!0},subset:Mn},Ut={exact:function tr(T,x){return en(T,x)},subset:function Hn(T,x){return Object.keys(x).length<=Object.keys(T).length&&Object.keys(x).every(B=>Un(T[B],x[B]))},ignored:()=>!0};function Ft(T,x,B){return Le[B.paths](T.root,x.root,B.matrixParams)&&Ut[B.queryParams](T.queryParams,x.queryParams)&&!("exact"===B.fragment&&T.fragment!==x.fragment)}function Mn(T,x,B){return yr(T,x,x.segments,B)}function yr(T,x,B,P){if(T.segments.length>B.length){const j=T.segments.slice(0,B.length);return!(!wn(j,B)||x.hasChildren()||!ar(j,B,P))}if(T.segments.length===B.length){if(!wn(T.segments,B)||!ar(T.segments,B,P))return!1;for(const j in x.children)if(!T.children[j]||!Mn(T.children[j],x.children[j],P))return!1;return!0}{const j=B.slice(0,T.segments.length),ge=B.slice(T.segments.length);return!!(wn(T.segments,j)&&ar(T.segments,j,P)&&T.children[Bt])&&yr(T.children[Bt],x,ge,P)}}function ar(T,x,B){return x.every((P,j)=>Ut[B](T[j].parameters,P.parameters))}class Qn{constructor(x=new nr([],{}),B={},P=null){this.root=x,this.queryParams=B,this.fragment=P}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return Pn.serialize(this)}}class nr{constructor(x,B){this.segments=x,this.children=B,this.parent=null,Object.values(B).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ai(this)}}class fr{constructor(x,B){this.path=x,this.parameters=B}get parameterMap(){var x;return null!==(x=this._parameterMap)&&void 0!==x||(this._parameterMap=In(this.parameters)),this._parameterMap}toString(){return At(this)}}function wn(T,x){return T.length===x.length&&T.every((B,P)=>B.path===x[P].path)}let $n=(()=>{var T;class x{}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:()=>new Ir,providedIn:"root"}),x})();class Ir{parse(x){const B=new ve(x);return new Qn(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(x){const B=`/${ir(x.root,!0)}`,P=function ct(T){const x=Object.entries(T).map(([B,P])=>Array.isArray(P)?P.map(j=>`${Er(B)}=${Er(j)}`).join("&"):`${Er(B)}=${Er(P)}`).filter(B=>B);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${B}${P}${"string"==typeof x.fragment?`#${function En(T){return encodeURI(T)}(x.fragment)}`:""}`}}const Pn=new Ir;function Ai(T){return T.segments.map(x=>At(x)).join("/")}function ir(T,x){if(!T.hasChildren())return Ai(T);if(x){const B=T.children[Bt]?ir(T.children[Bt],!1):"",P=[];return Object.entries(T.children).forEach(([j,ge])=>{j!==Bt&&P.push(`${j}:${ir(ge,!1)}`)}),P.length>0?`${B}(${P.join("//")})`:B}{const B=function Ar(T,x){let B=[];return Object.entries(T.children).forEach(([P,j])=>{P===Bt&&(B=B.concat(x(j,P)))}),Object.entries(T.children).forEach(([P,j])=>{P!==Bt&&(B=B.concat(x(j,P)))}),B}(T,(P,j)=>j===Bt?[ir(T.children[Bt],!1)]:[`${j}:${ir(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Bt]?`${Ai(T)}/${B[0]}`:`${Ai(T)}/(${B.join("//")})`}}function _r(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Er(T){return _r(T).replace(/%3B/gi,";")}function Xt(T){return _r(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rt(T){return decodeURIComponent(T)}function Yt(T){return Rt(T.replace(/\+/g,"%20"))}function At(T){return`${Xt(T.path)}${function $e(T){return Object.entries(T).map(([x,B])=>`;${Xt(x)}=${Xt(B)}`).join("")}(T.parameters)}`}const J=/^[^\/()?;#]+/;function Q(T){const x=T.match(J);return x?x[0]:""}const ne=/^[^\/()?;=#]+/,je=/^[^=?&#]+/,Sn=/^[^&#]+/;class ve{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nr([],{}):new nr([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(B).length>0)&&(P[Bt]=new nr(x,B)),P}parseSegment(){const x=Q(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(x),new fr(Rt(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const B=function ke(T){const x=T.match(ne);return x?x[0]:""}(this.remaining);if(!B)return;this.capture(B);let P="";if(this.consumeOptional("=")){const j=Q(this.remaining);j&&(P=j,this.capture(P))}x[Rt(B)]=Rt(P)}parseQueryParam(x){const B=function tn(T){const x=T.match(je);return x?x[0]:""}(this.remaining);if(!B)return;this.capture(B);let P="";if(this.consumeOptional("=")){const Te=function Ve(T){const x=T.match(Sn);return x?x[0]:""}(this.remaining);Te&&(P=Te,this.capture(P))}const j=Yt(B),ge=Yt(P);if(x.hasOwnProperty(j)){let Te=x[j];Array.isArray(Te)||(Te=[Te],x[j]=Te),Te.push(ge)}else x[j]=ge}parseParens(x){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Q(this.remaining),j=this.remaining[P.length];if("/"!==j&&")"!==j&&";"!==j)throw new d.wOt(4010,!1);let ge;P.indexOf(":")>-1?(ge=P.slice(0,P.indexOf(":")),this.capture(ge),this.capture(":")):x&&(ge=Bt);const Te=this.parseChildren();B[ge]=1===Object.keys(Te).length?Te[Bt]:new nr([],Te),this.consumeOptional("//")}return B}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new d.wOt(4011,!1)}}function oe(T){return T.segments.length>0?new nr([],{[Bt]:T}):T}function Nt(T){const x={};for(const[P,j]of Object.entries(T.children)){const ge=Nt(j);if(P===Bt&&0===ge.segments.length&&ge.hasChildren())for(const[Te,$t]of Object.entries(ge.children))x[Te]=$t;else(ge.segments.length>0||ge.hasChildren())&&(x[P]=ge)}return function Je(T){if(1===T.numberOfChildren&&T.children[Bt]){const x=T.children[Bt];return new nr(T.segments.concat(x.segments),x.children)}return T}(new nr(T.segments,x))}function bn(T){return T instanceof Qn}function Bn(T){var x;let B;const ge=oe(function P(Te){const $t={};for(const Wt of Te.children){const Zn=P(Wt);$t[Wt.outlet]=Zn}const vn=new nr(Te.url,$t);return Te===T&&(B=vn),vn}(T.root));return null!==(x=B)&&void 0!==x?x:ge}function Gr(T,x,B,P){let j=T;for(;j.parent;)j=j.parent;if(0===x.length)return xr(j,j,j,B,P);const ge=function Ye(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Dr(!0,0,T);let x=0,B=!1;const P=T.reduce((j,ge,Te)=>{if("object"==typeof ge&&null!=ge){if(ge.outlets){const $t={};return Object.entries(ge.outlets).forEach(([vn,Wt])=>{$t[vn]="string"==typeof Wt?Wt.split("/"):Wt}),[...j,{outlets:$t}]}if(ge.segmentPath)return[...j,ge.segmentPath]}return"string"!=typeof ge?[...j,ge]:0===Te?(ge.split("/").forEach(($t,vn)=>{0==vn&&"."===$t||(0==vn&&""===$t?B=!0:".."===$t?x++:""!=$t&&j.push($t))}),j):[...j,ge]},[]);return new Dr(B,x,P)}(x);if(ge.toRoot())return xr(j,j,new nr([],{}),B,P);const Te=function wt(T,x,B){if(T.isAbsolute)return new Ae(x,!0,0);if(!B)return new Ae(x,!1,NaN);if(null===B.parent)return new Ae(B,!0,0);const P=Li(T.commands[0])?0:1;return function he(T,x,B){let P=T,j=x,ge=B;for(;ge>j;){if(ge-=j,P=P.parent,!P)throw new d.wOt(4005,!1);j=P.segments.length}return new Ae(P,!1,j-ge)}(B,B.segments.length-1+P,T.numberOfDoubleDots)}(ge,j,T),$t=Te.processChildren?Qt(Te.segmentGroup,Te.index,ge.commands):ze(Te.segmentGroup,Te.index,ge.commands);return xr(j,Te.segmentGroup,$t,B,P)}function Li(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function gi(T){return"object"==typeof T&&null!=T&&T.outlets}function xr(T,x,B,P,j){let Te,ge={};P&&Object.entries(P).forEach(([vn,Wt])=>{ge[vn]=Array.isArray(Wt)?Wt.map(Zn=>`${Zn}`):`${Wt}`}),Te=T===x?B:Wi(T,x,B);const $t=oe(Nt(Te));return new Qn($t,ge,j)}function Wi(T,x,B){const P={};return Object.entries(T.children).forEach(([j,ge])=>{P[j]=ge===x?B:Wi(ge,x,B)}),new nr(T.segments,P)}class Dr{constructor(x,B,P){if(this.isAbsolute=x,this.numberOfDoubleDots=B,this.commands=P,x&&P.length>0&&Li(P[0]))throw new d.wOt(4003,!1);const j=P.find(gi);if(j&&j!==sn(P))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ae{constructor(x,B,P){this.segmentGroup=x,this.processChildren=B,this.index=P}}function ze(T,x,B){var P;if(null!==(P=T)&&void 0!==P||(T=new nr([],{})),0===T.segments.length&&T.hasChildren())return Qt(T,x,B);const j=function gn(T,x,B){let P=0,j=x;const ge={match:!1,pathIndex:0,commandIndex:0};for(;j<T.segments.length;){if(P>=B.length)return ge;const Te=T.segments[j],$t=B[P];if(gi($t))break;const vn=`${$t}`,Wt=P<B.length-1?B[P+1]:null;if(j>0&&void 0===vn)break;if(vn&&Wt&&"object"==typeof Wt&&void 0===Wt.outlets){if(!sr(vn,Wt,Te))return ge;P+=2}else{if(!sr(vn,{},Te))return ge;P++}j++}return{match:!0,pathIndex:j,commandIndex:P}}(T,x,B),ge=B.slice(j.commandIndex);if(j.match&&j.pathIndex<T.segments.length){const Te=new nr(T.segments.slice(0,j.pathIndex),{});return Te.children[Bt]=new nr(T.segments.slice(j.pathIndex),T.children),Qt(Te,0,ge)}return j.match&&0===ge.length?new nr(T.segments,{}):j.match&&!T.hasChildren()?On(T,x,B):j.match?Qt(T,0,ge):On(T,x,B)}function Qt(T,x,B){if(0===B.length)return new nr(T.segments,{});{const P=function ce(T){return gi(T[0])?T[0].outlets:{[Bt]:T}}(B),j={};if(Object.keys(P).some(ge=>ge!==Bt)&&T.children[Bt]&&1===T.numberOfChildren&&0===T.children[Bt].segments.length){const ge=Qt(T.children[Bt],x,B);return new nr(T.segments,ge.children)}return Object.entries(P).forEach(([ge,Te])=>{"string"==typeof Te&&(Te=[Te]),null!==Te&&(j[ge]=ze(T.children[ge],x,Te))}),Object.entries(T.children).forEach(([ge,Te])=>{void 0===P[ge]&&(j[ge]=Te)}),new nr(T.segments,j)}}function On(T,x,B){const P=T.segments.slice(0,x);let j=0;for(;j<B.length;){const ge=B[j];if(gi(ge)){const vn=Yn(ge.outlets);return new nr(P,vn)}if(0===j&&Li(B[0])){P.push(new fr(T.segments[x].path,Sr(B[0]))),j++;continue}const Te=gi(ge)?ge.outlets[Bt]:`${ge}`,$t=j<B.length-1?B[j+1]:null;Te&&$t&&Li($t)?(P.push(new fr(Te,Sr($t))),j+=2):(P.push(new fr(Te,{})),j++)}return new nr(P,{})}function Yn(T){const x={};return Object.entries(T).forEach(([B,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[B]=On(new nr([],{}),0,P))}),x}function Sr(T){const x={};return Object.entries(T).forEach(([B,P])=>x[B]=`${P}`),x}function sr(T,x,B){return T==B.path&&en(x,B.parameters)}const Hi="imperative";var mr=function(T){return T[T.NavigationStart=0]="NavigationStart",T[T.NavigationEnd=1]="NavigationEnd",T[T.NavigationCancel=2]="NavigationCancel",T[T.NavigationError=3]="NavigationError",T[T.RoutesRecognized=4]="RoutesRecognized",T[T.ResolveStart=5]="ResolveStart",T[T.ResolveEnd=6]="ResolveEnd",T[T.GuardsCheckStart=7]="GuardsCheckStart",T[T.GuardsCheckEnd=8]="GuardsCheckEnd",T[T.RouteConfigLoadStart=9]="RouteConfigLoadStart",T[T.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",T[T.ChildActivationStart=11]="ChildActivationStart",T[T.ChildActivationEnd=12]="ChildActivationEnd",T[T.ActivationStart=13]="ActivationStart",T[T.ActivationEnd=14]="ActivationEnd",T[T.Scroll=15]="Scroll",T[T.NavigationSkipped=16]="NavigationSkipped",T}(mr||{});class Ri{constructor(x,B){this.id=x,this.url=B}}class ji extends Ri{constructor(x,B,P="imperative",j=null){super(x,B),this.type=mr.NavigationStart,this.navigationTrigger=P,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Co extends Ri{constructor(x,B,P){super(x,B),this.urlAfterRedirects=P,this.type=mr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ti=function(T){return T[T.Redirect=0]="Redirect",T[T.SupersededByNewNavigation=1]="SupersededByNewNavigation",T[T.NoDataFromResolver=2]="NoDataFromResolver",T[T.GuardRejected=3]="GuardRejected",T}(ti||{}),xo=function(T){return T[T.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",T[T.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",T}(xo||{});class Yi extends Ri{constructor(x,B,P,j){super(x,B),this.reason=P,this.code=j,this.type=mr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class po extends Ri{constructor(x,B,P,j){super(x,B),this.reason=P,this.code=j,this.type=mr.NavigationSkipped}}class Ao extends Ri{constructor(x,B,P,j){super(x,B),this.error=P,this.target=j,this.type=mr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qo extends Ri{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=mr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji extends Ri{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=mr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends Ri{constructor(x,B,P,j,ge){super(x,B),this.urlAfterRedirects=P,this.state=j,this.shouldActivate=ge,this.type=mr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ns extends Ri{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=mr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qo extends Ri{constructor(x,B,P,j){super(x,B),this.urlAfterRedirects=P,this.state=j,this.type=mr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class go{constructor(x){this.route=x,this.type=mr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xr{constructor(x){this.route=x,this.type=mr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fs{constructor(x){this.snapshot=x,this.type=mr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jn{constructor(x){this.snapshot=x,this.type=mr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(x){this.snapshot=x,this.type=mr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(x){this.snapshot=x,this.type=mr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(x,B,P){this.routerEvent=x,this.position=B,this.anchor=P,this.type=mr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class mo{}class Mi{constructor(x,B){this.url=x,this.navigationBehaviorOptions=B}}function ni(T){return T.outlet||Bt}function Oo(T){var x;if(!T)return null;if(null!==(x=T.routeConfig)&&void 0!==x&&x._injector)return T.routeConfig._injector;for(let B=T.parent;B;B=B.parent){const P=B.routeConfig;if(null!=P&&P._loadedInjector)return P._loadedInjector;if(null!=P&&P._injector)return P._injector}return null}class Di{get injector(){var x,B;return null!==(x=Oo(null===(B=this.route)||void 0===B?void 0:B.snapshot))&&void 0!==x?x:this.rootInjector}set injector(x){}constructor(x){this.rootInjector=x,this.outlet=null,this.route=null,this.children=new F(this.rootInjector),this.attachRef=null}}let F=(()=>{var T;class x{constructor(P){this.rootInjector=P,this.contexts=new Map}onChildOutletCreated(P,j){const ge=this.getOrCreateContext(P);ge.outlet=j,this.contexts.set(P,ge)}onChildOutletDestroyed(P){const j=this.getContext(P);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let j=this.getContext(P);return j||(j=new Di(this.rootInjector),this.contexts.set(P,j)),j}getContext(P){return this.contexts.get(P)||null}}return(T=x).\u0275fac=function(P){return new(P||T)(d.KVO(d.uvJ))},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();class E{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const B=this.pathFromRoot(x);return B.length>1?B[B.length-2]:null}children(x){const B=O(x,this._root);return B?B.children.map(P=>P.value):[]}firstChild(x){const B=O(x,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(x){const B=A(x,this._root);return B.length<2?[]:B[B.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return A(x,this._root).map(B=>B.value)}}function O(T,x){if(T===x.value)return x;for(const B of x.children){const P=O(T,B);if(P)return P}return null}function A(T,x){if(T===x.value)return[x];for(const B of x.children){const P=A(T,B);if(P.length)return P.unshift(x),P}return[]}class G{constructor(x,B){this.value=x,this.children=B}toString(){return`TreeNode(${this.value})`}}function ae(T){const x={};return T&&T.children.forEach(B=>x[B.value.outlet]=B),x}class ot extends E{constructor(x,B){super(x),this.snapshot=B,er(this,x)}toString(){return this.snapshot.toString()}}function an(T){const x=function Tt(T){const ge=new xn([],{},{},"",{},Bt,T,null,{});return new Wn("",new G(ge,[]))}(T),B=new Re.t([new fr("",{})]),P=new Re.t({}),j=new Re.t({}),ge=new Re.t({}),Te=new Re.t(""),$t=new qt(B,P,ge,Te,j,Bt,T,x.root);return $t.snapshot=x.root,new ot(new G($t,[]),x)}class qt{constructor(x,B,P,j,ge,Te,$t,vn){var Wt,Zn;this.urlSubject=x,this.paramsSubject=B,this.queryParamsSubject=P,this.fragmentSubject=j,this.dataSubject=ge,this.outlet=Te,this.component=$t,this._futureSnapshot=vn,this.title=null!==(Wt=null===(Zn=this.dataSubject)||void 0===Zn?void 0:Zn.pipe((0,Ne.T)(Fr=>Fr[Fn])))&&void 0!==Wt?Wt:(0,Ce.of)(void 0),this.url=x,this.params=B,this.queryParams=P,this.fragment=j,this.data=ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var x;return null!==(x=this._paramMap)&&void 0!==x||(this._paramMap=this.params.pipe((0,Ne.T)(B=>In(B)))),this._paramMap}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=this.queryParams.pipe((0,Ne.T)(B=>In(B)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dn(T,x,B="emptyOnly"){var P;let j;const{routeConfig:ge}=T;var Te;return j=null===x||"always"!==B&&""!==(null==ge?void 0:ge.path)&&(x.component||null!==(P=x.routeConfig)&&void 0!==P&&P.loadComponent)?{params:{...T.params},data:{...T.data},resolve:{...T.data,...null!==(Te=T._resolvedData)&&void 0!==Te?Te:{}}}:{params:{...x.params,...T.params},data:{...x.data,...T.data},resolve:{...T.data,...x.data,...null==ge?void 0:ge.data,...T._resolvedData}},ge&&si(ge)&&(j.resolve[Fn]=ge.title),j}class xn{get title(){var x;return null===(x=this.data)||void 0===x?void 0:x[Fn]}constructor(x,B,P,j,ge,Te,$t,vn,Wt){this.url=x,this.params=B,this.queryParams=P,this.fragment=j,this.data=ge,this.outlet=Te,this.component=$t,this.routeConfig=vn,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var x;return null!==(x=this._paramMap)&&void 0!==x||(this._paramMap=In(this.params)),this._paramMap}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wn extends E{constructor(x,B){super(B),this.url=x,er(this,B)}toString(){return lr(this._root)}}function er(T,x){x.value._routerState=T,x.children.forEach(B=>er(T,B))}function lr(T){const x=T.children.length>0?` { ${T.children.map(lr).join(", ")} } `:"";return`${T.value}${x}`}function zr(T){if(T.snapshot){const x=T.snapshot,B=T._futureSnapshot;T.snapshot=B,en(x.queryParams,B.queryParams)||T.queryParamsSubject.next(B.queryParams),x.fragment!==B.fragment&&T.fragmentSubject.next(B.fragment),en(x.params,B.params)||T.paramsSubject.next(B.params),function qn(T,x){if(T.length!==x.length)return!1;for(let B=0;B<T.length;++B)if(!en(T[B],x[B]))return!1;return!0}(x.url,B.url)||T.urlSubject.next(B.url),en(x.data,B.data)||T.dataSubject.next(B.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function Ei(T,x){const B=en(T.params,x.params)&&function Vr(T,x){return wn(T,x)&&T.every((B,P)=>en(B.parameters,x[P].parameters))}(T.url,x.url);return B&&!(!T.parent!=!x.parent)&&(!T.parent||Ei(T.parent,x.parent))}function si(T){return"string"==typeof T.title||null===T.title}let ui=(()=>{var T;class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(F),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(uo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(P){if(P.name){const{firstChange:j,previousValue:ge}=P.name;if(j)return;this.isTrackedInParentContexts(ge)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ge)),this.initializeOutletWithName()}}ngOnDestroy(){var P;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(P=this.inputBinder)||void 0===P||P.unsubscribeFromRouteData(this)}isTrackedInParentContexts(P){var j;return(null===(j=this.parentContexts.getContext(P))||void 0===j?void 0:j.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const P=this.parentContexts.getContext(this.name);null!=P&&P.route&&(P.attachRef?this.attach(P.attachRef,P.route):this.activateWith(P.route,P.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const P=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(P.instance),P}attach(P,j){var ge;this.activated=P,this._activatedRoute=j,this.location.insert(P.hostView),null===(ge=this.inputBinder)||void 0===ge||ge.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(P.instance)}deactivate(){if(this.activated){const P=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(P)}}activateWith(P,j){var ge;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=P;const Te=this.location,vn=P.snapshot.component,Wt=this.parentContexts.getOrCreateContext(this.name).children,Zn=new di(P,Wt,Te.injector);this.activated=Te.createComponent(vn,{index:Te.length,injector:Zn,environmentInjector:j}),this.changeDetector.markForCheck(),null===(ge=this.inputBinder)||void 0===ge||ge.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275dir=d.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),x})();class di{__ngOutletInjector(x){return new di(this.route,this.childContexts,x)}constructor(x,B,P){this.route=x,this.childContexts=B,this.parent=P}get(x,B){return x===qt?this.route:x===F?this.childContexts:this.parent.get(x,B)}}const uo=new d.nKC("");let To=(()=>{var T;class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(P){this.unsubscribeFromRouteData(P),this.subscribeToRouteData(P)}unsubscribeFromRouteData(P){var j;null===(j=this.outletDataSubscriptions.get(P))||void 0===j||j.unsubscribe(),this.outletDataSubscriptions.delete(P)}subscribeToRouteData(P){const{activatedRoute:j}=P,ge=(0,Ge.z)([j.queryParams,j.params,j.data]).pipe((0,st.n)(([Te,$t,vn],Wt)=>(vn={...Te,...$t,...vn},0===Wt?(0,Ce.of)(vn):Promise.resolve(vn)))).subscribe(Te=>{if(!P.isActivated||!P.activatedComponentRef||P.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(P);const $t=(0,d.HJs)(j.component);if($t)for(const{templateName:vn}of $t.inputs)P.activatedComponentRef.setInput(vn,Te[vn]);else this.unsubscribeFromRouteData(P)});this.outletDataSubscriptions.set(P,ge)}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac}),x})();function _o(T,x,B){if(B&&T.shouldReuseRoute(x.value,B.value.snapshot)){const P=B.value;P._futureSnapshot=x.value;const j=function is(T,x,B){return x.children.map(P=>{for(const j of B.children)if(T.shouldReuseRoute(P.value,j.value.snapshot))return _o(T,P,j);return _o(T,P)})}(T,x,B);return new G(P,j)}{if(T.shouldAttach(x.value)){const ge=T.retrieve(x.value);if(null!==ge){const Te=ge.route;return Te.value._futureSnapshot=x.value,Te.children=x.children.map($t=>_o(T,$t)),Te}}const P=function bs(T){return new qt(new Re.t(T.url),new Re.t(T.params),new Re.t(T.queryParams),new Re.t(T.fragment),new Re.t(T.data),T.outlet,T.component,T)}(x.value),j=x.children.map(ge=>_o(T,ge));return new G(P,j)}}class ho{constructor(x,B){this.redirectTo=x,this.navigationBehaviorOptions=B}}const ps="ngNavigationCancelingError";function ko(T,x){const{redirectTo:B,navigationBehaviorOptions:P}=bn(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=vo(!1,ti.Redirect);return j.url=B,j.navigationBehaviorOptions=P,j}function vo(T,x){const B=new Error(`NavigationCancelingError: ${T||""}`);return B[ps]=!0,B.cancellationCode=x,B}function ri(T){return!!T&&T[ps]}class Ro{constructor(x,B,P,j,ge){this.routeReuseStrategy=x,this.futureState=B,this.currState=P,this.forwardEvent=j,this.inputBindingEnabled=ge}activate(x){const B=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,P,x),zr(this.futureState.root),this.activateChildRoutes(B,P,x)}deactivateChildRoutes(x,B,P){const j=ae(B);x.children.forEach(ge=>{const Te=ge.value.outlet;this.deactivateRoutes(ge,j[Te],P),delete j[Te]}),Object.values(j).forEach(ge=>{this.deactivateRouteAndItsChildren(ge,P)})}deactivateRoutes(x,B,P){const j=x.value,ge=B?B.value:null;if(j===ge)if(j.component){const Te=P.getContext(j.outlet);Te&&this.deactivateChildRoutes(x,B,Te.children)}else this.deactivateChildRoutes(x,B,P);else ge&&this.deactivateRouteAndItsChildren(B,P)}deactivateRouteAndItsChildren(x,B){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,B):this.deactivateRouteAndOutlet(x,B)}detachAndStoreRouteSubtree(x,B){const P=B.getContext(x.value.outlet),j=P&&x.value.component?P.children:B,ge=ae(x);for(const Te of Object.values(ge))this.deactivateRouteAndItsChildren(Te,j);if(P&&P.outlet){const Te=P.outlet.detach(),$t=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:Te,route:x,contexts:$t})}}deactivateRouteAndOutlet(x,B){const P=B.getContext(x.value.outlet),j=P&&x.value.component?P.children:B,ge=ae(x);for(const Te of Object.values(ge))this.deactivateRouteAndItsChildren(Te,j);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,B,P){const j=ae(B);x.children.forEach(ge=>{this.activateRoutes(ge,j[ge.value.outlet],P),this.forwardEvent(new Ks(ge.value.snapshot))}),x.children.length&&this.forwardEvent(new jn(x.value.snapshot))}activateRoutes(x,B,P){const j=x.value,ge=B?B.value:null;if(zr(j),j===ge)if(j.component){const Te=P.getOrCreateContext(j.outlet);this.activateChildRoutes(x,B,Te.children)}else this.activateChildRoutes(x,B,P);else if(j.component){const Te=P.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const $t=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Te.children.onOutletReAttached($t.contexts),Te.attachRef=$t.componentRef,Te.route=$t.route.value,Te.outlet&&Te.outlet.attach($t.componentRef,$t.route.value),zr($t.route.value),this.activateChildRoutes(x,null,Te.children)}else Te.attachRef=null,Te.route=j,Te.outlet&&Te.outlet.activateWith(j,Te.injector),this.activateChildRoutes(x,null,Te.children)}else this.activateChildRoutes(x,null,P)}}class Cs{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class Or{constructor(x,B){this.component=x,this.route=B}}function Wr(T,x,B){const P=T._root;return Ht(P,x?x._root:null,B,[P.value])}function qe(T,x){const B=Symbol(),P=x.get(T,B);return P===B?"function"!=typeof T||(0,d.LfX)(T)?x.get(T):T:P}function Ht(T,x,B,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const ge=ae(x);return T.children.forEach(Te=>{(function yn(T,x,B,P,j={canDeactivateChecks:[],canActivateChecks:[]}){const ge=T.value,Te=x?x.value:null,$t=B?B.getContext(T.value.outlet):null;if(Te&&ge.routeConfig===Te.routeConfig){const vn=function Kn(T,x,B){if("function"==typeof B)return B(T,x);switch(B){case"pathParamsChange":return!wn(T.url,x.url);case"pathParamsOrQueryParamsChange":return!wn(T.url,x.url)||!en(T.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ei(T,x)||!en(T.queryParams,x.queryParams);default:return!Ei(T,x)}}(Te,ge,ge.routeConfig.runGuardsAndResolvers);vn?j.canActivateChecks.push(new Cs(P)):(ge.data=Te.data,ge._resolvedData=Te._resolvedData),Ht(T,x,ge.component?$t?$t.children:null:B,P,j),vn&&$t&&$t.outlet&&$t.outlet.isActivated&&j.canDeactivateChecks.push(new Or($t.outlet.component,Te))}else Te&&An(x,$t,j),j.canActivateChecks.push(new Cs(P)),Ht(T,null,ge.component?$t?$t.children:null:B,P,j)})(Te,ge[Te.value.outlet],B,P.concat([Te.value]),j),delete ge[Te.value.outlet]}),Object.entries(ge).forEach(([Te,$t])=>An($t,B.getContext(Te),j)),j}function An(T,x,B){const P=ae(T),j=T.value;Object.entries(P).forEach(([ge,Te])=>{An(Te,j.component?x?x.children.getContext(ge):null:x,B)}),B.canDeactivateChecks.push(new Or(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function Jn(T){return"function"==typeof T}function Oa(T){return T instanceof ft.G||"EmptyError"===(null==T?void 0:T.name)}const _i=Symbol("INITIAL_VALUE");function As(){return(0,st.n)(T=>(0,Ge.z)(T.map(x=>x.pipe((0,ht.s)(1),(0,nt.Z)(_i)))).pipe((0,Ne.T)(x=>{for(const B of x)if(!0!==B){if(B===_i)return _i;if(!1===B||Ul(B))return B}return!0}),(0,fe.p)(x=>x!==_i),(0,ht.s)(1)))}function Ul(T){return bn(T)||T instanceof ho}function _n(T){return(0,at.F)((0,Lt.M)(x=>{if("boolean"!=typeof x)throw ko(0,x)}),(0,Ne.T)(x=>!0===x))}class xi{constructor(x){this.segmentGroup=x||null}}class Vi extends Error{constructor(x){super(),this.urlTree=x}}function io(T){return et(new xi(T))}class ka{constructor(x,B){this.urlSerializer=x,this.urlTree=B}lineralizeSegments(x,B){let P=[],j=B.root;for(;;){if(P=P.concat(j.segments),0===j.numberOfChildren)return(0,Ce.of)(P);if(j.numberOfChildren>1||!j.children[Bt])return et(new d.wOt(4e3,!1));j=j.children[Bt]}}applyRedirectCommands(x,B,P,j,ge){if("string"!=typeof B){const $t=B,{queryParams:vn,fragment:Wt,routeConfig:Zn,url:Fr,outlet:ki,params:Qr,data:Qi,title:Go}=j,Zo=(0,d.N4e)(ge,()=>$t({params:Qr,data:Qi,queryParams:vn,fragment:Wt,routeConfig:Zn,url:Fr,outlet:ki,title:Go}));if(Zo instanceof Qn)throw new Vi(Zo);B=Zo}const Te=this.applyRedirectCreateUrlTree(B,this.urlSerializer.parse(B),x,P);if("/"===B[0])throw new Vi(Te);return Te}applyRedirectCreateUrlTree(x,B,P,j){const ge=this.createSegmentGroup(x,B.root,P,j);return new Qn(ge,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(x,B){const P={};return Object.entries(x).forEach(([j,ge])=>{if("string"==typeof ge&&":"===ge[0]){const $t=ge.substring(1);P[j]=B[$t]}else P[j]=ge}),P}createSegmentGroup(x,B,P,j){const ge=this.createSegments(x,B.segments,P,j);let Te={};return Object.entries(B.children).forEach(([$t,vn])=>{Te[$t]=this.createSegmentGroup(x,vn,P,j)}),new nr(ge,Te)}createSegments(x,B,P,j){return B.map(ge=>":"===ge.path[0]?this.findPosParam(x,ge,j):this.findOrReturn(ge,P))}findPosParam(x,B,P){const j=P[B.path.substring(1)];if(!j)throw new d.wOt(4001,!1);return j}findOrReturn(x,B){let P=0;for(const j of B){if(j.path===x.path)return B.splice(P),j;P++}return x}}const yo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pr(T,x,B,P,j){const ge=Ti(T,x,B);return ge.matched?(P=function No(T,x){var B;return T.providers&&!T._injector&&(T._injector=(0,d.Ol2)(T.providers,x,`Route: ${T.path}`)),null!==(B=T._injector)&&void 0!==B?B:x}(x,P),function cr(T,x,B,P){const j=x.canMatch;if(!j||0===j.length)return(0,Ce.of)(!0);const ge=j.map(Te=>{const $t=qe(Te,T);return Fe(function Na(T){return T&&Jn(T.canMatch)}($t)?$t.canMatch(x,B):(0,d.N4e)(T,()=>$t(x,B)))});return(0,Ce.of)(ge).pipe(As(),_n())}(P,x,B).pipe((0,Ne.T)(Te=>!0===Te?ge:{...yo}))):(0,Ce.of)(ge)}function Ti(T,x,B){var P,j;if("**"===x.path)return function Ki(T){return{matched:!0,parameters:T.length>0?sn(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}(B);if(""===x.path)return"full"===x.pathMatch&&(T.hasChildren()||B.length>0)?{...yo}:{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const Te=(x.matcher||Ln)(B,T,x);if(!Te)return{...yo};const $t={};Object.entries(null!==(P=Te.posParams)&&void 0!==P?P:{}).forEach(([Wt,Zn])=>{$t[Wt]=Zn.path});const vn=Te.consumed.length>0?{...$t,...Te.consumed[Te.consumed.length-1].parameters}:$t;return{matched:!0,consumedSegments:Te.consumed,remainingSegments:B.slice(Te.consumed.length),parameters:vn,positionalParamSegments:null!==(j=Te.posParams)&&void 0!==j?j:{}}}function ks(T,x,B,P){return B.length>0&&function ra(T,x,B){return B.some(P=>Fs(T,x,P)&&ni(P)!==Bt)}(T,B,P)?{segmentGroup:new nr(x,za(P,new nr(B,T.children))),slicedSegments:[]}:0===B.length&&function ms(T,x,B){return B.some(P=>Fs(T,x,P))}(T,B,P)?{segmentGroup:new nr(T.segments,Io(T,B,P,T.children)),slicedSegments:B}:{segmentGroup:new nr(T.segments,T.children),slicedSegments:B}}function Io(T,x,B,P){const j={};for(const ge of B)if(Fs(T,x,ge)&&!P[ni(ge)]){const Te=new nr([],{});j[ni(ge)]=Te}return{...P,...j}}function za(T,x){const B={};B[Bt]=x;for(const P of T)if(""===P.path&&ni(P)!==Bt){const j=new nr([],{});B[ni(P)]=j}return B}function Fs(T,x,B){return(!(T.hasChildren()||x.length>0)||"full"!==B.pathMatch)&&""===B.path}class Fa{}class Fo{constructor(x,B,P,j,ge,Te,$t){this.injector=x,this.configLoader=B,this.rootComponentType=P,this.config=j,this.urlTree=ge,this.paramsInheritanceStrategy=Te,this.urlSerializer=$t,this.applyRedirects=new ka(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(x){return new d.wOt(4002,`'${x.segmentGroup}'`)}recognize(){const x=ks(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(x).pipe((0,Ne.T)(({children:B,rootSnapshot:P})=>{const j=new G(P,B),ge=new Wn("",j),Te=function Xn(T,x,B=null,P=null){return Gr(Bn(T),x,B,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return Te.queryParams=this.urlTree.queryParams,ge.url=this.urlSerializer.serialize(Te),{state:ge,tree:Te}}))}match(x){const B=new xn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Bt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,x,Bt,B).pipe((0,Ne.T)(P=>({children:P,rootSnapshot:B})),Vt(P=>{if(P instanceof Vi)return this.urlTree=P.urlTree,this.match(P.urlTree.root);throw P instanceof xi?this.noMatchError(P):P}))}processSegmentGroup(x,B,P,j,ge){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,B,P,ge):this.processSegment(x,B,P,P.segments,j,!0,ge).pipe((0,Ne.T)(Te=>Te instanceof G?[Te]:[]))}processChildren(x,B,P,j){const ge=[];for(const Te of Object.keys(P.children))"primary"===Te?ge.unshift(Te):ge.push(Te);return(0,W.H)(ge).pipe((0,Ze.H)(Te=>{const $t=P.children[Te],vn=function rs(T,x){const B=T.filter(P=>ni(P)===x);return B.push(...T.filter(P=>ni(P)!==x)),B}(B,Te);return this.processSegmentGroup(x,vn,$t,Te,j)}),(0,pn.S)((Te,$t)=>(Te.push(...$t),Te)),(0,We.U)(null),function se(T,x){const B=arguments.length>=2;return P=>P.pipe(T?(0,fe.p)((j,ge)=>T(j,ge,P)):Se.D,De(1),B?(0,We.U)(x):(0,_e.v)(()=>new ft.G))}(),(0,gt.Z)(Te=>{if(null===Te)return io(P);const $t=al(Te);return function Wa(T){T.sort((x,B)=>x.value.outlet===Bt?-1:B.value.outlet===Bt?1:x.value.outlet.localeCompare(B.value.outlet))}($t),(0,Ce.of)($t)}))}processSegment(x,B,P,j,ge,Te,$t){return(0,W.H)(B).pipe((0,Ze.H)(vn=>{var Wt;return this.processSegmentAgainstRoute(null!==(Wt=vn._injector)&&void 0!==Wt?Wt:x,B,vn,P,j,ge,Te,$t).pipe(Vt(Zn=>{if(Zn instanceof xi)return(0,Ce.of)(null);throw Zn}))}),(0,mt.$)(vn=>!!vn),Vt(vn=>{if(Oa(vn))return function sl(T,x,B){return 0===x.length&&!T.children[B]}(P,j,ge)?(0,Ce.of)(new Fa):io(P);throw vn}))}processSegmentAgainstRoute(x,B,P,j,ge,Te,$t,vn){return ni(P)===Te||Te!==Bt&&Fs(j,ge,P)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,j,P,ge,Te,vn):this.allowRedirects&&$t?this.expandSegmentAgainstRouteUsingRedirect(x,j,B,P,ge,Te,vn):io(j):io(j)}expandSegmentAgainstRouteUsingRedirect(x,B,P,j,ge,Te,$t){var vn,Wt;const{matched:Zn,parameters:Fr,consumedSegments:ki,positionalParamSegments:Qr,remainingSegments:Qi}=Ti(B,j,ge);if(!Zn)return io(B);"string"==typeof j.redirectTo&&"/"===j.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Go=new xn(ge,Fr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ls(j),ni(j),null!==(vn=null!==(Wt=j.component)&&void 0!==Wt?Wt:j._loadedComponent)&&void 0!==vn?vn:null,j,Ts(j)),Zo=dn(Go,$t,this.paramsInheritanceStrategy);Go.params=Object.freeze(Zo.params),Go.data=Object.freeze(Zo.data);const ul=this.applyRedirects.applyRedirectCommands(ki,j.redirectTo,Qr,Go,x);return this.applyRedirects.lineralizeSegments(j,ul).pipe((0,gt.Z)(us=>this.processSegment(x,P,B,us.concat(Qi),Te,!1,$t)))}matchSegmentAgainstRoute(x,B,P,j,ge,Te){const $t=Pr(B,P,j,x);return"**"===P.path&&(B.children={}),$t.pipe((0,st.n)(vn=>{var Wt;return vn.matched?(x=null!==(Wt=P._injector)&&void 0!==Wt?Wt:x,this.getChildConfig(x,P,j).pipe((0,st.n)(({routes:Zn})=>{var Fr,ki,Qr;const Qi=null!==(Fr=P._loadedInjector)&&void 0!==Fr?Fr:x,{parameters:Go,consumedSegments:Zo,remainingSegments:ul}=vn,us=new xn(Zo,Go,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ls(P),ni(P),null!==(ki=null!==(Qr=P.component)&&void 0!==Qr?Qr:P._loadedComponent)&&void 0!==ki?ki:null,P,Ts(P)),Js=dn(us,Te,this.paramsInheritanceStrategy);us.params=Object.freeze(Js.params),us.data=Object.freeze(Js.data);const{segmentGroup:Dl,slicedSegments:cc}=ks(B,Zo,ul,Zn);if(0===cc.length&&Dl.hasChildren())return this.processChildren(Qi,Zn,Dl,us).pipe((0,Ne.T)(Aa=>new G(us,Aa)));if(0===Zn.length&&0===cc.length)return(0,Ce.of)(new G(us,[]));const Gl=ni(P)===ge;return this.processSegment(Qi,Zn,Dl,cc,Gl?Bt:ge,!0,us).pipe((0,Ne.T)(Aa=>new G(us,Aa instanceof G?[Aa]:[])))}))):io(B)}))}getChildConfig(x,B,P){return B.children?(0,Ce.of)({routes:B.children,injector:x}):B.loadChildren?void 0!==B._loadedRoutes?(0,Ce.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):function ye(T,x,B,P){const j=x.canLoad;if(void 0===j||0===j.length)return(0,Ce.of)(!0);const ge=j.map(Te=>{const $t=qe(Te,T);return Fe(function Zi(T){return T&&Jn(T.canLoad)}($t)?$t.canLoad(x,B):(0,d.N4e)(T,()=>$t(x,B)))});return(0,Ce.of)(ge).pipe(As(),_n())}(x,B,P).pipe((0,gt.Z)(j=>j?this.configLoader.loadChildren(x,B).pipe((0,Lt.M)(ge=>{B._loadedRoutes=ge.routes,B._loadedInjector=ge.injector})):function gs(){return et(vo(!1,ti.GuardRejected))}())):(0,Ce.of)({routes:[],injector:x})}}function ls(T){const x=T.value.routeConfig;return x&&""===x.path}function al(T){const x=[],B=new Set;for(const P of T){if(!ls(P)){x.push(P);continue}const j=x.find(ge=>P.value.routeConfig===ge.value.routeConfig);void 0!==j?(j.children.push(...P.children),B.add(j)):x.push(P)}for(const P of B){const j=al(P.children);x.push(new G(P.value,j))}return x.filter(P=>!B.has(P))}function Ls(T){return T.data||{}}function Ts(T){return T.resolve||{}}function Tl(T){const x=T.children.map(B=>Tl(B)).flat();return[T,...x]}function oa(T){return(0,st.n)(x=>{const B=T(x);return B?(0,W.H)(B).pipe((0,Ne.T)(()=>x)):(0,Ce.of)(x)})}let La=(()=>{var T;class x{buildTitle(P){let j,ge=P.root;for(;void 0!==ge;){var Te;j=null!==(Te=this.getResolvedTitleForRoute(ge))&&void 0!==Te?Te:j,ge=ge.children.find($t=>$t.outlet===Bt)}return j}getResolvedTitleForRoute(P){return P.data[Fn]}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(Ho),providedIn:"root"}),x})(),Ho=(()=>{var T;class x extends La{constructor(P){super(),this.title=P}updateTitle(P){const j=this.buildTitle(P);void 0!==j&&this.title.setTitle(j)}}return(T=x).\u0275fac=function(P){return new(P||T)(d.KVO(yt.hE))},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();const vs=new d.nKC("",{providedIn:"root",factory:()=>({})});let Ia=(()=>{var T;class x{}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275cmp=d.VBU({type:T,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(P,j){1&P&&d.nrm(0,"router-outlet")},dependencies:[ui],encapsulation:2}),x})();function ac(T){const x=T.children&&T.children.map(ac),B=x?{...T,children:x}:{...T};return!B.component&&!B.loadComponent&&(x||B.loadChildren)&&B.outlet&&B.outlet!==Bt&&(B.component=Ia),B}const Ka=new d.nKC("");let cl=(()=>{var T;class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(P){if(this.componentLoaders.get(P))return this.componentLoaders.get(P);if(P._loadedComponent)return(0,Ce.of)(P._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(P);const j=Fe(P.loadComponent()).pipe((0,Ne.T)(sa),(0,Lt.M)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(P),P._loadedComponent=Te}),(0,Ke.j)(()=>{this.componentLoaders.delete(P)})),ge=new St(j,()=>new we.B).pipe(Ot());return this.componentLoaders.set(P,ge),ge}loadChildren(P,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,Ce.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const Te=function ws(T,x,B,P){return Fe(T.loadChildren()).pipe((0,Ne.T)(sa),(0,gt.Z)(j=>j instanceof d.Co$||Array.isArray(j)?(0,Ce.of)(j):(0,W.H)(x.compileModuleAsync(j))),(0,Ne.T)(j=>{P&&P(T);let ge,Te,$t=!1;return Array.isArray(j)?(Te=j,!0):(ge=j.create(B).injector,Te=ge.get(Ka,[],{optional:!0,self:!0}).flat()),{routes:Te.map(ac),injector:ge}}))}(j,this.compiler,P,this.onLoadEndListener).pipe((0,Ke.j)(()=>{this.childrenLoaders.delete(j)})),$t=new St(Te,()=>new we.B).pipe(Ot());return this.childrenLoaders.set(j,$t),$t}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();function sa(T){return function oo(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Us=(()=>{var T;class x{}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(Ds),providedIn:"root"}),x})(),Ds=(()=>{var T;class x{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,j){return P}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();const Va=new d.nKC(""),$l=new d.nKC("");function R(T,x,B){const P=T.get($l),j=T.get(xe.qQ);return T.get(d.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||P.skipNextTransition)return P.skipNextTransition=!1,new Promise(Wt=>setTimeout(Wt));let ge;const Te=new Promise(Wt=>{ge=Wt}),$t=j.startViewTransition(()=>(ge(),function q(T){return new Promise(x=>{(0,d.mal)({read:()=>setTimeout(x)},{injector:T})})}(T))),{onViewTransitionCreated:vn}=P;return vn&&(0,d.N4e)(T,()=>vn({transition:$t,from:x,to:B})),Te})}const Ue=new d.nKC("");let X=(()=>{var T;class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we.B,this.transitionAbortSubject=new we.B,this.configLoader=(0,d.WQX)(cl),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)($n),this.rootContexts=(0,d.WQX)(F),this.location=(0,d.WQX)(xe.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(uo,{optional:!0}),this.titleStrategy=(0,d.WQX)(La),this.options=(0,d.WQX)(vs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(Us),this.createViewTransition=(0,d.WQX)(Va,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(Ue,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ce.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ge=>this.events.next(new Xr(ge)),this.configLoader.onLoadStartListener=ge=>this.events.next(new go(ge))}complete(){var P;null===(P=this.transitions)||void 0===P||P.complete()}handleNavigationRequest(P){var j;const ge=++this.navigationId;null===(j=this.transitions)||void 0===j||j.next({...this.transitions.value,...P,id:ge})}setupNavigations(P,j,ge){return this.transitions=new Re.t({id:0,currentUrlTree:j,currentRawUrl:j,extractedUrl:this.urlHandlingStrategy.extract(j),urlAfterRedirects:this.urlHandlingStrategy.extract(j),rawUrl:j,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Hi,restoredState:null,currentSnapshot:ge.snapshot,targetSnapshot:null,currentRouterState:ge,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,fe.p)(Te=>0!==Te.id),(0,Ne.T)(Te=>({...Te,extractedUrl:this.urlHandlingStrategy.extract(Te.rawUrl)})),(0,st.n)(Te=>{let $t=!1,vn=!1;return(0,Ce.of)(Te).pipe((0,st.n)(Wt=>{var Zn;if(this.navigationId>Te.id)return this.cancelNavigationTransition(Te,"",ti.SupersededByNewNavigation),pt.w;this.currentTransition=Te,this.currentNavigation={id:Wt.id,initialUrl:Wt.rawUrl,extractedUrl:Wt.extractedUrl,targetBrowserUrl:"string"==typeof Wt.extras.browserUrl?this.urlSerializer.parse(Wt.extras.browserUrl):Wt.extras.browserUrl,trigger:Wt.source,extras:Wt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Fr=!P.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),ki=null!==(Zn=Wt.extras.onSameUrlNavigation)&&void 0!==Zn?Zn:P.onSameUrlNavigation;if(!Fr&&"reload"!==ki){const Qr="";return this.events.next(new po(Wt.id,this.urlSerializer.serialize(Wt.rawUrl),Qr,xo.IgnoredSameUrlNavigation)),Wt.resolve(!1),pt.w}if(this.urlHandlingStrategy.shouldProcessUrl(Wt.rawUrl))return(0,Ce.of)(Wt).pipe((0,st.n)(Qr=>{var Qi,Go;const Zo=null===(Qi=this.transitions)||void 0===Qi?void 0:Qi.getValue();return this.events.next(new ji(Qr.id,this.urlSerializer.serialize(Qr.extractedUrl),Qr.source,Qr.restoredState)),Zo!==(null===(Go=this.transitions)||void 0===Go?void 0:Go.getValue())?pt.w:Promise.resolve(Qr)}),function ll(T,x,B,P,j,ge){return(0,gt.Z)(Te=>function wc(T,x,B,P,j,ge,Te="emptyOnly"){return new Fo(T,x,B,P,j,Te,ge).recognize()}(T,x,B,P,Te.extractedUrl,j,ge).pipe((0,Ne.T)(({state:$t,tree:vn})=>({...Te,targetSnapshot:$t,urlAfterRedirects:vn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,P.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Lt.M)(Qr=>{Te.targetSnapshot=Qr.targetSnapshot,Te.urlAfterRedirects=Qr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Qr.urlAfterRedirects};const Qi=new qo(Qr.id,this.urlSerializer.serialize(Qr.extractedUrl),this.urlSerializer.serialize(Qr.urlAfterRedirects),Qr.targetSnapshot);this.events.next(Qi)}));if(Fr&&this.urlHandlingStrategy.shouldProcessUrl(Wt.currentRawUrl)){const{id:Qr,extractedUrl:Qi,source:Go,restoredState:Zo,extras:ul}=Wt,us=new ji(Qr,this.urlSerializer.serialize(Qi),Go,Zo);this.events.next(us);const Js=an(this.rootComponentType).snapshot;return this.currentTransition=Te={...Wt,targetSnapshot:Js,urlAfterRedirects:Qi,extras:{...ul,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Qi,(0,Ce.of)(Te)}{const Qr="";return this.events.next(new po(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),Qr,xo.IgnoredByUrlHandlingStrategy)),Wt.resolve(!1),pt.w}}),(0,Lt.M)(Wt=>{const Zn=new Ji(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(Zn)}),(0,Ne.T)(Wt=>(this.currentTransition=Te={...Wt,guards:Wr(Wt.targetSnapshot,Wt.currentSnapshot,this.rootContexts)},Te)),function sc(T,x){return(0,gt.Z)(B=>{const{targetSnapshot:P,currentSnapshot:j,guards:{canActivateChecks:ge,canDeactivateChecks:Te}}=B;return 0===Te.length&&0===ge.length?(0,Ce.of)({...B,guardsResult:!0}):function as(T,x,B,P){return(0,W.H)(T).pipe((0,gt.Z)(j=>function K(T,x,B,P,j){const ge=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!ge||0===ge.length)return(0,Ce.of)(!0);const Te=ge.map($t=>{var vn;const Wt=null!==(vn=Oo(x))&&void 0!==vn?vn:j,Zn=qe($t,Wt);return Fe(function ai(T){return T&&Jn(T.canDeactivate)}(Zn)?Zn.canDeactivate(T,x,B,P):(0,d.N4e)(Wt,()=>Zn(T,x,B,P))).pipe((0,mt.$)())});return(0,Ce.of)(Te).pipe(As())}(j.component,j.route,B,x,P)),(0,mt.$)(j=>!0!==j,!0))}(Te,P,j,T).pipe((0,gt.Z)($t=>$t&&function $i(T){return"boolean"==typeof T}($t)?function Jo(T,x,B,P){return(0,W.H)(x).pipe((0,Ze.H)(j=>(0,it.x)(function Z(T,x){return null!==T&&x&&x(new fs(T)),(0,Ce.of)(!0)}(j.route.parent,P),function ya(T,x){return null!==T&&x&&x(new jr(T)),(0,Ce.of)(!0)}(j.route,P),function le(T,x,B){const P=x[x.length-1],ge=x.slice(0,x.length-1).reverse().map(Te=>function pe(T){const x=T.routeConfig?T.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:T,guards:x}:null}(Te)).filter(Te=>null!==Te).map(Te=>Ct(()=>{const $t=Te.guards.map(vn=>{var Wt;const Zn=null!==(Wt=Oo(Te.node))&&void 0!==Wt?Wt:B,Fr=qe(vn,Zn);return Fe(function ss(T){return T&&Jn(T.canActivateChild)}(Fr)?Fr.canActivateChild(P,T):(0,d.N4e)(Zn,()=>Fr(P,T))).pipe((0,mt.$)())});return(0,Ce.of)($t).pipe(As())}));return(0,Ce.of)(ge).pipe(As())}(T,j.path,B),function L(T,x,B){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Ce.of)(!0);const j=P.map(ge=>Ct(()=>{var Te;const $t=null!==(Te=Oo(x))&&void 0!==Te?Te:B,vn=qe(ge,$t);return Fe(function to(T){return T&&Jn(T.canActivate)}(vn)?vn.canActivate(x,T):(0,d.N4e)($t,()=>vn(x,T))).pipe((0,mt.$)())}));return(0,Ce.of)(j).pipe(As())}(T,j.route,B))),(0,mt.$)(j=>!0!==j,!0))}(P,ge,T,x):(0,Ce.of)($t)),(0,Ne.T)($t=>({...B,guardsResult:$t})))})}(this.environmentInjector,Wt=>this.events.next(Wt)),(0,Lt.M)(Wt=>{if(Te.guardsResult=Wt.guardsResult,Wt.guardsResult&&"boolean"!=typeof Wt.guardsResult)throw ko(0,Wt.guardsResult);const Zn=new jo(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot,!!Wt.guardsResult);this.events.next(Zn)}),(0,fe.p)(Wt=>!!Wt.guardsResult||(this.cancelNavigationTransition(Wt,"",ti.GuardRejected),!1)),oa(Wt=>{if(Wt.guards.canActivateChecks.length)return(0,Ce.of)(Wt).pipe((0,Lt.M)(Zn=>{const Fr=new ns(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),this.urlSerializer.serialize(Zn.urlAfterRedirects),Zn.targetSnapshot);this.events.next(Fr)}),(0,st.n)(Zn=>{let Fr=!1;return(0,Ce.of)(Zn).pipe(function Vs(T,x){return(0,gt.Z)(B=>{const{targetSnapshot:P,guards:{canActivateChecks:j}}=B;if(!j.length)return(0,Ce.of)(B);const ge=new Set(j.map(vn=>vn.route)),Te=new Set;for(const vn of ge)if(!Te.has(vn))for(const Wt of Tl(vn))Te.add(Wt);let $t=0;return(0,W.H)(Te).pipe((0,Ze.H)(vn=>ge.has(vn)?function Bl(T,x,B,P){const j=T.routeConfig,ge=T._resolve;return void 0!==(null==j?void 0:j.title)&&!si(j)&&(ge[Fn]=j.title),function Ur(T,x,B,P){const j=zt(T);if(0===j.length)return(0,Ce.of)({});const ge={};return(0,W.H)(j).pipe((0,gt.Z)(Te=>function eu(T,x,B,P){var j;const ge=null!==(j=Oo(x))&&void 0!==j?j:P,Te=qe(T,ge);return Fe(Te.resolve?Te.resolve(x,B):(0,d.N4e)(ge,()=>Te(x,B)))}(T[Te],x,B,P).pipe((0,mt.$)(),(0,Lt.M)($t=>{if($t instanceof ho)throw ko(new Ir,$t);ge[Te]=$t}))),De(1),function Oe(T){return(0,Ne.T)(()=>T)}(ge),Vt(Te=>Oa(Te)?pt.w:et(Te)))}(ge,T,x,P).pipe((0,Ne.T)(Te=>(T._resolvedData=Te,T.data=dn(T,T.parent,B).resolve,null)))}(vn,P,T,x):(vn.data=dn(vn,vn.parent,T).resolve,(0,Ce.of)(void 0))),(0,Lt.M)(()=>$t++),De(1),(0,gt.Z)(vn=>$t===Te.size?(0,Ce.of)(B):pt.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Lt.M)({next:()=>Fr=!0,complete:()=>{Fr||this.cancelNavigationTransition(Zn,"",ti.NoDataFromResolver)}}))}),(0,Lt.M)(Zn=>{const Fr=new Qo(Zn.id,this.urlSerializer.serialize(Zn.extractedUrl),this.urlSerializer.serialize(Zn.urlAfterRedirects),Zn.targetSnapshot);this.events.next(Fr)}))}),oa(Wt=>{const Zn=Fr=>{var ki;const Qr=[];null!==(ki=Fr.routeConfig)&&void 0!==ki&&ki.loadComponent&&!Fr.routeConfig._loadedComponent&&Qr.push(this.configLoader.loadComponent(Fr.routeConfig).pipe((0,Lt.M)(Qi=>{Fr.component=Qi}),(0,Ne.T)(()=>{})));for(const Qi of Fr.children)Qr.push(...Zn(Qi));return Qr};return(0,Ge.z)(Zn(Wt.targetSnapshot.root)).pipe((0,We.U)(null),(0,ht.s)(1))}),oa(()=>this.afterPreactivation()),(0,st.n)(()=>{var Wt;const{currentSnapshot:Zn,targetSnapshot:Fr}=Te,ki=null===(Wt=this.createViewTransition)||void 0===Wt?void 0:Wt.call(this,this.environmentInjector,Zn.root,Fr.root);return ki?(0,W.H)(ki).pipe((0,Ne.T)(()=>Te)):(0,Ce.of)(Te)}),(0,Ne.T)(Wt=>{const Zn=function Gi(T,x,B){const P=_o(T,x._root,B?B._root:void 0);return new ot(P,x)}(P.routeReuseStrategy,Wt.targetSnapshot,Wt.currentRouterState);return this.currentTransition=Te={...Wt,targetRouterState:Zn},this.currentNavigation.targetRouterState=Zn,Te}),(0,Lt.M)(()=>{this.events.next(new mo)}),((T,x,B,P)=>(0,Ne.T)(j=>(new Ro(x,j.targetRouterState,j.currentRouterState,B,P).activate(T),j)))(this.rootContexts,P.routeReuseStrategy,Wt=>this.events.next(Wt),this.inputBindingEnabled),(0,ht.s)(1),(0,Lt.M)({next:Wt=>{var Zn;$t=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Co(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects))),null===(Zn=this.titleStrategy)||void 0===Zn||Zn.updateTitle(Wt.targetRouterState.snapshot),Wt.resolve(!0)},complete:()=>{$t=!0}}),function He(T){return(0,vt.N)((x,B)=>{(0,Me.Tg)(T).subscribe((0,ut._)(B,()=>B.complete(),tt.l)),!B.closed&&x.subscribe(B)})}(this.transitionAbortSubject.pipe((0,Lt.M)(Wt=>{throw Wt}))),(0,Ke.j)(()=>{var Wt;!$t&&!vn&&this.cancelNavigationTransition(Te,"",ti.SupersededByNewNavigation),(null===(Wt=this.currentTransition)||void 0===Wt?void 0:Wt.id)===Te.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vt(Wt=>{if(vn=!0,ri(Wt))this.events.next(new Yi(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Wt.message,Wt.cancellationCode)),function os(T){return ri(T)&&bn(T.url)}(Wt)?this.events.next(new Mi(Wt.url,Wt.navigationBehaviorOptions)):Te.resolve(!1);else{var Zn;const Fr=new Ao(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Wt,null!==(Zn=Te.targetSnapshot)&&void 0!==Zn?Zn:void 0);try{const ki=(0,d.N4e)(this.environmentInjector,()=>{var Qr;return null===(Qr=this.navigationErrorHandler)||void 0===Qr?void 0:Qr.call(this,Fr)});if(ki instanceof ho){const{message:Qr,cancellationCode:Qi}=ko(0,ki);this.events.next(new Yi(Te.id,this.urlSerializer.serialize(Te.extractedUrl),Qr,Qi)),this.events.next(new Mi(ki.redirectTo,ki.navigationBehaviorOptions))}else{this.events.next(Fr);const Qr=P.errorHandler(Wt);Te.resolve(!!Qr)}}catch(ki){this.options.resolveNavigationPromiseOnError?Te.resolve(!1):Te.reject(ki)}}return pt.w}))}))}cancelNavigationTransition(P,j,ge){const Te=new Yi(P.id,this.urlSerializer.serialize(P.extractedUrl),j,ge);this.events.next(Te),P.resolve(!1)}isUpdatingInternalState(){var P,j;return(null===(P=this.currentTransition)||void 0===P?void 0:P.extractedUrl.toString())!==(null===(j=this.currentTransition)||void 0===j?void 0:j.currentUrlTree.toString())}isUpdatedBrowserUrl(){var P,j,ge,Te;const $t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),vn=null!==(P=null===(j=this.currentNavigation)||void 0===j?void 0:j.targetBrowserUrl)&&void 0!==P?P:null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.extractedUrl;return $t.toString()!==(null==vn?void 0:vn.toString())&&!(null!==(Te=this.currentNavigation)&&void 0!==Te&&Te.extras.skipLocationChange)}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();function ue(T){return T!==Hi}let Qe=(()=>{var T;class x{}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(Dn),providedIn:"root"}),x})();class ln{shouldDetach(x){return!1}store(x,B){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,B){return x.routeConfig===B.routeConfig}}let Dn=(()=>{var T;class x extends ln{}return(T=x).\u0275fac=(()=>{let B;return function(j){return(B||(B=d.xGo(T)))(j||T)}})(),T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})(),Rr=(()=>{var T;class x{}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(ii),providedIn:"root"}),x})(),ii=(()=>{var T;class x extends Rr{constructor(){super(...arguments),this.location=(0,d.WQX)(xe.aZ),this.urlSerializer=(0,d.WQX)($n),this.options=(0,d.WQX)(vs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=an(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var P,j;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(P=null===(j=this.restoredState())||void 0===j?void 0:j.\u0275routerPageId)&&void 0!==P?P:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(P){return this.location.subscribe(j=>{"popstate"===j.type&&P(j.url,j.state)})}handleRouterEvent(P,j){if(P instanceof ji)this.stateMemento=this.createStateMemento();else if(P instanceof po)this.rawUrlTree=j.initialUrl;else if(P instanceof qo){if("eager"===this.urlUpdateStrategy&&!j.extras.skipLocationChange){var ge;const $t=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl);this.setBrowserUrl(null!==(ge=j.targetBrowserUrl)&&void 0!==ge?ge:$t,j)}}else if(P instanceof mo){var Te;this.currentUrlTree=j.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl),this.routerState=j.targetRouterState,"deferred"!==this.urlUpdateStrategy||j.extras.skipLocationChange||this.setBrowserUrl(null!==(Te=j.targetBrowserUrl)&&void 0!==Te?Te:this.rawUrlTree,j)}else P instanceof Yi&&(P.code===ti.GuardRejected||P.code===ti.NoDataFromResolver)?this.restoreHistory(j):P instanceof Ao?this.restoreHistory(j,!0):P instanceof Co&&(this.lastSuccessfulId=P.id,this.currentPageId=this.browserPageId)}setBrowserUrl(P,j){const ge=P instanceof Qn?this.urlSerializer.serialize(P):P;if(this.location.isCurrentPathEqualTo(ge)||j.extras.replaceUrl){const $t={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(ge,"",$t)}else{const Te={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId+1)};this.location.go(ge,"",Te)}}restoreHistory(P,j=!1){if("computed"===this.canceledNavigationResolution){const Te=this.currentPageId-this.browserPageId;0!==Te?this.location.historyGo(Te):this.currentUrlTree===P.finalUrl&&0===Te&&(this.resetState(P),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(P),this.resetUrlToCurrentUrlTree())}resetState(P){var j;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(j=P.finalUrl)&&void 0!==j?j:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(P,j){return"computed"===this.canceledNavigationResolution?{navigationId:P,\u0275routerPageId:j}:{navigationId:P}}}return(T=x).\u0275fac=(()=>{let B;return function(j){return(B||(B=d.xGo(T)))(j||T)}})(),T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();var vi=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(vi||{});function Zr(T,x){T.events.pipe((0,fe.p)(B=>B instanceof Co||B instanceof Yi||B instanceof Ao||B instanceof po),(0,Ne.T)(B=>B instanceof Co||B instanceof po?vi.COMPLETE:B instanceof Yi&&(B.code===ti.Redirect||B.code===ti.SupersededByNewNavigation)?vi.REDIRECTING:vi.FAILED),(0,fe.p)(B=>B!==vi.REDIRECTING),(0,ht.s)(1)).subscribe(()=>{x()})}function Ni(T){throw T}const li={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ui=(()=>{var T;class x{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var P,j;this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(Rr),this.options=(0,d.WQX)(vs,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(X),this.urlSerializer=(0,d.WQX)($n),this.location=(0,d.WQX)(xe.aZ),this.urlHandlingStrategy=(0,d.WQX)(Us),this._events=new we.B,this.errorHandler=this.options.errorHandler||Ni,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Qe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(P=null===(j=(0,d.WQX)(Ka,{optional:!0}))||void 0===j?void 0:j.flat())&&void 0!==P?P:[],this.componentInputBindingEnabled=!!(0,d.WQX)(uo,{optional:!0}),this.eventsSubscription=new Et.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ge=>{this.console.warn(ge)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const P=this.navigationTransitions.events.subscribe(j=>{try{const ge=this.navigationTransitions.currentTransition,Te=this.navigationTransitions.currentNavigation;if(null!==ge&&null!==Te)if(this.stateManager.handleRouterEvent(j,Te),j instanceof Yi&&j.code!==ti.Redirect&&j.code!==ti.SupersededByNewNavigation)this.navigated=!0;else if(j instanceof Co)this.navigated=!0;else if(j instanceof Mi){const $t=j.navigationBehaviorOptions,vn=this.urlHandlingStrategy.merge(j.url,ge.currentRawUrl),Wt={browserUrl:ge.extras.browserUrl,info:ge.extras.info,skipLocationChange:ge.extras.skipLocationChange,replaceUrl:ge.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ue(ge.source),...$t};this.scheduleNavigation(vn,Hi,null,Wt,{resolve:ge.resolve,reject:ge.reject,promise:ge.promise})}(function Nn(T){return!(T instanceof mo||T instanceof Mi)})(j)&&this._events.next(j)}catch(ge){this.navigationTransitions.transitionAbortSubject.next(ge)}});this.eventsSubscription.add(P)}resetRootComponentType(P){this.routerState.root.component=P,this.navigationTransitions.rootComponentType=P}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hi,this.stateManager.restoredState())}setUpLocationChangeListener(){var P;null!==(P=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==P||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((j,ge)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(j,"popstate",ge)},0)}))}navigateToSyncWithBrowser(P,j,ge){const Te={replaceUrl:!0},$t=null!=ge&&ge.navigationId?ge:null;if(ge){const Wt={...ge};delete Wt.navigationId,delete Wt.\u0275routerPageId,0!==Object.keys(Wt).length&&(Te.state=Wt)}const vn=this.parseUrl(P);this.scheduleNavigation(vn,j,$t,Te)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(P){this.config=P.map(ac),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(P,j={}){const{relativeTo:ge,queryParams:Te,fragment:$t,queryParamsHandling:vn,preserveFragment:Wt}=j,Zn=Wt?this.currentUrlTree.fragment:$t;let ki,Fr=null;switch(null!=vn?vn:this.options.defaultQueryParamsHandling){case"merge":Fr={...this.currentUrlTree.queryParams,...Te};break;case"preserve":Fr=this.currentUrlTree.queryParams;break;default:Fr=Te||null}null!==Fr&&(Fr=this.removeEmptyProps(Fr));try{ki=Bn(ge?ge.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof P[0]||"/"!==P[0][0])&&(P=[]),ki=this.currentUrlTree.root}return Gr(ki,P,Fr,null!=Zn?Zn:null)}navigateByUrl(P,j={skipLocationChange:!1}){const ge=bn(P)?P:this.parseUrl(P),Te=this.urlHandlingStrategy.merge(ge,this.rawUrlTree);return this.scheduleNavigation(Te,Hi,null,j)}navigate(P,j={skipLocationChange:!1}){return function hi(T){for(let x=0;x<T.length;x++)if(null==T[x])throw new d.wOt(4008,!1)}(P),this.navigateByUrl(this.createUrlTree(P,j),j)}serializeUrl(P){return this.urlSerializer.serialize(P)}parseUrl(P){try{return this.urlSerializer.parse(P)}catch{return this.urlSerializer.parse("/")}}isActive(P,j){let ge;if(ge=!0===j?{...li}:!1===j?{...Xi}:j,bn(P))return Ft(this.currentUrlTree,P,ge);const Te=this.parseUrl(P);return Ft(this.currentUrlTree,Te,ge)}removeEmptyProps(P){return Object.entries(P).reduce((j,[ge,Te])=>(null!=Te&&(j[ge]=Te),j),{})}scheduleNavigation(P,j,ge,Te,$t){if(this.disposed)return Promise.resolve(!1);let vn,Wt,Zn;$t?(vn=$t.resolve,Wt=$t.reject,Zn=$t.promise):Zn=new Promise((ki,Qr)=>{vn=ki,Wt=Qr});const Fr=this.pendingTasks.add();return Zr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Fr))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:ge,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:P,extras:Te,resolve:vn,reject:Wt,promise:Zn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zn.catch(ki=>Promise.reject(ki))}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})(),ur=(()=>{var T;class x{constructor(P,j,ge,Te,$t,vn){var Wt;this.router=P,this.route=j,this.tabIndexAttribute=ge,this.renderer=Te,this.el=$t,this.locationStrategy=vn,this.href=null,this.onChanges=new we.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Zn=null===(Wt=$t.nativeElement.tagName)||void 0===Wt?void 0:Wt.toLowerCase();this.isAnchorElement="a"===Zn||"area"===Zn,this.isAnchorElement?this.subscription=P.events.subscribe(Fr=>{Fr instanceof Co&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(P){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",P)}ngOnChanges(P){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(P){null==P?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=bn(P)||Array.isArray(P)?P:[P],this.setTabIndexIfNotOnNativeEl("0"))}onClick(P,j,ge,Te,$t){const vn=this.urlTree;return!!(null===vn||this.isAnchorElement&&(0!==P||j||ge||Te||$t||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(vn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var P;null===(P=this.subscription)||void 0===P||P.unsubscribe()}updateHref(){var P;const j=this.urlTree;this.href=null!==j&&this.locationStrategy?null===(P=this.locationStrategy)||void 0===P?void 0:P.prepareExternalUrl(this.router.serializeUrl(j)):null;const ge=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ge)}applyAttributeValue(P,j){const ge=this.renderer,Te=this.el.nativeElement;null!==j?ge.setAttribute(Te,P,j):ge.removeAttribute(Te,P)}get urlTree(){return null===this.routerLinkInput?null:bn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(T=x).\u0275fac=function(P){return new(P||T)(d.rXU(Ui),d.rXU(qt),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(xe.hb))},T.\u0275dir=d.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(P,j){1&P&&d.bIt("click",function(Te){return j.onClick(Te.button,Te.ctrlKey,Te.shiftKey,Te.altKey,Te.metaKey)}),2&P&&d.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),x})(),qi=(()=>{var T;class x{get isActive(){return this._isActive}constructor(P,j,ge,Te,$t){this.router=P,this.element=j,this.renderer=ge,this.cdr=Te,this.link=$t,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.bkB,this.routerEventsSubscription=P.events.subscribe(vn=>{vn instanceof Co&&this.update()})}ngAfterContentInit(){(0,Ce.of)(this.links.changes,(0,Ce.of)(null)).pipe((0,lt.U)()).subscribe(P=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var P;null===(P=this.linkInputChangesSubscription)||void 0===P||P.unsubscribe();const j=[...this.links.toArray(),this.link].filter(ge=>!!ge).map(ge=>ge.onChanges);this.linkInputChangesSubscription=(0,W.H)(j).pipe((0,lt.U)()).subscribe(ge=>{this._isActive!==this.isLinkActive(this.router)(ge)&&this.update()})}set routerLinkActive(P){const j=Array.isArray(P)?P:P.split(" ");this.classes=j.filter(ge=>!!ge)}ngOnChanges(P){this.update()}ngOnDestroy(){var P;this.routerEventsSubscription.unsubscribe(),null===(P=this.linkInputChangesSubscription)||void 0===P||P.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const P=this.hasActiveLinks();this.classes.forEach(j=>{P?this.renderer.addClass(this.element.nativeElement,j):this.renderer.removeClass(this.element.nativeElement,j)}),P&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==P&&(this._isActive=P,this.cdr.markForCheck(),this.isActiveChange.emit(P))})}isLinkActive(P){const j=function Mo(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ge=>{const Te=ge.urlTree;return!!Te&&P.isActive(Te,j)}}hasActiveLinks(){const P=this.isLinkActive(this.router);return this.link&&P(this.link)||this.links.some(P)}}return(T=x).\u0275fac=function(P){return new(P||T)(d.rXU(Ui),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(ur,8))},T.\u0275dir=d.FsC({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(P,j,ge){if(1&P&&d.wni(ge,ur,5),2&P){let Te;d.mGM(Te=d.lsd())&&(j.links=Te)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.OA$]}),x})();class zi{}let Lo=(()=>{var T;class x{preload(P,j){return j().pipe(Vt(()=>(0,Ce.of)(null)))}}return(T=x).\u0275fac=function(P){return new(P||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})(),Br=(()=>{var T;class x{constructor(P,j,ge,Te,$t){this.router=P,this.injector=ge,this.preloadingStrategy=Te,this.loader=$t}setUpPreloading(){this.subscription=this.router.events.pipe((0,fe.p)(P=>P instanceof Co),(0,Ze.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(P,j){const ge=[];for(const Wt of j){var Te,$t;Wt.providers&&!Wt._injector&&(Wt._injector=(0,d.Ol2)(Wt.providers,P,`Route: ${Wt.path}`));const Zn=null!==(Te=Wt._injector)&&void 0!==Te?Te:P,Fr=null!==($t=Wt._loadedInjector)&&void 0!==$t?$t:Zn;var vn;(Wt.loadChildren&&!Wt._loadedRoutes&&void 0===Wt.canLoad||Wt.loadComponent&&!Wt._loadedComponent)&&ge.push(this.preloadConfig(Zn,Wt)),(Wt.children||Wt._loadedRoutes)&&ge.push(this.processRoutes(Fr,null!==(vn=Wt.children)&&void 0!==vn?vn:Wt._loadedRoutes))}return(0,W.H)(ge).pipe((0,lt.U)())}preloadConfig(P,j){return this.preloadingStrategy.preload(j,()=>{let ge;ge=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(P,j):(0,Ce.of)(null);const Te=ge.pipe((0,gt.Z)($t=>{var vn;return null===$t?(0,Ce.of)(void 0):(j._loadedRoutes=$t.routes,j._loadedInjector=$t.injector,this.processRoutes(null!==(vn=$t.injector)&&void 0!==vn?vn:P,$t.routes))}));if(j.loadComponent&&!j._loadedComponent){const $t=this.loader.loadComponent(j);return(0,W.H)([Te,$t]).pipe((0,lt.U)())}return Te})}}return(T=x).\u0275fac=function(P){return new(P||T)(d.KVO(Ui),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(zi),d.KVO(cl))},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();const Tr=new d.nKC("");let cs=(()=>{var T;class x{constructor(P,j,ge,Te,$t={}){this.urlSerializer=P,this.transitions=j,this.viewportScroller=ge,this.zone=Te,this.options=$t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$t.scrollPositionRestoration||($t.scrollPositionRestoration="disabled"),$t.anchorScrolling||($t.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=P.navigationTrigger,this.restoredId=P.restoredState?P.restoredState.navigationId:0):P instanceof Co?(this.lastId=P.id,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.urlAfterRedirects).fragment)):P instanceof po&&P.code===xo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(P,this.urlSerializer.parse(P.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(P=>{P instanceof Is&&(P.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(P.position):P.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(P.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(P,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Is(P,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){var P,j;null===(P=this.routerEventsSubscription)||void 0===P||P.unsubscribe(),null===(j=this.scrollEventsSubscription)||void 0===j||j.unsubscribe()}}return(T=x).\u0275fac=function(P){d.QTQ()},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac}),x})();function Bs(T,x){return{\u0275kind:T,\u0275providers:x}}function Ss(){const T=(0,d.WQX)(d.zZn);return x=>{var B,P;const j=T.get(d.o8S);if(x!==j.components[0])return;const ge=T.get(Ui),Te=T.get(la);1===T.get(Qs)&&ge.initialNavigation(),null===(B=T.get(pr,null,d.$GK.Optional))||void 0===B||B.setUpPreloading(),null===(P=T.get(Tr,null,d.$GK.Optional))||void 0===P||P.init(),ge.resetRootComponentType(j.componentTypes[0]),Te.closed||(Te.next(),Te.complete(),Te.unsubscribe())}}const la=new d.nKC("",{factory:()=>new we.B}),Qs=new d.nKC("",{providedIn:"root",factory:()=>1}),pr=new d.nKC("");function Dc(T){return Bs(0,[{provide:pr,useExisting:Br},{provide:zi,useExisting:T}])}function Vo(T){return Bs(9,[{provide:Va,useValue:R},{provide:$l,useValue:{skipNextTransition:!(null==T||!T.skipInitialTransition),...T}}])}const Eo=new d.nKC("ROUTER_FORROOT_GUARD"),ao=[xe.aZ,{provide:$n,useClass:Ir},Ui,F,{provide:qt,useFactory:function aa(T){return T.routerState.root},deps:[Ui]},cl,[]];let ba=(()=>{var T;class x{constructor(P){}static forRoot(P,j){return{ngModule:x,providers:[ao,[],{provide:Ka,multi:!0,useValue:P},{provide:Eo,useFactory:Ca,deps:[[Ui,new d.Xx1,new d.kdw]]},{provide:vs,useValue:j||{}},null!=j&&j.useHash?{provide:xe.hb,useClass:xe.fw}:{provide:xe.hb,useClass:xe.Sm},{provide:Tr,useFactory:()=>{const T=(0,d.WQX)(xe.Xr),x=(0,d.WQX)(d.SKi),B=(0,d.WQX)(vs),P=(0,d.WQX)(X),j=(0,d.WQX)($n);return B.scrollOffset&&T.setOffset(B.scrollOffset),new cs(j,P,T,x,B)}},null!=j&&j.preloadingStrategy?Dc(j.preloadingStrategy).\u0275providers:[],null!=j&&j.initialNavigation?lc(j):[],null!=j&&j.bindToComponentInputs?Bs(8,[To,{provide:uo,useExisting:To}]).\u0275providers:[],null!=j&&j.enableViewTransitions?Vo().\u0275providers:[],[{provide:Ja,useFactory:Ss},{provide:d.iLQ,multi:!0,useExisting:Ja}]]}}static forChild(P){return{ngModule:x,providers:[{provide:Ka,multi:!0,useValue:P}]}}}return(T=x).\u0275fac=function(P){return new(P||T)(d.KVO(Eo,8))},T.\u0275mod=d.$C({type:T}),T.\u0275inj=d.G2t({}),x})();function Ca(T){return"guarded"}function lc(T){return["disabled"===T.initialNavigation?Bs(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const x=(0,d.WQX)(Ui);return()=>{x.setUpLocationChangeListener()}}},{provide:Qs,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Bs(2,[{provide:Qs,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:x=>{const B=x.get(xe.hj,Promise.resolve());return()=>B.then(()=>new Promise(P=>{const j=x.get(Ui),ge=x.get(la);Zr(j,()=>{P(!0)}),x.get(X).afterPreactivation=()=>(P(!0),ge.closed?(0,Ce.of)(void 0):ge),j.initialNavigation()}))}}]).\u0275providers:[]]}const Ja=new d.nKC("")},6238:(kn,Mt,V)=>{"use strict";V.d(Mt,{uA:()=>Q,h1:()=>Sn});var d=V(467);Error;class st{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,oe)=>{this.resolve=ve,this.reject=oe})}wrapCallback(ve){return(oe,Nt)=>{oe?this.reject(oe):this.resolve(Nt),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(oe):ve(oe,Nt))}}}Error;class Q{constructor(ve,oe,Nt){this.name=ve,this.instanceFactory=oe,this.type=Nt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ve){return this.instantiationMode=ve,this}setMultipleInstances(ve){return this.multipleInstances=ve,this}setServiceProps(ve){return this.serviceProps=ve,this}setInstanceCreatedCallback(ve){return this.onInstanceCreated=ve,this}}const ne="[DEFAULT]";class ke{constructor(ve,oe){this.name=ve,this.container=oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ve){const oe=this.normalizeInstanceIdentifier(ve);if(!this.instancesDeferred.has(oe)){const Nt=new st;if(this.instancesDeferred.set(oe,Nt),this.isInitialized(oe)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:oe});Je&&Nt.resolve(Je)}catch{}}return this.instancesDeferred.get(oe).promise}getImmediate(ve){var oe;const Nt=this.normalizeInstanceIdentifier(null==ve?void 0:ve.identifier),Je=null!==(oe=null==ve?void 0:ve.optional)&&void 0!==oe&&oe;if(!this.isInitialized(Nt)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Nt})}catch(bn){if(Je)return null;throw bn}}getComponent(){return this.component}setComponent(ve){if(ve.name!==this.name)throw Error(`Mismatching Component ${ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ve,this.shouldAutoInitialize()){if(function tn(Ve){return"EAGER"===Ve.instantiationMode}(ve))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[oe,Nt]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(oe);try{const bn=this.getOrInitializeService({instanceIdentifier:Je});Nt.resolve(bn)}catch{}}}}clearInstance(ve=ne){this.instancesDeferred.delete(ve),this.instancesOptions.delete(ve),this.instances.delete(ve)}delete(){var ve=this;return(0,d.A)(function*(){const oe=Array.from(ve.instances.values());yield Promise.all([...oe.filter(Nt=>"INTERNAL"in Nt).map(Nt=>Nt.INTERNAL.delete()),...oe.filter(Nt=>"_delete"in Nt).map(Nt=>Nt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ve=ne){return this.instances.has(ve)}getOptions(ve=ne){return this.instancesOptions.get(ve)||{}}initialize(ve={}){const{options:oe={}}=ve,Nt=this.normalizeInstanceIdentifier(ve.instanceIdentifier);if(this.isInitialized(Nt))throw Error(`${this.name}(${Nt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:Nt,options:oe});for(const[bn,Xn]of this.instancesDeferred.entries())Nt===this.normalizeInstanceIdentifier(bn)&&Xn.resolve(Je);return Je}onInit(ve,oe){var Nt;const Je=this.normalizeInstanceIdentifier(oe),bn=null!==(Nt=this.onInitCallbacks.get(Je))&&void 0!==Nt?Nt:new Set;bn.add(ve),this.onInitCallbacks.set(Je,bn);const Xn=this.instances.get(Je);return Xn&&ve(Xn,Je),()=>{bn.delete(ve)}}invokeOnInitCallbacks(ve,oe){const Nt=this.onInitCallbacks.get(oe);if(Nt)for(const Je of Nt)try{Je(ve,oe)}catch{}}getOrInitializeService({instanceIdentifier:ve,options:oe={}}){let Nt=this.instances.get(ve);if(!Nt&&this.component&&(Nt=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=ve,Ve===ne?void 0:Ve),options:oe}),this.instances.set(ve,Nt),this.instancesOptions.set(ve,oe),this.invokeOnInitCallbacks(Nt,ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ve,Nt)}catch{}var Ve;return Nt||null}normalizeInstanceIdentifier(ve=ne){return this.component?this.component.multipleInstances?ve:ne:ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sn{constructor(ve){this.name=ve,this.providers=new Map}addComponent(ve){const oe=this.getProvider(ve.name);if(oe.isComponentSet())throw new Error(`Component ${ve.name} has already been registered with ${this.name}`);oe.setComponent(ve)}addOrOverwriteComponent(ve){this.getProvider(ve.name).isComponentSet()&&this.providers.delete(ve.name),this.addComponent(ve)}getProvider(ve){if(this.providers.has(ve))return this.providers.get(ve);const oe=new ke(ve,this);return this.providers.set(ve,oe),oe}getProviders(){return Array.from(this.providers.values())}}},8041:(kn,Mt,V)=>{"use strict";V.d(Mt,{$b:()=>o,Ey:()=>ft,He:()=>Ge,Vy:()=>Re});const d=[];var o=function(it){return it[it.DEBUG=0]="DEBUG",it[it.VERBOSE=1]="VERBOSE",it[it.INFO=2]="INFO",it[it.WARN=3]="WARN",it[it.ERROR=4]="ERROR",it[it.SILENT=5]="SILENT",it}(o||{});const $={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},be=o.INFO,W={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},Ce=(it,Me,...Ct)=>{if(Me<it.logLevel)return;const at=(new Date).toISOString(),et=W[Me];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${Me})`);console[et](`[${at}]  ${it.name}:`,...Ct)};class Re{constructor(Me){this.name=Me,this._logLevel=be,this._logHandler=Ce,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Me){if(!(Me in o))throw new TypeError(`Invalid value "${Me}" assigned to \`logLevel\``);this._logLevel=Me}setLogLevel(Me){this._logLevel="string"==typeof Me?$[Me]:Me}get logHandler(){return this._logHandler}set logHandler(Me){if("function"!=typeof Me)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Me}get userLogHandler(){return this._userLogHandler}set userLogHandler(Me){this._userLogHandler=Me}debug(...Me){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,...Me),this._logHandler(this,o.DEBUG,...Me)}log(...Me){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,...Me),this._logHandler(this,o.VERBOSE,...Me)}info(...Me){this._userLogHandler&&this._userLogHandler(this,o.INFO,...Me),this._logHandler(this,o.INFO,...Me)}warn(...Me){this._userLogHandler&&this._userLogHandler(this,o.WARN,...Me),this._logHandler(this,o.WARN,...Me)}error(...Me){this._userLogHandler&&this._userLogHandler(this,o.ERROR,...Me),this._logHandler(this,o.ERROR,...Me)}}function Ge(it){d.forEach(Me=>{Me.setLogLevel(it)})}function ft(it,Me){for(const Ct of d){let at=null;Me&&Me.level&&(at=$[Me.level]),Ct.userLogHandler=null===it?null:(et,pt,...Et)=>{const vt=Et.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");pt>=(null!=at?at:et.logLevel)&&it({level:o[pt].toLowerCase(),message:vt,args:Et,type:et.name})}}}},2872:(kn,Mt,V)=>{"use strict";V.d(Mt,{Yq:()=>sn,TS:()=>qn,sR:()=>en,el:()=>Sn,Sb:()=>$n,QE:()=>Je,CF:()=>Vr,Rg:()=>ct,p4:()=>bn,jM:()=>Wi,_t:()=>Ke,q9:()=>Fn,Kb:()=>Dr,OD:()=>lt,CE:()=>Ve,pF:()=>ve,fL:()=>Bn,YV:()=>ke,er:()=>Xn,z3:()=>Gr});var d=V(467),o=V(9842),$=V(4438),be=V(9384),W=V(177),Ce=V(5531),Re=V(4442);var mt=V(1413),Ze=V(3726),Lt=V(4412),Vt=V(4572),pn=V(7673),We=V(1635),De=V(5964),_e=V(5558),Se=V(3294),se=V(4341);const Oe=["tabsInner"];class Ke{constructor(Ae){(0,o.A)(this,"menuController",void 0),this.menuController=Ae}open(Ae){return this.menuController.open(Ae)}close(Ae){return this.menuController.close(Ae)}toggle(Ae){return this.menuController.toggle(Ae)}enable(Ae,wt){return this.menuController.enable(Ae,wt)}swipeGesture(Ae,wt){return this.menuController.swipeGesture(Ae,wt)}isOpen(Ae){return this.menuController.isOpen(Ae)}isEnabled(Ae){return this.menuController.isEnabled(Ae)}get(Ae){return this.menuController.get(Ae)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(Ae,wt){return this.menuController.registerAnimation(Ae,wt)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(Ae,wt){return this.menuController._createAnimation(Ae,wt)}_register(Ae){return this.menuController._register(Ae)}_unregister(Ae){return this.menuController._unregister(Ae)}_setOpen(Ae,wt,he){return this.menuController._setOpen(Ae,wt,he)}}let lt=(()=>{var Ye;class Ae{constructor(he,ce){(0,o.A)(this,"doc",void 0),(0,o.A)(this,"_readyPromise",void 0),(0,o.A)(this,"win",void 0),(0,o.A)(this,"backButton",new mt.B),(0,o.A)(this,"keyboardDidShow",new mt.B),(0,o.A)(this,"keyboardDidHide",new mt.B),(0,o.A)(this,"pause",new mt.B),(0,o.A)(this,"resume",new mt.B),(0,o.A)(this,"resize",new mt.B),this.doc=he,ce.run(()=>{var ze;let Qt;this.win=he.defaultView,this.backButton.subscribeWithPriority=function(gn,On){return this.subscribe(Yn=>Yn.register(gn,Sr=>ce.run(()=>On(Sr))))},Bt(this.pause,he,"pause",ce),Bt(this.resume,he,"resume",ce),Bt(this.backButton,he,"ionBackButton",ce),Bt(this.resize,this.win,"resize",ce),Bt(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ce),Bt(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ce),this._readyPromise=new Promise(gn=>{Qt=gn}),null!==(ze=this.win)&&void 0!==ze&&ze.cordova?he.addEventListener("deviceready",()=>{Qt("cordova")},{once:!0}):Qt("dom")})}is(he){return(0,Ce.a)(this.win,he)}platforms(){return(0,Ce.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(he){return yt(this.win.location.href,he)}isLandscape(){return!this.isPortrait()}isPortrait(){var he,ce;return null===(he=(ce=this.win).matchMedia)||void 0===he?void 0:he.call(ce,"(orientation: portrait)").matches}testUserAgent(he){const ce=this.win.navigator;return!!(null!=ce&&ce.userAgent&&ce.userAgent.indexOf(he)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)($.KVO(W.qQ),$.KVO($.SKi))}),(0,o.A)(Ae,"\u0275prov",$.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),Ae})();const yt=(Ye,Ae)=>{Ae=Ae.replace(/[[\]\\]/g,"\\$&");const he=new RegExp("[\\?&]"+Ae+"=([^&#]*)").exec(Ye);return he?decodeURIComponent(he[1].replace(/\+/g," ")):null},Bt=(Ye,Ae,wt,he)=>{Ae&&Ae.addEventListener(wt,ce=>{he.run(()=>{Ye.next(null!=ce?ce.detail:void 0)})})};let Fn=(()=>{var Ye;class Ae{constructor(he,ce,ze,Qt){(0,o.A)(this,"location",void 0),(0,o.A)(this,"serializer",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"topOutlet",void 0),(0,o.A)(this,"direction",In),(0,o.A)(this,"animated",Ln),(0,o.A)(this,"animationBuilder",void 0),(0,o.A)(this,"guessDirection","forward"),(0,o.A)(this,"guessAnimation",void 0),(0,o.A)(this,"lastNavId",-1),this.location=ce,this.serializer=ze,this.router=Qt,Qt&&Qt.events.subscribe(gn=>{if(gn instanceof be.Z){const On=gn.restoredState?gn.restoredState.navigationId:gn.id;this.guessDirection=this.guessAnimation=On<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?gn.id:On}}),he.backButton.subscribeWithPriority(0,gn=>{this.pop(),gn()})}navigateForward(he,ce={}){return this.setDirection("forward",ce.animated,ce.animationDirection,ce.animation),this.navigate(he,ce)}navigateBack(he,ce={}){return this.setDirection("back",ce.animated,ce.animationDirection,ce.animation),this.navigate(he,ce)}navigateRoot(he,ce={}){return this.setDirection("root",ce.animated,ce.animationDirection,ce.animation),this.navigate(he,ce)}back(he={animated:!0,animationDirection:"back"}){return this.setDirection("back",he.animated,he.animationDirection,he.animation),this.location.back()}pop(){var he=this;return(0,d.A)(function*(){let ce=he.topOutlet;for(;ce;){if(yield ce.pop())return!0;ce=ce.parentOutlet}return!1})()}setDirection(he,ce,ze,Qt){this.direction=he,this.animated=bt(he,ce,ze),this.animationBuilder=Qt}setTopOutlet(he){this.topOutlet=he}consumeTransition(){let ce,he="root";const ze=this.animationBuilder;return"auto"===this.direction?(he=this.guessDirection,ce=this.guessAnimation):(ce=this.animated,he=this.direction),this.direction=In,this.animated=Ln,this.animationBuilder=void 0,{direction:he,animation:ce,animationBuilder:ze}}navigate(he,ce){if(Array.isArray(he))return this.router.navigate(he,ce);{const ze=this.serializer.parse(he.toString());return void 0!==ce.queryParams&&(ze.queryParams={...ce.queryParams}),void 0!==ce.fragment&&(ze.fragment=ce.fragment),this.router.navigateByUrl(ze,ce)}}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)($.KVO(lt),$.KVO(W.aZ),$.KVO(be.Sd),$.KVO(be.Ix,8))}),(0,o.A)(Ae,"\u0275prov",$.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),Ae})();const bt=(Ye,Ae,wt)=>{if(!1!==Ae){if(void 0!==wt)return wt;if("forward"===Ye||"back"===Ye)return Ye;if("root"===Ye&&!0===Ae)return"forward"}},In="auto",Ln=void 0;let qn=(()=>{var Ye;class Ae{get(he,ce){const ze=zt();return ze?ze.get(he,ce):null}getBoolean(he,ce){const ze=zt();return!!ze&&ze.getBoolean(he,ce)}getNumber(he,ce){const ze=zt();return ze?ze.getNumber(he,ce):0}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)}),(0,o.A)(Ae,"\u0275prov",$.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),Ae})();const en=new $.nKC("USERCONFIG"),zt=()=>{if(typeof window<"u"){const Ye=window.Ionic;if(null!=Ye&&Ye.config)return Ye.config}return null};class Un{constructor(Ae={}){(0,o.A)(this,"data",void 0),this.data=Ae,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(Ae){return this.data[Ae]}}let sn=(()=>{var Ye;class Ae{constructor(){(0,o.A)(this,"zone",(0,$.WQX)($.SKi)),(0,o.A)(this,"applicationRef",(0,$.WQX)($.o8S)),(0,o.A)(this,"config",(0,$.WQX)(en))}create(he,ce,ze){var Qt;return new Fe(he,ce,this.applicationRef,this.zone,ze,null!==(Qt=this.config.useSetInputAPI)&&void 0!==Qt&&Qt)}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)}),(0,o.A)(Ae,"\u0275prov",$.jDH({token:Ye,factory:Ye.\u0275fac})),Ae})();class Fe{constructor(Ae,wt,he,ce,ze,Qt){(0,o.A)(this,"environmentInjector",void 0),(0,o.A)(this,"injector",void 0),(0,o.A)(this,"applicationRef",void 0),(0,o.A)(this,"zone",void 0),(0,o.A)(this,"elementReferenceKey",void 0),(0,o.A)(this,"enableSignalsSupport",void 0),(0,o.A)(this,"elRefMap",new WeakMap),(0,o.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=Ae,this.injector=wt,this.applicationRef=he,this.zone=ce,this.elementReferenceKey=ze,this.enableSignalsSupport=Qt}attachViewToDom(Ae,wt,he,ce){return this.zone.run(()=>new Promise(ze=>{const Qt={...he};void 0!==this.elementReferenceKey&&(Qt[this.elementReferenceKey]=Ae),ze(Le(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ae,wt,Qt,ce,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(Ae,wt){return this.zone.run(()=>new Promise(he=>{const ce=this.elRefMap.get(wt);if(ce){ce.destroy(),this.elRefMap.delete(wt);const ze=this.elEventsMap.get(wt);ze&&(ze(),this.elEventsMap.delete(wt))}he()}))}}const Le=(Ye,Ae,wt,he,ce,ze,Qt,gn,On,Yn,Sr,sr)=>{const Hi=$.zZn.create({providers:or(On),parent:wt}),mr=(0,$.a0P)(gn,{environmentInjector:Ae,elementInjector:Hi}),Ri=mr.instance,ji=mr.location.nativeElement;if(On)if(Sr&&void 0!==Ri[Sr]&&console.error(`[Ionic Error]: ${Sr} is a reserved property when using ${Qt.tagName.toLowerCase()}. Rename or remove the "${Sr}" property from ${gn.name}.`),!0===sr&&void 0!==mr.setInput){const{modal:ti,popover:xo,...Yi}=On;for(const po in Yi)mr.setInput(po,Yi[po]);void 0!==ti&&Object.assign(Ri,{modal:ti}),void 0!==xo&&Object.assign(Ri,{popover:xo})}else Object.assign(Ri,On);if(Yn)for(const ti of Yn)ji.classList.add(ti);const Co=Ft(Ye,Ri,ji);return Qt.appendChild(ji),he.attachView(mr.hostView),ce.set(ji,mr),ze.set(ji,Co),ji},Ut=[Re.L,Re.a,Re.b,Re.c,Re.d],Ft=(Ye,Ae,wt)=>Ye.run(()=>{const he=Ut.filter(ce=>"function"==typeof Ae[ce]).map(ce=>{const ze=Qt=>Ae[ce](Qt.detail);return wt.addEventListener(ce,ze),()=>wt.removeEventListener(ce,ze)});return()=>he.forEach(ce=>ce())}),tr=new $.nKC("NavParamsToken"),or=Ye=>[{provide:tr,useValue:Ye},{provide:Un,useFactory:Hn,deps:[tr]}],Hn=Ye=>new Un(Ye),Mn=(Ye,Ae)=>{const wt=Ye.prototype;Ae.forEach(he=>{Object.defineProperty(wt,he,{get(){return this.el[he]},set(ce){this.z.runOutsideAngular(()=>this.el[he]=ce)}})})},yr=(Ye,Ae)=>{const wt=Ye.prototype;Ae.forEach(he=>{wt[he]=function(){const ce=arguments;return this.z.runOutsideAngular(()=>this.el[he].apply(this.el,ce))}})},ar=(Ye,Ae,wt)=>{wt.forEach(he=>Ye[he]=(0,Ze.R)(Ae,he))};function Qn(Ye){return function(wt){const{defineCustomElementFn:he,inputs:ce,methods:ze}=Ye;return void 0!==he&&he(),ce&&Mn(wt,ce),ze&&yr(wt,ze),wt}}const nr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],fr=["present","dismiss","onDidDismiss","onWillDismiss"];let Vr=(()=>{var Ye;let Ae=((0,o.A)(Ye=class{constructor(he,ce,ze){(0,o.A)(this,"z",void 0),(0,o.A)(this,"template",void 0),(0,o.A)(this,"isCmpOpen",!1),(0,o.A)(this,"el",void 0),this.z=ze,this.el=ce.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,he.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,he.detectChanges()}),ar(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(he){return new(he||Ye)($.rXU($.gRc),$.rXU($.aKT),$.rXU($.SKi))}),(0,o.A)(Ye,"\u0275dir",$.FsC({type:Ye,selectors:[["ion-popover"]],contentQueries:function(he,ce,ze){if(1&he&&$.wni(ze,$.C4Q,5),2&he){let Qt;$.mGM(Qt=$.lsd())&&(ce.template=Qt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Ye);return Ae=(0,We.Cg)([Qn({inputs:nr,methods:fr})],Ae),Ae})();const wn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ar=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let $n=(()=>{var Ye;let Ae=((0,o.A)(Ye=class{constructor(he,ce,ze){(0,o.A)(this,"z",void 0),(0,o.A)(this,"template",void 0),(0,o.A)(this,"isCmpOpen",!1),(0,o.A)(this,"el",void 0),this.z=ze,this.el=ce.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,he.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,he.detectChanges()}),ar(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(he){return new(he||Ye)($.rXU($.gRc),$.rXU($.aKT),$.rXU($.SKi))}),(0,o.A)(Ye,"\u0275dir",$.FsC({type:Ye,selectors:[["ion-modal"]],contentQueries:function(he,ce,ze){if(1&he&&$.wni(ze,$.C4Q,5),2&he){let Qt;$.mGM(Qt=$.lsd())&&(ce.template=Qt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Ye);return Ae=(0,We.Cg)([Qn({inputs:wn,methods:Ar})],Ae),Ae})();const Pn=(Ye,Ae)=>((Ye=Ye.filter(wt=>wt.stackId!==Ae.stackId)).push(Ae),Ye),_r=(Ye,Ae)=>{const wt=Ye.createUrlTree(["."],{relativeTo:Ae});return Ye.serializeUrl(wt)},Er=(Ye,Ae)=>!Ae||Ye.stackId!==Ae.stackId,En=(Ye,Ae)=>{if(!Ye)return;const wt=Xt(Ae);for(let he=0;he<wt.length;he++){if(he>=Ye.length)return wt[he];if(wt[he]!==Ye[he])return}},Xt=Ye=>Ye.split("/").map(Ae=>Ae.trim()).filter(Ae=>""!==Ae),Rt=Ye=>{Ye&&(Ye.ref.destroy(),Ye.unlistenEvents())};class Yt{constructor(Ae,wt,he,ce,ze,Qt){(0,o.A)(this,"containerEl",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"zone",void 0),(0,o.A)(this,"location",void 0),(0,o.A)(this,"views",[]),(0,o.A)(this,"runningTask",void 0),(0,o.A)(this,"skipTransition",!1),(0,o.A)(this,"tabsPrefix",void 0),(0,o.A)(this,"activeView",void 0),(0,o.A)(this,"nextId",0),this.containerEl=wt,this.router=he,this.navCtrl=ce,this.zone=ze,this.location=Qt,this.tabsPrefix=void 0!==Ae?Xt(Ae):void 0}createView(Ae,wt){var he;const ce=_r(this.router,wt),ze=null==Ae||null===(he=Ae.location)||void 0===he?void 0:he.nativeElement,Qt=Ft(this.zone,Ae.instance,ze);return{id:this.nextId++,stackId:En(this.tabsPrefix,ce),unlistenEvents:Qt,element:ze,ref:Ae,url:ce}}getExistingView(Ae){const wt=_r(this.router,Ae),he=this.views.find(ce=>ce.url===wt);return he&&he.ref.changeDetectorRef.reattach(),he}setActive(Ae){var wt,he;const ce=this.navCtrl.consumeTransition();let{direction:ze,animation:Qt,animationBuilder:gn}=ce;const On=this.activeView,Yn=Er(Ae,On);Yn&&(ze="back",Qt=void 0);const Sr=this.views.slice();let sr;const Hi=this.router;Hi.getCurrentNavigation?sr=Hi.getCurrentNavigation():null!==(wt=Hi.navigations)&&void 0!==wt&&wt.value&&(sr=Hi.navigations.value),null!==(he=sr)&&void 0!==he&&null!==(he=he.extras)&&void 0!==he&&he.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const mr=this.views.includes(Ae),Ri=this.insertView(Ae,ze);mr||Ae.ref.changeDetectorRef.detectChanges();const ji=Ae.animationBuilder;return void 0===gn&&"back"===ze&&!Yn&&void 0!==ji&&(gn=ji),On&&(On.animationBuilder=gn),this.zone.runOutsideAngular(()=>this.wait(()=>(On&&On.ref.changeDetectorRef.detach(),Ae.ref.changeDetectorRef.reattach(),this.transition(Ae,On,Qt,this.canGoBack(1),!1,gn).then(()=>At(Ae,Ri,Sr,this.location,this.zone)).then(()=>({enteringView:Ae,direction:ze,animation:Qt,tabSwitch:Yn})))))}canGoBack(Ae,wt=this.getActiveStackId()){return this.getStack(wt).length>Ae}pop(Ae,wt=this.getActiveStackId()){return this.zone.run(()=>{const he=this.getStack(wt);if(he.length<=Ae)return Promise.resolve(!1);const ce=he[he.length-Ae-1];let ze=ce.url;const Qt=ce.savedData;if(Qt){var gn;const Yn=Qt.get("primary");null!=Yn&&null!==(gn=Yn.route)&&void 0!==gn&&null!==(gn=gn._routerState)&&void 0!==gn&&gn.snapshot.url&&(ze=Yn.route._routerState.snapshot.url)}const{animationBuilder:On}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ze,{...ce.savedExtras,animation:On}).then(()=>!0)})}startBackTransition(){const Ae=this.activeView;if(Ae){const wt=this.getStack(Ae.stackId),he=wt[wt.length-2],ce=he.animationBuilder;return this.wait(()=>this.transition(he,Ae,"back",this.canGoBack(2),!0,ce))}return Promise.resolve()}endBackTransition(Ae){Ae?(this.skipTransition=!0,this.pop(1)):this.activeView&&$e(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ae){const wt=this.getStack(Ae);return wt.length>0?wt[wt.length-1]:void 0}getRootUrl(Ae){const wt=this.getStack(Ae);return wt.length>0?wt[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Rt),this.activeView=void 0,this.views=[]}getStack(Ae){return this.views.filter(wt=>wt.stackId===Ae)}insertView(Ae,wt){return this.activeView=Ae,this.views=((Ye,Ae,wt)=>"root"===wt?Pn(Ye,Ae):"forward"===wt?((Ye,Ae)=>(Ye.indexOf(Ae)>=0?Ye=Ye.filter(he=>he.stackId!==Ae.stackId||he.id<=Ae.id):Ye.push(Ae),Ye))(Ye,Ae):((Ye,Ae)=>Ye.indexOf(Ae)>=0?Ye.filter(he=>he.stackId!==Ae.stackId||he.id<=Ae.id):Pn(Ye,Ae))(Ye,Ae))(this.views,Ae,wt),this.views.slice()}transition(Ae,wt,he,ce,ze,Qt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(wt===Ae)return Promise.resolve(!1);const gn=Ae?Ae.element:void 0,On=wt?wt.element:void 0,Yn=this.containerEl;return gn&&gn!==On&&(gn.classList.add("ion-page"),gn.classList.add("ion-page-invisible"),Yn.commit)?Yn.commit(gn,On,{duration:void 0===he?0:void 0,direction:he,showGoBack:ce,progressAnimation:ze,animationBuilder:Qt}):Promise.resolve(!1)}wait(Ae){var wt=this;return(0,d.A)(function*(){void 0!==wt.runningTask&&(yield wt.runningTask,wt.runningTask=void 0);const he=wt.runningTask=Ae();return he.finally(()=>wt.runningTask=void 0),he})()}}const At=(Ye,Ae,wt,he,ce)=>"function"==typeof requestAnimationFrame?new Promise(ze=>{requestAnimationFrame(()=>{$e(Ye,Ae,wt,he,ce),ze()})}):Promise.resolve(),$e=(Ye,Ae,wt,he,ce)=>{ce.run(()=>wt.filter(ze=>!Ae.includes(ze)).forEach(Rt)),Ae.forEach(ze=>{const gn=he.path().split("?")[0].split("#")[0];if(ze!==Ye&&ze.url!==gn){const On=ze.element;On.setAttribute("aria-hidden","true"),On.classList.add("ion-page-hidden"),ze.ref.changeDetectorRef.detach()}})};let ct=(()=>{var Ye;class Ae{get activatedComponentRef(){return this.activated}set animation(he){this.nativeEl.animation=he}set animated(he){this.nativeEl.animated=he}set swipeGesture(he){this._swipeGesture=he,this.nativeEl.swipeHandler=he?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ce=>this.stackCtrl.endBackTransition(ce)}:void 0}constructor(he,ce,ze,Qt,gn,On,Yn,Sr){(0,o.A)(this,"parentOutlet",void 0),(0,o.A)(this,"nativeEl",void 0),(0,o.A)(this,"activatedView",null),(0,o.A)(this,"tabsPrefix",void 0),(0,o.A)(this,"_swipeGesture",void 0),(0,o.A)(this,"stackCtrl",void 0),(0,o.A)(this,"proxyMap",new WeakMap),(0,o.A)(this,"currentActivatedRoute$",new Lt.t(null)),(0,o.A)(this,"activated",null),(0,o.A)(this,"_activatedRoute",null),(0,o.A)(this,"name",be.Xk),(0,o.A)(this,"stackWillChange",new $.bkB),(0,o.A)(this,"stackDidChange",new $.bkB),(0,o.A)(this,"activateEvents",new $.bkB),(0,o.A)(this,"deactivateEvents",new $.bkB),(0,o.A)(this,"parentContexts",(0,$.WQX)(be.Zp)),(0,o.A)(this,"location",(0,$.WQX)($.c1b)),(0,o.A)(this,"environmentInjector",(0,$.WQX)($.uvJ)),(0,o.A)(this,"inputBinder",(0,$.WQX)(Q,{optional:!0})),(0,o.A)(this,"supportsBindingToComponentInputs",!0),(0,o.A)(this,"config",(0,$.WQX)(qn)),(0,o.A)(this,"navCtrl",(0,$.WQX)(Fn)),this.parentOutlet=Sr,this.nativeEl=Qt.nativeElement,this.name=he||be.Xk,this.tabsPrefix="true"===ce?_r(gn,Yn):void 0,this.stackCtrl=new Yt(this.tabsPrefix,this.nativeEl,gn,this.navCtrl,On,ze),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var he;this.stackCtrl.destroy(),null===(he=this.inputBinder)||void 0===he||he.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const he=this.getContext();null!=he&&he.route&&this.activateWith(he.route,he.injector)}new Promise(he=>((Ye,Ae)=>{Ye.componentOnReady?Ye.componentOnReady().then(wt=>Ae(wt)):(Ye=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye)})(()=>Ae(Ye))})(this.nativeEl,he)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(he,ce){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ce=this.getContext();this.activatedView.savedData=new Map(ce.children.contexts);const ze=this.activatedView.savedData.get("primary");if(ze&&ce.route&&(ze.route={...ce.route}),this.activatedView.savedExtras={},ce.route){const Qt=ce.route.snapshot;this.activatedView.savedExtras.queryParams=Qt.queryParams,this.activatedView.savedExtras.fragment=Qt.fragment}}const he=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(he)}}activateWith(he,ce){var ze;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=he;let Qt,gn=this.stackCtrl.getExistingView(he);if(gn){Qt=this.activated=gn.ref;const Sr=gn.savedData;Sr&&(this.getContext().children.contexts=Sr),this.updateActivatedRouteProxy(Qt.instance,he)}else{var On;const Sr=he._futureSnapshot,sr=this.parentContexts.getOrCreateContext(this.name).children,Hi=new Lt.t(null),mr=this.createActivatedRouteProxy(Hi,he),Ri=new J(mr,sr,this.location.injector),ji=null!==(On=Sr.routeConfig.component)&&void 0!==On?On:Sr.component;Qt=this.activated=this.outletContent.createComponent(ji,{index:this.outletContent.length,injector:Ri,environmentInjector:null!=ce?ce:this.environmentInjector}),Hi.next(Qt.instance),gn=this.stackCtrl.createView(this.activated,he),this.proxyMap.set(Qt.instance,mr),this.currentActivatedRoute$.next({component:Qt.instance,activatedRoute:he})}null===(ze=this.inputBinder)||void 0===ze||ze.bindActivatedRouteToOutletComponent(this),this.activatedView=gn,this.navCtrl.setTopOutlet(this);const Yn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:gn,tabSwitch:Er(gn,Yn)}),this.stackCtrl.setActive(gn).then(Sr=>{this.activateEvents.emit(Qt.instance),this.stackDidChange.emit(Sr)})}canGoBack(he=1,ce){return this.stackCtrl.canGoBack(he,ce)}pop(he=1,ce){return this.stackCtrl.pop(he,ce)}getLastUrl(he){const ce=this.stackCtrl.getLastUrl(he);return ce?ce.url:void 0}getLastRouteView(he){return this.stackCtrl.getLastUrl(he)}getRootView(he){return this.stackCtrl.getRootUrl(he)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(he,ce){const ze=new be.nX;return ze._futureSnapshot=ce._futureSnapshot,ze._routerState=ce._routerState,ze.snapshot=ce.snapshot,ze.outlet=ce.outlet,ze.component=ce.component,ze._paramMap=this.proxyObservable(he,"paramMap"),ze._queryParamMap=this.proxyObservable(he,"queryParamMap"),ze.url=this.proxyObservable(he,"url"),ze.params=this.proxyObservable(he,"params"),ze.queryParams=this.proxyObservable(he,"queryParams"),ze.fragment=this.proxyObservable(he,"fragment"),ze.data=this.proxyObservable(he,"data"),ze}proxyObservable(he,ce){return he.pipe((0,De.p)(ze=>!!ze),(0,_e.n)(ze=>this.currentActivatedRoute$.pipe((0,De.p)(Qt=>null!==Qt&&Qt.component===ze),(0,_e.n)(Qt=>Qt&&Qt.activatedRoute[ce]),(0,Se.F)())))}updateActivatedRouteProxy(he,ce){const ze=this.proxyMap.get(he);if(!ze)throw new Error("Could not find activated route proxy for view");ze._futureSnapshot=ce._futureSnapshot,ze._routerState=ce._routerState,ze.snapshot=ce.snapshot,ze.outlet=ce.outlet,ze.component=ce.component,this.currentActivatedRoute$.next({component:he,activatedRoute:ce})}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)($.kS0("name"),$.kS0("tabs"),$.rXU(W.aZ),$.rXU($.aKT),$.rXU(be.Ix),$.rXU($.SKi),$.rXU(be.nX),$.rXU(Ye,12))}),(0,o.A)(Ae,"\u0275dir",$.FsC({type:Ye,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),Ae})();class J{constructor(Ae,wt,he){(0,o.A)(this,"route",void 0),(0,o.A)(this,"childContexts",void 0),(0,o.A)(this,"parent",void 0),this.route=Ae,this.childContexts=wt,this.parent=he}get(Ae,wt){return Ae===be.nX?this.route:Ae===be.Zp?this.childContexts:this.parent.get(Ae,wt)}}const Q=new $.nKC("");let ne=(()=>{var Ye;class Ae{constructor(){(0,o.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(he){this.unsubscribeFromRouteData(he),this.subscribeToRouteData(he)}unsubscribeFromRouteData(he){var ce;null===(ce=this.outletDataSubscriptions.get(he))||void 0===ce||ce.unsubscribe(),this.outletDataSubscriptions.delete(he)}subscribeToRouteData(he){const{activatedRoute:ce}=he,ze=(0,Vt.z)([ce.queryParams,ce.params,ce.data]).pipe((0,_e.n)(([Qt,gn,On],Yn)=>(On={...Qt,...gn,...On},0===Yn?(0,pn.of)(On):Promise.resolve(On)))).subscribe(Qt=>{if(!he.isActivated||!he.activatedComponentRef||he.activatedRoute!==ce||null===ce.component)return void this.unsubscribeFromRouteData(he);const gn=(0,$.HJs)(ce.component);if(gn)for(const{templateName:On}of gn.inputs)he.activatedComponentRef.setInput(On,Qt[On]);else this.unsubscribeFromRouteData(he)});this.outletDataSubscriptions.set(he,ze)}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)}),(0,o.A)(Ae,"\u0275prov",$.jDH({token:Ye,factory:Ye.\u0275fac})),Ae})();const ke=()=>({provide:Q,useFactory:je,deps:[be.Ix]});function je(Ye){return null!=Ye&&Ye.componentInputBindingEnabled?new ne:null}const tn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Sn=(()=>{var Ye;let Ae=((0,o.A)(Ye=class{constructor(he,ce,ze,Qt,gn,On){(0,o.A)(this,"routerOutlet",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"config",void 0),(0,o.A)(this,"r",void 0),(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.routerOutlet=he,this.navCtrl=ce,this.config=ze,this.r=Qt,this.z=gn,On.detach(),this.el=this.r.nativeElement}onClick(he){var ce;const ze=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(ce=this.routerOutlet)&&void 0!==ce&&ce.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),he.preventDefault()):null!=ze&&(this.navCtrl.navigateBack(ze,{animation:this.routerAnimation}),he.preventDefault())}},"\u0275fac",function(he){return new(he||Ye)($.rXU(ct,8),$.rXU(Fn),$.rXU(qn),$.rXU($.aKT),$.rXU($.SKi),$.rXU($.gRc))}),(0,o.A)(Ye,"\u0275dir",$.FsC({type:Ye,hostBindings:function(he,ce){1&he&&$.bIt("click",function(Qt){return ce.onClick(Qt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Ye);return Ae=(0,We.Cg)([Qn({inputs:tn})],Ae),Ae})(),Ve=(()=>{var Ye;class Ae{constructor(he,ce,ze,Qt,gn){(0,o.A)(this,"locationStrategy",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"elementRef",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"routerLink",void 0),(0,o.A)(this,"routerDirection","forward"),(0,o.A)(this,"routerAnimation",void 0),this.locationStrategy=he,this.navCtrl=ce,this.elementRef=ze,this.router=Qt,this.routerLink=gn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const ce=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(ce.tagName)&&"0"===ce.getAttribute("tabindex")&&ce.removeAttribute("tabindex")}updateTargetUrlAndHref(){var he;if(null!==(he=this.routerLink)&&void 0!==he&&he.urlTree){const ce=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ce}}onClick(he){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),he.preventDefault()}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)($.rXU(W.hb),$.rXU(Fn),$.rXU($.aKT),$.rXU(be.Ix),$.rXU(be.Wk,8))}),(0,o.A)(Ae,"\u0275dir",$.FsC({type:Ye,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(he,ce){1&he&&$.bIt("click",function(Qt){return ce.onClick(Qt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[$.OA$]})),Ae})(),ve=(()=>{var Ye;class Ae{constructor(he,ce,ze,Qt,gn){(0,o.A)(this,"locationStrategy",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"elementRef",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"routerLink",void 0),(0,o.A)(this,"routerDirection","forward"),(0,o.A)(this,"routerAnimation",void 0),this.locationStrategy=he,this.navCtrl=ce,this.elementRef=ze,this.router=Qt,this.routerLink=gn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var he;if(null!==(he=this.routerLink)&&void 0!==he&&he.urlTree){const ce=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=ce}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)($.rXU(W.hb),$.rXU(Fn),$.rXU($.aKT),$.rXU(be.Ix),$.rXU(be.Wk,8))}),(0,o.A)(Ae,"\u0275dir",$.FsC({type:Ye,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(he,ce){1&he&&$.bIt("click",function(){return ce.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[$.OA$]})),Ae})();const oe=["animated","animation","root","rootParams","swipeGesture"],Nt=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Je=(()=>{var Ye;let Ae=((0,o.A)(Ye=class{constructor(he,ce,ze,Qt,gn,On){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=gn,On.detach(),this.el=he.nativeElement,he.nativeElement.delegate=Qt.create(ce,ze),ar(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(he){return new(he||Ye)($.rXU($.aKT),$.rXU($.uvJ),$.rXU($.zZn),$.rXU(sn),$.rXU($.SKi),$.rXU($.gRc))}),(0,o.A)(Ye,"\u0275dir",$.FsC({type:Ye,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Ye);return Ae=(0,We.Cg)([Qn({inputs:oe,methods:Nt})],Ae),Ae})(),bn=(()=>{var Ye;class Ae{constructor(he){(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"tabsInner",void 0),(0,o.A)(this,"ionTabsWillChange",new $.bkB),(0,o.A)(this,"ionTabsDidChange",new $.bkB),(0,o.A)(this,"tabBarSlot","bottom"),(0,o.A)(this,"hasTab",!1),(0,o.A)(this,"selectedTab",void 0),(0,o.A)(this,"leavingTab",void 0),this.navCtrl=he}ngAfterViewInit(){const he=this.tabs.length>0?this.tabs.first:void 0;he&&(this.hasTab=!0,this.setActiveTab(he.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:he,tabSwitch:ce}){const ze=he.stackId;ce&&void 0!==ze&&this.ionTabsWillChange.emit({tab:ze})}onStackDidChange({enteringView:he,tabSwitch:ce}){const ze=he.stackId;ce&&void 0!==ze&&(this.tabBar&&(this.tabBar.selectedTab=ze),this.ionTabsDidChange.emit({tab:ze}))}select(he){const ce="string"==typeof he,ze=ce?he:he.detail.tab;if(this.hasTab)return this.setActiveTab(ze),void this.tabSwitch();const Qt=this.outlet.getActiveStackId()===ze,gn=`${this.outlet.tabsPrefix}/${ze}`;if(ce||he.stopPropagation(),Qt){const On=this.outlet.getActiveStackId(),Yn=this.outlet.getLastRouteView(On);if((null==Yn?void 0:Yn.url)===gn)return;const Sr=this.outlet.getRootView(ze);return this.navCtrl.navigateRoot(gn,{...Sr&&gn===Sr.url&&Sr.savedExtras,animated:!0,animationDirection:"back"})}{const On=this.outlet.getLastRouteView(ze);return this.navCtrl.navigateRoot((null==On?void 0:On.url)||gn,{...null==On?void 0:On.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(he){const ze=this.tabs.find(Qt=>Qt.tab===he);ze?(this.leavingTab=this.selectedTab,this.selectedTab=ze,this.ionTabsWillChange.emit({tab:he}),ze.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${he}" does not exist`)}tabSwitch(){const{selectedTab:he,leavingTab:ce}=this;this.tabBar&&he&&(this.tabBar.selectedTab=he.tab),(null==ce?void 0:ce.tab)!==(null==he?void 0:he.tab)&&null!=ce&&ce.el&&(ce.el.active=!1),he&&this.ionTabsDidChange.emit({tab:he.tab})}getSelected(){var he;return this.hasTab?null===(he=this.selectedTab)||void 0===he?void 0:he.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(he=>{const ce=he.el.getAttribute("slot");ce!==this.tabBarSlot&&(this.tabBarSlot=ce,this.relocateTabBar())})}relocateTabBar(){const he=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(he):this.tabsInner.nativeElement.after(he)}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)($.rXU(Fn))}),(0,o.A)(Ae,"\u0275dir",$.FsC({type:Ye,selectors:[["ion-tabs"]],viewQuery:function(he,ce){if(1&he&&$.GBs(Oe,7,$.aKT),2&he){let ze;$.mGM(ze=$.lsd())&&(ce.tabsInner=ze.first)}},hostBindings:function(he,ce){1&he&&$.bIt("ionTabButtonClick",function(Qt){return ce.select(Qt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),Ae})();const Xn=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye);let Bn=(()=>{var Ye;class Ae{constructor(he,ce){(0,o.A)(this,"injector",void 0),(0,o.A)(this,"elementRef",void 0),(0,o.A)(this,"onChange",()=>{}),(0,o.A)(this,"onTouched",()=>{}),(0,o.A)(this,"lastValue",void 0),(0,o.A)(this,"statusChanges",void 0),this.injector=he,this.elementRef=ce}writeValue(he){this.elementRef.nativeElement.value=this.lastValue=he,Gr(this.elementRef)}handleValueChange(he,ce){he===this.elementRef.nativeElement&&(ce!==this.lastValue&&(this.lastValue=ce,this.onChange(ce)),Gr(this.elementRef))}_handleBlurEvent(he){he===this.elementRef.nativeElement&&(this.onTouched(),Gr(this.elementRef))}registerOnChange(he){this.onChange=he}registerOnTouched(he){this.onTouched=he}setDisabledState(he){this.elementRef.nativeElement.disabled=he}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let he;try{he=this.injector.get(se.vO)}catch{}if(!he)return;he.statusChanges&&(this.statusChanges=he.statusChanges.subscribe(()=>Gr(this.elementRef)));const ce=he.control;ce&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Qt=>{if(typeof ce[Qt]<"u"){const gn=ce[Qt].bind(ce);ce[Qt]=(...On)=>{gn(...On),Gr(this.elementRef)}}})}}return Ye=Ae,(0,o.A)(Ae,"\u0275fac",function(he){return new(he||Ye)($.rXU($.zZn),$.rXU($.aKT))}),(0,o.A)(Ae,"\u0275dir",$.FsC({type:Ye,hostBindings:function(he,ce){1&he&&$.bIt("ionBlur",function(Qt){return ce._handleBlurEvent(Qt.target)})}})),Ae})();const Gr=Ye=>{Xn(()=>{const Ae=Ye.nativeElement,wt=null!=Ae.value&&Ae.value.toString().length>0,he=Li(Ae);gi(Ae,he);const ce=Ae.closest("ion-item");ce&&gi(ce,wt?[...he,"item-has-value"]:he)})},Li=Ye=>{const Ae=Ye.classList,wt=[];for(let he=0;he<Ae.length;he++){const ce=Ae.item(he);null!==ce&&xr(ce,"ng-")&&wt.push(`ion-${ce.substring(3)}`)}return wt},gi=(Ye,Ae)=>{const wt=Ye.classList;wt.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),wt.add(...Ae)},xr=(Ye,Ae)=>Ye.substring(0,Ae.length)===Ae;class Wi{shouldDetach(Ae){return!1}shouldAttach(Ae){return!1}store(Ae,wt){}retrieve(Ae){return null}shouldReuseRoute(Ae,wt){if(Ae.routeConfig!==wt.routeConfig)return!1;const he=Ae.params,ce=wt.params,ze=Object.keys(he),Qt=Object.keys(ce);if(ze.length!==Qt.length)return!1;for(const gn of ze)if(ce[gn]!==he[gn])return!1;return!0}}class Dr{constructor(Ae){(0,o.A)(this,"ctrl",void 0),this.ctrl=Ae}create(Ae){return this.ctrl.create(Ae||{})}dismiss(Ae,wt,he){return this.ctrl.dismiss(Ae,wt,he)}getTop(){return this.ctrl.getTop()}}},4742:(kn,Mt,V)=>{"use strict";V.d(Mt,{hG:()=>Es,xk:()=>Bt,YH:()=>Fn,U1:()=>Ln,Jm:()=>Fe,QW:()=>Le,b_:()=>Ut,I9:()=>Ft,ME:()=>tr,HW:()=>or,tN:()=>Hn,W9:()=>Qn,A9:()=>nr,eU:()=>Pn,iq:()=>Ai,KW:()=>ir,$w:()=>En,uz:()=>Rt,he:()=>Q,nf:()=>ne,AF:()=>ke,oS:()=>tn,MC:()=>Sn,cA:()=>Ve,Sb:()=>jn,JI:()=>oe,Ob:()=>gi,Rg:()=>jo,S1:()=>he,Gp:()=>ce,eP:()=>ze,Nm:()=>On,Ip:()=>Sr,HP:()=>mr,IO:()=>ti,nc:()=>xo,BC:()=>po,ai:()=>Ji,bv:()=>Di,_t:()=>Ii,su:()=>Se,IE:()=>Yo,N7:()=>Xr,Je:()=>se,Gw:()=>Oe});var d=V(9842),o=V(4438),$=V(4341),be=V(2872),W=V(1635),Ce=V(3726),Re=V(177),Ge=V(9384),et=(V(9986),V(3604),V(5022),V(3615),V(8607),V(9483)),pt=V(464),Et=V(1702),vt=V(3617),Ot=(V(8476),V(4261));V(1970),V(7192);var st=V(467);const ht=et.i,nt=function(){var F=(0,st.A)(function*(E,O){if(!(typeof window>"u"))return yield ht(),(0,Ot.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),O)});return function(O,A){return F.apply(this,arguments)}}(),fe=["*"],gt=["outletContent"];function We(F,E){if(1&F&&(o.j41(0,"div",1),o.eu8(1,2),o.k0s()),2&F){const O=o.XpG();o.R7$(),o.Y8G("ngTemplateOutlet",O.template)}}let Se=(()=>{var F;class E extends be.fL{constructor(A,G){super(A,G),(0,d.A)(this,"el",void 0),this.el=G}handleInputEvent(A){this.handleValueChange(A,A.value)}registerOnChange(A){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?G=>{A(""===G?null:parseFloat(G))}:A)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.rXU(o.zZn),o.rXU(o.aKT))}),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(A,G){1&A&&o.bIt("ionInput",function(ot){return G.handleInputEvent(ot.target)})},features:[o.Jv_([{provide:$.kq,useExisting:F,multi:!0}]),o.Vt3]})),E})(),se=(()=>{var F;class E extends be.fL{constructor(A,G){super(A,G)}_handleChangeEvent(A){this.handleValueChange(A,A.value)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.rXU(o.zZn),o.rXU(o.aKT))}),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(A,G){1&A&&o.bIt("ionChange",function(ot){return G._handleChangeEvent(ot.target)})},features:[o.Jv_([{provide:$.kq,useExisting:F,multi:!0}]),o.Vt3]})),E})(),Oe=(()=>{var F;class E extends be.fL{constructor(A,G){super(A,G)}_handleInputEvent(A){this.handleValueChange(A,A.value)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.rXU(o.zZn),o.rXU(o.aKT))}),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(A,G){1&A&&o.bIt("ionInput",function(ot){return G._handleInputEvent(ot.target)})},features:[o.Jv_([{provide:$.kq,useExisting:F,multi:!0}]),o.Vt3]})),E})();const Ke=(F,E)=>{const O=F.prototype;E.forEach(A=>{Object.defineProperty(O,A,{get(){return this.el[A]},set(G){this.z.runOutsideAngular(()=>this.el[A]=G)},configurable:!0})})},tt=(F,E)=>{const O=F.prototype;E.forEach(A=>{O[A]=function(){const G=arguments;return this.z.runOutsideAngular(()=>this.el[A].apply(this.el,G))}})},He=(F,E,O)=>{O.forEach(A=>F[A]=(0,Ce.R)(E,A))};function yt(F){return function(O){const{defineCustomElementFn:A,inputs:G,methods:ae}=F;return void 0!==A&&A(),G&&Ke(O,G),ae&&tt(O,ae),O}}let Bt=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],E),E})(),Fn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionChange"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],E),E})(),Ln=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-app"]],ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({methods:["setFocus"]})],E),E})(),Fe=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Le=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["collapse"]})],E),E})(),Ut=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Ft=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["mode"]})],E),E})(),tr=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","mode","translucent"]})],E),E})(),or=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","mode"]})],E),E})(),Hn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","mode"]})],E),E})(),Qn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),nr=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],E),E})(),Pn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["collapse","mode","translucent"]})],E),E})(),Ai=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),ir=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["alt","src"]})],E),E})(),En=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),Rt=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Q=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","mode","position"]})],E),E})(),ne=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),ke=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","lines","mode"]})],E),E})(),tn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],E),E})(),Sn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["autoHide","color","disabled","menu","mode","type"]})],E),E})(),Ve=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["autoHide","menu"]})],E),E})(),oe=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","mode"]})],E),E})(),gi=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],E),E})(),he=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),ce=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionChange"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],E),E})(),ze=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-segment-button"]],inputs:{contentId:"contentId",disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["contentId","disabled","layout","mode","type","value"]})],E),E})(),On=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],E),E})(),Sr=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["disabled","value"]})],E),E})(),mr=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionSplitPaneVisible"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["contentId","disabled","when"]})],E),E})(),ti=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","mode"]})],E),E})(),xo=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement,He(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],E),E})(),po=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","size"]})],E),E})(),Ji=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,ae){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=ae,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:fe,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([yt({inputs:["color","mode"]})],E),E})(),jo=(()=>{var F;class E extends be.Rg{constructor(A,G,ae,ot,an,Tt,qt,dn){super(A,G,ae,ot,an,Tt,qt,dn),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=dn}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.kS0("name"),o.kS0("tabs"),o.rXU(Re.aZ),o.rXU(o.aKT),o.rXU(Ge.Ix),o.rXU(o.SKi),o.rXU(Ge.nX),o.rXU(F,12))}),(0,d.A)(E,"\u0275cmp",o.VBU({type:F,selectors:[["ion-router-outlet"]],viewQuery:function(A,G){if(1&A&&o.GBs(gt,7,o.c1b),2&A){let ae;o.mGM(ae=o.lsd())&&(G.outletContent=ae.first)}},features:[o.Vt3],ngContentSelectors:fe,decls:3,vars:0,consts:[["outletContent",""]],template:function(A,G){1&A&&(o.NAR(),o.qex(0,null,0),o.SdG(2),o.bVm())},encapsulation:2})),E})(),Xr=(()=>{var F;class E extends be.CE{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["","routerLink","",5,"a",5,"area"]],features:[o.Vt3]})),E})(),jn=(()=>{var F;class E extends be.Sb{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275cmp",o.VBU({type:F,selectors:[["ion-modal"]],features:[o.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(A,G){1&A&&o.DNE(0,We,2,1,"div",0),2&A&&o.Y8G("ngIf",G.isCmpOpen||G.keepContentsMounted)},dependencies:[Re.bT,Re.T3],encapsulation:2,changeDetection:0})),E})();const Ks={provide:$.cz,useExisting:(0,o.Rfq)(()=>Is),multi:!0};let Is=(()=>{var F;class E extends $.zX{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(A,G){2&A&&o.BMQ("max",G._enabled?G.max:null)},features:[o.Jv_([Ks]),o.Vt3]})),E})();const mo={provide:$.cz,useExisting:(0,o.Rfq)(()=>Mi),multi:!0};let Mi=(()=>{var F;class E extends $.VZ{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(A,G){2&A&&o.BMQ("min",G._enabled?G.min:null)},features:[o.Jv_([mo]),o.Vt3]})),E})(),Es=(()=>{var F;class E extends be.Kb{constructor(){super(vt.a)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275prov",o.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})),E})(),Ii=(()=>{var F;class E extends be._t{constructor(){super(Et.m)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275prov",o.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})),E})(),Pi=(()=>{var F;class E extends be.Kb{constructor(){super(vt.m),(0,d.A)(this,"angularDelegate",(0,o.WQX)(be.Yq)),(0,d.A)(this,"injector",(0,o.WQX)(o.zZn)),(0,d.A)(this,"environmentInjector",(0,o.WQX)(o.uvJ))}create(A){return super.create({...A,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275prov",o.jDH({token:F,factory:F.\u0275fac})),E})();class Yo extends be.Kb{constructor(){super(vt.c),(0,d.A)(this,"angularDelegate",(0,o.WQX)(be.Yq)),(0,d.A)(this,"injector",(0,o.WQX)(o.zZn)),(0,d.A)(this,"environmentInjector",(0,o.WQX)(o.uvJ))}create(E){return super.create({...E,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const ni=(F,E,O)=>()=>{const A=E.defaultView;if(A&&typeof window<"u"){(0,pt.s)({...F,_zoneGate:ae=>O.run(ae)});const G="__zone_symbol__addEventListener"in E.body?"__zone_symbol__addEventListener":"addEventListener";return function Ne(){var F=[];if(typeof window<"u"){var E=window;(!E.customElements||E.Element&&(!E.Element.prototype.closest||!E.Element.prototype.matches||!E.Element.prototype.remove||!E.Element.prototype.getRootNode))&&F.push(V.e(7278).then(V.t.bind(V,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||E.NodeList&&!E.NodeList.prototype.forEach||!E.fetch||!function(){try{var A=new URL("b","http://a");return A.pathname="c%20d","http://a/c%20d"===A.href&&A.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&F.push(V.e(9329).then(V.t.bind(V,7783,23)))}return Promise.all(F)}().then(()=>nt(A,{exclude:["ion-tabs"],syncQueue:!0,raf:be.er,jmp:ae=>O.runOutsideAngular(ae),ael(ae,ot,an,Tt){ae[G](ot,an,Tt)},rel(ae,ot,an,Tt){ae.removeEventListener(ot,an,Tt)}}))}};let Di=(()=>{var F;class E{static forRoot(A={}){return{ngModule:E,providers:[{provide:be.sR,useValue:A},{provide:o.hnV,useFactory:ni,multi:!0,deps:[be.sR,Re.qQ,o.SKi]},be.Yq,(0,be.YV)()]}}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275mod",o.$C({type:F})),(0,d.A)(E,"\u0275inj",o.G2t({providers:[Pi,Yo],imports:[Re.MD]})),E})()},2214:(kn,Mt,V)=>{"use strict";V.d(Mt,{Dk:()=>d.getApps,KO:()=>d.registerVersion,Sx:()=>d.getApp,Wp:()=>d.initializeApp});var d=V(7991);(0,d.registerVersion)("firebase","10.14.1","app")},7935:(kn,Mt,V)=>{"use strict";V.d(Mt,{A:()=>d.A});var d=V(1566);d.A.registerVersion("firebase","10.14.1","app-compat")},6548:(kn,Mt,V)=>{"use strict";var d=V(467),o=V(1566),$=V(2233),be=V(4923),Re=(V(7991),V(8041),V(6238));function Ge(){return window}function Me(){return Me=(0,d.A)(function*(J,Q,ne){var ke;const{BuildInfo:je}=Ge();(0,$.au)(Q.sessionId,"AuthEvent did not contain a session ID");const tn=yield function ut(J){return Ot.apply(this,arguments)}(Q.sessionId),Sn={};return(0,$.av)()?Sn.ibi=je.packageName:(0,$.aw)()?Sn.apn=je.packageName:(0,$.ax)(J,"operation-not-supported-in-this-environment"),je.displayName&&(Sn.appDisplayName=je.displayName),Sn.sessionId=tn,(0,$.ay)(J,ne,Q.type,void 0,null!==(ke=Q.eventId)&&void 0!==ke?ke:void 0,Sn)}),Me.apply(this,arguments)}function at(){return(at=(0,d.A)(function*(J){const{BuildInfo:Q}=Ge(),ne={};(0,$.av)()?ne.iosBundleId=Q.packageName:(0,$.aw)()?ne.androidPackageName=Q.packageName:(0,$.ax)(J,"operation-not-supported-in-this-environment"),yield(0,$.az)(J,ne)})).apply(this,arguments)}function Et(){return(Et=(0,d.A)(function*(J,Q,ne){const{cordova:ke}=Ge();let je=()=>{};try{yield new Promise((tn,Sn)=>{let Ve=null;function ve(){var Je;tn();const bn=null===(Je=ke.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof bn&&bn(),"function"==typeof(null==ne?void 0:ne.close)&&ne.close()}function oe(){Ve||(Ve=window.setTimeout(()=>{Sn((0,$.aB)(J,"redirect-cancelled-by-user"))},2e3))}function Nt(){"visible"===(null==document?void 0:document.visibilityState)&&oe()}Q.addPassiveListener(ve),document.addEventListener("resume",oe,!1),(0,$.aw)()&&document.addEventListener("visibilitychange",Nt,!1),je=()=>{Q.removePassiveListener(ve),document.removeEventListener("resume",oe,!1),document.removeEventListener("visibilitychange",Nt,!1),Ve&&window.clearTimeout(Ve)}})}finally{je()}})).apply(this,arguments)}function Ot(){return(Ot=(0,d.A)(function*(J){const Q=function St(J){if((0,$.au)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const Q=new ArrayBuffer(J.length),ne=new Uint8Array(Q);for(let ke=0;ke<J.length;ke++)ne[ke]=J.charCodeAt(ke);return ne}(J),ne=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(ne)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class xe extends $.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInitialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInitialized(),this.passiveListeners.forEach(ne=>ne(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,d.A)(function*(){yield Q.initPromise})()}}function ht(J){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.A)(function*(J){const Q=yield mt()._get(Ze(J));return Q&&(yield mt()._remove(Ze(J))),Q})).apply(this,arguments)}function gt(){const J=[];for(let ne=0;ne<20;ne++){const ke=Math.floor(62*Math.random());J.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ke))}return J.join("")}function mt(){return(0,$.aE)($.b)}function Ze(J){return(0,$.aF)("authEvent",J.config.apiKey,J.name)}function pn(J){if(null==J||!J.includes("?"))return{};const[Q,...ne]=J.split("?");return(0,be.I9)(ne.join("?"))}const _e=class De{constructor(){this._redirectPersistence=$.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$.aG,this._overrideRedirectResult=$.aH}_initialize(Q){var ne=this;return(0,d.A)(function*(){const ke=Q._key();let je=ne.eventManagers.get(ke);return je||(je=new xe(Q),ne.eventManagers.set(ke,je),ne.attachCallbackListeners(Q,je)),je})()}_openPopup(Q){(0,$.ax)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,ne,ke,je){var tn=this;return(0,d.A)(function*(){!function vt(J){var Q,ne,ke,je,tn,Sn,Ve,ve,oe,Nt;const Je=Ge();(0,$.aC)("function"==typeof(null===(Q=null==Je?void 0:Je.universalLinks)||void 0===Q?void 0:Q.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,$.aC)(typeof(null===(ne=null==Je?void 0:Je.BuildInfo)||void 0===ne?void 0:ne.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,$.aC)("function"==typeof(null===(tn=null===(je=null===(ke=null==Je?void 0:Je.cordova)||void 0===ke?void 0:ke.plugins)||void 0===je?void 0:je.browsertab)||void 0===tn?void 0:tn.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aC)("function"==typeof(null===(ve=null===(Ve=null===(Sn=null==Je?void 0:Je.cordova)||void 0===Sn?void 0:Sn.plugins)||void 0===Ve?void 0:Ve.browsertab)||void 0===ve?void 0:ve.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,$.aC)("function"==typeof(null===(Nt=null===(oe=null==Je?void 0:Je.cordova)||void 0===oe?void 0:oe.InAppBrowser)||void 0===Nt?void 0:Nt.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const Sn=yield tn._initialize(Q);yield Sn.initialized(),Sn.resetRedirect(),(0,$.aI)(),yield tn._originValidation(Q);const Ve=function Ne(J,Q,ne=null){return{type:Q,eventId:ne,urlResponse:null,sessionId:gt(),postBody:null,tenantId:J.tenantId,error:(0,$.aB)(J,"no-auth-event")}}(Q,ke,je);yield function st(J,Q){return mt()._set(Ze(J),Q)}(Q,Ve);const ve=yield function it(J,Q,ne){return Me.apply(this,arguments)}(Q,Ve,ne),oe=yield function et(J){const{cordova:Q}=Ge();return new Promise(ne=>{Q.plugins.browsertab.isAvailable(ke=>{let je=null;ke?Q.plugins.browsertab.openUrl(J):je=Q.InAppBrowser.open(J,(0,$.aA)()?"_blank":"_system","location=yes"),ne(je)})})}(ve);return function pt(J,Q,ne){return Et.apply(this,arguments)}(Q,Sn,oe)})()}_isIframeWebStorageSupported(Q,ne){throw new Error("Method not implemented.")}_originValidation(Q){const ne=Q._key();return this.originValidationPromises[ne]||(this.originValidationPromises[ne]=function Ct(J){return at.apply(this,arguments)}(Q)),this.originValidationPromises[ne]}attachCallbackListeners(Q,ne){const{universalLinks:ke,handleOpenURL:je,BuildInfo:tn}=Ge(),Sn=setTimeout((0,d.A)(function*(){yield ht(Q),ne.onEvent(Se())}),500),Ve=function(){var Nt=(0,d.A)(function*(Je){clearTimeout(Sn);const bn=yield ht(Q);let Xn=null;bn&&null!=Je&&Je.url&&(Xn=function fe(J,Q){var ne,ke;const je=function Vt(J){const Q=pn(J),ne=Q.link?decodeURIComponent(Q.link):void 0,ke=pn(ne).link,je=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return pn(je).link||je||ke||ne||J}(Q);if(je.includes("/__/auth/callback")){const tn=pn(je),Sn=tn.firebaseError?function Lt(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(tn.firebaseError)):null,Ve=null===(ke=null===(ne=null==Sn?void 0:Sn.code)||void 0===ne?void 0:ne.split("auth/"))||void 0===ke?void 0:ke[1],ve=Ve?(0,$.aB)(Ve):null;return ve?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:ve,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:je,postBody:null}}return null}(bn,Je.url)),ne.onEvent(Xn||Se())});return function(bn){return Nt.apply(this,arguments)}}();typeof ke<"u"&&"function"==typeof ke.subscribe&&ke.subscribe(null,Ve);const ve=je,oe=`${tn.packageName.toLowerCase()}://`;Ge().handleOpenURL=function(){var Nt=(0,d.A)(function*(Je){if(Je.toLowerCase().startsWith(oe)&&Ve({url:Je}),"function"==typeof ve)try{ve(Je)}catch(bn){console.error(bn)}});return function(Je){return Nt.apply(this,arguments)}}()}};function Se(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,$.aB)("no-auth-event")}}function He(){var J;return(null===(J=null==self?void 0:self.location)||void 0===J?void 0:J.protocol)||null}function yt(J=(0,be.ZQ)()){return!("file:"!==He()&&"ionic:"!==He()&&"capacitor:"!==He()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ln(){try{const J=self.localStorage,Q=$.aN();if(J)return J.setItem(Q,"1"),J.removeItem(Q),!function In(J=(0,be.ZQ)()){return function Fn(){return(0,be.lT)()&&11===(null==document?void 0:document.documentMode)}()||function bt(J=(0,be.ZQ)()){return/Edge\/\d+/.test(J)}(J)}()||(0,be.zW)()}catch{return qn()&&(0,be.zW)()}return!1}function qn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function en(){return(function lt(){return"http:"===He()||"https:"===He()}()||(0,be.sr)()||yt())&&!function Bt(){return(0,be.lV)()||(0,be.Ll)()}()&&Ln()&&!qn()}function zt(){return yt()&&typeof document<"u"}function sn(){return(sn=(0,d.A)(function*(){return!!zt()&&new Promise(J=>{const Q=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),J(!0)})})})).apply(this,arguments)}const Le={LOCAL:"local",NONE:"none",SESSION:"session"},Ut=$.aC,Ft="persistence";function or(J){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*(J){yield J._initializationPromise;const Q=yr(),ne=$.aF(Ft,J.config.apiKey,J.name);Q&&Q.setItem(ne,J._getPersistence())})).apply(this,arguments)}function yr(){var J;try{return(null===(J=function Fe(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const ar=$.aC;class Qn{constructor(){this.browserResolver=$.aE($.k),this.cordovaResolver=$.aE(_e),this.underlyingResolver=null,this._redirectPersistence=$.a,this._completeRedirectFn=$.aG,this._overrideRedirectResult=$.aH}_initialize(Q){var ne=this;return(0,d.A)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,ne,ke,je){var tn=this;return(0,d.A)(function*(){return yield tn.selectUnderlyingResolver(),tn.assertedUnderlyingResolver._openPopup(Q,ne,ke,je)})()}_openRedirect(Q,ne,ke,je){var tn=this;return(0,d.A)(function*(){return yield tn.selectUnderlyingResolver(),tn.assertedUnderlyingResolver._openRedirect(Q,ne,ke,je)})()}_isIframeWebStorageSupported(Q,ne){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,ne)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return zt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ar(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,d.A)(function*(){if(Q.underlyingResolver)return;const ne=yield function Un(){return sn.apply(this,arguments)}();Q.underlyingResolver=ne?Q.cordovaResolver:Q.browserResolver})()}}function nr(J){return J.unwrap()}function Vr(J){return Ar(J)}function Ar(J){const{_tokenResponse:Q}=J instanceof be.g?J.customData:J;if(!Q)return null;if(!(J instanceof be.g)&&"temporaryProof"in Q&&"phoneNumber"in Q)return $.P.credentialFromResult(J);const ne=Q.providerId;if(!ne||ne===$.p.PASSWORD)return null;let ke;switch(ne){case $.p.GOOGLE:ke=$.X;break;case $.p.FACEBOOK:ke=$.W;break;case $.p.GITHUB:ke=$.Y;break;case $.p.TWITTER:ke=$.$;break;default:const{oauthIdToken:je,oauthAccessToken:tn,oauthTokenSecret:Sn,pendingToken:Ve,nonce:ve}=Q;return tn||Sn||je||Ve?Ve?ne.startsWith("saml.")?$.aQ._create(ne,Ve):$.N._fromParams({providerId:ne,signInMethod:ne,pendingToken:Ve,idToken:je,accessToken:tn}):new $.Z(ne).credential({idToken:je,accessToken:tn,rawNonce:ve}):null}return J instanceof be.g?ke.credentialFromError(J):ke.credentialFromResult(J)}function $n(J,Q){return Q.catch(ne=>{throw ne instanceof be.g&&function wn(J,Q){var ne;const ke=null===(ne=Q.customData)||void 0===ne?void 0:ne._tokenResponse;if("auth/multi-factor-auth-required"===(null==Q?void 0:Q.code))Q.resolver=new Ai(J,$.as(J,Q));else if(ke){const je=Ar(Q),tn=Q;je&&(tn.credential=je,tn.tenantId=ke.tenantId||void 0,tn.email=ke.email||void 0,tn.phoneNumber=ke.phoneNumber||void 0)}}(J,ne),ne}).then(ne=>{const je=ne.user;return{operationType:ne.operationType,credential:Vr(ne),additionalUserInfo:$.aq(ne),user:ir.getOrCreate(je)}})}function Ir(J,Q){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,d.A)(function*(J,Q){const ne=yield Q;return{verificationId:ne.verificationId,confirm:ke=>$n(J,ne.confirm(ke))}})).apply(this,arguments)}class Ai{constructor(Q,ne){this.resolver=ne,this.auth=function fr(J){return J.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return $n(nr(this.auth),this.resolver.resolveSignIn(Q))}}class ir{constructor(Q){this._delegate=Q,this.multiFactor=$.at(Q)}static getOrCreate(Q){return ir.USER_MAP.has(Q)||ir.USER_MAP.set(Q,new ir(Q)),ir.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var ne=this;return(0,d.A)(function*(){return $n(ne.auth,$.a2(ne._delegate,Q))})()}linkWithPhoneNumber(Q,ne){var ke=this;return(0,d.A)(function*(){return Ir(ke.auth,$.l(ke._delegate,Q,ne))})()}linkWithPopup(Q){var ne=this;return(0,d.A)(function*(){return $n(ne.auth,$.d(ne._delegate,Q,Qn))})()}linkWithRedirect(Q){var ne=this;return(0,d.A)(function*(){return yield or($.aJ(ne.auth)),$.g(ne._delegate,Q,Qn)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var ne=this;return(0,d.A)(function*(){return $n(ne.auth,$.a3(ne._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,ne){return Ir(this.auth,$.r(this._delegate,Q,ne))}reauthenticateWithPopup(Q){return $n(this.auth,$.e(this._delegate,Q,Qn))}reauthenticateWithRedirect(Q){var ne=this;return(0,d.A)(function*(){return yield or($.aJ(ne.auth)),$.h(ne._delegate,Q,Qn)})()}sendEmailVerification(Q){return $.ag(this._delegate,Q)}unlink(Q){var ne=this;return(0,d.A)(function*(){return yield $.ap(ne._delegate,Q),ne})()}updateEmail(Q){return $.al(this._delegate,Q)}updatePassword(Q){return $.am(this._delegate,Q)}updatePhoneNumber(Q){return $.u(this._delegate,Q)}updateProfile(Q){return $.ak(this._delegate,Q)}verifyBeforeUpdateEmail(Q,ne){return $.ah(this._delegate,Q,ne)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ir.USER_MAP=new WeakMap;const _r=$.aC;let Er=(()=>{class J{constructor(ne,ke){if(this.app=ne,ke.isInitialized())return this._delegate=ke.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=ne.options;_r(je,"invalid-api-key",{appName:ne.name}),_r(je,"invalid-api-key",{appName:ne.name});const tn=typeof window<"u"?Qn:void 0;this._delegate=ke.initialize({options:{persistence:Xt(je,ne.name),popupRedirectResolver:tn}}),this._delegate._updateErrorMap($.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ir.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ne){this._delegate.languageCode=ne}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ne){this._delegate.tenantId=ne}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ne,ke){$.K(this._delegate,ne,ke)}applyActionCode(ne){return $.a7(this._delegate,ne)}checkActionCode(ne){return $.a8(this._delegate,ne)}confirmPasswordReset(ne,ke){return $.a6(this._delegate,ne,ke)}createUserWithEmailAndPassword(ne,ke){var je=this;return(0,d.A)(function*(){return $n(je._delegate,$.aa(je._delegate,ne,ke))})()}fetchProvidersForEmail(ne){return this.fetchSignInMethodsForEmail(ne)}fetchSignInMethodsForEmail(ne){return $.af(this._delegate,ne)}isSignInWithEmailLink(ne){return $.ad(this._delegate,ne)}getRedirectResult(){var ne=this;return(0,d.A)(function*(){_r(en(),ne._delegate,"operation-not-supported-in-this-environment");const ke=yield $.j(ne._delegate,Qn);return ke?$n(ne._delegate,Promise.resolve(ke)):{credential:null,user:null}})()}addFrameworkForLogging(ne){!function se(J,Q){(0,$.aJ)(J)._logFramework(Q)}(this._delegate,ne)}onAuthStateChanged(ne,ke,je){const{next:tn,error:Sn,complete:Ve}=En(ne,ke,je);return this._delegate.onAuthStateChanged(tn,Sn,Ve)}onIdTokenChanged(ne,ke,je){const{next:tn,error:Sn,complete:Ve}=En(ne,ke,je);return this._delegate.onIdTokenChanged(tn,Sn,Ve)}sendSignInLinkToEmail(ne,ke){return $.ac(this._delegate,ne,ke)}sendPasswordResetEmail(ne,ke){return $.a5(this._delegate,ne,ke||void 0)}setPersistence(ne){var ke=this;return(0,d.A)(function*(){let je;switch(function tr(J,Q){Ut(Object.values(Le).includes(Q),J,"invalid-persistence-type"),(0,be.lV)()?Ut(Q!==Le.SESSION,J,"unsupported-persistence-type"):(0,be.Ll)()?Ut(Q===Le.NONE,J,"unsupported-persistence-type"):qn()?Ut(Q===Le.NONE||Q===Le.LOCAL&&(0,be.zW)(),J,"unsupported-persistence-type"):Ut(Q===Le.NONE||Ln(),J,"unsupported-persistence-type")}(ke._delegate,ne),ne){case Le.SESSION:je=$.a;break;case Le.LOCAL:je=(yield $.aE($.i)._isAvailable())?$.i:$.b;break;case Le.NONE:je=$.U;break;default:return $.ax("argument-error",{appName:ke._delegate.name})}return ke._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(ne){return this.signInWithCredential(ne)}signInAnonymously(){return $n(this._delegate,$.a0(this._delegate))}signInWithCredential(ne){return $n(this._delegate,$.a1(this._delegate,ne))}signInWithCustomToken(ne){return $n(this._delegate,$.a4(this._delegate,ne))}signInWithEmailAndPassword(ne,ke){return $n(this._delegate,$.ab(this._delegate,ne,ke))}signInWithEmailLink(ne,ke){return $n(this._delegate,$.ae(this._delegate,ne,ke))}signInWithPhoneNumber(ne,ke){return Ir(this._delegate,$.s(this._delegate,ne,ke))}signInWithPopup(ne){var ke=this;return(0,d.A)(function*(){return _r(en(),ke._delegate,"operation-not-supported-in-this-environment"),$n(ke._delegate,$.c(ke._delegate,ne,Qn))})()}signInWithRedirect(ne){var ke=this;return(0,d.A)(function*(){return _r(en(),ke._delegate,"operation-not-supported-in-this-environment"),yield or(ke._delegate),$.f(ke._delegate,ne,Qn)})()}updateCurrentUser(ne){return this._delegate.updateCurrentUser(ne)}verifyPasswordResetCode(ne){return $.a9(this._delegate,ne)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=Le,J})();function En(J,Q,ne){let ke=J;"function"!=typeof J&&({next:ke,error:Q,complete:ne}=J);const je=ke;return{next:Sn=>je(Sn&&ir.getOrCreate(Sn)),error:Q,complete:ne}}function Xt(J,Q){const ne=function Mn(J,Q){const ne=yr();if(!ne)return[];const ke=$.aF(Ft,J,Q);switch(ne.getItem(ke)){case Le.NONE:return[$.U];case Le.LOCAL:return[$.i,$.a];case Le.SESSION:return[$.a];default:return[]}}(J,Q);if(typeof self<"u"&&!ne.includes($.i)&&ne.push($.i),typeof window<"u")for(const ke of[$.b,$.a])ne.includes(ke)||ne.push(ke);return ne.includes($.U)||ne.push($.U),ne}class Rt{constructor(){this.providerId="phone",this._delegate=new $.P(nr(o.A.auth()))}static credential(Q,ne){return $.P.credential(Q,ne)}verifyPhoneNumber(Q,ne){return this._delegate.verifyPhoneNumber(Q,ne)}unwrap(){return this._delegate}}Rt.PHONE_SIGN_IN_METHOD=$.P.PHONE_SIGN_IN_METHOD,Rt.PROVIDER_ID=$.P.PROVIDER_ID;const Yt=$.aC;class At{constructor(Q,ne,ke=o.A.app()){var je;Yt(null===(je=ke.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:ke.name}),this._delegate=new $.R(ke.auth(),Q,ne),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ct(J){J.INTERNAL.registerComponent(new Re.uA("auth-compat",Q=>{const ne=Q.getProvider("app-compat").getImmediate(),ke=Q.getProvider("auth");return new Er(ne,ke)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$.A.EMAIL_SIGNIN,PASSWORD_RESET:$.A.PASSWORD_RESET,RECOVER_EMAIL:$.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:$.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:$.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:$.A.VERIFY_EMAIL}},EmailAuthProvider:$.V,FacebookAuthProvider:$.W,GithubAuthProvider:$.Y,GoogleAuthProvider:$.X,OAuthProvider:$.Z,SAMLAuthProvider:$._,PhoneAuthProvider:Rt,PhoneMultiFactorGenerator:$.m,RecaptchaVerifier:At,TwitterAuthProvider:$.$,Auth:Er,AuthCredential:$.L,Error:be.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.5.14")}(o.A)},4171:(kn,Mt,V)=>{"use strict";V.d(Mt,{ni:()=>Or,dG:()=>Os,gf:()=>Ro,TT:()=>ko,xD:()=>Wr});var d=V(467),o=V(7991),$=V(6238),be=V(4923),W=V(6749);const Ce="@firebase/installations",Re="0.6.9",Ge=1e4,ft=`w:${Re}`,it="FIS_v2",Me="https://firebaseinstallations.googleapis.com/v1",Ct=36e5,Et=new be.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function vt(pe){return pe instanceof be.g&&pe.code.includes("request-failed")}function ut({projectId:pe}){return`${Me}/projects/${pe}/installations`}function Ot(pe){return{token:pe.token,requestStatus:2,expiresIn:nt(pe.expiresIn),creationTime:Date.now()}}function St(pe,qe){return we.apply(this,arguments)}function we(){return(we=(0,d.A)(function*(pe,qe){const yn=(yield qe.json()).error;return Et.create("request-failed",{requestName:pe,serverCode:yn.code,serverMessage:yn.message,serverStatus:yn.status})})).apply(this,arguments)}function xe({apiKey:pe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":pe})}function st(pe){return ht.apply(this,arguments)}function ht(){return(ht=(0,d.A)(function*(pe){const qe=yield pe();return qe.status>=500&&qe.status<600?pe():qe})).apply(this,arguments)}function nt(pe){return Number(pe.replace("s","000"))}function mt(){return(mt=(0,d.A)(function*({appConfig:pe,heartbeatServiceProvider:qe},{fid:Ht}){const yn=ut(pe),Kn=xe(pe),An=qe.getImmediate({optional:!0});if(An){const to=yield An.getHeartbeatsHeader();to&&Kn.append("x-firebase-client",to)}const $i={method:"POST",headers:Kn,body:JSON.stringify({fid:Ht,authVersion:it,appId:pe.appId,sdkVersion:ft})},Zi=yield st(()=>fetch(yn,$i));if(Zi.ok){const to=yield Zi.json();return{fid:to.fid||Ht,registrationStatus:2,refreshToken:to.refreshToken,authToken:Ot(to.authToken)}}throw yield St("Create Installation",Zi)})).apply(this,arguments)}function Ze(pe){return new Promise(qe=>{setTimeout(qe,pe)})}const Vt=/^[cdef][\w-]{21}$/,pn="";function We(){try{const pe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(pe),pe[0]=112+pe[0]%16;const Ht=function De(pe){return function Lt(pe){return btoa(String.fromCharCode(...pe)).replace(/\+/g,"-").replace(/\//g,"_")}(pe).substr(0,22)}(pe);return Vt.test(Ht)?Ht:pn}catch{return pn}}function _e(pe){return`${pe.appName}!${pe.appId}`}const Se=new Map;function se(pe,qe){const Ht=_e(pe);tt(Ht,qe),function He(pe,qe){const Ht=function yt(){return!lt&&"BroadcastChannel"in self&&(lt=new BroadcastChannel("[Firebase] FID Change"),lt.onmessage=pe=>{tt(pe.data.key,pe.data.fid)}),lt}();Ht&&Ht.postMessage({key:pe,fid:qe}),function Bt(){0===Se.size&&lt&&(lt.close(),lt=null)}()}(Ht,qe)}function tt(pe,qe){const Ht=Se.get(pe);if(Ht)for(const yn of Ht)yn(qe)}let lt=null;const Fn="firebase-installations-database",bt=1,In="firebase-installations-store";let Ln=null;function qn(){return Ln||(Ln=(0,W.P2)(Fn,bt,{upgrade:(pe,qe)=>{0===qe&&pe.createObjectStore(In)}})),Ln}function en(pe,qe){return zt.apply(this,arguments)}function zt(){return(zt=(0,d.A)(function*(pe,qe){const Ht=_e(pe),Kn=(yield qn()).transaction(In,"readwrite"),An=Kn.objectStore(In),Jn=yield An.get(Ht);return yield An.put(qe,Ht),yield Kn.done,(!Jn||Jn.fid!==qe.fid)&&se(pe,qe.fid),qe})).apply(this,arguments)}function Un(pe){return sn.apply(this,arguments)}function sn(){return(sn=(0,d.A)(function*(pe){const qe=_e(pe),yn=(yield qn()).transaction(In,"readwrite");yield yn.objectStore(In).delete(qe),yield yn.done})).apply(this,arguments)}function Fe(pe,qe){return Le.apply(this,arguments)}function Le(){return(Le=(0,d.A)(function*(pe,qe){const Ht=_e(pe),Kn=(yield qn()).transaction(In,"readwrite"),An=Kn.objectStore(In),Jn=yield An.get(Ht),$i=qe(Jn);return void 0===$i?yield An.delete(Ht):yield An.put($i,Ht),yield Kn.done,$i&&(!Jn||Jn.fid!==$i.fid)&&se(pe,$i.fid),$i})).apply(this,arguments)}function Ut(pe){return Ft.apply(this,arguments)}function Ft(){return Ft=(0,d.A)(function*(pe){let qe;const Ht=yield Fe(pe.appConfig,yn=>{const Kn=function tr(pe){return nr(pe||{fid:We(),registrationStatus:0})}(yn),An=function or(pe,qe){if(0===qe.registrationStatus){if(!navigator.onLine)return{installationEntry:qe,registrationPromise:Promise.reject(Et.create("app-offline"))};const Ht={fid:qe.fid,registrationStatus:1,registrationTime:Date.now()},yn=function Hn(pe,qe){return Mn.apply(this,arguments)}(pe,Ht);return{installationEntry:Ht,registrationPromise:yn}}return 1===qe.registrationStatus?{installationEntry:qe,registrationPromise:yr(pe)}:{installationEntry:qe}}(pe,Kn);return qe=An.registrationPromise,An.installationEntry});return Ht.fid===pn?{installationEntry:yield qe}:{installationEntry:Ht,registrationPromise:qe}}),Ft.apply(this,arguments)}function Mn(){return Mn=(0,d.A)(function*(pe,qe){try{const Ht=yield function gt(pe,qe){return mt.apply(this,arguments)}(pe,qe);return en(pe.appConfig,Ht)}catch(Ht){throw vt(Ht)&&409===Ht.customData.serverCode?yield Un(pe.appConfig):yield en(pe.appConfig,{fid:qe.fid,registrationStatus:0}),Ht}}),Mn.apply(this,arguments)}function yr(pe){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.A)(function*(pe){let qe=yield Qn(pe.appConfig);for(;1===qe.registrationStatus;)yield Ze(100),qe=yield Qn(pe.appConfig);if(0===qe.registrationStatus){const{installationEntry:Ht,registrationPromise:yn}=yield Ut(pe);return yn||Ht}return qe})).apply(this,arguments)}function Qn(pe){return Fe(pe,qe=>{if(!qe)throw Et.create("installation-not-found");return nr(qe)})}function nr(pe){return function fr(pe){return 1===pe.registrationStatus&&pe.registrationTime+Ge<Date.now()}(pe)?{fid:pe.fid,registrationStatus:0}:pe}function wn(){return(wn=(0,d.A)(function*({appConfig:pe,heartbeatServiceProvider:qe},Ht){const yn=function Ar(pe,{fid:qe}){return`${ut(pe)}/${qe}/authTokens:generate`}(pe,Ht),Kn=function Ne(pe,{refreshToken:qe}){const Ht=xe(pe);return Ht.append("Authorization",function fe(pe){return`${it} ${pe}`}(qe)),Ht}(pe,Ht),An=qe.getImmediate({optional:!0});if(An){const to=yield An.getHeartbeatsHeader();to&&Kn.append("x-firebase-client",to)}const $i={method:"POST",headers:Kn,body:JSON.stringify({installation:{sdkVersion:ft,appId:pe.appId}})},Zi=yield st(()=>fetch(yn,$i));if(Zi.ok)return Ot(yield Zi.json());throw yield St("Generate Auth Token",Zi)})).apply(this,arguments)}function $n(pe){return Ir.apply(this,arguments)}function Ir(){return Ir=(0,d.A)(function*(pe,qe=!1){let Ht;const yn=yield Fe(pe.appConfig,An=>{if(!En(An))throw Et.create("not-registered");const Jn=An.authToken;if(!qe&&function Xt(pe){return 2===pe.requestStatus&&!function Rt(pe){const qe=Date.now();return qe<pe.creationTime||pe.creationTime+pe.expiresIn<qe+Ct}(pe)}(Jn))return An;if(1===Jn.requestStatus)return Ht=function Pn(pe,qe){return Ai.apply(this,arguments)}(pe,qe),An;{if(!navigator.onLine)throw Et.create("app-offline");const $i=function Yt(pe){const qe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},pe),{authToken:qe})}(An);return Ht=function _r(pe,qe){return Er.apply(this,arguments)}(pe,$i),$i}});return Ht?yield Ht:yn.authToken}),Ir.apply(this,arguments)}function Ai(){return(Ai=(0,d.A)(function*(pe,qe){let Ht=yield ir(pe.appConfig);for(;1===Ht.authToken.requestStatus;)yield Ze(100),Ht=yield ir(pe.appConfig);const yn=Ht.authToken;return 0===yn.requestStatus?$n(pe,qe):yn})).apply(this,arguments)}function ir(pe){return Fe(pe,qe=>{if(!En(qe))throw Et.create("not-registered");return function At(pe){return 1===pe.requestStatus&&pe.requestTime+Ge<Date.now()}(qe.authToken)?Object.assign(Object.assign({},qe),{authToken:{requestStatus:0}}):qe})}function Er(){return Er=(0,d.A)(function*(pe,qe){try{const Ht=yield function Vr(pe,qe){return wn.apply(this,arguments)}(pe,qe),yn=Object.assign(Object.assign({},qe),{authToken:Ht});return yield en(pe.appConfig,yn),Ht}catch(Ht){if(!vt(Ht)||401!==Ht.customData.serverCode&&404!==Ht.customData.serverCode){const yn=Object.assign(Object.assign({},qe),{authToken:{requestStatus:0}});yield en(pe.appConfig,yn)}else yield Un(pe.appConfig);throw Ht}}),Er.apply(this,arguments)}function En(pe){return void 0!==pe&&2===pe.registrationStatus}function ct(){return(ct=(0,d.A)(function*(pe){const qe=pe,{installationEntry:Ht,registrationPromise:yn}=yield Ut(qe);return yn?yn.catch(console.error):$n(qe).catch(console.error),Ht.fid})).apply(this,arguments)}function Q(){return Q=(0,d.A)(function*(pe,qe=!1){const Ht=pe;return yield function ne(pe){return ke.apply(this,arguments)}(Ht),(yield $n(Ht,qe)).token}),Q.apply(this,arguments)}function ke(){return(ke=(0,d.A)(function*(pe){const{registrationPromise:qe}=yield Ut(pe);qe&&(yield qe)})).apply(this,arguments)}function bn(pe){return Et.create("missing-app-config-values",{valueName:pe})}const Xn="installations",Gr=pe=>{const qe=pe.getProvider("app").getImmediate(),Ht=function Je(pe){if(!pe||!pe.options)throw bn("App Configuration");if(!pe.name)throw bn("App Name");const qe=["projectId","apiKey","appId"];for(const Ht of qe)if(!pe.options[Ht])throw bn(Ht);return{appName:pe.name,projectId:pe.options.projectId,apiKey:pe.options.apiKey,appId:pe.options.appId}}(qe);return{app:qe,appConfig:Ht,heartbeatServiceProvider:(0,o._getProvider)(qe,"heartbeat"),_delete:()=>Promise.resolve()}},Li=pe=>{const qe=pe.getProvider("app").getImmediate(),Ht=(0,o._getProvider)(qe,Xn).getImmediate();return{getId:()=>function $e(pe){return ct.apply(this,arguments)}(Ht),getToken:Kn=>function J(pe){return Q.apply(this,arguments)}(Ht,Kn)}};(function gi(){(0,o._registerComponent)(new $.uA(Xn,Gr,"PUBLIC")),(0,o._registerComponent)(new $.uA("installations-internal",Li,"PRIVATE"))})(),(0,o.registerVersion)(Ce,Re),(0,o.registerVersion)(Ce,Re,"esm2017");const xr="/firebase-messaging-sw.js",Wi="/firebase-cloud-messaging-push-scope",Dr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ye="https://fcmregistrations.googleapis.com/v1",Ae="google.c.a.c_id",wt="google.c.a.c_l",he="google.c.a.ts";var Qt=function(pe){return pe.PUSH_RECEIVED="push-received",pe.NOTIFICATION_CLICKED="notification-clicked",pe}(Qt||{});function gn(pe){const qe=new Uint8Array(pe);return btoa(String.fromCharCode(...qe)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function On(pe){const Ht=(pe+"=".repeat((4-pe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),yn=atob(Ht),Kn=new Uint8Array(yn.length);for(let An=0;An<yn.length;++An)Kn[An]=yn.charCodeAt(An);return Kn}const Yn="fcm_token_details_db",Sr=5,sr="fcm_token_object_Store";function mr(){return mr=(0,d.A)(function*(pe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(An=>An.name).includes(Yn))return null;let qe=null;return(yield(0,W.P2)(Yn,Sr,{upgrade:(yn=(0,d.A)(function*(Kn,An,Jn,$i){var Zi;if(An<2||!Kn.objectStoreNames.contains(sr))return;const to=$i.objectStore(sr),ss=yield to.index("fcmSenderId").get(pe);if(yield to.clear(),ss)if(2===An){const ai=ss;if(!ai.auth||!ai.p256dh||!ai.endpoint)return;qe={token:ai.fcmToken,createTime:null!==(Zi=ai.createTime)&&void 0!==Zi?Zi:Date.now(),subscriptionOptions:{auth:ai.auth,p256dh:ai.p256dh,endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:"string"==typeof ai.vapidKey?ai.vapidKey:gn(ai.vapidKey)}}}else if(3===An){const ai=ss;qe={token:ai.fcmToken,createTime:ai.createTime,subscriptionOptions:{auth:gn(ai.auth),p256dh:gn(ai.p256dh),endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:gn(ai.vapidKey)}}}else if(4===An){const ai=ss;qe={token:ai.fcmToken,createTime:ai.createTime,subscriptionOptions:{auth:gn(ai.auth),p256dh:gn(ai.p256dh),endpoint:ai.endpoint,swScope:ai.swScope,vapidKey:gn(ai.vapidKey)}}}}),function(An,Jn,$i,Zi){return yn.apply(this,arguments)})})).close(),yield(0,W.MR)(Yn),yield(0,W.MR)("fcm_vapid_details_db"),yield(0,W.MR)("undefined"),function Ri(pe){if(!pe||!pe.subscriptionOptions)return!1;const{subscriptionOptions:qe}=pe;return"number"==typeof pe.createTime&&pe.createTime>0&&"string"==typeof pe.token&&pe.token.length>0&&"string"==typeof qe.auth&&qe.auth.length>0&&"string"==typeof qe.p256dh&&qe.p256dh.length>0&&"string"==typeof qe.endpoint&&qe.endpoint.length>0&&"string"==typeof qe.swScope&&qe.swScope.length>0&&"string"==typeof qe.vapidKey&&qe.vapidKey.length>0}(qe)?qe:null;var yn}),mr.apply(this,arguments)}const ji="firebase-messaging-database",Co=1,ti="firebase-messaging-store";let xo=null;function Yi(){return xo||(xo=(0,W.P2)(ji,Co,{upgrade:(pe,qe)=>{0===qe&&pe.createObjectStore(ti)}})),xo}function po(pe){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,d.A)(function*(pe){const qe=Qo(pe),yn=yield(yield Yi()).transaction(ti).objectStore(ti).get(qe);if(yn)return yn;{const Kn=yield function Hi(pe){return mr.apply(this,arguments)}(pe.appConfig.senderId);if(Kn)return yield qo(pe,Kn),Kn}}),Ao.apply(this,arguments)}function qo(pe,qe){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,d.A)(function*(pe,qe){const Ht=Qo(pe),Kn=(yield Yi()).transaction(ti,"readwrite");return yield Kn.objectStore(ti).put(qe,Ht),yield Kn.done,qe})).apply(this,arguments)}function ns(){return(ns=(0,d.A)(function*(pe){const qe=Qo(pe),yn=(yield Yi()).transaction(ti,"readwrite");yield yn.objectStore(ti).delete(qe),yield yn.done})).apply(this,arguments)}function Qo({appConfig:pe}){return pe.appId}const Xr=new be.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fs(pe,qe){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.A)(function*(pe,qe){const Ht=yield Es(pe),yn=Nr(qe),Kn={method:"POST",headers:Ht,body:JSON.stringify(yn)};let An;try{An=yield(yield fetch(Mi(pe.appConfig),Kn)).json()}catch(Jn){throw Xr.create("token-subscribe-failed",{errorInfo:null==Jn?void 0:Jn.toString()})}if(An.error)throw Xr.create("token-subscribe-failed",{errorInfo:An.error.message});if(!An.token)throw Xr.create("token-subscribe-no-token");return An.token})).apply(this,arguments)}function Ks(){return(Ks=(0,d.A)(function*(pe,qe){const Ht=yield Es(pe),yn=Nr(qe.subscriptionOptions),Kn={method:"PATCH",headers:Ht,body:JSON.stringify(yn)};let An;try{An=yield(yield fetch(`${Mi(pe.appConfig)}/${qe.token}`,Kn)).json()}catch(Jn){throw Xr.create("token-update-failed",{errorInfo:null==Jn?void 0:Jn.toString()})}if(An.error)throw Xr.create("token-update-failed",{errorInfo:An.error.message});if(!An.token)throw Xr.create("token-update-no-token");return An.token})).apply(this,arguments)}function Is(pe,qe){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.A)(function*(pe,qe){const yn={method:"DELETE",headers:yield Es(pe)};try{const An=yield(yield fetch(`${Mi(pe.appConfig)}/${qe}`,yn)).json();if(An.error)throw Xr.create("token-unsubscribe-failed",{errorInfo:An.error.message})}catch(Kn){throw Xr.create("token-unsubscribe-failed",{errorInfo:null==Kn?void 0:Kn.toString()})}})).apply(this,arguments)}function Mi({projectId:pe}){return`${Ye}/projects/${pe}/registrations`}function Es(pe){return No.apply(this,arguments)}function No(){return(No=(0,d.A)(function*({appConfig:pe,installations:qe}){const Ht=yield qe.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":pe.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ht}`})})).apply(this,arguments)}function Nr({p256dh:pe,auth:qe,endpoint:Ht,vapidKey:yn}){const Kn={web:{endpoint:Ht,auth:qe,p256dh:pe}};return yn!==Dr&&(Kn.web.applicationPubKey=yn),Kn}const Xs=6048e5;function Ii(){return Ii=(0,d.A)(function*(pe){const qe=yield function Oo(pe,qe){return Di.apply(this,arguments)}(pe.swRegistration,pe.vapidKey),Ht={vapidKey:pe.vapidKey,swScope:pe.swRegistration.scope,endpoint:qe.endpoint,auth:gn(qe.getKey("auth")),p256dh:gn(qe.getKey("p256dh"))},yn=yield po(pe.firebaseDependencies);if(yn){if(function F(pe,qe){return qe.vapidKey===pe.vapidKey&&qe.endpoint===pe.endpoint&&qe.auth===pe.auth&&qe.p256dh===pe.p256dh}(yn.subscriptionOptions,Ht))return Date.now()>=yn.createTime+Xs?function Yo(pe,qe){return co.apply(this,arguments)}(pe,{token:yn.token,createTime:Date.now(),subscriptionOptions:Ht}):yn.token;try{yield Is(pe.firebaseDependencies,yn.token)}catch(Kn){console.warn(Kn)}return ni(pe.firebaseDependencies,Ht)}return ni(pe.firebaseDependencies,Ht)}),Ii.apply(this,arguments)}function br(){return br=(0,d.A)(function*(pe){const qe=yield po(pe.firebaseDependencies);qe&&(yield Is(pe.firebaseDependencies,qe.token),yield function jo(pe){return ns.apply(this,arguments)}(pe.firebaseDependencies));const Ht=yield pe.swRegistration.pushManager.getSubscription();return!Ht||Ht.unsubscribe()}),br.apply(this,arguments)}function co(){return co=(0,d.A)(function*(pe,qe){try{const Ht=yield function jr(pe,qe){return Ks.apply(this,arguments)}(pe.firebaseDependencies,qe),yn=Object.assign(Object.assign({},qe),{token:Ht,createTime:Date.now()});return yield qo(pe.firebaseDependencies,yn),Ht}catch(Ht){throw Ht}}),co.apply(this,arguments)}function ni(pe,qe){return rs.apply(this,arguments)}function rs(){return(rs=(0,d.A)(function*(pe,qe){const yn={token:yield fs(pe,qe),createTime:Date.now(),subscriptionOptions:qe};return yield qo(pe,yn),yn.token})).apply(this,arguments)}function Di(){return(Di=(0,d.A)(function*(pe,qe){return(yield pe.pushManager.getSubscription())||pe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:On(qe)})})).apply(this,arguments)}function E(pe){const qe={from:pe.from,collapseKey:pe.collapse_key,messageId:pe.fcmMessageId};return function O(pe,qe){if(!qe.notification)return;pe.notification={};const Ht=qe.notification.title;Ht&&(pe.notification.title=Ht);const yn=qe.notification.body;yn&&(pe.notification.body=yn);const Kn=qe.notification.image;Kn&&(pe.notification.image=Kn);const An=qe.notification.icon;An&&(pe.notification.icon=An)}(qe,pe),function A(pe,qe){qe.data&&(pe.data=qe.data)}(qe,pe),function G(pe,qe){var Ht,yn,Kn,An,Jn;if(!(qe.fcmOptions||null!==(Ht=qe.notification)&&void 0!==Ht&&Ht.click_action))return;pe.fcmOptions={};const $i=null!==(Kn=null===(yn=qe.fcmOptions)||void 0===yn?void 0:yn.link)&&void 0!==Kn?Kn:null===(An=qe.notification)||void 0===An?void 0:An.click_action;$i&&(pe.fcmOptions.link=$i);const Zi=null===(Jn=qe.fcmOptions)||void 0===Jn?void 0:Jn.analytics_label;Zi&&(pe.fcmOptions.analyticsLabel=Zi)}(qe,pe),qe}function Tt(pe){return Xr.create("missing-app-config-values",{valueName:pe})}!function ot(pe,qe){const Ht=[];for(let yn=0;yn<pe.length;yn++)Ht.push(pe.charAt(yn)),yn<qe.length&&Ht.push(qe.charAt(yn));Ht.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qt{constructor(qe,Ht,yn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Kn=function an(pe){if(!pe||!pe.options)throw Tt("App Configuration Object");if(!pe.name)throw Tt("App Name");const qe=["projectId","apiKey","appId","messagingSenderId"],{options:Ht}=pe;for(const yn of qe)if(!Ht[yn])throw Tt(yn);return{appName:pe.name,projectId:Ht.projectId,apiKey:Ht.apiKey,appId:Ht.appId,senderId:Ht.messagingSenderId}}(qe);this.firebaseDependencies={app:qe,appConfig:Kn,installations:Ht,analyticsProvider:yn}}_delete(){return Promise.resolve()}}function dn(pe){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.A)(function*(pe){try{pe.swRegistration=yield navigator.serviceWorker.register(xr,{scope:Wi}),pe.swRegistration.update().catch(()=>{})}catch(qe){throw Xr.create("failed-service-worker-registration",{browserErrorMessage:null==qe?void 0:qe.message})}})).apply(this,arguments)}function er(){return(er=(0,d.A)(function*(pe,qe){if(!qe&&!pe.swRegistration&&(yield dn(pe)),qe||!pe.swRegistration){if(!(qe instanceof ServiceWorkerRegistration))throw Xr.create("invalid-sw-registration");pe.swRegistration=qe}})).apply(this,arguments)}function zr(){return(zr=(0,d.A)(function*(pe,qe){qe?pe.vapidKey=qe:pe.vapidKey||(pe.vapidKey=Dr)})).apply(this,arguments)}function Ei(pe,qe){return si.apply(this,arguments)}function si(){return si=(0,d.A)(function*(pe,qe){if(!navigator)throw Xr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xr.create("permission-blocked");return yield function lr(pe,qe){return zr.apply(this,arguments)}(pe,null==qe?void 0:qe.vapidKey),yield function Wn(pe,qe){return er.apply(this,arguments)}(pe,null==qe?void 0:qe.serviceWorkerRegistration),function mi(pe){return Ii.apply(this,arguments)}(pe)}),si.apply(this,arguments)}function di(){return(di=(0,d.A)(function*(pe,qe,Ht){const yn=function uo(pe){switch(pe){case Qt.NOTIFICATION_CLICKED:return"notification_open";case Qt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(qe);(yield pe.firebaseDependencies.analyticsProvider.get()).logEvent(yn,{message_id:Ht[Ae],message_name:Ht[wt],message_time:Ht[he],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Gi(){return Gi=(0,d.A)(function*(pe,qe){const Ht=qe.data;if(!Ht.isFirebaseMessaging)return;pe.onMessageHandler&&Ht.messageType===Qt.PUSH_RECEIVED&&("function"==typeof pe.onMessageHandler?pe.onMessageHandler(E(Ht)):pe.onMessageHandler.next(E(Ht)));const yn=Ht.data;(function ae(pe){return"object"==typeof pe&&!!pe&&Ae in pe})(yn)&&"1"===yn["google.c.a.e"]&&(yield function ui(pe,qe,Ht){return di.apply(this,arguments)}(pe,Ht.messageType,yn))}),Gi.apply(this,arguments)}const _o="@firebase/messaging",is="0.12.12",bs=pe=>{const qe=new qt(pe.getProvider("app").getImmediate(),pe.getProvider("installations-internal").getImmediate(),pe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ht=>function To(pe,qe){return Gi.apply(this,arguments)}(qe,Ht)),qe},ho=pe=>{const qe=pe.getProvider("messaging").getImmediate();return{getToken:yn=>Ei(qe,yn)}};function ko(){return vo.apply(this,arguments)}function vo(){return(vo=(0,d.A)(function*(){try{yield(0,be.eX)()}catch{return!1}return typeof window<"u"&&(0,be.zW)()&&(0,be.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function ri(){return ri=(0,d.A)(function*(pe){if(!navigator)throw Xr.create("only-available-in-window");return pe.swRegistration||(yield dn(pe)),function Pi(pe){return br.apply(this,arguments)}(pe)}),ri.apply(this,arguments)}function Os(pe=(0,o.getApp)()){return ko().then(qe=>{if(!qe)throw Xr.create("unsupported-browser")},qe=>{throw Xr.create("indexed-db-unsupported")}),(0,o._getProvider)((0,be.Ku)(pe),"messaging").getImmediate()}function Ro(pe,qe){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.A)(function*(pe,qe){return Ei(pe=(0,be.Ku)(pe),qe)})).apply(this,arguments)}function Or(pe){return function os(pe){return ri.apply(this,arguments)}(pe=(0,be.Ku)(pe))}function Wr(pe,qe){return function ta(pe,qe){if(!navigator)throw Xr.create("only-available-in-window");return pe.onMessageHandler=qe,()=>{pe.onMessageHandler=null}}(pe=(0,be.Ku)(pe),qe)}!function ps(){(0,o._registerComponent)(new $.uA("messaging",bs,"PUBLIC")),(0,o._registerComponent)(new $.uA("messaging-internal",ho,"PRIVATE")),(0,o.registerVersion)(_o,is),(0,o.registerVersion)(_o,is,"esm2017")}()},1566:(kn,Mt,V)=>{"use strict";V.d(Mt,{A:()=>pt});var d=V(4923),o=V(6238),$=V(7991),be=V(8041);class W{constructor(vt,ut){this._delegate=vt,this.firebase=ut,(0,$._addComponent)(vt,new o.uA("app-compat",()=>this,"PUBLIC")),this.container=vt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(vt){this._delegate.automaticDataCollectionEnabled=vt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(vt=>{this._delegate.checkDestroyed(),vt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(vt,ut=$._DEFAULT_ENTRY_NAME){var Ot;this._delegate.checkDestroyed();const St=this._delegate.container.getProvider(vt);return!St.isInitialized()&&"EXPLICIT"===(null===(Ot=St.getComponent())||void 0===Ot?void 0:Ot.instantiationMode)&&St.initialize(),St.getImmediate({identifier:ut})}_removeServiceInstance(vt,ut=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(vt).clearInstance(ut)}_addComponent(vt){(0,$._addComponent)(this._delegate,vt)}_addOrOverwriteComponent(vt){(0,$._addOrOverwriteComponent)(this._delegate,vt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),it=function ft(){const Et=function Ge(Et){const vt={},ut={__esModule:!0,initializeApp:function we(ht,nt={}){const fe=$.initializeApp(ht,nt);if((0,d.gR)(vt,fe.name))return vt[fe.name];const gt=new Et(fe,ut);return vt[fe.name]=gt,gt},app:St,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Ne(ht){const nt=ht.name,fe=nt.replace("-compat","");if($._registerComponent(ht)&&"PUBLIC"===ht.type){const gt=(mt=St())=>{if("function"!=typeof mt[fe])throw Re.create("invalid-app-argument",{appName:nt});return mt[fe]()};void 0!==ht.serviceProps&&(0,d.zw)(gt,ht.serviceProps),ut[fe]=gt,Et.prototype[fe]=function(...mt){return this._getService.bind(this,nt).apply(this,ht.multipleInstances?mt:[])}}return"PUBLIC"===ht.type?ut[fe]:null},removeApp:function Ot(ht){delete vt[ht]},useAsService:function st(ht,nt){return"serverAuth"===nt?null:nt},modularAPIs:$}};function St(ht){if(!(0,d.gR)(vt,ht=ht||$._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:ht});return vt[ht]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function xe(){return Object.keys(vt).map(ht=>vt[ht])}}),St.App=Et,ut}(W);return Et.INTERNAL=Object.assign(Object.assign({},Et.INTERNAL),{createFirebaseNamespace:ft,extendNamespace:function vt(ut){(0,d.zw)(Et,ut)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),Et}(),Me=new be.Vy("@firebase/app-compat");try{const Et=(0,d.mS)();if(void 0!==Et.firebase){Me.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const vt=Et.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&Me.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const pt=it;!function et(Et){(0,$.registerVersion)("@firebase/app-compat","0.2.43",Et)}()},7991:(kn,Mt,V)=>{"use strict";V.r(Mt),V.d(Mt,{FirebaseError:()=>be.g,SDK_VERSION:()=>Fe,_DEFAULT_ENTRY_NAME:()=>se,_addComponent:()=>lt,_addOrOverwriteComponent:()=>yt,_apps:()=>Ke,_clearComponents:()=>qn,_components:()=>He,_getProvider:()=>Fn,_isFirebaseApp:()=>In,_isFirebaseServerApp:()=>Ln,_registerComponent:()=>Bt,_removeServiceInstance:()=>bt,_serverApps:()=>tt,deleteApp:()=>or,getApp:()=>Ft,getApps:()=>tr,initializeApp:()=>Le,initializeServerApp:()=>Ut,onLog:()=>yr,registerVersion:()=>Mn,setLogLevel:()=>ar});var d=V(467),o=V(6238),$=V(8041),be=V(4923),W=V(6749);class Ce{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function Re($e){const ct=$e.getComponent();return"VERSION"===(null==ct?void 0:ct.type)}(J)){const Q=J.getImmediate();return`${Q.library}/${Q.version}`}return null}).filter(J=>J).join(" ")}}const Ge="@firebase/app",ft="0.10.13",it=new $.Vy("@firebase/app"),Me="@firebase/app-compat",Ct="@firebase/analytics-compat",at="@firebase/analytics",et="@firebase/app-check-compat",pt="@firebase/app-check",Et="@firebase/auth",vt="@firebase/auth-compat",ut="@firebase/database",Ot="@firebase/data-connect",St="@firebase/database-compat",we="@firebase/functions",xe="@firebase/functions-compat",Ne="@firebase/installations",st="@firebase/installations-compat",ht="@firebase/messaging",nt="@firebase/messaging-compat",fe="@firebase/performance",gt="@firebase/performance-compat",mt="@firebase/remote-config",Ze="@firebase/remote-config-compat",Lt="@firebase/storage",Vt="@firebase/storage-compat",pn="@firebase/firestore",We="@firebase/vertexai-preview",De="@firebase/firestore-compat",_e="firebase",se="[DEFAULT]",Oe={[Ge]:"fire-core",[Me]:"fire-core-compat",[at]:"fire-analytics",[Ct]:"fire-analytics-compat",[pt]:"fire-app-check",[et]:"fire-app-check-compat",[Et]:"fire-auth",[vt]:"fire-auth-compat",[ut]:"fire-rtdb",[Ot]:"fire-data-connect",[St]:"fire-rtdb-compat",[we]:"fire-fn",[xe]:"fire-fn-compat",[Ne]:"fire-iid",[st]:"fire-iid-compat",[ht]:"fire-fcm",[nt]:"fire-fcm-compat",[fe]:"fire-perf",[gt]:"fire-perf-compat",[mt]:"fire-rc",[Ze]:"fire-rc-compat",[Lt]:"fire-gcs",[Vt]:"fire-gcs-compat",[pn]:"fire-fst",[De]:"fire-fst-compat",[We]:"fire-vertex","fire-js":"fire-js",[_e]:"fire-js-all"},Ke=new Map,tt=new Map,He=new Map;function lt($e,ct){try{$e.container.addComponent(ct)}catch(J){it.debug(`Component ${ct.name} failed to register with FirebaseApp ${$e.name}`,J)}}function yt($e,ct){$e.container.addOrOverwriteComponent(ct)}function Bt($e){const ct=$e.name;if(He.has(ct))return it.debug(`There were multiple attempts to register component ${ct}.`),!1;He.set(ct,$e);for(const J of Ke.values())lt(J,$e);for(const J of tt.values())lt(J,$e);return!0}function Fn($e,ct){const J=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),$e.container.getProvider(ct)}function bt($e,ct,J=se){Fn($e,ct).clearInstance(J)}function In($e){return void 0!==$e.options}function Ln($e){return void 0!==$e.settings}function qn(){He.clear()}const zt=new be.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Un{constructor(ct,J,Q){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=Q,this.container.addComponent(new o.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}class sn extends Un{constructor(ct,J,Q,ne){const ke=void 0!==J.automaticDataCollectionEnabled&&J.automaticDataCollectionEnabled,je={name:Q,automaticDataCollectionEnabled:ke};super(void 0!==ct.apiKey?ct:ct.options,je,ne),this._serverConfig=Object.assign({automaticDataCollectionEnabled:ke},J),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,J.releaseOnDeref=void 0,Mn(Ge,ft,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ct){this.isDeleted||(this._refCount++,void 0!==ct&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ct,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){or(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw zt.create("server-app-deleted")}}const Fe="10.14.1";function Le($e,ct={}){let J=$e;"object"!=typeof ct&&(ct={name:ct});const Q=Object.assign({name:se,automaticDataCollectionEnabled:!1},ct),ne=Q.name;if("string"!=typeof ne||!ne)throw zt.create("bad-app-name",{appName:String(ne)});if(J||(J=(0,be.T9)()),!J)throw zt.create("no-options");const ke=Ke.get(ne);if(ke){if((0,be.bD)(J,ke.options)&&(0,be.bD)(Q,ke.config))return ke;throw zt.create("duplicate-app",{appName:ne})}const je=new o.h1(ne);for(const Sn of He.values())je.addComponent(Sn);const tn=new Un(J,Q,je);return Ke.set(ne,tn),tn}function Ut($e,ct){if((0,be.Bd)()&&!(0,be.p7)())throw zt.create("invalid-server-app-environment");let J;void 0===ct.automaticDataCollectionEnabled&&(ct.automaticDataCollectionEnabled=!1),J=In($e)?$e.options:$e;const Q=Object.assign(Object.assign({},ct),J);if(void 0!==Q.releaseOnDeref&&delete Q.releaseOnDeref,void 0!==ct.releaseOnDeref&&typeof FinalizationRegistry>"u")throw zt.create("finalization-registry-not-supported",{});const ke=""+(Ve=JSON.stringify(Q),[...Ve].reduce((ve,oe)=>Math.imul(31,ve)+oe.charCodeAt(0)|0,0)),je=tt.get(ke);var Ve;if(je)return je.incRefCount(ct.releaseOnDeref),je;const tn=new o.h1(ke);for(const Ve of He.values())tn.addComponent(Ve);const Sn=new sn(J,ct,ke,tn);return tt.set(ke,Sn),Sn}function Ft($e=se){const ct=Ke.get($e);if(!ct&&$e===se&&(0,be.T9)())return Le();if(!ct)throw zt.create("no-app",{appName:$e});return ct}function tr(){return Array.from(Ke.values())}function or($e){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,d.A)(function*($e){let ct=!1;const J=$e.name;Ke.has(J)?(ct=!0,Ke.delete(J)):tt.has(J)&&$e.decRefCount()<=0&&(tt.delete(J),ct=!0),ct&&(yield Promise.all($e.container.getProviders().map(Q=>Q.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Mn($e,ct,J){var Q;let ne=null!==(Q=Oe[$e])&&void 0!==Q?Q:$e;J&&(ne+=`-${J}`);const ke=ne.match(/\s|\//),je=ct.match(/\s|\//);if(ke||je){const tn=[`Unable to register library "${ne}" with version "${ct}":`];return ke&&tn.push(`library name "${ne}" contains illegal characters (whitespace or "/")`),ke&&je&&tn.push("and"),je&&tn.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void it.warn(tn.join(" "))}Bt(new o.uA(`${ne}-version`,()=>({library:ne,version:ct}),"VERSION"))}function yr($e,ct){if(null!==$e&&"function"!=typeof $e)throw zt.create("invalid-log-argument");(0,$.Ey)($e,ct)}function ar($e){(0,$.He)($e)}const Qn="firebase-heartbeat-database",nr=1,fr="firebase-heartbeat-store";let Vr=null;function wn(){return Vr||(Vr=(0,W.P2)(Qn,nr,{upgrade:($e,ct)=>{if(0===ct)try{$e.createObjectStore(fr)}catch(J){console.warn(J)}}}).catch($e=>{throw zt.create("idb-open",{originalErrorMessage:$e.message})})),Vr}function $n(){return($n=(0,d.A)(function*($e){try{const J=(yield wn()).transaction(fr),Q=yield J.objectStore(fr).get(Ai($e));return yield J.done,Q}catch(ct){if(ct instanceof be.g)it.warn(ct.message);else{const J=zt.create("idb-get",{originalErrorMessage:null==ct?void 0:ct.message});it.warn(J.message)}}})).apply(this,arguments)}function Ir($e,ct){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,d.A)(function*($e,ct){try{const Q=(yield wn()).transaction(fr,"readwrite");yield Q.objectStore(fr).put(ct,Ai($e)),yield Q.done}catch(J){if(J instanceof be.g)it.warn(J.message);else{const Q=zt.create("idb-set",{originalErrorMessage:null==J?void 0:J.message});it.warn(Q.message)}}})).apply(this,arguments)}function Ai($e){return`${$e.name}!${$e.options.appId}`}class Er{constructor(ct){this.container=ct,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new Rt(J),this._heartbeatsCachePromise=this._storage.read().then(Q=>(this._heartbeatsCache=Q,Q))}triggerHeartbeat(){var ct=this;return(0,d.A)(function*(){var J,Q;try{const ke=ct.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=En();return null==(null===(J=ct._heartbeatsCache)||void 0===J?void 0:J.heartbeats)&&(ct._heartbeatsCache=yield ct._heartbeatsCachePromise,null==(null===(Q=ct._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats))||ct._heartbeatsCache.lastSentHeartbeatDate===je||ct._heartbeatsCache.heartbeats.some(tn=>tn.date===je)?void 0:(ct._heartbeatsCache.heartbeats.push({date:je,agent:ke}),ct._heartbeatsCache.heartbeats=ct._heartbeatsCache.heartbeats.filter(tn=>{const Sn=new Date(tn.date).valueOf();return Date.now()-Sn<=2592e6}),ct._storage.overwrite(ct._heartbeatsCache))}catch(ne){it.warn(ne)}})()}getHeartbeatsHeader(){var ct=this;return(0,d.A)(function*(){var J;try{if(null===ct._heartbeatsCache&&(yield ct._heartbeatsCachePromise),null==(null===(J=ct._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||0===ct._heartbeatsCache.heartbeats.length)return"";const Q=En(),{heartbeatsToSend:ne,unsentEntries:ke}=function Xt($e,ct=1024){const J=[];let Q=$e.slice();for(const ne of $e){const ke=J.find(je=>je.agent===ne.agent);if(ke){if(ke.dates.push(ne.date),Yt(J)>ct){ke.dates.pop();break}}else if(J.push({agent:ne.agent,dates:[ne.date]}),Yt(J)>ct){J.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:J,unsentEntries:Q}}(ct._heartbeatsCache.heartbeats),je=(0,be.Uj)(JSON.stringify({version:2,heartbeats:ne}));return ct._heartbeatsCache.lastSentHeartbeatDate=Q,ke.length>0?(ct._heartbeatsCache.heartbeats=ke,yield ct._storage.overwrite(ct._heartbeatsCache)):(ct._heartbeatsCache.heartbeats=[],ct._storage.overwrite(ct._heartbeatsCache)),je}catch(Q){return it.warn(Q),""}})()}}function En(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(ct){this.app=ct,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,be.zW)()&&(0,be.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ct=this;return(0,d.A)(function*(){if(yield ct._canUseIndexedDBPromise){const Q=yield function Ar($e){return $n.apply(this,arguments)}(ct.app);return null!=Q&&Q.heartbeats?Q:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ct){var J=this;return(0,d.A)(function*(){var Q;if(yield J._canUseIndexedDBPromise){const ke=yield J.read();return Ir(J.app,{lastSentHeartbeatDate:null!==(Q=ct.lastSentHeartbeatDate)&&void 0!==Q?Q:ke.lastSentHeartbeatDate,heartbeats:ct.heartbeats})}})()}add(ct){var J=this;return(0,d.A)(function*(){var Q;if(yield J._canUseIndexedDBPromise){const ke=yield J.read();return Ir(J.app,{lastSentHeartbeatDate:null!==(Q=ct.lastSentHeartbeatDate)&&void 0!==Q?Q:ke.lastSentHeartbeatDate,heartbeats:[...ke.heartbeats,...ct.heartbeats]})}})()}}function Yt($e){return(0,be.Uj)(JSON.stringify({version:2,heartbeats:$e})).length}!function At($e){Bt(new o.uA("platform-logger",ct=>new Ce(ct),"PRIVATE")),Bt(new o.uA("heartbeat",ct=>new Er(ct),"PRIVATE")),Mn(Ge,ft,$e),Mn(Ge,ft,"esm2017"),Mn("fire-js","")}("")},6749:(kn,Mt,V)=>{"use strict";V.d(Mt,{MR:()=>we,P2:()=>St});var d=V(467);const o=(nt,fe)=>fe.some(gt=>nt instanceof gt);let $,be;const Re=new WeakMap,Ge=new WeakMap,ft=new WeakMap,it=new WeakMap,Me=new WeakMap;let et={get(nt,fe,gt){if(nt instanceof IDBTransaction){if("done"===fe)return Ge.get(nt);if("objectStoreNames"===fe)return nt.objectStoreNames||ft.get(nt);if("store"===fe)return gt.objectStoreNames[1]?void 0:gt.objectStore(gt.objectStoreNames[0])}return ut(nt[fe])},set:(nt,fe,gt)=>(nt[fe]=gt,!0),has:(nt,fe)=>nt instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in nt};function vt(nt){return"function"==typeof nt?function Et(nt){return nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(nt)?function(...fe){return nt.apply(Ot(this),fe),ut(Re.get(this))}:function(...fe){return ut(nt.apply(Ot(this),fe))}:function(fe,...gt){const mt=nt.call(Ot(this),fe,...gt);return ft.set(mt,fe.sort?fe.sort():[fe]),ut(mt)}}(nt):(nt instanceof IDBTransaction&&function at(nt){if(Ge.has(nt))return;const fe=new Promise((gt,mt)=>{const Ze=()=>{nt.removeEventListener("complete",Lt),nt.removeEventListener("error",Vt),nt.removeEventListener("abort",Vt)},Lt=()=>{gt(),Ze()},Vt=()=>{mt(nt.error||new DOMException("AbortError","AbortError")),Ze()};nt.addEventListener("complete",Lt),nt.addEventListener("error",Vt),nt.addEventListener("abort",Vt)});Ge.set(nt,fe)}(nt),o(nt,function W(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(nt,et):nt)}function ut(nt){if(nt instanceof IDBRequest)return function Ct(nt){const fe=new Promise((gt,mt)=>{const Ze=()=>{nt.removeEventListener("success",Lt),nt.removeEventListener("error",Vt)},Lt=()=>{gt(ut(nt.result)),Ze()},Vt=()=>{mt(nt.error),Ze()};nt.addEventListener("success",Lt),nt.addEventListener("error",Vt)});return fe.then(gt=>{gt instanceof IDBCursor&&Re.set(gt,nt)}).catch(()=>{}),Me.set(fe,nt),fe}(nt);if(it.has(nt))return it.get(nt);const fe=vt(nt);return fe!==nt&&(it.set(nt,fe),Me.set(fe,nt)),fe}const Ot=nt=>Me.get(nt);function St(nt,fe,{blocked:gt,upgrade:mt,blocking:Ze,terminated:Lt}={}){const Vt=indexedDB.open(nt,fe),pn=ut(Vt);return mt&&Vt.addEventListener("upgradeneeded",We=>{mt(ut(Vt.result),We.oldVersion,We.newVersion,ut(Vt.transaction),We)}),gt&&Vt.addEventListener("blocked",We=>gt(We.oldVersion,We.newVersion,We)),pn.then(We=>{Lt&&We.addEventListener("close",()=>Lt()),Ze&&We.addEventListener("versionchange",De=>Ze(De.oldVersion,De.newVersion,De))}).catch(()=>{}),pn}function we(nt,{blocked:fe}={}){const gt=indexedDB.deleteDatabase(nt);return fe&&gt.addEventListener("blocked",mt=>fe(mt.oldVersion,mt)),ut(gt).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],Ne=["put","add","delete","clear"],st=new Map;function ht(nt,fe){if(!(nt instanceof IDBDatabase)||fe in nt||"string"!=typeof fe)return;if(st.get(fe))return st.get(fe);const gt=fe.replace(/FromIndex$/,""),mt=fe!==gt,Ze=Ne.includes(gt);if(!(gt in(mt?IDBIndex:IDBObjectStore).prototype)||!Ze&&!xe.includes(gt))return;const Lt=function(){var Vt=(0,d.A)(function*(pn,...We){const De=this.transaction(pn,Ze?"readwrite":"readonly");let _e=De.store;return mt&&(_e=_e.index(We.shift())),(yield Promise.all([_e[gt](...We),Ze&&De.done]))[0]});return function(We){return Vt.apply(this,arguments)}}();return st.set(fe,Lt),Lt}!function pt(nt){et=nt(et)}(nt=>({...nt,get:(fe,gt,mt)=>ht(fe,gt)||nt.get(fe,gt,mt),has:(fe,gt)=>!!ht(fe,gt)||nt.has(fe,gt)}))},467:(kn,Mt,V)=>{"use strict";function d($,be,W,Ce,Re,Ge,ft){try{var it=$[Ge](ft),Me=it.value}catch(Ct){return void W(Ct)}it.done?be(Me):Promise.resolve(Me).then(Ce,Re)}function o($){return function(){var be=this,W=arguments;return new Promise(function(Ce,Re){var Ge=$.apply(be,W);function ft(Me){d(Ge,Ce,Re,ft,it,"next",Me)}function it(Me){d(Ge,Ce,Re,ft,it,"throw",Me)}ft(void 0)})}}V.d(Mt,{A:()=>o})},9842:(kn,Mt,V)=>{"use strict";function d(W){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ce){return typeof Ce}:function(Ce){return Ce&&"function"==typeof Symbol&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce})(W)}function be(W,Ce,Re){return(Ce=function $(W){var Ce=function o(W,Ce){if("object"!=d(W)||!W)return W;var Re=W[Symbol.toPrimitive];if(void 0!==Re){var Ge=Re.call(W,Ce||"default");if("object"!=d(Ge))return Ge;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ce?String:Number)(W)}(W,"string");return"symbol"==d(Ce)?Ce:Ce+""}(Ce))in W?Object.defineProperty(W,Ce,{value:Re,enumerable:!0,configurable:!0,writable:!0}):W[Ce]=Re,W}V.d(Mt,{A:()=>be})},1635:(kn,Mt,V)=>{"use strict";function be(se,Oe){var Ke={};for(var tt in se)Object.prototype.hasOwnProperty.call(se,tt)&&Oe.indexOf(tt)<0&&(Ke[tt]=se[tt]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var He=0;for(tt=Object.getOwnPropertySymbols(se);He<tt.length;He++)Oe.indexOf(tt[He])<0&&Object.prototype.propertyIsEnumerable.call(se,tt[He])&&(Ke[tt[He]]=se[tt[He]])}return Ke}function W(se,Oe,Ke,tt){var yt,He=arguments.length,lt=He<3?Oe:null===tt?tt=Object.getOwnPropertyDescriptor(Oe,Ke):tt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)lt=Reflect.decorate(se,Oe,Ke,tt);else for(var Bt=se.length-1;Bt>=0;Bt--)(yt=se[Bt])&&(lt=(He<3?yt(lt):He>3?yt(Oe,Ke,lt):yt(Oe,Ke))||lt);return He>3&&lt&&Object.defineProperty(Oe,Ke,lt),lt}function Ct(se,Oe,Ke,tt){return new(Ke||(Ke=Promise))(function(lt,yt){function Bt(In){try{bt(tt.next(In))}catch(Ln){yt(Ln)}}function Fn(In){try{bt(tt.throw(In))}catch(Ln){yt(Ln)}}function bt(In){In.done?lt(In.value):function He(lt){return lt instanceof Ke?lt:new Ke(function(yt){yt(lt)})}(In.value).then(Bt,Fn)}bt((tt=tt.apply(se,Oe||[])).next())})}function we(se){return this instanceof we?(this.v=se,this):new we(se)}function xe(se,Oe,Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,tt=Ke.apply(se,Oe||[]),lt=[];return He=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Bt("next"),Bt("throw"),Bt("return",function yt(en){return function(zt){return Promise.resolve(zt).then(en,Ln)}}),He[Symbol.asyncIterator]=function(){return this},He;function Bt(en,zt){tt[en]&&(He[en]=function(Un){return new Promise(function(sn,Fe){lt.push([en,Un,sn,Fe])>1||Fn(en,Un)})},zt&&(He[en]=zt(He[en])))}function Fn(en,zt){try{!function bt(en){en.value instanceof we?Promise.resolve(en.value.v).then(In,Ln):qn(lt[0][2],en)}(tt[en](zt))}catch(Un){qn(lt[0][3],Un)}}function In(en){Fn("next",en)}function Ln(en){Fn("throw",en)}function qn(en,zt){en(zt),lt.shift(),lt.length&&Fn(lt[0][0],lt[0][1])}}function st(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,Oe=se[Symbol.asyncIterator];return Oe?Oe.call(se):(se=function Et(se){var Oe="function"==typeof Symbol&&Symbol.iterator,Ke=Oe&&se[Oe],tt=0;if(Ke)return Ke.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&tt>=se.length&&(se=void 0),{value:se&&se[tt++],done:!se}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Ke={},tt("next"),tt("throw"),tt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke);function tt(lt){Ke[lt]=se[lt]&&function(yt){return new Promise(function(Bt,Fn){!function He(lt,yt,Bt,Fn){Promise.resolve(Fn).then(function(bt){lt({value:bt,done:Bt})},yt)}(Bt,Fn,(yt=se[lt](yt)).done,yt.value)})}}}V.d(Mt,{AQ:()=>xe,Cg:()=>W,N3:()=>we,Tt:()=>be,sH:()=>Ct,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},kn=>{kn(kn.s=8239)}]);