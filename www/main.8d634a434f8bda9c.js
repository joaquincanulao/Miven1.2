(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{5083:(Pn,Dt,V)=>{"use strict";V.d(Dt,{E_:()=>mt,F3:()=>Ke,I9:()=>ot,Ii:()=>Qe});var d=V(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var Be=function(ft){return ft.Unimplemented="UNIMPLEMENTED",ft.Unavailable="UNAVAILABLE",ft}(Be||{});class ot extends Error{constructor(Je,Nt,Ot){super(Je),this.message=Je,this.code=Nt,this.data=Ot}}const _e=ft=>{var Je,Nt,Ot,un,Ge;const we=ft.CapacitorCustomPlatform||null,me=ft.Capacitor||{},De=me.Plugins=me.Plugins||{},oe=ft.CapacitorPlatforms,ze=(null===(Je=null==oe?void 0:oe.currentPlatform)||void 0===Je?void 0:Je.getPlatform)||(()=>null!==we?we.name:(ft=>{var Je,Nt;return null!=ft&&ft.androidBridge?"android":null!==(Nt=null===(Je=null==ft?void 0:ft.webkit)||void 0===Je?void 0:Je.messageHandlers)&&void 0!==Nt&&Nt.bridge?"ios":"web"})(ft)),je=(null===(Nt=null==oe?void 0:oe.currentPlatform)||void 0===Nt?void 0:Nt.isNativePlatform)||(()=>"web"!==ze()),_t=(null===(Ot=null==oe?void 0:oe.currentPlatform)||void 0===Ot?void 0:Ot.isPluginAvailable)||(jt=>{const On=kn.get(jt);return!!(null!=On&&On.platforms.has(ze())||Nn(jt))}),Nn=(null===(un=null==oe?void 0:oe.currentPlatform)||void 0===un?void 0:un.getPluginHeader)||(jt=>{var On;return null===(On=me.PluginHeaders)||void 0===On?void 0:On.find(rn=>rn.name===jt)}),kn=new Map,qt=(null===(Ge=null==oe?void 0:oe.currentPlatform)||void 0===Ge?void 0:Ge.registerPlugin)||((jt,On={})=>{const rn=kn.get(jt);if(rn)return console.warn(`Capacitor plugin "${jt}" already registered. Cannot register plugins twice.`),rn.proxy;const ke=ze(),Fe=Nn(jt);let kt;const xt=function(){var zn=(0,d.A)(function*(){return!kt&&ke in On?kt=kt="function"==typeof On[ke]?yield On[ke]():On[ke]:null!==we&&!kt&&"web"in On&&(kt=kt="function"==typeof On.web?yield On.web():On.web),kt});return function(){return zn.apply(this,arguments)}}(),nr=zn=>{let Yn;const dr=(...jr)=>{const Cn=xt().then(Cr=>{const Un=((zn,Yn)=>{var dr,jr;if(!Fe){if(zn)return null===(jr=zn[Yn])||void 0===jr?void 0:jr.bind(zn);throw new ot(`"${jt}" plugin is not implemented on ${ke}`,Be.Unimplemented)}{const Cn=null==Fe?void 0:Fe.methods.find(Cr=>Yn===Cr.name);if(Cn)return"promise"===Cn.rtype?Cr=>me.nativePromise(jt,Yn.toString(),Cr):(Cr,Un)=>me.nativeCallback(jt,Yn.toString(),Cr,Un);if(zn)return null===(dr=zn[Yn])||void 0===dr?void 0:dr.bind(zn)}})(Cr,zn);if(Un){const mr=Un(...jr);return Yn=null==mr?void 0:mr.remove,mr}throw new ot(`"${jt}.${zn}()" is not implemented on ${ke}`,Be.Unimplemented)});return"addListener"===zn&&(Cn.remove=(0,d.A)(function*(){return Yn()})),Cn};return dr.toString=()=>`${zn.toString()}() { [capacitor code] }`,Object.defineProperty(dr,"name",{value:zn,writable:!1,configurable:!1}),dr},Vn=nr("addListener"),Tn=nr("removeListener"),gr=(zn,Yn)=>{const dr=Vn({eventName:zn},Yn),jr=function(){var Cr=(0,d.A)(function*(){const Un=yield dr;Tn({eventName:zn,callbackId:Un},Yn)});return function(){return Cr.apply(this,arguments)}}(),Cn=new Promise(Cr=>dr.then(()=>Cr({remove:jr})));return Cn.remove=(0,d.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield jr()}),Cn},rr=new Proxy({},{get(zn,Yn){switch(Yn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Fe?gr:Vn;case"removeListener":return Tn;default:return nr(Yn)}}});return De[jt]=rr,kn.set(jt,{name:jt,proxy:rr,platforms:new Set([...Object.keys(On),...Fe?[ke]:[]])}),rr});return me.convertFileSrc||(me.convertFileSrc=jt=>jt),me.getPlatform=ze,me.handleError=jt=>ft.console.error(jt),me.isNativePlatform=je,me.isPluginAvailable=_t,me.pluginMethodNoop=(jt,On,rn)=>Promise.reject(`${rn} does not have an implementation of "${On}".`),me.registerPlugin=qt,me.Exception=ot,me.DEBUG=!!me.DEBUG,me.isLoggingEnabled=!!me.isLoggingEnabled,me.platform=me.getPlatform(),me.isNative=me.isNativePlatform(),me},Qe=(ft=>ft.Capacitor=_e(ft))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ke=Qe.registerPlugin;class mt{constructor(Je){this.listeners={},this.retainedEventArguments={},this.windowListeners={},Je&&(console.warn(`Capacitor WebPlugin "${Je.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Je)}addListener(Je,Nt){var Ot=this;let un=!1;this.listeners[Je]||(this.listeners[Je]=[],un=!0),this.listeners[Je].push(Nt);const we=this.windowListeners[Je];we&&!we.registered&&this.addWindowListener(we),un&&this.sendRetainedArgumentsForEvent(Je);const me=function(){var oe=(0,d.A)(function*(){return Ot.removeListener(Je,Nt)});return function(){return oe.apply(this,arguments)}}();return Promise.resolve({remove:me})}removeAllListeners(){var Je=this;return(0,d.A)(function*(){Je.listeners={};for(const Nt in Je.windowListeners)Je.removeWindowListener(Je.windowListeners[Nt]);Je.windowListeners={}})()}notifyListeners(Je,Nt,Ot){const un=this.listeners[Je];if(un)un.forEach(Ge=>Ge(Nt));else if(Ot){let Ge=this.retainedEventArguments[Je];Ge||(Ge=[]),Ge.push(Nt),this.retainedEventArguments[Je]=Ge}}hasListeners(Je){return!!this.listeners[Je].length}registerWindowListener(Je,Nt){this.windowListeners[Nt]={registered:!1,windowEventName:Je,pluginEventName:Nt,handler:Ot=>{this.notifyListeners(Nt,Ot)}}}unimplemented(Je="not implemented"){return new Qe.Exception(Je,Be.Unimplemented)}unavailable(Je="not available"){return new Qe.Exception(Je,Be.Unavailable)}removeListener(Je,Nt){var Ot=this;return(0,d.A)(function*(){const un=Ot.listeners[Je];if(!un)return;const Ge=un.indexOf(Nt);Ot.listeners[Je].splice(Ge,1),Ot.listeners[Je].length||Ot.removeWindowListener(Ot.windowListeners[Je])})()}addWindowListener(Je){window.addEventListener(Je.windowEventName,Je.handler),Je.registered=!0}removeWindowListener(Je){Je&&(window.removeEventListener(Je.windowEventName,Je.handler),Je.registered=!1)}sendRetainedArgumentsForEvent(Je){const Nt=this.retainedEventArguments[Je];Nt&&(delete this.retainedEventArguments[Je],Nt.forEach(Ot=>{this.notifyListeners(Je,Ot)}))}}const Mt=ft=>encodeURIComponent(ft).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),At=ft=>ft.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Te extends mt{getCookies(){return(0,d.A)(function*(){const Je=document.cookie,Nt={};return Je.split(";").forEach(Ot=>{if(Ot.length<=0)return;let[un,Ge]=Ot.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");un=At(un).trim(),Ge=At(Ge).trim(),Nt[un]=Ge}),Nt})()}setCookie(Je){return(0,d.A)(function*(){try{const Nt=Mt(Je.key),Ot=Mt(Je.value),un=`; expires=${(Je.expires||"").replace("expires=","")}`,Ge=(Je.path||"/").replace("path=",""),we=null!=Je.url&&Je.url.length>0?`domain=${Je.url}`:"";document.cookie=`${Nt}=${Ot||""}${un}; path=${Ge}; ${we};`}catch(Nt){return Promise.reject(Nt)}})()}deleteCookie(Je){return(0,d.A)(function*(){try{document.cookie=`${Je.key}=; Max-Age=0`}catch(Nt){return Promise.reject(Nt)}})()}clearCookies(){return(0,d.A)(function*(){try{const Je=document.cookie.split(";")||[];for(const Nt of Je)document.cookie=Nt.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Je){return Promise.reject(Je)}})()}clearAllCookies(){var Je=this;return(0,d.A)(function*(){try{yield Je.clearCookies()}catch(Nt){return Promise.reject(Nt)}})()}}Ke("CapacitorCookies",{web:()=>new Te});const Me=function(){var ft=(0,d.A)(function*(Je){return new Promise((Nt,Ot)=>{const un=new FileReader;un.onload=()=>{const Ge=un.result;Nt(Ge.indexOf(",")>=0?Ge.split(",")[1]:Ge)},un.onerror=Ge=>Ot(Ge),un.readAsDataURL(Je)})});return function(Nt){return ft.apply(this,arguments)}}();class he extends mt{request(Je){return(0,d.A)(function*(){const Nt=((ft,Je={})=>{const Nt=Object.assign({method:ft.method||"GET",headers:ft.headers},Je),un=((ft={})=>{const Je=Object.keys(ft);return Object.keys(ft).map(un=>un.toLocaleLowerCase()).reduce((un,Ge,we)=>(un[Ge]=ft[Je[we]],un),{})})(ft.headers)["content-type"]||"";if("string"==typeof ft.data)Nt.body=ft.data;else if(un.includes("application/x-www-form-urlencoded")){const Ge=new URLSearchParams;for(const[we,me]of Object.entries(ft.data||{}))Ge.set(we,me);Nt.body=Ge.toString()}else if(un.includes("multipart/form-data")||ft.data instanceof FormData){const Ge=new FormData;if(ft.data instanceof FormData)ft.data.forEach((me,De)=>{Ge.append(De,me)});else for(const me of Object.keys(ft.data))Ge.append(me,ft.data[me]);Nt.body=Ge;const we=new Headers(Nt.headers);we.delete("content-type"),Nt.headers=we}else(un.includes("application/json")||"object"==typeof ft.data)&&(Nt.body=JSON.stringify(ft.data));return Nt})(Je,Je.webFetchExtra),Ot=((ft,Je=!0)=>ft?Object.entries(ft).reduce((Ot,un)=>{const[Ge,we]=un;let me,De;return Array.isArray(we)?(De="",we.forEach(oe=>{me=Je?encodeURIComponent(oe):oe,De+=`${Ge}=${me}&`}),De.slice(0,-1)):(me=Je?encodeURIComponent(we):we,De=`${Ge}=${me}`),`${Ot}&${De}`},"").substr(1):null)(Je.params,Je.shouldEncodeUrlParams),un=Ot?`${Je.url}?${Ot}`:Je.url,Ge=yield fetch(un,Nt),we=Ge.headers.get("content-type")||"";let De,oe,{responseType:me="text"}=Ge.ok?Je:{};switch(we.includes("application/json")&&(me="json"),me){case"arraybuffer":case"blob":oe=yield Ge.blob(),De=yield Me(oe);break;case"json":De=yield Ge.json();break;default:De=yield Ge.text()}const Ne={};return Ge.headers.forEach((ze,Ze)=>{Ne[Ze]=ze}),{data:De,headers:Ne,status:Ge.status,url:Ge.url}})()}get(Je){var Nt=this;return(0,d.A)(function*(){return Nt.request(Object.assign(Object.assign({},Je),{method:"GET"}))})()}post(Je){var Nt=this;return(0,d.A)(function*(){return Nt.request(Object.assign(Object.assign({},Je),{method:"POST"}))})()}put(Je){var Nt=this;return(0,d.A)(function*(){return Nt.request(Object.assign(Object.assign({},Je),{method:"PUT"}))})()}patch(Je){var Nt=this;return(0,d.A)(function*(){return Nt.request(Object.assign(Object.assign({},Je),{method:"PATCH"}))})()}delete(Je){var Nt=this;return(0,d.A)(function*(){return Nt.request(Object.assign(Object.assign({},Je),{method:"DELETE"}))})()}}Ke("CapacitorHttp",{web:()=>new he})},5504:(Pn,Dt,V)=>{"use strict";V.d(Dt,{$:()=>Xe,A:()=>_e,G:()=>Ke,K:()=>fs,L:()=>ho,N:()=>Xn,P:()=>sc,R:()=>Ki,U:()=>qn,V:()=>No,W:()=>ta,X:()=>Ns,Y:()=>To,Z:()=>ni,_:()=>fe,a:()=>Xa,a0:()=>Wn,a1:()=>Z,a2:()=>ae,a3:()=>ye,a4:()=>ki,a5:()=>yi,a6:()=>Os,a7:()=>za,a8:()=>ms,a9:()=>al,aA:()=>Ko,aB:()=>xe,aC:()=>he,aD:()=>uu,aE:()=>Qt,aF:()=>Ir,aG:()=>ln,aH:()=>Mc,aI:()=>Br,aJ:()=>Hn,aN:()=>Qs,aQ:()=>xr,aa:()=>Tc,ab:()=>Oo,ac:()=>Wa,ad:()=>ll,ae:()=>ia,af:()=>Ls,ag:()=>Vl,ah:()=>iu,ak:()=>vs,al:()=>rc,am:()=>Ka,ap:()=>oi,aq:()=>q,as:()=>Sn,at:()=>br,au:()=>ft,av:()=>Ro,aw:()=>wi,ax:()=>Te,ay:()=>eo,az:()=>Ba,b:()=>Zi,c:()=>Ps,d:()=>wa,e:()=>ad,f:()=>zh,g:()=>cd,h:()=>Wd,i:()=>id,j:()=>Kd,k:()=>eh,l:()=>Js,m:()=>tl,o:()=>Yf,p:()=>Be,r:()=>oc,s:()=>dl,u:()=>Hl});var d=V(467),o=V(8742),B=V(1076),ve=V(8041),W=V(1635),Ee=V(1362);const Be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},_e={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ke=function et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ct=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new B.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ve.Vy("@firebase/auth");function At(w,...p){ut.logLevel<=ve.$b.ERROR&&ut.error(`Auth (${o.SDK_VERSION}): ${w}`,...p)}function Te(w,...p){throw rt(w,...p)}function xe(w,...p){return rt(w,...p)}function Me(w,p,_){const P=Object.assign(Object.assign({},ct()),{[p]:_});return new B.FA("auth","Firebase",P).create(p,{appName:w.name})}function it(w){return Me(w,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dt(w,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Te(w,"argument-error"),Me(w,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(w,...p){if("string"!=typeof w){const _=p[0],P=[...p.slice(1)];return P[0]&&(P[0].appName=w.name),w._errorFactory.create(_,...P)}return yt.create(w,...p)}function he(w,p,..._){if(!w)throw rt(p,..._)}function ht(w){const p="INTERNAL ASSERTION FAILED: "+w;throw At(p),new Error(p)}function ft(w,p){w||ht(p)}function Je(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function Nt(){return"http:"===Ot()||"https:"===Ot()}function Ot(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class we{constructor(p,_){this.shortDelay=p,this.longDelay=_,ft(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.jZ)()||(0,B.lV)()}get(){return function un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,B.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function me(w,p){ft(w.emulator,"Emulator should always be set here");const{url:_}=w.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class De{static initialize(p,_,P){this.fetchImpl=p,_&&(this.headersImpl=_),P&&(this.responseImpl=P)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ne=new we(3e4,6e4);function ze(w,p){return w.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:w.tenantId}):p}function Ze(w,p,_,P){return je.apply(this,arguments)}function je(){return(je=(0,d.A)(function*(w,p,_,P,ne={}){return st(w,ne,(0,d.A)(function*(){let Ie={},St={};P&&("GET"===p?St=P:Ie={body:JSON.stringify(P)});const en=(0,B.Am)(Object.assign({key:w.config.apiKey},St)).slice(1),bn=yield w._getAdditionalHeaders();bn["Content-Type"]="application/json",w.languageCode&&(bn["X-Firebase-Locale"]=w.languageCode);const ar=Object.assign({method:p,headers:bn},Ie);return(0,B.c1)()||(ar.referrerPolicy="no-referrer"),De.fetch()(It(w,w.config.apiHost,_,en),ar)}))})).apply(this,arguments)}function st(w,p,_){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.A)(function*(w,p,_){w._canInitEmulator=!1;const P=Object.assign(Object.assign({},oe),p);try{const ne=new kn(w),Ie=yield Promise.race([_(),ne.promise]);ne.clearNetworkTimeout();const St=yield Ie.json();if("needConfirmation"in St)throw Gn(w,"account-exists-with-different-credential",St);if(Ie.ok&&!("errorMessage"in St))return St;{const en=Ie.ok?St.errorMessage:St.error.message,[bn,ar]=en.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===bn)throw Gn(w,"credential-already-in-use",St);if("EMAIL_EXISTS"===bn)throw Gn(w,"email-already-in-use",St);if("USER_DISABLED"===bn)throw Gn(w,"user-disabled",St);const Er=P[bn]||bn.toLowerCase().replace(/[_\s]+/g,"-");if(ar)throw Me(w,Er,ar);Te(w,Er)}}catch(ne){if(ne instanceof B.g)throw ne;Te(w,"network-request-failed",{message:String(ne)})}})).apply(this,arguments)}function Ft(w,p,_,P){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.A)(function*(w,p,_,P,ne={}){const Ie=yield Ze(w,p,_,P,ne);return"mfaPendingCredential"in Ie&&Te(w,"multi-factor-auth-required",{_serverResponse:Ie}),Ie})).apply(this,arguments)}function It(w,p,_,P){const ne=`${p}${_}?${P}`;return w.config.emulator?me(w.config,ne):`${w.config.apiScheme}://${ne}`}function mn(w){switch(w){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,P)=>{this.timer=setTimeout(()=>P(xe(this.auth,"network-request-failed")),Ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(w,p,_){const P={appName:w.name};_.email&&(P.email=_.email),_.phoneNumber&&(P.phoneNumber=_.phoneNumber);const ne=xe(w,p,P);return ne.customData._tokenResponse=_,ne}function qt(w){return void 0!==w&&void 0!==w.getResponse}function jt(w){return void 0!==w&&void 0!==w.enterprise}class On{constructor(p){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=p.recaptchaEnforcementState}getProviderEnforcementState(p){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const _ of this.recaptchaEnforcementState)if(_.provider&&_.provider===p)return mn(_.enforcementState);return null}isProviderEnabled(p){return"ENFORCE"===this.getProviderEnforcementState(p)||"AUDIT"===this.getProviderEnforcementState(p)}}function ke(){return(ke=(0,d.A)(function*(w){return(yield Ze(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fe(w,p){return kt.apply(this,arguments)}function kt(){return(kt=(0,d.A)(function*(w,p){return Ze(w,"GET","/v2/recaptchaConfig",ze(w,p))})).apply(this,arguments)}function Qn(){return(Qn=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Vn(){return(Vn=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tn(w,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function rr(w){if(w)try{const p=new Date(Number(w));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function dr(){return(dr=(0,d.A)(function*(w,p=!1){const _=(0,B.Ku)(w),P=yield _.getIdToken(p),ne=Cn(P);he(ne&&ne.exp&&ne.auth_time&&ne.iat,_.auth,"internal-error");const Ie="object"==typeof ne.firebase?ne.firebase:void 0,St=null==Ie?void 0:Ie.sign_in_provider;return{claims:ne,token:P,authTime:rr(jr(ne.auth_time)),issuedAtTime:rr(jr(ne.iat)),expirationTime:rr(jr(ne.exp)),signInProvider:St||null,signInSecondFactor:(null==Ie?void 0:Ie.sign_in_second_factor)||null}})).apply(this,arguments)}function jr(w){return 1e3*Number(w)}function Cn(w){const[p,_,P]=w.split(".");if(void 0===p||void 0===_||void 0===P)return At("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,B.u)(_);return ne?JSON.parse(ne):(At("Failed to decode base64 JWT payload"),null)}catch(ne){return At("Caught error parsing JWT payload as JSON",null==ne?void 0:ne.toString()),null}}function Cr(w){const p=Cn(w);return he(p,"internal-error"),he(typeof p.exp<"u","internal-error"),he(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}function Un(w,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.A)(function*(w,p,_=!1){if(_)return p;try{return yield p}catch(P){throw P instanceof B.g&&function Dn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}(P)&&w.auth.currentUser===w&&(yield w.auth.signOut()),P}})).apply(this,arguments)}class Ei{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const P=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),P}{this.errorBackoff=3e4;const ne=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,ne)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const P=this.getInterval(p);this.timerId=setTimeout((0,d.A)(function*(){yield _.iteration()}),P)}iteration(){var p=this;return(0,d.A)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null==_?void 0:_.code)&&p.schedule(!0))}p.schedule()})()}}class er{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=rr(this.lastLoginAt),this.creationTime=rr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(w){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.A)(function*(w){var p;const _=w.auth,P=yield w.getIdToken(),ne=yield Un(w,Tn(_,{idToken:P}));he(null==ne?void 0:ne.users.length,_,"internal-error");const Ie=ne.users[0];w._notifyReloadListener(Ie);const St=null!==(p=Ie.providerUserInfo)&&void 0!==p&&p.length?Kt(Ie.providerUserInfo):[],en=function wt(w,p){return[...w.filter(P=>!p.some(ne=>ne.providerId===P.providerId)),...p]}(w.providerData,St),Er=!!w.isAnonymous&&!(w.email&&Ie.passwordHash||null!=en&&en.length),fi={uid:Ie.localId,displayName:Ie.displayName||null,photoURL:Ie.photoUrl||null,email:Ie.email||null,emailVerified:Ie.emailVerified||!1,phoneNumber:Ie.phoneNumber||null,tenantId:Ie.tenantId||null,providerData:en,metadata:new er(Ie.createdAt,Ie.lastLoginAt),isAnonymous:Er};Object.assign(w,fi)})).apply(this,arguments)}function Gt(){return(Gt=(0,d.A)(function*(w){const p=(0,B.Ku)(w);yield fr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Kt(w){return w.map(p=>{var{providerId:_}=p,P=(0,W.Tt)(p,["providerId"]);return{providerId:_,uid:P.rawId||"",displayName:P.displayName||null,email:P.email||null,phoneNumber:P.phoneNumber||null,photoURL:P.photoUrl||null}})}function Ue(){return(Ue=(0,d.A)(function*(w,p){const _=yield st(w,{},(0,d.A)(function*(){const P=(0,B.Am)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:ne,apiKey:Ie}=w.config,St=It(w,ne,"/v1/token",`key=${Ie}`),en=yield w._getAdditionalHeaders();return en["Content-Type"]="application/x-www-form-urlencoded",De.fetch()(St,{method:"POST",headers:en,body:P})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}function J(){return(J=(0,d.A)(function*(w,p){return Ze(w,"POST","/v2/accounts:revokeToken",ze(w,p))})).apply(this,arguments)}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){he(p.idToken,"internal-error"),he(typeof p.idToken<"u","internal-error"),he(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):Cr(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}updateFromIdToken(p){he(0!==p.length,"internal-error");const _=Cr(p);this.updateTokensAndExpiration(p,null,_)}getToken(p,_=!1){var P=this;return(0,d.A)(function*(){return _||!P.accessToken||P.isExpired?(he(P.refreshToken,p,"user-token-expired"),P.refreshToken?(yield P.refresh(p,P.refreshToken),P.accessToken):null):P.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var P=this;return(0,d.A)(function*(){const{accessToken:ne,refreshToken:Ie,expiresIn:St}=yield function bt(w,p){return Ue.apply(this,arguments)}(p,_);P.updateTokensAndExpiration(ne,Ie,Number(St))})()}updateTokensAndExpiration(p,_,P){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*P}static fromJSON(p,_){const{refreshToken:P,accessToken:ne,expirationTime:Ie}=_,St=new Q;return P&&(he("string"==typeof P,"internal-error",{appName:p}),St.refreshToken=P),ne&&(he("string"==typeof ne,"internal-error",{appName:p}),St.accessToken=ne),Ie&&(he("number"==typeof Ie,"internal-error",{appName:p}),St.expirationTime=Ie),St}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return ht("not implemented")}}function re(w,p){he("string"==typeof w||typeof w>"u","internal-error",{appName:p})}class Oe{constructor(p){var{uid:_,auth:P,stsTokenManager:ne}=p,Ie=(0,W.Tt)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=P,this.stsTokenManager=ne,this.accessToken=ne.accessToken,this.displayName=Ie.displayName||null,this.email=Ie.email||null,this.emailVerified=Ie.emailVerified||!1,this.phoneNumber=Ie.phoneNumber||null,this.photoURL=Ie.photoURL||null,this.isAnonymous=Ie.isAnonymous||!1,this.tenantId=Ie.tenantId||null,this.providerData=Ie.providerData?[...Ie.providerData]:[],this.metadata=new er(Ie.createdAt||void 0,Ie.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,d.A)(function*(){const P=yield Un(_,_.stsTokenManager.getToken(_.auth,p));return he(P,_.auth,"internal-error"),_.accessToken!==P&&(_.accessToken=P,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),P})()}getIdTokenResult(p){return function Yn(w){return dr.apply(this,arguments)}(this,p)}reload(){return function _n(w){return Gt.apply(this,arguments)}(this)}_assign(p){this!==p&&(he(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Oe(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var P=this;return(0,d.A)(function*(){let ne=!1;p.idToken&&p.idToken!==P.stsTokenManager.accessToken&&(P.stsTokenManager.updateFromServerResponse(p),ne=!0),_&&(yield fr(P)),yield P.auth._persistUserIfCurrent(P),ne&&P.auth._notifyListenersIfCurrent(P)})()}delete(){var p=this;return(0,d.A)(function*(){if((0,o._isFirebaseServerApp)(p.auth.app))return Promise.reject(it(p.auth));const _=yield p.getIdToken();return yield Un(p,function xt(w,p){return Qn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var P,ne,Ie,St,en,bn,ar,Er;const fi=null!==(P=_.displayName)&&void 0!==P?P:void 0,Sa=null!==(ne=_.email)&&void 0!==ne?ne:void 0,nl=null!==(Ie=_.phoneNumber)&&void 0!==Ie?Ie:void 0,$c=null!==(St=_.photoURL)&&void 0!==St?St:void 0,th=null!==(en=_.tenantId)&&void 0!==en?en:void 0,ha=null!==(bn=_._redirectEventId)&&void 0!==bn?bn:void 0,mu=null!==(ar=_.createdAt)&&void 0!==ar?ar:void 0,xl=null!==(Er=_.lastLoginAt)&&void 0!==Er?Er:void 0,{uid:ql,emailVerified:_u,isAnonymous:gc,providerData:mc,stsTokenManager:nh}=_;he(ql&&nh,p,"internal-error");const Jh=Q.fromJSON(this.name,nh);he("string"==typeof ql,p,"internal-error"),re(fi,p.name),re(Sa,p.name),he("boolean"==typeof _u,p,"internal-error"),he("boolean"==typeof gc,p,"internal-error"),re(nl,p.name),re($c,p.name),re(th,p.name),re(ha,p.name),re(mu,p.name),re(xl,p.name);const vu=new Oe({uid:ql,auth:p,email:Sa,emailVerified:_u,displayName:fi,isAnonymous:gc,photoURL:$c,phoneNumber:nl,tenantId:th,stsTokenManager:Jh,createdAt:mu,lastLoginAt:xl});return mc&&Array.isArray(mc)&&(vu.providerData=mc.map(yu=>Object.assign({},yu))),ha&&(vu._redirectEventId=ha),vu}static _fromIdTokenResponse(p,_,P=!1){return(0,d.A)(function*(){const ne=new Q;ne.updateFromServerResponse(_);const Ie=new Oe({uid:_.localId,auth:p,stsTokenManager:ne,isAnonymous:P});return yield fr(Ie),Ie})()}static _fromGetAccountInfoResponse(p,_,P){return(0,d.A)(function*(){const ne=_.users[0];he(void 0!==ne.localId,"internal-error");const Ie=void 0!==ne.providerUserInfo?Kt(ne.providerUserInfo):[],St=!(ne.email&&ne.passwordHash||null!=Ie&&Ie.length),en=new Q;en.updateFromIdToken(P);const bn=new Oe({uid:ne.localId,auth:p,stsTokenManager:en,isAnonymous:St}),ar={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:Ie,metadata:new er(ne.createdAt,ne.lastLoginAt),isAnonymous:!(ne.email&&ne.passwordHash||null!=Ie&&Ie.length)};return Object.assign(bn,ar),bn})()}}const $e=new Map;function Qt(w){ft(w instanceof Function,"Expected a class definition");let p=$e.get(w);return p?(ft(p instanceof w,"Instance stored in cache mismatched with class"),p):(p=new w,$e.set(w,p),p)}const qn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(_,P){var ne=this;return(0,d.A)(function*(){ne.storage[_]=P})()}_get(_){var P=this;return(0,d.A)(function*(){const ne=P.storage[_];return void 0===ne?null:ne})()}_remove(_){var P=this;return(0,d.A)(function*(){delete P.storage[_]})()}_addListener(_,P){}_removeListener(_,P){}}return w.type="NONE",w})();function Ir(w,p,_){return`firebase:${w}:${p}:${_}`}class gt{constructor(p,_,P){this.persistence=p,this.auth=_,this.userKey=P;const{config:ne,name:Ie}=this.auth;this.fullUserKey=Ir(this.userKey,ne.apiKey,Ie),this.fullPersistenceKey=Ir("persistence",ne.apiKey,Ie),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.A)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Oe._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,d.A)(function*(){if(_.persistence===p)return;const P=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,P?_.setCurrentUser(P):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,P="authUser"){return(0,d.A)(function*(){if(!_.length)return new gt(Qt(qn),p,P);const ne=(yield Promise.all(_.map(function(){var ar=(0,d.A)(function*(Er){if(yield Er._isAvailable())return Er});return function(Er){return ar.apply(this,arguments)}}()))).filter(ar=>ar);let Ie=ne[0]||Qt(qn);const St=Ir(P,p.config.apiKey,p.name);let en=null;for(const ar of _)try{const Er=yield ar._get(St);if(Er){const fi=Oe._fromJSON(p,Er);ar!==Ie&&(en=fi),Ie=ar;break}}catch{}const bn=ne.filter(ar=>ar._shouldAllowMigration);return Ie._shouldAllowMigration&&bn.length?(Ie=bn[0],en&&(yield Ie._set(St,en.toJSON())),yield Promise.all(_.map(function(){var ar=(0,d.A)(function*(Er){if(Er!==Ie)try{yield Er._remove(St)}catch{}});return function(Er){return ar.apply(this,arguments)}}())),new gt(Ie,p,P)):new gt(Ie,p,P)})()}}function vr(w){const p=w.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Jn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Mn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Wo(p))return"Blackberry";if($i(p))return"Webos";if(Hr(p))return"Safari";if((p.includes("chrome/")||Qr(p))&&!p.includes("edge/"))return"Chrome";if(wi(p))return"Android";{const P=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==P?void 0:P.length))return P[1]}return"Other"}function Mn(w=(0,B.ZQ)()){return/firefox\//i.test(w)}function Hr(w=(0,B.ZQ)()){const p=w.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Qr(w=(0,B.ZQ)()){return/crios\//i.test(w)}function Jn(w=(0,B.ZQ)()){return/iemobile/i.test(w)}function wi(w=(0,B.ZQ)()){return/android/i.test(w)}function Wo(w=(0,B.ZQ)()){return/blackberry/i.test(w)}function $i(w=(0,B.ZQ)()){return/webos/i.test(w)}function Ro(w=(0,B.ZQ)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Ko(w=(0,B.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function be(w=(0,B.ZQ)()){return Ro(w)||wi(w)||$i(w)||Wo(w)||/windows phone/i.test(w)||Jn(w)}function Ct(w,p=[]){let _;switch(w){case"Browser":_=vr((0,B.ZQ)());break;case"Worker":_=`${vr((0,B.ZQ)())}-${w}`;break;default:_=w}const P=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${o.SDK_VERSION}/${P}`}class de{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const P=Ie=>new Promise((St,en)=>{try{St(p(Ie))}catch(bn){en(bn)}});P.onAbort=_,this.queue.push(P);const ne=this.queue.length-1;return()=>{this.queue[ne]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,d.A)(function*(){if(_.auth.currentUser===p)return;const P=[];try{for(const ne of _.queue)yield ne(p),ne.onAbort&&P.push(ne.onAbort)}catch(ne){P.reverse();for(const Ie of P)try{Ie()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null==ne?void 0:ne.message})}})()}}function He(){return(He=(0,d.A)(function*(w,p={}){return Ze(w,"GET","/v2/passwordPolicy",ze(w,p))})).apply(this,arguments)}class dn{constructor(p){var _,P,ne,Ie;const St=p.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(_=St.minPasswordLength)&&void 0!==_?_:6,St.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=St.maxPasswordLength),void 0!==St.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=St.containsLowercaseCharacter),void 0!==St.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=St.containsUppercaseCharacter),void 0!==St.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=St.containsNumericCharacter),void 0!==St.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=St.containsNonAlphanumericCharacter),this.enforcementState=p.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(ne=null===(P=p.allowedNonAlphanumericCharacters)||void 0===P?void 0:P.join(""))&&void 0!==ne?ne:"",this.forceUpgradeOnSignin=null!==(Ie=p.forceUpgradeOnSignin)&&void 0!==Ie&&Ie,this.schemaVersion=p.schemaVersion}validatePassword(p){var _,P,ne,Ie,St,en;const bn={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(p,bn),this.validatePasswordCharacterOptions(p,bn),bn.isValid&&(bn.isValid=null===(_=bn.meetsMinPasswordLength)||void 0===_||_),bn.isValid&&(bn.isValid=null===(P=bn.meetsMaxPasswordLength)||void 0===P||P),bn.isValid&&(bn.isValid=null===(ne=bn.containsLowercaseLetter)||void 0===ne||ne),bn.isValid&&(bn.isValid=null===(Ie=bn.containsUppercaseLetter)||void 0===Ie||Ie),bn.isValid&&(bn.isValid=null===(St=bn.containsNumericCharacter)||void 0===St||St),bn.isValid&&(bn.isValid=null===(en=bn.containsNonAlphanumericCharacter)||void 0===en||en),bn}validatePasswordLengthOptions(p,_){const P=this.customStrengthOptions.minPasswordLength,ne=this.customStrengthOptions.maxPasswordLength;P&&(_.meetsMinPasswordLength=p.length>=P),ne&&(_.meetsMaxPasswordLength=p.length<=ne)}validatePasswordCharacterOptions(p,_){let P;this.updatePasswordCharacterOptionsStatuses(_,!1,!1,!1,!1);for(let ne=0;ne<p.length;ne++)P=p.charAt(ne),this.updatePasswordCharacterOptionsStatuses(_,P>="a"&&P<="z",P>="A"&&P<="Z",P>="0"&&P<="9",this.allowedNonAlphanumericCharacters.includes(P))}updatePasswordCharacterOptionsStatuses(p,_,P,ne,Ie){this.customStrengthOptions.containsLowercaseLetter&&(p.containsLowercaseLetter||(p.containsLowercaseLetter=_)),this.customStrengthOptions.containsUppercaseLetter&&(p.containsUppercaseLetter||(p.containsUppercaseLetter=P)),this.customStrengthOptions.containsNumericCharacter&&(p.containsNumericCharacter||(p.containsNumericCharacter=ne)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(p.containsNonAlphanumericCharacter||(p.containsNonAlphanumericCharacter=Ie))}}class Rn{constructor(p,_,P,ne){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=P,this.config=ne,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ar(this),this.idTokenSubscription=new Ar(this),this.beforeStateQueue=new de(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=ne.sdkClientVersion}_initializeWithPersistence(p,_){var P=this;return _&&(this._popupRedirectResolver=Qt(_)),this._initializationPromise=this.queue((0,d.A)(function*(){var ne,Ie;if(!P._deleted&&(P.persistenceManager=yield gt.create(P,p),!P._deleted)){if(null!==(ne=P._popupRedirectResolver)&&void 0!==ne&&ne._shouldInitProactively)try{yield P._popupRedirectResolver._initialize(P)}catch{}yield P.initializeCurrentUser(_),P.lastNotifiedUid=(null===(Ie=P.currentUser)||void 0===Ie?void 0:Ie.uid)||null,!P._deleted&&(P._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.A)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUserFromIdToken(p){var _=this;return(0,d.A)(function*(){try{const P=yield Tn(_,{idToken:p}),ne=yield Oe._fromGetAccountInfoResponse(_,P,p);yield _.directlySetCurrentUser(ne)}catch(P){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",P),yield _.directlySetCurrentUser(null)}})()}initializeCurrentUser(p){var _=this;return(0,d.A)(function*(){var P;if((0,o._isFirebaseServerApp)(_.app)){const en=_.app.settings.authIdToken;return en?new Promise(bn=>{setTimeout(()=>_.initializeCurrentUserFromIdToken(en).then(bn,bn))}):_.directlySetCurrentUser(null)}const ne=yield _.assertedPersistence.getCurrentUser();let Ie=ne,St=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const en=null===(P=_.redirectUser)||void 0===P?void 0:P._redirectEventId,bn=null==Ie?void 0:Ie._redirectEventId,ar=yield _.tryRedirectSignIn(p);(!en||en===bn)&&null!=ar&&ar.user&&(Ie=ar.user,St=!0)}if(!Ie)return _.directlySetCurrentUser(null);if(!Ie._redirectEventId){if(St)try{yield _.beforeStateQueue.runMiddleware(Ie)}catch(en){Ie=ne,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(en))}return Ie?_.reloadAndSetCurrentUserOrClear(Ie):_.directlySetCurrentUser(null)}return he(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===Ie._redirectEventId?_.directlySetCurrentUser(Ie):_.reloadAndSetCurrentUserOrClear(Ie)})()}tryRedirectSignIn(p){var _=this;return(0,d.A)(function*(){let P=null;try{P=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return P})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,d.A)(function*(){try{yield fr(p)}catch(P){if("auth/network-request-failed"!==(null==P?void 0:P.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ge(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var p=this;return(0,d.A)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,d.A)(function*(){if((0,o._isFirebaseServerApp)(_.app))return Promise.reject(it(_));const P=p?(0,B.Ku)(p):null;return P&&he(P.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(P&&P._clone(_))})()}_updateCurrentUser(p,_=!1){var P=this;return(0,d.A)(function*(){if(!P._deleted)return p&&he(P.tenantId===p.tenantId,P,"tenant-id-mismatch"),_||(yield P.beforeStateQueue.runMiddleware(p)),P.queue((0,d.A)(function*(){yield P.directlySetCurrentUser(p),P.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.A)(function*(){return(0,o._isFirebaseServerApp)(p.app)?Promise.reject(it(p)):(yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0))})()}setPersistence(p){var _=this;return(0,o._isFirebaseServerApp)(this.app)?Promise.reject(it(this)):this.queue((0,d.A)(function*(){yield _.assertedPersistence.setPersistence(Qt(p))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(p){var _=this;return(0,d.A)(function*(){_._getPasswordPolicyInternal()||(yield _._updatePasswordPolicy());const P=_._getPasswordPolicyInternal();return P.schemaVersion!==_.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(_._errorFactory.create("unsupported-password-policy-schema-version",{})):P.validatePassword(p)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var p=this;return(0,d.A)(function*(){const _=yield function le(w){return He.apply(this,arguments)}(p),P=new dn(_);null===p.tenantId?p._projectPasswordPolicy=P:p._tenantPasswordPolicies[p.tenantId]=P})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.FA("auth","Firebase",p())}onAuthStateChanged(p,_,P){return this.registerStateListener(this.authStateSubscription,p,_,P)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,P){return this.registerStateListener(this.idTokenSubscription,p,_,P)}authStateReady(){return new Promise((p,_)=>{if(this.currentUser)p();else{const P=this.onAuthStateChanged(()=>{P(),p()},_)}})}revokeAccessToken(p){var _=this;return(0,d.A)(function*(){if(_.currentUser){const P=yield _.currentUser.getIdToken(),ne={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:p,idToken:P};null!=_.tenantId&&(ne.tenantId=_.tenantId),yield function at(w,p){return J.apply(this,arguments)}(_,ne)}})()}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var P=this;return(0,d.A)(function*(){const ne=yield P.getOrInitRedirectPersistenceManager(_);return null===p?ne.removeCurrentUser():ne.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,d.A)(function*(){if(!_.redirectPersistenceManager){const P=p&&Qt(p)||_._popupRedirectResolver;he(P,_,"argument-error"),_.redirectPersistenceManager=yield gt.create(_,[Qt(P._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,d.A)(function*(){var P,ne;return _._isInitialized&&(yield _.queue((0,d.A)(function*(){}))),(null===(P=_._currentUser)||void 0===P?void 0:P._redirectEventId)===p?_._currentUser:(null===(ne=_.redirectUser)||void 0===ne?void 0:ne._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,d.A)(function*(){if(p===_.currentUser)return _.queue((0,d.A)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const P=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==P&&(this.lastNotifiedUid=P,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,P,ne){if(this._deleted)return()=>{};const Ie="function"==typeof _?_:_.next.bind(_);let St=!1;const en=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(en,this,"internal-error"),en.then(()=>{St||Ie(this.currentUser)}),"function"==typeof _){const bn=p.addObserver(_,P,ne);return()=>{St=!0,bn()}}{const bn=p.addObserver(_);return()=>{St=!0,bn()}}}directlySetCurrentUser(p){var _=this;return(0,d.A)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ct(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.A)(function*(){var _;const P={"X-Client-Version":p.clientVersion};p.app.options.appId&&(P["X-Firebase-gmpid"]=p.app.options.appId);const ne=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();ne&&(P["X-Firebase-Client"]=ne);const Ie=yield p._getAppCheckToken();return Ie&&(P["X-Firebase-AppCheck"]=Ie),P})()}_getAppCheckToken(){var p=this;return(0,d.A)(function*(){var _;const P=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return null!=P&&P.error&&function Mt(w,...p){ut.logLevel<=ve.$b.WARN&&ut.warn(`Auth (${o.SDK_VERSION}): ${w}`,...p)}(`Error while retrieving App Check token: ${P.error}`),null==P?void 0:P.token})()}}function Hn(w){return(0,B.Ku)(w)}class Ar{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.tD)(_=>this.observer=_)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tr={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hr(w){return tr.loadJS(w)}function ei(w){return`__${w}${Math.floor(1e6*Math.random())}`}class co{constructor(p){this.type="recaptcha-enterprise",this.auth=Hn(p)}verify(p="verify",_=!1){var P=this;return(0,d.A)(function*(){function Ie(){return Ie=(0,d.A)(function*(en){if(!_){if(null==en.tenantId&&null!=en._agentRecaptchaConfig)return en._agentRecaptchaConfig.siteKey;if(null!=en.tenantId&&void 0!==en._tenantRecaptchaConfigs[en.tenantId])return en._tenantRecaptchaConfigs[en.tenantId].siteKey}return new Promise(function(){var bn=(0,d.A)(function*(ar,Er){Fe(en,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(fi=>{if(void 0!==fi.recaptchaKey){const Sa=new On(fi);return null==en.tenantId?en._agentRecaptchaConfig=Sa:en._tenantRecaptchaConfigs[en.tenantId]=Sa,ar(Sa.siteKey)}Er(new Error("recaptcha Enterprise site key undefined"))}).catch(fi=>{Er(fi)})});return function(ar,Er){return bn.apply(this,arguments)}}())}),Ie.apply(this,arguments)}function St(en,bn,ar){const Er=window.grecaptcha;jt(Er)?Er.enterprise.ready(()=>{Er.enterprise.execute(en,{action:p}).then(fi=>{bn(fi)}).catch(()=>{bn("NO_RECAPTCHA")})}):ar(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((en,bn)=>{(function ne(en){return Ie.apply(this,arguments)})(P.auth).then(ar=>{if(!_&&jt(window.grecaptcha))St(ar,en,bn);else{if(typeof window>"u")return void bn(new Error("RecaptchaVerifier is only supported in browser"));let Er=function Ui(){return tr.recaptchaEnterpriseScript}();0!==Er.length&&(Er+=ar),hr(Er).then(()=>{St(ar,en,bn)}).catch(fi=>{bn(fi)})}}).catch(ar=>{bn(ar)})})})()}}function Io(w,p,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,d.A)(function*(w,p,_,P=!1){const ne=new co(w);let Ie;try{Ie=yield ne.verify(_)}catch{Ie=yield ne.verify(_,!0)}const St=Object.assign({},p);return Object.assign(St,P?{captchaResp:Ie}:{captchaResponse:Ie}),Object.assign(St,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(St,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),St})).apply(this,arguments)}function qi(w,p,_,P){return Bo.apply(this,arguments)}function Bo(){return Bo=(0,d.A)(function*(w,p,_,P){var ne;if(null!==(ne=w._getRecaptchaConfig())&&void 0!==ne&&ne.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ie=yield Io(w,p,_,"getOobCode"===_);return P(w,Ie)}return P(w,p).catch(function(){var Ie=(0,d.A)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log(`${_} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const en=yield Io(w,p,_,"getOobCode"===_);return P(w,en)}return Promise.reject(St)});return function(St){return Ie.apply(this,arguments)}}())}),Bo.apply(this,arguments)}function fs(w,p,_){const P=Hn(w);he(P._canInitEmulator,P,"emulator-config-failed"),he(/^https?:\/\//.test(p),P,"invalid-emulator-scheme");const ne=!(null==_||!_.disableWarnings),Ie=Fn(p),{host:St,port:en}=function $r(w){const p=Fn(w),_=/(\/\/)?([^?#/]+)/.exec(w.substr(p.length));if(!_)return{host:"",port:null};const P=_[2].split("@").pop()||"",ne=/^(\[[^\]]+\])(:|$)/.exec(P);if(ne){const Ie=ne[1];return{host:Ie,port:Ks(P.substr(Ie.length+1))}}{const[Ie,St]=P.split(":");return{host:Ie,port:Ks(St)}}}(p);P.config.emulator={url:`${Ie}//${St}${null===en?"":`:${en}`}/`},P.settings.appVerificationDisabledForTesting=!0,P.emulatorConfig=Object.freeze({host:St,port:en,protocol:Ie.replace(":",""),options:Object.freeze({disableWarnings:ne})}),ne||function Is(){function w(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Fn(w){const p=w.indexOf(":");return p<0?"":w.substr(0,p+1)}function Ks(w){if(!w)return null;const p=Number(w);return isNaN(p)?null:p}class ho{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return ht("not implemented")}_getIdTokenResponse(p){return ht("not implemented")}_linkToIdToken(p,_){return ht("not implemented")}_getReauthenticationResolver(p){return ht("not implemented")}}function Si(w,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:resetPassword",ze(w,p))})).apply(this,arguments)}function Mr(){return(Mr=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Xs(w,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:signUp",p)})).apply(this,arguments)}function Ri(){return(Ri=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",ze(w,p))})).apply(this,arguments)}function yr(w,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signInWithPassword",ze(w,p))})).apply(this,arguments)}function so(w,p){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:sendOobCode",ze(w,p))})).apply(this,arguments)}function xo(){return(xo=(0,d.A)(function*(w,p){return so(w,p)})).apply(this,arguments)}function bi(w,p){return F.apply(this,arguments)}function F(){return(F=(0,d.A)(function*(w,p){return so(w,p)})).apply(this,arguments)}function E(w,p){return O.apply(this,arguments)}function O(){return(O=(0,d.A)(function*(w,p){return so(w,p)})).apply(this,arguments)}function G(){return(G=(0,d.A)(function*(w,p){return so(w,p)})).apply(this,arguments)}function nt(){return(nt=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signInWithEmailLink",ze(w,p))})).apply(this,arguments)}function Et(){return(Et=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signInWithEmailLink",ze(w,p))})).apply(this,arguments)}class Ht extends ho{constructor(p,_,P,ne=null){super("password",P),this._email=p,this._password=_,this._tenantId=ne}static _fromEmailAndPassword(p,_){return new Ht(p,_,"password")}static _fromEmailAndCode(p,_,P=null){return new Ht(p,_,"emailLink",P)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(null!=_&&_.email&&null!=_&&_.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,d.A)(function*(){switch(_.signInMethod){case"password":return qi(p,{returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",yr);case"emailLink":return function se(w,p){return nt.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,_){var P=this;return(0,d.A)(function*(){switch(P.signInMethod){case"password":return qi(p,{idToken:_,returnSecureToken:!0,email:P._email,password:P._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xs);case"emailLink":return function tn(w,p){return Et.apply(this,arguments)}(p,{idToken:_,email:P._email,oobCode:P._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function an(w,p){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signInWithIdp",ze(w,p))})).apply(this,arguments)}class Xn extends ho{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Xn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:P,signInMethod:ne}=_,Ie=(0,W.Tt)(_,["providerId","signInMethod"]);if(!P||!ne)return null;const St=new Xn(P,ne);return St.idToken=Ie.idToken||void 0,St.accessToken=Ie.accessToken||void 0,St.secret=Ie.secret,St.nonce=Ie.nonce,St.pendingToken=Ie.pendingToken||null,St}_getIdTokenResponse(p){return an(p,this.buildRequest())}_linkToIdToken(p,_){const P=this.buildRequest();return P.idToken=_,an(p,P)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,an(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,B.Am)(_)}return p}}function Gr(){return(Gr=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:sendVerificationCode",ze(w,p))})).apply(this,arguments)}function ii(){return(ii=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signInWithPhoneNumber",ze(w,p))})).apply(this,arguments)}function di(){return(di=(0,d.A)(function*(w,p){const _=yield Ft(w,"POST","/v1/accounts:signInWithPhoneNumber",ze(w,p));if(_.temporaryProof)throw Gn(w,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const ao={USER_NOT_FOUND:"user-not-found"};function ji(){return(ji=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signInWithPhoneNumber",ze(w,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ao)})).apply(this,arguments)}class fo extends ho{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new fo({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new fo({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function vi(w,p){return ii.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function ui(w,p){return di.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Eo(w,p){return ji.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:P,verificationCode:ne}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:P,code:ne}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:P,phoneNumber:ne,temporaryProof:Ie}=p;return P||_||ne||Ie?new fo({verificationId:_,verificationCode:P,phoneNumber:ne,temporaryProof:Ie}):null}}class lo{constructor(p){var _,P,ne,Ie,St,en;const bn=(0,B.I9)((0,B.hp)(p)),ar=null!==(_=bn.apiKey)&&void 0!==_?_:null,Er=null!==(P=bn.oobCode)&&void 0!==P?P:null,fi=function rs(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(ne=bn.mode)&&void 0!==ne?ne:null);he(ar&&Er&&fi,"argument-error"),this.apiKey=ar,this.operation=fi,this.code=Er,this.continueUrl=null!==(Ie=bn.continueUrl)&&void 0!==Ie?Ie:null,this.languageCode=null!==(St=bn.languageCode)&&void 0!==St?St:null,this.tenantId=null!==(en=bn.tenantId)&&void 0!==en?en:null}static parseLink(p){const _=function bs(w){const p=(0,B.I9)((0,B.hp)(w)).link,_=p?(0,B.I9)((0,B.hp)(p)).deep_link_id:null,P=(0,B.I9)((0,B.hp)(w)).deep_link_id;return(P?(0,B.I9)((0,B.hp)(P)).link:null)||P||_||p||w}(p);try{return new lo(_)}catch{return null}}}let No=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(_,P){return Ht._fromEmailAndPassword(_,P)}static credentialWithLink(_,P){const ne=lo.parseLink(P);return he(ne,"argument-error"),Ht._fromEmailAndCode(_,ne.code,ne.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class po{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class is extends po{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ni extends is{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return he("providerId"in _&&"signInMethod"in _,"argument-error"),Xn._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return he(p.idToken||p.accessToken,"argument-error"),Xn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ni.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ni.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:P,oauthTokenSecret:ne,pendingToken:Ie,nonce:St,providerId:en}=p;if(!P&&!ne&&!_&&!Ie||!en)return null;try{return new ni(en)._credential({idToken:_,accessToken:P,nonce:St,pendingToken:Ie})}catch{return null}}}let ta=(()=>{class w extends is{constructor(){super("facebook.com")}static credential(_){return Xn._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Ns=(()=>{class w extends is{constructor(){super("google.com"),this.addScope("profile")}static credential(_,P){return Xn._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:P})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:P,oauthAccessToken:ne}=_;if(!P&&!ne)return null;try{return w.credential(P,ne)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),To=(()=>{class w extends is{constructor(){super("github.com")}static credential(_){return Xn._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return w.credential(_.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class xr extends ho{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return an(p,this.buildRequest())}_linkToIdToken(p,_){const P=this.buildRequest();return P.idToken=_,an(p,P)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,an(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:P,signInMethod:ne,pendingToken:Ie}=_;return P&&ne&&Ie&&P===ne?new xr(P,Ie):null}static _create(p,_){return new xr(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fe extends po{constructor(p){he(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return fe.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return fe.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=xr.fromJSON(p);return he(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:P}=p;if(!_||!P)return null;try{return xr._create(P,_)}catch{return null}}}let Xe=(()=>{class w extends is{constructor(){super("twitter.com")}static credential(_,P){return Xn._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:P})}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:P,oauthTokenSecret:ne}=_;if(!P||!ne)return null;try{return w.credential(P,ne)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Ut(w,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signUp",ze(w,p))})).apply(this,arguments)}class jn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,P,ne=!1){return(0,d.A)(function*(){const Ie=yield Oe._fromIdTokenResponse(p,P,ne),St=yn(P);return new jn({user:Ie,providerId:St,_tokenResponse:P,operationType:_})})()}static _forOperation(p,_,P){return(0,d.A)(function*(){yield p._updateTokensIfNecessary(P,!0);const ne=yn(P);return new jn({user:p,providerId:ne,_tokenResponse:P,operationType:_})})()}}function yn(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Wn(w){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,d.A)(function*(w){var p;if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const _=Hn(w);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new jn({user:_.currentUser,providerId:null,operationType:"signIn"});const P=yield Ut(_,{returnSecureToken:!0}),ne=yield jn._fromIdTokenResponse(_,"signIn",P,!0);return yield _._updateCurrentUser(ne.user),ne})).apply(this,arguments)}class Qi extends B.g{constructor(p,_,P,ne){var Ie;super(_.code,_.message),this.operationType=P,this.user=ne,Object.setPrototypeOf(this,Qi.prototype),this.customData={appName:p.name,tenantId:null!==(Ie=p.tenantId)&&void 0!==Ie?Ie:void 0,_serverResponse:_.customData._serverResponse,operationType:P}}static _fromErrorAndOperation(p,_,P,ne){return new Qi(p,_,P,ne)}}function Ji(w,p,_,P){return("reauthenticate"===p?_._getReauthenticationResolver(w):_._getIdTokenResponse(w)).catch(Ie=>{throw"auth/multi-factor-auth-required"===Ie.code?Qi._fromErrorAndOperation(w,Ie,p,P):Ie})}function os(w){return new Set(w.map(({providerId:p})=>p).filter(p=>!!p))}function oi(w,p){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,d.A)(function*(w,p){const _=(0,B.Ku)(w);yield As(!0,_,p);const{providerUserInfo:P}=yield function nr(w,p){return Vn.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),ne=os(P||[]);return _.providerData=_.providerData.filter(Ie=>ne.has(Ie.providerId)),ne.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Oa.apply(this,arguments)}function ka(w,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.A)(function*(w,p,_=!1){const P=yield Un(w,p._linkToIdToken(w.auth,yield w.getIdToken()),_);return jn._forOperation(w,"link",P)})).apply(this,arguments)}function As(w,p,_){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,d.A)(function*(w,p,_){yield fr(p);const ne=!1===w?"provider-already-linked":"no-such-provider";he(os(p.providerData).has(_)===w,p.auth,ne)})).apply(this,arguments)}function nc(w,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,d.A)(function*(w,p,_=!1){const{auth:P}=w;if((0,o._isFirebaseServerApp)(P.app))return Promise.reject(it(P));const ne="reauthenticate";try{const Ie=yield Un(w,Ji(P,ne,p,w),_);he(Ie.idToken,P,"internal-error");const St=Cn(Ie.idToken);he(St,P,"internal-error");const{sub:en}=St;return he(w.uid===en,P,"user-mismatch"),jn._forOperation(w,ne,Ie)}catch(Ie){throw"auth/user-not-found"===(null==Ie?void 0:Ie.code)&&Te(P,"user-mismatch"),Ie}})).apply(this,arguments)}function Yo(w,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.A)(function*(w,p,_=!1){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const P="signIn",ne=yield Ji(w,P,p),Ie=yield jn._fromIdTokenResponse(w,P,ne);return _||(yield w._updateCurrentUser(Ie.user)),Ie})).apply(this,arguments)}function Z(w,p){return L.apply(this,arguments)}function L(){return(L=(0,d.A)(function*(w,p){return Yo(Hn(w),p)})).apply(this,arguments)}function ae(w,p){return K.apply(this,arguments)}function K(){return(K=(0,d.A)(function*(w,p){const _=(0,B.Ku)(w);return yield As(!1,_,p.providerId),ka(_,p)})).apply(this,arguments)}function ye(w,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.A)(function*(w,p){return nc((0,B.Ku)(w),p)})).apply(this,arguments)}function Pi(){return(Pi=(0,d.A)(function*(w,p){return Ft(w,"POST","/v1/accounts:signInWithCustomToken",ze(w,p))})).apply(this,arguments)}function ki(w,p){return no.apply(this,arguments)}function no(){return no=(0,d.A)(function*(w,p){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const _=Hn(w),P=yield function or(w,p){return Pi.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),ne=yield jn._fromIdTokenResponse(_,"signIn",P);return yield _._updateCurrentUser(ne.user),ne}),no.apply(this,arguments)}class bo{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?na._fromServerResponse(p,_):"totpInfo"in _?gs._fromServerResponse(p,_):Te(p,"internal-error")}}class na extends bo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new na(_)}}class gs extends bo{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new gs(_)}}function Fa(w,p,_){var P;he((null===(P=_.url)||void 0===P?void 0:P.length)>0,w,"invalid-continue-uri"),he(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(he(_.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(he(_.android.packageName.length>0,w,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function go(w){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,d.A)(function*(w){const p=Hn(w);p._getPasswordPolicyInternal()&&(yield p._updatePasswordPolicy())})).apply(this,arguments)}function yi(w,p,_){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,d.A)(function*(w,p,_){const P=Hn(w),ne={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};_&&Fa(P,ne,_),yield qi(P,ne,"getOobCode",bi)})).apply(this,arguments)}function Os(w,p,_){return mo.apply(this,arguments)}function mo(){return mo=(0,d.A)(function*(w,p,_){yield Si((0,B.Ku)(w),{oobCode:p,newPassword:_}).catch(function(){var P=(0,d.A)(function*(ne){throw"auth/password-does-not-meet-requirements"===ne.code&&go(w),ne});return function(ne){return P.apply(this,arguments)}}())}),mo.apply(this,arguments)}function za(w,p){return ra.apply(this,arguments)}function ra(){return ra=(0,d.A)(function*(w,p){yield function _i(w,p){return Ri.apply(this,arguments)}((0,B.Ku)(w),{oobCode:p})}),ra.apply(this,arguments)}function ms(w,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,d.A)(function*(w,p){const _=(0,B.Ku)(w),P=yield Si(_,{oobCode:p}),ne=P.requestType;switch(he(ne,_,"internal-error"),ne){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(P.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(P.mfaInfo,_,"internal-error");default:he(P.email,_,"internal-error")}let Ie=null;return P.mfaInfo&&(Ie=bo._fromServerResponse(Hn(_),P.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.newEmail:P.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===P.requestType?P.email:P.newEmail)||null,multiFactorInfo:Ie},operation:ne}})).apply(this,arguments)}function al(w,p){return La.apply(this,arguments)}function La(){return(La=(0,d.A)(function*(w,p){const{data:_}=yield ms((0,B.Ku)(w),p);return _.email})).apply(this,arguments)}function Tc(w,p,_){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const P=Hn(w),St=yield qi(P,{returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ut).catch(bn=>{throw"auth/password-does-not-meet-requirements"===bn.code&&go(w),bn}),en=yield jn._fromIdTokenResponse(P,"signIn",St);return yield P._updateCurrentUser(en.user),en})).apply(this,arguments)}function Oo(w,p,_){return(0,o._isFirebaseServerApp)(w.app)?Promise.reject(it(w)):Z((0,B.Ku)(w),No.credential(p,_)).catch(function(){var P=(0,d.A)(function*(ne){throw"auth/password-does-not-meet-requirements"===ne.code&&go(w),ne});return function(ne){return P.apply(this,arguments)}}())}function Wa(w,p,_){return as.apply(this,arguments)}function as(){return(as=(0,d.A)(function*(w,p,_){const P=Hn(w),ne={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};(function Ie(St,en){he(en.handleCodeInApp,P,"argument-error"),en&&Fa(P,St,en)})(ne,_),yield qi(P,ne,"getOobCode",E)})).apply(this,arguments)}function ll(w,p){const _=lo.parseLink(p);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function ia(w,p,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const P=(0,B.Ku)(w),ne=No.credentialWithLink(p,_||Je());return he(ne._tenantId===(P.tenantId||null),P,"tenant-id-mismatch"),Z(P,ne)})).apply(this,arguments)}function cl(){return(cl=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:createAuthUri",ze(w,p))})).apply(this,arguments)}function Ls(w,p){return Al.apply(this,arguments)}function Al(){return Al=(0,d.A)(function*(w,p){const P={identifier:p,continueUri:Nt()?Je():"http://localhost"},{signinMethods:ne}=yield function Ts(w,p){return cl.apply(this,arguments)}((0,B.Ku)(w),P);return ne||[]}),Al.apply(this,arguments)}function Vl(w,p){return Fr.apply(this,arguments)}function Fr(){return Fr=(0,d.A)(function*(w,p){const _=(0,B.Ku)(w),ne={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};p&&Fa(_.auth,ne,p);const{email:Ie}=yield function ns(w,p){return xo.apply(this,arguments)}(_.auth,ne);Ie!==w.email&&(yield w.reload())}),Fr.apply(this,arguments)}function iu(w,p,_){return oa.apply(this,arguments)}function oa(){return oa=(0,d.A)(function*(w,p,_){const P=(0,B.Ku)(w),Ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:p};_&&Fa(P.auth,Ie,_);const{email:St}=yield function A(w,p){return G.apply(this,arguments)}(P.auth,Ie);St!==w.email&&(yield w.reload())}),oa.apply(this,arguments)}function jo(){return(jo=(0,d.A)(function*(w,p){return Ze(w,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vs(w,p){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,d.A)(function*(w,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const P=(0,B.Ku)(w),Ie={idToken:yield P.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},St=yield Un(P,function Va(w,p){return jo.apply(this,arguments)}(P.auth,Ie));P.displayName=St.displayName||null,P.photoURL=St.photoUrl||null;const en=P.providerData.find(({providerId:bn})=>"password"===bn);en&&(en.displayName=P.displayName,en.photoURL=P.photoURL),yield P._updateTokensIfNecessary(St)}),Ea.apply(this,arguments)}function rc(w,p){const _=(0,B.Ku)(w);return(0,o._isFirebaseServerApp)(_.auth.app)?Promise.reject(it(_.auth)):ul(_,p,null)}function Ka(w,p){return ul((0,B.Ku)(w),null,p)}function ul(w,p,_){return ws.apply(this,arguments)}function ws(){return ws=(0,d.A)(function*(w,p,_){const{auth:P}=w,Ie={idToken:yield w.getIdToken(),returnSecureToken:!0};p&&(Ie.email=p),_&&(Ie.password=_);const St=yield Un(w,function Mo(w,p){return Mr.apply(this,arguments)}(P,Ie));yield w._updateTokensIfNecessary(St,!0)}),ws.apply(this,arguments)}class sa{constructor(p,_,P={}){this.isNewUser=p,this.providerId=_,this.profile=P}}class Vs extends sa{constructor(p,_,P,ne){super(p,_,P),this.username=ne}}class Ds extends sa{constructor(p,_){super(p,"facebook.com",_)}}class Ua extends Vs{constructor(p,_){super(p,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ul extends sa{constructor(p,_){super(p,"google.com",_)}}class R extends Vs{constructor(p,_,P){super(p,"twitter.com",_,P)}}function q(w){const{user:p,_tokenResponse:_}=w;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ro(w){var p,_;if(!w)return null;const{providerId:P}=w,ne=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},Ie=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!P&&null!=w&&w.idToken){const St=null===(_=null===(p=Cn(w.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(St)return new sa(Ie,"anonymous"!==St&&"custom"!==St?St:null)}if(!P)return null;switch(P){case"facebook.com":return new Ds(Ie,ne);case"github.com":return new Ua(Ie,ne);case"google.com":return new Ul(Ie,ne);case"twitter.com":return new R(Ie,ne,w.screenName||null);case"custom":case"anonymous":return new sa(Ie,null);default:return new sa(Ie,P,ne)}}(_)}class Fi{constructor(p,_,P){this.type=p,this.credential=_,this.user=P}static _fromIdtoken(p,_){return new Fi("enroll",p,_)}static _fromMfaPendingCredential(p){return new Fi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,P;if(null!=p&&p.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Fi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(P=p.multiFactorSession)&&void 0!==P&&P.idToken)return Fi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class hi{constructor(p,_,P){this.session=p,this.hints=_,this.signInResolver=P}static _fromError(p,_){const P=Hn(p),ne=_.customData._serverResponse,Ie=(ne.mfaInfo||[]).map(en=>bo._fromServerResponse(P,en));he(ne.mfaPendingCredential,P,"internal-error");const St=Fi._fromMfaPendingCredential(ne.mfaPendingCredential);return new hi(St,Ie,function(){var en=(0,d.A)(function*(bn){const ar=yield bn._process(P,St);delete ne.mfaInfo,delete ne.mfaPendingCredential;const Er=Object.assign(Object.assign({},ne),{idToken:ar.idToken,refreshToken:ar.refreshToken});switch(_.operationType){case"signIn":const fi=yield jn._fromIdTokenResponse(P,_.operationType,Er);return yield P._updateCurrentUser(fi.user),fi;case"reauthenticate":return he(_.user,P,"internal-error"),jn._forOperation(_.user,_.operationType,Er);default:Te(P,"internal-error")}});return function(bn){return en.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,d.A)(function*(){return _.signInResolver(p)})()}}function Sn(w,p){var _;const P=(0,B.Ku)(w),ne=p;return he(p.customData.operationType,P,"argument-error"),he(null===(_=ne.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,P,"argument-error"),hi._fromError(P,ne)}class qs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(P=>bo._fromServerResponse(p.auth,P)))})}static _fromUser(p){return new qs(p)}getSession(){var p=this;return(0,d.A)(function*(){return Fi._fromIdtoken(yield p.user.getIdToken(),p.user)})()}enroll(p,_){var P=this;return(0,d.A)(function*(){const ne=p,Ie=yield P.getSession(),St=yield Un(P.user,ne._process(P.user.auth,Ie,_));return yield P.user._updateTokensIfNecessary(St),P.user.reload()})()}unenroll(p){var _=this;return(0,d.A)(function*(){const P="string"==typeof p?p:p.uid,ne=yield _.user.getIdToken();try{const Ie=yield Un(_.user,function ko(w,p){return Ze(w,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(w,p))}(_.user.auth,{idToken:ne,mfaEnrollmentId:P}));_.enrolledFactors=_.enrolledFactors.filter(({uid:St})=>St!==P),yield _.user._updateTokensIfNecessary(Ie),yield _.user.reload()}catch(Ie){throw Ie}})()}}const Lr=new WeakMap;function br(w){const p=(0,B.Ku)(w);return Lr.has(p)||Lr.set(p,qs._fromUser(p)),Lr.get(p)}const ls="__sak";class Nr{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zi=(()=>{class w extends Nr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,P)=>this.onStorageEvent(_,P),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=be(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const P of Object.keys(this.listeners)){const ne=this.storage.getItem(P),Ie=this.localCache[P];ne!==Ie&&_(P,Ie,ne)}}onStorageEvent(_,P=!1){if(!_.key)return void this.forAllChangedKeys((en,bn,ar)=>{this.notifyListeners(en,ar)});const ne=_.key;P?this.detachListener():this.stopPolling();const Ie=()=>{const en=this.storage.getItem(ne);!P&&this.localCache[ne]===en||this.notifyListeners(ne,en)},St=this.storage.getItem(ne);!function Ye(){return(0,B.lT)()&&10===document.documentMode}()||St===_.newValue||_.newValue===_.oldValue?Ie():setTimeout(Ie,10)}notifyListeners(_,P){this.localCache[_]=P;const ne=this.listeners[_];if(ne)for(const Ie of Array.from(ne))Ie(P&&JSON.parse(P))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,P,ne)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:P,newValue:ne}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,P){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(P)}_removeListener(_,P){this.listeners[_]&&(this.listeners[_].delete(P),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,P){var ne=()=>super._set,Ie=this;return(0,d.A)(function*(){yield ne().call(Ie,_,P),Ie.localCache[_]=JSON.stringify(P)})()}_get(_){var P=()=>super._get,ne=this;return(0,d.A)(function*(){const Ie=yield P().call(ne,_);return ne.localCache[_]=JSON.stringify(Ie),Ie})()}_remove(_){var P=()=>super._remove,ne=this;return(0,d.A)(function*(){yield P().call(ne,_),delete ne.localCache[_]})()}}return w.type="LOCAL",w})(),Xa=(()=>{class w extends Nr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,P){}_removeListener(_,P){}}return w.type="SESSION",w})();let la=(()=>{class w{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const P=this.receivers.find(Ie=>Ie.isListeningto(_));if(P)return P;const ne=new w(_);return this.receivers.push(ne),ne}isListeningto(_){return this.eventTarget===_}handleEvent(_){var P=this;return(0,d.A)(function*(){const ne=_,{eventId:Ie,eventType:St,data:en}=ne.data,bn=P.handlersMap[St];if(null==bn||!bn.size)return;ne.ports[0].postMessage({status:"ack",eventId:Ie,eventType:St});const ar=Array.from(bn).map(function(){var fi=(0,d.A)(function*(Sa){return Sa(ne.origin,en)});return function(Sa){return fi.apply(this,arguments)}}()),Er=yield function Ss(w){return Promise.all(w.map(function(){var p=(0,d.A)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(P){return{fulfilled:!1,reason:P}}});return function(_){return p.apply(this,arguments)}}()))}(ar);ne.ports[0].postMessage({status:"done",eventId:Ie,eventType:St,response:Er})})()}_subscribe(_,P){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(P)}_unsubscribe(_,P){this.handlersMap[_]&&P&&this.handlersMap[_].delete(P),(!P||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Qs(w="",p=10){let _="";for(let P=0;P<p;P++)_+=Math.floor(10*Math.random());return w+_}class ca{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,P=50){var ne=this;return(0,d.A)(function*(){const Ie=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ie)throw new Error("connection_unavailable");let St,en;return new Promise((bn,ar)=>{const Er=Qs("",20);Ie.port1.start();const fi=setTimeout(()=>{ar(new Error("unsupported_event"))},P);en={messageChannel:Ie,onMessage(Sa){const nl=Sa;if(nl.data.eventId===Er)switch(nl.data.status){case"ack":clearTimeout(fi),St=setTimeout(()=>{ar(new Error("timeout"))},3e3);break;case"done":clearTimeout(St),bn(nl.data.response);break;default:clearTimeout(fi),clearTimeout(St),ar(new Error("invalid_response"))}}},ne.handlers.add(en),Ie.port1.addEventListener("message",en.onMessage),ne.target.postMessage({eventType:p,eventId:Er,data:_},[Ie.port2])}).finally(()=>{en&&ne.removeMessageHandler(en)})})()}}function io(){return window}function cr(){return typeof io().WorkerGlobalScope<"u"&&"function"==typeof io().importScripts}function qa(){return(qa=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qa="firebaseLocalStorageDb",Bl="firebaseLocalStorage",_o="fbase_key";class oo{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ca(w,p){return w.transaction([Bl],p?"readwrite":"readonly").objectStore(Bl)}function Yi(){const w=indexedDB.open(Qa,1);return new Promise((p,_)=>{w.addEventListener("error",()=>{_(w.error)}),w.addEventListener("upgradeneeded",()=>{const P=w.result;try{P.createObjectStore(Bl,{keyPath:_o})}catch(ne){_(ne)}}),w.addEventListener("success",(0,d.A)(function*(){const P=w.result;P.objectStoreNames.contains(Bl)?p(P):(P.close(),yield function Ya(){const w=indexedDB.deleteDatabase(Qa);return new oo(w).toPromise()}(),p(yield Yi()))}))})}function Co(w,p,_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.A)(function*(w,p,_){const P=Ca(w,!0).put({[_o]:p,value:_});return new oo(P).toPromise()})).apply(this,arguments)}function Ja(){return(Ja=(0,d.A)(function*(w,p){const _=Ca(w,!1).get(p),P=yield new oo(_).toPromise();return void 0===P?null:P.value})).apply(this,arguments)}function $s(w,p){const _=Ca(w,!0).delete(p);return new oo(_).toPromise()}const id=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,d.A)(function*(){return _.db||(_.db=yield Yi()),_.db})()}_withRetries(_){var P=this;return(0,d.A)(function*(){let ne=0;for(;;)try{const Ie=yield P._openDb();return yield _(Ie)}catch(Ie){if(ne++>3)throw Ie;P.db&&(P.db.close(),P.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,d.A)(function*(){return cr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,d.A)(function*(){_.receiver=la._getInstance(function ou(){return cr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var P=(0,d.A)(function*(ne,Ie){return{keyProcessed:(yield _._poll()).includes(Ie.key)}});return function(ne,Ie){return P.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var P=(0,d.A)(function*(ne,Ie){return["keyChanged"]});return function(ne,Ie){return P.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,d.A)(function*(){var P,ne;if(_.activeServiceWorker=yield function wc(){return qa.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ca(_.activeServiceWorker);const Ie=yield _.sender._send("ping",{},800);Ie&&null!==(P=Ie[0])&&void 0!==P&&P.fulfilled&&null!==(ne=Ie[0])&&void 0!==ne&&ne.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var P=this;return(0,d.A)(function*(){if(P.sender&&P.activeServiceWorker&&function ba(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===P.activeServiceWorker)try{yield P.sender._send("keyChanged",{key:_},P.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const _=yield Yi();return yield Co(_,ls,"1"),yield $s(_,ls),!0}catch{}return!1})()}_withPendingWrite(_){var P=this;return(0,d.A)(function*(){P.pendingWrites++;try{yield _()}finally{P.pendingWrites--}})()}_set(_,P){var ne=this;return(0,d.A)(function*(){return ne._withPendingWrite((0,d.A)(function*(){return yield ne._withRetries(Ie=>Co(Ie,_,P)),ne.localCache[_]=P,ne.notifyServiceWorker(_)}))})()}_get(_){var P=this;return(0,d.A)(function*(){const ne=yield P._withRetries(Ie=>function ic(w,p){return Ja.apply(this,arguments)}(Ie,_));return P.localCache[_]=ne,ne})()}_remove(_){var P=this;return(0,d.A)(function*(){return P._withPendingWrite((0,d.A)(function*(){return yield P._withRetries(ne=>$s(ne,_)),delete P.localCache[_],P.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,d.A)(function*(){const P=yield _._withRetries(St=>{const en=Ca(St,!1).getAll();return new oo(en).toPromise()});if(!P)return[];if(0!==_.pendingWrites)return[];const ne=[],Ie=new Set;if(0!==P.length)for(const{fbase_key:St,value:en}of P)Ie.add(St),JSON.stringify(_.localCache[St])!==JSON.stringify(en)&&(_.notifyListeners(St,en),ne.push(St));for(const St of Object.keys(_.localCache))_.localCache[St]&&!Ie.has(St)&&(_.notifyListeners(St,null),ne.push(St));return ne})()}notifyListeners(_,P){this.localCache[_]=P;const ne=this.listeners[_];if(ne)for(const Ie of Array.from(ne))Ie(P)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,P){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(P)}_removeListener(_,P){this.listeners[_]&&(this.listeners[_].delete(P),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})(),M=1e12;class j{constructor(p){this.auth=p,this.counter=M,this._widgets=new Map}render(p,_){const P=this.counter;return this._widgets.set(P,new pe(p,this.auth.name,_||{})),this.counter++,P}reset(p){var _;const P=p||M;null===(_=this._widgets.get(P))||void 0===_||_.delete(),this._widgets.delete(P)}getResponse(p){var _;return(null===(_=this._widgets.get(p||M))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,d.A)(function*(){var P;return null===(P=_._widgets.get(p||M))||void 0===P||P.execute(),""})()}}class pe{constructor(p,_,P){this.params=P,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const ne="string"==typeof p?document.getElementById(p):p;he(ne,"argument-error",{appName:_}),this.container=ne,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ce(w){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let P=0;P<w;P++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Lt=ei("rcb"),pn=new we(3e4,6e4);class Bt{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=io().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return he(function Kn(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&qt(io().grecaptcha)?Promise.resolve(io().grecaptcha):new Promise((P,ne)=>{const Ie=io().setTimeout(()=>{ne(xe(p,"network-request-failed"))},pn.get());io()[Lt]=()=>{io().clearTimeout(Ie),delete io()[Lt];const en=io().grecaptcha;if(!en||!qt(en))return void ne(xe(p,"internal-error"));const bn=en.render;en.render=(ar,Er)=>{const fi=bn(ar,Er);return this.counter++,fi},this.hostLanguage=_,P(en)},hr(`${function Di(){return tr.recaptchaV2Script}()}?${(0,B.Am)({onload:Lt,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(Ie),ne(xe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=io().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Or{load(p){return(0,d.A)(function*(){return new j(p)})()}clearedOneInstance(){}}const Ni="recaptcha",Xr={theme:"light",type:"image"};class Ki{constructor(p,_,P=Object.assign({},Xr)){this.parameters=P,this.type=Ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hn(p),this.isInvisible="invisible"===this.parameters.size,he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const ne="string"==typeof _?document.getElementById(_):_;he(ne,this.auth,"argument-error"),this.container=ne,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Or:new Bt,this.validateStartingState()}verify(){var p=this;return(0,d.A)(function*(){p.assertNotDestroyed();const _=yield p.render(),P=p.getAssertedRecaptcha();return P.getResponse(_)||new Promise(Ie=>{const St=en=>{en&&(p.tokenChangeListeners.delete(St),Ie(en))};p.tokenChangeListeners.add(St),p.isInvisible&&P.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(P=>P(_)),"function"==typeof p)p(_);else if("string"==typeof p){const P=io()[p];"function"==typeof P&&P(_)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.A)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const P=document.createElement("div");_.appendChild(P),_=P}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.A)(function*(){he(Nt()&&!cr(),p.auth,"internal-error"),yield function Ho(){let w=null;return new Promise(p=>{"complete"!==document.readyState?(w=()=>p(),window.addEventListener("load",w)):p()}).catch(p=>{throw w&&window.removeEventListener("load",w),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function rn(w){return ke.apply(this,arguments)}(p.auth);he(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jo{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=fo._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function dl(w,p,_){return cs.apply(this,arguments)}function cs(){return(cs=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const P=Hn(w),ne=yield Ta(P,p,(0,B.Ku)(_));return new Jo(ne,Ie=>Z(P,Ie))})).apply(this,arguments)}function Js(w,p,_){return wl.apply(this,arguments)}function wl(){return(wl=(0,d.A)(function*(w,p,_){const P=(0,B.Ku)(w);yield As(!1,P,"phone");const ne=yield Ta(P.auth,p,(0,B.Ku)(_));return new Jo(ne,Ie=>ae(P,Ie))})).apply(this,arguments)}function oc(w,p,_){return jl.apply(this,arguments)}function jl(){return(jl=(0,d.A)(function*(w,p,_){const P=(0,B.Ku)(w);if((0,o._isFirebaseServerApp)(P.auth.app))return Promise.reject(it(P.auth));const ne=yield Ta(P.auth,p,(0,B.Ku)(_));return new Jo(ne,Ie=>ye(P,Ie))})).apply(this,arguments)}function Ta(w,p,_){return $a.apply(this,arguments)}function $a(){return $a=(0,d.A)(function*(w,p,_){var P;const ne=yield _.verify();try{let Ie;if(he("string"==typeof ne,w,"argument-error"),he(_.type===Ni,w,"argument-error"),Ie="string"==typeof p?{phoneNumber:p}:p,"session"in Ie){const St=Ie.session;if("phoneNumber"in Ie)return he("enroll"===St.type,w,"internal-error"),(yield function sr(w,p){return Ze(w,"POST","/v2/accounts/mfaEnrollment:start",ze(w,p))}(w,{idToken:St.credential,phoneEnrollmentInfo:{phoneNumber:Ie.phoneNumber,recaptchaToken:ne}})).phoneSessionInfo.sessionInfo;{he("signin"===St.type,w,"internal-error");const en=(null===(P=Ie.multiFactorHint)||void 0===P?void 0:P.uid)||Ie.multiFactorUid;return he(en,w,"missing-multi-factor-info"),(yield function od(w,p){return Ze(w,"POST","/v2/accounts/mfaSignIn:start",ze(w,p))}(w,{mfaPendingCredential:St.credential,mfaEnrollmentId:en,phoneSignInInfo:{recaptchaToken:ne}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:St}=yield function ir(w,p){return Gr.apply(this,arguments)}(w,{phoneNumber:Ie.phoneNumber,recaptchaToken:ne});return St}}finally{_._reset()}}),$a.apply(this,arguments)}function Hl(w,p){return us.apply(this,arguments)}function us(){return(us=(0,d.A)(function*(w,p){const _=(0,B.Ku)(w);if((0,o._isFirebaseServerApp)(_.auth.app))return Promise.reject(it(_.auth));yield ka(_,p)})).apply(this,arguments)}let sc=(()=>{class w{constructor(_){this.providerId=w.PROVIDER_ID,this.auth=Hn(_)}verifyPhoneNumber(_,P){return Ta(this.auth,_,(0,B.Ku)(P))}static credential(_,P){return fo._fromVerification(_,P)}static credentialFromResult(_){return w.credentialFromTaggedObject(_)}static credentialFromError(_){return w.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:P,temporaryProof:ne}=_;return P&&ne?fo._fromTokenResponse(P,ne):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function hl(w,p){return p?Qt(p):(he(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Ci extends ho{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return an(p,this._buildIdpRequest())}_linkToIdToken(p,_){return an(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return an(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Rc(w){return Yo(w.auth,new Ci(w),w.bypassAuthState)}function ac(w){const{auth:p,user:_}=w;return he(_,p,"internal-error"),nc(_,new Ci(w),w.bypassAuthState)}function Rs(w){return sd.apply(this,arguments)}function sd(){return(sd=(0,d.A)(function*(w){const{auth:p,user:_}=w;return he(_,p,"internal-error"),ka(_,new Ci(w),w.bypassAuthState)})).apply(this,arguments)}class Gl{constructor(p,_,P,ne,Ie=!1){this.auth=p,this.resolver=P,this.user=ne,this.bypassAuthState=Ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,d.A)(function*(P,ne){p.pendingPromise={resolve:P,reject:ne};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Ie){p.reject(Ie)}});return function(P,ne){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,d.A)(function*(){const{urlResponse:P,sessionId:ne,postBody:Ie,tenantId:St,error:en,type:bn}=p;if(en)return void _.reject(en);const ar={auth:_.auth,requestUri:P,sessionId:ne,tenantId:St||void 0,postBody:Ie||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(bn)(ar))}catch(Er){_.reject(Er)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Rc;case"linkViaPopup":case"linkViaRedirect":return Rs;case"reauthViaPopup":case"reauthViaRedirect":return ac;default:Te(this.auth,"internal-error")}}resolve(p){ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ft(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dl=new we(2e3,1e4);function Ps(w,p,_){return zl.apply(this,arguments)}function zl(){return(zl=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(xe(w,"operation-not-supported-in-this-environment"));const P=Hn(w);dt(w,p,po);const ne=hl(P,_);return new au(P,"signInViaPopup",p,ne).executeNotNull()})).apply(this,arguments)}function ad(w,p,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,d.A)(function*(w,p,_){const P=(0,B.Ku)(w);if((0,o._isFirebaseServerApp)(P.auth.app))return Promise.reject(xe(P.auth,"operation-not-supported-in-this-environment"));dt(P.auth,p,po);const ne=hl(P.auth,_);return new au(P.auth,"reauthViaPopup",p,ne,P).executeNotNull()})).apply(this,arguments)}function wa(w,p,_){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.A)(function*(w,p,_){const P=(0,B.Ku)(w);dt(P.auth,p,po);const ne=hl(P.auth,_);return new au(P.auth,"linkViaPopup",p,ne,P).executeNotNull()})).apply(this,arguments)}let au=(()=>{class w extends Gl{constructor(_,P,ne,Ie,St){super(_,P,Ie,St),this.provider=ne,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var _=this;return(0,d.A)(function*(){const P=yield _.execute();return he(P,_.auth,"internal-error"),P})()}onExecution(){var _=this;return(0,d.A)(function*(){ft(1===_.filter.length,"Popup operations only handle one event");const P=Qs();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],P),_.authWindow.associatedEvent=P,_.resolver._originValidation(_.auth).catch(ne=>{_.reject(ne)}),_.resolver._isIframeWebStorageSupported(_.auth,ne=>{ne||_.reject(xe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const _=()=>{var P,ne;this.pollId=null!==(ne=null===(P=this.authWindow)||void 0===P?void 0:P.window)&&void 0!==ne&&ne.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Dl.get())};_()}}return w.currentPopupAction=null,w})();const zd="pendingRedirect",Sl=new Map;class Wl extends Gl{constructor(p,_,P=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,P),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,d.A)(function*(){let P=Sl.get(_.auth._key());if(!P){try{const Ie=(yield function Za(w,p){return ua.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;P=()=>Promise.resolve(Ie)}catch(ne){P=()=>Promise.reject(ne)}Sl.set(_.auth._key(),P)}return _.bypassAuthState||Sl.set(_.auth._key(),()=>Promise.resolve(null)),P()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,P=this;return(0,d.A)(function*(){if("signInViaRedirect"===p.type)return _().call(P,p);if("unknown"!==p.type){if(p.eventId){const ne=yield P.auth._redirectUserForId(p.eventId);if(ne)return P.user=ne,_().call(P,p);P.resolve(null)}}else P.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function ua(){return(ua=(0,d.A)(function*(w,p){const _=xc(p),P=cc(w);if(!(yield P._isAvailable()))return!1;const ne="true"===(yield P._get(_));return yield P._remove(_),ne})).apply(this,arguments)}function lc(w,p){return Da.apply(this,arguments)}function Da(){return(Da=(0,d.A)(function*(w,p){return cc(w)._set(xc(p),"true")})).apply(this,arguments)}function Br(){Sl.clear()}function Mc(w,p){Sl.set(w._key(),p)}function cc(w){return Qt(w._redirectPersistence)}function xc(w){return Ir(zd,w.config.apiKey,w.name)}function zh(w,p,_){return function ld(w,p,_){return Nc.apply(this,arguments)}(w,p,_)}function Nc(){return(Nc=(0,d.A)(function*(w,p,_){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const P=Hn(w);dt(w,p,po),yield P._initializationPromise;const ne=hl(P,_);return yield lc(ne,P),ne._openRedirect(P,p,"signInViaRedirect")})).apply(this,arguments)}function Wd(w,p,_){return function Oc(w,p,_){return pl.apply(this,arguments)}(w,p,_)}function pl(){return(pl=(0,d.A)(function*(w,p,_){const P=(0,B.Ku)(w);if(dt(P.auth,p,po),(0,o._isFirebaseServerApp)(P.auth.app))return Promise.reject(it(P.auth));yield P.auth._initializationPromise;const ne=hl(P.auth,_);yield lc(ne,P.auth);const Ie=yield kc(P);return ne._openRedirect(P.auth,p,"reauthViaRedirect",Ie)})).apply(this,arguments)}function cd(w,p,_){return function lu(w,p,_){return ud.apply(this,arguments)}(w,p,_)}function ud(){return(ud=(0,d.A)(function*(w,p,_){const P=(0,B.Ku)(w);dt(P.auth,p,po),yield P.auth._initializationPromise;const ne=hl(P.auth,_);yield As(!1,P,p.providerId),yield lc(ne,P.auth);const Ie=yield kc(P);return ne._openRedirect(P.auth,p,"linkViaRedirect",Ie)})).apply(this,arguments)}function Kd(w,p){return da.apply(this,arguments)}function da(){return(da=(0,d.A)(function*(w,p){return yield Hn(w)._initializationPromise,ln(w,p,!1)})).apply(this,arguments)}function ln(w,p){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,d.A)(function*(w,p,_=!1){if((0,o._isFirebaseServerApp)(w.app))return Promise.reject(it(w));const P=Hn(w),ne=hl(P,p),St=yield new Wl(P,ne,_).execute();return St&&!_&&(delete St.user._redirectEventId,yield P._persistUserIfCurrent(St.user),yield P._setRedirectUser(null,p)),St})).apply(this,arguments)}function kc(w){return cu.apply(this,arguments)}function cu(){return(cu=(0,d.A)(function*(w){const p=Qs(`${w.uid}:::`);return w._redirectEventId=p,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),p})).apply(this,arguments)}class uu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(P=>{this.isEventForConsumer(p,P)&&(_=!0,this.sendToConsumer(p,P),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function du(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bs(w);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var P;if(p.error&&!Bs(p)){const ne=(null===(P=p.error.code)||void 0===P?void 0:P.split("auth/")[1])||"internal-error";_.onError(xe(this.auth,ne))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const P=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&P}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gl(p))}saveEventToCache(p){this.cachedEventUids.add(gl(p)),this.lastProcessedEventTime=Date.now()}}function gl(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(p=>p).join("-")}function Bs({type:w,error:p}){return"unknown"===w&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ba(w){return ml.apply(this,arguments)}function ml(){return(ml=(0,d.A)(function*(w,p={}){return Ze(w,"GET","/v1/projects",p)})).apply(this,arguments)}const Wh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uc=/^https?/;function _l(){return(_l=(0,d.A)(function*(w){if(w.config.emulator)return;const{authorizedDomains:p}=yield Ba(w);for(const _ of p)try{if(dd(_))return}catch{}Te(w,"unauthorized-domain")})).apply(this,arguments)}function dd(w){const p=Je(),{protocol:_,hostname:P}=new URL(p);if(w.startsWith("chrome-extension://")){const St=new URL(w);return""===St.hostname&&""===P?"chrome-extension:"===_&&w.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&St.hostname===P}if(!uc.test(_))return!1;if(Wh.test(w))return P===w;const ne=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ne+"|"+ne+")$","i").test(P)}const Lo=new we(3e4,6e4);function ja(){const w=io().___jsl;if(null!=w&&w.H)for(const p of Object.keys(w.H))if(w.H[p].r=w.H[p].r||[],w.H[p].L=w.H[p].L||[],w.H[p].r=[...w.H[p].L],w.CP)for(let _=0;_<w.CP.length;_++)w.CP[_]=null}let js=null;const Rl=new we(5e3,15e3),Fc="__/auth/iframe",Lc="emulator/auth/iframe",Kh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dc(w){const p=w.config;he(p.authDomain,w,"auth-domain-config-required");const _=p.emulator?me(p,Lc):`https://${w.config.authDomain}/${Fc}`,P={apiKey:p.apiKey,appName:w.name,v:o.SDK_VERSION},ne=fd.get(w.config.apiHost);ne&&(P.eid=ne);const Ie=w._getFrameworks();return Ie.length&&(P.fw=Ie.join(",")),`${_}?${(0,B.Am)(P).slice(1)}`}function Kl(){return Kl=(0,d.A)(function*(w){const p=yield function vl(w){return js=js||function hd(w){return new Promise((p,_)=>{var P,ne,Ie;function St(){ja(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ja(),_(xe(w,"network-request-failed"))},timeout:Lo.get()})}if(null!==(ne=null===(P=io().gapi)||void 0===P?void 0:P.iframes)&&void 0!==ne&&ne.Iframe)p(gapi.iframes.getContext());else{if(null===(Ie=io().gapi)||void 0===Ie||!Ie.load){const en=ei("iframefcb");return io()[en]=()=>{gapi.load?St():_(xe(w,"network-request-failed"))},hr(`${function yo(){return tr.gapiScript}()}?onload=${en}`).catch(bn=>_(bn))}St()}}).catch(p=>{throw js=null,p})}(w),js}(w),_=io().gapi;return he(_,w,"internal-error"),p.open({where:document.body,url:dc(w),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kh,dontclear:!0},P=>new Promise(function(){var ne=(0,d.A)(function*(Ie,St){yield P.restyle({setHideOnLeave:!1});const en=xe(w,"network-request-failed"),bn=io().setTimeout(()=>{St(en)},Rl.get());function ar(){io().clearTimeout(bn),Ie(P)}P.ping(ar).then(ar,()=>{St(en)})});return function(Ie,St){return ne.apply(this,arguments)}}()))}),Kl.apply(this,arguments)}const Xl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qf="__/auth/handler",ds="emulator/auth/handler",Do=encodeURIComponent("fac");function eo(w,p,_,P,ne,Ie){return Jd.apply(this,arguments)}function Jd(){return(Jd=(0,d.A)(function*(w,p,_,P,ne,Ie){he(w.config.authDomain,w,"auth-domain-config-required"),he(w.config.apiKey,w,"invalid-api-key");const St={apiKey:w.config.apiKey,appName:w.name,authType:_,redirectUrl:P,v:o.SDK_VERSION,eventId:ne};if(p instanceof po){p.setDefaultLanguage(w.languageCode),St.providerId=p.providerId||"",(0,B.Im)(p.getCustomParameters())||(St.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Er,fi]of Object.entries(Ie||{}))St[Er]=fi}if(p instanceof is){const Er=p.getScopes().filter(fi=>""!==fi);Er.length>0&&(St.scopes=Er.join(","))}w.tenantId&&(St.tid=w.tenantId);const en=St;for(const Er of Object.keys(en))void 0===en[Er]&&delete en[Er];const bn=yield w._getAppCheckToken(),ar=bn?`#${Do}=${encodeURIComponent(bn)}`:"";return`${function Zd({config:w}){return w.emulator?me(w,ds):`https://${w.authDomain}/${qf}`}(w)}?${(0,B.Am)(en).slice(1)}${ar}`})).apply(this,arguments)}const Uc="webStorageSupport",eh=class md{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xa,this._completeRedirectFn=ln,this._overrideRedirectResult=Mc}_openPopup(p,_,P,ne){var Ie=this;return(0,d.A)(function*(){var St;ft(null===(St=Ie.eventManagers[p._key()])||void 0===St?void 0:St.manager,"_initialize() not called before _openPopup()");const en=yield eo(p,_,P,Je(),ne);return function Qd(w,p,_,P=500,ne=600){const Ie=Math.max((window.screen.availHeight-ne)/2,0).toString(),St=Math.max((window.screen.availWidth-P)/2,0).toString();let en="";const bn=Object.assign(Object.assign({},Xl),{width:P.toString(),height:ne.toString(),top:Ie,left:St}),ar=(0,B.ZQ)().toLowerCase();_&&(en=Qr(ar)?"_blank":_),Mn(ar)&&(p=p||"http://localhost",bn.scrollbars="yes");const Er=Object.entries(bn).reduce((Sa,[nl,$c])=>`${Sa}${nl}=${$c},`,"");if(function Pr(w=(0,B.ZQ)()){var p;return Ro(w)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ar)&&"_self"!==en)return function Yd(w,p){const _=document.createElement("a");_.href=w,_.target=p;const P=document.createEvent("MouseEvent");P.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(P)}(p||"",en),new gd(null);const fi=window.open(p||"",en,Er);he(fi,w,"popup-blocked");try{fi.focus()}catch{}return new gd(fi)}(p,en,Qs())})()}_openRedirect(p,_,P,ne){var Ie=this;return(0,d.A)(function*(){return yield Ie._originValidation(p),function Ys(w){io().location.href=w}(yield eo(p,_,P,Je(),ne)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:ne,promise:Ie}=this.eventManagers[_];return ne?Promise.resolve(ne):(ft(Ie,"If manager is not set, promise should be"),Ie)}const P=this.initAndGetManager(p);return this.eventManagers[_]={promise:P},P.catch(()=>{delete this.eventManagers[_]}),P}initAndGetManager(p){var _=this;return(0,d.A)(function*(){const P=yield function pd(w){return Kl.apply(this,arguments)}(p),ne=new uu(p);return P.register("authEvent",Ie=>(he(null==Ie?void 0:Ie.authEvent,p,"invalid-auth-event"),{status:ne.onEvent(Ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:ne},_.iframes[p._key()]=P,ne})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Uc,{type:Uc},ne=>{var Ie;const St=null===(Ie=null==ne?void 0:ne[0])||void 0===Ie?void 0:Ie[Uc];void 0!==St&&_(!!St),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Xd(w){return _l.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return be()||Hr()||Ro()}};class Pl{constructor(p){this.factorId=p}_process(p,_,P){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,P);case"signin":return this._finalizeSignIn(p,_.credential);default:return ht("unexpected MultiFactorSessionType")}}}class el extends Pl{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new el(p)}_finalizeEnroll(p,_,P){return function Wi(w,p){return Ze(w,"POST","/v2/accounts/mfaEnrollment:finalize",ze(w,p))}(p,{idToken:_,displayName:P,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Sc(w,p){return Ze(w,"POST","/v2/accounts/mfaSignIn:finalize",ze(w,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tl=(()=>{class w{constructor(){}static assertion(_){return el._fromCredential(_)}}return w.FACTOR_ID="phone",w})();var fc="@firebase/auth";class _d{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,d.A)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(P=>{p((null==P?void 0:P.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Qh=(0,B.XA)("authIdTokenMaxAge")||300;let gu=null;const vd=w=>function(){var p=(0,d.A)(function*(_){const P=_&&(yield _.getIdTokenResult()),ne=P&&((new Date).getTime()-Date.parse(P.issuedAtTime))/1e3;if(ne&&ne>Qh)return;const Ie=null==P?void 0:P.token;gu!==Ie&&(gu=Ie,yield fetch(w,{method:Ie?"POST":"DELETE",headers:Ie?{Authorization:`Bearer ${Ie}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Yf(w=(0,o.getApp)()){const p=(0,o._getProvider)(w,"auth");if(p.isInitialized())return p.getImmediate();const _=function uo(w,p){const _=(0,o._getProvider)(w,"auth");if(_.isInitialized()){const ne=_.getImmediate(),Ie=_.getOptions();if((0,B.bD)(Ie,null!=p?p:{}))return ne;Te(ne,"already-initialized")}return _.initialize({options:p})}(w,{popupRedirectResolver:eh,persistence:[id,Zi,Xa]}),P=(0,B.XA)("authTokenSyncURL");if(P&&"boolean"==typeof isSecureContext&&isSecureContext){const Ie=new URL(P,location.origin);if(location.origin===Ie.origin){const St=vd(Ie.toString());(function En(w,p,_){(0,B.Ku)(w).beforeAuthStateChanged(p,_)})(_,St,()=>St(_.currentUser)),function nn(w,p,_,P){(0,B.Ku)(w).onIdTokenChanged(p,_,P)}(_,en=>St(en))}}const ne=(0,B.Tj)("auth");return ne&&fs(_,`http://${ne}`),_}(function Bi(w){tr=w})({loadJS:w=>new Promise((p,_)=>{const P=document.createElement("script");P.setAttribute("src",w),P.onload=p,P.onerror=ne=>{const Ie=xe("internal-error");Ie.customData=ne,_(Ie)},P.type="text/javascript",P.charset="UTF-8",function Yh(){var w,p;return null!==(p=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==p?p:document}().appendChild(P)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function pc(w){(0,o._registerComponent)(new Ee.uA("auth",(p,{options:_})=>{const P=p.getProvider("app").getImmediate(),ne=p.getProvider("heartbeat"),Ie=p.getProvider("app-check-internal"),{apiKey:St,authDomain:en}=P.options;he(St&&!St.includes(":"),"invalid-api-key",{appName:P.name});const bn={apiKey:St,authDomain:en,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ct(w)},ar=new Rn(P,ne,Ie,bn);return function Kr(w,p){const _=(null==p?void 0:p.persistence)||[],P=(Array.isArray(_)?_:[_]).map(Qt);null!=p&&p.errorMap&&w._updateErrorMap(p.errorMap),w._initializeWithPersistence(P,null==p?void 0:p.popupRedirectResolver)}(ar,_),ar},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,P)=>{p.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new Ee.uA("auth-internal",p=>{const _=Hn(p.getProvider("auth").getImmediate());return new _d(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(fc,"1.7.9",function Qf(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(w)),(0,o.registerVersion)(fc,"1.7.9","esm2017")}("Browser")},1076:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Am:()=>nr,Bd:()=>ht,FA:()=>st,Fy:()=>it,I9:()=>Vn,Im:()=>ke,Ku:()=>at,Ll:()=>he,T9:()=>Te,Tj:()=>Mt,Uj:()=>ot,XA:()=>xe,ZQ:()=>dt,bD:()=>kt,c1:()=>Je,cY:()=>Me,dM:()=>ze,eX:()=>Ne,g:()=>je,gR:()=>On,hp:()=>Tn,jZ:()=>rt,lT:()=>Ge,lV:()=>Ot,mS:()=>Ke,nr:()=>De,p7:()=>ft,sr:()=>Nt,tD:()=>rr,u:()=>Re,zW:()=>oe,zw:()=>et});const ve=function(J){const Q=[];let re=0;for(let Oe=0;Oe<J.length;Oe++){let $e=J.charCodeAt(Oe);$e<128?Q[re++]=$e:$e<2048?(Q[re++]=$e>>6|192,Q[re++]=63&$e|128):55296==(64512&$e)&&Oe+1<J.length&&56320==(64512&J.charCodeAt(Oe+1))?($e=65536+((1023&$e)<<10)+(1023&J.charCodeAt(++Oe)),Q[re++]=$e>>18|240,Q[re++]=$e>>12&63|128,Q[re++]=$e>>6&63|128,Q[re++]=63&$e|128):(Q[re++]=$e>>12|224,Q[re++]=$e>>6&63|128,Q[re++]=63&$e|128)}return Q},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(J,Q){if(!Array.isArray(J))throw Error("encodeByteArray takes an array as a parameter");this.init_();const re=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let $e=0;$e<J.length;$e+=3){const Qt=J[$e],An=$e+1<J.length,qn=An?J[$e+1]:0,Ir=$e+2<J.length,gt=Ir?J[$e+2]:0;let Hr=(15&qn)<<2|gt>>6,Qr=63&gt;Ir||(Qr=64,An||(Hr=64)),Oe.push(re[Qt>>2],re[(3&Qt)<<4|qn>>4],re[Hr],re[Qr])}return Oe.join("")},encodeString(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(J):this.encodeByteArray(ve(J),Q)},decodeString(J,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(J):function(J){const Q=[];let re=0,Oe=0;for(;re<J.length;){const $e=J[re++];if($e<128)Q[Oe++]=String.fromCharCode($e);else if($e>191&&$e<224){const Qt=J[re++];Q[Oe++]=String.fromCharCode((31&$e)<<6|63&Qt)}else if($e>239&&$e<365){const Ir=((7&$e)<<18|(63&J[re++])<<12|(63&J[re++])<<6|63&J[re++])-65536;Q[Oe++]=String.fromCharCode(55296+(Ir>>10)),Q[Oe++]=String.fromCharCode(56320+(1023&Ir))}else{const Qt=J[re++],An=J[re++];Q[Oe++]=String.fromCharCode((15&$e)<<12|(63&Qt)<<6|63&An)}}return Q.join("")}(this.decodeStringToByteArray(J,Q))},decodeStringToByteArray(J,Q){this.init_();const re=Q?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let $e=0;$e<J.length;){const Qt=re[J.charAt($e++)],qn=$e<J.length?re[J.charAt($e)]:0;++$e;const gt=$e<J.length?re[J.charAt($e)]:64;++$e;const Mn=$e<J.length?re[J.charAt($e)]:64;if(++$e,null==Qt||null==qn||null==gt||null==Mn)throw new Se;Oe.push(Qt<<2|qn>>4),64!==gt&&(Oe.push(qn<<4&240|gt>>2),64!==Mn&&Oe.push(gt<<6&192|Mn))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let J=0;J<this.ENCODED_VALS.length;J++)this.byteToCharMap_[J]=this.ENCODED_VALS.charAt(J),this.charToByteMap_[this.byteToCharMap_[J]]=J,this.byteToCharMapWebSafe_[J]=this.ENCODED_VALS_WEBSAFE.charAt(J),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[J]]=J,J>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(J)]=J,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(J)]=J)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ot=function(J){return function(J){const Q=ve(J);return Ee.encodeByteArray(Q,!0)}(J).replace(/\./g,"")},Re=function(J){try{return Ee.decodeString(J,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function et(J,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===J&&(J={});break;case Array:J=[];break;default:return Q}for(const re in Q)!Q.hasOwnProperty(re)||!Qe(re)||(J[re]=et(J[re],Q[re]));return J}function Qe(J){return"__proto__"!==J}function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ut=()=>{try{return Ke().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const J=process.env.__FIREBASE_DEFAULTS__;return J?JSON.parse(J):void 0})()||(()=>{if(typeof document>"u")return;let J;try{J=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Q=J&&Re(J[1]);return Q&&JSON.parse(Q)})()}catch(J){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${J}`)}},Mt=J=>{var Q,re;return null===(re=null===(Q=ut())||void 0===Q?void 0:Q.emulatorHosts)||void 0===re?void 0:re[J]},Te=()=>{var J;return null===(J=ut())||void 0===J?void 0:J.config},xe=J=>{var Q;return null===(Q=ut())||void 0===Q?void 0:Q[`_${J}`]};class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Q,re)=>{this.resolve=Q,this.reject=re})}wrapCallback(Q){return(re,Oe)=>{re?this.reject(re):this.resolve(Oe),"function"==typeof Q&&(this.promise.catch(()=>{}),1===Q.length?Q(re):Q(re,Oe))}}}function it(J,Q){if(J.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=Q||"demo-project",$e=J.iat||0,Qt=J.sub||J.user_id;if(!Qt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const An=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:$e,exp:$e+3600,auth_time:$e,sub:Qt,user_id:Qt,firebase:{sign_in_provider:"custom",identities:{}}},J);return[ot(JSON.stringify({alg:"none",type:"JWT"})),ot(JSON.stringify(An)),""].join(".")}function dt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function he(){var J;const Q=null===(J=ut())||void 0===J?void 0:J.forceEnvironment;if("node"===Q)return!0;if("browser"===Q)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ht(){return typeof window<"u"||ft()}function ft(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Je(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Nt(){const J="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof J&&void 0!==J.id}function Ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ge(){const J=dt();return J.indexOf("MSIE ")>=0||J.indexOf("Trident/")>=0}function De(){return!he()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((J,Q)=>{try{let re=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",$e=self.indexedDB.open(Oe);$e.onsuccess=()=>{$e.result.close(),re||self.indexedDB.deleteDatabase(Oe),J(!0)},$e.onupgradeneeded=()=>{re=!1},$e.onerror=()=>{var Qt;Q((null===(Qt=$e.error)||void 0===Qt?void 0:Qt.message)||"")}}catch(re){Q(re)}})}function ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class je extends Error{constructor(Q,re,Oe){super(re),this.code=Q,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,st.prototype.create)}}class st{constructor(Q,re,Oe){this.service=Q,this.serviceName=re,this.errors=Oe}create(Q,...re){const Oe=re[0]||{},$e=`${this.service}/${Q}`,Qt=this.errors[Q],An=Qt?function _t(J,Q){return J.replace(Ft,(re,Oe)=>{const $e=Q[Oe];return null!=$e?String($e):`<${Oe}?>`})}(Qt,Oe):"Error";return new je($e,`${this.serviceName}: ${An} (${$e}).`,Oe)}}const Ft=/\{\$([^}]+)}/g;function On(J,Q){return Object.prototype.hasOwnProperty.call(J,Q)}function ke(J){for(const Q in J)if(Object.prototype.hasOwnProperty.call(J,Q))return!1;return!0}function kt(J,Q){if(J===Q)return!0;const re=Object.keys(J),Oe=Object.keys(Q);for(const $e of re){if(!Oe.includes($e))return!1;const Qt=J[$e],An=Q[$e];if(xt(Qt)&&xt(An)){if(!kt(Qt,An))return!1}else if(Qt!==An)return!1}for(const $e of Oe)if(!re.includes($e))return!1;return!0}function xt(J){return null!==J&&"object"==typeof J}function nr(J){const Q=[];for(const[re,Oe]of Object.entries(J))Array.isArray(Oe)?Oe.forEach($e=>{Q.push(encodeURIComponent(re)+"="+encodeURIComponent($e))}):Q.push(encodeURIComponent(re)+"="+encodeURIComponent(Oe));return Q.length?"&"+Q.join("&"):""}function Vn(J){const Q={};return J.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[$e,Qt]=Oe.split("=");Q[decodeURIComponent($e)]=decodeURIComponent(Qt)}}),Q}function Tn(J){const Q=J.indexOf("?");if(!Q)return"";const re=J.indexOf("#",Q);return J.substring(Q,re>0?re:void 0)}function rr(J,Q){const re=new zn(J,Q);return re.subscribe.bind(re)}class zn{constructor(Q,re){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=re,this.task.then(()=>{Q(this)}).catch(Oe=>{this.error(Oe)})}next(Q){this.forEachObserver(re=>{re.next(Q)})}error(Q){this.forEachObserver(re=>{re.error(Q)}),this.close(Q)}complete(){this.forEachObserver(Q=>{Q.complete()}),this.close()}subscribe(Q,re,Oe){let $e;if(void 0===Q&&void 0===re&&void 0===Oe)throw new Error("Missing Observer.");$e=function dr(J,Q){if("object"!=typeof J||null===J)return!1;for(const re of Q)if(re in J&&"function"==typeof J[re])return!0;return!1}(Q,["next","error","complete"])?Q:{next:Q,error:re,complete:Oe},void 0===$e.next&&($e.next=jr),void 0===$e.error&&($e.error=jr),void 0===$e.complete&&($e.complete=jr);const Qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$e.error(this.finalError):$e.complete()}catch{}}),this.observers.push($e),Qt}unsubscribeOne(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Q){if(!this.finalized)for(let re=0;re<this.observers.length;re++)this.sendOne(re,Q)}sendOne(Q,re){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Q])try{re(this.observers[Q])}catch(Oe){typeof console<"u"&&console.error&&console.error(Oe)}})}close(Q){this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jr(){}function at(J){return J&&J._delegate?J._delegate:J}},4442:(Pn,Dt,V)=>{"use strict";V.d(Dt,{L:()=>W,a:()=>Ee,b:()=>Se,c:()=>Be,d:()=>ot,g:()=>Ge}),V(5531);const W="ionViewWillEnter",Ee="ionViewDidEnter",Se="ionViewWillLeave",Be="ionViewDidLeave",ot="ionViewWillUnload",Ge=we=>we.classList.contains("ion-page")?we:we.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||we},5531:(Pn,Dt,V)=>{"use strict";V.d(Dt,{a:()=>Re,c:()=>o,g:()=>ot});class d{constructor(){this.m=new Map}reset(we){this.m=new Map(Object.entries(we))}get(we,me){const De=this.m.get(we);return void 0!==De?De:me}getBoolean(we,me=!1){const De=this.m.get(we);return void 0===De?me:"string"==typeof De?"true"===De:!!De}getNumber(we,me){const De=parseFloat(this.m.get(we));return isNaN(De)?void 0!==me?me:NaN:De}set(we,me){this.m.set(we,me)}}const o=new d,ot=Ge=>_e(Ge),Re=(Ge,we)=>("string"==typeof Ge&&(we=Ge,Ge=void 0),ot(Ge).includes(we)),_e=(Ge=window)=>{if(typeof Ge>"u")return[];Ge.Ionic=Ge.Ionic||{};let we=Ge.Ionic.platforms;return null==we&&(we=Ge.Ionic.platforms=et(Ge),we.forEach(me=>Ge.document.documentElement.classList.add(`plt-${me}`))),we},et=Ge=>{const we=o.get("platform");return Object.keys(Je).filter(me=>{const De=null==we?void 0:we[me];return"function"==typeof De?De(Ge):Je[me](Ge)})},Ke=Ge=>!!(ht(Ge,/iPad/i)||ht(Ge,/Macintosh/i)&&Te(Ge)),mt=Ge=>ht(Ge,/android|sink/i),Te=Ge=>ft(Ge,"(any-pointer:coarse)"),Me=Ge=>it(Ge)||dt(Ge),it=Ge=>!!(Ge.cordova||Ge.phonegap||Ge.PhoneGap),dt=Ge=>{const we=Ge.Capacitor;return!(null==we||!we.isNative)},ht=(Ge,we)=>we.test(Ge.navigator.userAgent),ft=(Ge,we)=>{var me;return null===(me=Ge.matchMedia)||void 0===me?void 0:me.call(Ge,we).matches},Je={ipad:Ke,iphone:Ge=>ht(Ge,/iPhone/i),ios:Ge=>ht(Ge,/iPhone|iPod/i)||Ke(Ge),android:mt,phablet:Ge=>{const we=Ge.innerWidth,me=Ge.innerHeight,De=Math.min(we,me),oe=Math.max(we,me);return De>390&&De<520&&oe>620&&oe<800},tablet:Ge=>{const we=Ge.innerWidth,me=Ge.innerHeight,De=Math.min(we,me),oe=Math.max(we,me);return Ke(Ge)||(Ge=>mt(Ge)&&!ht(Ge,/mobile/i))(Ge)||De>460&&De<820&&oe>780&&oe<1400},cordova:it,capacitor:dt,electron:Ge=>ht(Ge,/electron/i),pwa:Ge=>{var we;return!!(null!==(we=Ge.matchMedia)&&void 0!==we&&we.call(Ge,"(display-mode: standalone)").matches||Ge.navigator.standalone)},mobile:Te,mobileweb:Ge=>Te(Ge)&&!Me(Ge),desktop:Ge=>!Te(Ge),hybrid:Me}},9986:(Pn,Dt,V)=>{"use strict";V.d(Dt,{c:()=>Ee});var d=V(8476);let o;const ve=(Se,Be,ot)=>{const Re=Be.startsWith("animation")?(Se=>(void 0===o&&(o=void 0===Se.style.animationName&&void 0!==Se.style.webkitAnimationName?"-webkit-":""),o))(Se):"";Se.style.setProperty(Re+Be,ot)},W=(Se=[],Be)=>{if(void 0!==Be){const ot=Array.isArray(Be)?Be:[Be];return[...Se,...ot]}return Se},Ee=Se=>{let Be,ot,Re,_e,et,Qe,ut,rt,he,ht,Ot,Ke=[],ct=[],yt=[],mt=!1,Mt={},At=[],Te=[],xe={},Me=0,it=!1,dt=!1,ft=!0,Je=!1,Nt=!0,un=!1;const Ge=Se,we=[],me=[],De=[],oe=[],Ne=[],ze=[],Ze=[],je=[],st=[],_t=[],Ft=[],Nn="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,It="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Nn,mn=()=>Ft,On=(le,He)=>{const zt=He.findIndex(dn=>dn.c===le);zt>-1&&He.splice(zt,1)},ke=(le,He)=>((null!=He&&He.oneTimeCallback?me:we).push({c:le,o:He}),Ot),kt=()=>{It&&(Ft.forEach(le=>{le.cancel()}),Ft.length=0)},xt=()=>{ze.forEach(le=>{null!=le&&le.parentNode&&le.parentNode.removeChild(le)}),ze.length=0},Un=()=>void 0!==et?et:ut?ut.getFill():"both",mr=()=>void 0!==rt?rt:void 0!==Qe?Qe:ut?ut.getDirection():"normal",Dn=()=>it?"linear":void 0!==Re?Re:ut?ut.getEasing():"linear",Ei=()=>dt?0:void 0!==he?he:void 0!==ot?ot:ut?ut.getDuration():0,er=()=>void 0!==_e?_e:ut?ut.getIterations():1,fr=()=>void 0!==ht?ht:void 0!==Be?Be:ut?ut.getDelay():0,An=()=>{0!==Me&&(Me--,0===Me&&((()=>{st.forEach(Rn=>Rn()),_t.forEach(Rn=>Rn());const le=ft?1:0,He=At,zt=Te,dn=xe;oe.forEach(Rn=>{const Hn=Rn.classList;He.forEach(Ar=>Hn.add(Ar)),zt.forEach(Ar=>Hn.remove(Ar));for(const Ar in dn)dn.hasOwnProperty(Ar)&&ve(Rn,Ar,dn[Ar])}),he=void 0,rt=void 0,ht=void 0,we.forEach(Rn=>Rn.c(le,Ot)),me.forEach(Rn=>Rn.c(le,Ot)),me.length=0,Nt=!0,ft&&(Je=!0),ft=!0})(),ut&&ut.animationFinish()))},Ir=()=>{(()=>{Ze.forEach(dn=>dn()),je.forEach(dn=>dn());const le=ct,He=yt,zt=Mt;oe.forEach(dn=>{const Rn=dn.classList;le.forEach(Hn=>Rn.add(Hn)),He.forEach(Hn=>Rn.remove(Hn));for(const Hn in zt)zt.hasOwnProperty(Hn)&&ve(dn,Hn,zt[Hn])})})(),Ke.length>0&&It&&(oe.forEach(le=>{const He=le.animate(Ke,{id:Ge,delay:fr(),duration:Ei(),easing:Dn(),iterations:er(),fill:Un(),direction:mr()});He.pause(),Ft.push(He)}),Ft.length>0&&(Ft[0].onfinish=()=>{An()})),mt=!0},gt=le=>{le=Math.min(Math.max(le,0),.9999),It&&Ft.forEach(He=>{He.currentTime=He.effect.getComputedTiming().delay+Ei()*le,He.pause()})},vr=le=>{Ft.forEach(He=>{He.effect.updateTiming({delay:fr(),duration:Ei(),easing:Dn(),iterations:er(),fill:Un(),direction:mr()})}),void 0!==le&&gt(le)},Mn=(le=!1,He=!0,zt)=>(le&&Ne.forEach(dn=>{dn.update(le,He,zt)}),It&&vr(zt),Ot),wi=()=>{mt&&(It?Ft.forEach(le=>{le.pause()}):oe.forEach(le=>{ve(le,"animation-play-state","paused")}),un=!0)},Pr=le=>new Promise(He=>{null!=le&&le.sync&&(dt=!0,ke(()=>dt=!1,{oneTimeCallback:!0})),mt||Ir(),Je&&(It&&(gt(0),vr()),Je=!1),Nt&&(Me=Ne.length+1,Nt=!1);const zt=()=>{On(dn,me),He()},dn=()=>{On(zt,De),He()};ke(dn,{oneTimeCallback:!0}),(le=>{De.push({c:le,o:{oneTimeCallback:!0}})})(zt),Ne.forEach(Rn=>{Rn.play()}),It?(Ft.forEach(le=>{le.play()}),(0===Ke.length||0===oe.length)&&An()):An(),un=!1}),be=(le,He)=>{const zt=Ke[0];return void 0===zt||void 0!==zt.offset&&0!==zt.offset?Ke=[{offset:0,[le]:He},...Ke]:zt[le]=He,Ot};return Ot={parentAnimation:ut,elements:oe,childAnimations:Ne,id:Ge,animationFinish:An,from:be,to:(le,He)=>{const zt=Ke[Ke.length-1];return void 0===zt||void 0!==zt.offset&&1!==zt.offset?Ke=[...Ke,{offset:1,[le]:He}]:zt[le]=He,Ot},fromTo:(le,He,zt)=>be(le,He).to(le,zt),parent:le=>(ut=le,Ot),play:Pr,pause:()=>(Ne.forEach(le=>{le.pause()}),wi(),Ot),stop:()=>{Ne.forEach(le=>{le.stop()}),mt&&(kt(),mt=!1),it=!1,dt=!1,Nt=!0,rt=void 0,he=void 0,ht=void 0,Me=0,Je=!1,ft=!0,un=!1,De.forEach(le=>le.c(0,Ot)),De.length=0},destroy:le=>(Ne.forEach(He=>{He.destroy(le)}),(le=>{kt(),le&&xt()})(le),oe.length=0,Ne.length=0,Ke.length=0,we.length=0,me.length=0,mt=!1,Nt=!0,Ot),keyframes:le=>{const He=Ke!==le;return Ke=le,He&&(le=>{It&&mn().forEach(He=>{const zt=He.effect;if(zt.setKeyframes)zt.setKeyframes(le);else{const dn=new KeyframeEffect(zt.target,le,zt.getTiming());He.effect=dn}})})(Ke),Ot},addAnimation:le=>{if(null!=le)if(Array.isArray(le))for(const He of le)He.parent(Ot),Ne.push(He);else le.parent(Ot),Ne.push(le);return Ot},addElement:le=>{if(null!=le)if(1===le.nodeType)oe.push(le);else if(le.length>=0)for(let He=0;He<le.length;He++)oe.push(le[He]);else console.error("Invalid addElement value");return Ot},update:Mn,fill:le=>(et=le,Mn(!0),Ot),direction:le=>(Qe=le,Mn(!0),Ot),iterations:le=>(_e=le,Mn(!0),Ot),duration:le=>(!It&&0===le&&(le=1),ot=le,Mn(!0),Ot),easing:le=>(Re=le,Mn(!0),Ot),delay:le=>(Be=le,Mn(!0),Ot),getWebAnimations:mn,getKeyframes:()=>Ke,getFill:Un,getDirection:mr,getDelay:fr,getIterations:er,getEasing:Dn,getDuration:Ei,afterAddRead:le=>(st.push(le),Ot),afterAddWrite:le=>(_t.push(le),Ot),afterClearStyles:(le=[])=>{for(const He of le)xe[He]="";return Ot},afterStyles:(le={})=>(xe=le,Ot),afterRemoveClass:le=>(Te=W(Te,le),Ot),afterAddClass:le=>(At=W(At,le),Ot),beforeAddRead:le=>(Ze.push(le),Ot),beforeAddWrite:le=>(je.push(le),Ot),beforeClearStyles:(le=[])=>{for(const He of le)Mt[He]="";return Ot},beforeStyles:(le={})=>(Mt=le,Ot),beforeRemoveClass:le=>(yt=W(yt,le),Ot),beforeAddClass:le=>(ct=W(ct,le),Ot),onFinish:ke,isRunning:()=>0!==Me&&!un,progressStart:(le=!1,He)=>(Ne.forEach(zt=>{zt.progressStart(le,He)}),wi(),it=le,mt||Ir(),Mn(!1,!0,He),Ot),progressStep:le=>(Ne.forEach(He=>{He.progressStep(le)}),gt(le),Ot),progressEnd:(le,He,zt)=>(it=!1,Ne.forEach(dn=>{dn.progressEnd(le,He,zt)}),void 0!==zt&&(he=zt),Je=!1,ft=!0,0===le?(rt="reverse"===mr()?"normal":"reverse","reverse"===rt&&(ft=!1),It?(Mn(),gt(1-He)):(ht=(1-He)*Ei()*-1,Mn(!1,!1))):1===le&&(It?(Mn(),gt(He)):(ht=He*Ei()*-1,Mn(!1,!1))),void 0!==le&&!ut&&Pr(),Ot)}}},464:(Pn,Dt,V)=>{"use strict";V.d(Dt,{E:()=>Re,a:()=>d,s:()=>Be});const d=_e=>{try{if(_e instanceof Se)return _e.value;if(!ve()||"string"!=typeof _e||""===_e)return _e;if(_e.includes("onload="))return"";const et=document.createDocumentFragment(),Qe=document.createElement("div");et.appendChild(Qe),Qe.innerHTML=_e,Ee.forEach(mt=>{const ut=et.querySelectorAll(mt);for(let Mt=ut.length-1;Mt>=0;Mt--){const At=ut[Mt];At.parentNode?At.parentNode.removeChild(At):et.removeChild(At);const Te=B(At);for(let xe=0;xe<Te.length;xe++)o(Te[xe])}});const Ke=B(et);for(let mt=0;mt<Ke.length;mt++)o(Ke[mt]);const ct=document.createElement("div");ct.appendChild(et);const yt=ct.querySelector("div");return null!==yt?yt.innerHTML:ct.innerHTML}catch(et){return console.error(et),""}},o=_e=>{if(_e.nodeType&&1!==_e.nodeType)return;if(typeof NamedNodeMap<"u"&&!(_e.attributes instanceof NamedNodeMap))return void _e.remove();for(let Qe=_e.attributes.length-1;Qe>=0;Qe--){const Ke=_e.attributes.item(Qe),ct=Ke.name;if(!W.includes(ct.toLowerCase())){_e.removeAttribute(ct);continue}const yt=Ke.value,mt=_e[ct];(null!=yt&&yt.toLowerCase().includes("javascript:")||null!=mt&&mt.toLowerCase().includes("javascript:"))&&_e.removeAttribute(ct)}const et=B(_e);for(let Qe=0;Qe<et.length;Qe++)o(et[Qe])},B=_e=>null!=_e.children?_e.children:_e.childNodes,ve=()=>{var _e;const et=window,Qe=null===(_e=null==et?void 0:et.Ionic)||void 0===_e?void 0:_e.config;return!Qe||(Qe.get?Qe.get("sanitizerEnabled",!0):!0===Qe.sanitizerEnabled||void 0===Qe.sanitizerEnabled)},W=["class","id","href","src","name","slot"],Ee=["script","style","iframe","meta","link","object","embed"];class Se{constructor(et){this.value=et}}const Be=_e=>{const et=window,Qe=et.Ionic;if(!Qe||!Qe.config||"Object"===Qe.config.constructor.name)return et.Ionic=et.Ionic||{},et.Ionic.config=Object.assign(Object.assign({},et.Ionic.config),_e),et.Ionic.config},Re=!1},8621:(Pn,Dt,V)=>{"use strict";V.d(Dt,{C:()=>W,a:()=>B,d:()=>ve});var d=V(467),o=V(4920);const B=function(){var Ee=(0,d.A)(function*(Se,Be,ot,Re,_e,et){var Qe;if(Se)return Se.attachViewToDom(Be,ot,_e,Re);if(!(et||"string"==typeof ot||ot instanceof HTMLElement))throw new Error("framework delegate is missing");const Ke="string"==typeof ot?null===(Qe=Be.ownerDocument)||void 0===Qe?void 0:Qe.createElement(ot):ot;return Re&&Re.forEach(ct=>Ke.classList.add(ct)),_e&&Object.assign(Ke,_e),Be.appendChild(Ke),yield new Promise(ct=>(0,o.c)(Ke,ct)),Ke});return function(Be,ot,Re,_e,et,Qe){return Ee.apply(this,arguments)}}(),ve=(Ee,Se)=>{if(Se){if(Ee)return Ee.removeViewFromDom(Se.parentElement,Se);Se.remove()}return Promise.resolve()},W=()=>{let Ee,Se;return{attachViewToDom:function(){var Re=(0,d.A)(function*(_e,et,Qe={},Ke=[]){var ct,yt;let mt;if(Ee=_e,et){const Mt="string"==typeof et?null===(ct=Ee.ownerDocument)||void 0===ct?void 0:ct.createElement(et):et;Ke.forEach(At=>Mt.classList.add(At)),Object.assign(Mt,Qe),Ee.appendChild(Mt),mt=Mt,yield new Promise(At=>(0,o.c)(Mt,At))}else if(Ee.children.length>0&&("ION-MODAL"===Ee.tagName||"ION-POPOVER"===Ee.tagName)&&!(mt=Ee.children[0]).classList.contains("ion-delegate-host")){const At=null===(yt=Ee.ownerDocument)||void 0===yt?void 0:yt.createElement("div");At.classList.add("ion-delegate-host"),Ke.forEach(Te=>At.classList.add(Te)),At.append(...Ee.children),Ee.appendChild(At),mt=At}const ut=document.querySelector("ion-app")||document.body;return Se=document.createComment("ionic teleport"),Ee.parentNode.insertBefore(Se,Ee),ut.appendChild(Ee),null!=mt?mt:Ee});return function(et,Qe){return Re.apply(this,arguments)}}(),removeViewFromDom:()=>(Ee&&Se&&(Se.parentNode.insertBefore(Ee,Se),Se.remove()),Promise.resolve())}}},1970:(Pn,Dt,V)=>{"use strict";V.d(Dt,{B:()=>ve,G:()=>W});class o{constructor(Se,Be,ot,Re,_e){this.id=Be,this.name=ot,this.disableScroll=_e,this.priority=1e6*Re+Be,this.ctrl=Se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Se=this.ctrl.capture(this.name,this.id,this.priority);return Se&&this.disableScroll&&this.ctrl.disableScroll(this.id),Se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class B{constructor(Se,Be,ot,Re){this.id=Be,this.disable=ot,this.disableScroll=Re,this.ctrl=Se}block(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.disableGesture(Se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.enableGesture(Se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ve="backdrop-no-scroll",W=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Se){var Be;return new o(this,this.newID(),Se.name,null!==(Be=Se.priority)&&void 0!==Be?Be:0,!!Se.disableScroll)}createBlocker(Se={}){return new B(this,this.newID(),Se.disable,!!Se.disableScroll)}start(Se,Be,ot){return this.canStart(Se)?(this.requestedStart.set(Be,ot),!0):(this.requestedStart.delete(Be),!1)}capture(Se,Be,ot){if(!this.start(Se,Be,ot))return!1;const Re=this.requestedStart;let _e=-1e4;if(Re.forEach(et=>{_e=Math.max(_e,et)}),_e===ot){this.capturedId=Be,Re.clear();const et=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Se}});return document.dispatchEvent(et),!0}return Re.delete(Be),!1}release(Se){this.requestedStart.delete(Se),this.capturedId===Se&&(this.capturedId=void 0)}disableGesture(Se,Be){let ot=this.disabledGestures.get(Se);void 0===ot&&(ot=new Set,this.disabledGestures.set(Se,ot)),ot.add(Be)}enableGesture(Se,Be){const ot=this.disabledGestures.get(Se);void 0!==ot&&ot.delete(Be)}disableScroll(Se){this.disabledScroll.add(Se),1===this.disabledScroll.size&&document.body.classList.add(ve)}enableScroll(Se){this.disabledScroll.delete(Se),0===this.disabledScroll.size&&document.body.classList.remove(ve)}canStart(Se){return!(void 0!==this.capturedId||this.isDisabled(Se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Se){const Be=this.disabledGestures.get(Se);return!!(Be&&Be.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(Pn,Dt,V)=>{"use strict";V.r(Dt),V.d(Dt,{MENU_BACK_BUTTON_PRIORITY:()=>ot,OVERLAY_BACK_BUTTON_PRIORITY:()=>Be,blockHardwareBackButton:()=>Ee,shouldUseCloseWatcher:()=>W,startHardwareBackButton:()=>Se});var d=V(467),o=V(8476),B=V(9483);V(4261);const W=()=>B.c.get("experimentalCloseWatcher",!1)&&void 0!==o.w&&"CloseWatcher"in o.w,Ee=()=>{document.addEventListener("backbutton",()=>{})},Se=()=>{const Re=document;let _e=!1;const et=()=>{if(_e)return;let Qe=0,Ke=[];const ct=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ut,Mt){Ke.push({priority:ut,handler:Mt,id:Qe++})}}});Re.dispatchEvent(ct);const yt=function(){var ut=(0,d.A)(function*(Mt){try{if(null!=Mt&&Mt.handler){const At=Mt.handler(mt);null!=At&&(yield At)}}catch(At){console.error(At)}});return function(At){return ut.apply(this,arguments)}}(),mt=()=>{if(Ke.length>0){let ut={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ke.forEach(Mt=>{Mt.priority>=ut.priority&&(ut=Mt)}),_e=!0,Ke=Ke.filter(Mt=>Mt.id!==ut.id),yt(ut).then(()=>_e=!1)}};mt()};if(W()){let Qe;const Ke=()=>{null==Qe||Qe.destroy(),Qe=new o.w.CloseWatcher,Qe.onclose=()=>{et(),Ke()}};Ke()}else Re.addEventListener("backbutton",et)},Be=100,ot=99},4920:(Pn,Dt,V)=>{"use strict";V.d(Dt,{a:()=>Be,b:()=>ot,c:()=>B,d:()=>Ke,e:()=>Mt,f:()=>Qe,g:()=>Re,h:()=>W,i:()=>Se,j:()=>ct,k:()=>ve,l:()=>et,m:()=>yt,n:()=>ut,o:()=>At,p:()=>mt,r:()=>_e,s:()=>Te,t:()=>d});const d=(xe,Me=0)=>new Promise(it=>{o(xe,Me,it)}),o=(xe,Me=0,it)=>{let dt,rt;const he={passive:!0},ft=()=>{dt&&dt()},Je=Nt=>{(void 0===Nt||xe===Nt.target)&&(ft(),it(Nt))};return xe&&(xe.addEventListener("webkitTransitionEnd",Je,he),xe.addEventListener("transitionend",Je,he),rt=setTimeout(Je,Me+500),dt=()=>{void 0!==rt&&(clearTimeout(rt),rt=void 0),xe.removeEventListener("webkitTransitionEnd",Je,he),xe.removeEventListener("transitionend",Je,he)}),ft},B=(xe,Me)=>{xe.componentOnReady?xe.componentOnReady().then(it=>Me(it)):_e(()=>Me(xe))},ve=xe=>void 0!==xe.componentOnReady,W=(xe,Me=[])=>{const it={};return Me.forEach(dt=>{xe.hasAttribute(dt)&&(null!==xe.getAttribute(dt)&&(it[dt]=xe.getAttribute(dt)),xe.removeAttribute(dt))}),it},Ee=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Se=(xe,Me)=>{let it=Ee;return Me&&Me.length>0&&(it=it.filter(dt=>!Me.includes(dt))),W(xe,it)},Be=(xe,Me,it,dt)=>{var rt;if(typeof window<"u"){const he=window,ht=null===(rt=null==he?void 0:he.Ionic)||void 0===rt?void 0:rt.config;if(ht){const ft=ht.get("_ael");if(ft)return ft(xe,Me,it,dt);if(ht._ael)return ht._ael(xe,Me,it,dt)}}return xe.addEventListener(Me,it,dt)},ot=(xe,Me,it,dt)=>{var rt;if(typeof window<"u"){const he=window,ht=null===(rt=null==he?void 0:he.Ionic)||void 0===rt?void 0:rt.config;if(ht){const ft=ht.get("_rel");if(ft)return ft(xe,Me,it,dt);if(ht._rel)return ht._rel(xe,Me,it,dt)}}return xe.removeEventListener(Me,it,dt)},Re=(xe,Me=xe)=>xe.shadowRoot||Me,_e=xe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(xe):"function"==typeof requestAnimationFrame?requestAnimationFrame(xe):setTimeout(xe),et=xe=>!!xe.shadowRoot&&!!xe.attachShadow,Qe=xe=>{if(xe.focus(),xe.classList.contains("ion-focusable")){const Me=xe.closest("ion-app");Me&&Me.setFocus([xe])}},Ke=(xe,Me,it,dt,rt)=>{if(xe||et(Me)){let he=Me.querySelector("input.aux-input");he||(he=Me.ownerDocument.createElement("input"),he.type="hidden",he.classList.add("aux-input"),Me.appendChild(he)),he.disabled=rt,he.name=it,he.value=dt||""}},ct=(xe,Me,it)=>Math.max(xe,Math.min(Me,it)),yt=(xe,Me)=>{if(!xe){const it="ASSERT: "+Me;throw console.error(it),new Error(it)}},mt=xe=>{if(xe){const Me=xe.changedTouches;if(Me&&Me.length>0){const it=Me[0];return{x:it.clientX,y:it.clientY}}if(void 0!==xe.pageX)return{x:xe.pageX,y:xe.pageY}}return{x:0,y:0}},ut=xe=>{const Me="rtl"===document.dir;switch(xe){case"start":return Me;case"end":return!Me;default:throw new Error(`"${xe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Mt=(xe,Me)=>{const it=xe._original||xe;return{_original:xe,emit:At(it.emit.bind(it),Me)}},At=(xe,Me=0)=>{let it;return(...dt)=>{clearTimeout(it),it=setTimeout(xe,Me,...dt)}},Te=(xe,Me)=>{if(null!=xe||(xe={}),null!=Me||(Me={}),xe===Me)return!0;const it=Object.keys(xe);if(it.length!==Object.keys(Me).length)return!1;for(const dt of it)if(!(dt in Me)||xe[dt]!==Me[dt])return!1;return!0}},1702:(Pn,Dt,V)=>{"use strict";V.d(Dt,{m:()=>Qe});var d=V(467),o=V(8476),B=V(7192),ve=V(4929),W=V(4920),Ee=V(9483),Se=V(9986);const Be=Ke=>(0,Se.c)().duration(Ke?400:300),ot=Ke=>{let ct,yt;const mt=Ke.width+8,ut=(0,Se.c)(),Mt=(0,Se.c)();Ke.isEndSide?(ct=mt+"px",yt="0px"):(ct=-mt+"px",yt="0px"),ut.addElement(Ke.menuInnerEl).fromTo("transform",`translateX(${ct})`,`translateX(${yt})`);const Te="ios"===(0,Ee.b)(Ke),xe=Te?.2:.25;return Mt.addElement(Ke.backdropEl).fromTo("opacity",.01,xe),Be(Te).addAnimation([ut,Mt])},Re=Ke=>{let ct,yt;const mt=(0,Ee.b)(Ke),ut=Ke.width;Ke.isEndSide?(ct=-ut+"px",yt=ut+"px"):(ct=ut+"px",yt=-ut+"px");const Mt=(0,Se.c)().addElement(Ke.menuInnerEl).fromTo("transform",`translateX(${yt})`,"translateX(0px)"),At=(0,Se.c)().addElement(Ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`),Te=(0,Se.c)().addElement(Ke.backdropEl).fromTo("opacity",.01,.32);return Be("ios"===mt).addAnimation([Mt,At,Te])},_e=Ke=>{const ct=(0,Ee.b)(Ke),yt=Ke.width*(Ke.isEndSide?-1:1)+"px",mt=(0,Se.c)().addElement(Ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${yt})`);return Be("ios"===ct).addAnimation(mt)},Qe=(()=>{const Ke=new Map,ct=[],yt=function(){var De=(0,d.A)(function*(oe){const Ne=yield Me(oe,!0);return!!Ne&&Ne.open()});return function(Ne){return De.apply(this,arguments)}}(),mt=function(){var De=(0,d.A)(function*(oe){const Ne=yield void 0!==oe?Me(oe,!0):it();return void 0!==Ne&&Ne.close()});return function(Ne){return De.apply(this,arguments)}}(),ut=function(){var De=(0,d.A)(function*(oe){const Ne=yield Me(oe,!0);return!!Ne&&Ne.toggle()});return function(Ne){return De.apply(this,arguments)}}(),Mt=function(){var De=(0,d.A)(function*(oe,Ne){const ze=yield Me(Ne);return ze&&(ze.disabled=!oe),ze});return function(Ne,ze){return De.apply(this,arguments)}}(),At=function(){var De=(0,d.A)(function*(oe,Ne){const ze=yield Me(Ne);return ze&&(ze.swipeGesture=oe),ze});return function(Ne,ze){return De.apply(this,arguments)}}(),Te=function(){var De=(0,d.A)(function*(oe){if(null!=oe){const Ne=yield Me(oe);return void 0!==Ne&&Ne.isOpen()}return void 0!==(yield it())});return function(Ne){return De.apply(this,arguments)}}(),xe=function(){var De=(0,d.A)(function*(oe){const Ne=yield Me(oe);return!!Ne&&!Ne.disabled});return function(Ne){return De.apply(this,arguments)}}(),Me=function(){var De=(0,d.A)(function*(oe,Ne=!1){if(yield me(),"start"===oe||"end"===oe){const Ze=ct.filter(st=>st.side===oe&&!st.disabled);if(Ze.length>=1)return Ze.length>1&&Ne&&(0,ve.p)(`menuController queried for a menu on the "${oe}" side, but ${Ze.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ze.map(st=>st.el)),Ze[0].el;const je=ct.filter(st=>st.side===oe);if(je.length>=1)return je.length>1&&Ne&&(0,ve.p)(`menuController queried for a menu on the "${oe}" side, but ${je.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,je.map(st=>st.el)),je[0].el}else if(null!=oe)return we(Ze=>Ze.menuId===oe);return we(Ze=>!Ze.disabled)||(ct.length>0?ct[0].el:void 0)});return function(Ne){return De.apply(this,arguments)}}(),it=function(){var De=(0,d.A)(function*(){return yield me(),Ot()});return function(){return De.apply(this,arguments)}}(),dt=function(){var De=(0,d.A)(function*(){return yield me(),un()});return function(){return De.apply(this,arguments)}}(),rt=function(){var De=(0,d.A)(function*(){return yield me(),Ge()});return function(){return De.apply(this,arguments)}}(),he=(De,oe)=>{Ke.set(De,oe)},Je=function(){var De=(0,d.A)(function*(oe,Ne,ze,Ze){if(Ge())return!1;if(Ne){const je=yield it();je&&oe.el!==je&&(yield je.setOpen(!1,!1))}return oe._setOpen(Ne,ze,Ze)});return function(Ne,ze,Ze,je){return De.apply(this,arguments)}}(),Ot=()=>we(De=>De._isOpen),un=()=>ct.map(De=>De.el),Ge=()=>ct.some(De=>De.isAnimating),we=De=>{const oe=ct.find(De);if(void 0!==oe)return oe.el},me=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(De=>new Promise(oe=>(0,W.c)(De,oe))));return he("reveal",_e),he("push",Re),he("overlay",ot),null==o.d||o.d.addEventListener("ionBackButton",De=>{const oe=Ot();oe&&De.detail.register(B.MENU_BACK_BUTTON_PRIORITY,()=>oe.close())}),{registerAnimation:he,get:Me,getMenus:dt,getOpen:it,isEnabled:xe,swipeGesture:At,isAnimating:rt,isOpen:Te,enable:Mt,toggle:ut,close:mt,open:yt,_getOpenSync:Ot,_createAnimation:(De,oe)=>{const Ne=Ke.get(De);if(!Ne)throw new Error("animation not registered");return Ne(oe)},_register:De=>{ct.indexOf(De)<0&&ct.push(De)},_unregister:De=>{const oe=ct.indexOf(De);oe>-1&&ct.splice(oe,1)},_setOpen:Je}})()},4261:(Pn,Dt,V)=>{"use strict";V.d(Dt,{B:()=>Ee,a:()=>Nt,b:()=>so,c:()=>Un,d:()=>er,e:()=>st,f:()=>Tn,g:()=>mr,h:()=>nr,i:()=>Ei,j:()=>ei,k:()=>Ft,r:()=>ot,w:()=>_t});var d=V(467);var ve=Object.defineProperty,Ee={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Se=new WeakMap,Be=E=>Se.get(E),ot=(E,O)=>Se.set(O.$lazyInstance$=E,O),_e=(E,O)=>O in E,et=(E,O)=>(0,console.error)(E,O),Qe=new Map,ct=new Map,yt=[],Te="s-id",dt="slot-fb{display:contents}slot-fb[hidden]{display:none}",rt="http://www.w3.org/1999/xlink",he=typeof window<"u"?window:{},ht=he.document||{head:{}},Je={$flags$:0,$resourcesUrl$:"",jmp:E=>E(),raf:E=>requestAnimationFrame(E),ael:(E,O,A,G)=>E.addEventListener(O,A,G),rel:(E,O,A,G)=>E.removeEventListener(O,A,G),ce:(E,O)=>new CustomEvent(E,O)},Nt=E=>{Object.assign(Je,E)},un=(()=>{let E=!1;try{ht.addEventListener("e",null,Object.defineProperty({},"passive",{get(){E=!0}}))}catch{}return E})(),we=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),me=!1,De=[],oe=[],Ne=(E,O)=>A=>{E.push(A),me||(me=!0,O&&4&Je.$flags$?je(Ze):Je.raf(Ze))},ze=E=>{for(let O=0;O<E.length;O++)try{E[O](performance.now())}catch(A){et(A)}E.length=0},Ze=()=>{ze(De),ze(oe),(me=De.length>0)&&Je.raf(Ze)},je=E=>Promise.resolve(void 0).then(E),st=Ne(De,!1),_t=Ne(oe,!0),Ft=E=>{const O=new URL(E,Je.$resourcesUrl$);return O.origin!==he.location.origin?O.href:O.pathname},Nn={},Gn=E=>"object"==(E=typeof E)||"function"===E;function qt(E){var O,A,G;return null!=(G=null==(A=null==(O=E.head)?void 0:O.querySelector('meta[name="csp-nonce"]'))?void 0:A.getAttribute("content"))?G:void 0}((E,O)=>{for(var A in O)ve(E,A,{get:O[A],enumerable:!0})})({},{err:()=>rn,map:()=>ke,ok:()=>On,unwrap:()=>Fe,unwrapErr:()=>kt});var On=E=>({isOk:!0,isErr:!1,value:E}),rn=E=>({isOk:!1,isErr:!0,value:E});function ke(E,O){if(E.isOk){const A=O(E.value);return A instanceof Promise?A.then(G=>On(G)):On(A)}if(E.isErr)return rn(E.value);throw"should never get here"}var Fe=E=>{if(E.isOk)return E.value;throw E.value},kt=E=>{if(E.isErr)return E.value;throw E.value},nr=(E,O,...A)=>{let G=null,se=null,nt=null,tn=!1,Et=!1;const Ht=[],an=Bn=>{for(let Xn=0;Xn<Bn.length;Xn++)G=Bn[Xn],Array.isArray(G)?an(G):null!=G&&"boolean"!=typeof G&&((tn="function"!=typeof E&&!Gn(G))&&(G=String(G)),tn&&Et?Ht[Ht.length-1].$text$+=G:Ht.push(tn?Vn(null,G):G),Et=tn)};if(an(A),O){O.key&&(se=O.key),O.name&&(nt=O.name);{const Bn=O.className||O.class;Bn&&(O.class="object"!=typeof Bn?Bn:Object.keys(Bn).filter(Xn=>Bn[Xn]).join(" "))}}if("function"==typeof E)return E(null===O?{}:O,Ht,rr);const wn=Vn(E,null);return wn.$attrs$=O,Ht.length>0&&(wn.$children$=Ht),wn.$key$=se,wn.$name$=nt,wn},Vn=(E,O)=>({$flags$:0,$tag$:E,$text$:O,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Tn={},rr={forEach:(E,O)=>E.map(zn).forEach(O),map:(E,O)=>E.map(zn).map(O).map(Yn)},zn=E=>({vattrs:E.$attrs$,vchildren:E.$children$,vkey:E.$key$,vname:E.$name$,vtag:E.$tag$,vtext:E.$text$}),Yn=E=>{if("function"==typeof E.vtag){const A={...E.vattrs};return E.vkey&&(A.key=E.vkey),E.vname&&(A.name=E.vname),nr(E.vtag,A,...E.vchildren||[])}const O=Vn(E.vtag,E.vtext);return O.$attrs$=E.vattrs,O.$children$=E.vchildren,O.$key$=E.vkey,O.$name$=E.vname,O},jr=(E,O,A,G,se,nt,tn)=>{let Et,Ht,an,wn;if(1===nt.nodeType){if(Et=nt.getAttribute("c-id"),Et&&(Ht=Et.split("."),(Ht[0]===tn||"0"===Ht[0])&&(an={$flags$:0,$hostId$:Ht[0],$nodeId$:Ht[1],$depth$:Ht[2],$index$:Ht[3],$tag$:nt.tagName.toLowerCase(),$elm$:nt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},O.push(an),nt.removeAttribute("c-id"),E.$children$||(E.$children$=[]),E.$children$[an.$index$]=an,E=an,G&&"0"===an.$depth$&&(G[an.$index$]=an.$elm$))),nt.shadowRoot)for(wn=nt.shadowRoot.childNodes.length-1;wn>=0;wn--)jr(E,O,A,G,se,nt.shadowRoot.childNodes[wn],tn);for(wn=nt.childNodes.length-1;wn>=0;wn--)jr(E,O,A,G,se,nt.childNodes[wn],tn)}else if(8===nt.nodeType)Ht=nt.nodeValue.split("."),(Ht[1]===tn||"0"===Ht[1])&&(Et=Ht[0],an={$flags$:0,$hostId$:Ht[1],$nodeId$:Ht[2],$depth$:Ht[3],$index$:Ht[4],$elm$:nt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Et?(an.$elm$=nt.nextSibling,an.$elm$&&3===an.$elm$.nodeType&&(an.$text$=an.$elm$.textContent,O.push(an),nt.remove(),E.$children$||(E.$children$=[]),E.$children$[an.$index$]=an,G&&"0"===an.$depth$&&(G[an.$index$]=an.$elm$))):an.$hostId$===tn&&("s"===Et?(an.$tag$="slot",nt["s-sn"]=Ht[5]?an.$name$=Ht[5]:"",nt["s-sr"]=!0,G&&(an.$elm$=ht.createElement(an.$tag$),an.$name$&&an.$elm$.setAttribute("name",an.$name$),nt.parentNode.insertBefore(an.$elm$,nt),nt.remove(),"0"===an.$depth$&&(G[an.$index$]=an.$elm$)),A.push(an),E.$children$||(E.$children$=[]),E.$children$[an.$index$]=an):"r"===Et&&(G?nt.remove():(se["s-cr"]=nt,nt["s-cn"]=!0))));else if(E&&"style"===E.$tag$){const Bn=Vn(null,nt.textContent);Bn.$elm$=nt,Bn.$index$="0",E.$children$=[Bn]}},Cn=(E,O)=>{if(1===E.nodeType){let A=0;if(E.shadowRoot)for(;A<E.shadowRoot.childNodes.length;A++)Cn(E.shadowRoot.childNodes[A],O);for(A=0;A<E.childNodes.length;A++)Cn(E.childNodes[A],O)}else if(8===E.nodeType){const A=E.nodeValue.split(".");"o"===A[0]&&(O.set(A[1]+"."+A[2],E),E.nodeValue="",E["s-en"]=A[3])}},Un=E=>yt.push(E),mr=E=>Be(E).$modeName$,Ei=E=>Be(E).$hostElement$,er=(E,O,A)=>{const G=Ei(E);return{emit:se=>fr(G,O,{bubbles:!!(4&A),composed:!!(2&A),cancelable:!!(1&A),detail:se})}},fr=(E,O,A)=>{const G=Je.ce(O,A);return E.dispatchEvent(G),G},_r=new WeakMap,Gt=(E,O,A)=>{var G;const se=Kt(O,A),nt=ct.get(se);if(E=11===E.nodeType?E:ht,nt)if("string"==typeof nt){let Et,tn=_r.get(E=E.head||E);if(tn||_r.set(E,tn=new Set),!tn.has(se)){if(E.host&&(Et=E.querySelector(`[sty-id="${se}"]`)))Et.innerHTML=nt;else{Et=ht.createElement("style"),Et.innerHTML=nt;const Ht=null!=(G=Je.$nonce$)?G:qt(ht);null!=Ht&&Et.setAttribute("nonce",Ht),(!(1&O.$flags$)||1&O.$flags$&&"HEAD"!==E.nodeName)&&E.insertBefore(Et,E.querySelector("link"))}4&O.$flags$&&(Et.innerHTML+=dt),tn&&tn.add(se)}}else E.adoptedStyleSheets.includes(nt)||(E.adoptedStyleSheets=[...E.adoptedStyleSheets,nt]);return se},Kt=(E,O)=>"sc-"+(O&&32&E.$flags$?E.$tagName$+"-"+O:E.$tagName$),bt=(E,O,A,G,se,nt)=>{if(A!==G){let tn=_e(E,O),Et=O.toLowerCase();if("class"===O){const Ht=E.classList,an=at(A),wn=at(G);Ht.remove(...an.filter(Bn=>Bn&&!wn.includes(Bn))),Ht.add(...wn.filter(Bn=>Bn&&!an.includes(Bn)))}else if("style"===O){for(const Ht in A)(!G||null==G[Ht])&&(Ht.includes("-")?E.style.removeProperty(Ht):E.style[Ht]="");for(const Ht in G)(!A||G[Ht]!==A[Ht])&&(Ht.includes("-")?E.style.setProperty(Ht,G[Ht]):E.style[Ht]=G[Ht])}else if("key"!==O)if("ref"===O)G&&G(E);else if(tn||"o"!==O[0]||"n"!==O[1]){const Ht=Gn(G);if((tn||Ht&&null!==G)&&!se)try{if(E.tagName.includes("-"))E[O]=G;else{const wn=null==G?"":G;"list"===O?tn=!1:(null==A||E[O]!=wn)&&(E[O]=wn)}}catch{}let an=!1;Et!==(Et=Et.replace(/^xlink\:?/,""))&&(O=Et,an=!0),null==G||!1===G?(!1!==G||""===E.getAttribute(O))&&(an?E.removeAttributeNS(rt,O):E.removeAttribute(O)):(!tn||4&nt||se)&&!Ht&&(G=!0===G?"":G,an?E.setAttributeNS(rt,O,G):E.setAttribute(O,G))}else if(O="-"===O[2]?O.slice(3):_e(he,Et)?Et.slice(2):Et[2]+O.slice(3),A||G){const Ht=O.endsWith(J);O=O.replace(Q,""),A&&Je.rel(E,O,A,Ht),G&&Je.ael(E,O,G,Ht)}}},Ue=/\s/,at=E=>E?E.split(Ue):[],J="Capture",Q=new RegExp(J+"$"),re=(E,O,A)=>{const G=11===O.$elm$.nodeType&&O.$elm$.host?O.$elm$.host:O.$elm$,se=E&&E.$attrs$||Nn,nt=O.$attrs$||Nn;for(const tn of Oe(Object.keys(se)))tn in nt||bt(G,tn,se[tn],void 0,A,O.$flags$);for(const tn of Oe(Object.keys(nt)))bt(G,tn,se[tn],nt[tn],A,O.$flags$)};function Oe(E){return E.includes("ref")?[...E.filter(O=>"ref"!==O),"ref"]:E}var $e,Qt,An,qn=!1,Ir=!1,gt=!1,vr=!1,Mn=(E,O,A,G)=>{var se;const nt=O.$children$[A];let Et,Ht,an,tn=0;if(qn||(gt=!0,"slot"===nt.$tag$&&($e&&G.classList.add($e+"-s"),nt.$flags$|=nt.$children$?2:1)),null!==nt.$text$)Et=nt.$elm$=ht.createTextNode(nt.$text$);else if(1&nt.$flags$)Et=nt.$elm$=ht.createTextNode("");else{if(vr||(vr="svg"===nt.$tag$),Et=nt.$elm$=ht.createElementNS(vr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!qn&&2&nt.$flags$?"slot-fb":nt.$tag$),vr&&"foreignObject"===nt.$tag$&&(vr=!1),re(null,nt,vr),!!Et.getRootNode().querySelector("body")&&(E=>null!=E)($e)&&Et["s-si"]!==$e&&Et.classList.add(Et["s-si"]=$e),dn(Et,G),nt.$children$)for(tn=0;tn<nt.$children$.length;++tn)Ht=Mn(E,nt,tn,Et),Ht&&Et.appendChild(Ht);"svg"===nt.$tag$?vr=!1:"foreignObject"===Et.tagName&&(vr=!0)}return Et["s-hn"]=An,3&nt.$flags$&&(Et["s-sr"]=!0,Et["s-cr"]=Qt,Et["s-sn"]=nt.$name$||"",Et["s-rf"]=null==(se=nt.$attrs$)?void 0:se.ref,an=E&&E.$children$&&E.$children$[A],an&&an.$tag$===nt.$tag$&&E.$elm$&&Hr(E.$elm$)),Et},Hr=E=>{Je.$flags$|=1;const O=E.closest(An.toLowerCase());if(null!=O){const A=Array.from(O.childNodes).find(se=>se["s-cr"]),G=Array.from(E.childNodes);for(const se of A?G.reverse():G)null!=se["s-sh"]&&(He(O,se,null!=A?A:null),se["s-sh"]=void 0,gt=!0)}Je.$flags$&=-2},Qr=(E,O)=>{Je.$flags$|=1;const A=Array.from(E.childNodes);if(E["s-sr"]){let G=E;for(;G=G.nextSibling;)G&&G["s-sn"]===E["s-sn"]&&G["s-sh"]===An&&A.push(G)}for(let G=A.length-1;G>=0;G--){const se=A[G];se["s-hn"]!==An&&se["s-ol"]&&(He(Ko(se),se,Ro(se)),se["s-ol"].remove(),se["s-ol"]=void 0,se["s-sh"]=void 0,gt=!0),O&&Qr(se,O)}Je.$flags$&=-2},Jn=(E,O,A,G,se,nt)=>{let Et,tn=E["s-cr"]&&E["s-cr"].parentNode||E;for(tn.shadowRoot&&tn.tagName===An&&(tn=tn.shadowRoot);se<=nt;++se)G[se]&&(Et=Mn(null,A,se,E),Et&&(G[se].$elm$=Et,He(tn,Et,Ro(O))))},wi=(E,O,A)=>{for(let G=O;G<=A;++G){const se=E[G];if(se){const nt=se.$elm$;le(se),nt&&(Ir=!0,nt["s-ol"]?nt["s-ol"].remove():Qr(nt,!0),nt.remove())}}},$i=(E,O,A=!1)=>!(E.$tag$!==O.$tag$||("slot"===E.$tag$?"$nodeId$"in E&&A&&8!==E.$elm$.nodeType||E.$name$!==O.$name$:!A&&E.$key$!==O.$key$)),Ro=E=>E&&E["s-ol"]||E,Ko=E=>(E["s-ol"]?E["s-ol"]:E).parentNode,Pr=(E,O,A=!1)=>{const G=O.$elm$=E.$elm$,se=E.$children$,nt=O.$children$,tn=O.$tag$,Et=O.$text$;let Ht;null===Et?(vr="svg"===tn||"foreignObject"!==tn&&vr,"slot"!==tn||qn?re(E,O,vr):E.$name$!==O.$name$&&(O.$elm$["s-sn"]=O.$name$||"",Hr(O.$elm$.parentElement)),null!==se&&null!==nt?((E,O,A,G,se=!1)=>{let vi,ii,nt=0,tn=0,Et=0,Ht=0,an=O.length-1,wn=O[0],Bn=O[an],Xn=G.length-1,ir=G[0],Gr=G[Xn];for(;nt<=an&&tn<=Xn;)if(null==wn)wn=O[++nt];else if(null==Bn)Bn=O[--an];else if(null==ir)ir=G[++tn];else if(null==Gr)Gr=G[--Xn];else if($i(wn,ir,se))Pr(wn,ir,se),wn=O[++nt],ir=G[++tn];else if($i(Bn,Gr,se))Pr(Bn,Gr,se),Bn=O[--an],Gr=G[--Xn];else if($i(wn,Gr,se))("slot"===wn.$tag$||"slot"===Gr.$tag$)&&Qr(wn.$elm$.parentNode,!1),Pr(wn,Gr,se),He(E,wn.$elm$,Bn.$elm$.nextSibling),wn=O[++nt],Gr=G[--Xn];else if($i(Bn,ir,se))("slot"===wn.$tag$||"slot"===Gr.$tag$)&&Qr(Bn.$elm$.parentNode,!1),Pr(Bn,ir,se),He(E,Bn.$elm$,wn.$elm$),Bn=O[--an],ir=G[++tn];else{for(Et=-1,Ht=nt;Ht<=an;++Ht)if(O[Ht]&&null!==O[Ht].$key$&&O[Ht].$key$===ir.$key$){Et=Ht;break}Et>=0?(ii=O[Et],ii.$tag$!==ir.$tag$?vi=Mn(O&&O[tn],A,Et,E):(Pr(ii,ir,se),O[Et]=void 0,vi=ii.$elm$),ir=G[++tn]):(vi=Mn(O&&O[tn],A,tn,E),ir=G[++tn]),vi&&He(Ko(wn.$elm$),vi,Ro(wn.$elm$))}nt>an?Jn(E,null==G[Xn+1]?null:G[Xn+1].$elm$,A,G,tn,Xn):tn>Xn&&wi(O,nt,an)})(G,se,O,nt,A):null!==nt?(null!==E.$text$&&(G.textContent=""),Jn(G,null,O,nt,0,nt.length-1)):!A&&null!==se&&wi(se,0,se.length-1),vr&&"svg"===tn&&(vr=!1)):(Ht=G["s-cr"])?Ht.parentNode.textContent=Et:E.$text$!==Et&&(G.data=Et)},Ye=E=>{const O=E.childNodes;for(const A of O)if(1===A.nodeType){if(A["s-sr"]){const G=A["s-sn"];A.hidden=!1;for(const se of O)if(se!==A)if(se["s-hn"]!==A["s-hn"]||""!==G){if(1===se.nodeType&&(G===se.getAttribute("slot")||G===se["s-sn"])||3===se.nodeType&&G===se["s-sn"]){A.hidden=!0;break}}else if(1===se.nodeType||3===se.nodeType&&""!==se.textContent.trim()){A.hidden=!0;break}}Ye(A)}},be=[],Ct=E=>{let O,A,G;for(const se of E.childNodes){if(se["s-sr"]&&(O=se["s-cr"])&&O.parentNode){A=O.parentNode.childNodes;const nt=se["s-sn"];for(G=A.length-1;G>=0;G--)if(O=A[G],!(O["s-cn"]||O["s-nr"]||O["s-hn"]===se["s-hn"]||O["s-sh"]&&O["s-sh"]===se["s-hn"]))if(de(O,nt)){let tn=be.find(Et=>Et.$nodeToRelocate$===O);Ir=!0,O["s-sn"]=O["s-sn"]||nt,tn?(tn.$nodeToRelocate$["s-sh"]=se["s-hn"],tn.$slotRefNode$=se):(O["s-sh"]=se["s-hn"],be.push({$slotRefNode$:se,$nodeToRelocate$:O})),O["s-sr"]&&be.map(Et=>{de(Et.$nodeToRelocate$,O["s-sn"])&&(tn=be.find(Ht=>Ht.$nodeToRelocate$===O),tn&&!Et.$slotRefNode$&&(Et.$slotRefNode$=tn.$slotRefNode$))})}else be.some(tn=>tn.$nodeToRelocate$===O)||be.push({$nodeToRelocate$:O})}1===se.nodeType&&Ct(se)}},de=(E,O)=>1===E.nodeType?null===E.getAttribute("slot")&&""===O||E.getAttribute("slot")===O:E["s-sn"]===O||""===O,le=E=>{E.$attrs$&&E.$attrs$.ref&&E.$attrs$.ref(null),E.$children$&&E.$children$.map(le)},He=(E,O,A)=>{const G=null==E?void 0:E.insertBefore(O,A);return dn(O,E),G},zt=E=>{const O=[];return E&&O.push(...E["s-scs"]||[],E["s-si"],E["s-sc"],...zt(E.parentElement)),O},dn=(E,O,A=!1)=>{var G;if(E&&O&&1===E.nodeType){const se=new Set(zt(O).filter(Boolean));if(se.size&&(null==(G=E.classList)||G.add(...E["s-scs"]=[...se]),E["s-ol"]||A))for(const nt of Array.from(E.childNodes))dn(nt,E,!0)}},Hn=(E,O)=>{O&&!E.$onRenderResolve$&&O["s-p"]&&O["s-p"].push(new Promise(A=>E.$onRenderResolve$=A))},Ar=(E,O)=>{if(E.$flags$|=16,!(4&E.$flags$))return Hn(E,E.$ancestorComponent$),_t(()=>tr(E,O));E.$flags$|=512},tr=(E,O)=>{const se=E.$lazyInstance$;if(!se)throw new Error(`Can't render component <${E.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let nt;return O&&(E.$flags$|=256,E.$queuedListeners$&&(E.$queuedListeners$.map(([tn,Et])=>Xi(se,tn,Et)),E.$queuedListeners$=void 0),nt=Xi(se,"componentWillLoad")),nt=Bi(nt,()=>Xi(se,"componentWillRender")),Bi(nt,()=>Di(E,se,O))},Bi=(E,O)=>hr(E)?E.then(O).catch(A=>{console.error(A),O()}):O(),hr=E=>E instanceof Promise||E&&E.then&&"function"==typeof E.then,Di=function(){var E=(0,d.A)(function*(O,A,G){var se;const nt=O.$hostElement$,Et=nt["s-rc"];G&&(E=>{const O=E.$cmpMeta$,A=E.$hostElement$,G=O.$flags$,nt=Gt(A.shadowRoot?A.shadowRoot:A.getRootNode(),O,E.$modeName$);10&G&&2&G&&(A["s-sc"]=nt,A.classList.add(nt+"-h"),2&G&&A.classList.add(nt+"-s"))})(O);Ui(O,A,nt,G),Et&&(Et.map(an=>an()),nt["s-rc"]=void 0);{const an=null!=(se=nt["s-p"])?se:[],wn=()=>yo(O);0===an.length?wn():(Promise.all(an).then(wn),O.$flags$|=4,an.length=0)}});return function(A,G,se){return E.apply(this,arguments)}}(),Ui=(E,O,A,G)=>{try{O=O.render&&O.render(),E.$flags$&=-17,E.$flags$|=2,((E,O,A=!1)=>{var G,se,nt,tn,Et;const Ht=E.$hostElement$,an=E.$cmpMeta$,wn=E.$vnode$||Vn(null,null),Bn=(E=>E&&E.$tag$===Tn)(O)?O:nr(null,null,O);if(An=Ht.tagName,an.$attrsToReflect$&&(Bn.$attrs$=Bn.$attrs$||{},an.$attrsToReflect$.map(([Xn,ir])=>Bn.$attrs$[ir]=Ht[Xn])),A&&Bn.$attrs$)for(const Xn of Object.keys(Bn.$attrs$))Ht.hasAttribute(Xn)&&!["key","ref","style","class"].includes(Xn)&&(Bn.$attrs$[Xn]=Ht[Xn]);if(Bn.$tag$=null,Bn.$flags$|=4,E.$vnode$=Bn,Bn.$elm$=wn.$elm$=Ht.shadowRoot||Ht,$e=Ht["s-sc"],qn=!!(1&an.$flags$),Qt=Ht["s-cr"],Ir=!1,Pr(wn,Bn,A),Je.$flags$|=1,gt){Ct(Bn.$elm$);for(const Xn of be){const ir=Xn.$nodeToRelocate$;if(!ir["s-ol"]){const Gr=ht.createTextNode("");Gr["s-nr"]=ir,He(ir.parentNode,ir["s-ol"]=Gr,ir)}}for(const Xn of be){const ir=Xn.$nodeToRelocate$,Gr=Xn.$slotRefNode$;if(Gr){const vi=Gr.parentNode;let ii=Gr.nextSibling;if(ii&&1===ii.nodeType){let ui=null==(G=ir["s-ol"])?void 0:G.previousSibling;for(;ui;){let di=null!=(se=ui["s-nr"])?se:null;if(di&&di["s-sn"]===ir["s-sn"]&&vi===di.parentNode){for(di=di.nextSibling;di===ir||null!=di&&di["s-sr"];)di=null==di?void 0:di.nextSibling;if(!di||!di["s-nr"]){ii=di;break}}ui=ui.previousSibling}}(!ii&&vi!==ir.parentNode||ir.nextSibling!==ii)&&ir!==ii&&(He(vi,ir,ii),1===ir.nodeType&&(ir.hidden=null!=(nt=ir["s-ih"])&&nt)),ir&&"function"==typeof Gr["s-rf"]&&Gr["s-rf"](ir)}else 1===ir.nodeType&&(A&&(ir["s-ih"]=null!=(tn=ir.hidden)&&tn),ir.hidden=!0)}}if(Ir&&Ye(Bn.$elm$),Je.$flags$&=-2,be.length=0,2&an.$flags$)for(const Xn of Bn.$elm$.childNodes)Xn["s-hn"]!==An&&!Xn["s-sh"]&&(A&&null==Xn["s-ih"]&&(Xn["s-ih"]=null!=(Et=Xn.hidden)&&Et),Xn.hidden=!0);Qt=void 0})(E,O,G)}catch(se){et(se,E.$hostElement$)}return null},yo=E=>{const A=E.$hostElement$,se=E.$lazyInstance$,nt=E.$ancestorComponent$;Xi(se,"componentDidRender"),64&E.$flags$?Xi(se,"componentDidUpdate"):(E.$flags$|=64,co(A),Xi(se,"componentDidLoad"),E.$onReadyResolve$(A),nt||Po()),E.$onInstanceResolve$(A),E.$onRenderResolve$&&(E.$onRenderResolve$(),E.$onRenderResolve$=void 0),512&E.$flags$&&je(()=>Ar(E,!1)),E.$flags$&=-517},ei=E=>{{const O=Be(E),A=O.$hostElement$.isConnected;return A&&2==(18&O.$flags$)&&Ar(O,!1),A}},Po=E=>{co(ht.documentElement),je(()=>fr(he,"appload",{detail:{namespace:"ionic"}}))},Xi=(E,O,A)=>{if(E&&E[O])try{return E[O](A)}catch(G){et(G)}},co=E=>E.classList.add("hydrated"),qi=(E,O,A)=>{var G,se;const nt=E.prototype;if(O.$members$||O.$watchers$||E.watchers){E.watchers&&!O.$watchers$&&(O.$watchers$=E.watchers);const tn=Object.entries(null!=(G=O.$members$)?G:{});if(tn.map(([Et,[Ht]])=>{31&Ht||2&A&&32&Ht?Object.defineProperty(nt,Et,{get(){return((E,O)=>Be(this).$instanceValues$.get(O))(0,Et)},set(an){((E,O,A,G)=>{const se=Be(E);if(!se)throw new Error(`Couldn't find host element for "${G.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const nt=se.$hostElement$,tn=se.$instanceValues$.get(O),Et=se.$flags$,Ht=se.$lazyInstance$;A=((E,O)=>null==E||Gn(E)?E:4&O?"false"!==E&&(""===E||!!E):2&O?parseFloat(E):1&O?String(E):E)(A,G.$members$[O][0]);const an=Number.isNaN(tn)&&Number.isNaN(A);if((!(8&Et)||void 0===tn)&&A!==tn&&!an&&(se.$instanceValues$.set(O,A),Ht)){if(G.$watchers$&&128&Et){const Bn=G.$watchers$[O];Bn&&Bn.map(Xn=>{try{Ht[Xn](A,tn,O)}catch(ir){et(ir,nt)}})}2==(18&Et)&&Ar(se,!1)}})(this,Et,an,O)},configurable:!0,enumerable:!0}):1&A&&64&Ht&&Object.defineProperty(nt,Et,{value(...an){var wn;const Bn=Be(this);return null==(wn=null==Bn?void 0:Bn.$onInstancePromise$)?void 0:wn.then(()=>{var Xn;return null==(Xn=Bn.$lazyInstance$)?void 0:Xn[Et](...an)})}})}),1&A){const Et=new Map;nt.attributeChangedCallback=function(Ht,an,wn){Je.jmp(()=>{var Bn;const Xn=Et.get(Ht);if(this.hasOwnProperty(Xn))wn=this[Xn],delete this[Xn];else{if(nt.hasOwnProperty(Xn)&&"number"==typeof this[Xn]&&this[Xn]==wn)return;if(null==Xn){const ir=Be(this),Gr=null==ir?void 0:ir.$flags$;if(Gr&&!(8&Gr)&&128&Gr&&wn!==an){const vi=ir.$lazyInstance$,ii=null==(Bn=O.$watchers$)?void 0:Bn[Ht];null==ii||ii.forEach(ui=>{null!=vi[ui]&&vi[ui].call(vi,wn,an,Ht)})}return}}this[Xn]=(null!==wn||"boolean"!=typeof this[Xn])&&wn})},E.observedAttributes=Array.from(new Set([...Object.keys(null!=(se=O.$watchers$)?se:{}),...tn.filter(([Ht,an])=>15&an[0]).map(([Ht,an])=>{var wn;const Bn=an[1]||Ht;return Et.set(Bn,Ht),512&an[0]&&(null==(wn=O.$attrsToReflect$)||wn.push([Ht,Bn])),Bn})]))}}return E},Bo=function(){var E=(0,d.A)(function*(O,A,G,se){let nt;if(!(32&A.$flags$)){if(A.$flags$|=32,G.$lazyBundleId$){const an=(E=>{const G=E.$tagName$.replace(/-/g,"_"),se=E.$lazyBundleId$;if(!se)return;const nt=Qe.get(se);return nt?nt[G]:V(8996)(`./${se}.entry.js`).then(tn=>(Qe.set(se,tn),tn[G]),et)})(G);if(an&&"then"in an){const Bn=()=>{};nt=yield an,Bn()}else nt=an;if(!nt)throw new Error(`Constructor for "${G.$tagName$}#${A.$modeName$}" was not found`);nt.isProxied||(G.$watchers$=nt.watchers,qi(nt,G,2),nt.isProxied=!0);const wn=()=>{};A.$flags$|=8;try{new nt(A)}catch(Bn){et(Bn)}A.$flags$&=-9,A.$flags$|=128,wn(),ts(A.$lazyInstance$)}else nt=O.constructor,customElements.whenDefined(O.localName).then(()=>A.$flags$|=128);if(nt&&nt.style){let an;"string"==typeof nt.style?an=nt.style:"string"!=typeof nt.style&&(A.$modeName$=(E=>yt.map(O=>O(E)).find(O=>!!O))(O),A.$modeName$&&(an=nt.style[A.$modeName$]));const wn=Kt(G,A.$modeName$);if(!ct.has(wn)){const Bn=()=>{};((E,O,A)=>{let G=ct.get(E);we&&A?(G=G||new CSSStyleSheet,"string"==typeof G?G=O:G.replaceSync(O)):G=O,ct.set(E,G)})(wn,an,!!(1&G.$flags$)),Bn()}}}const tn=A.$ancestorComponent$,Et=()=>Ar(A,!0);tn&&tn["s-rc"]?tn["s-rc"].push(Et):Et()});return function(A,G,se,nt){return E.apply(this,arguments)}}(),ts=E=>{Xi(E,"connectedCallback")},uo=E=>{const O=E["s-cr"]=ht.createComment("");O["s-cn"]=!0,He(E,O,E.firstChild)},Kr=E=>{Xi(E,"disconnectedCallback")},fs=function(){var E=(0,d.A)(function*(O){if(!(1&Je.$flags$)){const A=Be(O);A.$rmListeners$&&(A.$rmListeners$.map(G=>G()),A.$rmListeners$=void 0),null!=A&&A.$lazyInstance$?Kr(A.$lazyInstance$):null!=A&&A.$onReadyPromise$&&A.$onReadyPromise$.then(()=>Kr(A.$lazyInstance$))}});return function(A){return E.apply(this,arguments)}}(),$r=E=>{const O=E.cloneNode;E.cloneNode=function(A){const G=this,se=G.shadowRoot&&true,nt=O.call(G,!!se&&A);if(!se&&A){let Et,Ht,tn=0;const an=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;tn<G.childNodes.length;tn++)Et=G.childNodes[tn]["s-nr"],Ht=an.every(wn=>!G.childNodes[tn][wn]),Et&&(nt.__appendChild?nt.__appendChild(Et.cloneNode(!0)):nt.appendChild(Et.cloneNode(!0))),Ht&&nt.appendChild(G.childNodes[tn].cloneNode(!0))}return nt}},Ks=E=>{E.__appendChild=E.appendChild,E.appendChild=function(O){const A=O["s-sn"]=Ri(O),G=yr(this.childNodes,A,this.tagName);if(G){const se=Qo(G,A),nt=se[se.length-1],tn=He(nt.parentNode,O,nt.nextSibling);return Ye(this),tn}return this.__appendChild(O)}},Is=E=>{E.__removeChild=E.removeChild,E.removeChild=function(O){if(O&&typeof O["s-sn"]<"u"){const A=yr(this.childNodes,O["s-sn"],this.tagName);if(A){const se=Qo(A,O["s-sn"]).find(nt=>nt===O);if(se)return se.remove(),void Ye(this)}}return this.__removeChild(O)}},ho=E=>{const O=E.prepend;E.prepend=function(...A){A.forEach(G=>{"string"==typeof G&&(G=this.ownerDocument.createTextNode(G));const se=G["s-sn"]=Ri(G),nt=yr(this.childNodes,se,this.tagName);if(nt){const tn=document.createTextNode("");tn["s-nr"]=G,nt["s-cr"].parentNode.__appendChild(tn),G["s-ol"]=tn;const Ht=Qo(nt,se)[0];return He(Ht.parentNode,G,Ht.nextSibling)}return 1===G.nodeType&&G.getAttribute("slot")&&(G.hidden=!0),O.call(this,G)})}},Si=E=>{E.append=function(...O){O.forEach(A=>{"string"==typeof A&&(A=this.ownerDocument.createTextNode(A)),this.appendChild(A)})}},Es=E=>{const O=E.insertAdjacentHTML;E.insertAdjacentHTML=function(A,G){if("afterbegin"!==A&&"beforeend"!==A)return O.call(this,A,G);const se=this.ownerDocument.createElement("_");let nt;if(se.innerHTML=G,"afterbegin"===A)for(;nt=se.firstChild;)this.prepend(nt);else if("beforeend"===A)for(;nt=se.firstChild;)this.append(nt)}},Mo=E=>{E.insertAdjacentText=function(O,A){this.insertAdjacentHTML(O,A)}},Mr=E=>{const O=E.insertAdjacentElement;E.insertAdjacentElement=function(A,G){return"afterbegin"!==A&&"beforeend"!==A?O.call(this,A,G):"afterbegin"===A?(this.prepend(G),G):("beforeend"===A&&this.append(G),G)}},Xs=E=>{const O=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(E,"__textContent",O),Object.defineProperty(E,"textContent",{get(){return" "+_i(this.childNodes).map(se=>{var nt,tn;const Et=[];let Ht=se.nextSibling;for(;Ht&&Ht["s-sn"]===se["s-sn"];)(3===Ht.nodeType||1===Ht.nodeType)&&Et.push(null!=(tn=null==(nt=Ht.textContent)?void 0:nt.trim())?tn:""),Ht=Ht.nextSibling;return Et.filter(an=>""!==an).join(" ")}).filter(se=>""!==se).join(" ")+" "},set(A){_i(this.childNodes).forEach(se=>{let nt=se.nextSibling;for(;nt&&nt["s-sn"]===se["s-sn"];){const tn=nt;nt=nt.nextSibling,tn.remove()}if(""===se["s-sn"]){const tn=this.ownerDocument.createTextNode(A);tn["s-sn"]="",He(se.parentElement,tn,se.nextSibling)}else se.remove()})}})},pi=(E,O)=>{class A extends Array{item(se){return this[se]}}if(8&O.$flags$){const G=E.__lookupGetter__("childNodes");Object.defineProperty(E,"children",{get(){return this.childNodes.map(se=>1===se.nodeType)}}),Object.defineProperty(E,"childElementCount",{get:()=>E.children.length}),Object.defineProperty(E,"childNodes",{get(){const se=G.call(this);if(!(1&Je.$flags$)&&2&Be(this).$flags$){const nt=new A;for(let tn=0;tn<se.length;tn++){const Et=se[tn]["s-nr"];Et&&nt.push(Et)}return nt}return A.from(se)}})}},_i=E=>{const O=[];for(const A of Array.from(E))A["s-sr"]&&O.push(A),O.push(..._i(A.childNodes));return O},Ri=E=>E["s-sn"]||1===E.nodeType&&E.getAttribute("slot")||"",yr=(E,O,A)=>{let se,G=0;for(;G<E.length;G++)if(se=E[G],se["s-sr"]&&se["s-sn"]===O&&se["s-hn"]===A||(se=yr(se.childNodes,O,A),se))return se;return null},Qo=(E,O)=>{const A=[E];for(;(E=E.nextSibling)&&E["s-sn"]===O;)A.push(E);return A},so=(E,O={})=>{var A;const se=[],nt=O.exclude||[],tn=he.customElements,Et=ht.head,Ht=Et.querySelector("meta[charset]"),an=ht.createElement("style"),wn=[];let Bn,Xn=!0;Object.assign(Je,O),Je.$resourcesUrl$=new URL(O.resourcesUrl||"./",ht.baseURI).href,Je.$flags$|=2;let ir=!1;if(E.map(Gr=>{Gr[1].map(vi=>{var ii;const ui={$flags$:vi[0],$tagName$:vi[1],$members$:vi[2],$listeners$:vi[3]};4&ui.$flags$&&(ir=!0),ui.$members$=vi[2],ui.$listeners$=vi[3],ui.$attrsToReflect$=[],ui.$watchers$=null!=(ii=vi[4])?ii:{};const di=ui.$tagName$,ao=class extends HTMLElement{constructor(Eo){if(super(Eo),this.hasRegisteredEventListeners=!1,((E,O)=>{const A={$flags$:0,$hostElement$:E,$cmpMeta$:O,$instanceValues$:new Map};A.$onInstancePromise$=new Promise(G=>A.$onInstanceResolve$=G),A.$onReadyPromise$=new Promise(G=>A.$onReadyResolve$=G),E["s-p"]=[],E["s-rc"]=[],Se.set(E,A)})(Eo=this,ui),1&ui.$flags$)if(Eo.shadowRoot){if("open"!==Eo.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${ui.$tagName$}! Mode is set to ${Eo.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Eo.attachShadow({mode:"open",delegatesFocus:!!(16&ui.$flags$)})}connectedCallback(){const Eo=Be(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ti(this,Eo,ui.$listeners$)),Bn&&(clearTimeout(Bn),Bn=null),Xn?wn.push(this):Je.jmp(()=>(E=>{if(!(1&Je.$flags$)){const O=Be(E),A=O.$cmpMeta$,G=()=>{};if(1&O.$flags$)ti(E,O,A.$listeners$),null!=O&&O.$lazyInstance$?ts(O.$lazyInstance$):null!=O&&O.$onReadyPromise$&&O.$onReadyPromise$.then(()=>ts(O.$lazyInstance$));else{let se;if(O.$flags$|=1,se=E.getAttribute(Te),se){if(1&A.$flags$){const nt=Gt(E.shadowRoot,A,E.getAttribute("s-mode"));E.classList.remove(nt+"-h",nt+"-s")}((E,O,A,G)=>{const nt=E.shadowRoot,tn=[],Ht=nt?[]:null,an=G.$vnode$=Vn(O,null);Je.$orgLocNodes$||Cn(ht.body,Je.$orgLocNodes$=new Map),E[Te]=A,E.removeAttribute(Te),jr(an,tn,[],Ht,E,E,A),tn.map(wn=>{const Bn=wn.$hostId$+"."+wn.$nodeId$,Xn=Je.$orgLocNodes$.get(Bn),ir=wn.$elm$;Xn&&""===Xn["s-en"]&&Xn.parentNode.insertBefore(ir,Xn.nextSibling),nt||(ir["s-hn"]=O,Xn&&(ir["s-ol"]=Xn,ir["s-ol"]["s-nr"]=ir)),Je.$orgLocNodes$.delete(Bn)}),nt&&Ht.map(wn=>{wn&&nt.appendChild(wn)})})(E,A.$tagName$,se,O)}se||12&A.$flags$&&uo(E);{let nt=E;for(;nt=nt.parentNode||nt.host;)if(1===nt.nodeType&&nt.hasAttribute("s-id")&&nt["s-p"]||nt["s-p"]){Hn(O,O.$ancestorComponent$=nt);break}}A.$members$&&Object.entries(A.$members$).map(([nt,[tn]])=>{if(31&tn&&E.hasOwnProperty(nt)){const Et=E[nt];delete E[nt],E[nt]=Et}}),Bo(E,O,A)}G()}})(this))}disconnectedCallback(){Je.jmp(()=>fs(this))}componentOnReady(){return Be(this).$onReadyPromise$}};2&ui.$flags$&&((E,O)=>{$r(E),Ks(E),Si(E),ho(E),Mr(E),Es(E),Mo(E),Xs(E),pi(E,O),Is(E)})(ao.prototype,ui),ui.$lazyBundleId$=Gr[0],!nt.includes(di)&&!tn.get(di)&&(se.push(di),tn.define(di,qi(ao,ui,1)))})}),se.length>0&&(ir&&(an.textContent+=dt),an.textContent+=se.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",an.innerHTML.length)){an.setAttribute("data-styles","");const Gr=null!=(A=Je.$nonce$)?A:qt(ht);null!=Gr&&an.setAttribute("nonce",Gr),Et.insertBefore(an,Ht?Ht.nextSibling:Et.firstChild)}Xn=!1,wn.length?wn.map(Gr=>Gr.connectedCallback()):Je.jmp(()=>Bn=setTimeout(Po,30))},ti=(E,O,A,G)=>{A&&A.map(([se,nt,tn])=>{const Et=xo(E,se),Ht=ns(O,tn),an=bi(se);Je.ael(Et,nt,Ht,an),(O.$rmListeners$=O.$rmListeners$||[]).push(()=>Je.rel(Et,nt,Ht,an))})},ns=(E,O)=>A=>{var G;try{256&E.$flags$?null==(G=E.$lazyInstance$)||G[O](A):(E.$queuedListeners$=E.$queuedListeners$||[]).push([O,A])}catch(se){et(se)}},xo=(E,O)=>4&O?ht:8&O?he:16&O?ht.body:E,bi=E=>un?{passive:!!(1&E),capture:!!(2&E)}:!!(2&E)},8607:(Pn,Dt,V)=>{"use strict";V.r(Dt),V.d(Dt,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>ot});var d=V(1970);const o=(Qe,Ke,ct,yt)=>{const mt=B(Qe)?{capture:!!yt.capture,passive:!!yt.passive}:!!yt.capture;let ut,Mt;return Qe.__zone_symbol__addEventListener?(ut="__zone_symbol__addEventListener",Mt="__zone_symbol__removeEventListener"):(ut="addEventListener",Mt="removeEventListener"),Qe[ut](Ke,ct,mt),()=>{Qe[Mt](Ke,ct,mt)}},B=Qe=>{if(void 0===ve)try{const Ke=Object.defineProperty({},"passive",{get:()=>{ve=!0}});Qe.addEventListener("optsTest",()=>{},Ke)}catch{ve=!1}return!!ve};let ve;const Se=Qe=>Qe instanceof Document?Qe:Qe.ownerDocument,ot=Qe=>{let Ke=!1,ct=!1,yt=!0,mt=!1;const ut=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Qe),Mt=ut.canStart,At=ut.onWillStart,Te=ut.onStart,xe=ut.onEnd,Me=ut.notCaptured,it=ut.onMove,dt=ut.threshold,rt=ut.passive,he=ut.blurOnStart,ht={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ft=((Qe,Ke,ct)=>{const yt=ct*(Math.PI/180),mt="x"===Qe,ut=Math.cos(yt),Mt=Ke*Ke;let At=0,Te=0,xe=!1,Me=0;return{start(it,dt){At=it,Te=dt,Me=0,xe=!0},detect(it,dt){if(!xe)return!1;const rt=it-At,he=dt-Te,ht=rt*rt+he*he;if(ht<Mt)return!1;const ft=Math.sqrt(ht),Je=(mt?rt:he)/ft;return Me=Je>ut?1:Je<-ut?-1:0,xe=!1,!0},isGesture:()=>0!==Me,getDirection:()=>Me}})(ut.direction,ut.threshold,ut.maxAngle),Je=d.G.createGesture({name:Qe.gestureName,priority:Qe.gesturePriority,disableScroll:Qe.disableScroll}),un=()=>{Ke&&(mt=!1,it&&it(ht))},Ge=()=>!!Je.capture()&&(Ke=!0,yt=!1,ht.startX=ht.currentX,ht.startY=ht.currentY,ht.startTime=ht.currentTime,At?At(ht).then(me):me(),!0),me=()=>{he&&(()=>{if(typeof document<"u"){const Ze=document.activeElement;null!=Ze&&Ze.blur&&Ze.blur()}})(),Te&&Te(ht),yt=!0},De=()=>{Ke=!1,ct=!1,mt=!1,yt=!0,Je.release()},oe=Ze=>{const je=Ke,st=yt;if(De(),st){if(Re(ht,Ze),je)return void(xe&&xe(ht));Me&&Me(ht)}},Ne=((Qe,Ke,ct,yt,mt)=>{let ut,Mt,At,Te,xe,Me,it,dt=0;const rt=we=>{dt=Date.now()+2e3,Ke(we)&&(!Mt&&ct&&(Mt=o(Qe,"touchmove",ct,mt)),At||(At=o(we.target,"touchend",ht,mt)),Te||(Te=o(we.target,"touchcancel",ht,mt)))},he=we=>{dt>Date.now()||Ke(we)&&(!Me&&ct&&(Me=o(Se(Qe),"mousemove",ct,mt)),it||(it=o(Se(Qe),"mouseup",ft,mt)))},ht=we=>{Je(),yt&&yt(we)},ft=we=>{Nt(),yt&&yt(we)},Je=()=>{Mt&&Mt(),At&&At(),Te&&Te(),Mt=At=Te=void 0},Nt=()=>{Me&&Me(),it&&it(),Me=it=void 0},Ot=()=>{Je(),Nt()},un=(we=!0)=>{we?(ut||(ut=o(Qe,"touchstart",rt,mt)),xe||(xe=o(Qe,"mousedown",he,mt))):(ut&&ut(),xe&&xe(),ut=xe=void 0,Ot())};return{enable:un,stop:Ot,destroy:()=>{un(!1),yt=ct=Ke=void 0}}})(ut.el,Ze=>{const je=et(Ze);return!(ct||!yt||(_e(Ze,ht),ht.startX=ht.currentX,ht.startY=ht.currentY,ht.startTime=ht.currentTime=je,ht.velocityX=ht.velocityY=ht.deltaX=ht.deltaY=0,ht.event=Ze,Mt&&!1===Mt(ht))||(Je.release(),!Je.start()))&&(ct=!0,0===dt?Ge():(ft.start(ht.startX,ht.startY),!0))},Ze=>{Ke?!mt&&yt&&(mt=!0,Re(ht,Ze),requestAnimationFrame(un)):(Re(ht,Ze),ft.detect(ht.currentX,ht.currentY)&&(!ft.isGesture()||!Ge())&&ze())},oe,{capture:!1,passive:rt}),ze=()=>{De(),Ne.stop(),Me&&Me(ht)};return{enable(Ze=!0){Ze||(Ke&&oe(void 0),De()),Ne.enable(Ze)},destroy(){Je.destroy(),Ne.destroy()}}},Re=(Qe,Ke)=>{if(!Ke)return;const ct=Qe.currentX,yt=Qe.currentY,mt=Qe.currentTime;_e(Ke,Qe);const ut=Qe.currentX,Mt=Qe.currentY,Te=(Qe.currentTime=et(Ke))-mt;if(Te>0&&Te<100){const Me=(Mt-yt)/Te;Qe.velocityX=(ut-ct)/Te*.7+.3*Qe.velocityX,Qe.velocityY=.7*Me+.3*Qe.velocityY}Qe.deltaX=ut-Qe.startX,Qe.deltaY=Mt-Qe.startY,Qe.event=Ke},_e=(Qe,Ke)=>{let ct=0,yt=0;if(Qe){const mt=Qe.changedTouches;if(mt&&mt.length>0){const ut=mt[0];ct=ut.clientX,yt=ut.clientY}else void 0!==Qe.pageX&&(ct=Qe.pageX,yt=Qe.pageY)}Ke.currentX=ct,Ke.currentY=yt},et=Qe=>Qe.timeStamp||Date.now()},3604:(Pn,Dt,V)=>{"use strict";V.d(Dt,{b:()=>Be,c:()=>ot,d:()=>Re,e:()=>Ot,g:()=>we,l:()=>Je,s:()=>un,t:()=>ut,w:()=>Nt});var d=V(467),o=V(9483),B=V(4261),ve=V(4929),W=V(4920);const Be="ionViewWillLeave",ot="ionViewDidLeave",Re="ionViewWillUnload",_e=me=>{me.tabIndex=-1,me.focus()},et=me=>null!==me.offsetParent,Ke="ion-last-focus",mt_saveViewFocus=oe=>{if(o.c.get("focusManagerPriority",!1)){const ze=document.activeElement;null!==ze&&null!=oe&&oe.contains(ze)&&ze.setAttribute(Ke,"true")}},mt_setViewFocus=oe=>{const Ne=o.c.get("focusManagerPriority",!1);if(Array.isArray(Ne)&&!oe.contains(document.activeElement)){const ze=oe.querySelector(`[${Ke}]`);if(ze&&et(ze))return void _e(ze);for(const Ze of Ne)switch(Ze){case"content":const je=oe.querySelector('main, [role="main"]');if(je&&et(je))return void _e(je);break;case"heading":const st=oe.querySelector('h1, [role="heading"][aria-level="1"]');if(st&&et(st))return void _e(st);break;case"banner":const _t=oe.querySelector('header, [role="banner"]');if(_t&&et(_t))return void _e(_t);break;default:(0,ve.p)(`Unrecognized focus manager priority value ${Ze}`)}_e(oe)}},ut=me=>new Promise((De,oe)=>{(0,B.w)(()=>{Mt(me),At(me).then(Ne=>{Ne.animation&&Ne.animation.destroy(),Te(me),De(Ne)},Ne=>{Te(me),oe(Ne)})})}),Mt=me=>{const De=me.enteringEl,oe=me.leavingEl;mt_saveViewFocus(oe),Ge(De,oe,me.direction),me.showGoBack?De.classList.add("can-go-back"):De.classList.remove("can-go-back"),un(De,!1),De.style.setProperty("pointer-events","none"),oe&&(un(oe,!1),oe.style.setProperty("pointer-events","none"))},At=function(){var me=(0,d.A)(function*(De){const oe=yield xe(De);return oe&&B.B.isBrowser?Me(oe,De):it(De)});return function(oe){return me.apply(this,arguments)}}(),Te=me=>{const De=me.enteringEl,oe=me.leavingEl;De.classList.remove("ion-page-invisible"),De.style.removeProperty("pointer-events"),void 0!==oe&&(oe.classList.remove("ion-page-invisible"),oe.style.removeProperty("pointer-events")),mt_setViewFocus(De)},xe=function(){var me=(0,d.A)(function*(De){return De.leavingEl&&De.animated&&0!==De.duration?De.animationBuilder?De.animationBuilder:"ios"===De.mode?(yield Promise.resolve().then(V.bind(V,5022))).iosTransitionAnimation:(yield Promise.resolve().then(V.bind(V,3615))).mdTransitionAnimation:void 0});return function(oe){return me.apply(this,arguments)}}(),Me=function(){var me=(0,d.A)(function*(De,oe){yield dt(oe,!0);const Ne=De(oe.baseEl,oe);ht(oe.enteringEl,oe.leavingEl);const ze=yield he(Ne,oe);return oe.progressCallback&&oe.progressCallback(void 0),ze&&ft(oe.enteringEl,oe.leavingEl),{hasCompleted:ze,animation:Ne}});return function(oe,Ne){return me.apply(this,arguments)}}(),it=function(){var me=(0,d.A)(function*(De){const oe=De.enteringEl,Ne=De.leavingEl,ze=o.c.get("focusManagerPriority",!1);return yield dt(De,ze),ht(oe,Ne),ft(oe,Ne),{hasCompleted:!0}});return function(oe){return me.apply(this,arguments)}}(),dt=function(){var me=(0,d.A)(function*(De,oe){(void 0!==De.deepWait?De.deepWait:oe)&&(yield Promise.all([Ot(De.enteringEl),Ot(De.leavingEl)])),yield rt(De.viewIsReady,De.enteringEl)});return function(oe,Ne){return me.apply(this,arguments)}}(),rt=function(){var me=(0,d.A)(function*(De,oe){De&&(yield De(oe))});return function(oe,Ne){return me.apply(this,arguments)}}(),he=(me,De)=>{const oe=De.progressCallback,Ne=new Promise(ze=>{me.onFinish(Ze=>ze(1===Ze))});return oe?(me.progressStart(!0),oe(me)):me.play(),Ne},ht=(me,De)=>{Je(De,Be),Je(me,"ionViewWillEnter")},ft=(me,De)=>{Je(me,"ionViewDidEnter"),Je(De,ot)},Je=(me,De)=>{if(me){const oe=new CustomEvent(De,{bubbles:!1,cancelable:!1});me.dispatchEvent(oe)}},Nt=()=>new Promise(me=>(0,W.r)(()=>(0,W.r)(()=>me()))),Ot=function(){var me=(0,d.A)(function*(De){const oe=De;if(oe){if(null!=oe.componentOnReady){if(null!=(yield oe.componentOnReady()))return}else if(null!=oe.__registerHost)return void(yield new Promise(ze=>(0,W.r)(ze)));yield Promise.all(Array.from(oe.children).map(Ot))}});return function(oe){return me.apply(this,arguments)}}(),un=(me,De)=>{De?(me.setAttribute("aria-hidden","true"),me.classList.add("ion-page-hidden")):(me.hidden=!1,me.removeAttribute("aria-hidden"),me.classList.remove("ion-page-hidden"))},Ge=(me,De,oe)=>{void 0!==me&&(me.style.zIndex="back"===oe?"99":"101"),void 0!==De&&(De.style.zIndex="100")},we=me=>me.classList.contains("ion-page")?me:me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||me},4929:(Pn,Dt,V)=>{"use strict";V.d(Dt,{a:()=>o,b:()=>B,p:()=>d});const d=(ve,...W)=>console.warn(`[Ionic Warning]: ${ve}`,...W),o=(ve,...W)=>console.error(`[Ionic Error]: ${ve}`,...W),B=(ve,...W)=>console.error(`<${ve.tagName.toLowerCase()}> must be used inside ${W.join(" or ")}.`)},8476:(Pn,Dt,V)=>{"use strict";V.d(Dt,{d:()=>o,w:()=>d});const d=typeof window<"u"?window:void 0,o=typeof document<"u"?document:void 0},9483:(Pn,Dt,V)=>{"use strict";V.d(Dt,{a:()=>_e,b:()=>un,c:()=>B,i:()=>Ge});var d=V(4261);class o{constructor(){this.m=new Map}reset(me){this.m=new Map(Object.entries(me))}get(me,De){const oe=this.m.get(me);return void 0!==oe?oe:De}getBoolean(me,De=!1){const oe=this.m.get(me);return void 0===oe?De:"string"==typeof oe?"true"===oe:!!oe}getNumber(me,De){const oe=parseFloat(this.m.get(me));return isNaN(oe)?void 0!==De?De:NaN:oe}set(me,De){this.m.set(me,De)}}const B=new o,ot="ionic-persist-config",_e=(we,me)=>("string"==typeof we&&(me=we,we=void 0),(we=>et(we))(we).includes(me)),et=(we=window)=>{if(typeof we>"u")return[];we.Ionic=we.Ionic||{};let me=we.Ionic.platforms;return null==me&&(me=we.Ionic.platforms=Qe(we),me.forEach(De=>we.document.documentElement.classList.add(`plt-${De}`))),me},Qe=we=>{const me=B.get("platform");return Object.keys(Nt).filter(De=>{const oe=null==me?void 0:me[De];return"function"==typeof oe?oe(we):Nt[De](we)})},ct=we=>!!(ft(we,/iPad/i)||ft(we,/Macintosh/i)&&xe(we)),ut=we=>ft(we,/android|sink/i),xe=we=>Je(we,"(any-pointer:coarse)"),it=we=>dt(we)||rt(we),dt=we=>!!(we.cordova||we.phonegap||we.PhoneGap),rt=we=>{const me=we.Capacitor;return!(null==me||!me.isNative)},ft=(we,me)=>me.test(we.navigator.userAgent),Je=(we,me)=>{var De;return null===(De=we.matchMedia)||void 0===De?void 0:De.call(we,me).matches},Nt={ipad:ct,iphone:we=>ft(we,/iPhone/i),ios:we=>ft(we,/iPhone|iPod/i)||ct(we),android:ut,phablet:we=>{const me=we.innerWidth,De=we.innerHeight,oe=Math.min(me,De),Ne=Math.max(me,De);return oe>390&&oe<520&&Ne>620&&Ne<800},tablet:we=>{const me=we.innerWidth,De=we.innerHeight,oe=Math.min(me,De),Ne=Math.max(me,De);return ct(we)||(we=>ut(we)&&!ft(we,/mobile/i))(we)||oe>460&&oe<820&&Ne>780&&Ne<1400},cordova:dt,capacitor:rt,electron:we=>ft(we,/electron/i),pwa:we=>{var me;return!!(null!==(me=we.matchMedia)&&void 0!==me&&me.call(we,"(display-mode: standalone)").matches||we.navigator.standalone)},mobile:xe,mobileweb:we=>xe(we)&&!it(we),desktop:we=>!xe(we),hybrid:it};let Ot;const un=we=>we&&(0,d.g)(we)||Ot,Ge=(we={})=>{if(typeof window>"u")return;const me=window.document,De=window,oe=De.Ionic=De.Ionic||{},Ne={};we._ael&&(Ne.ael=we._ael),we._rel&&(Ne.rel=we._rel),we._ce&&(Ne.ce=we._ce),(0,d.a)(Ne);const ze=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(we=>{try{const me=we.sessionStorage.getItem(ot);return null!==me?JSON.parse(me):{}}catch{return{}}})(De)),{persistConfig:!1}),oe.config),(we=>{const me={};return we.location.search.slice(1).split("&").map(De=>De.split("=")).map(([De,oe])=>{try{return[decodeURIComponent(De),decodeURIComponent(oe)]}catch{return["",""]}}).filter(([De])=>((we,me)=>we.substr(0,me.length)===me)(De,"ionic:")).map(([De,oe])=>[De.slice(6),oe]).forEach(([De,oe])=>{me[De]=oe}),me})(De)),we);B.reset(ze),B.getBoolean("persistConfig")&&((we,me)=>{try{we.sessionStorage.setItem(ot,JSON.stringify(me))}catch{return}})(De,ze),et(De),oe.config=B,oe.mode=Ot=B.get("mode",me.documentElement.getAttribute("mode")||(_e(De,"ios")?"ios":"md")),B.set("mode",Ot),me.documentElement.setAttribute("mode",Ot),me.documentElement.classList.add(Ot),B.getBoolean("_testing")&&B.set("animated",!1);const Ze=st=>{var _t;return null===(_t=st.tagName)||void 0===_t?void 0:_t.startsWith("ION-")},je=st=>["ios","md"].includes(st);(0,d.c)(st=>{for(;st;){const _t=st.mode||st.getAttribute("mode");if(_t){if(je(_t))return _t;Ze(st)&&console.warn('Invalid ionic mode: "'+_t+'", expected: "ios" or "md"')}st=st.parentElement}return Ot})}},5022:(Pn,Dt,V)=>{"use strict";V.r(Dt),V.d(Dt,{iosTransitionAnimation:()=>Ke,shadow:()=>Be});var d=V(9986),o=V(3604);V(8476),V(9483),V(4261);const Se=yt=>document.querySelector(`${yt}.ion-cloned-element`),Be=yt=>yt.shadowRoot||yt,ot=yt=>{const mt="ION-TABS"===yt.tagName?yt:yt.querySelector("ion-tabs"),ut="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=mt){const Mt=mt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Mt?Mt.querySelector(ut):null}return yt.querySelector(ut)},Re=(yt,mt)=>{const ut="ION-TABS"===yt.tagName?yt:yt.querySelector("ion-tabs");let Mt=[];if(null!=ut){const At=ut.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=At&&(Mt=At.querySelectorAll("ion-buttons"))}else Mt=yt.querySelectorAll("ion-buttons");for(const At of Mt){const Te=At.closest("ion-header"),xe=Te&&!Te.classList.contains("header-collapse-condense-inactive"),Me=At.querySelector("ion-back-button"),it=At.classList.contains("buttons-collapse");if(null!==Me&&("start"===At.slot||""===At.slot)&&(it&&xe&&mt||!it))return Me}return null},et=(yt,mt,ut,Mt,At,Te,xe,Me,it)=>{var dt,rt;const he=mt?`calc(100% - ${At.right+4}px)`:At.left-4+"px",ht=mt?"right":"left",ft=mt?"left":"right",Je=mt?"right":"left";let Nt=1,Ot=1,un=`scale(${Ot})`;const Ge="scale(1)";if(Te&&xe){const Fe=(null===(dt=Te.textContent)||void 0===dt?void 0:dt.trim())===(null===(rt=Me.textContent)||void 0===rt?void 0:rt.trim());Nt=it.width/xe.width,Ot=(it.height-ct)/xe.height,un=Fe?`scale(${Nt}, ${Ot})`:`scale(${Ot})`}const me=Be(Mt).querySelector("ion-icon").getBoundingClientRect(),De=mt?me.width/2-(me.right-At.right)+"px":At.left-me.width/2+"px",oe=mt?`-${window.innerWidth-At.right}px`:`${At.left}px`,Ne=`${it.top}px`,ze=`${At.top}px`,st=ut?[{offset:0,transform:`translate3d(${oe}, ${ze}, 0)`},{offset:1,transform:`translate3d(${De}, ${Ne}, 0)`}]:[{offset:0,transform:`translate3d(${De}, ${Ne}, 0)`},{offset:1,transform:`translate3d(${oe}, ${ze}, 0)`}],Nn=ut?[{offset:0,opacity:1,transform:Ge},{offset:1,opacity:0,transform:un}]:[{offset:0,opacity:0,transform:un},{offset:1,opacity:1,transform:Ge}],kn=ut?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Gn=(0,d.c)(),qt=(0,d.c)(),jt=(0,d.c)(),On=Se("ion-back-button"),rn=Be(On).querySelector(".button-text"),ke=Be(On).querySelector("ion-icon");On.text=Mt.text,On.mode=Mt.mode,On.icon=Mt.icon,On.color=Mt.color,On.disabled=Mt.disabled,On.style.setProperty("display","block"),On.style.setProperty("position","fixed"),qt.addElement(ke),Gn.addElement(rn),jt.addElement(On),jt.beforeStyles({position:"absolute",top:"0px",[Je]:"0px"}).beforeAddWrite(()=>{Mt.style.setProperty("display","none"),On.style.setProperty(ht,he)}).afterAddWrite(()=>{Mt.style.setProperty("display",""),On.style.setProperty("display","none"),On.style.removeProperty(ht)}).keyframes(st),Gn.beforeStyles({"transform-origin":`${ht} top`}).keyframes(Nn),qt.beforeStyles({"transform-origin":`${ft} center`}).keyframes(kn),yt.addAnimation([Gn,qt,jt])},Qe=(yt,mt,ut,Mt,At,Te,xe,Me,it)=>{var dt,rt;const he=mt?"right":"left",ht=mt?`calc(100% - ${At.right}px)`:`${At.left}px`,Je=`${At.top}px`;let Ot=mt?`-${window.innerWidth-xe.right-8}px`:`${xe.x+8}px`,un=.5;const Ge="scale(1)";let we=`scale(${un})`;if(Me&&it){Ot=mt?`-${window.innerWidth-it.right-8}px`:it.x-8+"px";const _t=(null===(dt=Me.textContent)||void 0===dt?void 0:dt.trim())===(null===(rt=Mt.textContent)||void 0===rt?void 0:rt.trim());un=it.height/(Te.height-ct),we=_t?`scale(${it.width/Te.width}, ${un})`:`scale(${un})`}const oe=xe.top+xe.height/2-At.height*un/2+"px",Ze=ut?[{offset:0,opacity:0,transform:`translate3d(${Ot}, ${oe}, 0) ${we}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Je}, 0) ${Ge}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Je}, 0) ${Ge}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Ot}, ${oe}, 0) ${we}`}],je=Se("ion-title"),st=(0,d.c)();je.innerText=Mt.innerText,je.size=Mt.size,je.color=Mt.color,st.addElement(je),st.beforeStyles({"transform-origin":`${he} top`,height:`${At.height}px`,display:"",position:"relative",[he]:ht}).beforeAddWrite(()=>{Mt.style.setProperty("opacity","0")}).afterAddWrite(()=>{Mt.style.setProperty("opacity",""),je.style.setProperty("display","none")}).keyframes(Ze),yt.addAnimation(st)},Ke=(yt,mt)=>{var ut;try{const Mt="cubic-bezier(0.32,0.72,0,1)",At="opacity",Te="transform",xe="0%",it="rtl"===yt.ownerDocument.dir,dt=it?"-99.5%":"99.5%",rt=it?"33%":"-33%",he=mt.enteringEl,ht=mt.leavingEl,ft="back"===mt.direction,Je=he.querySelector(":scope > ion-content"),Nt=he.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ot=he.querySelectorAll(":scope > ion-header > ion-toolbar"),un=(0,d.c)(),Ge=(0,d.c)();if(un.addElement(he).duration((null!==(ut=mt.duration)&&void 0!==ut?ut:0)||540).easing(mt.easing||Mt).fill("both").beforeRemoveClass("ion-page-invisible"),ht&&null!=yt){const oe=(0,d.c)();oe.addElement(yt),un.addAnimation(oe)}if(Je||0!==Ot.length||0!==Nt.length?(Ge.addElement(Je),Ge.addElement(Nt)):Ge.addElement(he.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),un.addAnimation(Ge),ft?Ge.beforeClearStyles([At]).fromTo("transform",`translateX(${rt})`,`translateX(${xe})`).fromTo(At,.8,1):Ge.beforeClearStyles([At]).fromTo("transform",`translateX(${dt})`,`translateX(${xe})`),Je){const oe=Be(Je).querySelector(".transition-effect");if(oe){const Ne=oe.querySelector(".transition-cover"),ze=oe.querySelector(".transition-shadow"),Ze=(0,d.c)(),je=(0,d.c)(),st=(0,d.c)();Ze.addElement(oe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),je.addElement(Ne).beforeClearStyles([At]).fromTo(At,0,.1),st.addElement(ze).beforeClearStyles([At]).fromTo(At,.03,.7),Ze.addAnimation([je,st]),Ge.addAnimation([Ze])}}const we=he.querySelector("ion-header.header-collapse-condense"),{forward:me,backward:De}=((yt,mt,ut,Mt,At)=>{const Te=Re(Mt,ut),xe=ot(At),Me=ot(Mt),it=Re(At,ut),dt=null!==Te&&null!==xe&&!ut,rt=null!==Me&&null!==it&&ut;if(dt){const he=xe.getBoundingClientRect(),ht=Te.getBoundingClientRect(),ft=Be(Te).querySelector(".button-text"),Je=null==ft?void 0:ft.getBoundingClientRect(),Ot=Be(xe).querySelector(".toolbar-title").getBoundingClientRect();Qe(yt,mt,ut,xe,he,Ot,ht,ft,Je),et(yt,mt,ut,Te,ht,ft,Je,xe,Ot)}else if(rt){const he=Me.getBoundingClientRect(),ht=it.getBoundingClientRect(),ft=Be(it).querySelector(".button-text"),Je=null==ft?void 0:ft.getBoundingClientRect(),Ot=Be(Me).querySelector(".toolbar-title").getBoundingClientRect();Qe(yt,mt,ut,Me,he,Ot,ht,ft,Je),et(yt,mt,ut,it,ht,ft,Je,Me,Ot)}return{forward:dt,backward:rt}})(un,it,ft,he,ht);if(Ot.forEach(oe=>{const Ne=(0,d.c)();Ne.addElement(oe),un.addAnimation(Ne);const ze=(0,d.c)();ze.addElement(oe.querySelector("ion-title"));const Ze=(0,d.c)(),je=Array.from(oe.querySelectorAll("ion-buttons,[menuToggle]")),st=oe.closest("ion-header"),_t=null==st?void 0:st.classList.contains("header-collapse-condense-inactive");let Ft;Ft=je.filter(ft?Gn=>{const qt=Gn.classList.contains("buttons-collapse");return qt&&!_t||!qt}:Gn=>!Gn.classList.contains("buttons-collapse")),Ze.addElement(Ft);const Nn=(0,d.c)();Nn.addElement(oe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const It=(0,d.c)();It.addElement(Be(oe).querySelector(".toolbar-background"));const mn=(0,d.c)(),kn=oe.querySelector("ion-back-button");if(kn&&mn.addElement(kn),Ne.addAnimation([ze,Ze,Nn,It,mn]),Ze.fromTo(At,.01,1),Nn.fromTo(At,.01,1),ft)_t||ze.fromTo("transform",`translateX(${rt})`,`translateX(${xe})`).fromTo(At,.01,1),Nn.fromTo("transform",`translateX(${rt})`,`translateX(${xe})`),mn.fromTo(At,.01,1);else if(we||ze.fromTo("transform",`translateX(${dt})`,`translateX(${xe})`).fromTo(At,.01,1),Nn.fromTo("transform",`translateX(${dt})`,`translateX(${xe})`),It.beforeClearStyles([At,"transform"]),(null==st?void 0:st.translucent)?It.fromTo("transform",it?"translateX(-100%)":"translateX(100%)","translateX(0px)"):It.fromTo(At,.01,"var(--opacity)"),me||mn.fromTo(At,.01,1),kn&&!me){const qt=(0,d.c)();qt.addElement(Be(kn).querySelector(".button-text")).fromTo("transform",it?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ne.addAnimation(qt)}}),ht){const oe=(0,d.c)(),Ne=ht.querySelector(":scope > ion-content"),ze=ht.querySelectorAll(":scope > ion-header > ion-toolbar"),Ze=ht.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ne||0!==ze.length||0!==Ze.length?(oe.addElement(Ne),oe.addElement(Ze)):oe.addElement(ht.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),un.addAnimation(oe),ft){oe.beforeClearStyles([At]).fromTo("transform",`translateX(${xe})`,it?"translateX(-100%)":"translateX(100%)");const je=(0,o.g)(ht);un.afterAddWrite(()=>{"normal"===un.getDirection()&&je.style.setProperty("display","none")})}else oe.fromTo("transform",`translateX(${xe})`,`translateX(${rt})`).fromTo(At,1,.8);if(Ne){const je=Be(Ne).querySelector(".transition-effect");if(je){const st=je.querySelector(".transition-cover"),_t=je.querySelector(".transition-shadow"),Ft=(0,d.c)(),Nn=(0,d.c)(),It=(0,d.c)();Ft.addElement(je).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Nn.addElement(st).beforeClearStyles([At]).fromTo(At,.1,0),It.addElement(_t).beforeClearStyles([At]).fromTo(At,.7,.03),Ft.addAnimation([Nn,It]),oe.addAnimation([Ft])}}ze.forEach(je=>{const st=(0,d.c)();st.addElement(je);const _t=(0,d.c)();_t.addElement(je.querySelector("ion-title"));const Ft=(0,d.c)(),Nn=je.querySelectorAll("ion-buttons,[menuToggle]"),It=je.closest("ion-header"),mn=null==It?void 0:It.classList.contains("header-collapse-condense-inactive"),kn=Array.from(Nn).filter(ke=>{const Fe=ke.classList.contains("buttons-collapse");return Fe&&!mn||!Fe});Ft.addElement(kn);const Gn=(0,d.c)(),qt=je.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");qt.length>0&&Gn.addElement(qt);const jt=(0,d.c)();jt.addElement(Be(je).querySelector(".toolbar-background"));const On=(0,d.c)(),rn=je.querySelector("ion-back-button");if(rn&&On.addElement(rn),st.addAnimation([_t,Ft,Gn,On,jt]),un.addAnimation(st),On.fromTo(At,.99,0),Ft.fromTo(At,.99,0),Gn.fromTo(At,.99,0),ft){if(mn||_t.fromTo("transform",`translateX(${xe})`,it?"translateX(-100%)":"translateX(100%)").fromTo(At,.99,0),Gn.fromTo("transform",`translateX(${xe})`,it?"translateX(-100%)":"translateX(100%)"),jt.beforeClearStyles([At,"transform"]),(null==It?void 0:It.translucent)?jt.fromTo("transform","translateX(0px)",it?"translateX(-100%)":"translateX(100%)"):jt.fromTo(At,"var(--opacity)",0),rn&&!De){const Fe=(0,d.c)();Fe.addElement(Be(rn).querySelector(".button-text")).fromTo("transform",`translateX(${xe})`,`translateX(${(it?-124:124)+"px"})`),st.addAnimation(Fe)}}else mn||_t.fromTo("transform",`translateX(${xe})`,`translateX(${rt})`).fromTo(At,.99,0).afterClearStyles([Te,At]),Gn.fromTo("transform",`translateX(${xe})`,`translateX(${rt})`).afterClearStyles([Te,At]),On.afterClearStyles([At]),_t.afterClearStyles([At]),Ft.afterClearStyles([At])})}return un}catch(Mt){throw Mt}},ct=10},3615:(Pn,Dt,V)=>{"use strict";V.r(Dt),V.d(Dt,{mdTransitionAnimation:()=>Ee});var d=V(9986),o=V(3604);V(8476),V(9483),V(4261);const Ee=(Se,Be)=>{var ot,Re,_e;const Ke="back"===Be.direction,yt=Be.leavingEl,mt=(0,o.g)(Be.enteringEl),ut=mt.querySelector("ion-toolbar"),Mt=(0,d.c)();if(Mt.addElement(mt).fill("both").beforeRemoveClass("ion-page-invisible"),Ke?Mt.duration((null!==(ot=Be.duration)&&void 0!==ot?ot:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Mt.duration((null!==(Re=Be.duration)&&void 0!==Re?Re:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ut){const At=(0,d.c)();At.addElement(ut),Mt.addAnimation(At)}if(yt&&Ke){Mt.duration((null!==(_e=Be.duration)&&void 0!==_e?_e:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const At=(0,d.c)();At.addElement((0,o.g)(yt)).onFinish(Te=>{1===Te&&At.elements.length>0&&At.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Mt.addAnimation(At)}return Mt}},3617:(Pn,Dt,V)=>{"use strict";V.d(Dt,{B:()=>Nn,F:()=>rn,G:()=>It,O:()=>mn,a:()=>mt,b:()=>ut,c:()=>xe,d:()=>kn,e:()=>Gn,f:()=>me,g:()=>oe,h:()=>Ze,i:()=>st,j:()=>it,k:()=>dt,m:()=>At,n:()=>Re,o:()=>Ge,q:()=>_e,s:()=>Ft});var d=V(467),o=V(8476),B=V(4920),ve=V(7192),W=V(9483),Ee=V(8621),Se=V(1970),Be=V(4929);const ot='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Re=(ke,Fe)=>{const kt=ke.querySelector(ot);et(kt,null!=Fe?Fe:ke)},_e=(ke,Fe)=>{const kt=Array.from(ke.querySelectorAll(ot));et(kt.length>0?kt[kt.length-1]:null,null!=Fe?Fe:ke)},et=(ke,Fe)=>{let kt=ke;const xt=null==ke?void 0:ke.shadowRoot;if(xt&&(kt=xt.querySelector(ot)||ke),kt){const Qn=kt.closest("ion-radio-group");Qn?Qn.setFocus():(0,B.f)(kt)}else Fe.focus()};let Qe=0,Ke=0;const ct=new WeakMap,yt=ke=>({create:Fe=>rt(ke,Fe),dismiss:(Fe,kt,xt)=>Nt(document,Fe,kt,ke,xt),getTop:()=>(0,d.A)(function*(){return Ge(document,ke)})()}),mt=yt("ion-alert"),ut=yt("ion-action-sheet"),At=yt("ion-modal"),xe=yt("ion-popover"),it=ke=>{typeof document<"u"&&Je(document);const Fe=Qe++;ke.overlayIndex=Fe},dt=ke=>(ke.hasAttribute("id")||(ke.id="ion-overlay-"+ ++Ke),ke.id),rt=(ke,Fe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ke).then(()=>{const kt=document.createElement(ke);return kt.classList.add("overlay-hidden"),Object.assign(kt,Object.assign(Object.assign({},Fe),{hasController:!0})),Ne(document).appendChild(kt),new Promise(xt=>(0,B.c)(kt,xt))}):Promise.resolve(),ht=(ke,Fe)=>{let kt=ke;const xt=null==ke?void 0:ke.shadowRoot;xt&&(kt=xt.querySelector(ot)||ke),kt?(0,B.f)(kt):Fe.focus()},Je=ke=>{0===Qe&&(Qe=1,ke.addEventListener("focus",Fe=>{((ke,Fe)=>{const kt=Ge(Fe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),xt=ke.target;kt&&xt&&!kt.classList.contains(rn)&&(kt.shadowRoot?(()=>{if(kt.contains(xt))kt.lastFocus=xt;else if("ION-TOAST"===xt.tagName)ht(kt.lastFocus,kt);else{const Vn=kt.lastFocus;Re(kt),Vn===Fe.activeElement&&_e(kt),kt.lastFocus=Fe.activeElement}})():(()=>{if(kt===xt)kt.lastFocus=void 0;else if("ION-TOAST"===xt.tagName)ht(kt.lastFocus,kt);else{const Vn=(0,B.g)(kt);if(!Vn.contains(xt))return;const Tn=Vn.querySelector(".ion-overlay-wrapper");if(!Tn)return;if(Tn.contains(xt)||xt===Vn.querySelector("ion-backdrop"))kt.lastFocus=xt;else{const gr=kt.lastFocus;Re(Tn,kt),gr===Fe.activeElement&&_e(Tn,kt),kt.lastFocus=Fe.activeElement}}})())})(Fe,ke)},!0),ke.addEventListener("ionBackButton",Fe=>{const kt=Ge(ke);null!=kt&&kt.backdropDismiss&&Fe.detail.register(ve.OVERLAY_BACK_BUTTON_PRIORITY,()=>{kt.dismiss(void 0,Nn)})}),(0,ve.shouldUseCloseWatcher)()||ke.addEventListener("keydown",Fe=>{if("Escape"===Fe.key){const kt=Ge(ke);null!=kt&&kt.backdropDismiss&&kt.dismiss(void 0,Nn)}}))},Nt=(ke,Fe,kt,xt,Qn)=>{const nr=Ge(ke,xt,Qn);return nr?nr.dismiss(Fe,kt):Promise.reject("overlay does not exist")},un=(ke,Fe)=>((ke,Fe)=>(void 0===Fe&&(Fe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(ke.querySelectorAll(Fe)).filter(kt=>kt.overlayIndex>0)))(ke,Fe).filter(kt=>!(ke=>ke.classList.contains("overlay-hidden"))(kt)),Ge=(ke,Fe,kt)=>{const xt=un(ke,Fe);return void 0===kt?xt[xt.length-1]:xt.find(Qn=>Qn.id===kt)},we=(ke=!1)=>{const kt=Ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");kt&&(ke?kt.setAttribute("aria-hidden","true"):kt.removeAttribute("aria-hidden"))},me=function(){var ke=(0,d.A)(function*(Fe,kt,xt,Qn,nr){var Vn,Tn;if(Fe.presented)return;"ION-TOAST"!==Fe.el.tagName&&we(!0),document.body.classList.add(Se.B),jt(Fe.el),qt(Fe.el),Fe.presented=!0,Fe.willPresent.emit(),null===(Vn=Fe.willPresentShorthand)||void 0===Vn||Vn.emit();const gr=(0,W.b)(Fe),rr=Fe.enterAnimation?Fe.enterAnimation:W.c.get(kt,"ios"===gr?xt:Qn);(yield ze(Fe,rr,Fe.el,nr))&&(Fe.didPresent.emit(),null===(Tn=Fe.didPresentShorthand)||void 0===Tn||Tn.emit()),"ION-TOAST"!==Fe.el.tagName&&De(Fe.el),Fe.keyboardClose&&(null===document.activeElement||!Fe.el.contains(document.activeElement))&&Fe.el.focus(),Fe.el.removeAttribute("aria-hidden")});return function(kt,xt,Qn,nr,Vn){return ke.apply(this,arguments)}}(),De=function(){var ke=(0,d.A)(function*(Fe){let kt=document.activeElement;if(!kt)return;const xt=null==kt?void 0:kt.shadowRoot;xt&&(kt=xt.querySelector(ot)||kt),yield Fe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&kt.focus()});return function(kt){return ke.apply(this,arguments)}}(),oe=function(){var ke=(0,d.A)(function*(Fe,kt,xt,Qn,nr,Vn,Tn){var gr,rr;if(!Fe.presented)return!1;const zn=void 0!==o.d?un(o.d).filter(dr=>"ION-TOAST"!==dr.tagName):[];1===zn.length&&zn[0].id===Fe.el.id&&(we(!1),document.body.classList.remove(Se.B)),Fe.presented=!1;try{qt(Fe.el),Fe.el.style.setProperty("pointer-events","none"),Fe.willDismiss.emit({data:kt,role:xt}),null===(gr=Fe.willDismissShorthand)||void 0===gr||gr.emit({data:kt,role:xt});const dr=(0,W.b)(Fe),jr=Fe.leaveAnimation?Fe.leaveAnimation:W.c.get(Qn,"ios"===dr?nr:Vn);xt!==It&&(yield ze(Fe,jr,Fe.el,Tn)),Fe.didDismiss.emit({data:kt,role:xt}),null===(rr=Fe.didDismissShorthand)||void 0===rr||rr.emit({data:kt,role:xt}),(ct.get(Fe)||[]).forEach(Cr=>Cr.destroy()),ct.delete(Fe),Fe.el.classList.add("overlay-hidden"),Fe.el.style.removeProperty("pointer-events"),void 0!==Fe.el.lastFocus&&(Fe.el.lastFocus=void 0)}catch(dr){console.error(dr)}return Fe.el.remove(),On(),!0});return function(kt,xt,Qn,nr,Vn,Tn,gr){return ke.apply(this,arguments)}}(),Ne=ke=>ke.querySelector("ion-app")||ke.body,ze=function(){var ke=(0,d.A)(function*(Fe,kt,xt,Qn){xt.classList.remove("overlay-hidden");const Vn=kt(Fe.el,Qn);(!Fe.animated||!W.c.getBoolean("animated",!0))&&Vn.duration(0),Fe.keyboardClose&&Vn.beforeAddWrite(()=>{const gr=xt.ownerDocument.activeElement;null!=gr&&gr.matches("input,ion-input, ion-textarea")&&gr.blur()});const Tn=ct.get(Fe)||[];return ct.set(Fe,[...Tn,Vn]),yield Vn.play(),!0});return function(kt,xt,Qn,nr){return ke.apply(this,arguments)}}(),Ze=(ke,Fe)=>{let kt;const xt=new Promise(Qn=>kt=Qn);return je(ke,Fe,Qn=>{kt(Qn.detail)}),xt},je=(ke,Fe,kt)=>{const xt=Qn=>{(0,B.b)(ke,Fe,xt),kt(Qn)};(0,B.a)(ke,Fe,xt)},st=ke=>"cancel"===ke||ke===Nn,_t=ke=>ke(),Ft=(ke,Fe)=>{if("function"==typeof ke)return W.c.get("_zoneGate",_t)(()=>{try{return ke(Fe)}catch(xt){throw xt}})},Nn="backdrop",It="gesture",mn=39,kn=ke=>{let kt,Fe=!1;const xt=(0,Ee.C)(),Qn=(Tn=!1)=>{if(kt&&!Tn)return{delegate:kt,inline:Fe};const{el:gr,hasController:rr,delegate:zn}=ke;return Fe=null!==gr.parentNode&&!rr,kt=Fe?zn||xt:zn,{inline:Fe,delegate:kt}};return{attachViewToDom:function(){var Tn=(0,d.A)(function*(gr){const{delegate:rr}=Qn(!0);if(rr)return yield rr.attachViewToDom(ke.el,gr);const{hasController:zn}=ke;if(zn&&void 0!==gr)throw new Error("framework delegate is missing");return null});return function(rr){return Tn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Tn}=Qn();Tn&&void 0!==ke.el&&Tn.removeViewFromDom(ke.el.parentElement,ke.el)}}},Gn=()=>{let ke;const Fe=()=>{ke&&(ke(),ke=void 0)};return{addClickListener:(xt,Qn)=>{Fe();const nr=void 0!==Qn?document.getElementById(Qn):null;nr?ke=((Tn,gr)=>{const rr=()=>{gr.present()};return Tn.addEventListener("click",rr),()=>{Tn.removeEventListener("click",rr)}})(nr,xt):(0,Be.p)(`A trigger element with the ID "${Qn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,xt)},removeClickListener:Fe}},qt=ke=>{void 0!==o.d&&(0,W.a)("android")&&ke.setAttribute("aria-hidden","true")},jt=ke=>{var Fe;if(void 0===o.d)return;const kt=un(o.d);for(let xt=kt.length-1;xt>=0;xt--){const Qn=kt[xt],nr=null!==(Fe=kt[xt+1])&&void 0!==Fe?Fe:ke;(nr.hasAttribute("aria-hidden")||"ION-TOAST"!==nr.tagName)&&Qn.setAttribute("aria-hidden","true")}},On=()=>{if(void 0===o.d)return;const ke=un(o.d);for(let Fe=ke.length-1;Fe>=0;Fe--){const kt=ke[Fe];if(kt.removeAttribute("aria-hidden"),"ION-TOAST"!==kt.tagName)break}},rn="ion-disable-focus-trap"},5312:(Pn,Dt,V)=>{"use strict";V.d(Dt,{c:()=>d});const d={production:!0,vapidKey:"BOV3uao1z47YpCi69vF5IMWazjO2ciGDGuLi_7DRcvKi4WinbLI2Hv2hScOCJtfiTpdQ9Yu6bK9n-fRTXN5S5Gc",firebaseConfig:{apiKey:"AIzaSyC7SViDJ3MAfnpzls1znWTVYTvO6S5K1ys",authDomain:"miven-c5f93.firebaseapp.com",projectId:"miven-c5f93",storageBucket:"miven-c5f93.appspot.com",messagingSenderId:"46504601832",appId:"1:46504601832:web:ecc2f1c0f13346da7c415d"}}},7911:(Pn,Dt,V)=>{"use strict";var d=V(345),o=V(4438),B=V(9384),ve=V(2872),W=V(4742),Ee=V(8079),Se=V(467),Be=V(5083);const _e=(0,Be.F3)("FirebaseMessaging",{web:()=>V.e(196).then(V.bind(V,196)).then(m=>new m.FirebaseMessagingWeb)});var et=V(3146);const Qe=(0,Be.F3)("PushNotifications",{});var Ke=V(1182),ct=V(6354),yt=V(7673),mt=V(1985),ut=V(8455),Mt=V(274),At=V(5964),Te=V(980),xe=V(5558),Me=V(177);class it{}class dt{}class rt{constructor(C){this.normalizedNames=new Map,this.lazyUpdate=null,C?"string"==typeof C?this.lazyInit=()=>{this.headers=new Map,C.split("\n").forEach(D=>{const b=D.indexOf(":");if(b>0){const k=D.slice(0,b),Y=k.toLowerCase(),Ae=D.slice(b+1).trim();this.maybeSetNormalizedName(k,Y),this.headers.has(Y)?this.headers.get(Y).push(Ae):this.headers.set(Y,[Ae])}})}:typeof Headers<"u"&&C instanceof Headers?(this.headers=new Map,C.forEach((D,b)=>{this.setHeaderEntries(b,D)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(C).forEach(([D,b])=>{this.setHeaderEntries(D,b)})}:this.headers=new Map}has(C){return this.init(),this.headers.has(C.toLowerCase())}get(C){this.init();const D=this.headers.get(C.toLowerCase());return D&&D.length>0?D[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(C){return this.init(),this.headers.get(C.toLowerCase())||null}append(C,D){return this.clone({name:C,value:D,op:"a"})}set(C,D){return this.clone({name:C,value:D,op:"s"})}delete(C,D){return this.clone({name:C,value:D,op:"d"})}maybeSetNormalizedName(C,D){this.normalizedNames.has(D)||this.normalizedNames.set(D,C)}init(){this.lazyInit&&(this.lazyInit instanceof rt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(C=>this.applyUpdate(C)),this.lazyUpdate=null))}copyFrom(C){C.init(),Array.from(C.headers.keys()).forEach(D=>{this.headers.set(D,C.headers.get(D)),this.normalizedNames.set(D,C.normalizedNames.get(D))})}clone(C){const D=new rt;return D.lazyInit=this.lazyInit&&this.lazyInit instanceof rt?this.lazyInit:this,D.lazyUpdate=(this.lazyUpdate||[]).concat([C]),D}applyUpdate(C){const D=C.name.toLowerCase();switch(C.op){case"a":case"s":let b=C.value;if("string"==typeof b&&(b=[b]),0===b.length)return;this.maybeSetNormalizedName(C.name,D);const k=("a"===C.op?this.headers.get(D):void 0)||[];k.push(...b),this.headers.set(D,k);break;case"d":const Y=C.value;if(Y){let Ae=this.headers.get(D);if(!Ae)return;Ae=Ae.filter(Tt=>-1===Y.indexOf(Tt)),0===Ae.length?(this.headers.delete(D),this.normalizedNames.delete(D)):this.headers.set(D,Ae)}else this.headers.delete(D),this.normalizedNames.delete(D)}}setHeaderEntries(C,D){const b=(Array.isArray(D)?D:[D]).map(Y=>Y.toString()),k=C.toLowerCase();this.headers.set(k,b),this.maybeSetNormalizedName(C,k)}forEach(C){this.init(),Array.from(this.normalizedNames.keys()).forEach(D=>C(this.normalizedNames.get(D),this.headers.get(D)))}}class ht{encodeKey(C){return Ot(C)}encodeValue(C){return Ot(C)}decodeKey(C){return decodeURIComponent(C)}decodeValue(C){return decodeURIComponent(C)}}const Je=/%(\d[a-f0-9])/gi,Nt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ot(m){return encodeURIComponent(m).replace(Je,(C,D)=>{var b;return null!==(b=Nt[D])&&void 0!==b?b:C})}function un(m){return`${m}`}class Ge{constructor(C={}){if(this.updates=null,this.cloneFrom=null,this.encoder=C.encoder||new ht,C.fromString){if(C.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ft(m,C){const D=new Map;return m.length>0&&m.replace(/^\?/,"").split("&").forEach(k=>{const Y=k.indexOf("="),[Ae,Tt]=-1==Y?[C.decodeKey(k),""]:[C.decodeKey(k.slice(0,Y)),C.decodeValue(k.slice(Y+1))],Jt=D.get(Ae)||[];Jt.push(Tt),D.set(Ae,Jt)}),D}(C.fromString,this.encoder)}else C.fromObject?(this.map=new Map,Object.keys(C.fromObject).forEach(D=>{const b=C.fromObject[D],k=Array.isArray(b)?b.map(un):[un(b)];this.map.set(D,k)})):this.map=null}has(C){return this.init(),this.map.has(C)}get(C){this.init();const D=this.map.get(C);return D?D[0]:null}getAll(C){return this.init(),this.map.get(C)||null}keys(){return this.init(),Array.from(this.map.keys())}append(C,D){return this.clone({param:C,value:D,op:"a"})}appendAll(C){const D=[];return Object.keys(C).forEach(b=>{const k=C[b];Array.isArray(k)?k.forEach(Y=>{D.push({param:b,value:Y,op:"a"})}):D.push({param:b,value:k,op:"a"})}),this.clone(D)}set(C,D){return this.clone({param:C,value:D,op:"s"})}delete(C,D){return this.clone({param:C,value:D,op:"d"})}toString(){return this.init(),this.keys().map(C=>{const D=this.encoder.encodeKey(C);return this.map.get(C).map(b=>D+"="+this.encoder.encodeValue(b)).join("&")}).filter(C=>""!==C).join("&")}clone(C){const D=new Ge({encoder:this.encoder});return D.cloneFrom=this.cloneFrom||this,D.updates=(this.updates||[]).concat(C),D}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(C=>this.map.set(C,this.cloneFrom.map.get(C))),this.updates.forEach(C=>{switch(C.op){case"a":case"s":const D=("a"===C.op?this.map.get(C.param):void 0)||[];D.push(un(C.value)),this.map.set(C.param,D);break;case"d":if(void 0===C.value){this.map.delete(C.param);break}{let b=this.map.get(C.param)||[];const k=b.indexOf(un(C.value));-1!==k&&b.splice(k,1),b.length>0?this.map.set(C.param,b):this.map.delete(C.param)}}}),this.cloneFrom=this.updates=null)}}class me{constructor(){this.map=new Map}set(C,D){return this.map.set(C,D),this}get(C){return this.map.has(C)||this.map.set(C,C.defaultValue()),this.map.get(C)}delete(C){return this.map.delete(C),this}has(C){return this.map.has(C)}keys(){return this.map.keys()}}function oe(m){return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer}function Ne(m){return typeof Blob<"u"&&m instanceof Blob}function ze(m){return typeof FormData<"u"&&m instanceof FormData}class je{constructor(C,D,b,k){var Y,Ae;let Tt;if(this.url=D,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=C.toUpperCase(),function De(m){switch(m){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||k?(this.body=void 0!==b?b:null,Tt=k):Tt=b,Tt&&(this.reportProgress=!!Tt.reportProgress,this.withCredentials=!!Tt.withCredentials,Tt.responseType&&(this.responseType=Tt.responseType),Tt.headers&&(this.headers=Tt.headers),Tt.context&&(this.context=Tt.context),Tt.params&&(this.params=Tt.params),this.transferCache=Tt.transferCache),null!==(Y=this.headers)&&void 0!==Y||(this.headers=new rt),null!==(Ae=this.context)&&void 0!==Ae||(this.context=new me),this.params){const Jt=this.params.toString();if(0===Jt.length)this.urlWithParams=D;else{const on=D.indexOf("?");this.urlWithParams=D+(-1===on?"?":on<D.length-1?"&":"")+Jt}}else this.params=new Ge,this.urlWithParams=D}serializeBody(){return null===this.body?null:"string"==typeof this.body||oe(this.body)||Ne(this.body)||ze(this.body)||function Ze(m){return typeof URLSearchParams<"u"&&m instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ze(this.body)?null:Ne(this.body)?this.body.type||null:oe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(C={}){var D,b,k,Y;const Ae=C.method||this.method,Tt=C.url||this.url,Jt=C.responseType||this.responseType,on=null!==(D=C.transferCache)&&void 0!==D?D:this.transferCache,lr=void 0!==C.body?C.body:this.body,Dr=null!==(b=C.withCredentials)&&void 0!==b?b:this.withCredentials,Ai=null!==(k=C.reportProgress)&&void 0!==k?k:this.reportProgress;let ai=C.headers||this.headers,li=C.params||this.params;const Ii=null!==(Y=C.context)&&void 0!==Y?Y:this.context;return void 0!==C.setHeaders&&(ai=Object.keys(C.setHeaders).reduce((Sr,Vr)=>Sr.set(Vr,C.setHeaders[Vr]),ai)),C.setParams&&(li=Object.keys(C.setParams).reduce((Sr,Vr)=>Sr.set(Vr,C.setParams[Vr]),li)),new je(Ae,Tt,lr,{params:li,headers:ai,context:Ii,reportProgress:Ai,responseType:Jt,withCredentials:Dr,transferCache:on})}}var st=function(m){return m[m.Sent=0]="Sent",m[m.UploadProgress=1]="UploadProgress",m[m.ResponseHeader=2]="ResponseHeader",m[m.DownloadProgress=3]="DownloadProgress",m[m.Response=4]="Response",m[m.User=5]="User",m}(st||{});class _t{constructor(C,D=200,b="OK"){this.headers=C.headers||new rt,this.status=void 0!==C.status?C.status:D,this.statusText=C.statusText||b,this.url=C.url||null,this.ok=this.status>=200&&this.status<300}}class Ft extends _t{constructor(C={}){super(C),this.type=st.ResponseHeader}clone(C={}){return new Ft({headers:C.headers||this.headers,status:void 0!==C.status?C.status:this.status,statusText:C.statusText||this.statusText,url:C.url||this.url||void 0})}}class Nn extends _t{constructor(C={}){super(C),this.type=st.Response,this.body=void 0!==C.body?C.body:null}clone(C={}){return new Nn({body:void 0!==C.body?C.body:this.body,headers:C.headers||this.headers,status:void 0!==C.status?C.status:this.status,statusText:C.statusText||this.statusText,url:C.url||this.url||void 0})}}class It extends _t{constructor(C){super(C,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${C.url||"(unknown url)"}`:`Http failure response for ${C.url||"(unknown url)"}: ${C.status} ${C.statusText}`,this.error=C.error||null}}function qt(m,C){return{body:C,headers:m.headers,context:m.context,observe:m.observe,params:m.params,reportProgress:m.reportProgress,responseType:m.responseType,withCredentials:m.withCredentials,transferCache:m.transferCache}}let jt=(()=>{var m;class C{constructor(b){this.handler=b}request(b,k,Y={}){let Ae;if(b instanceof je)Ae=b;else{let on,lr;on=Y.headers instanceof rt?Y.headers:new rt(Y.headers),Y.params&&(lr=Y.params instanceof Ge?Y.params:new Ge({fromObject:Y.params})),Ae=new je(b,k,void 0!==Y.body?Y.body:null,{headers:on,context:Y.context,params:lr,reportProgress:Y.reportProgress,responseType:Y.responseType||"json",withCredentials:Y.withCredentials,transferCache:Y.transferCache})}const Tt=(0,yt.of)(Ae).pipe((0,Mt.H)(on=>this.handler.handle(on)));if(b instanceof je||"events"===Y.observe)return Tt;const Jt=Tt.pipe((0,At.p)(on=>on instanceof Nn));switch(Y.observe||"body"){case"body":switch(Ae.responseType){case"arraybuffer":return Jt.pipe((0,ct.T)(on=>{if(null!==on.body&&!(on.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return on.body}));case"blob":return Jt.pipe((0,ct.T)(on=>{if(null!==on.body&&!(on.body instanceof Blob))throw new Error("Response is not a Blob.");return on.body}));case"text":return Jt.pipe((0,ct.T)(on=>{if(null!==on.body&&"string"!=typeof on.body)throw new Error("Response is not a string.");return on.body}));default:return Jt.pipe((0,ct.T)(on=>on.body))}case"response":return Jt;default:throw new Error(`Unreachable: unhandled observe type ${Y.observe}}`)}}delete(b,k={}){return this.request("DELETE",b,k)}get(b,k={}){return this.request("GET",b,k)}head(b,k={}){return this.request("HEAD",b,k)}jsonp(b,k){return this.request("JSONP",b,{params:(new Ge).append(k,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(b,k={}){return this.request("OPTIONS",b,k)}patch(b,k,Y={}){return this.request("PATCH",b,qt(Y,k))}post(b,k,Y={}){return this.request("POST",b,qt(Y,k))}put(b,k,Y={}){return this.request("PUT",b,qt(Y,k))}}return(m=C).\u0275fac=function(b){return new(b||m)(o.KVO(it))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),C})();const On=/^\)\]\}',?\n/;function ke(m){if(m.url)return m.url;const C="X-Request-URL".toLocaleLowerCase();return m.headers.get(C)}let Fe=(()=>{var m;class C{constructor(){var b,k;this.fetchImpl=null!==(b=null===(k=(0,o.WQX)(kt,{optional:!0}))||void 0===k?void 0:k.fetch)&&void 0!==b?b:(...Y)=>globalThis.fetch(...Y),this.ngZone=(0,o.WQX)(o.SKi)}handle(b){return new mt.c(k=>{const Y=new AbortController;return this.doRequest(b,Y.signal,k).then(xt,Ae=>k.error(new It({error:Ae}))),()=>Y.abort()})}doRequest(b,k,Y){var Ae=this;return(0,Se.A)(function*(){var Tt;const Jt=Ae.createRequestInit(b);let on;try{const xi=Ae.ngZone.runOutsideAngular(()=>Ae.fetchImpl(b.urlWithParams,{signal:k,...Jt}));(function Qn(m){m.then(xt,xt)})(xi),Y.next({type:st.Sent}),on=yield xi}catch(xi){var lr;return void Y.error(new It({error:xi,status:null!==(lr=xi.status)&&void 0!==lr?lr:0,statusText:xi.statusText,url:b.urlWithParams,headers:xi.headers}))}const Dr=new rt(on.headers),Ai=on.statusText,ai=null!==(Tt=ke(on))&&void 0!==Tt?Tt:b.urlWithParams;let li=on.status,Ii=null;if(b.reportProgress&&Y.next(new Ft({headers:Dr,status:li,statusText:Ai,url:ai})),on.body){const xi=on.headers.get("content-length"),Ti=[],Hs=on.body.getReader();let Gc,yl,es=0;const fa=typeof Zone<"u"&&Zone.current;yield Ae.ngZone.runOutsideAngular((0,Se.A)(function*(){for(;;){const{done:z_,value:zc}=yield Hs.read();if(z_)break;if(Ti.push(zc),es+=zc.length,b.reportProgress){var vc,bu;yl="text"===b.responseType?(null!==(vc=yl)&&void 0!==vc?vc:"")+(null!==(bu=Gc)&&void 0!==bu?bu:Gc=new TextDecoder).decode(zc,{stream:!0}):void 0;const Cu=()=>Y.next({type:st.DownloadProgress,total:xi?+xi:void 0,loaded:es,partialText:yl});fa?fa.run(Cu):Cu()}}}));const Eu=Ae.concatChunks(Ti,es);try{var Sr;const vc=null!==(Sr=on.headers.get("Content-Type"))&&void 0!==Sr?Sr:"";Ii=Ae.parseBody(b,Eu,vc)}catch(vc){var Vr;return void Y.error(new It({error:vc,headers:new rt(on.headers),status:on.status,statusText:on.statusText,url:null!==(Vr=ke(on))&&void 0!==Vr?Vr:b.urlWithParams}))}}0===li&&(li=Ii?200:0),li>=200&&li<300?(Y.next(new Nn({body:Ii,headers:Dr,status:li,statusText:Ai,url:ai})),Y.complete()):Y.error(new It({error:Ii,headers:Dr,status:li,statusText:Ai,url:ai}))})()}parseBody(b,k,Y){switch(b.responseType){case"json":const Ae=(new TextDecoder).decode(k).replace(On,"");return""===Ae?null:JSON.parse(Ae);case"text":return(new TextDecoder).decode(k);case"blob":return new Blob([k],{type:Y});case"arraybuffer":return k.buffer}}createRequestInit(b){const k={},Y=b.withCredentials?"include":void 0;if(b.headers.forEach((Ae,Tt)=>k[Ae]=Tt.join(",")),b.headers.has("Accept")||(k.Accept="application/json, text/plain, */*"),!b.headers.has("Content-Type")){const Ae=b.detectContentTypeHeader();null!==Ae&&(k["Content-Type"]=Ae)}return{body:b.serializeBody(),method:b.method,headers:k,credentials:Y}}concatChunks(b,k){const Y=new Uint8Array(k);let Ae=0;for(const Tt of b)Y.set(Tt,Ae),Ae+=Tt.length;return Y}}return(m=C).\u0275fac=function(b){return new(b||m)},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),C})();class kt{}function xt(){}function nr(m,C){return C(m)}function Vn(m,C){return(D,b)=>C.intercept(D,{handle:k=>m(k,b)})}const gr=new o.nKC(""),rr=new o.nKC(""),zn=new o.nKC(""),Yn=new o.nKC("",{providedIn:"root",factory:()=>!0});function dr(){let m=null;return(C,D)=>{var b;null===m&&(m=(null!==(b=(0,o.WQX)(gr,{optional:!0}))&&void 0!==b?b:[]).reduceRight(Vn,nr));const k=(0,o.WQX)(o.TgB);if((0,o.WQX)(Yn)){const Ae=k.add();return m(C,D).pipe((0,Te.j)(()=>k.remove(Ae)))}return m(C,D)}}let Cr=(()=>{var m;class C extends it{constructor(b,k){super(),this.backend=b,this.injector=k,this.chain=null,this.pendingTasks=(0,o.WQX)(o.TgB),this.contributeToStability=(0,o.WQX)(Yn)}handle(b){if(null===this.chain){const k=Array.from(new Set([...this.injector.get(rr),...this.injector.get(zn,[])]));this.chain=k.reduceRight((Y,Ae)=>function Tn(m,C,D){return(b,k)=>(0,o.N4e)(D,()=>C(b,Y=>m(Y,k)))}(Y,Ae,this.injector),nr)}if(this.contributeToStability){const k=this.pendingTasks.add();return this.chain(b,Y=>this.backend.handle(Y)).pipe((0,Te.j)(()=>this.pendingTasks.remove(k)))}return this.chain(b,k=>this.backend.handle(k))}}return(m=C).\u0275fac=function(b){return new(b||m)(o.KVO(dt),o.KVO(o.uvJ))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),C})();const bt=/^\)\]\}',?\n/;let at=(()=>{var m;class C{constructor(b){this.xhrFactory=b}handle(b){if("JSONP"===b.method)throw new o.wOt(-2800,!1);const k=this.xhrFactory;return(k.\u0275loadImpl?(0,ut.H)(k.\u0275loadImpl()):(0,yt.of)(null)).pipe((0,xe.n)(()=>new mt.c(Ae=>{const Tt=k.build();if(Tt.open(b.method,b.urlWithParams),b.withCredentials&&(Tt.withCredentials=!0),b.headers.forEach((Sr,Vr)=>Tt.setRequestHeader(Sr,Vr.join(","))),b.headers.has("Accept")||Tt.setRequestHeader("Accept","application/json, text/plain, */*"),!b.headers.has("Content-Type")){const Sr=b.detectContentTypeHeader();null!==Sr&&Tt.setRequestHeader("Content-Type",Sr)}if(b.responseType){const Sr=b.responseType.toLowerCase();Tt.responseType="json"!==Sr?Sr:"text"}const Jt=b.serializeBody();let on=null;const lr=()=>{if(null!==on)return on;const Sr=Tt.statusText||"OK",Vr=new rt(Tt.getAllResponseHeaders()),So=function Ue(m){return"responseURL"in m&&m.responseURL?m.responseURL:/^X-Request-URL:/m.test(m.getAllResponseHeaders())?m.getResponseHeader("X-Request-URL"):null}(Tt)||b.url;return on=new Ft({headers:Vr,status:Tt.status,statusText:Sr,url:So}),on},Dr=()=>{let{headers:Sr,status:Vr,statusText:So,url:xi}=lr(),Ti=null;204!==Vr&&(Ti=typeof Tt.response>"u"?Tt.responseText:Tt.response),0===Vr&&(Vr=Ti?200:0);let Hs=Vr>=200&&Vr<300;if("json"===b.responseType&&"string"==typeof Ti){const es=Ti;Ti=Ti.replace(bt,"");try{Ti=""!==Ti?JSON.parse(Ti):null}catch(Gc){Ti=es,Hs&&(Hs=!1,Ti={error:Gc,text:Ti})}}Hs?(Ae.next(new Nn({body:Ti,headers:Sr,status:Vr,statusText:So,url:xi||void 0})),Ae.complete()):Ae.error(new It({error:Ti,headers:Sr,status:Vr,statusText:So,url:xi||void 0}))},Ai=Sr=>{const{url:Vr}=lr(),So=new It({error:Sr,status:Tt.status||0,statusText:Tt.statusText||"Unknown Error",url:Vr||void 0});Ae.error(So)};let ai=!1;const li=Sr=>{ai||(Ae.next(lr()),ai=!0);let Vr={type:st.DownloadProgress,loaded:Sr.loaded};Sr.lengthComputable&&(Vr.total=Sr.total),"text"===b.responseType&&Tt.responseText&&(Vr.partialText=Tt.responseText),Ae.next(Vr)},Ii=Sr=>{let Vr={type:st.UploadProgress,loaded:Sr.loaded};Sr.lengthComputable&&(Vr.total=Sr.total),Ae.next(Vr)};return Tt.addEventListener("load",Dr),Tt.addEventListener("error",Ai),Tt.addEventListener("timeout",Ai),Tt.addEventListener("abort",Ai),b.reportProgress&&(Tt.addEventListener("progress",li),null!==Jt&&Tt.upload&&Tt.upload.addEventListener("progress",Ii)),Tt.send(Jt),Ae.next({type:st.Sent}),()=>{Tt.removeEventListener("error",Ai),Tt.removeEventListener("abort",Ai),Tt.removeEventListener("load",Dr),Tt.removeEventListener("timeout",Ai),b.reportProgress&&(Tt.removeEventListener("progress",li),null!==Jt&&Tt.upload&&Tt.upload.removeEventListener("progress",Ii)),Tt.readyState!==Tt.DONE&&Tt.abort()}})))}}return(m=C).\u0275fac=function(b){return new(b||m)(o.KVO(Me.N0))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),C})();const J=new o.nKC(""),re=new o.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),$e=new o.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qt{}let An=(()=>{var m;class C{constructor(b,k,Y){this.doc=b,this.platform=k,this.cookieName=Y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const b=this.doc.cookie||"";return b!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Me._b)(b,this.cookieName),this.lastCookieString=b),this.lastToken}}return(m=C).\u0275fac=function(b){return new(b||m)(o.KVO(Me.qQ),o.KVO(o.Agw),o.KVO(re))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac}),C})();function qn(m,C){const D=m.url.toLowerCase();if(!(0,o.WQX)(J)||"GET"===m.method||"HEAD"===m.method||D.startsWith("http://")||D.startsWith("https://"))return C(m);const b=(0,o.WQX)(Qt).getToken(),k=(0,o.WQX)($e);return null!=b&&!m.headers.has(k)&&(m=m.clone({headers:m.headers.set(k,b)})),C(m)}var gt=function(m){return m[m.Interceptors=0]="Interceptors",m[m.LegacyInterceptors=1]="LegacyInterceptors",m[m.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",m[m.NoXsrfProtection=3]="NoXsrfProtection",m[m.JsonpSupport=4]="JsonpSupport",m[m.RequestsMadeViaParent=5]="RequestsMadeViaParent",m[m.Fetch=6]="Fetch",m}(gt||{});function vr(m,C){return{\u0275kind:m,\u0275providers:C}}function Mn(...m){const C=[jt,at,Cr,{provide:it,useExisting:Cr},{provide:dt,useFactory:()=>{var D;return null!==(D=(0,o.WQX)(Fe,{optional:!0}))&&void 0!==D?D:(0,o.WQX)(at)}},{provide:rr,useValue:qn,multi:!0},{provide:J,useValue:!0},{provide:Qt,useClass:An}];for(const D of m)C.push(...D.\u0275providers);return(0,o.EmA)(C)}const Qr=new o.nKC("");let Ye=(()=>{var m;class C{}return(m=C).\u0275fac=function(b){return new(b||m)},m.\u0275mod=o.$C({type:m}),m.\u0275inj=o.G2t({providers:[Mn(vr(gt.LegacyInterceptors,[{provide:Qr,useFactory:dr},{provide:rr,useExisting:Qr,multi:!0}]))]}),C})(),Io=(()=>{var m;class C{constructor(b,k,Y){this.firestore=b,this.auth=k,this.http=Y,this.fcmServerKey="BOV3uao1z47YpCi69vF5IMWazjO2ciGDGuLi_7DRcvKi4WinbLI2Hv2hScOCJtfiTpdQ9Yu6bK9n-fRTXN5S5Gc"}getInventory(b){return this.firestore.collection("usuarios").doc(b).collection("inventario").valueChanges({idField:"id"})}addItemToInventory(b,k){return this.firestore.collection("usuarios").doc(k).collection("inventario").add(b)}addItemToGlobalCollection(b){return this.firestore.collection("items").add(b)}getGlobalItems(){return this.firestore.collection("items").valueChanges({idField:"id"})}deleteItemFromInventory(b,k){return this.firestore.collection("usuarios").doc(k).collection("inventario").doc(b).delete()}updateItemQuantity(b,k,Y){return this.firestore.collection("usuarios").doc(b).collection("inventario").doc(k).update({cantidad:Y})}getExpiringItems(b){const k=new Date,Y=new Date;return Y.setDate(k.getDate()+7),this.getInventory(b).pipe((0,ct.T)(Ae=>Ae.filter(Tt=>{const Jt=new Date(Tt.fechaVencimiento);return Jt<=Y&&Jt>=k})))}notifyExpiringItems(b,k){this.getExpiringItems(b).subscribe(Y=>{Y.length>0&&this.http.post("https://fcm.googleapis.com/fcm/send",{notification:{title:"\xa1Atenci\xf3n!",body:`Tienes ${Y.length} \xedtems por vencer en tu inventario.`,click_action:"FCM_PLUGIN_ACTIVITY",icon:"fcm_push_icon"},to:k},{headers:{Authorization:`key=${this.fcmServerKey}`,"Content-Type":"application/json"}}).subscribe(()=>console.log("Notificaci\xf3n enviada con \xe9xito"),Tt=>console.error("Error al enviar la notificaci\xf3n:",Tt))})}}return(m=C).\u0275fac=function(b){return new(b||m)(o.KVO(Ee.Qe),o.KVO(Ke.DS),o.KVO(jt))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),C})(),Xo=(()=>{var m;class C{constructor(){this.InteractionService=(0,o.WQX)(Io)}init(){console.log("Initializing NotificationsPushService"),Qe.requestPermissions().then(b=>{"granted"===b.receive&&Qe.register()}),this.addListener()}addListener(){Qe.addListener("registration",b=>{alert("Push registration success, token: "+b.value)}),Qe.addListener("registrationError",b=>{alert("Error on registration: "+JSON.stringify(b))}),Qe.addListener("pushNotificationReceived",b=>{alert("Push received: "+JSON.stringify(b))}),Qe.addListener("pushNotificationActionPerformed",b=>{alert("Push action performed: "+JSON.stringify(b))})}}return(m=C).\u0275fac=function(b){return new(b||m)},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),C})();const qi=m=>[m];function Bo(m,C){if(1&m&&(o.j41(0,"ion-menu-toggle",12)(1,"ion-item",13),o.nrm(2,"ion-icon",14),o.j41(3,"ion-label"),o.EFF(4),o.k0s()()()),2&m){const D=C.$implicit,b=o.XpG(2).$implicit;o.R7$(),o.Y8G("routerLink",o.eq3(4,qi,D.url)),o.R7$(),o.Y8G("ios",b.icon+"-outline")("md",D.icon+"-sharp"),o.R7$(2),o.JRh(D.title)}}function ts(m,C){if(1&m&&(o.j41(0,"ion-accordion-group",7)(1,"ion-accordion",8)(2,"ion-item",9)(3,"ion-label"),o.EFF(4),o.k0s()(),o.j41(5,"ion-list",10),o.DNE(6,Bo,5,6,"ion-menu-toggle",11),o.k0s()()()),2&m){const D=o.XpG().$implicit;o.FS9("value",D.title),o.R7$(),o.FS9("value",D.title),o.R7$(3),o.JRh(D.title),o.R7$(2),o.Y8G("ngForOf",D.items)}}function qo(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-item",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG(2);return o.Njj(k.closeMenu())}),o.nrm(1,"ion-icon",16),o.j41(2,"ion-label"),o.EFF(3),o.k0s()()}if(2&m){const D=o.XpG().$implicit;o.Y8G("routerLink",o.eq3(4,qi,D.url)),o.R7$(),o.Y8G("ios",D.icon+"-outline")("md",D.icon+"-sharp"),o.R7$(2),o.JRh(D.title)}}function uo(m,C){if(1&m&&o.DNE(0,ts,7,4,"ng-template",6)(1,qo,4,6,"ng-template",null,0,o.C5r),2&m){const D=C.$implicit,b=o.sdS(2);o.Y8G("ngIf",(null==D.items?null:D.items.length)>0)("ngIfElse",b)}}let Kr=(()=>{var m;class C{constructor(b,k,Y,Ae,Tt,Jt,on,lr){this.navCtrl=b,this.auth=k,this.firestore=Y,this.platform=Ae,this.notificationsPushService=Tt,this.menuController=Jt,this.afAuth=on,this.router=lr,this.userId=null,this.appPages=[{title:"Inicio",url:"/home",icon:"Home"},{title:"Inventario",url:"/inventory",icon:"clipboard"},{title:"Favoritos",url:"/favorites",icon:"heart"},{title:"Recetas",icon:"restaurant",items:[{title:"Desayuno",url:"/breakfast-recipes",icon:"restaurant"},{title:"Almuerzo",url:"/lunch-recipes",icon:"restaurant"},{title:"Cena",url:"/dinner-recipes",icon:"restaurant"},{title:"Postres",url:"/dessert-recipes",icon:"restaurant"},{title:"Agregar recetas",url:"/add-recipe",icon:"add"}]},{title:"Perfil",url:"/perfilusuario",icon:"person"},{title:"Cerrar sesi\xf3n",url:"/login",icon:"close"}],this.initializeFCM(),this.listenToMessages(),this.init(),this.initializeNotifications()}navigateToAlmuerzo(){this.navCtrl.navigateForward("/almuerzo")}navigateToCena(){this.navCtrl.navigateForward("/cena")}navigateToDesayunos(){this.navCtrl.navigateForward("/desayunos")}navigateToPostres(){this.navCtrl.navigateForward("/postres")}init(){Be.Ii.isNativePlatform()&&this.notificationsPushService.init()}ngOnInit(){this.afAuth.authState.subscribe(b=>{b?(console.log("Usuario autenticado:",b),this.router.navigate(["/home"])):(console.log("No hay usuario autenticado."),this.router.navigate(["/login"]))})}initializeApp(){this.platform.ready().then(()=>{this.requestNotificationPermission(),"serviceWorker"in navigator&&navigator.serviceWorker.register("/firebase-messaging-sw.js").then(b=>{console.log("Service Worker registrado:",b)}).catch(b=>{console.log("Error al registrar el Service Worker:",b)})})}requestNotificationPermission(){Notification.requestPermission().then(b=>{"granted"===b?console.log("Permiso para notificaciones concedido"):console.error("Permiso para notificaciones denegado")})}listenToMessages(){const b=(0,et.dG)();(0,et.xD)(b,k=>{console.log("Mensaje recibido en primer plano: ",k)})}initializeFCM(){var b=this;return(0,Se.A)(function*(){b.auth.user.subscribe(function(){var k=(0,Se.A)(function*(Y){if(Y)if(b.userId=Y.uid,"granted"===(yield _e.requestPermissions()).receive){const Tt=yield _e.getToken();console.log("FCM Token:",Tt),b.firestore.collection("usuarios").doc(b.userId).set({fcmToken:Tt},{merge:!0}),_e.addListener("notificationReceived",Jt=>{console.log("Notificaci\xf3n recibida:",Jt)}),_e.addListener("notificationActionPerformed",Jt=>{console.log("Acci\xf3n de notificaci\xf3n:",Jt)})}else console.log("Permisos de notificaci\xf3n denegados")});return function(Y){return k.apply(this,arguments)}}())})()}closeMenu(){var b=this;return(0,Se.A)(function*(){yield b.menuController.close()})()}initializeNotifications(){Qe.requestPermissions().then(b=>{"granted"===b.receive&&Qe.register()}),Qe.addListener("pushNotificationReceived",b=>{console.log("Notificaci\xf3n recibida:",b)}),Qe.addListener("pushNotificationActionPerformed",b=>{console.log("Acci\xf3n de notificaci\xf3n realizada:",b)})}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(ve.q9),o.rXU(Ke.DS),o.rXU(Ee.Qe),o.rXU(ve.OD),o.rXU(Xo),o.rXU(W._t),o.rXU(Ke.DS),o.rXU(B.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-root"]],decls:11,vars:1,consts:[["sinItems",""],["contentId","main-content"],["contentId","main-content","type","overlay"],["id","inbox-list"],["ngFor","",3,"ngForOf"],["id","main-content"],[3,"ngIf","ngIfElse"],[3,"value"],["toggle-icon","arrow-down-circle",3,"value"],["slot","header"],["id","inbox-list","slot","content"],["auto-hide","false",4,"ngFor","ngForOf"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"ios","md"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"click","routerLink"],["aria-hidden","true","slot","start",3,"ios","md"]],template:function(b,k){1&b&&(o.j41(0,"ion-app")(1,"ion-split-pane",1)(2,"ion-menu",2)(3,"ion-content")(4,"ion-list",3)(5,"ion-list-header"),o.EFF(6,"Miven"),o.k0s(),o.j41(7,"ion-note"),o.EFF(8,"V.1"),o.k0s(),o.DNE(9,uo,3,2,"ng-template",4),o.k0s()()(),o.nrm(10,"ion-router-outlet",5),o.k0s()()),2&b&&(o.R7$(9),o.Y8G("ngForOf",k.appPages))},dependencies:[Me.Sq,Me.bT,W.xk,W.YH,W.U1,W.W9,W.iq,W.uz,W.he,W.nf,W.AF,W.oS,W.cA,W.JI,W.HP,W.Rg,W.N7,B.Wk,B.wQ],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-background-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}[_ngcontent-%COMP%]:root{--ion-background-color: #ffffff;--ion-text-color: #000000}.dark-theme[_ngcontent-%COMP%]{--ion-background-color: #000000;--ion-text-color: #ffffff}"]}),C})(),fs=(()=>{var m;class C{constructor(b){this.popoverController=b}selectSort(b){this.popoverController.dismiss(b)}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(W.IE))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-sort-menu"]],decls:7,vars:0,consts:[["button","",3,"click"]],template:function(b,k){1&b&&(o.j41(0,"ion-list")(1,"ion-item",0),o.bIt("click",function(){return k.selectSort("alphabetical")}),o.j41(2,"ion-label"),o.EFF(3,"Orden Alfab\xe9tico"),o.k0s()(),o.j41(4,"ion-item",0),o.bIt("click",function(){return k.selectSort("expiration")}),o.j41(5,"ion-label"),o.EFF(6,"Fecha de Vencimiento"),o.k0s()()())},dependencies:[W.uz,W.he,W.nf]}),C})();var Fn=V(4341);function $r(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()()),2&m){const D=C.$implicit;o.R7$(3),o.JRh(D.nombre),o.R7$(2),o.SpI("Venci\xf3 el: ",D.fechaVencimiento,"")}}function Ks(m,C){if(1&m&&(o.j41(0,"ion-card",9)(1,"ion-card-header")(2,"ion-card-title"),o.EFF(3,"Productos Vencidos"),o.k0s()(),o.j41(4,"ion-card-content")(5,"ion-list"),o.DNE(6,$r,6,2,"ion-item",4),o.k0s()()()),2&m){const D=o.XpG(2);o.R7$(6),o.Y8G("ngForOf",D.expiredItems)}}function Is(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s()()()),2&m){const D=C.$implicit;o.R7$(3),o.JRh(D.nombre),o.R7$(2),o.SpI("Vence el: ",D.fechaVencimiento,"")}}function ho(m,C){if(1&m&&(o.j41(0,"ion-card",10)(1,"ion-card-header")(2,"ion-card-title"),o.EFF(3,"Productos por Vencer"),o.k0s()(),o.j41(4,"ion-card-content")(5,"ion-list"),o.DNE(6,Is,6,2,"ion-item",4),o.k0s()()()),2&m){const D=o.XpG(2);o.R7$(6),o.Y8G("ngForOf",D.expiringSoonItems)}}function Si(m,C){if(1&m&&(o.j41(0,"div"),o.DNE(1,Ks,7,1,"ion-card",7)(2,ho,7,1,"ion-card",8),o.k0s()),2&m){const D=o.XpG();o.R7$(),o.Y8G("ngIf",D.expiredItems.length>0),o.R7$(),o.Y8G("ngIf",D.expiringSoonItems.length>0)}}function Es(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-item")(1,"ion-label")(2,"h2"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"p"),o.EFF(7),o.k0s()(),o.j41(8,"ion-button",1),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.startEditItem(k))}),o.EFF(9,"Editar"),o.k0s(),o.j41(10,"ion-button",11),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.deleteItem(k.id))}),o.EFF(11,"Eliminar"),o.k0s()()}if(2&m){const D=C.$implicit;o.R7$(3),o.JRh(D.nombre),o.R7$(2),o.Lme("Cantidad: ",D.cantidad," ",D.unidadMedida,""),o.R7$(2),o.SpI("Fecha de Vencimiento: ",D.fechaVencimiento,"")}}function Mo(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Editar Cantidad"),o.k0s(),o.j41(4,"ion-buttons",12)(5,"ion-button",1),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeEditModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content")(8,"ion-item")(9,"ion-label",13),o.EFF(10,"Nueva Cantidad"),o.k0s(),o.j41(11,"ion-input",14),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.editItemCantidad,k)||(Y.editItemCantidad=k),o.Njj(k)}),o.k0s()(),o.j41(12,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.updateItemQuantity())}),o.EFF(13,"Guardar Cambios"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(11),o.R50("ngModel",D.editItemCantidad)}}let Mr=(()=>{var m;class C{constructor(b,k,Y,Ae){this.inventoryService=b,this.auth=k,this.popoverController=Y,this.alertController=Ae,this.inventoryItems=[],this.sortedInventory=[],this.expiredItems=[],this.expiringSoonItems=[],this.userId=null,this.editItemCantidad=null,this.editItemId=null,this.isEditModalOpen=!1}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadInventory())}),this.requestNotificationPermission()}loadInventory(){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(b=>{this.inventoryItems=b,this.sortInventory("alphabetical"),this.checkExpiringItems()})}openSortMenu(b){var k=this;return(0,Se.A)(function*(){const Y=yield k.popoverController.create({component:fs,event:b,translucent:!0});yield Y.present();const{data:Ae}=yield Y.onDidDismiss();Ae&&k.sortInventory(Ae)})()}sortInventory(b){"alphabetical"===b?this.sortedInventory=[...this.inventoryItems].sort((k,Y)=>k.nombre.localeCompare(Y.nombre)):"expiration"===b&&(this.sortedInventory=[...this.inventoryItems].sort((k,Y)=>new Date(k.fechaVencimiento).getTime()-new Date(Y.fechaVencimiento).getTime()))}requestNotificationPermission(){"Notification"in window&&Notification.requestPermission().then(b=>{console.log("granted"===b?"Permiso para notificaciones otorgado":"Notificaciones bloqueadas")})}sendNotification(b,k){"Notification"in window&&"granted"===Notification.permission&&new Notification("Producto por vencer",{body:`El \xedtem ${b} vence el ${k}.`,icon:"assets/icon/alert.png"})}deleteItem(b){this.userId&&confirm("\xbfEst\xe1s seguro de que deseas eliminar este \xedtem del inventario?")&&this.inventoryService.deleteItemFromInventory(b,this.userId).then(()=>{console.log("\xcdtem eliminado con \xe9xito"),this.loadInventory()}).catch(k=>{console.error("Error al eliminar el \xedtem:",k)})}startEditItem(b){this.editItemCantidad=b.cantidad,this.editItemId=b.id,this.isEditModalOpen=!0}closeEditModal(){this.isEditModalOpen=!1,this.editItemCantidad=null,this.editItemId=null}updateItemQuantity(){this.userId&&this.editItemId&&null!=this.editItemCantidad&&this.inventoryService.updateItemQuantity(this.userId,this.editItemId,this.editItemCantidad).then(()=>{console.log("Cantidad actualizada con \xe9xito"),this.closeEditModal()}).catch(b=>{console.error("Error al actualizar la cantidad:",b)})}convertDate(b){if(b instanceof Date)return b;if("string"==typeof b){const k=b.split("-");if(3===k.length){const[Y,Ae,Tt]=k.map(Jt=>parseInt(Jt,10));return new Date(Tt,Ae-1,Y)}}return console.error("Formato de fecha inv\xe1lido:",b),new Date(NaN)}checkExpiringItems(){const b=new Date,k=new Date;k.setDate(b.getDate()+7),console.log("Hoy es:",b),console.log("Una semana desde hoy es:",k),this.expiredItems=this.inventoryItems.filter(Y=>{const Ae=this.convertDate(Y.fechaVencimiento);return isNaN(Ae.getTime())?(console.warn(`Fecha inv\xe1lida para el \xedtem ${Y.nombre}:`,Y.fechaVencimiento),!1):Ae<b}),this.expiringSoonItems=this.inventoryItems.filter(Y=>{const Ae=this.convertDate(Y.fechaVencimiento);return isNaN(Ae.getTime())?(console.warn(`Fecha inv\xe1lida para el \xedtem ${Y.nombre}:`,Y.fechaVencimiento),!1):Ae>=b&&Ae<=k}),console.log("Productos vencidos:",this.expiredItems),console.log("Productos por vencer:",this.expiringSoonItems),this.showAlerts()}showAlerts(){var b=this;return(0,Se.A)(function*(){b.expiredItems.length>0&&(yield(yield b.alertController.create({header:"Productos Vencidos",message:`Tienes ${b.expiredItems.length} producto(s) vencido(s):${b.expiredItems.map(Y=>Y.nombre).join(", ")}`,buttons:["OK"]})).present()),b.expiringSoonItems.length>0&&(yield(yield b.alertController.create({header:"Productos por Vencer",message:`Tienes ${b.expiringSoonItems.length} producto(s) que vencer\xe1n pronto:<br>${b.expiringSoonItems.map(Y=>Y.nombre).join(", ")}`,buttons:["OK"]})).present())})()}processItems(b,k){console.log("Expired Items:",b),console.log("Expiring Items:",k)}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(Io),o.rXU(Ke.DS),o.rXU(W.IE),o.rXU(W.hG))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-inventory"]],decls:16,vars:3,consts:[["slot","start"],[3,"click"],["name","funnel","slot","icon-only"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"isOpen"],["expand","full","routerLink","/add-item"],["color","danger",4,"ngIf"],["color","warning",4,"ngIf"],["color","danger"],["color","warning"],["color","danger",3,"click"],["slot","end"],["position","floating"],["type","number",3,"ngModelChange","ngModel"],["expand","full",3,"click"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Inventario"),o.k0s(),o.j41(6,"ion-button",1),o.bIt("click",function(Ae){return k.openSortMenu(Ae)}),o.nrm(7,"ion-icon",2),o.k0s()()()(),o.j41(8,"ion-content"),o.DNE(9,Si,3,2,"div",3),o.j41(10,"ion-list"),o.DNE(11,Es,12,4,"ion-item",4),o.k0s(),o.j41(12,"ion-modal",5),o.DNE(13,Mo,14,1,"ng-template"),o.k0s(),o.j41(14,"ion-button",6),o.EFF(15,"Agregar \xcdtem"),o.k0s()()),2&b&&(o.R7$(9),o.Y8G("ngIf",k.expiredItems.length>0||k.expiringSoonItems.length>0),o.R7$(2),o.Y8G("ngForOf",k.sortedInventory),o.R7$(),o.Y8G("isOpen",k.isEditModalOpen))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.$w,W.uz,W.he,W.nf,W.MC,W.BC,W.ai,W.Sb,W.su,W.N7,B.Wk,Fn.BC,Fn.vS]}),C})();var Xs=V(4572),pi=V(7935);let _i=(()=>{var m;class C{constructor(b,k){this.firestore=b,this.auth=k}addRecipe(b){return this.firestore.collection("recetas").add(b)}getAllRecipes(){return this.firestore.collection("recetas").valueChanges({idField:"id"})}getRecipesByCategory(b){return this.firestore.collection("recetas",k=>k.where("categoria","==",b)).valueChanges({idField:"id"})}deleteRecipe(b){return this.firestore.collection("recetas").doc(b).delete()}getRecipeCommentsWithUser(b){return this.firestore.collection("recetas").doc(b).collection("comentarios",k=>k.orderBy("timestamp","desc")).snapshotChanges().pipe((0,xe.n)(k=>{const Y=k.map(Ae=>{const Tt=Ae.payload.doc.data(),Jt=Ae.payload.doc.id;return this.firestore.collection("usuarios").doc(Tt.userId).get().pipe((0,ct.T)(on=>{const lr=on.data()||{};return{...Tt,id:Jt,userName:lr.nombre||"Usuario An\xf3nimo",timestamp:Tt.timestamp.toDate()}}))});return(0,Xs.z)(Y)}))}addCommentWithRating(b,k,Y,Ae){var Tt=this;return this.firestore.firestore.runTransaction(function(){var Jt=(0,Se.A)(function*(on){var lr,Dr;const Ai=Tt.firestore.collection("recetas").doc(b).ref,ai=yield on.get(Ai);if(!ai.exists)throw new Error("Receta no encontrada");const li=ai.data()||{},Vr=(null!==(lr=li.ratingCount)&&void 0!==lr?lr:0)+1,So=(null!==(Dr=li.ratingTotal)&&void 0!==Dr?Dr:0)+Y;on.update(Ai,{ratingCount:Vr,ratingTotal:So,rating:So/Vr});const Ti=Tt.firestore.collection("recetas").doc(b).collection("comentarios").doc();on.set(Ti.ref,{userId:k,rating:Y,comment:Ae,timestamp:pi.A.firestore.FieldValue.serverTimestamp()})});return function(on){return Jt.apply(this,arguments)}}())}markAsFavorite(b,k,Y){return this.firestore.collection("usuarios").doc(k).collection("favoritos").doc(b).set({favorita:Y})}getFavoriteRecipes(b){return this.firestore.collection("usuarios").doc(b).collection("favoritos").valueChanges()}getRecipeById(b){return this.firestore.collection("recetas").doc(b).valueChanges().pipe((0,ct.T)(k=>{if(!k)throw new Error(`Receta con ID ${b} no encontrada`);return k}))}updateRecipe(b,k){return this.firestore.collection("recetas").doc(b).update(k)}}return(m=C).\u0275fac=function(b){return new(b||m)(o.KVO(Ee.Qe),o.KVO(Ke.DS))},m.\u0275prov=o.jDH({token:m,factory:m.\u0275fac,providedIn:"root"}),C})();var Ri=V(9842),yr=V(5407),Qo=V(3236),so=V(9974),ti=V(4360),xo=V(9253),bi=V(3345),F=V(8742),E=V(1076),O=V(1362);const A="firebasestorage.googleapis.com",G="storageBucket";class Et extends E.g{constructor(C,D,b=0){super(an(C),`Firebase Storage: ${D} (${an(C)})`),this.status_=b,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(C){this.status_=C}_codeEquals(C){return an(C)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(C){this.customData.serverResponse=C,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ht=function(m){return m.UNKNOWN="unknown",m.OBJECT_NOT_FOUND="object-not-found",m.BUCKET_NOT_FOUND="bucket-not-found",m.PROJECT_NOT_FOUND="project-not-found",m.QUOTA_EXCEEDED="quota-exceeded",m.UNAUTHENTICATED="unauthenticated",m.UNAUTHORIZED="unauthorized",m.UNAUTHORIZED_APP="unauthorized-app",m.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",m.INVALID_CHECKSUM="invalid-checksum",m.CANCELED="canceled",m.INVALID_EVENT_NAME="invalid-event-name",m.INVALID_URL="invalid-url",m.INVALID_DEFAULT_BUCKET="invalid-default-bucket",m.NO_DEFAULT_BUCKET="no-default-bucket",m.CANNOT_SLICE_BLOB="cannot-slice-blob",m.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",m.NO_DOWNLOAD_URL="no-download-url",m.INVALID_ARGUMENT="invalid-argument",m.INVALID_ARGUMENT_COUNT="invalid-argument-count",m.APP_DELETED="app-deleted",m.INVALID_ROOT_OPERATION="invalid-root-operation",m.INVALID_FORMAT="invalid-format",m.INTERNAL_ERROR="internal-error",m.UNSUPPORTED_ENVIRONMENT="unsupported-environment",m}(Ht||{});function an(m){return"storage/"+m}function wn(){return new Et(Ht.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ii(){return new Et(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ui(){return new Et(Ht.CANCELED,"User canceled the upload/download.")}function ji(){return new Et(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function lo(m){return new Et(Ht.INVALID_ARGUMENT,m)}function ps(){return new Et(Ht.APP_DELETED,"The Firebase app was deleted.")}function No(m){return new Et(Ht.INVALID_ROOT_OPERATION,"The operation '"+m+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function po(m,C){return new Et(Ht.INVALID_FORMAT,"String does not match format '"+m+"': "+C)}function is(m){throw new Et(Ht.INTERNAL_ERROR,"Internal error: "+m)}class ni{constructor(C,D){this.bucket=C,this.path_=D}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const C=encodeURIComponent;return"/b/"+C(this.bucket)+"/o/"+C(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(C,D){let b;try{b=ni.makeFromUrl(C,D)}catch{return new ni(C,"")}if(""===b.path)return b;throw function ao(m){return new Et(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+m+"'.")}(C)}static makeFromUrl(C,D){let b=null;const k="([A-Za-z0-9.\\-_]+)",Tt=new RegExp("^gs://"+k+"(/(.*))?$","i");function on(Ti){Ti.path_=decodeURIComponent(Ti.path)}const Dr=D.replace(/[.]/g,"\\."),xi=[{regex:Tt,indices:{bucket:1,path:3},postModify:function Y(Ti){"/"===Ti.path.charAt(Ti.path.length-1)&&(Ti.path_=Ti.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Dr}/v[A-Za-z0-9_]+/b/${k}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:on},{regex:new RegExp(`^https?://${D===A?"(?:storage.googleapis.com|storage.cloud.google.com)":D}/${k}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:on}];for(let Ti=0;Ti<xi.length;Ti++){const Hs=xi[Ti],es=Hs.regex.exec(C);if(es){let yl=es[Hs.indices.path];yl||(yl=""),b=new ni(es[Hs.indices.bucket],yl),Hs.postModify(b);break}}if(null==b)throw function di(m){return new Et(Ht.INVALID_URL,"Invalid URL '"+m+"'.")}(C);return b}}class ta{constructor(C){this.promise_=Promise.reject(C)}getPromise(){return this.promise_}cancel(C=!1){}}function fe(m){return"string"==typeof m||m instanceof String}function Xe(m){return Ut()&&m instanceof Blob}function Ut(){return typeof Blob<"u"}function gn(m,C,D,b){if(b<C)throw lo(`Invalid value for '${m}'. Expected ${C} or greater.`);if(b>D)throw lo(`Invalid value for '${m}'. Expected ${D} or less.`)}function jn(m,C,D){let b=C;return null==D&&(b=`https://${C}`),`${D}://${b}/v0${m}`}function yn(m){const C=encodeURIComponent;let D="?";for(const b in m)m.hasOwnProperty(b)&&(D=D+(C(b)+"=")+C(m[b])+"&");return D=D.slice(0,-1),D}var Wn=function(m){return m[m.NO_ERROR=0]="NO_ERROR",m[m.NETWORK_ERROR=1]="NETWORK_ERROR",m[m.ABORT=2]="ABORT",m}(Wn||{});function Vi(m,C){const D=m>=500&&m<600,k=-1!==[408,429].indexOf(m),Y=-1!==C.indexOf(m);return D||k||Y}class Qi{constructor(C,D,b,k,Y,Ae,Tt,Jt,on,lr,Dr,Ai=!0){this.url_=C,this.method_=D,this.headers_=b,this.body_=k,this.successCodes_=Y,this.additionalRetryCodes_=Ae,this.callback_=Tt,this.errorCallback_=Jt,this.timeout_=on,this.progressCallback_=lr,this.connectionFactory_=Dr,this.retry=Ai,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ai,li)=>{this.resolve_=ai,this.reject_=li,this.start_()})}start_(){const D=(b,k)=>{const Y=this.resolve_,Ae=this.reject_,Tt=k.connection;if(k.wasSuccessCode)try{const Jt=this.callback_(Tt,Tt.getResponse());!function Cs(m){return void 0!==m}(Jt)?Y():Y(Jt)}catch(Jt){Ae(Jt)}else if(null!==Tt){const Jt=wn();Jt.serverResponse=Tt.getErrorText(),Ae(this.errorCallback_?this.errorCallback_(Tt,Jt):Jt)}else Ae(k.canceled?this.appDelete_?ps():ui():ii())};this.canceled_?D(0,new Ji(!1,null,!0)):this.backoffId_=function Ns(m,C,D){let b=1,k=null,Y=null,Ae=!1,Tt=0;function Jt(){return 2===Tt}let on=!1;function lr(...Sr){on||(on=!0,C.apply(null,Sr))}function Dr(Sr){k=setTimeout(()=>{k=null,m(ai,Jt())},Sr)}function Ai(){Y&&clearTimeout(Y)}function ai(Sr,...Vr){if(on)return void Ai();if(Sr)return Ai(),void lr.call(null,Sr,...Vr);if(Jt()||Ae)return Ai(),void lr.call(null,Sr,...Vr);let xi;b<64&&(b*=2),1===Tt?(Tt=2,xi=0):xi=1e3*(b+Math.random()),Dr(xi)}let li=!1;function Ii(Sr){li||(li=!0,Ai(),!on&&(null!==k?(Sr||(Tt=2),clearTimeout(k),Dr(0)):Sr||(Tt=1)))}return Dr(0),Y=setTimeout(()=>{Ae=!0,Ii(!0)},D),Ii}((b,k)=>{if(k)return void b(!1,new Ji(!1,null,!0));const Y=this.connectionFactory_();this.pendingConnection_=Y;const Ae=Tt=>{null!==this.progressCallback_&&this.progressCallback_(Tt.loaded,Tt.lengthComputable?Tt.total:-1)};null!==this.progressCallback_&&Y.addUploadProgressListener(Ae),Y.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Y.removeUploadProgressListener(Ae),this.pendingConnection_=null;const Tt=Y.getErrorCode()===Wn.NO_ERROR,Jt=Y.getStatus();if(!Tt||Vi(Jt,this.additionalRetryCodes_)&&this.retry){const lr=Y.getErrorCode()===Wn.ABORT;return void b(!1,new Ji(!1,null,lr))}const on=-1!==this.successCodes_.indexOf(Jt);b(!0,new Ji(on,Y))})},D,this.timeout_)}getPromise(){return this.promise_}cancel(C){this.canceled_=!0,this.appDelete_=C||!1,null!==this.backoffId_&&function To(m){m(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ji{constructor(C,D,b){this.wasSuccessCode=C,this.connection=D,this.canceled=!!b}}function Ll(...m){const C=function As(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==C){const D=new C;for(let b=0;b<m.length;b++)D.append(m[b]);return D.getBlob()}if(Ut())return new Blob(m);throw new Et(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Yo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ia{constructor(C,D){this.data=C,this.contentType=D||null}}function Z(m,C){switch(m){case Yo.RAW:return new Ia(L(C));case Yo.BASE64:case Yo.BASE64URL:return new Ia(K(m,C));case Yo.DATA_URL:return new Ia(function fn(m){const C=new ye(m);return C.base64?K(Yo.BASE64,C.rest):function ae(m){let C;try{C=decodeURIComponent(m)}catch{throw po(Yo.DATA_URL,"Malformed data URL.")}return L(C)}(C.rest)}(C),function or(m){return new ye(m).contentType}(C))}throw wn()}function L(m){const C=[];for(let D=0;D<m.length;D++){let b=m.charCodeAt(D);b<=127?C.push(b):b<=2047?C.push(192|b>>6,128|63&b):55296==(64512&b)?D<m.length-1&&56320==(64512&m.charCodeAt(D+1))?(b=65536|(1023&b)<<10|1023&m.charCodeAt(++D),C.push(240|b>>18,128|b>>12&63,128|b>>6&63,128|63&b)):C.push(239,191,189):56320==(64512&b)?C.push(239,191,189):C.push(224|b>>12,128|b>>6&63,128|63&b)}return new Uint8Array(C)}function K(m,C){switch(m){case Yo.BASE64:{const k=-1!==C.indexOf("-"),Y=-1!==C.indexOf("_");if(k||Y)throw po(m,"Invalid character '"+(k?"-":"_")+"' found: is it base64url encoded?");break}case Yo.BASE64URL:{const k=-1!==C.indexOf("+"),Y=-1!==C.indexOf("/");if(k||Y)throw po(m,"Invalid character '"+(k?"+":"/")+"' found: is it base64 encoded?");C=C.replace(/-/g,"+").replace(/_/g,"/");break}}let D;try{D=function ss(m){if(typeof atob>"u")throw function bs(m){return new Et(Ht.UNSUPPORTED_ENVIRONMENT,`${m} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(m)}(C)}catch(k){throw k.message.includes("polyfill")?k:po(m,"Invalid character found")}const b=new Uint8Array(D.length);for(let k=0;k<D.length;k++)b[k]=D.charCodeAt(k);return b}class ye{constructor(C){this.base64=!1,this.contentType=null;const D=C.match(/^data:([^,]+)?,/);if(null===D)throw po(Yo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const b=D[1]||null;null!=b&&(this.base64=function Pi(m,C){return m.length>=C.length&&m.substring(m.length-C.length)===C}(b,";base64"),this.contentType=this.base64?b.substring(0,b.length-7):b),this.rest=C.substring(C.indexOf(",")+1)}}class ki{constructor(C,D){let b=0,k="";Xe(C)?(this.data_=C,b=C.size,k=C.type):C instanceof ArrayBuffer?(D?this.data_=new Uint8Array(C):(this.data_=new Uint8Array(C.byteLength),this.data_.set(new Uint8Array(C))),b=this.data_.length):C instanceof Uint8Array&&(D?this.data_=C:(this.data_=new Uint8Array(C.length),this.data_.set(C)),b=C.length),this.size_=b,this.type_=k}size(){return this.size_}type(){return this.type_}slice(C,D){if(Xe(this.data_)){const k=function nc(m,C,D){return m.webkitSlice?m.webkitSlice(C,D):m.mozSlice?m.mozSlice(C,D):m.slice?m.slice(C,D):null}(this.data_,C,D);return null===k?null:new ki(k)}{const b=new Uint8Array(this.data_.buffer,C,D-C);return new ki(b,!0)}}static getBlob(...C){if(Ut()){const D=C.map(b=>b instanceof ki?b.data_:b);return new ki(Ll.apply(null,D))}{const D=C.map(Ae=>fe(Ae)?Z(Yo.RAW,Ae).data:Ae.data_);let b=0;D.forEach(Ae=>{b+=Ae.byteLength});const k=new Uint8Array(b);let Y=0;return D.forEach(Ae=>{for(let Tt=0;Tt<Ae.length;Tt++)k[Y++]=Ae[Tt]}),new ki(k,!0)}}uploadData(){return this.data_}}function no(m){let C;try{C=JSON.parse(m)}catch{return null}return function zr(m){return"object"==typeof m&&!Array.isArray(m)}(C)?C:null}function gs(m){const C=m.lastIndexOf("/",m.length-2);return-1===C?m:m.slice(C+1)}function Fa(m,C){return C}class go{constructor(C,D,b,k){this.server=C,this.local=D||C,this.writable=!!b,this.xform=k||Fa}}let Rr=null;function Gi(){if(Rr)return Rr;const m=[];m.push(new go("bucket")),m.push(new go("generation")),m.push(new go("metageneration")),m.push(new go("name","fullPath",!0));const D=new go("name");D.xform=function C(Y,Ae){return function yi(m){return!fe(m)||m.length<2?m:gs(m)}(Ae)},m.push(D);const k=new go("size");return k.xform=function b(Y,Ae){return void 0!==Ae?Number(Ae):Ae},m.push(k),m.push(new go("timeCreated")),m.push(new go("updated")),m.push(new go("md5Hash",null,!0)),m.push(new go("cacheControl",null,!0)),m.push(new go("contentDisposition",null,!0)),m.push(new go("contentEncoding",null,!0)),m.push(new go("contentLanguage",null,!0)),m.push(new go("contentType",null,!0)),m.push(new go("metadata","customMetadata",!0)),Rr=m,Rr}function za(m,C,D){const b=no(C);return null===b?null:function mo(m,C,D){const b={type:"file"},k=D.length;for(let Y=0;Y<k;Y++){const Ae=D[Y];b[Ae.local]=Ae.xform(b,C[Ae.server])}return function Os(m,C){Object.defineProperty(m,"ref",{get:function D(){const Y=new ni(m.bucket,m.fullPath);return C._makeStorageReference(Y)}})}(b,m),b}(m,b,D)}function ms(m,C){const D={},b=C.length;for(let k=0;k<b;k++){const Y=C[k];Y.writable&&(D[Y.server]=m[Y.local])}return JSON.stringify(D)}const ks="prefixes",al="items";class _s{constructor(C,D,b,k){this.url=C,this.method=D,this.handler=b,this.timeout=k,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Oo(m){if(!m)throw wn()}function Wa(m,C){return function D(b,k){const Y=za(m,k,C);return Oo(null!==Y),Y}}function ia(m){return function C(D,b){let k;return k=401===D.getStatus()?D.getErrorText().includes("Firebase App Check token is invalid")?function Gr(){return new Et(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ir(){return new Et(Ht.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===D.getStatus()?function Xn(m){return new Et(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+m+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(m.bucket):403===D.getStatus()?function vi(m){return new Et(Ht.UNAUTHORIZED,"User does not have permission to access '"+m+"'.")}(m.path):b,k.status=D.getStatus(),k.serverResponse=b.serverResponse,k}}function Fs(m){const C=ia(m);return function D(b,k){let Y=C(b,k);return 404===b.getStatus()&&(Y=function Bn(m){return new Et(Ht.OBJECT_NOT_FOUND,"Object '"+m+"' does not exist.")}(m.path)),Y.serverResponse=k.serverResponse,Y}}function Ts(m,C,D){const k=jn(C.fullServerUrl(),m.host,m._protocol),Ae=m.maxOperationRetryTime,Tt=new _s(k,"GET",Wa(m,D),Ae);return Tt.errorHandler=Fs(C),Tt}function cl(m,C,D,b,k){const Y={};Y.prefix=C.isRoot?"":C.path+"/",D&&D.length>0&&(Y.delimiter=D),b&&(Y.pageToken=b),k&&(Y.maxResults=k);const Tt=jn(C.bucketOnlyServerUrl(),m.host,m._protocol),on=m.maxOperationRetryTime,lr=new _s(Tt,"GET",function as(m,C){return function D(b,k){const Y=function Tc(m,C,D){const b=no(D);return null===b?null:function La(m,C,D){const b={prefixes:[],items:[],nextPageToken:D.nextPageToken};if(D[ks])for(const k of D[ks]){const Y=k.replace(/\/$/,""),Ae=m._makeStorageReference(new ni(C,Y));b.prefixes.push(Ae)}if(D[al])for(const k of D[al]){const Y=m._makeStorageReference(new ni(C,k.name));b.items.push(Y)}return b}(m,C,b)}(m,C,k);return Oo(null!==Y),Y}}(m,C.bucket),on);return lr.urlParams=Y,lr.errorHandler=ia(C),lr}function oa(m,C,D){const b=Object.assign({},D);return b.fullPath=m.path,b.size=C.size(),b.contentType||(b.contentType=function iu(m,C){return m&&m.contentType||C&&C.type()||"application/octet-stream"}(null,C)),b}class jo{constructor(C,D,b,k){this.current=C,this.total=D,this.finalized=!!b,this.metadata=k||null}}function vs(m,C){let D=null;try{D=m.getResponseHeader("X-Goog-Upload-Status")}catch{Oo(!1)}return Oo(!!D&&-1!==(C||["active"]).indexOf(D)),D}const ws={STATE_CHANGED:"state_changed"},ro={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sa(m){switch(m){case"running":case"pausing":case"canceling":return ro.RUNNING;case"paused":return ro.PAUSED;case"success":return ro.SUCCESS;case"canceled":return ro.CANCELED;default:return ro.ERROR}}class Vs{constructor(C,D,b){if(function xr(m){return"function"==typeof m}(C)||null!=D||null!=b)this.next=C,this.error=null!=D?D:void 0,this.complete=null!=b?b:void 0;else{const Y=C;this.next=Y.next,this.error=Y.error,this.complete=Y.complete}}}function Ds(m){return(...C)=>{Promise.resolve().then(()=>m(...C))}}let Ua=null;class Ul{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wn.NO_ERROR,this.sendPromise_=new Promise(C=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wn.ABORT,C()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wn.NETWORK_ERROR,C()}),this.xhr_.addEventListener("load",()=>{C()})})}send(C,D,b,k){if(this.sent_)throw is("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(D,C,!0),void 0!==k)for(const Y in k)k.hasOwnProperty(Y)&&this.xhr_.setRequestHeader(Y,k[Y].toString());return void 0!==b?this.xhr_.send(b):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw is("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw is("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw is("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw is("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(C){return this.xhr_.getResponseHeader(C)}addUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",C)}removeUploadProgressListener(C){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",C)}}class R extends Ul{initXhr(){this.xhr_.responseType="text"}}function q(){return Ua?Ua():new R}class nn{constructor(C,D,b=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=C,this._blob=D,this._metadata=b,this._mappings=Gi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=k=>{if(this._request=void 0,this._chunkMultiplier=1,k._codeEquals(Ht.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const Y=this.isExponentialBackoffExpired();if(Vi(k.status,[])){if(!Y)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();k=ii()}this._error=k,this._transition("error")}},this._metadataErrorHandler=k=>{this._request=void 0,k._codeEquals(Ht.CANCELED)?this.completeTransitions_():(this._error=k,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((k,Y)=>{this._resolve=k,this._reject=Y,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const C=this._transferred;return D=>this._updateProgress(C+D)}_shouldDoResumable(C){return C.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(C){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([D,b])=>{switch(this._state){case"running":C(D,b);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((C,D)=>{const b=function Ea(m,C,D,b,k){const Y=C.bucketOnlyServerUrl(),Ae=oa(C,b,k),Tt={name:Ae.fullPath},Jt=jn(Y,m.host,m._protocol),lr={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${b.size()}`,"X-Goog-Upload-Header-Content-Type":Ae.contentType,"Content-Type":"application/json; charset=utf-8"},Dr=ms(Ae,D),li=new _s(Jt,"POST",function ai(Ii){let Sr;vs(Ii);try{Sr=Ii.getResponseHeader("X-Goog-Upload-URL")}catch{Oo(!1)}return Oo(fe(Sr)),Sr},m.maxUploadRetryTime);return li.urlParams=Tt,li.headers=lr,li.body=Dr,li.errorHandler=ia(C),li}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),k=this._ref.storage._makeRequest(b,q,C,D);this._request=k,k.getPromise().then(Y=>{this._request=void 0,this._uploadUrl=Y,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const C=this._uploadUrl;this._resolveToken((D,b)=>{const k=function rc(m,C,D,b){const Jt=new _s(D,"POST",function Y(on){const lr=vs(on,["active","final"]);let Dr=null;try{Dr=on.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Oo(!1)}Dr||Oo(!1);const Ai=Number(Dr);return Oo(!isNaN(Ai)),new jo(Ai,b.size(),"final"===lr)},m.maxUploadRetryTime);return Jt.headers={"X-Goog-Upload-Command":"query"},Jt.errorHandler=ia(C),Jt}(this._ref.storage,this._ref._location,C,this._blob),Y=this._ref.storage._makeRequest(k,q,D,b);this._request=Y,Y.getPromise().then(Ae=>{this._request=void 0,this._updateProgress(Ae.current),this._needToFetchStatus=!1,Ae.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const C=262144*this._chunkMultiplier,D=new jo(this._transferred,this._blob.size()),b=this._uploadUrl;this._resolveToken((k,Y)=>{let Ae;try{Ae=function ul(m,C,D,b,k,Y,Ae,Tt){const Jt=new jo(0,0);if(Ae?(Jt.current=Ae.current,Jt.total=Ae.total):(Jt.current=0,Jt.total=b.size()),b.size()!==Jt.total)throw function fo(){return new Et(Ht.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const on=Jt.total-Jt.current;let lr=on;k>0&&(lr=Math.min(lr,k));const Dr=Jt.current;let ai="";ai=0===lr?"finalize":on===lr?"upload, finalize":"upload";const li={"X-Goog-Upload-Command":ai,"X-Goog-Upload-Offset":`${Jt.current}`},Ii=b.slice(Dr,Dr+lr);if(null===Ii)throw ji();const xi=new _s(D,"POST",function Sr(Ti,Hs){const es=vs(Ti,["active","final"]),Gc=Jt.current+lr,yl=b.size();let fa;return fa="final"===es?Wa(C,Y)(Ti,Hs):null,new jo(Gc,yl,"final"===es,fa)},C.maxUploadRetryTime);return xi.headers=li,xi.body=Ii.uploadData(),xi.progressCallback=Tt||null,xi.errorHandler=ia(m),xi}(this._ref._location,this._ref.storage,b,this._blob,C,this._mappings,D,this._makeProgressCallback())}catch(Jt){return this._error=Jt,void this._transition("error")}const Tt=this._ref.storage._makeRequest(Ae,q,k,Y,!1);this._request=Tt,Tt.getPromise().then(Jt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Jt.current),Jt.finalized?(this._metadata=Jt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((C,D)=>{const b=Ts(this._ref.storage,this._ref._location,this._mappings),k=this._ref.storage._makeRequest(b,q,C,D);this._request=k,k.getPromise().then(Y=>{this._request=void 0,this._metadata=Y,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((C,D)=>{const b=function Va(m,C,D,b,k){const Y=C.bucketOnlyServerUrl(),Ae={"X-Goog-Upload-Protocol":"multipart"},Jt=function Tt(){let xi="";for(let Ti=0;Ti<2;Ti++)xi+=Math.random().toString().slice(2);return xi}();Ae["Content-Type"]="multipart/related; boundary="+Jt;const on=oa(C,b,k),lr=ms(on,D),ai=ki.getBlob("--"+Jt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+lr+"\r\n--"+Jt+"\r\nContent-Type: "+on.contentType+"\r\n\r\n",b,"\r\n--"+Jt+"--");if(null===ai)throw ji();const li={name:on.fullPath},Ii=jn(Y,m.host,m._protocol),Vr=m.maxUploadRetryTime,So=new _s(Ii,"POST",Wa(m,D),Vr);return So.urlParams=li,So.headers=Ae,So.body=ai.uploadData(),So.errorHandler=ia(C),So}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),k=this._ref.storage._makeRequest(b,q,C,D);this._request=k,k.getPromise().then(Y=>{this._request=void 0,this._metadata=Y,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(C){const D=this._transferred;this._transferred=C,this._transferred!==D&&this._notifyObservers()}_transition(C){if(this._state!==C)switch(C){case"canceling":case"pausing":this._state=C,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const D="paused"===this._state;this._state=C,D&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=C,this._notifyObservers();break;case"canceled":this._error=ui(),this._state=C,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const C=sa(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:C,metadata:this._metadata,task:this,ref:this._ref}}on(C,D,b,k){const Y=new Vs(D||void 0,b||void 0,k||void 0);return this._addObserver(Y),()=>{this._removeObserver(Y)}}then(C,D){return this._promise.then(C,D)}catch(C){return this.then(null,C)}_addObserver(C){this._observers.push(C),this._notifyObserver(C)}_removeObserver(C){const D=this._observers.indexOf(C);-1!==D&&this._observers.splice(D,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(D=>{this._notifyObserver(D)})}_finishPromise(){if(void 0!==this._resolve){let C=!0;switch(sa(this._state)){case ro.SUCCESS:Ds(this._resolve.bind(null,this.snapshot))();break;case ro.CANCELED:case ro.ERROR:Ds(this._reject.bind(null,this._error))();break;default:C=!1}C&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(C){switch(sa(this._state)){case ro.RUNNING:case ro.PAUSED:C.next&&Ds(C.next.bind(C,this.snapshot))();break;case ro.SUCCESS:C.complete&&Ds(C.complete.bind(C))();break;default:C.error&&Ds(C.error.bind(C,this._error))()}}resume(){const C="paused"===this._state||"pausing"===this._state;return C&&this._transition("running"),C}pause(){const C="running"===this._state;return C&&this._transition("pausing"),C}cancel(){const C="running"===this._state||"pausing"===this._state;return C&&this._transition("canceling"),C}}class En{constructor(C,D){this._service=C,this._location=D instanceof ni?D:ni.makeFromUrl(D,C.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(C,D){return new En(C,D)}get root(){const C=new ni(this._location.bucket,"");return this._newRef(this._service,C)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gs(this._location.path)}get storage(){return this._service}get parent(){const C=function bo(m){if(0===m.length)return null;const C=m.lastIndexOf("/");return-1===C?"":m.slice(0,C)}(this._location.path);if(null===C)return null;const D=new ni(this._location.bucket,C);return new En(this._service,D)}_throwIfRoot(C){if(""===this._location.path)throw No(C)}}function zi(m,C,D){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,Se.A)(function*(m,C,D){const k=yield hi(m,{pageToken:D});C.prefixes.push(...k.prefixes),C.items.push(...k.items),null!=k.nextPageToken&&(yield zi(m,C,k.nextPageToken))})).apply(this,arguments)}function hi(m,C){null!=C&&"number"==typeof C.maxResults&&gn("options.maxResults",1,1e3,C.maxResults);const D=C||{},b=cl(m.storage,m._location,"/",D.pageToken,D.maxResults);return m.storage.makeRequestWithTokens(b,q)}function Wi(m){m._throwIfRoot("getDownloadURL");const C=function Al(m,C,D){const k=jn(C.fullServerUrl(),m.host,m._protocol),Ae=m.maxOperationRetryTime,Tt=new _s(k,"GET",function ll(m,C){return function D(b,k){const Y=za(m,k,C);return Oo(null!==Y),function ra(m,C,D,b){const k=no(C);if(null===k||!fe(k.downloadTokens))return null;const Y=k.downloadTokens;if(0===Y.length)return null;const Ae=encodeURIComponent;return Y.split(",").map(on=>{const Dr=m.fullPath;return jn("/b/"+Ae(m.bucket)+"/o/"+Ae(Dr),D,b)+yn({alt:"media",token:on})})[0]}(Y,k,m.host,m._protocol)}}(m,D),Ae);return Tt.errorHandler=Fs(C),Tt}(m.storage,m._location,Gi());return m.storage.makeRequestWithTokens(C,q).then(D=>{if(null===D)throw function rs(){return new Et(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return D})}function Hi(m,C){const D=function na(m,C){const D=C.split("/").filter(b=>b.length>0).join("/");return 0===m.length?D:m+"/"+D}(m._location.path,C),b=new ni(m._location.bucket,D);return new En(m.storage,b)}function Lr(m,C){if(m instanceof aa){const D=m;if(null==D._bucket)throw function Eo(){return new Et(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G+"' property when initializing the app?")}();const b=new En(D,D._bucket);return null!=C?Lr(b,C):b}return void 0!==C?Hi(m,C):m}function br(m,C){if(C&&function ko(m){return/^[A-Za-z]+:\/\//.test(m)}(C)){if(m instanceof aa)return function qs(m,C){return new En(m,C)}(m,C);throw lo("To use ref(service, url), the first argument must be a Storage instance.")}return Lr(m,C)}function ls(m,C){const D=null==C?void 0:C[G];return null==D?null:ni.makeFromBucketSpec(D,m)}class aa{constructor(C,D,b,k,Y){this.app=C,this._authProvider=D,this._appCheckProvider=b,this._url=k,this._firebaseVersion=Y,this._bucket=null,this._host=A,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=k?ni.makeFromBucketSpec(k,this._host):ls(this._host,this.app.options)}get host(){return this._host}set host(C){this._host=C,this._bucket=null!=this._url?ni.makeFromBucketSpec(this._url,C):ls(C,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(C){gn("time",0,Number.POSITIVE_INFINITY,C),this._maxUploadRetryTime=C}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(C){gn("time",0,Number.POSITIVE_INFINITY,C),this._maxOperationRetryTime=C}_getAuthToken(){var C=this;return(0,Se.A)(function*(){if(C._overrideAuthToken)return C._overrideAuthToken;const D=C._authProvider.getImmediate({optional:!0});if(D){const b=yield D.getToken();if(null!==b)return b.accessToken}return null})()}_getAppCheckToken(){var C=this;return(0,Se.A)(function*(){const D=C._appCheckProvider.getImmediate({optional:!0});return D?(yield D.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(C=>C.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(C){return new En(this,C)}_makeRequest(C,D,b,k,Y=!0){if(this._deleted)return new ta(ps());{const Ae=function gi(m,C,D,b,k,Y,Ae=!0){const Tt=yn(m.urlParams),Jt=m.url+Tt,on=Object.assign({},m.headers);return function Oa(m,C){C&&(m["X-Firebase-GMPID"]=C)}(on,C),function os(m,C){null!==C&&C.length>0&&(m.Authorization="Firebase "+C)}(on,D),function oi(m,C){m["X-Firebase-Storage-Version"]="webjs/"+(null!=C?C:"AppManager")}(on,Y),function ka(m,C){null!==C&&(m["X-Firebase-AppCheck"]=C)}(on,b),new Qi(Jt,m.method,on,m.body,m.successCodes,m.additionalRetryCodes,m.handler,m.errorHandler,m.timeout,m.progressCallback,k,Ae)}(C,this._appId,b,k,D,this._firebaseVersion,Y);return this._requests.add(Ae),Ae.getPromise().then(()=>this._requests.delete(Ae),()=>this._requests.delete(Ae)),Ae}}makeRequestWithTokens(C,D){var b=this;return(0,Se.A)(function*(){const[k,Y]=yield Promise.all([b._getAuthToken(),b._getAppCheckToken()]);return b._makeRequest(C,D,k,Y).getPromise()})()}}const Us="@firebase/storage";function qa(m,C){return br(m=(0,E.Ku)(m),C)}function _o(m,{instanceIdentifier:C}){const D=m.getProvider("app").getImmediate(),b=m.getProvider("auth-internal"),k=m.getProvider("app-check-internal");return new aa(D,b,k,C,F.SDK_VERSION)}!function oo(){(0,F._registerComponent)(new O.uA("storage",_o,"PUBLIC").setMultipleInstances(!0)),(0,F.registerVersion)(Us,"0.13.2",""),(0,F.registerVersion)(Us,"0.13.2","esm2017")}();class Ca{constructor(C,D,b){this._delegate=C,this.task=D,this.ref=b}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ya{constructor(C,D){this._delegate=C,this._ref=D,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ca(this._delegate.snapshot,this,this._ref)}then(C,D){return this._delegate.then(b=>{if(C)return C(new Ca(b,this,this._ref))},D)}on(C,D,b,k){let Y;return D&&(Y="function"==typeof D?Ae=>D(new Ca(Ae,this,this._ref)):{next:D.next?Ae=>D.next(new Ca(Ae,this,this._ref)):void 0,complete:D.complete||void 0,error:D.error||void 0}),this._delegate.on(C,Y,b||void 0,k||void 0)}}class Yi{constructor(C,D){this._delegate=C,this._service=D}get prefixes(){return this._delegate.prefixes.map(C=>new Co(C,this._service))}get items(){return this._delegate.items.map(C=>new Co(C,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Co{constructor(C,D){this._delegate=C,this.storage=D}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(C){const D=function ba(m,C){return Hi(m,C)}(this._delegate,C);return new Co(D,this.storage)}get root(){return new Co(this._delegate.root,this.storage)}get parent(){const C=this._delegate.parent;return null==C?null:new Co(C,this.storage)}put(C,D){return this._throwIfRoot("put"),new Ya(function la(m,C,D){return function Jr(m,C,D){return m._throwIfRoot("uploadBytesResumable"),new nn(m,new ki(C),D)}(m=(0,E.Ku)(m),C,D)}(this._delegate,C,D),this)}putString(C,D=Yo.RAW,b){this._throwIfRoot("putString");const k=Z(D,C),Y=Object.assign({},b);return null==Y.contentType&&null!=k.contentType&&(Y.contentType=k.contentType),new Ya(new nn(this._delegate,new ki(k.data,!0),Y),this)}listAll(){return function Ys(m){return function si(m){const C={prefixes:[],items:[]};return zi(m,C).then(()=>C)}(m=(0,E.Ku)(m))}(this._delegate).then(C=>new Yi(C,this.storage))}list(C){return function io(m,C){return hi(m=(0,E.Ku)(m),C)}(this._delegate,C||void 0).then(D=>new Yi(D,this.storage))}getMetadata(){return function Qs(m){return function Sn(m){m._throwIfRoot("getMetadata");const C=Ts(m.storage,m._location,Gi());return m.storage.makeRequestWithTokens(C,q)}(m=(0,E.Ku)(m))}(this._delegate)}updateMetadata(C){return function ca(m,C){return function sr(m,C){m._throwIfRoot("updateMetadata");const D=function Vl(m,C,D,b){const Y=jn(C.fullServerUrl(),m.host,m._protocol),Tt=ms(D,b),on=m.maxOperationRetryTime,lr=new _s(Y,"PATCH",Wa(m,b),on);return lr.headers={"Content-Type":"application/json; charset=utf-8"},lr.body=Tt,lr.errorHandler=Fs(C),lr}(m.storage,m._location,C,Gi());return m.storage.makeRequestWithTokens(D,q)}(m=(0,E.Ku)(m),C)}(this._delegate,C)}getDownloadURL(){return function cr(m){return Wi(m=(0,E.Ku)(m))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wc(m){return function wo(m){m._throwIfRoot("deleteObject");const C=function Fr(m,C){const b=jn(C.fullServerUrl(),m.host,m._protocol),Tt=new _s(b,"DELETE",function Ae(Jt,on){},m.maxOperationRetryTime);return Tt.successCodes=[200,204],Tt.errorHandler=Fs(C),Tt}(m.storage,m._location);return m.storage.makeRequestWithTokens(C,q)}(m=(0,E.Ku)(m))}(this._delegate)}_throwIfRoot(C){if(""===this._delegate._location.path)throw No(C)}}class Aa{constructor(C,D){this.app=C,this._delegate=D}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(C){if(ic(C))throw lo("ref() expected a child path but got a URL, use refFromURL instead.");return new Co(qa(this._delegate,C),this)}refFromURL(C){if(!ic(C))throw lo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ni.makeFromUrl(C,this._delegate.host)}catch{throw lo("refFromUrl() expected a valid full URL but got an invalid one.")}return new Co(qa(this._delegate,C),this)}setMaxUploadRetryTime(C){this._delegate.maxUploadRetryTime=C}setMaxOperationRetryTime(C){this._delegate.maxOperationRetryTime=C}useEmulator(C,D,b={}){!function Qa(m,C,D,b={}){!function Nr(m,C,D,b={}){m.host=`${C}:${D}`,m._protocol="http";const{mockUserToken:k}=b;k&&(m._overrideAuthToken="string"==typeof k?k:(0,E.Fy)(k,m.app.options.projectId))}(m,C,D,b)}(this._delegate,C,D,b)}}function ic(m){return/^[A-Za-z]+:\/\//.test(m)}function rd(m,{instanceIdentifier:C}){const D=m.getProvider("app-compat").getImmediate(),b=m.getProvider("storage").getImmediate({identifier:C});return new Aa(D,b)}function od(m){const C=function id(m){return new mt.c(C=>{const D=Ae=>C.next(Ae);D(m.snapshot);const Y=m.on("state_changed",D);return m.then(Ae=>{D(Ae),C.complete()},Ae=>{D(m.snapshot),(Ae=>{C.error(Ae)})(Ae)}),function(){Y()}}).pipe(function ns(m,C=Qo.E){return(0,so.N)((D,b)=>{let k=null,Y=null,Ae=null;const Tt=()=>{if(k){k.unsubscribe(),k=null;const on=Y;Y=null,b.next(on)}};function Jt(){const on=Ae+m,lr=C.now();if(lr<on)return k=this.schedule(void 0,on-lr),void b.add(k);Tt()}D.subscribe((0,ti._)(b,on=>{Y=on,Ae=C.now(),k||(k=C.schedule(Jt,m),b.add(k))},()=>{Tt(),b.complete()},void 0,()=>{Y=k=null}))})}(0))}(m);return{task:m,then:m.then.bind(m),catch:m.catch.bind(m),pause:m.pause.bind(m),cancel:m.cancel.bind(m),resume:m.resume.bind(m),snapshotChanges:()=>C,percentageChanges:()=>C.pipe((0,ct.T)(D=>D.bytesTransferred/D.totalBytes*100))}}function Sc(m){return{getDownloadURL:()=>(0,yt.of)(void 0).pipe(yr.Oe,(0,xe.n)(()=>m.getDownloadURL()),yr.U0),getMetadata:()=>(0,yt.of)(void 0).pipe(yr.Oe,(0,xe.n)(()=>m.getMetadata()),yr.U0),delete:()=>(0,ut.H)(m.delete()),child:C=>Sc(m.child(C)),updateMetadata:C=>(0,ut.H)(m.updateMetadata(C)),put:(C,D)=>od(m.put(C,D)),putString:(C,D,b)=>od(m.putString(C,D,b)),list:C=>(0,ut.H)(m.list(C)),listAll:()=>(0,ut.H)(m.listAll())}}!function Dc(m){const C={TaskState:ro,TaskEvent:ws,StringFormat:Yo,Storage:Aa,Reference:Co};m.INTERNAL.registerComponent(new O.uA("storage-compat",rd,"PUBLIC").setServiceProps(C).setMultipleInstances(!0)),m.registerVersion("@firebase/storage-compat","0.3.12")}(bi.A);const T=new o.nKC("angularfire2.storageBucket"),x=new o.nKC("angularfire2.storage.maxUploadRetryTime"),$=new o.nKC("angularfire2.storage.maxOperationRetryTime"),M=new o.nKC("angularfire2.storage.use-emulator");let j=(()=>{var m;class C{constructor(b,k,Y,Ae,Tt,Jt,on,lr,Dr,Ai){(0,Ri.A)(this,"storage",void 0);const ai=(0,xo.iB)(b,Tt,k);this.storage=(0,xo.BM)(`${ai.name}.storage.${Y}`,"AngularFireStorage",ai.name,()=>{const li=Tt.runOutsideAngular(()=>ai.storage(Y||void 0)),Ii=Dr;return Ii&&li.useEmulator(...Ii),on&&li.setMaxUploadRetryTime(on),lr&&li.setMaxOperationRetryTime(lr),li},[on,lr])}ref(b){return Sc(this.storage.ref(b))}refFromURL(b){return Sc(this.storage.refFromURL(b))}upload(b,k,Y){return Sc(this.storage.ref(b)).put(k,Y)}}return m=C,(0,Ri.A)(C,"\u0275fac",function(b){return new(b||m)(o.KVO(xo.rx),o.KVO(xo.uP,8),o.KVO(T,8),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(yr.u0),o.KVO(x,8),o.KVO($,8),o.KVO(M,8),o.KVO(yr.Jv,8))}),(0,Ri.A)(C,"\u0275prov",o.jDH({token:m,factory:m.\u0275fac,providedIn:"any"})),C})();function pn(m,C){if(1&m&&(o.j41(0,"ion-item"),o.nrm(1,"img",17),o.k0s()),2&m){const D=o.XpG();o.R7$(),o.Y8G("src",D.imagePreview,o.B4B)}}function Bt(m,C){if(1&m&&(o.j41(0,"ion-select-option",18),o.EFF(1),o.k0s()),2&m){const D=C.$implicit;o.Y8G("value",D.nombre),o.R7$(),o.JRh(D.nombre)}}function Kn(m,C){if(1&m&&(o.j41(0,"ion-item"),o.EFF(1),o.k0s()),2&m){const D=C.$implicit;o.R7$(),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," ")}}let Or=(()=>{var m;class C{constructor(b,k,Y,Ae){this.recipeService=b,this.inventoryService=k,this.auth=Y,this.storage=Ae,this.titulo="",this.imageUrl=null,this.descripcion="",this.categoria="desayuno",this.ingredientes=[],this.ingrediente="",this.cantidadIngrediente=1,this.unidadIngrediente="unidad",this.selectedFile=null,this.imagePreview=null,this.globalItems=[]}ngOnInit(){this.loadGlobalItems()}loadGlobalItems(){this.inventoryService.getGlobalItems().subscribe(b=>{this.globalItems=b})}addIngredient(){if(this.ingrediente.trim()){const b={nombre:this.ingrediente.trim(),cantidad:this.cantidadIngrediente,unidad:this.unidadIngrediente};this.ingredientes.push(b),this.ingrediente="",this.cantidadIngrediente=1,this.unidadIngrediente="unidad"}}addRecipe(){if(this.selectedFile){const b=`recipes/${(new Date).getTime()}_${this.selectedFile.name}`,k=this.storage.ref(b);this.storage.upload(b,this.selectedFile).snapshotChanges().pipe((0,Te.j)(()=>{k.getDownloadURL().subscribe(Ae=>{this.imageUrl=Ae,this.saveRecipe()})})).subscribe(()=>{},Ae=>console.error("Error al subir la imagen:",Ae))}else this.saveRecipe()}saveRecipe(){this.auth.user.subscribe(b=>{b&&this.recipeService.addRecipe({titulo:this.titulo,imageUrl:this.imageUrl,descripcion:this.descripcion,categoria:this.categoria,ingredientes:this.ingredientes,creadorId:b.uid}).then(()=>{}).catch(Y=>{console.error("Error al agregar la receta:",Y)})})}onFileSelected(b){var k;const Y=null===(k=b.target.files)||void 0===k?void 0:k[0];if(Y){this.selectedFile=Y;const Ae=new FileReader;Ae.onload=()=>{this.imagePreview=Ae.result},Ae.readAsDataURL(Y)}}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(_i),o.rXU(Io),o.rXU(Ke.DS),o.rXU(j))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-add-recipe"]],decls:57,vars:9,consts:[["slot","start"],["position","stacked"],[3,"ngModelChange","ngModel"],["type","file","accept","image/*",3,"change"],[4,"ngIf"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],[3,"value",4,"ngFor","ngForOf"],["type","number",3,"ngModelChange","ngModel"],["value","gramos"],["value","ml"],["value","unidad"],[3,"click"],[4,"ngFor","ngForOf"],["expand","full",3,"click"],["alt","Vista previa de la imagen",2,"width","100%","max-height","200px",3,"src"],[3,"value"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.k0s(),o.j41(4,"ion-title"),o.EFF(5,"Agregar Receta"),o.k0s()()(),o.j41(6,"ion-content")(7,"ion-list")(8,"ion-item")(9,"ion-label",1),o.EFF(10,"T\xedtulo"),o.k0s(),o.j41(11,"ion-input",2),o.mxI("ngModelChange",function(Ae){return o.DH7(k.titulo,Ae)||(k.titulo=Ae),Ae}),o.k0s()(),o.j41(12,"ion-item")(13,"input",3),o.bIt("change",function(Ae){return k.onFileSelected(Ae)}),o.k0s()(),o.DNE(14,pn,2,1,"ion-item",4),o.j41(15,"ion-item")(16,"ion-label",1),o.EFF(17,"Descripci\xf3n"),o.k0s(),o.j41(18,"ion-textarea",2),o.mxI("ngModelChange",function(Ae){return o.DH7(k.descripcion,Ae)||(k.descripcion=Ae),Ae}),o.k0s()(),o.j41(19,"ion-item")(20,"ion-label"),o.EFF(21,"Categor\xeda"),o.k0s(),o.j41(22,"ion-select",2),o.mxI("ngModelChange",function(Ae){return o.DH7(k.categoria,Ae)||(k.categoria=Ae),Ae}),o.j41(23,"ion-select-option",5),o.EFF(24,"Desayuno"),o.k0s(),o.j41(25,"ion-select-option",6),o.EFF(26,"Almuerzo"),o.k0s(),o.j41(27,"ion-select-option",7),o.EFF(28,"Cena"),o.k0s(),o.j41(29,"ion-select-option",8),o.EFF(30,"Postre"),o.k0s()()(),o.j41(31,"ion-item")(32,"ion-label"),o.EFF(33,"Seleccionar Ingrediente"),o.k0s(),o.j41(34,"ion-select",2),o.mxI("ngModelChange",function(Ae){return o.DH7(k.ingrediente,Ae)||(k.ingrediente=Ae),Ae}),o.DNE(35,Bt,2,2,"ion-select-option",9),o.k0s()(),o.j41(36,"ion-item")(37,"ion-label",1),o.EFF(38,"Cantidad"),o.k0s(),o.j41(39,"ion-input",10),o.mxI("ngModelChange",function(Ae){return o.DH7(k.cantidadIngrediente,Ae)||(k.cantidadIngrediente=Ae),Ae}),o.k0s()(),o.j41(40,"ion-item")(41,"ion-label"),o.EFF(42,"Unidad"),o.k0s(),o.j41(43,"ion-select",2),o.mxI("ngModelChange",function(Ae){return o.DH7(k.unidadIngrediente,Ae)||(k.unidadIngrediente=Ae),Ae}),o.j41(44,"ion-select-option",11),o.EFF(45,"Gramos"),o.k0s(),o.j41(46,"ion-select-option",12),o.EFF(47,"Mililitros"),o.k0s(),o.j41(48,"ion-select-option",13),o.EFF(49,"Unidad"),o.k0s()()(),o.j41(50,"ion-item")(51,"ion-button",14),o.bIt("click",function(){return k.addIngredient()}),o.EFF(52,"A\xf1adir Ingrediente"),o.k0s()(),o.j41(53,"ion-list"),o.DNE(54,Kn,2,3,"ion-item",15),o.k0s(),o.j41(55,"ion-button",16),o.bIt("click",function(){return k.addRecipe()}),o.EFF(56,"Agregar Receta"),o.k0s()()()),2&b&&(o.R7$(11),o.R50("ngModel",k.titulo),o.R7$(3),o.Y8G("ngIf",k.imagePreview),o.R7$(4),o.R50("ngModel",k.descripcion),o.R7$(4),o.R50("ngModel",k.categoria),o.R7$(12),o.R50("ngModel",k.ingrediente),o.R7$(),o.Y8G("ngForOf",k.globalItems),o.R7$(4),o.R50("ngModel",k.cantidadIngrediente),o.R7$(4),o.R50("ngModel",k.unidadIngrediente),o.R7$(11),o.Y8G("ngForOf",k.ingredientes))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.W9,W.eU,W.$w,W.uz,W.he,W.nf,W.MC,W.Nm,W.Ip,W.nc,W.BC,W.ai,W.su,W.Je,W.Gw,Fn.BC,Fn.vS]}),C})();const Ni=()=>[1,2,3,4,5];function Xr(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function Ki(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function Ho(m,C){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=C.$implicit,b=o.XpG().$implicit;o.Y8G("name",D<=b.calificacionPromedio?"star":"star-outline")}}function Jo(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function dl(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,Xr,2,0,"ion-button",5)(2,Ki,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,Ho,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,Jo,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=C.$implicit,b=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===b.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,Ni)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",b.userId===D.creadorId),o.R7$(2),o.Y8G("name",b.isFavorite(D.id)?"heart":"heart-outline")("color",b.isFavorite(D.id)?"danger":"medium")}}function cs(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function Js(m,C){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function wl(m,C){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function oc(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,Js,2,0,"span",23)(4,wl,2,0,"span",24),o.k0s()()),2&m){const D=C.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function jl(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=C.$implicit,b=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,b.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function Ta(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,cs,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,oc,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,jl,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let $a=(()=>{var m;class C{constructor(b,k,Y,Ae,Tt){this.recipeService=b,this.inventoryService=k,this.auth=Y,this.firestore=Ae,this.router=Tt,this.breakfastRecipes=[],this.filteredBreakfastRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadBreakfastRecipes()}loadBreakfastRecipes(){this.recipeService.getRecipesByCategory("desayuno").subscribe(b=>{this.breakfastRecipes=b,this.filteredBreakfastRecipes=b;const k=this.breakfastRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ae=>{Y.averageRating=Ae}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredBreakfastRecipes.sort((b,k)=>(k.averageRating||0)-(b.averageRating||0))}onSearch(b){var k;const Y=(null===(k=b.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredBreakfastRecipes=Y?this.breakfastRecipes.filter(Ae=>Ae.titulo.toLowerCase().includes(Y)):this.breakfastRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=b.map(Y=>{const Ae=k.find(Tt=>{var Jt,on;return(null==Tt||null===(Jt=Tt.nombre)||void 0===Jt?void 0:Jt.toLowerCase())===(null==Y||null===(on=Y.nombre)||void 0===on?void 0:on.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ae&&Ae.cantidad>=Y.cantidad}})})}rateRecipe(b){this.newRating=b}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(b){return new Promise(k=>{this.firestore.collection("recetas").doc(b).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Tt=Y.reduce((Jt,on)=>Jt+on.rating,0)/Y.length;k(Tt)}else k(0)})})}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadBreakfastRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,k){if(this.userId){if(this.isFavorite(b))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:b,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ae=>{console.error("Error al agregar a favoritos:",Ae)})}}isFavorite(b){return this.favorites.some(k=>k.recipeId===b)}navigateToEdit(b){this.router.navigate(["/edit-recipe",b])}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(_i),o.rXU(Io),o.rXU(Ke.DS),o.rXU(Ee.Qe),o.rXU(B.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-breakfast-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Desayuno"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ae){return k.onSearch(Ae)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,dl,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,Ta,34,8,"ng-template"),o.k0s()()),2&b&&(o.R7$(9),o.Y8G("ngForOf",k.filteredBreakfastRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,Fn.BC,Fn.vS,Me.P9,Me.QX,Me.vh],styles:[".delete-button[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;background:none;border:none;color:red;font-size:10px;cursor:pointer;padding:0}.delete-button[_ngcontent-%COMP%]:hover{color:#8b0000;transform:scale(1)}"]}),C})();const Hl=()=>[1,2,3,4,5];function us(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function sc(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function hl(m,C){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=C.$implicit,b=o.XpG().$implicit;o.Y8G("name",D<=b.calificacionPromedio?"star":"star-outline")}}function Ci(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function Rc(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,us,2,0,"ion-button",5)(2,sc,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,hl,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,Ci,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=C.$implicit,b=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===b.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,Hl)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",b.userId===D.creadorId),o.R7$(2),o.Y8G("name",b.isFavorite(D.id)?"heart":"heart-outline")("color",b.isFavorite(D.id)?"danger":"medium")}}function ac(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function Rs(m,C){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function sd(m,C){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function Gl(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,Rs,2,0,"span",23)(4,sd,2,0,"span",24),o.k0s()()),2&m){const D=C.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function Dl(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=C.$implicit,b=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,b.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function Ps(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,ac,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,Gl,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,Dl,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let zl=(()=>{var m;class C{constructor(b,k,Y,Ae,Tt){this.recipeService=b,this.inventoryService=k,this.auth=Y,this.firestore=Ae,this.router=Tt,this.lunchRecipes=[],this.filteredLunchRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadLunchRecipes()}loadLunchRecipes(){this.recipeService.getRecipesByCategory("almuerzo").subscribe(b=>{this.lunchRecipes=b,this.filteredLunchRecipes=b;const k=this.lunchRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ae=>{Y.averageRating=Ae}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredLunchRecipes.sort((b,k)=>(k.averageRating||0)-(b.averageRating||0))}onSearch(b){var k;const Y=(null===(k=b.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredLunchRecipes=Y?this.lunchRecipes.filter(Ae=>Ae.titulo.toLowerCase().includes(Y)):this.lunchRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=b.map(Y=>{const Ae=k.find(Tt=>{var Jt,on;return(null==Tt||null===(Jt=Tt.nombre)||void 0===Jt?void 0:Jt.toLowerCase())===(null==Y||null===(on=Y.nombre)||void 0===on?void 0:on.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ae&&Ae.cantidad>=Y.cantidad}})})}rateRecipe(b){this.newRating=b}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(b){return new Promise(k=>{this.firestore.collection("recetas").doc(b).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Tt=Y.reduce((Jt,on)=>Jt+on.rating,0)/Y.length;k(Tt)}else k(0)})})}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadLunchRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,k){if(this.userId){if(this.isFavorite(b))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:b,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ae=>{console.error("Error al agregar a favoritos:",Ae)})}}isFavorite(b){return this.favorites.some(k=>k.recipeId===b)}navigateToEdit(b){this.router.navigate(["/edit-recipe",b])}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(_i),o.rXU(Io),o.rXU(Ke.DS),o.rXU(Ee.Qe),o.rXU(B.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-lunch-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Desayuno"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ae){return k.onSearch(Ae)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,Rc,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,Ps,34,8,"ng-template"),o.k0s()()),2&b&&(o.R7$(9),o.Y8G("ngForOf",k.filteredLunchRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,Fn.BC,Fn.vS,Me.P9,Me.QX,Me.vh]}),C})();const ad=()=>[1,2,3,4,5];function fl(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function wa(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function Pc(m,C){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=C.$implicit,b=o.XpG().$implicit;o.Y8G("name",D<=b.calificacionPromedio?"star":"star-outline")}}function au(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function zd(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,fl,2,0,"ion-button",5)(2,wa,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,Pc,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,au,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=C.$implicit,b=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===b.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,ad)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",b.userId===D.creadorId),o.R7$(2),o.Y8G("name",b.isFavorite(D.id)?"heart":"heart-outline")("color",b.isFavorite(D.id)?"danger":"medium")}}function Sl(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function Wl(m,C){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function Za(m,C){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function ua(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,Wl,2,0,"span",23)(4,Za,2,0,"span",24),o.k0s()()),2&m){const D=C.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function lc(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=C.$implicit,b=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,b.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function Da(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,Sl,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,ua,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,lc,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let Br=(()=>{var m;class C{constructor(b,k,Y,Ae,Tt){this.recipeService=b,this.inventoryService=k,this.auth=Y,this.firestore=Ae,this.router=Tt,this.dinnerRecipes=[],this.filteredDinnerRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadDinnerRecipes()}loadDinnerRecipes(){this.recipeService.getRecipesByCategory("cena").subscribe(b=>{this.dinnerRecipes=b,this.filteredDinnerRecipes=b;const k=this.dinnerRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ae=>{Y.averageRating=Ae}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredDinnerRecipes.sort((b,k)=>(k.averageRating||0)-(b.averageRating||0))}onSearch(b){var k;const Y=(null===(k=b.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredDinnerRecipes=Y?this.dinnerRecipes.filter(Ae=>Ae.titulo.toLowerCase().includes(Y)):this.dinnerRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=b.map(Y=>{const Ae=k.find(Tt=>{var Jt,on;return(null==Tt||null===(Jt=Tt.nombre)||void 0===Jt?void 0:Jt.toLowerCase())===(null==Y||null===(on=Y.nombre)||void 0===on?void 0:on.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ae&&Ae.cantidad>=Y.cantidad}})})}rateRecipe(b){this.newRating=b}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(b){return new Promise(k=>{this.firestore.collection("recetas").doc(b).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Tt=Y.reduce((Jt,on)=>Jt+on.rating,0)/Y.length;k(Tt)}else k(0)})})}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadDinnerRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,k){if(this.userId){if(this.isFavorite(b))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:b,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ae=>{console.error("Error al agregar a favoritos:",Ae)})}}isFavorite(b){return this.favorites.some(k=>k.recipeId===b)}navigateToEdit(b){this.router.navigate(["/edit-recipe",b])}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(_i),o.rXU(Io),o.rXU(Ke.DS),o.rXU(Ee.Qe),o.rXU(B.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-dinner-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Cena"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ae){return k.onSearch(Ae)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,zd,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,Da,34,8,"ng-template"),o.k0s()()),2&b&&(o.R7$(9),o.Y8G("ngForOf",k.filteredDinnerRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,Fn.BC,Fn.vS,Me.P9,Me.QX,Me.vh]}),C})();const Mc=()=>[1,2,3,4,5];function cc(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",12),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.deleteRecipe(k.id))}),o.EFF(1," x "),o.k0s()}}function xc(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function zh(m,C){if(1&m&&o.nrm(0,"ion-icon",14),2&m){const D=C.$implicit,b=o.XpG().$implicit;o.Y8G("name",D<=b.calificacionPromedio?"star":"star-outline")}}function ld(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-button",15),o.bIt("click",function(){o.eBV(D);const k=o.XpG().$implicit,Y=o.XpG();return o.Njj(Y.navigateToEdit(k.id))}),o.EFF(1," Editar "),o.k0s()}}function Nc(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-card",4),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.DNE(1,cc,2,0,"ion-button",5)(2,xc,1,1,"ion-img",6),o.j41(3,"div",7),o.DNE(4,zh,1,1,"ion-icon",8),o.k0s(),o.j41(5,"ion-card-header")(6,"ion-card-title"),o.EFF(7),o.k0s()(),o.j41(8,"ion-card-content"),o.EFF(9),o.nI1(10,"slice"),o.j41(11,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(12,"Ver m\xe1s"),o.k0s(),o.DNE(13,ld,2,0,"ion-button",10),o.j41(14,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.addToFavorites(k.id,k.categoria))}),o.nrm(15,"ion-icon",11),o.k0s()()()}if(2&m){const D=C.$implicit,b=o.XpG();o.R7$(),o.Y8G("ngIf",D.creadorId===b.userId),o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(2),o.Y8G("ngForOf",o.lJ4(12,Mc)),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(10,8,D.descripcion,0,100),"... "),o.R7$(4),o.Y8G("ngIf",b.userId===D.creadorId),o.R7$(2),o.Y8G("name",b.isFavorite(D.id)?"heart":"heart-outline")("color",b.isFavorite(D.id)?"danger":"medium")}}function Wd(m,C){if(1&m&&o.nrm(0,"ion-img",13),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function Oc(m,C){1&m&&(o.j41(0,"span",25),o.EFF(1,"Disponible"),o.k0s())}function pl(m,C){1&m&&(o.j41(0,"span",26),o.EFF(1,"No disponible"),o.k0s())}function cd(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label"),o.EFF(2),o.DNE(3,Oc,2,0,"span",23)(4,pl,2,0,"span",24),o.k0s()()),2&m){const D=C.$implicit;o.R7$(2),o.E5c(" ",D.nombre," - ",D.cantidad," ",D.unidad," "),o.R7$(),o.Y8G("ngIf",D.disponible),o.R7$(),o.Y8G("ngIf",!D.disponible)}}function lu(m,C){if(1&m&&(o.j41(0,"ion-item")(1,"ion-label")(2,"h3"),o.EFF(3),o.k0s(),o.j41(4,"p"),o.EFF(5),o.nI1(6,"number"),o.k0s(),o.j41(7,"p"),o.EFF(8),o.nI1(9,"date"),o.k0s()()()),2&m){const D=C.$implicit,b=o.XpG(2);o.R7$(3),o.JRh(D.comment),o.R7$(2),o.SpI("Calificaci\xf3n promedio: ",o.i5U(6,3,b.selectedRecipe.averageRating,"1.1-1"),""),o.R7$(3),o.SpI("Fecha: ",o.bMT(9,6,D.timestamp),"")}}function ud(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",16)(5,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,Wd,1,1,"ion-img",6),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,cd,5,5,"ion-item",17),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()(),o.DNE(19,lu,10,8,"ion-item",17),o.k0s(),o.j41(20,"ion-item")(21,"ion-label",18),o.EFF(22,"Escribe tu comentario"),o.k0s(),o.j41(23,"ion-textarea",19),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newComment,k)||(Y.newComment=k),o.Njj(k)}),o.k0s()(),o.j41(24,"ion-item")(25,"ion-label"),o.EFF(26,"Califica esta receta"),o.k0s(),o.j41(27,"ion-range",20),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newRating,k)||(Y.newRating=k),o.Njj(k)}),o.nrm(28,"ion-icon",21)(29,"ion-icon",22),o.k0s()(),o.j41(30,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.submitComment())}),o.EFF(31,"Enviar"),o.k0s(),o.j41(32,"ion-button",4),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(33,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion),o.R7$(),o.Y8G("ngForOf",null==D.selectedRecipe?null:D.selectedRecipe.comentarios),o.R7$(4),o.R50("ngModel",D.newComment),o.R7$(4),o.R50("ngModel",D.newRating)}}let Kd=(()=>{var m;class C{constructor(b,k,Y,Ae,Tt){this.recipeService=b,this.inventoryService=k,this.auth=Y,this.firestore=Ae,this.router=Tt,this.dessertRecipes=[],this.filteredDessertRecipes=[],this.isModalOpen=!1,this.selectedRecipe=null,this.userId=null,this.availableIngredients=[],this.newComment="",this.newRating=1,this.favorites=[]}ngOnInit(){this.auth.user.subscribe(b=>{b&&(this.userId=b.uid,this.loadFavorites())}),this.loadDessertRecipes()}loadDessertRecipes(){this.recipeService.getRecipesByCategory("postre").subscribe(b=>{this.dessertRecipes=b,this.filteredDessertRecipes=b;const k=this.dessertRecipes.map(Y=>this.loadRecipeRatings(Y.id).then(Ae=>{Y.averageRating=Ae}));Promise.all(k).then(()=>{this.sortRecipesByRating()})})}sortRecipesByRating(){this.filteredDessertRecipes.sort((b,k)=>(k.averageRating||0)-(b.averageRating||0))}onSearch(b){var k;const Y=(null===(k=b.target.value)||void 0===k?void 0:k.toLowerCase())||"";this.filteredDessertRecipes=Y?this.dessertRecipes.filter(Ae=>Ae.titulo.toLowerCase().includes(Y)):this.dessertRecipes}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.recipeService.getRecipeCommentsWithUser(b.id).subscribe(k=>{this.selectedRecipe.comentarios=k}),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=b.map(Y=>{const Ae=k.find(Tt=>{var Jt,on;return(null==Tt||null===(Jt=Tt.nombre)||void 0===Jt?void 0:Jt.toLowerCase())===(null==Y||null===(on=Y.nombre)||void 0===on?void 0:on.toLowerCase())});return{nombre:Y.nombre,cantidad:Y.cantidad,unidad:Y.unidad,disponible:!!Ae&&Ae.cantidad>=Y.cantidad}})})}rateRecipe(b){this.newRating=b}submitComment(){this.selectedRecipe&&this.userId&&this.newComment.trim()?this.recipeService.addCommentWithRating(this.selectedRecipe.id,this.userId,this.newRating,this.newComment).then(()=>{console.log("Comentario y calificaci\xf3n enviados"),this.newComment="",this.newRating=1,this.closeModal()}).catch(b=>{console.error("Error al enviar el comentario:",b)}):console.error("Faltan datos para enviar el comentario o el usuario no est\xe1 autenticado")}loadRecipeRatings(b){return new Promise(k=>{this.firestore.collection("recetas").doc(b).collection("comentarios").valueChanges().subscribe(Y=>{if(Y.length>0){const Tt=Y.reduce((Jt,on)=>Jt+on.rating,0)/Y.length;k(Tt)}else k(0)})})}deleteRecipe(b){confirm("\xbfEst\xe1s seguro de que deseas eliminar esta receta?")&&this.recipeService.deleteRecipe(b).then(()=>{console.log("Receta eliminada con \xe9xito"),this.loadDessertRecipes()}).catch(k=>{console.error("Error al eliminar la receta:",k)})}loadFavorites(){this.userId&&this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").valueChanges().subscribe(b=>{this.favorites=b})}addToFavorites(b,k){if(this.userId){if(this.isFavorite(b))return void console.log("La receta ya est\xe1 en favoritos");const Y={recipeId:b,category:k,userId:this.userId};this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").add(Y).then(()=>{console.log("Receta agregada a favoritos")}).catch(Ae=>{console.error("Error al agregar a favoritos:",Ae)})}}isFavorite(b){return this.favorites.some(k=>k.recipeId===b)}navigateToEdit(b){this.router.navigate(["/edit-recipe",b])}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(_i),o.rXU(Io),o.rXU(Ke.DS),o.rXU(Ee.Qe),o.rXU(B.Ix))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-dessert-recipes"]],decls:12,vars:2,consts:[["slot","start"],["placeholder","Buscar receta",3,"ionInput"],[3,"click",4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],[3,"click"],["class","delete-button","color","danger",3,"click",4,"ngIf"],["alt","Imagen de la receta",3,"src",4,"ngIf"],[1,"star-rating"],[3,"name",4,"ngFor","ngForOf"],["fill","clear",3,"click"],["color","primary",3,"click",4,"ngIf"],[3,"name","color"],["color","danger",1,"delete-button",3,"click"],["alt","Imagen de la receta",3,"src"],[3,"name"],["color","primary",3,"click"],["slot","end"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModelChange","ngModel"],["min","1","max","5","step","1","snaps","true",3,"ngModelChange","ngModel"],["slot","start","name","star-outline"],["slot","end","name","star"],["style","color: green;",4,"ngIf"],["style","color: red;",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Recetas de Postre"),o.k0s()()()(),o.j41(6,"ion-content")(7,"ion-searchbar",1),o.bIt("ionInput",function(Ae){return k.onSearch(Ae)}),o.k0s(),o.j41(8,"ion-list"),o.DNE(9,Nc,16,13,"ion-card",2),o.k0s(),o.j41(10,"ion-modal",3),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(11,ud,34,8,"ng-template"),o.k0s()()),2&b&&(o.R7$(9),o.Y8G("ngForOf",k.filteredDessertRecipes),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Ob,W.S1,W.nc,W.BC,W.ai,W.Sb,W.su,W.Gw,Fn.BC,Fn.vS,Me.P9,Me.QX,Me.vh]}),C})();var da=function(m){return m.Prompt="PROMPT",m.Camera="CAMERA",m.Photos="PHOTOS",m}(da||{}),ln=function(m){return m.Rear="REAR",m.Front="FRONT",m}(ln||{}),Wr=function(m){return m.Uri="uri",m.Base64="base64",m.DataUrl="dataUrl",m}(Wr||{});class kc extends Be.E_{getPhoto(C){var D=this;return(0,Se.A)(function*(){return new Promise(function(){var b=(0,Se.A)(function*(k,Y){if(C.webUseInput||C.source===da.Photos)D.fileInputExperience(C,k,Y);else if(C.source===da.Prompt){let Ae=document.querySelector("pwa-action-sheet");Ae||(Ae=document.createElement("pwa-action-sheet"),document.body.appendChild(Ae)),Ae.header=C.promptLabelHeader||"Photo",Ae.cancelable=!1,Ae.options=[{title:C.promptLabelPhoto||"From Photos"},{title:C.promptLabelPicture||"Take Picture"}],Ae.addEventListener("onSelection",function(){var Tt=(0,Se.A)(function*(Jt){0===Jt.detail?D.fileInputExperience(C,k,Y):D.cameraExperience(C,k,Y)});return function(Jt){return Tt.apply(this,arguments)}}())}else D.cameraExperience(C,k,Y)});return function(k,Y){return b.apply(this,arguments)}}())})()}pickImages(C){var D=this;return(0,Se.A)(function*(){return new Promise(function(){var b=(0,Se.A)(function*(k,Y){D.multipleFileInputExperience(k,Y)});return function(k,Y){return b.apply(this,arguments)}}())})()}cameraExperience(C,D,b){var k=this;return(0,Se.A)(function*(){if(customElements.get("pwa-camera-modal")){const Y=document.createElement("pwa-camera-modal");Y.facingMode=C.direction===ln.Front?"user":"environment",document.body.appendChild(Y);try{yield Y.componentOnReady(),Y.addEventListener("onPhoto",function(){var Ae=(0,Se.A)(function*(Tt){const Jt=Tt.detail;null===Jt?b(new Be.I9("User cancelled photos app")):Jt instanceof Error?b(Jt):D(yield k._getCameraPhoto(Jt,C)),Y.dismiss(),document.body.removeChild(Y)});return function(Tt){return Ae.apply(this,arguments)}}()),Y.present()}catch{k.fileInputExperience(C,D,b)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),k.fileInputExperience(C,D,b)})()}fileInputExperience(C,D,b){let k=document.querySelector("#_capacitor-camera-input");const Y=()=>{var Ae;null===(Ae=k.parentNode)||void 0===Ae||Ae.removeChild(k)};k||(k=document.createElement("input"),k.id="_capacitor-camera-input",k.type="file",k.hidden=!0,document.body.appendChild(k),k.addEventListener("change",Ae=>{const Tt=k.files[0];let Jt="jpeg";if("image/png"===Tt.type?Jt="png":"image/gif"===Tt.type&&(Jt="gif"),"dataUrl"===C.resultType||"base64"===C.resultType){const on=new FileReader;on.addEventListener("load",()=>{if("dataUrl"===C.resultType)D({dataUrl:on.result,format:Jt});else if("base64"===C.resultType){const lr=on.result.split(",")[1];D({base64String:lr,format:Jt})}Y()}),on.readAsDataURL(Tt)}else D({webPath:URL.createObjectURL(Tt),format:Jt}),Y()}),k.addEventListener("cancel",Ae=>{b(new Be.I9("User cancelled photos app")),Y()})),k.accept="image/*",k.capture=!0,C.source===da.Photos||C.source===da.Prompt?k.removeAttribute("capture"):C.direction===ln.Front?k.capture="user":C.direction===ln.Rear&&(k.capture="environment"),k.click()}multipleFileInputExperience(C,D){let b=document.querySelector("#_capacitor-camera-input-multiple");const k=()=>{var Y;null===(Y=b.parentNode)||void 0===Y||Y.removeChild(b)};b||(b=document.createElement("input"),b.id="_capacitor-camera-input-multiple",b.type="file",b.hidden=!0,b.multiple=!0,document.body.appendChild(b),b.addEventListener("change",Y=>{const Ae=[];for(let Tt=0;Tt<b.files.length;Tt++){const Jt=b.files[Tt];let on="jpeg";"image/png"===Jt.type?on="png":"image/gif"===Jt.type&&(on="gif"),Ae.push({webPath:URL.createObjectURL(Jt),format:on})}C({photos:Ae}),k()}),b.addEventListener("cancel",Y=>{D(new Be.I9("User cancelled photos app")),k()})),b.accept="image/*",b.click()}_getCameraPhoto(C,D){return new Promise((b,k)=>{const Y=new FileReader,Ae=C.type.split("/")[1];"uri"===D.resultType?b({webPath:URL.createObjectURL(C),format:Ae,saved:!1}):(Y.readAsDataURL(C),Y.onloadend=()=>{const Tt=Y.result;b("dataUrl"===D.resultType?{dataUrl:Tt,format:Ae,saved:!1}:{base64String:Tt.split(",")[1],format:Ae,saved:!1})},Y.onerror=Tt=>{k(Tt)})})}checkPermissions(){var C=this;return(0,Se.A)(function*(){if(typeof navigator>"u"||!navigator.permissions)throw C.unavailable("Permissions API not available in this browser");try{return{camera:(yield window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw C.unavailable("Camera permissions are not available in this browser")}})()}requestPermissions(){var C=this;return(0,Se.A)(function*(){throw C.unimplemented("Not implemented on web.")})()}pickLimitedLibraryPhotos(){var C=this;return(0,Se.A)(function*(){throw C.unavailable("Not implemented on web.")})()}getLimitedLibraryPhotos(){var C=this;return(0,Se.A)(function*(){throw C.unavailable("Not implemented on web.")})()}}new kc;const Zr=(0,Be.F3)("Camera",{web:()=>new kc});function uu(m,C){if(1&m&&(o.j41(0,"div")(1,"h3"),o.EFF(2,"Imagen Capturada:"),o.k0s(),o.nrm(3,"img",14),o.k0s()),2&m){const D=o.XpG();o.R7$(3),o.Y8G("src",D.capturedImage,o.B4B)}}function gl(m,C){if(1&m&&(o.j41(0,"ion-select-option",15),o.EFF(1),o.k0s()),2&m){const D=C.$implicit;o.Y8G("value",D),o.R7$(),o.JRh(D)}}function Bs(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-item")(1,"ion-label",3),o.EFF(2,"Nuevo \xcdtem"),o.k0s(),o.j41(3,"ion-input",8),o.mxI("ngModelChange",function(k){o.eBV(D);const Y=o.XpG();return o.DH7(Y.newItem.nombre,k)||(Y.newItem.nombre=k),o.Njj(k)}),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.R50("ngModel",D.newItem.nombre)}}let du=(()=>{var m;class C{constructor(b,k,Y){this.inventoryService=b,this.auth=k,this.firestore=Y,this.predefinedItems=[],this.availableItems=[],this.selectedItem=null,this.isNewItem=!1,this.newItem={nombre:"",cantidad:0,fechaVencimiento:"",unidadMedida:""},this.userId=null,this.capturedImage=null,this.auth.user.subscribe(Ae=>{Ae&&(this.userId=Ae.uid)})}ngOnInit(){this.loadAvailableItems()}openCamera(){var b=this;return(0,Se.A)(function*(){try{const k=yield Zr.getPhoto({quality:90,resultType:Wr.Base64,source:da.Camera});b.capturedImage=`data:image/jpeg;base64,${k.base64String}`}catch(k){console.error("Error al capturar la imagen:",k)}})()}loadAvailableItems(){this.firestore.collection("items").valueChanges({idField:"id"}).subscribe(b=>{this.availableItems=[...this.predefinedItems,...b.map(k=>k.nombre)]})}formatFechaVencimiento(b){const k=new Date(b);return`${String(k.getDate()).padStart(2,"0")}-${String(k.getMonth()+1).padStart(2,"0")}-${k.getFullYear()}`}onItemSelected(b){const k=b.detail.value;"Otro"===k?(this.isNewItem=!0,this.newItem.nombre=""):(this.isNewItem=!1,this.newItem.nombre=k)}addItem(){if(!this.isNewItem&&this.selectedItem&&(this.newItem.nombre=this.selectedItem),this.userId&&this.newItem.nombre&&this.newItem.cantidad>0&&this.newItem.unidadMedida&&this.newItem.fechaVencimiento){const b=this.formatFechaVencimiento(this.newItem.fechaVencimiento);this.inventoryService.addItemToInventory({nombre:this.newItem.nombre,cantidad:this.newItem.cantidad,fechaVencimiento:b,unidadMedida:this.newItem.unidadMedida,imageUrl:this.capturedImage},this.userId).then(()=>{this.isNewItem&&this.addItemToFirestore(this.newItem.nombre),console.log("\xcdtem agregado con \xe9xito"),this.resetForm()}).catch(Y=>{console.error("Error al agregar el \xedtem:",Y)})}else console.error("Todos los campos son obligatorios")}addItemToFirestore(b){this.firestore.collection("items").doc(b).set({nombre:b})}resetForm(){this.newItem={nombre:"",cantidad:0,fechaVencimiento:"",unidadMedida:""},this.selectedItem=null,this.isNewItem=!1,this.capturedImage=null}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(Io),o.rXU(Ke.DS),o.rXU(Ee.Qe))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-add-item"]],decls:39,vars:6,consts:[["slot","start"],["expand","block",3,"click"],[4,"ngIf"],["position","floating"],["placeholder","Selecciona o agrega un \xedtem",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["value","Otro"],["type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","gramos"],["value","ml"],["value","unidad"],["displayFormat","YYYY-MM-DD","min","2024-01-01","max","2030-12-31",3,"ngModelChange","ngModel"],["expand","full",3,"click"],["alt","Imagen Capturada",2,"width","100%","height","auto","margin-top","10px",3,"src"],[3,"value"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),o.nrm(3,"ion-menu-button"),o.j41(4,"ion-title"),o.EFF(5,"Agregar Item"),o.k0s(),o.j41(6,"ion-item")(7,"ion-button",1),o.bIt("click",function(){return k.openCamera()}),o.EFF(8,"Capturar Imagen"),o.k0s()()()()(),o.j41(9,"ion-content"),o.DNE(10,uu,4,1,"div",2),o.j41(11,"ion-item")(12,"ion-label",3),o.EFF(13,"Selecciona un producto"),o.k0s(),o.j41(14,"ion-select",4),o.bIt("ionChange",function(Ae){return k.onItemSelected(Ae)}),o.DNE(15,gl,2,2,"ion-select-option",5),o.j41(16,"ion-select-option",6),o.EFF(17,"Otro (Agregar nuevo)"),o.k0s()()(),o.DNE(18,Bs,4,1,"ion-item",2),o.j41(19,"ion-item")(20,"ion-label",3),o.EFF(21,"Cantidad"),o.k0s(),o.j41(22,"ion-input",7),o.mxI("ngModelChange",function(Ae){return o.DH7(k.newItem.cantidad,Ae)||(k.newItem.cantidad=Ae),Ae}),o.k0s()(),o.j41(23,"ion-item")(24,"ion-label"),o.EFF(25,"Unidad"),o.k0s(),o.j41(26,"ion-select",8),o.mxI("ngModelChange",function(Ae){return o.DH7(k.newItem.unidadMedida,Ae)||(k.newItem.unidadMedida=Ae),Ae}),o.j41(27,"ion-select-option",9),o.EFF(28,"Gramos"),o.k0s(),o.j41(29,"ion-select-option",10),o.EFF(30,"Mililitros"),o.k0s(),o.j41(31,"ion-select-option",11),o.EFF(32,"Unidad"),o.k0s()()(),o.j41(33,"ion-item")(34,"ion-label",3),o.EFF(35,"Fecha de Vencimiento"),o.k0s(),o.j41(36,"ion-datetime",12),o.mxI("ngModelChange",function(Ae){return o.DH7(k.newItem.fechaVencimiento,Ae)||(k.newItem.fechaVencimiento=Ae),Ae}),o.k0s()(),o.j41(37,"ion-button",13),o.bIt("click",function(){return k.addItem()}),o.EFF(38,"Agregar \xcdtem"),o.k0s()()),2&b&&(o.R7$(10),o.Y8G("ngIf",k.capturedImage),o.R7$(5),o.Y8G("ngForOf",k.availableItems),o.R7$(3),o.Y8G("ngIf",k.isNewItem),o.R7$(4),o.R50("ngModel",k.newItem.cantidad),o.R7$(4),o.R50("ngModel",k.newItem.unidadMedida),o.R7$(10),o.R50("ngModel",k.newItem.fechaVencimiento))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.W9,W.A9,W.eU,W.$w,W.uz,W.he,W.MC,W.Nm,W.Ip,W.BC,W.ai,W.su,W.Je,W.Gw,Fn.BC,Fn.vS]}),C})();function Ba(m,C){if(1&m&&o.nrm(0,"ion-img",12),2&m){const D=o.XpG().$implicit;o.Y8G("src",D.imageUrl)}}function ml(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-card"),o.DNE(1,Ba,1,1,"ion-img",8),o.j41(2,"ion-card-header")(3,"ion-card-title"),o.EFF(4),o.k0s()(),o.j41(5,"ion-card-content"),o.EFF(6),o.nI1(7,"slice"),o.j41(8,"ion-button",9),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.openRecipeModal(k))}),o.EFF(9,"Ver m\xe1s"),o.k0s(),o.j41(10,"ion-button",10),o.bIt("click",function(){const k=o.eBV(D).$implicit,Y=o.XpG();return o.Njj(Y.removeFromFavorites(k.id))}),o.nrm(11,"ion-icon",11),o.k0s()()()}if(2&m){const D=C.$implicit,b=o.XpG();o.R7$(),o.Y8G("ngIf",D.imageUrl),o.R7$(3),o.JRh(D.titulo),o.R7$(2),o.SpI(" ",o.brH(7,5,D.descripcion,0,100),"... "),o.R7$(5),o.Y8G("name",b.isFavorite(D.id)?"heart":"heart-outline")("color",b.isFavorite(D.id)?"danger":"medium")}}function Wh(m,C){if(1&m&&o.nrm(0,"ion-img",12),2&m){const D=o.XpG(2);o.Y8G("src",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl)}}function uc(m,C){1&m&&o.nrm(0,"ion-icon",17)}function Xd(m,C){1&m&&o.nrm(0,"ion-icon",18)}function _l(m,C){if(1&m&&(o.j41(0,"ion-item"),o.EFF(1),o.DNE(2,uc,1,0,"ion-icon",15)(3,Xd,1,0,"ion-icon",16),o.k0s()),2&m){const D=C.$implicit;o.R7$(),o.SpI(" ",D.name," "),o.R7$(),o.Y8G("ngIf",D.inInventory),o.R7$(),o.Y8G("ngIf",!D.inInventory)}}function dd(m,C){if(1&m){const D=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3),o.k0s(),o.j41(4,"ion-buttons",13)(5,"ion-button",14),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(6,"Cerrar"),o.k0s()()()(),o.j41(7,"ion-content"),o.DNE(8,Wh,1,1,"ion-img",8),o.j41(9,"ion-list")(10,"ion-item")(11,"ion-label")(12,"h2"),o.EFF(13),o.k0s()()(),o.DNE(14,_l,4,3,"ion-item",6),o.j41(15,"ion-item")(16,"ion-label")(17,"h2"),o.EFF(18),o.k0s()()()(),o.j41(19,"ion-button",14),o.bIt("click",function(){o.eBV(D);const k=o.XpG();return o.Njj(k.closeModal())}),o.EFF(20,"Cerrar"),o.k0s()()}if(2&m){const D=o.XpG();o.R7$(3),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(5),o.Y8G("ngIf",null==D.selectedRecipe?null:D.selectedRecipe.imageUrl),o.R7$(5),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.titulo),o.R7$(),o.Y8G("ngForOf",D.availableIngredients),o.R7$(4),o.JRh(null==D.selectedRecipe?null:D.selectedRecipe.descripcion)}}let Lo=(()=>{var m;class C{constructor(b,k,Y,Ae){this.auth=b,this.firestore=k,this.recipeService=Y,this.inventoryService=Ae,this.userId=null,this.favorites=[],this.filteredFavorites=[],this.isModalOpen=!1,this.selectedRecipe=null,this.selectedCategory="desayuno",this.isAuthenticated=!1,this.availableIngredients=[],console.log(" en cosntruct")}ngOnInit(){this.auth.authState.subscribe(b=>{this.isAuthenticated=!!b,console.log(" isAuthenticated subscribe :: ",this.isAuthenticated),this.isAuthenticated&&b&&b.uid&&(this.userId=b.uid,this.filterFavorites())})}filterFavorites(){console.log(" this === ",this.userId),this.userId&&(this.filteredFavorites=[],this.firestore.collection("usuarios").doc(this.userId).collection("favoritos",k=>k.where("category","==",this.selectedCategory)).get().forEach(k=>{k.forEach(Y=>{const Ae=Y.data();console.log("datos  ID :: ",Y.id),this.firestore.collection("recetas").doc(Ae.recipeId).get().forEach(Tt=>{const Jt=Tt.data();Jt.id=Y.id,this.filteredFavorites.push(Jt)})})}))}openRecipeModal(b){this.selectedRecipe=b,this.checkIngredientsAvailability(b.ingredientes),this.isModalOpen=!0}closeModal(){this.isModalOpen=!1,this.selectedRecipe=null}removeFromFavorites(b){console.log("recipeId :: ",b),this.userId&&(this.firestore.collection("usuarios").doc(this.userId).collection("favoritos").doc(b).delete(),this.filterFavorites())}checkIngredientsAvailability(b){this.userId&&this.inventoryService.getInventory(this.userId).subscribe(k=>{this.availableIngredients=b.map(Y=>({name:Y,inInventory:k.some(Ae=>Ae.nombre.toLowerCase()===Y.toLowerCase())}))})}isFavorite(b){return this.favorites.some(k=>k.recipeId===b)}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(Ke.DS),o.rXU(Ee.Qe),o.rXU(_i),o.rXU(Io))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-favorites"]],decls:24,vars:3,consts:[["slot","start"],[3,"ngModelChange","ionChange","ngModel"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],[4,"ngFor","ngForOf"],[3,"didDismiss","isOpen"],["alt","Imagen de la receta",3,"src",4,"ngIf"],["fill","clear",3,"click"],["fill","clear","color","danger",3,"click"],[3,"name","color"],["alt","Imagen de la receta",3,"src"],["slot","end"],[3,"click"],["name","checkmark-circle","color","success",4,"ngIf"],["name","close-circle","color","danger",4,"ngIf"],["name","checkmark-circle","color","success"],["name","close-circle","color","danger"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-buttons",0),o.nrm(2,"ion-menu-button"),o.j41(3,"ion-title"),o.EFF(4,"Recetas Favoritas"),o.k0s()()(),o.j41(5,"ion-toolbar")(6,"ion-segment",1),o.mxI("ngModelChange",function(Ae){return o.DH7(k.selectedCategory,Ae)||(k.selectedCategory=Ae),Ae}),o.bIt("ionChange",function(){return k.filterFavorites()}),o.j41(7,"ion-segment-button",2)(8,"ion-label"),o.EFF(9,"Desayuno"),o.k0s()(),o.j41(10,"ion-segment-button",3)(11,"ion-label"),o.EFF(12,"Almuerzo"),o.k0s()(),o.j41(13,"ion-segment-button",4)(14,"ion-label"),o.EFF(15,"Cena"),o.k0s()(),o.j41(16,"ion-segment-button",5)(17,"ion-label"),o.EFF(18,"Postre"),o.k0s()()()(),o.j41(19,"ion-content")(20,"ion-list"),o.DNE(21,ml,12,9,"ion-card",6),o.k0s(),o.j41(22,"ion-modal",7),o.bIt("didDismiss",function(){return k.closeModal()}),o.DNE(23,dd,21,5,"ng-template"),o.k0s()()),2&b&&(o.R7$(6),o.R50("ngModel",k.selectedCategory),o.R7$(15),o.Y8G("ngForOf",k.filteredFavorites),o.R7$(),o.Y8G("isOpen",k.isModalOpen))},dependencies:[Me.Sq,Me.bT,W.Jm,W.QW,W.b_,W.I9,W.ME,W.tN,W.W9,W.eU,W.iq,W.KW,W.uz,W.he,W.nf,W.MC,W.Gp,W.eP,W.BC,W.ai,W.Sb,W.Je,Fn.BC,Fn.vS,Me.P9]}),C})();function ja(m,C){if(1&m){const D=o.RV6();o.j41(0,"div",13)(1,"ion-item")(2,"ion-label",1),o.EFF(3,"Nombre"),o.k0s(),o.nrm(4,"ion-input",14),o.k0s(),o.j41(5,"ion-item")(6,"ion-label",1),o.EFF(7,"Cantidad"),o.k0s(),o.nrm(8,"ion-input",15),o.k0s(),o.j41(9,"ion-item")(10,"ion-label",1),o.EFF(11,"Unidad"),o.k0s(),o.nrm(12,"ion-input",16),o.k0s(),o.j41(13,"ion-button",17),o.bIt("click",function(){const k=o.eBV(D).index,Y=o.XpG();return o.Njj(Y.removeIngredient(k))}),o.EFF(14,"Eliminar Ingrediente"),o.k0s()()}2&m&&o.Y8G("formGroupName",C.index)}let hd=(()=>{var m;class C{constructor(b,k,Y,Ae){this.fb=b,this.route=k,this.router=Y,this.recipeService=Ae,this.recipeId=null,this.recipeForm=this.fb.group({titulo:["",Fn.k0.required],descripcion:["",Fn.k0.required],categoria:["",Fn.k0.required],ingredientes:this.fb.array([])})}ngOnInit(){this.recipeId=this.route.snapshot.paramMap.get("id"),this.recipeId&&this.loadRecipe()}get ingredientes(){return this.recipeForm.get("ingredientes")}loadRecipe(){this.recipeService.getRecipeById(this.recipeId).subscribe(b=>{b&&this.populateForm(b)})}populateForm(b){this.recipeForm.patchValue({titulo:b.titulo,descripcion:b.descripcion,categoria:b.categoria}),this.ingredientes.clear(),b.ingredientes.forEach(k=>{this.ingredientes.push(this.fb.group({nombre:[k.nombre,Fn.k0.required],cantidad:[k.cantidad,[Fn.k0.required,Fn.k0.min(1)]],unidad:[k.unidad,Fn.k0.required]}))})}addIngredient(){this.ingredientes.push(this.fb.group({nombre:["",Fn.k0.required],cantidad:[1,[Fn.k0.required,Fn.k0.min(1)]],unidad:["",Fn.k0.required]}))}removeIngredient(b){this.ingredientes.removeAt(b)}submitForm(){this.recipeForm.valid&&this.recipeId?this.recipeService.updateRecipe(this.recipeId,this.recipeForm.value).then(()=>{console.log("Receta actualizada con \xe9xito"),this.router.navigate(["/recetas"])}).catch(b=>{console.error("Error al actualizar la receta:",b)}):console.error("Formulario inv\xe1lido o ID de receta no encontrado")}}return(m=C).\u0275fac=function(b){return new(b||m)(o.rXU(Fn.ok),o.rXU(B.nX),o.rXU(B.Ix),o.rXU(_i))},m.\u0275cmp=o.VBU({type:m,selectors:[["app-edit-recipe"]],decls:32,vars:2,consts:[[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","titulo"],["formControlName","descripcion"],["formControlName","categoria"],["value","desayuno"],["value","almuerzo"],["value","cena"],["value","postre"],["formArrayName","ingredientes"],[3,"formGroupName",4,"ngFor","ngForOf"],["expand","block",3,"click"],["expand","block","type","submit"],[3,"formGroupName"],["formControlName","nombre"],["type","number","formControlName","cantidad"],["formControlName","unidad"],["expand","block","color","danger",3,"click"]],template:function(b,k){1&b&&(o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Editar Receta"),o.k0s()()(),o.j41(4,"ion-content")(5,"form",0),o.bIt("ngSubmit",function(){return k.submitForm()}),o.j41(6,"ion-item")(7,"ion-label",1),o.EFF(8,"T\xedtulo"),o.k0s(),o.nrm(9,"ion-input",2),o.k0s(),o.j41(10,"ion-item")(11,"ion-label",1),o.EFF(12,"Descripci\xf3n"),o.k0s(),o.nrm(13,"ion-textarea",3),o.k0s(),o.j41(14,"ion-item")(15,"ion-label",1),o.EFF(16,"Categor\xeda"),o.k0s(),o.j41(17,"ion-select",4)(18,"ion-select-option",5),o.EFF(19,"Desayuno"),o.k0s(),o.j41(20,"ion-select-option",6),o.EFF(21,"Almuerzo"),o.k0s(),o.j41(22,"ion-select-option",7),o.EFF(23,"Cena"),o.k0s(),o.j41(24,"ion-select-option",8),o.EFF(25,"Postre"),o.k0s()()(),o.j41(26,"div",9),o.DNE(27,ja,15,1,"div",10),o.k0s(),o.j41(28,"ion-button",11),o.bIt("click",function(){return k.addIngredient()}),o.EFF(29,"Agregar Ingrediente"),o.k0s(),o.j41(30,"ion-button",12),o.EFF(31,"Guardar Cambios"),o.k0s()()()),2&b&&(o.R7$(5),o.Y8G("formGroup",k.recipeForm),o.R7$(22),o.Y8G("ngForOf",k.ingredientes.controls))},dependencies:[Me.Sq,W.Jm,W.W9,W.eU,W.$w,W.uz,W.he,W.Nm,W.Ip,W.nc,W.BC,W.ai,W.su,W.Je,W.Gw,Fn.qT,Fn.BC,Fn.cb,Fn.j4,Fn.JD,Fn.$R,Fn.v8]}),C})();const js=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"folder/:id",loadChildren:()=>V.e(8812).then(V.bind(V,8812)).then(m=>m.FolderPageModule)},{path:"login",loadChildren:()=>Promise.all([V.e(2076),V.e(3485)]).then(V.bind(V,3485)).then(m=>m.LoginPageModule)},{path:"register",loadChildren:()=>Promise.all([V.e(2076),V.e(8618)]).then(V.bind(V,8618)).then(m=>m.RegisterPageModule)},{path:"inventory",component:Mr},{path:"",redirectTo:"/inventory",pathMatch:"full"},{path:"add-recipe",component:Or},{path:"",redirectTo:"/add-recipe",pathMatch:"full"},{path:"breakfast-recipes",component:$a},{path:"",redirectTo:"/breakfast-recipes",pathMatch:"full"},{path:"lunch-recipes",component:zl},{path:"",redirectTo:"/lunch-recipes",pathMatch:"full"},{path:"dinner-recipes",component:Br},{path:"",redirectTo:"/dinner-recipes",pathMatch:"full"},{path:"dessert-recipes",component:Kd},{path:"",redirectTo:"/dessert-recipes",pathMatch:"full"},{path:"inventory",component:Mr},{path:"",redirectTo:"/inventory",pathMatch:"full"},{path:"add-item",component:du},{path:"",redirectTo:"/add-item",pathMatch:"full"},{path:"favorites",component:Lo},{path:"",redirectTo:"/favorites",pathMatch:"full"},{path:"edit-recipe/:id",component:hd},{path:"home",loadChildren:()=>V.e(5075).then(V.bind(V,5075)).then(m=>m.HomePageModule)},{path:"perfilusuario",loadChildren:()=>Promise.all([V.e(2076),V.e(4617)]).then(V.bind(V,4617)).then(m=>m.PerfilusuarioPageModule)}];let vl=(()=>{var m;class C{}return(m=C).\u0275fac=function(b){return new(b||m)},m.\u0275mod=o.$C({type:m}),m.\u0275inj=o.G2t({imports:[B.iI.forRoot(js,{preloadingStrategy:B.Kp}),B.iI]}),C})();var Rl=V(2214);class Fc{constructor(C){return C}}class Lc{constructor(){return(0,Rl.Dk)()}}const dc=new o.nKC("angularfire2._apps"),pd={provide:Fc,useFactory:function fd(m){return m&&1===m.length?m[0]:new Fc((0,Rl.Sx)())},deps:[[new o.Xx1,dc]]},Kl={provide:Lc,deps:[[new o.Xx1,dc]]};function Xl(m){return(C,D)=>{const b=D.get(o.Agw);(0,Rl.KO)("angularfire",yr.xv.full,"core"),(0,Rl.KO)("angularfire",yr.xv.full,"app"),(0,Rl.KO)("angular",o.xvI.full,b.toString());const k=C.runOutsideAngular(()=>m(D));return new Fc(k)}}function hu(m,...C){return(0,o.EmA)([pd,Kl,{provide:dc,useFactory:Xl(m),multi:!0,deps:[o.SKi,o.zZn,yr.u0,...C]}])}const Qd=(0,yr.S3)(Rl.Wp,!0);var eo=V(5504);V(8041);class Uc{constructor(C){return C}}const Pl=new o.nKC("angularfire2.auth-instances");function tl(m){return(C,D)=>{const b=C.runOutsideAngular(()=>m(D));return new Uc(b)}}const qh={provide:class md{constructor(){return(0,yr.CA)("auth")}},deps:[[new o.Xx1,Pl]]},Ml={provide:Uc,useFactory:function el(m,C){const D=(0,yr.lR)("auth",m,C);return D&&new Uc(D)},deps:[[new o.Xx1,Pl],Fc]};function Ha(m,...C){return(0,Rl.KO)("angularfire",yr.xv.full,"auth"),(0,o.EmA)([Ml,qh,{provide:Pl,useFactory:tl(m),multi:!0,deps:[o.SKi,o.zZn,yr.u0,Lc,[new o.Xx1,yr.Jv],...C]}])}const p=(0,yr.S3)(eo.o,!0);var _c=V(5312);let Hc=(()=>{var m;class C{}return(m=C).\u0275fac=function(b){return new(b||m)},m.\u0275mod=o.$C({type:m,bootstrap:[Kr,hd]}),m.\u0275inj=o.G2t({providers:[{provide:B.b,useClass:ve.jM},hu(()=>Qd({projectId:"miven-c5f93",appId:"1:46504601832:web:ecc2f1c0f13346da7c415d",storageBucket:"miven-c5f93.appspot.com",apiKey:"AIzaSyC7SViDJ3MAfnpzls1znWTVYTvO6S5K1ys",authDomain:"miven-c5f93.firebaseapp.com",messagingSenderId:"46504601832"})),Ha(()=>p())],imports:[d.Bb,W.bv.forRoot(),vl,xo.bf.initializeApp(_c.c.firebaseConfig),Fn.YN,Ke.X8,Ee.cM,Ye,W.bv.forRoot(),Fn.X1]}),C})();_c.c.production&&(0,o.SmG)(),d.sG().bootstrapModule(Hc).catch(m=>console.log(m))},4412:(Pn,Dt,V)=>{"use strict";V.d(Dt,{t:()=>o});var d=V(1413);class o extends d.B{constructor(ve){super(),this._value=ve}get value(){return this.getValue()}_subscribe(ve){const W=super._subscribe(ve);return!W.closed&&ve.next(this._value),W}getValue(){const{hasError:ve,thrownError:W,_value:Ee}=this;if(ve)throw W;return this._throwIfClosed(),Ee}next(ve){super.next(this._value=ve)}}},1985:(Pn,Dt,V)=>{"use strict";V.d(Dt,{c:()=>Be});var d=V(7707),o=V(8359),B=V(3494),ve=V(1203),W=V(1026),Ee=V(8071),Se=V(9786);let Be=(()=>{class et{constructor(Ke){Ke&&(this._subscribe=Ke)}lift(Ke){const ct=new et;return ct.source=this,ct.operator=Ke,ct}subscribe(Ke,ct,yt){const mt=function _e(et){return et&&et instanceof d.vU||function Re(et){return et&&(0,Ee.T)(et.next)&&(0,Ee.T)(et.error)&&(0,Ee.T)(et.complete)}(et)&&(0,o.Uv)(et)}(Ke)?Ke:new d.Ms(Ke,ct,yt);return(0,Se.Y)(()=>{const{operator:ut,source:Mt}=this;mt.add(ut?ut.call(mt,Mt):Mt?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(ct){Ke.error(ct)}}forEach(Ke,ct){return new(ct=ot(ct))((yt,mt)=>{const ut=new d.Ms({next:Mt=>{try{Ke(Mt)}catch(At){mt(At),ut.unsubscribe()}},error:mt,complete:yt});this.subscribe(ut)})}_subscribe(Ke){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Ke)}[B.s](){return this}pipe(...Ke){return(0,ve.m)(Ke)(this)}toPromise(Ke){return new(Ke=ot(Ke))((ct,yt)=>{let mt;this.subscribe(ut=>mt=ut,ut=>yt(ut),()=>ct(mt))})}}return et.create=Qe=>new et(Qe),et})();function ot(et){var Qe;return null!==(Qe=null!=et?et:W.$.Promise)&&void 0!==Qe?Qe:Promise}},1413:(Pn,Dt,V)=>{"use strict";V.d(Dt,{B:()=>Se});var d=V(1985),o=V(8359);const ve=(0,V(1853).L)(ot=>function(){ot(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=V(7908),Ee=V(9786);let Se=(()=>{class ot extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(_e){const et=new Be(this,this);return et.operator=_e,et}_throwIfClosed(){if(this.closed)throw new ve}next(_e){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const et of this.currentObservers)et.next(_e)}})}error(_e){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=_e;const{observers:et}=this;for(;et.length;)et.shift().error(_e)}})}complete(){(0,Ee.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:_e}=this;for(;_e.length;)_e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var _e;return(null===(_e=this.observers)||void 0===_e?void 0:_e.length)>0}_trySubscribe(_e){return this._throwIfClosed(),super._trySubscribe(_e)}_subscribe(_e){return this._throwIfClosed(),this._checkFinalizedStatuses(_e),this._innerSubscribe(_e)}_innerSubscribe(_e){const{hasError:et,isStopped:Qe,observers:Ke}=this;return et||Qe?o.Kn:(this.currentObservers=null,Ke.push(_e),new o.yU(()=>{this.currentObservers=null,(0,W.o)(Ke,_e)}))}_checkFinalizedStatuses(_e){const{hasError:et,thrownError:Qe,isStopped:Ke}=this;et?_e.error(Qe):Ke&&_e.complete()}asObservable(){const _e=new d.c;return _e.source=this,_e}}return ot.create=(Re,_e)=>new Be(Re,_e),ot})();class Be extends Se{constructor(Re,_e){super(),this.destination=Re,this.source=_e}next(Re){var _e,et;null===(et=null===(_e=this.destination)||void 0===_e?void 0:_e.next)||void 0===et||et.call(_e,Re)}error(Re){var _e,et;null===(et=null===(_e=this.destination)||void 0===_e?void 0:_e.error)||void 0===et||et.call(_e,Re)}complete(){var Re,_e;null===(_e=null===(Re=this.destination)||void 0===Re?void 0:Re.complete)||void 0===_e||_e.call(Re)}_subscribe(Re){var _e,et;return null!==(et=null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Re))&&void 0!==et?et:o.Kn}}},7707:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Ms:()=>yt,vU:()=>et});var d=V(8071),o=V(8359),B=V(1026),ve=V(5334),W=V(5343);const Ee=ot("C",void 0,void 0);function ot(Te,xe,Me){return{kind:Te,value:xe,error:Me}}var Re=V(9270),_e=V(9786);class et extends o.yU{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,o.Uv)(xe)&&xe.add(this)):this.destination=At}static create(xe,Me,it){return new yt(xe,Me,it)}next(xe){this.isStopped?Mt(function Be(Te){return ot("N",Te,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?Mt(function Se(Te){return ot("E",void 0,Te)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Mt(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Ke(Te,xe){return Qe.call(Te,xe)}class ct{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Me}=this;if(Me.next)try{Me.next(xe)}catch(it){mt(it)}}error(xe){const{partialObserver:Me}=this;if(Me.error)try{Me.error(xe)}catch(it){mt(it)}else mt(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Me){mt(Me)}}}class yt extends et{constructor(xe,Me,it){let dt;if(super(),(0,d.T)(xe)||!xe)dt={next:null!=xe?xe:void 0,error:null!=Me?Me:void 0,complete:null!=it?it:void 0};else{let rt;this&&B.$.useDeprecatedNextContext?(rt=Object.create(xe),rt.unsubscribe=()=>this.unsubscribe(),dt={next:xe.next&&Ke(xe.next,rt),error:xe.error&&Ke(xe.error,rt),complete:xe.complete&&Ke(xe.complete,rt)}):dt=xe}this.destination=new ct(dt)}}function mt(Te){B.$.useDeprecatedSynchronousErrorHandling?(0,_e.l)(Te):(0,ve.m)(Te)}function Mt(Te,xe){const{onStoppedNotification:Me}=B.$;Me&&Re.f.setTimeout(()=>Me(Te,xe))}const At={closed:!0,next:W.l,error:function ut(Te){throw Te},complete:W.l}},8359:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Kn:()=>Ee,yU:()=>W,Uv:()=>Se});var d=V(8071);const B=(0,V(1853).L)(ot=>function(_e){ot(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((et,Qe)=>`${Qe+1}) ${et.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e});var ve=V(7908);class W{constructor(Re){this.initialTeardown=Re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Re;if(!this.closed){this.closed=!0;const{_parentage:_e}=this;if(_e)if(this._parentage=null,Array.isArray(_e))for(const Ke of _e)Ke.remove(this);else _e.remove(this);const{initialTeardown:et}=this;if((0,d.T)(et))try{et()}catch(Ke){Re=Ke instanceof B?Ke.errors:[Ke]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Ke of Qe)try{Be(Ke)}catch(ct){Re=null!=Re?Re:[],ct instanceof B?Re=[...Re,...ct.errors]:Re.push(ct)}}if(Re)throw new B(Re)}}add(Re){var _e;if(Re&&Re!==this)if(this.closed)Be(Re);else{if(Re instanceof W){if(Re.closed||Re._hasParent(this))return;Re._addParent(this)}(this._finalizers=null!==(_e=this._finalizers)&&void 0!==_e?_e:[]).push(Re)}}_hasParent(Re){const{_parentage:_e}=this;return _e===Re||Array.isArray(_e)&&_e.includes(Re)}_addParent(Re){const{_parentage:_e}=this;this._parentage=Array.isArray(_e)?(_e.push(Re),_e):_e?[_e,Re]:Re}_removeParent(Re){const{_parentage:_e}=this;_e===Re?this._parentage=null:Array.isArray(_e)&&(0,ve.o)(_e,Re)}remove(Re){const{_finalizers:_e}=this;_e&&(0,ve.o)(_e,Re),Re instanceof W&&Re._removeParent(this)}}W.EMPTY=(()=>{const ot=new W;return ot.closed=!0,ot})();const Ee=W.EMPTY;function Se(ot){return ot instanceof W||ot&&"closed"in ot&&(0,d.T)(ot.remove)&&(0,d.T)(ot.add)&&(0,d.T)(ot.unsubscribe)}function Be(ot){(0,d.T)(ot)?ot():ot.unsubscribe()}},1026:(Pn,Dt,V)=>{"use strict";V.d(Dt,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(Pn,Dt,V)=>{"use strict";V.d(Dt,{z:()=>Re});var d=V(1985),o=V(3073),B=V(8455),ve=V(3669),W=V(6450),Ee=V(3794),Se=V(8496),Be=V(4360),ot=V(5225);function Re(...Qe){const Ke=(0,Ee.lI)(Qe),ct=(0,Ee.ms)(Qe),{args:yt,keys:mt}=(0,o.D)(Qe);if(0===yt.length)return(0,B.H)([],Ke);const ut=new d.c(function _e(Qe,Ke,ct=ve.D){return yt=>{et(Ke,()=>{const{length:mt}=Qe,ut=new Array(mt);let Mt=mt,At=mt;for(let Te=0;Te<mt;Te++)et(Ke,()=>{const xe=(0,B.H)(Qe[Te],Ke);let Me=!1;xe.subscribe((0,Be._)(yt,it=>{ut[Te]=it,Me||(Me=!0,At--),At||yt.next(ct(ut.slice()))},()=>{--Mt||yt.complete()}))},yt)},yt)}}(yt,Ke,mt?Mt=>(0,Se.e)(mt,Mt):ve.D));return ct?ut.pipe((0,W.I)(ct)):ut}function et(Qe,Ke,ct){Qe?(0,ot.N)(ct,Qe,Ke):Ke()}},8793:(Pn,Dt,V)=>{"use strict";V.d(Dt,{x:()=>W});var d=V(6365),B=V(3794),ve=V(8455);function W(...Ee){return function o(){return(0,d.U)(1)}()((0,ve.H)(Ee,(0,B.lI)(Ee)))}},983:(Pn,Dt,V)=>{"use strict";V.d(Dt,{w:()=>o});const o=new(V(1985).c)(W=>W.complete())},8455:(Pn,Dt,V)=>{"use strict";V.d(Dt,{H:()=>xe});var d=V(8750),o=V(941),B=V(6745),Ee=V(1985),Be=V(4761),ot=V(8071),Re=V(5225);function et(Me,it){if(!Me)throw new Error("Iterable cannot be null");return new Ee.c(dt=>{(0,Re.N)(dt,it,()=>{const rt=Me[Symbol.asyncIterator]();(0,Re.N)(dt,it,()=>{rt.next().then(he=>{he.done?dt.complete():dt.next(he.value)})},0,!0)})})}var Qe=V(5055),Ke=V(9858),ct=V(7441),yt=V(5397),mt=V(7953),ut=V(591),Mt=V(5196);function xe(Me,it){return it?function Te(Me,it){if(null!=Me){if((0,Qe.l)(Me))return function ve(Me,it){return(0,d.Tg)(Me).pipe((0,B._)(it),(0,o.Q)(it))}(Me,it);if((0,ct.X)(Me))return function Se(Me,it){return new Ee.c(dt=>{let rt=0;return it.schedule(function(){rt===Me.length?dt.complete():(dt.next(Me[rt++]),dt.closed||this.schedule())})})}(Me,it);if((0,Ke.y)(Me))return function W(Me,it){return(0,d.Tg)(Me).pipe((0,B._)(it),(0,o.Q)(it))}(Me,it);if((0,mt.T)(Me))return et(Me,it);if((0,yt.x)(Me))return function _e(Me,it){return new Ee.c(dt=>{let rt;return(0,Re.N)(dt,it,()=>{rt=Me[Be.l](),(0,Re.N)(dt,it,()=>{let he,ht;try{({value:he,done:ht}=rt.next())}catch(ft){return void dt.error(ft)}ht?dt.complete():dt.next(he)},0,!0)}),()=>(0,ot.T)(null==rt?void 0:rt.return)&&rt.return()})}(Me,it);if((0,Mt.U)(Me))return function At(Me,it){return et((0,Mt.C)(Me),it)}(Me,it)}throw(0,ut.L)(Me)}(Me,it):(0,d.Tg)(Me)}},3726:(Pn,Dt,V)=>{"use strict";V.d(Dt,{R:()=>Re});var d=V(8750),o=V(1985),B=V(1397),ve=V(7441),W=V(8071),Ee=V(6450);const Se=["addListener","removeListener"],Be=["addEventListener","removeEventListener"],ot=["on","off"];function Re(ct,yt,mt,ut){if((0,W.T)(mt)&&(ut=mt,mt=void 0),ut)return Re(ct,yt,mt).pipe((0,Ee.I)(ut));const[Mt,At]=function Ke(ct){return(0,W.T)(ct.addEventListener)&&(0,W.T)(ct.removeEventListener)}(ct)?Be.map(Te=>xe=>ct[Te](yt,xe,mt)):function et(ct){return(0,W.T)(ct.addListener)&&(0,W.T)(ct.removeListener)}(ct)?Se.map(_e(ct,yt)):function Qe(ct){return(0,W.T)(ct.on)&&(0,W.T)(ct.off)}(ct)?ot.map(_e(ct,yt)):[];if(!Mt&&(0,ve.X)(ct))return(0,B.Z)(Te=>Re(Te,yt,mt))((0,d.Tg)(ct));if(!Mt)throw new TypeError("Invalid event target");return new o.c(Te=>{const xe=(...Me)=>Te.next(1<Me.length?Me:Me[0]);return Mt(xe),()=>At(xe)})}function _e(ct,yt){return mt=>ut=>ct[mt](yt,ut)}},8750:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Tg:()=>Qe});var d=V(1635),o=V(7441),B=V(9858),ve=V(1985),W=V(5055),Ee=V(7953),Se=V(591),Be=V(5397),ot=V(5196),Re=V(8071),_e=V(5334),et=V(3494);function Qe(Te){if(Te instanceof ve.c)return Te;if(null!=Te){if((0,W.l)(Te))return function Ke(Te){return new ve.c(xe=>{const Me=Te[et.s]();if((0,Re.T)(Me.subscribe))return Me.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,o.X)(Te))return function ct(Te){return new ve.c(xe=>{for(let Me=0;Me<Te.length&&!xe.closed;Me++)xe.next(Te[Me]);xe.complete()})}(Te);if((0,B.y)(Te))return function yt(Te){return new ve.c(xe=>{Te.then(Me=>{xe.closed||(xe.next(Me),xe.complete())},Me=>xe.error(Me)).then(null,_e.m)})}(Te);if((0,Ee.T)(Te))return ut(Te);if((0,Be.x)(Te))return function mt(Te){return new ve.c(xe=>{for(const Me of Te)if(xe.next(Me),xe.closed)return;xe.complete()})}(Te);if((0,ot.U)(Te))return function Mt(Te){return ut((0,ot.C)(Te))}(Te)}throw(0,Se.L)(Te)}function ut(Te){return new ve.c(xe=>{(function At(Te,xe){var Me,it,dt,rt;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Me=(0,d.xN)(Te);!(it=yield Me.next()).done;)if(xe.next(it.value),xe.closed)return}catch(he){dt={error:he}}finally{try{it&&!it.done&&(rt=Me.return)&&(yield rt.call(Me))}finally{if(dt)throw dt.error}}xe.complete()})})(Te,xe).catch(Me=>xe.error(Me))})}},7673:(Pn,Dt,V)=>{"use strict";V.d(Dt,{of:()=>B});var d=V(3794),o=V(8455);function B(...ve){const W=(0,d.lI)(ve);return(0,o.H)(ve,W)}},4360:(Pn,Dt,V)=>{"use strict";V.d(Dt,{_:()=>o});var d=V(7707);function o(ve,W,Ee,Se,Be){return new B(ve,W,Ee,Se,Be)}class B extends d.vU{constructor(W,Ee,Se,Be,ot,Re){super(W),this.onFinalize=ot,this.shouldUnsubscribe=Re,this._next=Ee?function(_e){try{Ee(_e)}catch(et){W.error(et)}}:super._next,this._error=Be?function(_e){try{Be(_e)}catch(et){W.error(et)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(_e){W.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},274:(Pn,Dt,V)=>{"use strict";V.d(Dt,{H:()=>B});var d=V(1397),o=V(8071);function B(ve,W){return(0,o.T)(W)?(0,d.Z)(ve,W,1):(0,d.Z)(ve,1)}},9901:(Pn,Dt,V)=>{"use strict";V.d(Dt,{U:()=>B});var d=V(9974),o=V(4360);function B(ve){return(0,d.N)((W,Ee)=>{let Se=!1;W.subscribe((0,o._)(Ee,Be=>{Se=!0,Ee.next(Be)},()=>{Se||Ee.next(ve),Ee.complete()}))})}},3294:(Pn,Dt,V)=>{"use strict";V.d(Dt,{F:()=>ve});var d=V(3669),o=V(9974),B=V(4360);function ve(Ee,Se=d.D){return Ee=null!=Ee?Ee:W,(0,o.N)((Be,ot)=>{let Re,_e=!0;Be.subscribe((0,B._)(ot,et=>{const Qe=Se(et);(_e||!Ee(Re,Qe))&&(_e=!1,Re=Qe,ot.next(et))}))})}function W(Ee,Se){return Ee===Se}},5964:(Pn,Dt,V)=>{"use strict";V.d(Dt,{p:()=>B});var d=V(9974),o=V(4360);function B(ve,W){return(0,d.N)((Ee,Se)=>{let Be=0;Ee.subscribe((0,o._)(Se,ot=>ve.call(W,ot,Be++)&&Se.next(ot)))})}},980:(Pn,Dt,V)=>{"use strict";V.d(Dt,{j:()=>o});var d=V(9974);function o(B){return(0,d.N)((ve,W)=>{try{ve.subscribe(W)}finally{W.add(B)}})}},1594:(Pn,Dt,V)=>{"use strict";V.d(Dt,{$:()=>Se});var d=V(9350),o=V(5964),B=V(6697),ve=V(9901),W=V(3774),Ee=V(3669);function Se(Be,ot){const Re=arguments.length>=2;return _e=>_e.pipe(Be?(0,o.p)((et,Qe)=>Be(et,Qe,_e)):Ee.D,(0,B.s)(1),Re?(0,ve.U)(ot):(0,W.v)(()=>new d.G))}},6354:(Pn,Dt,V)=>{"use strict";V.d(Dt,{T:()=>B});var d=V(9974),o=V(4360);function B(ve,W){return(0,d.N)((Ee,Se)=>{let Be=0;Ee.subscribe((0,o._)(Se,ot=>{Se.next(ve.call(W,ot,Be++))}))})}},6365:(Pn,Dt,V)=>{"use strict";V.d(Dt,{U:()=>B});var d=V(1397),o=V(3669);function B(ve=1/0){return(0,d.Z)(o.D,ve)}},1397:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Z:()=>Be});var d=V(6354),o=V(8750),B=V(9974),ve=V(5225),W=V(4360),Se=V(8071);function Be(ot,Re,_e=1/0){return(0,Se.T)(Re)?Be((et,Qe)=>(0,d.T)((Ke,ct)=>Re(et,Ke,Qe,ct))((0,o.Tg)(ot(et,Qe))),_e):("number"==typeof Re&&(_e=Re),(0,B.N)((et,Qe)=>function Ee(ot,Re,_e,et,Qe,Ke,ct,yt){const mt=[];let ut=0,Mt=0,At=!1;const Te=()=>{At&&!mt.length&&!ut&&Re.complete()},xe=it=>ut<et?Me(it):mt.push(it),Me=it=>{Ke&&Re.next(it),ut++;let dt=!1;(0,o.Tg)(_e(it,Mt++)).subscribe((0,W._)(Re,rt=>{null==Qe||Qe(rt),Ke?xe(rt):Re.next(rt)},()=>{dt=!0},void 0,()=>{if(dt)try{for(ut--;mt.length&&ut<et;){const rt=mt.shift();ct?(0,ve.N)(Re,ct,()=>Me(rt)):Me(rt)}Te()}catch(rt){Re.error(rt)}}))};return ot.subscribe((0,W._)(Re,xe,()=>{At=!0,Te()})),()=>{null==yt||yt()}}(et,Qe,ot,_e)))}},941:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Q:()=>ve});var d=V(5225),o=V(9974),B=V(4360);function ve(W,Ee=0){return(0,o.N)((Se,Be)=>{Se.subscribe((0,B._)(Be,ot=>(0,d.N)(Be,W,()=>Be.next(ot),Ee),()=>(0,d.N)(Be,W,()=>Be.complete(),Ee),ot=>(0,d.N)(Be,W,()=>Be.error(ot),Ee)))})}},2816:(Pn,Dt,V)=>{"use strict";V.d(Dt,{S:()=>ve});var d=V(9974),o=V(4360);function ve(W,Ee){return(0,d.N)(function B(W,Ee,Se,Be,ot){return(Re,_e)=>{let et=Se,Qe=Ee,Ke=0;Re.subscribe((0,o._)(_e,ct=>{const yt=Ke++;Qe=et?W(Qe,ct,yt):(et=!0,ct),Be&&_e.next(Qe)},ot&&(()=>{et&&_e.next(Qe),_e.complete()})))}}(W,Ee,arguments.length>=2,!0))}},9172:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Z:()=>ve});var d=V(8793),o=V(3794),B=V(9974);function ve(...W){const Ee=(0,o.lI)(W);return(0,B.N)((Se,Be)=>{(Ee?(0,d.x)(W,Se,Ee):(0,d.x)(W,Se)).subscribe(Be)})}},6745:(Pn,Dt,V)=>{"use strict";V.d(Dt,{_:()=>o});var d=V(9974);function o(B,ve=0){return(0,d.N)((W,Ee)=>{Ee.add(B.schedule(()=>W.subscribe(Ee),ve))})}},5558:(Pn,Dt,V)=>{"use strict";V.d(Dt,{n:()=>ve});var d=V(8750),o=V(9974),B=V(4360);function ve(W,Ee){return(0,o.N)((Se,Be)=>{let ot=null,Re=0,_e=!1;const et=()=>_e&&!ot&&Be.complete();Se.subscribe((0,B._)(Be,Qe=>{null==ot||ot.unsubscribe();let Ke=0;const ct=Re++;(0,d.Tg)(W(Qe,ct)).subscribe(ot=(0,B._)(Be,yt=>Be.next(Ee?Ee(Qe,yt,ct,Ke++):yt),()=>{ot=null,et()}))},()=>{_e=!0,et()}))})}},6697:(Pn,Dt,V)=>{"use strict";V.d(Dt,{s:()=>ve});var d=V(983),o=V(9974),B=V(4360);function ve(W){return W<=0?()=>d.w:(0,o.N)((Ee,Se)=>{let Be=0;Ee.subscribe((0,B._)(Se,ot=>{++Be<=W&&(Se.next(ot),W<=Be&&Se.complete())}))})}},8141:(Pn,Dt,V)=>{"use strict";V.d(Dt,{M:()=>W});var d=V(8071),o=V(9974),B=V(4360),ve=V(3669);function W(Ee,Se,Be){const ot=(0,d.T)(Ee)||Se||Be?{next:Ee,error:Se,complete:Be}:Ee;return ot?(0,o.N)((Re,_e)=>{var et;null===(et=ot.subscribe)||void 0===et||et.call(ot);let Qe=!0;Re.subscribe((0,B._)(_e,Ke=>{var ct;null===(ct=ot.next)||void 0===ct||ct.call(ot,Ke),_e.next(Ke)},()=>{var Ke;Qe=!1,null===(Ke=ot.complete)||void 0===Ke||Ke.call(ot),_e.complete()},Ke=>{var ct;Qe=!1,null===(ct=ot.error)||void 0===ct||ct.call(ot,Ke),_e.error(Ke)},()=>{var Ke,ct;Qe&&(null===(Ke=ot.unsubscribe)||void 0===Ke||Ke.call(ot)),null===(ct=ot.finalize)||void 0===ct||ct.call(ot)}))}):ve.D}},3774:(Pn,Dt,V)=>{"use strict";V.d(Dt,{v:()=>ve});var d=V(9350),o=V(9974),B=V(4360);function ve(Ee=W){return(0,o.N)((Se,Be)=>{let ot=!1;Se.subscribe((0,B._)(Be,Re=>{ot=!0,Be.next(Re)},()=>ot?Be.complete():Be.error(Ee())))})}function W(){return new d.G}},6780:(Pn,Dt,V)=>{"use strict";V.d(Dt,{R:()=>W});var d=V(8359);class o extends d.yU{constructor(Se,Be){super()}schedule(Se,Be=0){return this}}const B={setInterval(Ee,Se,...Be){const{delegate:ot}=B;return null!=ot&&ot.setInterval?ot.setInterval(Ee,Se,...Be):setInterval(Ee,Se,...Be)},clearInterval(Ee){const{delegate:Se}=B;return((null==Se?void 0:Se.clearInterval)||clearInterval)(Ee)},delegate:void 0};var ve=V(7908);class W extends o{constructor(Se,Be){super(Se,Be),this.scheduler=Se,this.work=Be,this.pending=!1}schedule(Se,Be=0){var ot;if(this.closed)return this;this.state=Se;const Re=this.id,_e=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(_e,Re,Be)),this.pending=!0,this.delay=Be,this.id=null!==(ot=this.id)&&void 0!==ot?ot:this.requestAsyncId(_e,this.id,Be),this}requestAsyncId(Se,Be,ot=0){return B.setInterval(Se.flush.bind(Se,this),ot)}recycleAsyncId(Se,Be,ot=0){if(null!=ot&&this.delay===ot&&!1===this.pending)return Be;null!=Be&&B.clearInterval(Be)}execute(Se,Be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ot=this._execute(Se,Be);if(ot)return ot;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Be){let Re,ot=!1;try{this.work(Se)}catch(_e){ot=!0,Re=_e||new Error("Scheduled action threw falsy error")}if(ot)return this.unsubscribe(),Re}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Be}=this,{actions:ot}=Be;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ve.o)(ot,this),null!=Se&&(this.id=this.recycleAsyncId(Be,Se,null)),this.delay=null,super.unsubscribe()}}}},9687:(Pn,Dt,V)=>{"use strict";V.d(Dt,{q:()=>B});var d=V(6129);class o{constructor(W,Ee=o.now){this.schedulerActionCtor=W,this.now=Ee}schedule(W,Ee=0,Se){return new this.schedulerActionCtor(this,W).schedule(Se,Ee)}}o.now=d.U.now;class B extends o{constructor(W,Ee=o.now){super(W,Ee),this.actions=[],this._active=!1}flush(W){const{actions:Ee}=this;if(this._active)return void Ee.push(W);let Se;this._active=!0;do{if(Se=W.execute(W.state,W.delay))break}while(W=Ee.shift());if(this._active=!1,Se){for(;W=Ee.shift();)W.unsubscribe();throw Se}}}},3236:(Pn,Dt,V)=>{"use strict";V.d(Dt,{E:()=>B});var d=V(6780);const B=new(V(9687).q)(d.R)},6129:(Pn,Dt,V)=>{"use strict";V.d(Dt,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(Pn,Dt,V)=>{"use strict";V.d(Dt,{f:()=>d});const d={setTimeout(o,B,...ve){const{delegate:W}=d;return null!=W&&W.setTimeout?W.setTimeout(o,B,...ve):setTimeout(o,B,...ve)},clearTimeout(o){const{delegate:B}=d;return((null==B?void 0:B.clearTimeout)||clearTimeout)(o)},delegate:void 0}},4761:(Pn,Dt,V)=>{"use strict";V.d(Dt,{l:()=>o});const o=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Pn,Dt,V)=>{"use strict";V.d(Dt,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Pn,Dt,V)=>{"use strict";V.d(Dt,{G:()=>o});const o=(0,V(1853).L)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(Pn,Dt,V)=>{"use strict";V.d(Dt,{R0:()=>Ee,ms:()=>ve,lI:()=>W});var d=V(8071);function B(Se){return Se[Se.length-1]}function ve(Se){return(0,d.T)(B(Se))?Se.pop():void 0}function W(Se){return function o(Se){return Se&&(0,d.T)(Se.schedule)}(B(Se))?Se.pop():void 0}function Ee(Se,Be){return"number"==typeof B(Se)?Se.pop():Be}},3073:(Pn,Dt,V)=>{"use strict";V.d(Dt,{D:()=>W});const{isArray:d}=Array,{getPrototypeOf:o,prototype:B,keys:ve}=Object;function W(Se){if(1===Se.length){const Be=Se[0];if(d(Be))return{args:Be,keys:null};if(function Ee(Se){return Se&&"object"==typeof Se&&o(Se)===B}(Be)){const ot=ve(Be);return{args:ot.map(Re=>Be[Re]),keys:ot}}}return{args:Se,keys:null}}},7908:(Pn,Dt,V)=>{"use strict";function d(o,B){if(o){const ve=o.indexOf(B);0<=ve&&o.splice(ve,1)}}V.d(Dt,{o:()=>d})},1853:(Pn,Dt,V)=>{"use strict";function d(o){const ve=o(W=>{Error.call(W),W.stack=(new Error).stack});return ve.prototype=Object.create(Error.prototype),ve.prototype.constructor=ve,ve}V.d(Dt,{L:()=>d})},8496:(Pn,Dt,V)=>{"use strict";function d(o,B){return o.reduce((ve,W,Ee)=>(ve[W]=B[Ee],ve),{})}V.d(Dt,{e:()=>d})},9786:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Y:()=>B,l:()=>ve});var d=V(1026);let o=null;function B(W){if(d.$.useDeprecatedSynchronousErrorHandling){const Ee=!o;if(Ee&&(o={errorThrown:!1,error:null}),W(),Ee){const{errorThrown:Se,error:Be}=o;if(o=null,Se)throw Be}}else W()}function ve(W){d.$.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=W)}},5225:(Pn,Dt,V)=>{"use strict";function d(o,B,ve,W=0,Ee=!1){const Se=B.schedule(function(){ve(),Ee?o.add(this.schedule(null,W)):this.unsubscribe()},W);if(o.add(Se),!Ee)return Se}V.d(Dt,{N:()=>d})},3669:(Pn,Dt,V)=>{"use strict";function d(o){return o}V.d(Dt,{D:()=>d})},7441:(Pn,Dt,V)=>{"use strict";V.d(Dt,{X:()=>d});const d=o=>o&&"number"==typeof o.length&&"function"!=typeof o},7953:(Pn,Dt,V)=>{"use strict";V.d(Dt,{T:()=>o});var d=V(8071);function o(B){return Symbol.asyncIterator&&(0,d.T)(null==B?void 0:B[Symbol.asyncIterator])}},8071:(Pn,Dt,V)=>{"use strict";function d(o){return"function"==typeof o}V.d(Dt,{T:()=>d})},5055:(Pn,Dt,V)=>{"use strict";V.d(Dt,{l:()=>B});var d=V(3494),o=V(8071);function B(ve){return(0,o.T)(ve[d.s])}},5397:(Pn,Dt,V)=>{"use strict";V.d(Dt,{x:()=>B});var d=V(4761),o=V(8071);function B(ve){return(0,o.T)(null==ve?void 0:ve[d.l])}},9858:(Pn,Dt,V)=>{"use strict";V.d(Dt,{y:()=>o});var d=V(8071);function o(B){return(0,d.T)(null==B?void 0:B.then)}},5196:(Pn,Dt,V)=>{"use strict";V.d(Dt,{C:()=>B,U:()=>ve});var d=V(1635),o=V(8071);function B(W){return(0,d.AQ)(this,arguments,function*(){const Se=W.getReader();try{for(;;){const{value:Be,done:ot}=yield(0,d.N3)(Se.read());if(ot)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Be)}}finally{Se.releaseLock()}})}function ve(W){return(0,o.T)(null==W?void 0:W.getReader)}},9974:(Pn,Dt,V)=>{"use strict";V.d(Dt,{N:()=>B,S:()=>o});var d=V(8071);function o(ve){return(0,d.T)(null==ve?void 0:ve.lift)}function B(ve){return W=>{if(o(W))return W.lift(function(Ee){try{return ve(Ee,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Pn,Dt,V)=>{"use strict";V.d(Dt,{I:()=>ve});var d=V(6354);const{isArray:o}=Array;function ve(W){return(0,d.T)(Ee=>function B(W,Ee){return o(Ee)?W(...Ee):W(Ee)}(W,Ee))}},5343:(Pn,Dt,V)=>{"use strict";function d(){}V.d(Dt,{l:()=>d})},1203:(Pn,Dt,V)=>{"use strict";V.d(Dt,{F:()=>o,m:()=>B});var d=V(3669);function o(...ve){return B(ve)}function B(ve){return 0===ve.length?d.D:1===ve.length?ve[0]:function(Ee){return ve.reduce((Se,Be)=>Be(Se),Ee)}}},5334:(Pn,Dt,V)=>{"use strict";V.d(Dt,{m:()=>B});var d=V(1026),o=V(9270);function B(ve){o.f.setTimeout(()=>{const{onUnhandledError:W}=d.$;if(!W)throw ve;W(ve)})}},591:(Pn,Dt,V)=>{"use strict";function d(o){return new TypeError(`You provided ${null!==o&&"object"==typeof o?"an invalid object":`'${o}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Dt,{L:()=>d})},8996:(Pn,Dt,V)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment-content.entry.js":[9073,9073],"./ion-segment-view.entry.js":[323,323],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select-modal.entry.js":[770,770],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function o(B){if(!V.o(d,B))return Promise.resolve().then(()=>{var Ee=new Error("Cannot find module '"+B+"'");throw Ee.code="MODULE_NOT_FOUND",Ee});var ve=d[B],W=ve[0];return Promise.all(ve.slice(1).map(V.e)).then(()=>V(W))}o.keys=()=>Object.keys(d),o.id=8996,Pn.exports=o},177:(Pn,Dt,V)=>{"use strict";V.d(Dt,{AJ:()=>tn,MD:()=>nt,N0:()=>vi,P9:()=>G,QT:()=>B,QX:()=>bi,Sm:()=>yt,Sq:()=>tr,T3:()=>qo,VF:()=>W,Vy:()=>an,Xr:()=>Bn,ZD:()=>ve,_b:()=>le,aZ:()=>ut,bT:()=>Di,fw:()=>mt,hb:()=>Ke,hj:()=>ot,qQ:()=>Se,vh:()=>_i});var d=V(4438);let o=null;function B(){return o}function ve(R){var q;null!==(q=o)&&void 0!==q||(o=R)}class W{}const Se=new d.nKC("");let Be=(()=>{var R;class q{historyGo(X){throw new Error("")}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275prov=d.jDH({token:R,factory:()=>(0,d.WQX)(Re),providedIn:"platform"}),q})();const ot=new d.nKC("");let Re=(()=>{var R;class q extends Be{constructor(){super(),this._doc=(0,d.WQX)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(X){const ce=B().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("popstate",X,!1),()=>ce.removeEventListener("popstate",X)}onHashChange(X){const ce=B().getGlobalEventTarget(this._doc,"window");return ce.addEventListener("hashchange",X,!1),()=>ce.removeEventListener("hashchange",X)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(X){this._location.pathname=X}pushState(X,ce,qe){this._history.pushState(X,ce,qe)}replaceState(X,ce,qe){this._history.replaceState(X,ce,qe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(X=0){this._history.go(X)}getState(){return this._history.state}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275prov=d.jDH({token:R,factory:()=>new R,providedIn:"platform"}),q})();function _e(R,q){if(0==R.length)return q;if(0==q.length)return R;let Le=0;return R.endsWith("/")&&Le++,q.startsWith("/")&&Le++,2==Le?R+q.substring(1):1==Le?R+q:R+"/"+q}function et(R){const q=R.match(/#|\?|$/),Le=q&&q.index||R.length;return R.slice(0,Le-("/"===R[Le-1]?1:0))+R.slice(Le)}function Qe(R){return R&&"?"!==R[0]?"?"+R:R}let Ke=(()=>{var R;class q{historyGo(X){throw new Error("")}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275prov=d.jDH({token:R,factory:()=>(0,d.WQX)(yt),providedIn:"root"}),q})();const ct=new d.nKC("");let yt=(()=>{var R;class q extends Ke{constructor(X,ce){var qe,nn,En;super(),this._platformLocation=X,this._removeListenerFns=[],this._baseHref=null!==(qe=null!==(nn=null!=ce?ce:this._platformLocation.getBaseHrefFromDOM())&&void 0!==nn?nn:null===(En=(0,d.WQX)(Se).location)||void 0===En?void 0:En.origin)&&void 0!==qe?qe:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}prepareExternalUrl(X){return _e(this._baseHref,X)}path(X=!1){const ce=this._platformLocation.pathname+Qe(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&X?`${ce}${qe}`:ce}pushState(X,ce,qe,nn){const En=this.prepareExternalUrl(qe+Qe(nn));this._platformLocation.pushState(X,ce,En)}replaceState(X,ce,qe,nn){const En=this.prepareExternalUrl(qe+Qe(nn));this._platformLocation.replaceState(X,ce,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var ce,qe;null===(ce=(qe=this._platformLocation).historyGo)||void 0===ce||ce.call(qe,X)}}return(R=q).\u0275fac=function(X){return new(X||R)(d.KVO(Be),d.KVO(ct,8))},R.\u0275prov=d.jDH({token:R,factory:R.\u0275fac,providedIn:"root"}),q})(),mt=(()=>{var R;class q extends Ke{constructor(X,ce){super(),this._platformLocation=X,this._baseHref="",this._removeListenerFns=[],null!=ce&&(this._baseHref=ce)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(X){this._removeListenerFns.push(this._platformLocation.onPopState(X),this._platformLocation.onHashChange(X))}getBaseHref(){return this._baseHref}path(X=!1){var ce;const qe=null!==(ce=this._platformLocation.hash)&&void 0!==ce?ce:"#";return qe.length>0?qe.substring(1):qe}prepareExternalUrl(X){const ce=_e(this._baseHref,X);return ce.length>0?"#"+ce:ce}pushState(X,ce,qe,nn){let En=this.prepareExternalUrl(qe+Qe(nn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.pushState(X,ce,En)}replaceState(X,ce,qe,nn){let En=this.prepareExternalUrl(qe+Qe(nn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.replaceState(X,ce,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(X=0){var ce,qe;null===(ce=(qe=this._platformLocation).historyGo)||void 0===ce||ce.call(qe,X)}}return(R=q).\u0275fac=function(X){return new(X||R)(d.KVO(Be),d.KVO(ct,8))},R.\u0275prov=d.jDH({token:R,factory:R.\u0275fac}),q})(),ut=(()=>{var R;class q{constructor(X){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=X;const ce=this._locationStrategy.getBaseHref();this._basePath=function xe(R){if(new RegExp("^(https?:)?//").test(R)){const[,Le]=R.split(/\/\/[^\/]+/);return Le}return R}(et(Te(ce))),this._locationStrategy.onPopState(qe=>{this._subject.emit({url:this.path(!0),pop:!0,state:qe.state,type:qe.type})})}ngOnDestroy(){var X;null===(X=this._urlChangeSubscription)||void 0===X||X.unsubscribe(),this._urlChangeListeners=[]}path(X=!1){return this.normalize(this._locationStrategy.path(X))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(X,ce=""){return this.path()==this.normalize(X+Qe(ce))}normalize(X){return q.stripTrailingSlash(function At(R,q){if(!R||!q.startsWith(R))return q;const Le=q.substring(R.length);return""===Le||["/",";","?","#"].includes(Le[0])?Le:q}(this._basePath,Te(X)))}prepareExternalUrl(X){return X&&"/"!==X[0]&&(X="/"+X),this._locationStrategy.prepareExternalUrl(X)}go(X,ce="",qe=null){this._locationStrategy.pushState(qe,"",X,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+Qe(ce)),qe)}replaceState(X,ce="",qe=null){this._locationStrategy.replaceState(qe,"",X,ce),this._notifyUrlChangeListeners(this.prepareExternalUrl(X+Qe(ce)),qe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(X=0){var ce,qe;null===(ce=(qe=this._locationStrategy).historyGo)||void 0===ce||ce.call(qe,X)}onUrlChange(X){var ce;return this._urlChangeListeners.push(X),null!==(ce=this._urlChangeSubscription)&&void 0!==ce||(this._urlChangeSubscription=this.subscribe(qe=>{this._notifyUrlChangeListeners(qe.url,qe.state)})),()=>{const qe=this._urlChangeListeners.indexOf(X);var nn;this._urlChangeListeners.splice(qe,1),0===this._urlChangeListeners.length&&(null===(nn=this._urlChangeSubscription)||void 0===nn||nn.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(X="",ce){this._urlChangeListeners.forEach(qe=>qe(X,ce))}subscribe(X,ce,qe){return this._subject.subscribe({next:X,error:ce,complete:qe})}}return(R=q).normalizeQueryParams=Qe,R.joinWithSlash=_e,R.stripTrailingSlash=et,R.\u0275fac=function(X){return new(X||R)(d.KVO(Ke))},R.\u0275prov=d.jDH({token:R,factory:()=>function Mt(){return new ut((0,d.KVO)(Ke))}(),providedIn:"root"}),q})();function Te(R){return R.replace(/\/index.html$/,"")}var it=function(R){return R[R.Decimal=0]="Decimal",R[R.Percent=1]="Percent",R[R.Currency=2]="Currency",R[R.Scientific=3]="Scientific",R}(it||{}),rt=function(R){return R[R.Format=0]="Format",R[R.Standalone=1]="Standalone",R}(rt||{}),he=function(R){return R[R.Narrow=0]="Narrow",R[R.Abbreviated=1]="Abbreviated",R[R.Wide=2]="Wide",R[R.Short=3]="Short",R}(he||{}),ht=function(R){return R[R.Short=0]="Short",R[R.Medium=1]="Medium",R[R.Long=2]="Long",R[R.Full=3]="Full",R}(ht||{});const ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function oe(R,q){return jt((0,d.H5H)(R)[d.KH2.DateFormat],q)}function Ne(R,q){return jt((0,d.H5H)(R)[d.KH2.TimeFormat],q)}function ze(R,q){return jt((0,d.H5H)(R)[d.KH2.DateTimeFormat],q)}function Ze(R,q){const Le=(0,d.H5H)(R),X=Le[d.KH2.NumberSymbols][q];if(typeof X>"u"){if(q===ft.CurrencyDecimal)return Le[d.KH2.NumberSymbols][ft.Decimal];if(q===ft.CurrencyGroup)return Le[d.KH2.NumberSymbols][ft.Group]}return X}function mn(R){if(!R[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${R[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jt(R,q){for(let Le=q;Le>-1;Le--)if(typeof R[Le]<"u")return R[Le];throw new Error("Locale data API: locale data undefined")}function On(R){const[q,Le]=R.split(":");return{hours:+q,minutes:+Le}}const kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xt={},Qn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nr=function(R){return R[R.Short=0]="Short",R[R.ShortGMT=1]="ShortGMT",R[R.Long=2]="Long",R[R.Extended=3]="Extended",R}(nr||{}),Vn=function(R){return R[R.FullYear=0]="FullYear",R[R.Month=1]="Month",R[R.Date=2]="Date",R[R.Hours=3]="Hours",R[R.Minutes=4]="Minutes",R[R.Seconds=5]="Seconds",R[R.FractionalSeconds=6]="FractionalSeconds",R[R.Day=7]="Day",R}(Vn||{}),Tn=function(R){return R[R.DayPeriods=0]="DayPeriods",R[R.Days=1]="Days",R[R.Months=2]="Months",R[R.Eras=3]="Eras",R}(Tn||{});function gr(R,q,Le,X){let ce=function J(R){if(re(R))return R;if("number"==typeof R&&!isNaN(R))return new Date(R);if("string"==typeof R){if(R=R.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(R)){const[ce,qe=1,nn=1]=R.split("-").map(En=>+En);return rr(ce,qe-1,nn)}const Le=parseFloat(R);if(!isNaN(R-Le))return new Date(Le);let X;if(X=R.match(kt))return function Q(R){const q=new Date(0);let Le=0,X=0;const ce=R[8]?q.setUTCFullYear:q.setFullYear,qe=R[8]?q.setUTCHours:q.setHours;R[9]&&(Le=Number(R[9]+R[10]),X=Number(R[9]+R[11])),ce.call(q,Number(R[1]),Number(R[2])-1,Number(R[3]));const nn=Number(R[4]||0)-Le,En=Number(R[5]||0)-X,Tr=Number(R[6]||0),ri=Math.floor(1e3*parseFloat("0."+(R[7]||0)));return qe.call(q,nn,En,Tr,ri),q}(X)}const q=new Date(R);if(!re(q))throw new Error(`Unable to convert "${R}" into a date`);return q}(R);q=zn(Le,q)||q;let En,nn=[];for(;q;){if(En=Qn.exec(q),!En){nn.push(q);break}{nn=nn.concat(En.slice(1));const mi=nn.pop();if(!mi)break;q=mi}}let Tr=ce.getTimezoneOffset();X&&(Tr=bt(X,Tr),ce=function at(R,q,Le){const X=Le?-1:1,ce=R.getTimezoneOffset();return function Ue(R,q){return(R=new Date(R.getTime())).setMinutes(R.getMinutes()+q),R}(R,X*(bt(q,ce)-ce))}(ce,X,!0));let ri="";return nn.forEach(mi=>{const Jr=function Kt(R){if(wt[R])return wt[R];let q;switch(R){case"G":case"GG":case"GGG":q=Un(Tn.Eras,he.Abbreviated);break;case"GGGG":q=Un(Tn.Eras,he.Wide);break;case"GGGGG":q=Un(Tn.Eras,he.Narrow);break;case"y":q=Cn(Vn.FullYear,1,0,!1,!0);break;case"yy":q=Cn(Vn.FullYear,2,0,!0,!0);break;case"yyy":q=Cn(Vn.FullYear,3,0,!1,!0);break;case"yyyy":q=Cn(Vn.FullYear,4,0,!1,!0);break;case"Y":q=Gt(1);break;case"YY":q=Gt(2,!0);break;case"YYY":q=Gt(3);break;case"YYYY":q=Gt(4);break;case"M":case"L":q=Cn(Vn.Month,1,1);break;case"MM":case"LL":q=Cn(Vn.Month,2,1);break;case"MMM":q=Un(Tn.Months,he.Abbreviated);break;case"MMMM":q=Un(Tn.Months,he.Wide);break;case"MMMMM":q=Un(Tn.Months,he.Narrow);break;case"LLL":q=Un(Tn.Months,he.Abbreviated,rt.Standalone);break;case"LLLL":q=Un(Tn.Months,he.Wide,rt.Standalone);break;case"LLLLL":q=Un(Tn.Months,he.Narrow,rt.Standalone);break;case"w":q=_n(1);break;case"ww":q=_n(2);break;case"W":q=_n(1,!0);break;case"d":q=Cn(Vn.Date,1);break;case"dd":q=Cn(Vn.Date,2);break;case"c":case"cc":q=Cn(Vn.Day,1);break;case"ccc":q=Un(Tn.Days,he.Abbreviated,rt.Standalone);break;case"cccc":q=Un(Tn.Days,he.Wide,rt.Standalone);break;case"ccccc":q=Un(Tn.Days,he.Narrow,rt.Standalone);break;case"cccccc":q=Un(Tn.Days,he.Short,rt.Standalone);break;case"E":case"EE":case"EEE":q=Un(Tn.Days,he.Abbreviated);break;case"EEEE":q=Un(Tn.Days,he.Wide);break;case"EEEEE":q=Un(Tn.Days,he.Narrow);break;case"EEEEEE":q=Un(Tn.Days,he.Short);break;case"a":case"aa":case"aaa":q=Un(Tn.DayPeriods,he.Abbreviated);break;case"aaaa":q=Un(Tn.DayPeriods,he.Wide);break;case"aaaaa":q=Un(Tn.DayPeriods,he.Narrow);break;case"b":case"bb":case"bbb":q=Un(Tn.DayPeriods,he.Abbreviated,rt.Standalone,!0);break;case"bbbb":q=Un(Tn.DayPeriods,he.Wide,rt.Standalone,!0);break;case"bbbbb":q=Un(Tn.DayPeriods,he.Narrow,rt.Standalone,!0);break;case"B":case"BB":case"BBB":q=Un(Tn.DayPeriods,he.Abbreviated,rt.Format,!0);break;case"BBBB":q=Un(Tn.DayPeriods,he.Wide,rt.Format,!0);break;case"BBBBB":q=Un(Tn.DayPeriods,he.Narrow,rt.Format,!0);break;case"h":q=Cn(Vn.Hours,1,-12);break;case"hh":q=Cn(Vn.Hours,2,-12);break;case"H":q=Cn(Vn.Hours,1);break;case"HH":q=Cn(Vn.Hours,2);break;case"m":q=Cn(Vn.Minutes,1);break;case"mm":q=Cn(Vn.Minutes,2);break;case"s":q=Cn(Vn.Seconds,1);break;case"ss":q=Cn(Vn.Seconds,2);break;case"S":q=Cn(Vn.FractionalSeconds,1);break;case"SS":q=Cn(Vn.FractionalSeconds,2);break;case"SSS":q=Cn(Vn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":q=Dn(nr.Short);break;case"ZZZZZ":q=Dn(nr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":q=Dn(nr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":q=Dn(nr.Long);break;default:return null}return wt[R]=q,q}(mi);ri+=Jr?Jr(ce,Le,Tr):"''"===mi?"'":mi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ri}function rr(R,q,Le){const X=new Date(0);return X.setFullYear(R,q,Le),X.setHours(0,0,0),X}function zn(R,q){var Le;const X=function Nt(R){return(0,d.H5H)(R)[d.KH2.LocaleId]}(R);if(null!==(Le=xt[X])&&void 0!==Le||(xt[X]={}),xt[X][q])return xt[X][q];let ce="";switch(q){case"shortDate":ce=oe(R,ht.Short);break;case"mediumDate":ce=oe(R,ht.Medium);break;case"longDate":ce=oe(R,ht.Long);break;case"fullDate":ce=oe(R,ht.Full);break;case"shortTime":ce=Ne(R,ht.Short);break;case"mediumTime":ce=Ne(R,ht.Medium);break;case"longTime":ce=Ne(R,ht.Long);break;case"fullTime":ce=Ne(R,ht.Full);break;case"short":const qe=zn(R,"shortTime"),nn=zn(R,"shortDate");ce=Yn(ze(R,ht.Short),[qe,nn]);break;case"medium":const En=zn(R,"mediumTime"),Tr=zn(R,"mediumDate");ce=Yn(ze(R,ht.Medium),[En,Tr]);break;case"long":const ri=zn(R,"longTime"),mi=zn(R,"longDate");ce=Yn(ze(R,ht.Long),[ri,mi]);break;case"full":const Jr=zn(R,"fullTime"),Mi=zn(R,"fullDate");ce=Yn(ze(R,ht.Full),[Jr,Mi])}return ce&&(xt[X][q]=ce),ce}function Yn(R,q){return q&&(R=R.replace(/\{([^}]+)}/g,function(Le,X){return null!=q&&X in q?q[X]:Le})),R}function dr(R,q,Le="-",X,ce){let qe="";(R<0||ce&&R<=0)&&(ce?R=1-R:(R=-R,qe=Le));let nn=String(R);for(;nn.length<q;)nn="0"+nn;return X&&(nn=nn.slice(nn.length-q)),qe+nn}function Cn(R,q,Le=0,X=!1,ce=!1){return function(qe,nn){let En=function Cr(R,q){switch(R){case Vn.FullYear:return q.getFullYear();case Vn.Month:return q.getMonth();case Vn.Date:return q.getDate();case Vn.Hours:return q.getHours();case Vn.Minutes:return q.getMinutes();case Vn.Seconds:return q.getSeconds();case Vn.FractionalSeconds:return q.getMilliseconds();case Vn.Day:return q.getDay();default:throw new Error(`Unknown DateType value "${R}".`)}}(R,qe);if((Le>0||En>-Le)&&(En+=Le),R===Vn.Hours)0===En&&-12===Le&&(En=12);else if(R===Vn.FractionalSeconds)return function jr(R,q){return dr(R,3).substring(0,q)}(En,q);const Tr=Ze(nn,ft.MinusSign);return dr(En,q,Tr,X,ce)}}function Un(R,q,Le=rt.Format,X=!1){return function(ce,qe){return function mr(R,q,Le,X,ce,qe){switch(Le){case Tn.Months:return function Ge(R,q,Le){const X=(0,d.H5H)(R),qe=jt([X[d.KH2.MonthsFormat],X[d.KH2.MonthsStandalone]],q);return jt(qe,Le)}(q,ce,X)[R.getMonth()];case Tn.Days:return function un(R,q,Le){const X=(0,d.H5H)(R),qe=jt([X[d.KH2.DaysFormat],X[d.KH2.DaysStandalone]],q);return jt(qe,Le)}(q,ce,X)[R.getDay()];case Tn.DayPeriods:const nn=R.getHours(),En=R.getMinutes();if(qe){const ri=function kn(R){const q=(0,d.H5H)(R);return mn(q),(q[d.KH2.ExtraData][2]||[]).map(X=>"string"==typeof X?On(X):[On(X[0]),On(X[1])])}(q),mi=function Gn(R,q,Le){const X=(0,d.H5H)(R);mn(X);const qe=jt([X[d.KH2.ExtraData][0],X[d.KH2.ExtraData][1]],q)||[];return jt(qe,Le)||[]}(q,ce,X),Jr=ri.findIndex(Mi=>{if(Array.isArray(Mi)){const[si,zi]=Mi,Fi=nn>=si.hours&&En>=si.minutes,hi=nn<zi.hours||nn===zi.hours&&En<zi.minutes;if(si.hours<zi.hours){if(Fi&&hi)return!0}else if(Fi||hi)return!0}else if(Mi.hours===nn&&Mi.minutes===En)return!0;return!1});if(-1!==Jr)return mi[Jr]}return function Ot(R,q,Le){const X=(0,d.H5H)(R),qe=jt([X[d.KH2.DayPeriodsFormat],X[d.KH2.DayPeriodsStandalone]],q);return jt(qe,Le)}(q,ce,X)[nn<12?0:1];case Tn.Eras:return function we(R,q){return jt((0,d.H5H)(R)[d.KH2.Eras],q)}(q,X)[R.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Le}`)}}(ce,qe,R,q,Le,X)}}function Dn(R){return function(q,Le,X){const ce=-1*X,qe=Ze(Le,ft.MinusSign),nn=ce>0?Math.floor(ce/60):Math.ceil(ce/60);switch(R){case nr.Short:return(ce>=0?"+":"")+dr(nn,2,qe)+dr(Math.abs(ce%60),2,qe);case nr.ShortGMT:return"GMT"+(ce>=0?"+":"")+dr(nn,1,qe);case nr.Long:return"GMT"+(ce>=0?"+":"")+dr(nn,2,qe)+":"+dr(Math.abs(ce%60),2,qe);case nr.Extended:return 0===X?"Z":(ce>=0?"+":"")+dr(nn,2,qe)+":"+dr(Math.abs(ce%60),2,qe);default:throw new Error(`Unknown zone width "${R}"`)}}}const Ei=0,er=4;function _r(R){const q=R.getDay(),Le=0===q?-3:er-q;return rr(R.getFullYear(),R.getMonth(),R.getDate()+Le)}function _n(R,q=!1){return function(Le,X){let ce;if(q){const qe=new Date(Le.getFullYear(),Le.getMonth(),1).getDay()-1,nn=Le.getDate();ce=1+Math.floor((nn+qe)/7)}else{const qe=_r(Le),nn=function fr(R){const q=rr(R,Ei,1).getDay();return rr(R,0,1+(q<=er?er:er+7)-q)}(qe.getFullYear()),En=qe.getTime()-nn.getTime();ce=1+Math.round(En/6048e5)}return dr(ce,R,Ze(X,ft.MinusSign))}}function Gt(R,q=!1){return function(Le,X){return dr(_r(Le).getFullYear(),R,Ze(X,ft.MinusSign),q)}}const wt={};function bt(R,q){R=R.replace(/:/g,"");const Le=Date.parse("Jan 01, 1970 00:00:00 "+R)/6e4;return isNaN(Le)?q:Le}function re(R){return R instanceof Date&&!isNaN(R.valueOf())}const Oe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pr(R){const q=parseInt(R);if(isNaN(q))throw new Error("Invalid integer literal when parsing "+R);return q}function le(R,q){q=encodeURIComponent(q);for(const Le of R.split(";")){const X=Le.indexOf("="),[ce,qe]=-1==X?[Le,""]:[Le.slice(0,X),Le.slice(X+1)];if(ce.trim()===q)return decodeURIComponent(qe)}return null}class Ar{constructor(q,Le,X,ce){this.$implicit=q,this.ngForOf=Le,this.index=X,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tr=(()=>{var R;class q{set ngForOf(X){this._ngForOf=X,this._ngForOfDirty=!0}set ngForTrackBy(X){this._trackByFn=X}get ngForTrackBy(){return this._trackByFn}constructor(X,ce,qe){this._viewContainer=X,this._template=ce,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(X){X&&(this._template=X)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const X=this._ngForOf;!this._differ&&X&&(this._differ=this._differs.find(X).create(this.ngForTrackBy))}if(this._differ){const X=this._differ.diff(this._ngForOf);X&&this._applyChanges(X)}}_applyChanges(X){const ce=this._viewContainer;X.forEachOperation((qe,nn,En)=>{if(null==qe.previousIndex)ce.createEmbeddedView(this._template,new Ar(qe.item,this._ngForOf,-1,-1),null===En?void 0:En);else if(null==En)ce.remove(null===nn?void 0:nn);else if(null!==nn){const Tr=ce.get(nn);ce.move(Tr,En),Bi(Tr,qe)}});for(let qe=0,nn=ce.length;qe<nn;qe++){const Tr=ce.get(qe).context;Tr.index=qe,Tr.count=nn,Tr.ngForOf=this._ngForOf}X.forEachIdentityChange(qe=>{Bi(ce.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(X,ce){return!0}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},R.\u0275dir=d.FsC({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),q})();function Bi(R,q){R.context.$implicit=q.item}let Di=(()=>{var R;class q{constructor(X,ce){this._viewContainer=X,this._context=new Ui,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ce}set ngIf(X){this._context.$implicit=this._context.ngIf=X,this._updateView()}set ngIfThen(X){yo("ngIfThen",X),this._thenTemplateRef=X,this._thenViewRef=null,this._updateView()}set ngIfElse(X){yo("ngIfElse",X),this._elseTemplateRef=X,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(X,ce){return!0}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.c1b),d.rXU(d.C4Q))},R.\u0275dir=d.FsC({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),q})();class Ui{constructor(){this.$implicit=null,this.ngIf=null}}function yo(R,q){if(q&&!q.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,d.Tbb)(q)}'.`)}let qo=(()=>{var R;class q{constructor(X){this._viewContainerRef=X,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(X){if(this._shouldRecreateView(X)){var ce;const qe=this._viewContainerRef;if(this._viewRef&&qe.remove(qe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const nn=this._createContextForwardProxy();this._viewRef=qe.createEmbeddedView(this.ngTemplateOutlet,nn,{injector:null!==(ce=this.ngTemplateOutletInjector)&&void 0!==ce?ce:void 0})}}_shouldRecreateView(X){return!!X.ngTemplateOutlet||!!X.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(X,ce,qe)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,ce,qe),get:(X,ce,qe)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,ce,qe)}})}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.c1b))},R.\u0275dir=d.FsC({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),q})();function Kr(R,q){return new d.wOt(2100,!1)}const Xs=new d.nKC(""),pi=new d.nKC("");let _i=(()=>{var R;class q{constructor(X,ce,qe){this.locale=X,this.defaultTimezone=ce,this.defaultOptions=qe}transform(X,ce,qe,nn){if(null==X||""===X||X!=X)return null;try{var En,Tr,ri,mi,Jr;const Mi=null!==(En=null!=ce?ce:null===(Tr=this.defaultOptions)||void 0===Tr?void 0:Tr.dateFormat)&&void 0!==En?En:"mediumDate",si=null!==(ri=null!==(mi=null!=qe?qe:null===(Jr=this.defaultOptions)||void 0===Jr?void 0:Jr.timezone)&&void 0!==mi?mi:this.defaultTimezone)&&void 0!==ri?ri:void 0;return gr(X,Mi,nn||this.locale,si)}catch(Mi){throw Kr()}}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.xe9,16),d.rXU(Xs,24),d.rXU(pi,24))},R.\u0275pipe=d.EJ8({name:"date",type:R,pure:!0,standalone:!0}),q})(),bi=(()=>{var R;class q{constructor(X){this._locale=X}transform(X,ce,qe){if(!function O(R){return!(null==R||""===R||R!=R)}(X))return null;qe||(qe=this._locale);try{return function wi(R,q,Le){return function Hr(R,q,Le,X,ce,qe,nn=!1){let En="",Tr=!1;if(isFinite(R)){let ri=function Ro(R){let X,ce,qe,nn,En,q=Math.abs(R)+"",Le=0;for((ce=q.indexOf("."))>-1&&(q=q.replace(".","")),(qe=q.search(/e/i))>0?(ce<0&&(ce=qe),ce+=+q.slice(qe+1),q=q.substring(0,qe)):ce<0&&(ce=q.length),qe=0;"0"===q.charAt(qe);qe++);if(qe===(En=q.length))X=[0],ce=1;else{for(En--;"0"===q.charAt(En);)En--;for(ce-=qe,X=[],nn=0;qe<=En;qe++,nn++)X[nn]=Number(q.charAt(qe))}return ce>22&&(X=X.splice(0,21),Le=ce-1,ce=1),{digits:X,exponent:Le,integerLen:ce}}(R);nn&&(ri=function $i(R){if(0===R.digits[0])return R;const q=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===q?R.digits.push(0,0):1===q&&R.digits.push(0),R.integerLen+=2),R}(ri));let mi=q.minInt,Jr=q.minFrac,Mi=q.maxFrac;if(qe){const sr=qe.match(Oe);if(null===sr)throw new Error(`${qe} is not a valid digit info`);const Wi=sr[1],wo=sr[3],Hi=sr[5];null!=Wi&&(mi=Pr(Wi)),null!=wo&&(Jr=Pr(wo)),null!=Hi?Mi=Pr(Hi):null!=wo&&Jr>Mi&&(Mi=Jr)}!function Ko(R,q,Le){if(q>Le)throw new Error(`The minimum number of digits after fraction (${q}) is higher than the maximum (${Le}).`);let X=R.digits,ce=X.length-R.integerLen;const qe=Math.min(Math.max(q,ce),Le);let nn=qe+R.integerLen,En=X[nn];if(nn>0){X.splice(Math.max(R.integerLen,nn));for(let Jr=nn;Jr<X.length;Jr++)X[Jr]=0}else{ce=Math.max(0,ce),R.integerLen=1,X.length=Math.max(1,nn=qe+1),X[0]=0;for(let Jr=1;Jr<nn;Jr++)X[Jr]=0}if(En>=5)if(nn-1<0){for(let Jr=0;Jr>nn;Jr--)X.unshift(0),R.integerLen++;X.unshift(1),R.integerLen++}else X[nn-1]++;for(;ce<Math.max(0,qe);ce++)X.push(0);let Tr=0!==qe;const ri=q+R.integerLen,mi=X.reduceRight(function(Jr,Mi,si,zi){return zi[si]=(Mi+=Jr)<10?Mi:Mi-10,Tr&&(0===zi[si]&&si>=ri?zi.pop():Tr=!1),Mi>=10?1:0},0);mi&&(X.unshift(mi),R.integerLen++)}(ri,Jr,Mi);let si=ri.digits,zi=ri.integerLen;const Fi=ri.exponent;let hi=[];for(Tr=si.every(sr=>!sr);zi<mi;zi++)si.unshift(0);for(;zi<0;zi++)si.unshift(0);zi>0?hi=si.splice(zi,si.length):(hi=si,si=[0]);const Sn=[];for(si.length>=q.lgSize&&Sn.unshift(si.splice(-q.lgSize,si.length).join(""));si.length>q.gSize;)Sn.unshift(si.splice(-q.gSize,si.length).join(""));si.length&&Sn.unshift(si.join("")),En=Sn.join(Ze(Le,X)),hi.length&&(En+=Ze(Le,ce)+hi.join("")),Fi&&(En+=Ze(Le,ft.Exponential)+"+"+Fi)}else En=Ze(Le,ft.Infinity);return En=R<0&&!Tr?q.negPre+En+q.negSuf:q.posPre+En+q.posSuf,En}(R,function Wo(R,q="-"){const Le={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},X=R.split(";"),ce=X[0],qe=X[1],nn=-1!==ce.indexOf(".")?ce.split("."):[ce.substring(0,ce.lastIndexOf("0")+1),ce.substring(ce.lastIndexOf("0")+1)],En=nn[0],Tr=nn[1]||"";Le.posPre=En.substring(0,En.indexOf("#"));for(let mi=0;mi<Tr.length;mi++){const Jr=Tr.charAt(mi);"0"===Jr?Le.minFrac=Le.maxFrac=mi+1:"#"===Jr?Le.maxFrac=mi+1:Le.posSuf+=Jr}const ri=En.split(",");if(Le.gSize=ri[1]?ri[1].length:0,Le.lgSize=ri[2]||ri[1]?(ri[2]||ri[1]).length:0,qe){const mi=ce.length-Le.posPre.length-Le.posSuf.length,Jr=qe.indexOf("#");Le.negPre=qe.substring(0,Jr).replace(/'/g,""),Le.negSuf=qe.slice(Jr+mi).replace(/'/g,"")}else Le.negPre=q+Le.posPre,Le.negSuf=Le.posSuf;return Le}(function je(R,q){return(0,d.H5H)(R)[d.KH2.NumberFormats][q]}(q,it.Decimal),Ze(q,ft.MinusSign)),q,ft.Group,ft.Decimal,Le)}(function A(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(X),qe,ce)}catch(nn){throw Kr()}}}return(R=q).\u0275fac=function(X){return new(X||R)(d.rXU(d.xe9,16))},R.\u0275pipe=d.EJ8({name:"number",type:R,pure:!0,standalone:!0}),q})();let G=(()=>{var R;class q{transform(X,ce,qe){if(null==X)return null;if(!this.supports(X))throw Kr();return X.slice(ce,qe)}supports(X){return"string"==typeof X||Array.isArray(X)}}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275pipe=d.EJ8({name:"slice",type:R,pure:!1,standalone:!0}),q})(),nt=(()=>{var R;class q{}return(R=q).\u0275fac=function(X){return new(X||R)},R.\u0275mod=d.$C({type:R}),R.\u0275inj=d.G2t({}),q})();const tn="browser",Et="server";function an(R){return R===Et}let Bn=(()=>{var R;class q{}return(R=q).\u0275prov=(0,d.jDH)({token:R,providedIn:"root",factory:()=>function Ht(R){return R===tn}((0,d.WQX)(d.Agw))?new Xn((0,d.WQX)(Se),window):new Gr}),q})();class Xn{constructor(q,Le){this.document=q,this.window=Le,this.offset=()=>[0,0]}setOffset(q){this.offset=Array.isArray(q)?()=>q:q}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(q){this.window.scrollTo(q[0],q[1])}scrollToAnchor(q){const Le=function ir(R,q){const Le=R.getElementById(q)||R.getElementsByName(q)[0];if(Le)return Le;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const X=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ce=X.currentNode;for(;ce;){const qe=ce.shadowRoot;if(qe){const nn=qe.getElementById(q)||qe.querySelector(`[name="${q}"]`);if(nn)return nn}ce=X.nextNode()}}return null}(this.document,q);Le&&(this.scrollToElement(Le),Le.focus())}setHistoryScrollRestoration(q){this.window.history.scrollRestoration=q}scrollToElement(q){const Le=q.getBoundingClientRect(),X=Le.left+this.window.pageXOffset,ce=Le.top+this.window.pageYOffset,qe=this.offset();this.window.scrollTo(X-qe[0],ce-qe[1])}}class Gr{setOffset(q){}getScrollPosition(){return[0,0]}scrollToPosition(q){}scrollToAnchor(q){}setHistoryScrollRestoration(q){}}class vi{}},4438:(Pn,Dt,V)=>{"use strict";function d(e,t){return Object.is(e,t)}V.d(Dt,{iLQ:()=>c0,sZ2:()=>ch,hnV:()=>WT,Hbi:()=>n1,o8S:()=>nd,BIS:()=>rm,gRc:()=>lw,Ql9:()=>AM,Ocv:()=>MM,Z63:()=>fe,aKT:()=>sh,uvJ:()=>jo,zcH:()=>Yl,bkB:()=>fa,$GK:()=>Mr,nKC:()=>tr,zZn:()=>Dr,_q3:()=>YE,MKu:()=>JE,xe9:()=>zE,Co$:()=>Kb,Vns:()=>jf,SKi:()=>Vo,Xx1:()=>vi,Agw:()=>_p,PLl:()=>mp,sFG:()=>Dy,_9s:()=>Bd,czy:()=>kp,kdw:()=>ui,C4Q:()=>Cf,NYb:()=>_M,giA:()=>GT,xvI:()=>zP,RxE:()=>LT,c1b:()=>Bf,gXe:()=>yn,mal:()=>jy,L39:()=>N1,EWP:()=>k1,a0P:()=>j1,Ol2:()=>WI,w6W:()=>dD,oH4:()=>iw,SmG:()=>BM,Rfq:()=>bt,WQX:()=>Et,naY:()=>$M,QuC:()=>Os,EmA:()=>La,fpN:()=>t1,HJs:()=>H1,N4e:()=>Ua,vPA:()=>Sb,O8t:()=>F1,H3F:()=>VT,H8p:()=>Vl,KH2:()=>xg,TgB:()=>es,wOt:()=>xt,WHO:()=>jT,e01:()=>HT,H5H:()=>vE,Zy3:()=>Qn,mq5:()=>JC,JZv:()=>Dn,LfX:()=>de,plB:()=>Yu,jNT:()=>BE,zjR:()=>zT,TL$:()=>nm,Tbb:()=>_n,Vt3:()=>jI,GFd:()=>Wb,OA$:()=>dl,Jv_:()=>sT,aNF:()=>aT,R7$:()=>Um,BMQ:()=>oE,AVh:()=>dE,wni:()=>OA,VBU:()=>ki,FsC:()=>Fa,jDH:()=>Pr,G2t:()=>be,$C:()=>na,EJ8:()=>go,rXU:()=>$u,nrm:()=>mE,eu8:()=>_E,bVm:()=>Yy,qex:()=>Qy,k0s:()=>qy,j41:()=>Xy,RV6:()=>qC,xGo:()=>kg,KVO:()=>nt,kS0:()=>jc,QTQ:()=>jv,bIt:()=>EE,lsd:()=>LA,XpG:()=>CA,nI1:()=>_T,bMT:()=>vT,i5U:()=>yT,brH:()=>IT,SdG:()=>TA,NAR:()=>AA,Y8G:()=>cE,FS9:()=>CE,Mz_:()=>n0,lJ4:()=>uT,eq3:()=>dT,mGM:()=>FA,sdS:()=>VA,Njj:()=>cu,eBV:()=>kc,B4B:()=>Dp,n$t:()=>Sd,DNE:()=>XI,C5r:()=>ET,EFF:()=>XA,JRh:()=>TE,SpI:()=>r0,Lme:()=>wE,E5c:()=>DE,DH7:()=>nT,mxI:()=>RE,R50:()=>SE,GBs:()=>kA});let o=null,B=!1,ve=1;const W=Symbol("SIGNAL");function Ee(e){const t=o;return o=e,t}const Re={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _e(e){if(B)throw new Error("");if(null===o)return;o.consumerOnSignalRead(e);const t=o.nextProducerIndex++;it(o),t<o.producerNode.length&&o.producerNode[t]!==e&&Me(o)&&xe(o.producerNode[t],o.producerIndexOfThis[t]),o.producerNode[t]!==e&&(o.producerNode[t]=e,o.producerIndexOfThis[t]=Me(o)?Te(e,o,t):0),o.producerLastReadVersion[t]=e.version}function Qe(e){if((!Me(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ve)){if(!e.producerMustRecompute(e)&&!Mt(e))return e.dirty=!1,void(e.lastCleanEpoch=ve);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ve}}function Ke(e){if(void 0===e.liveConsumerNode)return;const t=B;B=!0;try{for(const r of e.liveConsumerNode)r.dirty||yt(r)}finally{B=t}}function ct(){var e;return!1!==(null===(e=o)||void 0===e?void 0:e.consumerAllowSignalWrites)}function yt(e){var t;e.dirty=!0,Ke(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function mt(e){return e&&(e.nextProducerIndex=0),Ee(e)}function ut(e,t){if(Ee(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Me(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)xe(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Mt(e){it(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],s=e.producerLastReadVersion[t];if(s!==r.version||(Qe(r),s!==r.version))return!0}return!1}function At(e){if(it(e),Me(e))for(let t=0;t<e.producerNode.length;t++)xe(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Te(e,t,r){if(dt(e),0===e.liveConsumerNode.length&&rt(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=Te(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function xe(e,t){if(dt(e),1===e.liveConsumerNode.length&&rt(e))for(let s=0;s<e.producerNode.length;s++)xe(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[t],l=e.liveConsumerNode[t];it(l),l.producerIndexOfThis[s]=t}}function Me(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function it(e){var t,r,s;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(s=e.producerLastReadVersion)&&void 0!==s||(e.producerLastReadVersion=[])}function dt(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function rt(e){return void 0!==e.producerNode}const ht=Symbol("UNSET"),ft=Symbol("COMPUTING"),Je=Symbol("ERRORED"),Nt={...Re,value:ht,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===ht||e.value===ft,producerRecomputeValue(e){if(e.value===ft)throw new Error("Detected cycle in computations.");const t=e.value;e.value=ft;const r=mt(e);let s;try{s=e.computation()}catch(l){s=Je,e.error=l}finally{ut(e,r)}t!==ht&&t!==Je&&s!==Je&&e.equal(t,s)?e.value=t:(e.value=s,e.version++)}};let un=function Ot(){throw new Error};function Ge(){un()}let me=null;function ze(e,t){ct()||Ge(),e.equal(e.value,t)||(e.value=t,function _t(e){var t;e.version++,function et(){ve++}(),Ke(e),null===(t=me)||void 0===t||t()}(e))}const st={...Re,equal:d,value:void 0};var On,ke,kn=V(4412),Gn=V(1413),qt=V(8359),jt=V(6354);const kt="https://g.co/ng/security#xss";class xt extends Error{constructor(t,r){super(Qn(t,r)),this.code=t}}function Qn(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function zn(e){return{toString:e}.toString()}const dr="__parameters__";function Un(e,t,r){return zn(()=>{const s=function Cr(e){return function(...r){if(e){const s=e(...r);for(const l in s)this[l]=s[l]}}}(t);function l(...h){if(this instanceof l)return s.apply(this,h),this;const g=new l(...h);return I.annotation=g,I;function I(S,z,ee){const ue=S.hasOwnProperty(dr)?S[dr]:Object.defineProperty(S,dr,{value:[]})[dr];for(;ue.length<=ee;)ue.push(null);return(ue[ee]=ue[ee]||[]).push(g),S}}return r&&(l.prototype=Object.create(r.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l})}const Dn=globalThis;function fr(e){for(let t in e)if(e[t]===fr)return t;throw Error("Could not find renamed property on target object.")}function _r(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function _n(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_n).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Gt(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Kt=fr({__forward_ref__:fr});function bt(e){return e.__forward_ref__=bt,e.toString=function(){return _n(this())},e}function Ue(e){return at(e)?e():e}function at(e){return"function"==typeof e&&e.hasOwnProperty(Kt)&&e.__forward_ref__===bt}function Pr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function be(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ct(e){return le(e,dn)||le(e,Hn)}function de(e){return null!==Ct(e)}function le(e,t){return e.hasOwnProperty(t)?e[t]:null}function zt(e){return e&&(e.hasOwnProperty(Rn)||e.hasOwnProperty(Ar))?e[Rn]:null}const dn=fr({\u0275prov:fr}),Rn=fr({\u0275inj:fr}),Hn=fr({ngInjectableDef:fr}),Ar=fr({ngInjectorDef:fr});class tr{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=Pr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xo(e){return e&&!!e.\u0275providers}const qi=fr({\u0275cmp:fr}),Bo=fr({\u0275dir:fr}),ts=fr({\u0275pipe:fr}),qo=fr({\u0275mod:fr}),uo=fr({\u0275fac:fr}),Kr=fr({__NG_ELEMENT_ID__:fr}),fs=fr({__NG_ENV_ID__:fr});function Fn(e){return"string"==typeof e?e:null==e?"":String(e)}function Mo(e,t){throw new xt(-201,!1)}var Mr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Mr||{});let Xs;function pi(){return Xs}function _i(e){const t=Xs;return Xs=e,t}function Ri(e,t,r){const s=Ct(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Mr.Optional?null:void 0!==t?t:void Mo()}const so={},ti="__NG_DI_FLAG__",ns="ngTempTokenPath",bi=/\n/gm,E="__source";let O;function G(e){const t=O;return O=e,t}function se(e,t=Mr.Default){if(void 0===O)throw new xt(-203,!1);return null===O?Ri(e,void 0,t):O.get(e,t&Mr.Optional?null:void 0,t)}function nt(e,t=Mr.Default){return(pi()||se)(Ue(e),t)}function Et(e,t=Mr.Default){return nt(e,Ht(t))}function Ht(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function an(e){const t=[];for(let r=0;r<e.length;r++){const s=Ue(e[r]);if(Array.isArray(s)){if(0===s.length)throw new xt(900,!1);let l,h=Mr.Default;for(let g=0;g<s.length;g++){const I=s[g],S=Bn(I);"number"==typeof S?-1===S?l=I.token:h|=S:l=I}t.push(nt(l,h))}else t.push(nt(s))}return t}function wn(e,t){return e[ti]=t,e.prototype[ti]=t,e}function Bn(e){return e[ti]}const vi=wn(Un("Optional"),8),ui=wn(Un("SkipSelf"),4);function ao(e,t){return e.hasOwnProperty(uo)?e[uo]:null}function fo(e,t){e.forEach(r=>Array.isArray(r)?fo(r,t):t(r))}function rs(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function bs(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ni(e,t,r){let s=Ns(e,t);return s>=0?e[1|s]=r:(s=~s,function po(e,t,r,s){let l=e.length;if(l==t)e.push(r,s);else if(1===l)e.push(s,e[0]),e[0]=r;else{for(l--,e.push(e[l-1],e[l]);l>t;)e[l]=e[l-2],l--;e[t]=r,e[t+1]=s}}(e,s,t,r)),s}function ta(e,t){const r=Ns(e,t);if(r>=0)return e[1|r]}function Ns(e,t){return function Cs(e,t,r){let s=0,l=e.length>>r;for(;l!==s;){const h=s+(l-s>>1),g=e[h<<r];if(t===g)return h<<r;g>t?l=h:s=h+1}return~(l<<r)}(e,t,1)}const xr={},zr=[],fe=new tr(""),Xe=new tr("",-1),Ut=new tr("");class gn{get(t,r=so){if(r===so){const s=new Error(`NullInjectorError: No provider for ${_n(t)}!`);throw s.name="NullInjectorError",s}return r}}var jn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(jn||{}),yn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yn||{}),Wn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Wn||{});function Vi(e,t,r){let s=e.length;for(;;){const l=e.indexOf(t,r);if(-1===l)return l;if(0===l||e.charCodeAt(l-1)<=32){const h=t.length;if(l+h===s||e.charCodeAt(l+h)<=32)return l}r=l+1}}function Qi(e,t,r){let s=0;for(;s<r.length;){const l=r[s];if("number"==typeof l){if(0!==l)break;s++;const h=r[s++],g=r[s++],I=r[s++];e.setAttribute(t,g,I,h)}else{const h=l,g=r[++s];os(h)?e.setProperty(t,h,g):e.setAttribute(t,h,g),s++}}return s}function Ji(e){return 3===e||4===e||6===e}function os(e){return 64===e.charCodeAt(0)}function oi(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let s=0;s<t.length;s++){const l=t[s];"number"==typeof l?r=l:0===r||Oa(e,r,l,null,-1===r||2===r?t[++s]:null)}}return e}function Oa(e,t,r,s,l){let h=0,g=e.length;if(-1===t)g=-1;else for(;h<e.length;){const I=e[h++];if("number"==typeof I){if(I===t){g=-1;break}if(I>t){g=h-1;break}}}for(;h<e.length;){const I=e[h];if("number"==typeof I)break;if(I===r){if(null===s)return void(null!==l&&(e[h+1]=l));if(s===e[h+1])return void(e[h+2]=l)}h++,null!==s&&h++,null!==l&&h++}-1!==g&&(e.splice(g,0,t),h=g+1),e.splice(h++,0,r),null!==s&&e.splice(h++,0,s),null!==l&&e.splice(h++,0,l)}const ka="ng-template";function gi(e,t,r,s){let l=0;if(s){for(;l<t.length&&"string"==typeof t[l];l+=2)if("class"===t[l]&&-1!==Vi(t[l+1].toLowerCase(),r,0))return!0}else if(As(e))return!1;if(l=t.indexOf(1,l),l>-1){let h;for(;++l<t.length&&"string"==typeof(h=t[l]);)if(h.toLowerCase()===r)return!0}return!1}function As(e){return 4===e.type&&e.value!==ka}function Ll(e,t,r){return t===(4!==e.type||r?e.value:ka)}function nc(e,t,r){let s=4;const l=e.attrs,h=null!==l?function L(e){for(let t=0;t<e.length;t++)if(Ji(e[t]))return t;return e.length}(l):0;let g=!1;for(let I=0;I<t.length;I++){const S=t[I];if("number"!=typeof S){if(!g)if(4&s){if(s=2|1&s,""!==S&&!Ll(e,S,r)||""===S&&1===t.length){if(ss(s))return!1;g=!0}}else if(8&s){if(null===l||!gi(e,l,S,r)){if(ss(s))return!1;g=!0}}else{const z=t[++I],ee=Yo(S,l,As(e),r);if(-1===ee){if(ss(s))return!1;g=!0;continue}if(""!==z){let ue;if(ue=ee>h?"":l[ee+1].toLowerCase(),2&s&&z!==ue){if(ss(s))return!1;g=!0}}}}else{if(!g&&!ss(s)&&!ss(S))return!1;if(g&&ss(S))continue;g=!1,s=S|1&s}}return ss(s)||g}function ss(e){return!(1&e)}function Yo(e,t,r,s){if(null===t)return-1;let l=0;if(s||!r){let h=!1;for(;l<t.length;){const g=t[l];if(g===e)return l;if(3===g||6===g)h=!0;else{if(1===g||2===g){let I=t[++l];for(;"string"==typeof I;)I=t[++l];continue}if(4===g)break;if(0===g){l+=4;continue}}l+=h?1:2}return-1}return function ae(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===t)return r;r++}return-1}(t,e)}function Ia(e,t,r=!1){for(let s=0;s<t.length;s++)if(nc(e,t[s],r))return!0;return!1}function K(e,t){e:for(let r=0;r<t.length;r++){const s=t[r];if(e.length===s.length){for(let l=0;l<e.length;l++)if(e[l]!==s[l])continue e;return!0}}return!1}function ye(e,t){return e?":not("+t.trim()+")":t}function fn(e){let t=e[0],r=1,s=2,l="",h=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&s){const I=e[++r];l+="["+g+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?l+="."+g:4&s&&(l+=" "+g);else""!==l&&!ss(g)&&(t+=ye(h,l),l=""),s=g,h=h||!ss(s);r++}return""!==l&&(t+=ye(h,l)),t}function ki(e){return zn(()=>{var t;const r=za(e),s={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===jn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||yn.Emulated,styles:e.styles||zr,_:null,schemas:e.schemas||null,tView:null,id:""};ra(s);const l=e.dependencies;return s.directiveDefs=ms(l,!1),s.pipeDefs=ms(l,!0),s.id=function al(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const l of r)t=Math.imul(31,t)+l.charCodeAt(0)|0;return t+=2147483648,"c"+t}(s),s})}function no(e){return Rr(e)||yi(e)}function bo(e){return null!==e}function na(e){return zn(()=>({type:e.type,bootstrap:e.bootstrap||zr,declarations:e.declarations||zr,imports:e.imports||zr,exports:e.exports||zr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gs(e,t){if(null==e)return xr;const r={};for(const l in e)if(e.hasOwnProperty(l)){const h=e[l];let g,I,S=Wn.None;var s;Array.isArray(h)?(S=h[0],g=h[1],I=null!==(s=h[2])&&void 0!==s?s:g):(g=h,I=h),t?(r[g]=S!==Wn.None?[l,S]:l,t[g]=I):r[g]=l}return r}function Fa(e){return zn(()=>{const t=za(e);return ra(t),t})}function go(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rr(e){return e[qi]||null}function yi(e){return e[Bo]||null}function Gi(e){return e[ts]||null}function Os(e){const t=Rr(e)||yi(e)||Gi(e);return null!==t&&t.standalone}function mo(e,t){const r=e[qo]||null;if(!r&&!0===t)throw new Error(`Type ${_n(e)} does not have '\u0275mod' property.`);return r}function za(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||xr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||zr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gs(e.inputs,t),outputs:gs(e.outputs),debugInfo:null}}function ra(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function ms(e,t){if(!e)return null;const r=t?Gi:no;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(bo)}function La(e){return{\u0275providers:e}}function Tc(...e){return{\u0275providers:_s(0,e),\u0275fromNgModule:!0}}function _s(e,...t){const r=[],s=new Set;let l;const h=g=>{r.push(g)};return fo(t,g=>{const I=g;Wa(I,h,[],s)&&(l||(l=[]),l.push(I))}),void 0!==l&&Oo(l,h),r}function Oo(e,t){for(let r=0;r<e.length;r++){const{ngModule:s,providers:l}=e[r];ll(l,h=>{t(h,s)})}}function Wa(e,t,r,s){if(!(e=Ue(e)))return!1;let l=null,h=zt(e);const g=!h&&Rr(e);if(h||g){if(g&&!g.standalone)return!1;l=e}else{const S=e.ngModule;if(h=zt(S),!h)return!1;l=S}const I=s.has(l);if(g){if(I)return!1;if(s.add(l),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const z of S)Wa(z,t,r,s)}}else{if(!h)return!1;{if(null!=h.imports&&!I){let z;s.add(l);try{fo(h.imports,ee=>{Wa(ee,t,r,s)&&(z||(z=[]),z.push(ee))})}finally{}void 0!==z&&Oo(z,t)}if(!I){const z=ao(l)||(()=>new l);t({provide:l,useFactory:z,deps:zr},l),t({provide:Ut,useValue:l,multi:!0},l),t({provide:fe,useValue:()=>nt(l),multi:!0},l)}const S=h.providers;if(null!=S&&!I){const z=e;ll(S,ee=>{t(ee,z)})}}}return l!==e&&void 0!==e.providers}function ll(e,t){for(let r of e)Xo(r)&&(r=r.\u0275providers),Array.isArray(r)?ll(r,t):t(r)}const ia=fr({provide:String,useValue:fr});function Fs(e){return null!==e&&"object"==typeof e&&ia in e}function Ls(e){return"function"==typeof e}const Vl=new tr(""),Fr={},iu={};let oa;function Va(){return void 0===oa&&(oa=new gn),oa}class jo{}class vs extends jo{get destroyed(){return this._destroyed}constructor(t,r,s,l){super(),this.parent=r,this.source=s,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ds(t,g=>this.processProvider(g)),this.records.set(Xe,ws(void 0,this)),l.has("environment")&&this.records.set(jo,ws(void 0,this));const h=this.records.get(Vl);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Ut,zr,Mr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=Ee(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=G(this),s=_i(void 0);try{return t()}finally{G(r),_i(s)}}get(t,r=so,s=Mr.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(fs))return t[fs](this);s=Ht(s);const h=G(this),g=_i(void 0);try{if(!(s&Mr.SkipSelf)){let S=this.records.get(t);if(void 0===S){const z=function Vs(e){return"function"==typeof e||"object"==typeof e&&e instanceof tr}(t)&&Ct(t);S=z&&this.injectableDefInScope(z)?ws(Ea(t),Fr):null,this.records.set(t,S)}if(null!=S)return this.hydrate(t,S)}return(s&Mr.Self?Va():this.parent).get(t,r=s&Mr.Optional&&r===so?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[ns]=I[ns]||[]).unshift(_n(t)),h)throw I;return function Xn(e,t,r,s){const l=e[ns];throw t[E]&&l.unshift(t[E]),e.message=function ir(e,t,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let l=_n(t);if(Array.isArray(t))l=t.map(_n).join(" -> ");else if("object"==typeof t){let h=[];for(let g in t)if(t.hasOwnProperty(g)){let I=t[g];h.push(g+":"+("string"==typeof I?JSON.stringify(I):_n(I)))}l=`{${h.join(", ")}}`}return`${r}${s?"("+s+")":""}[${l}]: ${e.replace(bi,"\n  ")}`}("\n"+e.message,l,r,s),e.ngTokenPath=l,e[ns]=null,e}(I,t,"R3InjectorError",this.source)}throw I}finally{_i(g),G(h)}}resolveInjectorInitializers(){const t=Ee(null),r=G(this),s=_i(void 0);try{const h=this.get(fe,zr,Mr.Self);for(const g of h)g()}finally{G(r),_i(s),Ee(t)}}toString(){const t=[],r=this.records;for(const s of r.keys())t.push(_n(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xt(205,!1)}processProvider(t){let r=Ls(t=Ue(t))?t:Ue(t&&t.provide);const s=function Ka(e){return Fs(e)?ws(void 0,e.useValue):ws(ul(e),Fr)}(t);if(!Ls(t)&&!0===t.multi){let l=this.records.get(r);l||(l=ws(void 0,Fr,!0),l.factory=()=>an(l.multi),this.records.set(r,l)),r=t,l.multi.push(t)}this.records.set(r,s)}hydrate(t,r){const s=Ee(null);try{return r.value===Fr&&(r.value=iu,r.value=r.factory()),"object"==typeof r.value&&r.value&&function sa(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ee(s)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Ue(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Ea(e){const t=Ct(e),r=null!==t?t.factory:ao(e);if(null!==r)return r;if(e instanceof tr)throw new xt(204,!1);if(e instanceof Function)return function rc(e){if(e.length>0)throw new xt(204,!1);const r=function He(e){return e&&(e[dn]||e[Hn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new xt(204,!1)}function ul(e,t,r){let s;if(Ls(e)){const l=Ue(e);return ao(l)||Ea(l)}if(Fs(e))s=()=>Ue(e.useValue);else if(function cl(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...an(e.deps||[]));else if(function Ts(e){return!(!e||!e.useExisting)}(e))s=()=>nt(Ue(e.useExisting));else{const l=Ue(e&&(e.useClass||e.provide));if(!function ro(e){return!!e.deps}(e))return ao(l)||Ea(l);s=()=>new l(...an(e.deps))}return s}function ws(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Ds(e,t){for(const r of e)Array.isArray(r)?Ds(r,t):r&&Xo(r)?Ds(r.\u0275providers,t):t(r)}function Ua(e,t){e instanceof vs&&e.assertNotDestroyed();const s=G(e),l=_i(void 0);try{return t()}finally{G(s),_i(l)}}function Ul(){return void 0!==pi()||null!=function A(){return O}()}const hi=0,Sn=1,sr=2,Wi=3,wo=4,Hi=5,ko=6,qs=7,Lr=8,br=9,ls=10,Nr=11,aa=12,Us=13,Tl=14,Zi=15,$l=16,Xa=17,Ss=18,la=19,Qs=20,ca=21,io=22,Ys=23,cr=25,wc=1,ba=7,Qa=9,Fo=10;var Bl=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Bl||{});function _o(e){return Array.isArray(e)&&"object"==typeof e[wc]}function oo(e){return Array.isArray(e)&&!0===e[wc]}function Ca(e){return!!(4&e.flags)}function Ya(e){return e.componentOffset>-1}function Yi(e){return!(1&~e.flags)}function Co(e){return!!e.template}function Aa(e){return!!(512&e[sr])}class Ho{constructor(t,r,s){this.previousValue=t,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function Jo(e,t,r,s){null!==t?t.applyValueToInputSignal(t,s):e[r]=s}function dl(){return cs}function cs(e){return e.type.prototype.ngOnChanges&&(e.setInput=wl),Js}function Js(){const e=jl(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===xr)e.previous=t;else for(let s in t)r[s]=t[s];e.current=null,this.ngOnChanges(t)}}function wl(e,t,r,s,l){const h=this.declaredInputs[s],g=jl(e)||function Ta(e,t){return e[oc]=t}(e,{previous:xr,current:null}),I=g.current||(g.current={}),S=g.previous,z=S[h];I[h]=new Ho(z&&z.currentValue,r,S===xr),Jo(e,t,l,r)}dl.ngInherit=!0;const oc="__ngSimpleChanges__";function jl(e){return e[oc]||null}const us=function(e,t,r){};function Ci(e){for(;Array.isArray(e);)e=e[hi];return e}function ac(e,t){return Ci(t[e])}function Rs(e,t){return Ci(t[e.index])}function Gl(e,t){return e.data[t]}function Dl(e,t){return e[t]}function Ps(e,t){const r=t[e];return _o(r)?r:r[hi]}function ad(e){return!(128&~e[sr])}function wa(e,t){return null==t?null:e[t]}function Pc(e){e[Xa]=0}function au(e){1024&e[sr]||(e[sr]|=1024,ad(e)&&Za(e))}function Sl(e){var t;return!!(9216&e[sr]||null!==(t=e[Ys])&&void 0!==t&&t.dirty)}function Wl(e){var t;null===(t=e[ls].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[sr]&&(e[sr]|=1024),Sl(e)&&Za(e)}function Za(e){var t;null===(t=e[ls].changeDetectionScheduler)||void 0===t||t.notify(0);let r=Da(e);for(;null!==r&&!(8192&r[sr])&&(r[sr]|=8192,ad(r));)r=Da(r)}function ua(e,t){if(!(256&~e[sr]))throw new xt(911,!1);null===e[ca]&&(e[ca]=[]),e[ca].push(t)}function Da(e){const t=e[Wi];return oo(t)?t[Wi]:t}const Br={lFrame:Xh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let xc=!1;function Oc(){return Br.bindingsEnabled}function pl(){return null!==Br.skipHydrationRootTNode}function ln(){return Br.lFrame.lView}function Wr(){return Br.lFrame.tView}function kc(e){return Br.lFrame.contextLView=e,e[Lr]}function cu(e){return Br.lFrame.contextLView=null,e}function Zr(){let e=uu();for(;null!==e&&64===e.type;)e=e.parent;return e}function uu(){return Br.lFrame.currentTNode}function Bs(e,t){const r=Br.lFrame;r.currentTNode=e,r.isParent=t}function du(){return Br.lFrame.isParent}function Ba(){Br.lFrame.isParent=!1}function _l(){return xc}function dd(e){xc=e}function Lo(){const e=Br.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ja(){return Br.lFrame.bindingIndex}function js(){return Br.lFrame.bindingIndex++}function vl(e){const t=Br.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Lc(e,t){const r=Br.lFrame;r.bindingIndex=r.bindingRootIndex=e,fd(t)}function fd(e){Br.lFrame.currentDirectiveIndex=e}function pd(){return Br.lFrame.currentQueryIndex}function Kl(e){Br.lFrame.currentQueryIndex=e}function Xl(e){const t=e[Sn];return 2===t.type?t.declTNode:1===t.type?e[Hi]:null}function Vc(e,t,r){if(r&Mr.SkipSelf){let l=t,h=e;for(;!(l=l.parent,null!==l||r&Mr.Host||(l=Xl(h),null===l||(h=h[Tl],10&l.type))););if(null===l)return!1;t=l,e=h}const s=Br.lFrame=qd();return s.currentTNode=t,s.lView=e,!0}function hu(e){const t=qd(),r=e[Sn];Br.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function qd(){const e=Br.lFrame,t=null===e?null:e.child;return null===t?Xh(e):t}function Xh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function gd(){const e=Br.lFrame;return Br.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Qd=gd;function Yd(){const e=gd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ds(){return Br.lFrame.selectedIndex}function Do(e){Br.lFrame.selectedIndex=e}function eo(){const e=Br.lFrame;return Gl(e.tView,e.selectedIndex)}let Pl=!0;function el(){return Pl}function tl(e){Pl=e}function Ml(e,t){for(let z=t.directiveStart,ee=t.directiveEnd;z<ee;z++){const We=e.data[z].type.prototype,{ngAfterContentInit:lt,ngAfterContentChecked:tt,ngAfterViewInit:sn,ngAfterViewChecked:In,ngOnDestroy:Ln}=We;var r,s,l,h,g,I,S;lt&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-z,lt),tt&&((null!==(s=e.contentHooks)&&void 0!==s?s:e.contentHooks=[]).push(z,tt),(null!==(l=e.contentCheckHooks)&&void 0!==l?l:e.contentCheckHooks=[]).push(z,tt)),sn&&(null!==(h=e.viewHooks)&&void 0!==h?h:e.viewHooks=[]).push(-z,sn),In&&((null!==(g=e.viewHooks)&&void 0!==g?g:e.viewHooks=[]).push(z,In),(null!==(I=e.viewCheckHooks)&&void 0!==I?I:e.viewCheckHooks=[]).push(z,In)),null!=Ln&&(null!==(S=e.destroyHooks)&&void 0!==S?S:e.destroyHooks=[]).push(z,Ln)}}function hc(e,t,r){fu(e,t,3,r)}function Ha(e,t,r,s){(3&e[sr])===r&&fu(e,t,r,s)}function fc(e,t){let r=e[sr];(3&r)===t&&(r&=16383,r+=1,e[sr]=r)}function fu(e,t,r,s){const h=null!=s?s:-1,g=t.length-1;let I=0;for(let S=void 0!==s?65535&e[Xa]:0;S<g;S++)if("number"==typeof t[S+1]){if(I=t[S],null!=s&&I>=s)break}else t[S]<0&&(e[Xa]+=65536),(I<h||-1==h)&&(Qf(e,r,t,S),e[Xa]=(4294901760&e[Xa])+S+2),S++}function _d(e,t){us(4,e,t);const r=Ee(null);try{t.call(e)}finally{Ee(r),us(5,e,t)}}function Qf(e,t,r,s){const l=r[s]<0,h=r[s+1],I=e[l?-r[s]:r[s]];l?e[sr]>>14<e[Xa]>>16&&(3&e[sr])===t&&(e[sr]+=16384,_d(I,h)):_d(I,h)}const pc=-1;class pu{constructor(t,r,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}const P={};class ne{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,s){s=Ht(s);const l=this.injector.get(t,P,s);return l!==P||r===P?l:this.parentInjector.get(t,r,s)}}function Ie(e){return e!==pc}function St(e){return 32767&e}function bn(e,t){let r=function en(e){return e>>16}(e),s=t;for(;r>0;)s=s[Tl],r--;return s}let Er=!0;function fi(e){const t=Er;return Er=e,t}const nl=255,$c=5;let th=0;const ha={};function xl(e,t){const r=_u(e,t);if(-1!==r)return r;const s=t[Sn];s.firstCreatePass&&(e.injectorIndex=t.length,ql(s.data,e),ql(t,null),ql(s.blueprint,null));const l=gc(e,t),h=e.injectorIndex;if(Ie(l)){const g=St(l),I=bn(l,t),S=I[Sn].data;for(let z=0;z<8;z++)t[h+z]=I[g+z]|S[g+z]}return t[h+8]=l,h}function ql(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _u(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function gc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,l=t;for(;null!==l;){if(s=Fg(l),null===s)return pc;if(r++,l=l[Tl],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return pc}function mc(e,t,r){!function mu(e,t,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(Kr)&&(s=r[Kr]),null==s&&(s=r[Kr]=th++);const l=s&nl;t.data[e+(l>>$c)]|=1<<l}(e,t,r)}function Jh(e,t,r){if(r&Mr.Optional||void 0!==e)return e;Mo()}function vu(e,t,r,s){if(r&Mr.Optional&&void 0===s&&(s=null),!(r&(Mr.Self|Mr.Host))){const l=e[br],h=_i(void 0);try{return l?l.get(t,s,r&Mr.Optional):Ri(t,s,r&Mr.Optional)}finally{_i(h)}}return Jh(s,0,r)}function yu(e,t,r,s=Mr.Default,l){if(null!==e){if(2048&t[sr]&&!(s&Mr.Self)){const g=function G_(e,t,r,s,l){let h=e,g=t;for(;null!==h&&null!==g&&2048&g[sr]&&!(512&g[sr]);){const I=Zh(h,g,r,s|Mr.Self,ha);if(I!==ha)return I;let S=h.parent;if(!S){const z=g[Qs];if(z){const ee=z.get(r,ha,s);if(ee!==ha)return ee}S=Fg(g),g=g[Tl]}h=S}return l}(e,t,r,s,ha);if(g!==ha)return g}const h=Zh(e,t,r,s,ha);if(h!==ha)return h}return vu(t,r,s,l)}function Zh(e,t,r,s,l){const h=function j_(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Kr)?e[Kr]:void 0;return"number"==typeof t?t>=0?t&nl:H_:t}(r);if("function"==typeof h){if(!Vc(t,e,s))return s&Mr.Host?Jh(l,0,s):vu(t,r,s,l);try{let g;if(g=h(s),null!=g||s&Mr.Optional)return g;Mo()}finally{Qd()}}else if("number"==typeof h){let g=null,I=_u(e,t),S=pc,z=s&Mr.Host?t[Zi][Hi]:null;for((-1===I||s&Mr.SkipSelf)&&(S=-1===I?gc(e,t):t[I+8],S!==pc&&rh(s,!1)?(g=t[Sn],I=St(S),t=bn(S,t)):I=-1);-1!==I;){const ee=t[Sn];if(Jf(h,I,ee.data)){const ue=B_(I,t,r,g,s,z);if(ue!==ha)return ue}S=t[I+8],S!==pc&&rh(s,t[Sn].data[I+8]===z)&&Jf(h,I,t)?(g=ee,I=St(S),t=bn(S,t)):I=-1}}return l}function B_(e,t,r,s,l,h){const g=t[Sn],I=g.data[e+8],ee=ef(I,g,r,null==s?Ya(I)&&Er:s!=g&&!!(3&I.type),l&Mr.Host&&h===I);return null!==ee?Zo(t,g,ee,I):ha}function ef(e,t,r,s,l){const h=e.providerIndexes,g=t.data,I=1048575&h,S=e.directiveStart,ee=h>>20,We=l?I+ee:e.directiveEnd;for(let lt=s?I:I+ee;lt<We;lt++){const tt=g[lt];if(lt<S&&r===tt||lt>=S&&tt.type===r)return lt}if(l){const lt=g[S];if(lt&&Co(lt)&&lt.type===r)return S}return null}function Zo(e,t,r,s){let l=e[r];const h=t.data;if(function Qh(e){return e instanceof pu}(l)){const g=l;g.resolving&&function ho(e,t){throw t&&t.join(" > "),new xt(-200,e)}(function $r(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Fn(e)}(h[r]));const I=fi(g.canSeeViewProviders);g.resolving=!0;const z=g.injectImpl?_i(g.injectImpl):null;Vc(e,s,Mr.Default);try{l=e[r]=g.factory(void 0,h,e,s),t.firstCreatePass&&r>=s.directiveStart&&function qh(e,t,r){const{ngOnChanges:s,ngOnInit:l,ngDoCheck:h}=t.type.prototype;if(s){var g,I;const ue=cs(t);(null!==(g=r.preOrderHooks)&&void 0!==g?g:r.preOrderHooks=[]).push(e,ue),(null!==(I=r.preOrderCheckHooks)&&void 0!==I?I:r.preOrderCheckHooks=[]).push(e,ue)}var S,z,ee;l&&(null!==(S=r.preOrderHooks)&&void 0!==S?S:r.preOrderHooks=[]).push(0-e,l),h&&((null!==(z=r.preOrderHooks)&&void 0!==z?z:r.preOrderHooks=[]).push(e,h),(null!==(ee=r.preOrderCheckHooks)&&void 0!==ee?ee:r.preOrderCheckHooks=[]).push(e,h))}(r,h[r],t)}finally{null!==z&&_i(z),fi(I),g.resolving=!1,Qd()}}return l}function Jf(e,t,r){return!!(r[t+(e>>$c)]&1<<e)}function rh(e,t){return!(e&Mr.Self||e&Mr.Host&&t)}class ys{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,s){return yu(this._tNode,this._lView,t,Ht(s),r)}}function H_(){return new ys(Zr(),ln())}function kg(e){return zn(()=>{const t=e.prototype.constructor,r=t[uo]||Zf(t),s=Object.prototype;let l=Object.getPrototypeOf(e.prototype).constructor;for(;l&&l!==s;){const h=l[uo]||Zf(l);if(h&&h!==r)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Zf(e){return at(e)?()=>{const t=Zf(Ue(e));return t&&t()}:ao(e)}function Fg(e){const t=e[Sn],r=t.type;return 2===r?t.declTNode:1===r?e[Hi]:null}function jc(e){return function nh(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const s=r.length;let l=0;for(;l<s;){const h=r[l];if(Ji(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<s&&"string"==typeof r[l];)l++;else{if(h===t)return r[l+1];l+=2}}}return null}(Zr(),e)}function on(e,t=null,r=null,s){const l=lr(e,t,r,s);return l.resolveInjectorInitializers(),l}function lr(e,t=null,r=null,s,l=new Set){const h=[r||zr,Tc(e)];return s=s||("object"==typeof e?void 0:_n(e)),new vs(h,t||Va(),s||null,l)}class Dr{static create(t,r){if(Array.isArray(t))return on({name:""},r,t,"");{var s;const l=null!==(s=t.name)&&void 0!==s?s:"";return on({name:l},t.parent,t.providers,l)}}}(On=Dr).THROW_IF_NOT_FOUND=so,On.NULL=new gn,On.\u0275prov=Pr({token:On,providedIn:"any",factory:()=>nt(Xe)}),On.__NG_ELEMENT_ID__=-1,new tr("").__NG_ELEMENT_ID__=e=>{const t=Zr();if(null===t)throw new xt(204,!1);if(2&t.type)return t.value;if(e&Mr.Optional)return null;throw new xt(204,!1)};function Vr(e){return e.ngOriginalError}const So=!0;let xi=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=Hs,e.__NG_ENV_ID__=r=>r,t})();class Ti extends xi{constructor(t){super(),this._lView=t}onDestroy(t){return ua(this._lView,t),()=>function lc(e,t){if(null===e[ca])return;const r=e[ca].indexOf(t);-1!==r&&e[ca].splice(r,1)}(this._lView,t)}}function Hs(){return new Ti(ln())}let es=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new kn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>new e}),t})();const fa=class yl extends Gn.B{constructor(t=!1){var r,s;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Ul()&&(this.destroyRef=null!==(r=Et(xi,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(s=Et(es,{optional:!0}))&&void 0!==s?s:void 0)}emit(t){const r=Ee(null);try{super.next(t)}finally{Ee(r)}}subscribe(t,r,s){let l=t,h=r||(()=>null),g=s;if(t&&"object"==typeof t){var I,S,z;const ue=t;l=null===(I=ue.next)||void 0===I?void 0:I.bind(ue),h=null===(S=ue.error)||void 0===S?void 0:S.bind(ue),g=null===(z=ue.complete)||void 0===z?void 0:z.bind(ue)}this.__isAsync&&(h=this.wrapInTimeout(h),l&&(l=this.wrapInTimeout(l)),g&&(g=this.wrapInTimeout(g)));const ee=super.subscribe({next:l,error:h,complete:g});return t instanceof qt.yU&&t.add(ee),ee}wrapInTimeout(t){return r=>{var s;const l=null===(s=this.pendingTasks)||void 0===s?void 0:s.add();setTimeout(()=>{var h;t(r),void 0!==l&&(null===(h=this.pendingTasks)||void 0===h||h.remove(l))})}}};function Eu(...e){}function vc(e){let t,r;function s(){e=Eu;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),s()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),s()})),()=>s()}function bu(e){return queueMicrotask(()=>e()),()=>{e=Eu}}const zc="isAngularZone",Cu=zc+"_ID";let Lg=0;class Vo{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fa(!1),this.onMicrotaskEmpty=new fa(!1),this.onStable=new fa(!1),this.onError=new fa(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1,scheduleInRootZone:h=So}=t;if(typeof Zone>"u")throw new xt(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!l&&s,g.shouldCoalesceRunChangeDetection=l,g.callbackScheduled=!1,g.scheduleInRootZone=h,function Ug(e){const t=()=>{!function Tu(e){function t(){vc(()=>{e.callbackScheduled=!1,wu(e),e.isCheckStableRunning=!0,Au(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),wu(e))}(e)},r=Lg++;e._inner=e._inner.fork({name:"angular",properties:{[zc]:!0,[Cu]:r,[Cu+r]:!0},onInvokeTask:(s,l,h,g,I,S)=>{if(function E0(e){return Bg(e,"__ignore_ng_zone__")}(S))return s.invokeTask(h,g,I,S);try{return yd(e),s.invokeTask(h,g,I,S)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&t(),$g(e)}},onInvoke:(s,l,h,g,I,S,z)=>{try{return yd(e),s.invoke(h,g,I,S,z)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function b0(e){return Bg(e,"__scheduler_tick__")}(S)&&t(),$g(e)}},onHasTask:(s,l,h,g)=>{s.hasTask(h,g),l===h&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,wu(e),Au(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,l,h,g)=>(s.handleError(h,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(zc)}static assertInAngularZone(){if(!Vo.isInAngularZone())throw new xt(909,!1)}static assertNotInAngularZone(){if(Vo.isInAngularZone())throw new xt(909,!1)}run(t,r,s){return this._inner.run(t,r,s)}runTask(t,r,s,l){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+l,t,Vg,Eu,Eu);try{return h.runTask(g,r,s)}finally{h.cancelTask(g)}}runGuarded(t,r,s){return this._inner.runGuarded(t,r,s)}runOutsideAngular(t){return this._outer.run(t)}}const Vg={};function Au(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function yd(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $g(e){e._nesting--,Au(e)}class Du{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fa,this.onMicrotaskEmpty=new fa,this.onStable=new fa,this.onError=new fa}run(t,r,s){return t.apply(r,s)}runGuarded(t,r,s){return t.apply(r,s)}runOutsideAngular(t){return t()}runTask(t,r,s,l){return t.apply(r,s)}}function Bg(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class Yl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Vr(t);for(;r&&Vr(r);)r=Vr(r);return r||null}}const Hg=new tr("",{providedIn:"root",factory:()=>{const e=Et(Vo),t=Et(Yl);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Gg(){return oh(Zr(),ln())}function oh(e,t){return new sh(Rs(e,t))}let sh=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Gg,t})();function X_(e){return e instanceof sh?e.nativeElement:e}function q_(){return this._results[Symbol.iterator]()}class np{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new fa}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=np.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=q_)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const s=function ji(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Eo(e,t,r){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let l=e[s],h=t[s];if(r&&(l=r(l),h=r(h)),h!==l)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function tf(e){return!(128&~e.flags)}const Wg=new Map;let Kg=0;function rf(e){Wg.delete(e[la])}const sp="__ngContext__";function Zs(e,t){_o(t)?(e[sp]=t[la],function Xg(e){Wg.set(e[la],e)}(t)):e[sp]=t}function dp(e){return hp(e[aa])}function nv(e){return hp(e[wo])}function hp(e){for(;null!==e&&!oo(e);)e=e[wo];return e}let tm;function nm(e){tm=e}const ch=new tr("",{providedIn:"root",factory:()=>gp}),gp="ng",mp=new tr(""),_p=new tr("",{providedIn:"platform",factory:()=>"unknown"}),rm=new tr("",{providedIn:"root",factory:()=>{var e;return(null===(e=function Su(){if(void 0!==tm)return tm;if(typeof document<"u")return document;throw new xt(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let yp=()=>null;function am(e,t,r=!1){return yp(e,t,r)}const ea=new tr("",{providedIn:"root",factory:()=>!1});let Ep;function U0(e){var t;return(null===(t=function mm(){if(void 0===Ep&&(Ep=null,Dn.trustedTypes))try{Ep=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ep}())||void 0===t?void 0:t.createScriptURL(e))||e}class Go{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kt})`}}function Ou(e){return e instanceof Go?e.changingThisBreaksApplicationSecurity:e}function ff(e,t){const r=function j0(e){return e instanceof Go&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${kt})`)}return r===t}const wd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ic=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ic||{});function Dp(e){const t=Rd();return t?t.sanitize(Ic.URL,e)||"":ff(e,"URL")?Ou(e):function mh(e){return(e=String(e)).match(wd)?e:"unsafe:"+e}(Fn(e))}function Sp(e){const t=Rd();if(t)return U0(t.sanitize(Ic.RESOURCE_URL,e)||"");if(ff(e,"ResourceURL"))return U0(Ou(e));throw new xt(904,!1)}function Sd(e,t,r){return function z0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Sp:Dp}(t,r)(e)}function Rd(){const e=ln();return e&&e[ls].sanitizer}const W0=/^>|^->|<!--|-->|--!>|<!-$/g,Rp=/(<|>)/g,K0="\u200b$1\u200b";function Il(e){return e instanceof Function?e():e}var kp=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(kp||{});let Fp;function Mm(e,t){return Fp(e,t)}function Uu(e,t,r,s,l){if(null!=s){let h,g=!1;oo(s)?h=s:_o(s)&&(g=!0,s=s[hi]);const I=Ci(s);0===e&&null!==r?null==l?Fv(t,r,I):Md(t,r,I,l||null,!0):1===e&&null!==r?Md(t,r,I,l||null,!0):2===e?function $p(e,t,r){e.removeChild(null,t,r)}(t,I,g):3===e&&t.destroyNode(I),null!=h&&function Vm(e,t,r,s,l){const h=r[ba];h!==Ci(r)&&Uu(t,e,s,h,l);for(let I=Fo;I<r.length;I++){const S=r[I];Lm(S[Sn],S,e,t,s,h)}}(t,e,h,r,l)}}function xm(e,t){return e.createComment(function Dv(e){return e.replace(W0,t=>t.replace(Rp,K0))}(t))}function Lp(e,t,r){return e.createElement(t,r)}function oI(e,t){var r;null===(r=t[ls].changeDetectionScheduler)||void 0===r||r.notify(9),Lm(e,t,t[Nr],2,null,null)}function sI(e,t){const r=e[Qa],s=t[Wi];(_o(s)||t[Zi]!==s[Wi][Zi])&&(e[sr]|=Bl.HasTransplantedViews),null===r?e[Qa]=[t]:r.push(t)}function Nm(e,t){const r=e[Qa],s=r.indexOf(t);r.splice(s,1)}function vf(e,t){if(e.length<=Fo)return;const r=Fo+t,s=e[r];if(s){const l=s[$l];null!==l&&l!==e&&Nm(l,s),t>0&&(e[r-1][wo]=s[wo]);const h=bs(e,Fo+t);!function rI(e,t){oI(e,t),t[hi]=null,t[Hi]=null}(s[Sn],s);const g=h[Ss];null!==g&&g.detachView(h[Sn]),s[Wi]=null,s[wo]=null,s[sr]&=-129}return s}function Vp(e,t){if(!(256&t[sr])){const r=t[Nr];r.destroyNode&&Lm(e,t,r,3,null,null),function vb(e){let t=e[aa];if(!t)return Nv(e[Sn],e);for(;t;){let r=null;if(_o(t))r=t[aa];else{const s=t[Fo];s&&(r=s)}if(!r){for(;t&&!t[wo]&&t!==e;)_o(t)&&Nv(t[Sn],t),t=t[Wi];null===t&&(t=e),_o(t)&&Nv(t[Sn],t),r=t&&t[wo]}t=r}}(t)}}function Nv(e,t){if(256&t[sr])return;const r=Ee(null);try{t[sr]&=-129,t[sr]|=256,t[Ys]&&At(t[Ys]),function Ov(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const l=t[r[s]];if(!(l instanceof pu)){const h=r[s+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const I=l[h[g]],S=h[g+1];us(4,I,S);try{S.call(I)}finally{us(5,I,S)}}else{us(4,l,h);try{h.call(l)}finally{us(5,l,h)}}}}}(e,t),function aI(e,t){const r=e.cleanup,s=t[qs];if(null!==r)for(let h=0;h<r.length-1;h+=2)if("string"==typeof r[h]){const g=r[h+3];g>=0?s[g]():s[-g].unsubscribe(),h+=2}else r[h].call(s[r[h+1]]);null!==s&&(t[qs]=null);const l=t[ca];if(null!==l){t[ca]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(e,t),1===t[Sn].type&&t[Nr].destroy();const s=t[$l];if(null!==s&&oo(t[Wi])){s!==t[Wi]&&Nm(s,t);const l=t[Ss];null!==l&&l.detachView(e)}rf(t)}finally{Ee(r)}}function bc(e,t,r){return function kv(e,t,r){let s=t;for(;null!==s&&168&s.type;)s=(t=s).parent;if(null===s)return r[hi];{const{componentOffset:l}=s;if(l>-1){const{encapsulation:h}=e.data[s.directiveStart+l];if(h===yn.None||h===yn.Emulated)return null}return Rs(s,r)}}(e,t.parent,r)}function Md(e,t,r,s,l){e.insertBefore(t,r,s,l)}function Fv(e,t,r){e.appendChild(t,r)}function Lv(e,t,r,s,l){null!==s?Md(e,t,r,s,l):Fv(e,t,r)}function Om(e,t){return e.parentNode(t)}function Vv(e,t,r){return uI(e,t,r)}let Uv,uI=function cI(e,t,r){return 40&e.type?Rs(e,r):null};function Up(e,t,r,s){const l=bc(e,s,t),h=t[Nr],I=Vv(s.parent||t[Hi],s,t);if(null!=l)if(Array.isArray(r))for(let S=0;S<r.length;S++)Lv(h,l,r[S],I,!1);else Lv(h,l,r,I,!1);void 0!==Uv&&Uv(h,s,t,r,l)}function bh(e,t){if(null!==t){const r=t.type;if(3&r)return Rs(t,e);if(4&r)return $v(-1,e[t.index]);if(8&r){const s=t.child;if(null!==s)return bh(e,s);{const l=e[t.index];return oo(l)?$v(-1,l):Ci(l)}}if(128&r)return bh(e,t.next);if(32&r)return Mm(t,e)()||Ci(e[t.index]);{const s=dI(e,t);return null!==s?Array.isArray(s)?s[0]:bh(Da(e[Zi]),s):bh(e,t.next)}}return null}function dI(e,t){return null!==t?e[Zi][Hi].projection[t.projection]:null}function $v(e,t){const r=Fo+e+1;if(r<t.length){const s=t[r],l=s[Sn].firstChild;if(null!==l)return bh(s,l)}return t[ba]}function Bp(e,t,r,s,l,h,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=s[r.index],S=r.type;if(g&&0===t&&(I&&Zs(Ci(I),s),r.flags|=2),32&~r.flags)if(8&S)Bp(e,t,r.child,s,l,h,!1),Uu(t,e,l,I,h);else if(32&S){const z=Mm(r,s);let ee;for(;ee=z();)Uu(t,e,l,ee,h);Uu(t,e,l,I,h)}else 16&S?hI(e,t,s,r,l,h):Uu(t,e,l,I,h);r=g?r.projectionNext:r.next}}function Lm(e,t,r,s,l,h){Bp(r,s,e.firstChild,t,l,h,!1)}function hI(e,t,r,s,l,h){const g=r[Zi],S=g[Hi].projection[s.projection];if(Array.isArray(S))for(let z=0;z<S.length;z++)Uu(t,e,l,S[z],h);else{let z=S;const ee=g[Wi];tf(s)&&(z.flags|=128),Bp(e,t,z,ee,l,h,!0)}}function Bv(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Hp(e,t,r){const{mergedAttrs:s,classes:l,styles:h}=r;null!==s&&Qi(e,t,s),null!==l&&Bv(e,t,l),null!==h&&function fI(e,t,r){e.setAttribute(t,"style",r)}(e,t,h)}const ci={};function Um(e=1){Ch(Wr(),ln(),ds()+e,!1)}function Ch(e,t,r,s){if(!s)if(3&~t[sr]){const h=e.preOrderHooks;null!==h&&Ha(t,h,0,r)}else{const h=e.preOrderCheckHooks;null!==h&&hc(t,h,r)}Do(r)}function $u(e,t=Mr.Default){const r=ln();return null===r?nt(e,t):yu(Zr(),r,Ue(e),t)}function jv(){throw new Error("invalid")}function Hv(e,t,r,s,l,h){const g=Ee(null);try{let I=null;l&Wn.SignalBased&&(I=t[s][W]),null!==I&&void 0!==I.transformFn&&(h=I.transformFn(h)),l&Wn.HasDecoratorInputTransform&&(h=e.inputTransforms[s].call(t,h)),null!==e.setInput?e.setInput(t,I,h,r,s):Jo(t,I,s,h)}finally{Ee(g)}}function xd(e,t,r,s,l,h,g,I,S,z,ee){const ue=t.blueprint.slice();return ue[hi]=l,ue[sr]=204|s,(null!==z||e&&2048&e[sr])&&(ue[sr]|=2048),Pc(ue),ue[Wi]=ue[Tl]=e,ue[Lr]=r,ue[ls]=g||e&&e[ls],ue[Nr]=I||e&&e[Nr],ue[br]=S||e&&e[br]||null,ue[Hi]=h,ue[la]=function J_(){return Kg++}(),ue[ko]=ee,ue[Qs]=z,ue[Zi]=2==t.type?e[Zi]:ue,ue}function Nd(e,t,r,s,l){let h=e.data[t];if(null===h)h=function Gp(e,t,r,s,l){const h=uu(),g=du(),S=e.data[t]=function Fd(e,t,r,s,l,h){let g=t?t.injectorIndex:-1,I=0;return pl()&&(I|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,r,t,s,l);return null===e.firstChild&&(e.firstChild=S),null!==h&&(g?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S,S.prev=h)),S}(e,t,r,s,l),function Rl(){return Br.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=r,h.value=s,h.attrs=l;const g=function gl(){const e=Br.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return Bs(h,!0),h}function Ah(e,t,r,s){if(0===r)return-1;const l=t.length;for(let h=0;h<r;h++)t.push(s),e.blueprint.push(s),e.data.push(null);return l}function Bu(e,t,r,s,l){const h=ds(),g=2&s;try{Do(-1),g&&t.length>cr&&Ch(e,t,cr,!1),us(g?2:0,l),r(s,l)}finally{Do(h),us(g?3:1,l)}}function rl(e,t,r){if(Ca(t)){const s=Ee(null);try{const h=t.directiveEnd;for(let g=t.directiveStart;g<h;g++){const I=e.data[g];I.contentQueries&&I.contentQueries(1,r[g],g)}}finally{Ee(s)}}}function pa(e,t,r){Oc()&&(function jm(e,t,r,s){const l=r.directiveStart,h=r.directiveEnd;Ya(r)&&function ty(e,t,r){const s=Rs(t,e),l=$m(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const I=u(e,xd(e,l,null,g,s,t,null,e[ls].rendererFactory.createRenderer(s,r),null,null,null));e[t.index]=I}(t,r,e.data[l+r.componentOffset]),e.firstCreatePass||xl(r,t),Zs(s,t);const g=r.initialInputs;for(let I=l;I<h;I++){const S=e.data[I],z=Zo(t,e,I,r);Zs(z,t),null!==g&&c(0,I-l,z,S,0,g),Co(S)&&(Ps(r.index,t)[Lr]=Zo(t,e,I,r))}}(e,t,r,Rs(r,t)),!(64&~r.flags)&&Qv(e,t,r))}function zp(e,t,r=Rs){const s=t.localNames;if(null!==s){let l=t.index+1;for(let h=0;h<s.length;h+=2){const g=s[h+1],I=-1===g?r(t,e):e[g];e[l++]=I}}}function $m(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Od(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Od(e,t,r,s,l,h,g,I,S,z,ee){const ue=cr+s,We=ue+l,lt=function yf(e,t){const r=[];for(let s=0;s<t;s++)r.push(s<e?null:ci);return r}(ue,We),tt="function"==typeof z?z():z;return lt[Sn]={type:e,blueprint:lt,template:r,queries:null,viewQuery:I,declTNode:t,data:lt.slice().fill(null,ue),bindingStartIndex:ue,expandoStartIndex:We,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:tt,incompleteFirstPass:!1,ssrId:ee}}let Wp=()=>null;function zv(e,t,r,s,l){for(let g in t){var h;if(!t.hasOwnProperty(g))continue;const I=t[g];if(void 0===I)continue;null!==(h=s)&&void 0!==h||(s={});let S,z=Wn.None;Array.isArray(I)?(S=I[0],z=I[1]):S=I;let ee=g;if(null!==l){if(!l.hasOwnProperty(g))continue;ee=l[g]}0===e?Wv(s,r,ee,S,z):Wv(s,r,ee,S)}return s}function Wv(e,t,r,s,l){let h;e.hasOwnProperty(r)?(h=e[r]).push(t,s):h=e[r]=[t,s],void 0!==l&&h.push(l)}function il(e,t,r,s,l,h,g,I){const S=Rs(t,r);let ee,z=t.inputs;!I&&null!=z&&(ee=z[s])?(Ve(e,r,ee,s,l),Ya(t)&&function Kv(e,t){const r=Ps(t,e);16&r[sr]||(r[sr]|=64)}(r,t.index)):3&t.type&&(s=function mI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),l=null!=g?g(l,t.value||"",s):l,h.setProperty(S,s,l))}function Kp(e,t,r,s){if(Oc()){const l=null===s?null:{"":-1},h=function Jv(e,t){const r=e.directiveRegistry;let s=null,l=null;if(r)for(let g=0;g<r.length;g++){const I=r[g];if(Ia(t,I.selectors,!1))if(s||(s=[]),Co(I))if(null!==I.findHostDirectiveDefs){const S=[];l=l||new Map,I.findHostDirectiveDefs(I,S,l),s.unshift(...S,I),Hm(e,t,S.length)}else s.unshift(I),Hm(e,t,0);else{var h;l=l||new Map,null===(h=I.findHostDirectiveDefs)||void 0===h||h.call(I,I,s,l),s.push(I)}}return null===s?null:[s,l]}(e,r);let g,I;null===h?g=I=null:[g,I]=h,null!==g&&If(e,t,r,g,l,I),l&&function Zv(e,t,r){if(t){const s=e.localNames=[];for(let l=0;l<t.length;l+=2){const h=r[t[l+1]];if(null==h)throw new xt(-301,!1);s.push(t[l],h)}}}(r,s,l)}r.mergedAttrs=oi(r.mergedAttrs,r.attrs)}function If(e,t,r,s,l,h){for(let ue=0;ue<s.length;ue++)mc(xl(r,t),e,s[ue].type);!function yI(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,s.length);for(let ue=0;ue<s.length;ue++){const We=s[ue];We.providersResolver&&We.providersResolver(We)}let g=!1,I=!1,S=Ah(e,t,s.length,null);for(let ue=0;ue<s.length;ue++){const We=s[ue];r.mergedAttrs=oi(r.mergedAttrs,We.hostAttrs),II(e,r,t,S,We),ey(S,We,l),null!==We.contentQueries&&(r.flags|=4),(null!==We.hostBindings||null!==We.hostAttrs||0!==We.hostVars)&&(r.flags|=64);const lt=We.type.prototype;var z,ee;!g&&(lt.ngOnChanges||lt.ngOnInit||lt.ngDoCheck)&&((null!==(z=e.preOrderHooks)&&void 0!==z?z:e.preOrderHooks=[]).push(r.index),g=!0),I||!lt.ngOnChanges&&!lt.ngDoCheck||((null!==(ee=e.preOrderCheckHooks)&&void 0!==ee?ee:e.preOrderCheckHooks=[]).push(r.index),I=!0),S++}!function gI(e,t,r){const l=t.directiveEnd,h=e.data,g=t.attrs,I=[];let S=null,z=null;for(let ee=t.directiveStart;ee<l;ee++){const ue=h[ee],We=r?r.get(ue):null,tt=We?We.outputs:null;S=zv(0,ue.inputs,ee,S,We?We.inputs:null),z=zv(1,ue.outputs,ee,z,tt);const sn=null===S||null===g||As(t)?null:n(S,ee,g);I.push(sn)}null!==S&&(S.hasOwnProperty("class")&&(t.flags|=8),S.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=I,t.inputs=S,t.outputs=z}(e,r,h)}function Qv(e,t,r){const s=r.directiveStart,l=r.directiveEnd,h=r.index,g=function Kh(){return Br.lFrame.currentDirectiveIndex}();try{Do(h);for(let I=s;I<l;I++){const S=e.data[I],z=t[I];fd(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Yv(S,z)}}finally{Do(-1),fd(g)}}function Yv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hm(e,t,r){var s;t.componentOffset=r,(null!==(s=e.components)&&void 0!==s?s:e.components=[]).push(t.index)}function ey(e,t,r){if(r){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)r[t.exportAs[s]]=e;Co(t)&&(r[""]=e)}}function II(e,t,r,s,l){e.data[s]=l;const h=l.factory||(l.factory=ao(l.type)),g=new pu(h,Co(l),$u);e.blueprint[s]=g,r[s]=g,function qv(e,t,r,s,l){const h=l.hostBindings;if(h){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const I=~t.index;(function vI(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(g)!=I&&g.push(I),g.push(r,s,h)}}(e,t,s,Ah(e,r,l.hostVars,ci),l)}function Jl(e,t,r,s,l,h){const g=Rs(e,t);!function Gm(e,t,r,s,l,h,g){if(null==h)e.removeAttribute(t,l,r);else{const I=null==g?Fn(h):g(h,s||"",l);e.setAttribute(t,l,I,r)}}(t[Nr],g,h,e.value,r,s,l)}function c(e,t,r,s,l,h){const g=h[t];if(null!==g)for(let I=0;I<g.length;)Hv(s,r,g[I++],g[I++],g[I++],g[I++])}function n(e,t,r){let s=null,l=0;for(;l<r.length;){const h=r[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(e.hasOwnProperty(h)){null===s&&(s=[]);const g=e[h];for(let I=0;I<g.length;I+=3)if(g[I]===t){s.push(h,g[I+1],g[I+2],r[l+1]);break}}l+=2}else l+=2;else l+=4}return s}function i(e,t,r,s){return[e,!0,0,t,null,s,null,r,null,null]}function a(e,t){const r=e.contentQueries;if(null!==r){const s=Ee(null);try{for(let l=0;l<r.length;l+=2){const g=r[l+1];if(-1!==g){const I=e.data[g];Kl(r[l]),I.contentQueries(2,t[g],g)}}}finally{Ee(s)}}}function u(e,t){return e[aa]?e[Us][wo]=t:e[aa]=t,e[Us]=t,t}function f(e,t,r){Kl(0);const s=Ee(null);try{t(e,r)}finally{Ee(s)}}function N(e){var t;return null!==(t=e[qs])&&void 0!==t?t:e[qs]=[]}function U(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function ge(e,t){const r=e[br],s=r?r.get(Yl,null):null;s&&s.handleError(t)}function Ve(e,t,r,s,l){for(let h=0;h<r.length;){const g=r[h++],I=r[h++],S=r[h++];Hv(e.data[g],t[g],s,I,S,l)}}function vt(e,t,r){const s=ac(t,e);!function xv(e,t,r){e.setValue(t,r)}(e[Nr],s,r)}function Yt(e,t){const r=Ps(t,e),s=r[Sn];!function vn(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(s,r);const l=r[hi];null!==l&&null===r[ko]&&(r[ko]=am(l,r[br])),$n(s,r,r[Lr])}function $n(e,t,r){hu(t);try{var s;const l=e.viewQuery;null!==l&&f(1,l,r);const h=e.template;null!==h&&Bu(e,t,h,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(s=t[Ss])||void 0===s||s.finishViewCreation(e),e.staticContentQueries&&a(e,t),e.staticViewQueries&&f(2,e.viewQuery,r);const g=e.components;null!==g&&function xn(e,t){for(let r=0;r<t.length;r++)Yt(e,t[r])}(t,g)}catch(l){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),l}finally{t[sr]&=-5,Yd()}}function ur(e,t,r,s){const l=Ee(null);try{var h,g,I;const S=t.tView,ue=xd(e,S,r,4096&e[sr]?4096:16,null,t,null,null,null!==(h=null==s?void 0:s.injector)&&void 0!==h?h:null,null!==(g=null==s?void 0:s.embeddedViewInjector)&&void 0!==g?g:null,null!==(I=null==s?void 0:s.dehydratedView)&&void 0!==I?I:null);ue[$l]=e[t.index];const lt=e[Ss];return null!==lt&&(ue[Ss]=lt.createEmbeddedView(S)),$n(S,ue,r),ue}finally{Ee(l)}}function pr(e,t){return!t||null===t.firstChild||tf(e)}function kr(e,t,r,s=!0){const l=t[Sn];if(function yb(e,t,r,s){const l=Fo+s,h=r.length;s>0&&(r[l-1][wo]=t),s<h-Fo?(t[wo]=r[l],rs(r,Fo+s,t)):(r.push(t),t[wo]=null),t[Wi]=r;const g=t[$l];null!==g&&r!==g&&sI(g,t);const I=t[Ss];null!==I&&I.insertView(e),Wl(t),t[sr]|=128}(l,t,e,r),s){const g=$v(r,e),I=t[Nr],S=Om(I,e[ba]);null!==S&&function iI(e,t,r,s,l,h){s[hi]=l,s[Hi]=t,Lm(e,s,r,1,l,h)}(l,e[Hi],I,t,S,g)}const h=t[ko];null!==h&&null!==h.firstChild&&(h.firstChild=null)}function qr(e,t,r,s,l=!1){for(;null!==r;){if(128===r.type){r=l?r.projectionNext:r.next;continue}const h=t[r.index];null!==h&&s.push(Ci(h)),oo(h)&&Vt(h,s);const g=r.type;if(8&g)qr(e,t,r.child,s);else if(32&g){const I=Mm(r,t);let S;for(;S=I();)s.push(S)}else if(16&g){const I=dI(t,r);if(Array.isArray(I))s.push(...I);else{const S=Da(t[Zi]);qr(S[Sn],S,I,s,!0)}}r=l?r.projectionNext:r.next}return s}function Vt(e,t){for(let r=Fo;r<e.length;r++){const s=e[r],l=s[Sn].firstChild;null!==l&&qr(s[Sn],s,l,t)}e[ba]!==e[hi]&&t.push(e[ba])}let pt=[];const Zt={...Re,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Za(e.lView)},consumerOnSignalRead(){this.lView[Ys]=this}},Xc={...Re,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Da(e.lView);for(;t&&!wh(t[Sn]);)t=Da(t);t&&au(t)},consumerOnSignalRead(){this.lView[Ys]=this}};function wh(e){return 2!==e.type}const EI=100;function ju(e,t=!0,r=0){const s=e[ls],l=s.rendererFactory;var g;null===(g=l.begin)||void 0===g||g.call(l);try{!function Ef(e,t){const r=_l();try{dd(!0),Ld(e,t);let s=0;for(;Sl(e);){if(s===EI)throw new xt(103,!1);s++,Ld(e,1)}}finally{dd(r)}}(e,r)}catch(z){throw t&&ge(e,z),z}finally{var I,S;null===(I=l.end)||void 0===I||I.call(l),null===(S=s.inlineEffectRunner)||void 0===S||S.flush()}}function ny(e,t,r,s){var l;const h=t[sr];if(!(256&~h))return;null===(l=t[ls].inlineEffectRunner)||void 0===l||l.flush(),hu(t);let S=!0,z=null,ee=null;wh(e)?(ee=function Pt(e){var t;return null!==(t=e[Ys])&&void 0!==t?t:function $t(e){var t;const r=null!==(t=pt.pop())&&void 0!==t?t:Object.create(Zt);return r.lView=e,r}(e)}(t),z=mt(ee)):null===function Se(){return o}()?(S=!1,ee=function Rt(e){var t;const r=null!==(t=e[Ys])&&void 0!==t?t:Object.create(Xc);return r.lView=e,r}(t),z=mt(ee)):t[Ys]&&(At(t[Ys]),t[Ys]=null);try{Pc(t),function hd(e){return Br.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Bu(e,t,r,2,s);const ue=!(3&~h);if(ue){const tt=e.preOrderCheckHooks;null!==tt&&hc(t,tt,null)}else{const tt=e.preOrderHooks;null!==tt&&Ha(t,tt,0,null),fc(t,0)}if(function Hu(e){for(let t=dp(e);null!==t;t=nv(t)){if(!(t[sr]&Bl.HasTransplantedViews))continue;const r=t[Qa];for(let s=0;s<r.length;s++)au(r[s])}}(t),ry(t,0),null!==e.contentQueries&&a(e,t),ue){const tt=e.contentCheckHooks;null!==tt&&hc(t,tt)}else{const tt=e.contentHooks;null!==tt&&Ha(t,tt,1),fc(t,1)}!function Gv(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const l=r[s];if(l<0)Do(~l);else{const h=l,g=r[++s],I=r[++s];Lc(g,h),I(2,t[h])}}}finally{Do(-1)}}(e,t);const We=e.components;null!==We&&oy(t,We,0);const lt=e.viewQuery;if(null!==lt&&f(2,lt,s),ue){const tt=e.viewCheckHooks;null!==tt&&hc(t,tt)}else{const tt=e.viewHooks;null!==tt&&Ha(t,tt,2),fc(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[io]){for(const tt of t[io])tt();t[io]=null}t[sr]&=-73}catch(ue){throw Za(t),ue}finally{null!==ee&&(ut(ee,z),S&&function Wt(e){e.lView[Ys]!==e&&(e.lView=null,pt.push(e))}(ee)),Yd()}}function ry(e,t){for(let r=dp(e);null!==r;r=nv(r))for(let s=Fo;s<r.length;s++)iy(r[s],t)}function Pa(e,t,r){iy(Ps(t,e),r)}function iy(e,t){ad(e)&&Ld(e,t)}function Ld(e,t){const s=e[Sn],l=e[sr],h=e[Ys];let g=!!(0===t&&16&l);if(g||(g=!!(64&l&&0===t)),g||(g=!!(1024&l)),g||(g=!(null==h||!h.dirty||!Mt(h))),g||(g=!1),h&&(h.dirty=!1),e[sr]&=-9217,g)ny(s,e,s.template,e[Lr]);else if(8192&l){ry(e,1);const I=s.components;null!==I&&oy(e,I,1)}}function oy(e,t,r){for(let s=0;s<t.length;s++)Pa(e,t[s],r)}function qc(e,t){var r;const s=_l()?64:1088;for(null===(r=e[ls].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[sr]|=s;const l=Da(e);if(Aa(e)&&!l)return e;e=l}return null}class bf{get rootNodes(){const t=this._lView,r=t[Sn];return qr(r,t,r.firstChild,[])}constructor(t,r,s=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Lr]}set context(t){this._lView[Lr]=t}get destroyed(){return!(256&~this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Wi];if(oo(t)){const r=t[8],s=r?r.indexOf(this):-1;s>-1&&(vf(t,s),bs(r,s))}this._attachedToViewContainer=!1}Vp(this._lView[Sn],this._lView)}onDestroy(t){ua(this._lView,t)}markForCheck(){qc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[sr]&=-129}reattach(){Wl(this._lView),this._lView[sr]|=128}detectChanges(){this._lView[sr]|=1024,ju(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Aa(this._lView),r=this._lView[$l];null!==r&&!t&&Nm(r,this._lView),oI(this._lView[Sn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new xt(902,!1);this._appRef=t;const r=Aa(this._lView),s=this._lView[$l];null!==s&&!r&&sI(s,this._lView),Wl(this._lView)}}let Cf=(()=>{class t{}return t.__NG_ELEMENT_ID__=zm,t})();const qp=Cf,Qp=class extends qp{constructor(t,r,s){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=s}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,s){const l=ur(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:s});return new bf(l)}};function zm(){return Dh(Zr(),ln())}function Dh(e,t){return 4&e.type?new Qp(t,e,oh(e,t)):null}let Lh=()=>null;function qu(e,t){return Lh(e,t)}class $d{}const Cc=new tr("",{providedIn:"root",factory:()=>!1}),Ay=new tr(""),a_=new tr("");class Qu{}class Ty{}class wy{resolveComponentFactory(t){throw function VI(e){const t=Error(`No component factory found for ${_n(e)}.`);return t.ngComponent=e,t}(t)}}class eu{}eu.NULL=new wy;class Bd{}let Dy=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function c_(){const e=ln(),r=Ps(Zr().index,e);return(_o(r)?r:e)[Nr]}(),t})(),hs=(()=>{var e;class t{}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>null}),t})();function Yu(e){return!!mo(e)}function $h(e,t,r){let s=r?e.styles:null,l=r?e.classes:null,h=0;if(null!==t)for(let g=0;g<t.length;g++){const I=t[g];"number"==typeof I?h=I:1==h?l=Gt(l,I):2==h&&(s=Gt(s,I+": "+t[++g]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=l:e.classesWithoutHost=l}class Vf extends eu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Rr(t);return new Uf(r,this.ngModule)}}function f_(e,t){const r=[];for(const s in e){if(!e.hasOwnProperty(s))continue;const l=e[s];if(void 0===l)continue;const h=Array.isArray(l),g=h?l[0]:l;r.push(t?{propName:g,templateName:s,isSignal:!!((h?l[1]:Wn.None)&Wn.SignalBased)}:{propName:g,templateName:s})}return r}class Uf extends Ty{get inputs(){const t=this.componentDef,r=t.inputTransforms,s=f_(t.inputs,!0);if(null!==r)for(const l of s)r.hasOwnProperty(l.propName)&&(l.transform=r[l.propName]);return s}get outputs(){return f_(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function or(e){return e.map(fn).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,s,l){const h=Ee(null);try{var I;let S=(l=l||this.ngModule)instanceof jo?l:null===(I=l)||void 0===I?void 0:I.injector;S&&null!==this.componentDef.getStandaloneInjector&&(S=this.componentDef.getStandaloneInjector(S)||S);const z=S?new ne(t,S):t,ee=z.get(Bd,null);if(null===ee)throw new xt(407,!1);const lt={rendererFactory:ee,sanitizer:z.get(hs,null),inlineEffectRunner:null,changeDetectionScheduler:z.get($d,null)},tt=ee.createRenderer(null,this.componentDef),sn=this.componentDef.selectors[0][0]||"div",In=s?function Ga(e,t,r,s){const h=s.get(ea,!1)||r===yn.ShadowDom,g=e.selectRootElement(t,h);return function pI(e){Wp(e)}(g),g}(tt,s,this.componentDef.encapsulation,z):Lp(tt,sn,function sg(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(sn));let Ln=512;this.componentDef.signals?Ln|=4096:this.componentDef.onPush||(Ln|=16);let hn=null;null!==In&&(hn=am(In,z,!0));const Ur=Od(0,null,null,1,0,null,null,null,null,null,null),Yr=xd(null,Ur,null,Ln,null,null,lt,tt,z,null,hn);hu(Yr);let $o,ya,sl=null;try{const tc=this.componentDef;let Xf,tb=null;tc.findHostDirectiveDefs?(Xf=[],tb=new Map,tc.findHostDirectiveDefs(tc,Xf,tb),Xf.push(tc)):Xf=[tc];const G1=function $f(e,t){const r=e[Sn],s=cr;return e[s]=t,Nd(r,s,2,"#host",null)}(Yr,In);sl=function Py(e,t,r,s,l,h,g){const I=l[Sn];!function My(e,t,r,s){for(const l of e)t.mergedAttrs=oi(t.mergedAttrs,l.hostAttrs);null!==t.mergedAttrs&&($h(t,t.mergedAttrs,!0),null!==r&&Hp(s,r,t))}(s,e,t,g);let S=null;null!==t&&(S=am(t,l[br]));const z=h.rendererFactory.createRenderer(t,r);let ee=16;r.signals?ee=4096:r.onPush&&(ee=64);const ue=xd(l,$m(r),null,ee,l[e.index],e,h,z,null,null,S);return I.firstCreatePass&&Hm(I,e,s.length-1),u(l,ue),l[e.index]=ue}(G1,In,tc,Xf,Yr,lt,tt),ya=Gl(Ur,cr),In&&function g_(e,t,r,s){if(s)Qi(e,r,["ng-version","18.2.13"]);else{const{attrs:l,classes:h}=function Pi(e){const t=[],r=[];let s=1,l=2;for(;s<e.length;){let h=e[s];if("string"==typeof h)2===l?""!==h&&t.push(h,e[++s]):8===l&&r.push(h);else{if(!ss(l))break;l=h}s++}return{attrs:t,classes:r}}(t.selectors[0]);l&&Qi(e,r,l),h&&h.length>0&&Bv(e,r,h.join(" "))}}(tt,tc,In,s),void 0!==r&&function xy(e,t,r){const s=e.projection=[];for(let l=0;l<t.length;l++){const h=r[l];s.push(null!=h?Array.from(h):null)}}(ya,this.ngContentSelectors,r),$o=function p_(e,t,r,s,l,h){const g=Zr(),I=l[Sn],S=Rs(g,l);If(I,l,g,r,null,s);for(let ee=0;ee<r.length;ee++)Zs(Zo(l,I,g.directiveStart+ee,g),l);Qv(I,l,g),S&&Zs(S,l);const z=Zo(l,I,g.directiveStart+g.componentOffset,g);if(e[Lr]=l[Lr]=z,null!==h)for(const ee of h)ee(z,t);return rl(I,g,l),z}(sl,tc,Xf,tb,Yr,[ag]),$n(Ur,Yr,null)}catch(tc){throw null!==sl&&rf(sl),rf(Yr),tc}finally{Yd()}return new Ry(this.componentType,$o,oh(ya,Yr),Yr,ya)}finally{Ee(h)}}}class Ry extends Qu{constructor(t,r,s,l,h){super(),this.location=s,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new bf(l,void 0,!1),this.componentType=t}setInput(t,r){const s=this._tNode.inputs;let l;if(null!==s&&(l=s[t])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const g=this._rootLView;Ve(g[Sn],g,l,t,r),this.previousInputValues.set(t,r),qc(Ps(this._tNode.index,g),1)}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function ag(){const e=Zr();Ml(ln()[Sn],e)}let Bf=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ny,t})();function Ny(){return v_(Zr(),ln())}const jd=Bf,m_=class extends jd{constructor(t,r,s){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=s}get element(){return oh(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){const t=gc(this._hostTNode,this._hostLView);if(Ie(t)){const r=bn(t,this._hostLView),s=St(t);return new ys(r[Sn].data[s+8],r)}return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=__(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Fo}createEmbeddedView(t,r,s){let l,h;"number"==typeof s?l=s:null!=s&&(l=s.index,h=s.injector);const g=qu(this._lContainer,t.ssrId),I=t.createEmbeddedViewImpl(r||{},h,g);return this.insertImpl(I,l,pr(this._hostTNode,g)),I}createComponent(t,r,s,l,h){var g,I,S;const z=t&&!function En(e){return"function"==typeof e}(t);let ee;if(z)ee=r;else{const Ln=r||{};ee=Ln.index,s=Ln.injector,l=Ln.projectableNodes,h=Ln.environmentInjector||Ln.ngModuleRef}const ue=z?t:new Uf(Rr(t)),We=s||this.parentInjector;if(!h&&null==ue.ngModule){const hn=(z?We:this.parentInjector).get(jo,null);hn&&(h=hn)}const lt=Rr(null!==(g=ue.componentType)&&void 0!==g?g:{}),tt=qu(this._lContainer,null!==(I=null==lt?void 0:lt.id)&&void 0!==I?I:null),sn=null!==(S=null==tt?void 0:tt.firstChild)&&void 0!==S?S:null,In=ue.create(We,l,sn,h);return this.insertImpl(In.hostView,ee,pr(this._hostTNode,tt)),In}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,s){const l=t._lView;if(function fl(e){return oo(e[Wi])}(l)){const I=this.indexOf(t);if(-1!==I)this.detach(I);else{const S=l[Wi],z=new m_(S,S[Hi],S[Wi]);z.detach(z.indexOf(t))}}const h=this._adjustIndex(r),g=this._lContainer;return kr(g,l,h,s),t.attachToViewContainerRef(),rs(lg(g),h,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=__(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),s=vf(this._lContainer,r);s&&(bs(lg(this._lContainer),r),Vp(s[Sn],s))}detach(t){const r=this._adjustIndex(t,-1),s=vf(this._lContainer,r);return s&&null!=bs(lg(this._lContainer),r)?new bf(s):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function __(e){return e[8]}function lg(e){return e[8]||(e[8]=[])}function v_(e,t){let r;const s=t[e.index];return oo(s)?r=s:(r=i(s,t,null,e),t[e.index]=r,u(t,r)),ol(r,t,e,s),new m_(r,e,t)}let ol=function Hd(e,t,r,s){if(e[ba])return;let l;l=8&r.type?Ci(s):function cg(e,t){const r=e[Nr],s=r.createComment(""),l=Rs(t,e);return Md(r,Om(r,l),s,function lI(e,t){return e.nextSibling(t)}(r,l),!1),s}(t,r),e[ba]=l},ug=()=>!1;class Pe{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pe(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xt{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const s=null!==t.contentQueries?t.contentQueries[0]:r.length,l=[];for(let h=0;h<s;h++){const g=r.getByIndex(h);l.push(this.queries[g.indexInDeclarationView].clone())}return new Xt(l)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==$I(t,r).matches&&this.queries[r].setDirty()}}class cn{constructor(t,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof t?function Gw(e){return e.split(",").map(t=>t.trim())}(t):t}}class Zn{constructor(t=[]){this.queries=t}elementStart(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let s=0;s<this.length;s++){const l=null!==r?r.length:0,h=this.getByIndex(s).embeddedTView(t,l);h&&(h.indexInDeclarationView=s,null!==r?r.push(h):r=[h])}return null!==r?new Zn(r):null}template(t,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class vo{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new vo(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let l=0;l<s.length;l++){const h=s[l];this.matchTNodeWithReadOption(t,r,ma(r,h)),this.matchTNodeWithReadOption(t,r,ef(r,t,h,!1,!1))}else s===Cf?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,ef(r,t,s,!1,!1))}matchTNodeWithReadOption(t,r,s){if(null!==s){const l=this.metadata.read;if(null!==l)if(l===sh||l===Bf||l===Cf&&4&r.type)this.addMatch(r.index,-2);else{const h=ef(r,t,l,!1,!1);null!==h&&this.addMatch(r.index,h)}else this.addMatch(r.index,s)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function ma(e,t){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===t)return r[s+1];return null}function xa(e,t,r,s){return-1===r?function to(e,t){return 11&e.type?oh(e,t):4&e.type?Dh(e,t):null}(t,e):-2===r?function Na(e,t,r){return r===sh?oh(t,e):r===Cf?Dh(t,e):r===Bf?v_(t,e):void 0}(e,t,s):Zo(e,e[Sn],r,t)}function Gd(e,t,r,s){const l=t[Ss].queries[s];if(null===l.matches){const h=e.data,g=r.matches,I=[];for(let S=0;null!==g&&S<g.length;S+=2){const z=g[S];I.push(z<0?null:xa(t,h[z],g[S+1],r.metadata.read))}l.matches=I}return l.matches}function El(e,t,r,s){const l=e.queries.getByIndex(r),h=l.matches;if(null!==h){const g=Gd(e,t,l,r);for(let I=0;I<h.length;I+=2){const S=h[I];if(S>0)s.push(g[I/2]);else{const z=h[I+1],ee=t[-S];for(let ue=Fo;ue<ee.length;ue++){const We=ee[ue];We[$l]===We[Wi]&&El(We[Sn],We,z,s)}if(null!==ee[Qa]){const ue=ee[Qa];for(let We=0;We<ue.length;We++){const lt=ue[We];El(lt[Sn],lt,z,s)}}}}}return s}function dg(e,t,r){var s;const l=new np(!(4&~r));return function Bm(e,t,r,s){const l=N(t);l.push(r),e.firstCreatePass&&U(e).push(s,l.length-1)}(e,t,l,l.destroy),(null!==(s=t[Ss])&&void 0!==s?s:t[Ss]=new Xt).queries.push(new Pe(l))-1}function Ab(e,t,r){null===e.queries&&(e.queries=new Zn),e.queries.track(new vo(t,r))}function $I(e,t){return e.queries.getByIndex(t)}function Tb(e,t){const r=e[Sn],s=$I(r,t);return s.crossesNgTemplate?El(r,e,t,[]):Gd(r,e,s,t)}const wb=new Set;function bl(e){var t,r;wb.has(e)||(wb.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function Sb(e,t){bl("NgSignals");const r=function De(e){const t=Object.create(st);t.value=e;const r=()=>(_e(t),t.value);return r[W]=t,r}(e),s=r[W];return null!=t&&t.equal&&(s.equal=t.equal),r.set=l=>ze(s,l),r.update=l=>function Ze(e,t){ct()||Ge(),ze(e,t(e.value))}(s,l),r.asReadonly=Rb.bind(r),r}function Rb(){const e=this[W];if(void 0===e.readonlyFn){const t=()=>this();t[W]=e,e.readonlyFn=t}return e.readonlyFn}function Pb(e){return function Db(e){return"function"==typeof e&&void 0!==e[W]}(e)&&"function"==typeof e.set}function jI(e){let t=function Bb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;t;){let l;if(Co(e))l=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new xt(903,!1);l=t.\u0275dir}if(l){if(r){s.push(l);const g=e;g.inputs=ky(e.inputs),g.inputTransforms=ky(e.inputTransforms),g.declaredInputs=ky(e.declaredInputs),g.outputs=ky(e.outputs);const I=l.hostBindings;I&&oD(e,I);const S=l.viewQuery,z=l.contentQueries;if(S&&rD(e,S),z&&iD(e,z),tD(e,l),_r(e.outputs,l.outputs),Co(l)&&l.data.animation){const ee=e.data;ee.animation=(ee.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let g=0;g<h.length;g++){const I=h[g];I&&I.ngInherit&&I(e),I===jI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function nD(e){let t=0,r=null;for(let s=e.length-1;s>=0;s--){const l=e[s];l.hostVars=t+=l.hostVars,l.hostAttrs=oi(l.hostAttrs,r=oi(r,l.hostAttrs))}}(s)}function tD(e,t){for(const s in t.inputs){if(!t.inputs.hasOwnProperty(s)||e.inputs.hasOwnProperty(s))continue;const l=t.inputs[s];if(void 0!==l&&(e.inputs[s]=l,e.declaredInputs[s]=t.declaredInputs[s],null!==t.inputTransforms)){var r;const h=Array.isArray(l)?l[0]:l;if(!t.inputTransforms.hasOwnProperty(h))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[h]=t.inputTransforms[h]}}}function ky(e){return e===xr?{}:e===zr?[]:e}function rD(e,t){const r=e.viewQuery;e.viewQuery=r?(s,l)=>{t(s,l),r(s,l)}:t}function iD(e,t){const r=e.contentQueries;e.contentQueries=r?(s,l,h)=>{t(s,l,h),r(s,l,h)}:t}function oD(e,t){const r=e.hostBindings;e.hostBindings=r?(s,l)=>{t(s,l),r(s,l)}:t}function Wb(e){const t=e.inputConfig,r={};for(const s in t)if(t.hasOwnProperty(s)){const l=t[s];Array.isArray(l)&&l[3]&&(r[s]=l[3])}e.inputTransforms=r}class jf{}class Kb{}function dD(e,t){return new GI(e,null!=t?t:null,[])}class GI extends jf{constructor(t,r,s,l=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vf(this);const h=mo(t);this._bootstrapComponents=Il(h.bootstrap),this._r3Injector=lr(t,r,[{provide:jf,useValue:this},{provide:eu,useValue:this.componentFactoryResolver},...s],_n(t),new Set(["environment"])),l&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class zI extends Kb{constructor(t){super(),this.moduleType=t}create(t){return new GI(this.moduleType,t,[])}}class Xb extends jf{constructor(t){super(),this.componentFactoryResolver=new Vf(this),this.instance=null;const r=new vs([...t.providers,{provide:jf,useValue:this},{provide:eu,useValue:this.componentFactoryResolver}],t.parent||Va(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function WI(e,t,r=null){return new Xb({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function Fy(e){return!!KI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function KI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zu(e,t,r){return e[t]=r}function Gs(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Hf(e,t,r,s){const l=Gs(e,t,r);return Gs(e,t+1,s)||l}function Ly(e,t,r,s,l){const h=Hf(e,t,r,s);return Gs(e,t+2,l)||h}function b_(e,t,r,s,l,h,g,I,S,z){const ee=r+cr,ue=t.firstCreatePass?function _D(e,t,r,s,l,h,g,I,S){const z=t.consts,ee=Nd(t,e,4,g||null,I||null);Kp(t,r,ee,wa(z,S)),Ml(t,ee);const ue=ee.tView=Od(2,ee,s,l,h,t.directiveRegistry,t.pipeRegistry,null,t.schemas,z,null);return null!==t.queries&&(t.queries.template(t,ee),ue.queries=t.queries.embeddedTView(ee)),ee}(ee,t,e,s,l,h,g,I,S):t.data[ee];Bs(ue,!1);const We=qb(t,e,ue,r);el()&&Up(t,e,We,ue),Zs(We,e);const lt=i(We,e,We,ue);return e[ee]=lt,u(e,lt),function y_(e,t,r){return ug(e,t,r)}(lt,ue,e),Yi(ue)&&pa(t,e,ue),null!=S&&zp(e,ue,z),ue}function XI(e,t,r,s,l,h,g,I){const S=ln(),z=Wr();return b_(S,z,e,t,r,s,l,wa(z.consts,h),g,I),XI}let qb=function Qb(e,t,r,s){return tl(!0),t[Nr].createComment("")};var gg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(gg||{});let nC=(()=>{var e;class t{constructor(){this.impl=null}execute(){var s;null===(s=this.impl)||void 0===s||s.execute()}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:()=>new e}),t})();class By{constructor(){this.ngZone=Et(Vo),this.scheduler=Et($d),this.errorHandler=Et(Yl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of By.PHASES)for(const s of this.sequences)if(!s.erroredOrDestroyed&&s.hooks[r])try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>s.hooks[r](s.pipelinedValue))}catch(l){var t;s.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(l)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(ke=By).PHASES=[gg.EarlyRead,gg.Write,gg.MixedReadWrite,gg.Read],ke.\u0275prov=Pr({token:ke,providedIn:"root",factory:()=>new ke});class ED{constructor(t,r,s,l){this.impl=t,this.hooks=r,this.once=s,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=null==l?void 0:l.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){var t;this.impl.unregister(this),null===(t=this.unregisterOnDestroy)||void 0===t||t.call(this)}}function jy(e,t){var r;(null==t||!t.injector)&&function R(e){if(!Ul())throw new xt(-203,!1)}();const s=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Et(Dr);return function Ms(e){return"browser"===(null!=e?e:Et(Dr)).get(_p)}(s)?(bl("NgAfterNextRender"),function rC(e,t,r,s){var l,h;const g=t.get(nC);null!==(l=g.impl)&&void 0!==l||(g.impl=t.get(By));const I=null!==(h=null==r?void 0:r.phase)&&void 0!==h?h:gg.MixedReadWrite,S=!0!==(null==r?void 0:r.manualCleanup)?t.get(xi):null,z=new ED(g.impl,function CD(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,I),s,S);return g.impl.register(z),z}(e,s,t,!0)):iC}const iC={destroy(){}};function oE(e,t,r,s){const l=ln();return Gs(l,js(),t)&&(Wr(),Jl(eo(),l,e,t,r,s)),oE}function bg(e,t,r,s){return Gs(e,js(),r)?t+Fn(r)+s:ci}function zy(e,t){return e<<17|t<<2}function Hh(e){return e>>17&32767}function sE(e){return 2|e}function zf(e){return(131068&e)>>2}function aE(e,t){return-131069&e|t<<2}function lE(e){return 1|e}function PC(e,t,r,s){const l=e[r+1],h=null===t;let g=s?Hh(l):zf(l),I=!1;for(;0!==g&&(!1===I||h);){const z=e[g+1];oS(e[g],t)&&(I=!0,e[g+1]=s?lE(z):sE(z)),g=s?Hh(z):zf(z)}I&&(e[r+1]=s?sE(l):lE(l))}function oS(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ns(e,t)>=0}function cE(e,t,r){const s=ln();return Gs(s,js(),t)&&il(Wr(),eo(),s,e,t,s[Nr],r,!1),cE}function uE(e,t,r,s,l){const g=l?"class":"style";Ve(e,r,t.inputs[g],g,s)}function dE(e,t){return function nu(e,t,r,s){const l=ln(),h=Wr(),g=vl(2);h.firstUpdatePass&&function UC(e,t,r,s){const l=e.data;if(null===l[r+1]){const h=l[ds()],g=function VC(e,t){return t>=e.expandoStartIndex}(e,r);(function HC(e,t){return!!(e.flags&(t?8:16))})(h,s)&&null===t&&!g&&(t=!1),t=function pS(e,t,r,s){const l=function dc(e){const t=Br.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let h=s?t.residualClasses:t.residualStyles;if(null===l)0===(s?t.classBindings:t.styleBindings)&&(r=w_(r=hE(null,e,t,r,s),t.attrs,s),h=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==l)if(r=hE(l,e,t,r,s),null===h){let S=function gS(e,t,r){const s=r?t.classBindings:t.styleBindings;if(0!==zf(s))return e[Hh(s)]}(e,t,s);void 0!==S&&Array.isArray(S)&&(S=hE(null,e,t,S[1],s),S=w_(S,t.attrs,s),function mS(e,t,r,s){e[Hh(r?t.classBindings:t.styleBindings)]=s}(e,t,s,S))}else h=function _S(e,t,r){let s;const l=t.directiveEnd;for(let h=1+t.directiveStylingLast;h<l;h++)s=w_(s,e[h].hostAttrs,r);return w_(s,t.attrs,r)}(e,t,s)}return void 0!==h&&(s?t.residualClasses=h:t.residualStyles=h),r}(l,h,t,s),function rS(e,t,r,s,l,h){let g=h?t.classBindings:t.styleBindings,I=Hh(g),S=zf(g);e[s]=r;let ee,z=!1;if(Array.isArray(r)?(ee=r[1],(null===ee||Ns(r,ee)>0)&&(z=!0)):ee=r,l)if(0!==S){const We=Hh(e[I+1]);e[s+1]=zy(We,I),0!==We&&(e[We+1]=aE(e[We+1],s)),e[I+1]=function tS(e,t){return 131071&e|t<<17}(e[I+1],s)}else e[s+1]=zy(I,0),0!==I&&(e[I+1]=aE(e[I+1],s)),I=s;else e[s+1]=zy(S,0),0===I?I=s:e[S+1]=aE(e[S+1],s),S=s;z&&(e[s+1]=sE(e[s+1])),PC(e,ee,s,!0),PC(e,ee,s,!1),function iS(e,t,r,s,l){const h=l?e.residualClasses:e.residualStyles;null!=h&&"string"==typeof t&&Ns(h,t)>=0&&(r[s+1]=lE(r[s+1]))}(t,ee,e,s,h),g=zy(I,S),h?t.classBindings=g:t.styleBindings=g}(l,h,t,r,g,s)}}(h,e,g,s),t!==ci&&Gs(l,g,t)&&function BC(e,t,r,s,l,h,g,I){if(!(3&t.type))return;const S=e.data,z=S[I+1],ee=function nS(e){return!(1&~e)}(z)?jC(S,t,r,l,zf(z),g):void 0;Wy(ee)||(Wy(h)||function eS(e){return!(2&~e)}(z)&&(h=jC(S,null,r,l,I,g)),function jp(e,t,r,s,l){if(t)l?e.addClass(r,s):e.removeClass(r,s);else{let h=-1===s.indexOf("-")?void 0:kp.DashCase;null==l?e.removeStyle(r,s,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=kp.Important),e.setStyle(r,s,l,h))}}(s,g,ac(ds(),r),l,h))}(h,h.data[ds()],l,l[Nr],e,l[g+1]=function ES(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=_n(Ou(e)))),e}(t,r),s,g)}(e,t,null,!0),dE}function hE(e,t,r,s,l){let h=null;const g=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<g&&(h=t[I],s=w_(s,h.hostAttrs,l),h!==e);)I++;return null!==e&&(r.directiveStylingLast=I),s}function w_(e,t,r){const s=r?1:2;let l=-1;if(null!==t)for(let h=0;h<t.length;h++){const g=t[h];"number"==typeof g?l=g:l===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ni(e,g,!!r||t[++h]))}return void 0===e?null:e}function jC(e,t,r,s,l,h){const g=null===t;let I;for(;l>0;){const S=e[l],z=Array.isArray(S),ee=z?S[1]:S,ue=null===ee;let We=r[l+1];We===ci&&(We=ue?zr:void 0);let lt=ue?ta(We,s):ee===s?We:void 0;if(z&&!Wy(lt)&&(lt=ta(S,s)),Wy(lt)&&(I=lt,g))return I;const tt=e[l+1];l=g?Hh(tt):zf(tt)}if(null!==t){let S=h?t.residualClasses:t.residualStyles;null!=S&&(I=ta(S,s))}return I}function Wy(e){return void 0!==e}function Xy(e,t,r,s){const l=ln(),h=Wr(),g=cr+e,I=l[Nr],S=h.firstCreatePass?function GS(e,t,r,s,l,h){const g=t.consts,S=Nd(t,e,2,s,wa(g,l));return Kp(t,r,S,wa(g,h)),null!==S.attrs&&$h(S,S.attrs,!1),null!==S.mergedAttrs&&$h(S,S.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,S),S}(g,h,l,t,r,s):h.data[g],z=KC(h,l,S,I,t,e);l[g]=z;const ee=Yi(S);return Bs(S,!0),Hp(I,z,S),!function fg(e){return!(32&~e.flags)}(S)&&el()&&Up(h,l,z,S),0===function ld(){return Br.lFrame.elementDepthCount}()&&Zs(z,l),function Nc(){Br.lFrame.elementDepthCount++}(),ee&&(pa(h,l,S),rl(h,S,l)),null!==s&&zp(l,S),Xy}function qy(){let e=Zr();du()?Ba():(e=e.parent,Bs(e,!1));const t=e;(function cd(e){return Br.skipHydrationRootTNode===e})(t)&&function da(){Br.skipHydrationRootTNode=null}(),function Wd(){Br.lFrame.elementDepthCount--}();const r=Wr();return r.firstCreatePass&&(Ml(r,e),Ca(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Yh(e){return!!(8&e.flags)}(t)&&uE(r,t,ln(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function w(e){return!!(16&e.flags)}(t)&&uE(r,t,ln(),t.stylesWithoutHost,!1),qy}function mE(e,t,r,s){return Xy(e,t,r,s),qy(),mE}let KC=(e,t,r,s,l,h)=>(tl(!0),Lp(s,l,function eh(){return Br.lFrame.currentNamespace}()));function Qy(e,t,r){const s=ln(),l=Wr(),h=e+cr,g=l.firstCreatePass?function KS(e,t,r,s,l){const h=t.consts,g=wa(h,s),I=Nd(t,e,8,"ng-container",g);return null!==g&&$h(I,g,!0),Kp(t,r,I,wa(h,l)),null!==t.queries&&t.queries.elementStart(t,I),I}(h,l,s,t,r):l.data[h];Bs(g,!0);const I=XC(l,s,g,e);return s[h]=I,el()&&Up(l,s,I,g),Zs(I,s),Yi(g)&&(pa(l,s,g),rl(l,g,s)),null!=r&&zp(s,g),Qy}function Yy(){let e=Zr();const t=Wr();return du()?Ba():(e=e.parent,Bs(e,!1)),t.firstCreatePass&&(Ml(t,e),Ca(e)&&t.queries.elementEnd(e)),Yy}function _E(e,t,r){return Qy(e,t,r),Yy(),_E}let XC=(e,t,r,s)=>(tl(!0),xm(t[Nr],""));function qC(){return ln()}const Wf=void 0;var YS=["en",[["a","p"],["AM","PM"],Wf],[["AM","PM"],Wf,Wf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wf,"{1} 'at' {0}",Wf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function QS(e){const r=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let Mg={};function vE(e){const t=function JS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=ZC(t);if(r)return r;const s=t.split("-")[0];if(r=ZC(s),r)return r;if("en"===s)return YS;throw new xt(701,!1)}function JC(e){return vE(e)[xg.PluralCase]}function ZC(e){return e in Mg||(Mg[e]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[e]),Mg[e]}var xg=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(xg||{});const Jy="en-US";let eA=Jy,vA=(e,t,r)=>{};function EE(e,t,r,s){const l=ln(),h=Wr(),g=Zr();return bE(h,l,l[Nr],g,e,t,s),EE}function bE(e,t,r,s,l,h,g){const I=Yi(s),z=e.firstCreatePass&&U(e),ee=t[Lr],ue=N(t);let We=!0;if(3&s.type||g){const sn=Rs(s,t),In=g?g(sn):sn,Ln=ue.length,hn=g?Yr=>g(Ci(Yr[s.index])):s.index;let Ur=null;if(!g&&I&&(Ur=function $R(e,t,r,s){const l=e.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const g=l[h];if(g===r&&l[h+1]===s){const I=t[qs],S=l[h+2];return I.length>S?I[S]:null}"string"==typeof g&&(h+=2)}return null}(e,t,l,s.index)),null!==Ur)(Ur.__ngLastListenerFn__||Ur).__ngNextListenerFn__=h,Ur.__ngLastListenerFn__=h,We=!1;else{h=bA(s,t,ee,h),vA(sn,l,h);const Yr=r.listen(In,l,h);ue.push(h,Yr),z&&z.push(l,hn,Ln,Ln+1)}}else h=bA(s,t,ee,h);const lt=s.outputs;let tt;if(We&&null!==lt&&(tt=lt[l])){const sn=tt.length;if(sn)for(let In=0;In<sn;In+=2){const $o=t[tt[In]][tt[In+1]].subscribe(h),ya=ue.length;ue.push(h,$o),z&&z.push(l,s.index,ya,-(ya+1))}}}function EA(e,t,r,s){const l=Ee(null);try{return us(6,t,r),!1!==r(s)}catch(h){return ge(e,h),!1}finally{us(7,t,r),Ee(l)}}function bA(e,t,r,s){return function l(h){if(h===Function)return s;qc(e.componentOffset>-1?Ps(e.index,t):t,5);let I=EA(t,r,s,h),S=l.__ngNextListenerFn__;for(;S;)I=EA(t,r,S,h)&&I,S=S.__ngNextListenerFn__;return I}}function CA(e=1){return function qf(e){return(Br.lFrame.contextLView=function zd(e,t){for(;e>0;)t=t[Tl],e--;return t}(e,Br.lFrame.contextLView))[Lr]}(e)}function BR(e,t){let r=null;const s=function Z(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let l=0;l<t.length;l++){const h=t[l];if("*"!==h){if(null===s?Ia(e,h,!0):K(s,h))return l}else r=l}return r}function AA(e){const t=ln()[Zi][Hi];if(!t.projection){const s=t.projection=function lo(e,t){const r=[];for(let s=0;s<e;s++)r.push(t);return r}(e?e.length:1,null),l=s.slice();let h=t.child;for(;null!==h;){if(128!==h.type){const g=e?BR(h,e):0;null!==g&&(l[g]?l[g].projectionNext=h:s[g]=h,l[g]=h)}h=h.next}}}function TA(e,t=0,r,s,l,h){const g=ln(),I=Wr(),S=s?e+1:null;null!==S&&b_(g,I,S,s,l,h,null,r);const z=Nd(I,cr+e,16,null,r||null);null===z.projection&&(z.projection=t),Ba();const ue=!g[ko]||pl();null===g[Zi][Hi].projection[z.projection]&&null!==S?function jR(e,t,r){const s=cr+r,l=t.data[s],h=e[s],g=qu(h,l.tView.ssrId);kr(h,ur(e,l,void 0,{dehydratedView:g}),0,pr(l,g))}(g,I,S):ue&&32&~z.flags&&function Ib(e,t,r){hI(t[Nr],0,t,r,bc(e,r,t),Vv(r.parent||t[Hi],r,t))}(I,g,z)}function CE(e,t,r){return n0(e,"",t,"",r),CE}function n0(e,t,r,s,l){const h=ln(),g=bg(h,t,r,s);return g!==ci&&il(Wr(),eo(),h,e,g,h[Nr],l,!1),n0}function OA(e,t,r,s){!function Cb(e,t,r,s){const l=Wr();if(l.firstCreatePass){const h=Zr();Ab(l,new cn(t,r,s),h.index),function zw(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(l,e),!(2&~r)&&(l.staticContentQueries=!0)}return dg(l,ln(),r)}(e,t,r,s)}function kA(e,t,r){!function bb(e,t,r){const s=Wr();return s.firstCreatePass&&(Ab(s,new cn(e,t,r),-1),!(2&~t)&&(s.staticViewQueries=!0)),dg(s,ln(),t)}(e,t,r)}function FA(e){const t=ln(),r=Wr(),s=pd();Kl(s+1);const l=$I(r,s);if(e.dirty&&function zl(e){return!(4&~e[sr])}(t)===!(2&~l.metadata.flags)){if(null===l.matches)e.reset([]);else{const h=Tb(t,s);e.reset(h,X_),e.notifyOnChanges()}return!0}return!1}function LA(){return function Bh(e,t){return e[Ss].queries[t].queryList}(ln(),pd())}function VA(e){return Dl(function ml(){return Br.lFrame.contextLView}(),cr+e)}function XA(e,t=""){const r=ln(),s=Wr(),l=e+cr,h=s.firstCreatePass?Nd(s,l,1,t,null):s.data[l],g=qA(s,r,h,t,e);r[l]=g,el()&&Up(s,r,g,h),Bs(h,!1)}let qA=(e,t,r,s,l)=>(tl(!0),function Mv(e,t){return e.createText(t)}(t[Nr],s));function TE(e){return r0("",e,""),TE}function r0(e,t,r){const s=ln(),l=bg(s,e,t,r);return l!==ci&&vt(s,ds(),l),r0}function wE(e,t,r,s,l){const h=ln(),g=function Cg(e,t,r,s,l,h){const I=Hf(e,ja(),r,l);return vl(2),I?t+Fn(r)+s+Fn(l)+h:ci}(h,e,t,r,s,l);return g!==ci&&vt(h,ds(),g),wE}function DE(e,t,r,s,l,h,g){const I=ln(),S=function Ag(e,t,r,s,l,h,g,I){const z=Ly(e,ja(),r,l,g);return vl(3),z?t+Fn(r)+s+Fn(l)+h+Fn(g)+I:ci}(I,e,t,r,s,l,h,g);return S!==ci&&vt(I,ds(),S),DE}function SE(e,t,r){Pb(t)&&(t=t());const s=ln();return Gs(s,js(),t)&&il(Wr(),eo(),s,e,t,s[Nr],r,!1),SE}function nT(e,t){const r=Pb(e);return r&&e.set(t),r}function RE(e,t){const r=ln(),s=Wr(),l=Zr();return bE(s,r,r[Nr],l,e,t),RE}function PE(e,t,r,s,l){if(e=Ue(e),Array.isArray(e))for(let h=0;h<e.length;h++)PE(e[h],t,r,s,l);else{const h=Wr(),g=ln(),I=Zr();let S=Ls(e)?e:Ue(e.provide);const z=ul(e),ee=1048575&I.providerIndexes,ue=I.directiveStart,We=I.providerIndexes>>20;if(Ls(e)||!e.multi){const lt=new pu(z,l,$u),tt=xE(S,t,l?ee:ee+We,ue);-1===tt?(mc(xl(I,g),h,S),ME(h,e,t.length),t.push(S),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),r.push(lt),g.push(lt)):(r[tt]=lt,g[tt]=lt)}else{const lt=xE(S,t,ee+We,ue),tt=xE(S,t,ee,ee+We),In=tt>=0&&r[tt];if(l&&!In||!l&&!(lt>=0&&r[lt])){mc(xl(I,g),h,S);const Ln=function lP(e,t,r,s,l){const h=new pu(e,r,$u);return h.multi=[],h.index=t,h.componentProviders=0,oT(h,l,s&&!r),h}(l?aP:sP,r.length,l,s,z);!l&&In&&(r[tt].providerFactory=Ln),ME(h,e,t.length,0),t.push(S),I.directiveStart++,I.directiveEnd++,l&&(I.providerIndexes+=1048576),r.push(Ln),g.push(Ln)}else ME(h,e,lt>-1?lt:tt,oT(r[l?tt:lt],z,!l&&s));!l&&s&&In&&r[tt].componentProviders++}}}function ME(e,t,r,s){const l=Ls(t),h=function Al(e){return!!e.useClass}(t);if(l||h){const S=(h?Ue(t.useClass):t).prototype.ngOnDestroy;if(S){const z=e.destroyHooks||(e.destroyHooks=[]);if(!l&&t.multi){const ee=z.indexOf(r);-1===ee?z.push(r,[s,S]):z[ee+1].push(s,S)}else z.push(r,S)}}}function oT(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function xE(e,t,r,s){for(let l=r;l<s;l++)if(t[l]===e)return l;return-1}function sP(e,t,r,s){return NE(this.multi,[])}function aP(e,t,r,s){const l=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,I=Zo(r,r[Sn],this.providerFactory.index,s);h=I.slice(0,g),NE(l,h);for(let S=g;S<I.length;S++)h.push(I[S])}else h=[],NE(l,h);return h}function NE(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function sT(e,t=[]){return r=>{r.providersResolver=(s,l)=>function oP(e,t,r){const s=Wr();if(s.firstCreatePass){const l=Co(e);PE(r,s.data,s.blueprint,l,!0),PE(t,s.data,s.blueprint,l,!1)}}(s,l?l(e):e,t)}}let cP=(()=>{var e;class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const l=_s(0,s.type),h=l.length>0?WI([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,h)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=Pr({token:e,providedIn:"environment",factory:()=>new e(nt(jo))}),t})();function aT(e){bl("NgStandalone"),e.getStandaloneInjector=t=>t.get(cP).getOrCreateStandaloneInjector(e)}function uT(e,t,r){const s=Lo()+e,l=ln();return l[s]===ci?Zu(l,s,r?t.call(r):t()):function E_(e,t){return e[t]}(l,s)}function dT(e,t,r,s){return hT(ln(),Lo(),e,t,r,s)}function x_(e,t){const r=e[t];return r===ci?void 0:r}function hT(e,t,r,s,l,h){const g=t+r;return Gs(e,g,l)?Zu(e,g+1,h?s.call(h,l):s(l)):x_(e,g+1)}function _T(e,t){const r=Wr();let s;const l=e+cr;var h;r.firstCreatePass?(s=function EP(e,t){if(t)for(let r=t.length-1;r>=0;r--){const s=t[r];if(e===s.name)return s}}(t,r.pipeRegistry),r.data[l]=s,s.onDestroy&&(null!==(h=r.destroyHooks)&&void 0!==h?h:r.destroyHooks=[]).push(l,s.onDestroy)):s=r.data[l];const g=s.factory||(s.factory=ao(s.type)),S=_i($u);try{const z=fi(!1),ee=g();return fi(z),function AE(e,t,r,s){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=s}(r,ln(),l,ee),ee}finally{_i(S)}}function vT(e,t,r){const s=e+cr,l=ln(),h=Dl(l,s);return N_(l,s)?hT(l,Lo(),t,h.transform,r,h):h.transform(r)}function yT(e,t,r,s){const l=e+cr,h=ln(),g=Dl(h,l);return N_(h,l)?function fT(e,t,r,s,l,h,g){const I=t+r;return Hf(e,I,l,h)?Zu(e,I+2,g?s.call(g,l,h):s(l,h)):x_(e,I+2)}(h,Lo(),t,g.transform,r,s,g):g.transform(r,s)}function IT(e,t,r,s,l){const h=e+cr,g=ln(),I=Dl(g,h);return N_(g,h)?function pT(e,t,r,s,l,h,g,I){const S=t+r;return Ly(e,S,l,h,g)?Zu(e,S+3,I?s.call(I,l,h,g):s(l,h,g)):x_(e,S+3)}(g,Lo(),t,I.transform,r,s,l,I):I.transform(r,s,l)}function N_(e,t){return e[Sn].data[t].pure}function ET(e,t){return Dh(e,t)}class LT{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const zP=new LT("18.2.13");let VT=(()=>{var e;class t{log(s){console.log(s)}warn(s){console.warn(s)}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const jT=new tr(""),HT=new tr("");let $E,_M=(()=>{var e;class t{constructor(s,l,h){this._ngZone=s,this.registry=l,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,$E||(function vM(e){$E=e}(h),h.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,h){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(I=>I.timeoutId!==g),s()},l)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:h})}whenStable(s,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,h),this._runCallbacksIfReady()}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,h){return[]}}return(e=t).\u0275fac=function(s){return new(s||e)(nt(Vo),nt(GT),nt(HT))},e.\u0275prov=Pr({token:e,factory:e.\u0275fac}),t})(),GT=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){var h,g;return null!==(h=null===(g=$E)||void 0===g?void 0:g.findTestabilityInTree(this,s,l))&&void 0!==h?h:null}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function BE(e){return!!e&&"function"==typeof e.then}function zT(e){return!!e&&"function"==typeof e.subscribe}const WT=new tr("");let KT=(()=>{var e;class t{constructor(){var s;this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h}),this.appInits=null!==(s=Et(WT,{optional:!0}))&&void 0!==s?s:[]}runInitializers(){if(this.initialized)return;const s=[];for(const h of this.appInits){const g=h();if(BE(g))s.push(g);else if(zT(g)){const I=new Promise((S,z)=>{g.subscribe({complete:S,error:z})});s.push(I)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{l()}).catch(h=>{this.reject(h)}),0===s.length&&l(),this.initialized=!0}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const c0=new tr("");function qT(e,t){return Array.isArray(t)?t.reduce(qT,e):{...e,...t}}let nd=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Et(Hg),this.afterRenderManager=Et(nC),this.zonelessEnabled=Et(Cc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Gn.B,this.afterTick=new Gn.B,this.componentTypes=[],this.components=[],this.isStable=Et(es).hasPendingTasks.pipe((0,jt.T)(s=>!s)),this._injector=Et(jo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let s;return new Promise(l=>{s=this.isStable.subscribe({next:h=>{h&&l()}})}).finally(()=>{s.unsubscribe()})}get injector(){return this._injector}bootstrap(s,l){const h=s instanceof Ty;if(!this._injector.get(KT).done)throw!h&&Os(s),new xt(405,!1);let I;I=h?s:this._injector.get(eu).resolveComponentFactory(s),this.componentTypes.push(I.componentType);const S=function yM(e){return e.isBoundToModule}(I)?void 0:this._injector.get(jf),ee=I.create(Dr.NULL,[],l||I.selector,S),ue=ee.location.nativeElement,We=ee.injector.get(jT,null);return null==We||We.registerApplication(ue),ee.onDestroy(()=>{this.detachView(ee.hostView),u0(this.components,ee),null==We||We.unregisterApplication(ue)}),this._loadComponent(ee),ee}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new xt(101,!1);const s=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1,Ee(s),this.afterTick.next()}}synchronize(){let s=null;this._injector.destroyed||(s=this._injector.get(Bd,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let l=0;for(;0!==this.dirtyFlags&&l++<10;)this.synchronizeOnce(s)}synchronizeOnce(s){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const g=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(g);for(let{_lView:I,notifyErrorHandler:S}of this._views)bM(I,S,g,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var l,h;null==s||null===(l=s.begin)||void 0===l||l.call(s),null==s||null===(h=s.end)||void 0===h||h.call(s)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:s})=>Sl(s))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;u0(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const l=this._injector.get(c0,[]);[...this._bootstrapListeners,...l].forEach(h=>h(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>u0(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new xt(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function u0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function bM(e,t,r,s){(r||Sl(e))&&ju(e,t,r&&!s?0:1)}class CM{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let AM=(()=>{var e;class t{compileModuleSync(s){return new zI(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),g=Il(mo(s).declarations).reduce((I,S)=>{const z=Rr(S);return z&&I.push(new Uf(z)),I},[]);return new CM(l,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DM=(()=>{var e;class t{constructor(){this.zone=Et(Vo),this.changeDetectionScheduler=Et($d),this.applicationRef=Et(nd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var s;null===(s=this._onMicrotaskEmptySubscription)||void 0===s||s.unsubscribe()}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var s;return null!==(s=e)&&void 0!==s||(e=()=>new Vo({...HE(),scheduleInRootZone:r})),[{provide:Vo,useFactory:e},{provide:fe,multi:!0,useFactory:()=>{const l=Et(DM,{optional:!0});return()=>l.initialize()}},{provide:fe,multi:!0,useFactory:()=>{const l=Et(RM);return()=>{l.initialize()}}},!0===t?{provide:Ay,useValue:!0}:[],{provide:a_,useValue:null!=r?r:So}]}function HE(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let RM=(()=>{var e;class t{constructor(){this.subscription=new qt.yU,this.initialized=!1,this.zone=Et(Vo),this.pendingTasks=Et(es)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Vo.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var l;Vo.assertInAngularZone(),null!==(l=s)&&void 0!==l||(s=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),L_=(()=>{var e;class t{constructor(){var s,l,h;this.appRef=Et(nd),this.taskService=Et(es),this.ngZone=Et(Vo),this.zonelessEnabled=Et(Cc),this.disableScheduling=null!==(s=Et(Ay,{optional:!0}))&&void 0!==s&&s,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new qt.yU,this.angularZoneId=this.zoneIsDefined?null===(l=this.ngZone._inner)||void 0===l?void 0:l.get(Cu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(h=Et(a_,{optional:!0}))&&void 0!==h&&h,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Du||!this.zoneIsDefined))}notify(s){if(!this.zonelessEnabled&&5===s)return;switch(s){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const l=this.useMicrotaskScheduler?bu:vc;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>l(()=>this.tick())):this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(l){throw this.taskService.remove(s),l}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bu(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.runningTick=!1,null===(s=this.cancelScheduledCallback)||void 0===s||s.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}}return(e=t).\u0275fac=function(s){return new(s||e)},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const zE=new tr("",{providedIn:"root",factory:()=>Et(zE,Mr.Optional|Mr.SkipSelf)||function PM(){return typeof $localize<"u"&&$localize.locale||Jy}()}),MM=new tr("",{providedIn:"root",factory:()=>"USD"}),d0=new tr("");function h0(e){return!e.moduleRef}let nw=(()=>{var e;class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const h=null==l?void 0:l.scheduleInRootZone,S=[jE({ngZoneFactory:()=>function jg(e="zone.js",t){return"noop"===e?new Du:"zone.js"===e?new Vo(t):e}(null==l?void 0:l.ngZone,{...HE({eventCoalescing:null==l?void 0:l.ngZoneEventCoalescing,runCoalescing:null==l?void 0:l.ngZoneRunCoalescing}),scheduleInRootZone:h}),ignoreChangesOutsideZone:null==l?void 0:l.ignoreChangesOutsideZone}),{provide:$d,useExisting:L_}],z=function hD(e,t,r){return new GI(e,t,r,!1)}(s.moduleType,this.injector,S);return function tw(e){const t=h0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Vo);return r.run(()=>{h0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const s=t.get(Yl,null);let l;if(r.runOutsideAngular(()=>{l=r.onError.subscribe({next:h=>{s.handleError(h)}})}),h0(e)){const h=()=>t.destroy(),g=e.platformInjector.get(d0);g.add(h),t.onDestroy(()=>{l.unsubscribe(),g.delete(h)})}else{const h=()=>e.moduleRef.destroy(),g=e.platformInjector.get(d0);g.add(h),e.moduleRef.onDestroy(()=>{u0(e.allPlatformModules,e.moduleRef),l.unsubscribe(),g.delete(h)})}return function EM(e,t,r){try{const s=r();return BE(s)?s.catch(l=>{throw t.runOutsideAngular(()=>e.handleError(l)),l}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(s,r,()=>{const h=t.get(KT);return h.runInitializers(),h.donePromise.then(()=>{if(function nR(e){"string"==typeof e&&(eA=e.toLowerCase().replace(/_/g,"-"))}(t.get(zE,Jy)||Jy),h0(e)){const I=t.get(nd);return void 0!==e.rootComponent&&I.bootstrap(e.rootComponent),I}return function FM(e,t){const r=e.injector.get(nd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new xt(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:z,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(s,l=[]){const h=qT({},l);return function wM(e,t,r){const s=new zI(r);return Promise.resolve(s)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,h))}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xt(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(d0,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(s){return new(s||e)(nt(Dr))},e.\u0275prov=Pr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Gh=null;const rw=new tr("");function iw(e,t,r=[]){const s=`Platform: ${t}`,l=new tr(s);return(h=[])=>{let g=WE();if(!g||g.injector.get(rw,!1)){const I=[...r,...h,{provide:l,useValue:!0}];e?e(I):function LM(e){if(Gh&&!Gh.get(rw,!1))throw new xt(400,!1);(function XT(){!function we(e){un=e}(()=>{throw new xt(600,!1)})})(),Gh=e;const t=e.get(nw);(function sw(e){const t=e.get(mp,null);null==t||t.forEach(r=>r())})(e)}(function ow(e=[],t){return Dr.create({name:t,providers:[{provide:Vl,useValue:"platform"},{provide:d0,useValue:new Set([()=>Gh=null])},...e]})}(I,s))}return function VM(){const t=WE();if(!t)throw new xt(401,!1);return t}()}}function WE(){var e,t;return null!==(e=null===(t=Gh)||void 0===t?void 0:t.get(nw))&&void 0!==e?e:null}function $M(){return!1}function BM(){}let lw=(()=>{class t{}return t.__NG_ELEMENT_ID__=jM,t})();function jM(e){return function HM(e,t,r){if(Ya(e)&&!r){const s=Ps(e.index,t);return new bf(s,s)}return 175&e.type?new bf(t[Zi],t):null}(Zr(),ln(),!(16&~e))}class hw{constructor(){}supports(t){return Fy(t)}create(t){return new XM(t)}}const KM=(e,t)=>t;class XM{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||KM}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,s=this._removalsHead,l=0,h=null;for(;r||s;){const g=!s||r&&r.currentIndex<pw(s,l,h)?r:s,I=pw(g,l,h),S=g.currentIndex;if(g===s)l--,s=s._nextRemoved;else if(r=r._next,null==g.previousIndex)l++;else{h||(h=[]);const z=I-l,ee=S-l;if(z!=ee){for(let We=0;We<z;We++){const lt=We<h.length?h[We]:h[We]=0,tt=lt+We;ee<=tt&&tt<z&&(h[We]=lt+1)}h[g.previousIndex]=ee-z}}I!==S&&t(g,I,S)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Fy(t))throw new xt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let l,h,g,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)h=t[I],g=this._trackByFn(I,h),null!==r&&Object.is(r.trackById,g)?(s&&(r=this._verifyReinsertion(r,h,g,I)),Object.is(r.item,h)||this._addIdentityChange(r,h)):(r=this._mismatch(r,h,g,I),s=!0),r=r._next}else l=0,function gD(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let s;for(;!(s=r.next()).done;)t(s.value)}}(t,I=>{g=this._trackByFn(l,I),null!==r&&Object.is(r.trackById,g)?(s&&(r=this._verifyReinsertion(r,I,g,l)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,g,l),s=!0),r=r._next,l++}),this.length=l;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,s,l){let h;return null===t?h=this._itTail:(h=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,h,l)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,l))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,h,l)):t=this._addAfter(new qM(r,s),h,l),t}_verifyReinsertion(t,r,s,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==h?t=this._reinsertAfter(h,t._prev,l):t.currentIndex!=l&&(t.currentIndex=l,this._addToMoves(t,l)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const l=t._prevRemoved,h=t._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(t,r,s),this._addToMoves(t,s),t}_moveAfter(t,r,s){return this._unlink(t),this._insertAfter(t,r,s),this._addToMoves(t,s),t}_addAfter(t,r,s){return this._insertAfter(t,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,s){const l=null===r?this._itHead:r._next;return t._next=l,t._prev=r,null===l?this._itTail=t:l._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,s=t._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class qM{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QM{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const r=t._prevDup,s=t._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class fw{constructor(){this.map=new Map}put(t){const r=t.trackById;let s=this.map.get(r);s||(s=new QM,this.map.set(r,s)),s.add(t)}get(t,r){const l=this.map.get(t);return l?l.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(e,t,r){const s=e.previousIndex;if(null===s)return s;let l=0;return r&&s<r.length&&(l=r[s]),s+t+l}class gw{constructor(){}supports(t){return t instanceof Map||KI(t)}create(){return new YM}}class YM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||KI(t)))throw new xt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,l)=>{if(r&&r.key===l)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const h=this._getOrCreateRecordForKey(l,s);r=this._insertBeforeOrAppend(r,h)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const s=t._prev;return r._next=t,r._prev=s,t._prev=r,s&&(s._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const l=this._records.get(t);this._maybeAddToChanges(l,r);const h=l._prev,g=l._next;return h&&(h._next=g),g&&(g._prev=h),l._next=null,l._prev=null,l}const s=new JM(t);return this._records.set(t,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(s=>r(t[s],s))}}class JM{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new YE([new hw])}let YE=(()=>{var e;class t{constructor(s){this.factories=s}static create(s,l){if(null!=l){const h=l.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||mw()),deps:[[t,new ui,new vi]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(null!=l)return l;throw new xt(901,!1)}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:mw}),t})();function _w(){return new JE([new gw])}let JE=(()=>{var e;class t{constructor(s){this.factories=s}static create(s,l){if(l){const h=l.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||_w()),deps:[[t,new ui,new vi]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(l)return l;throw new xt(901,!1)}}return(e=t).\u0275prov=Pr({token:e,providedIn:"root",factory:_w}),t})();const t1=iw(null,"core",[]);let n1=(()=>{var e;class t{constructor(s){}}return(e=t).\u0275fac=function(s){return new(s||e)(nt(nd))},e.\u0275mod=na({type:e}),e.\u0275inj=be({}),t})();function N1(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function k1(e,t){bl("NgSignals");const r=function he(e){const t=Object.create(Nt);t.computation=e;const r=()=>{if(Qe(t),_e(t),t.value===Je)throw t.error;return t.value};return r[W]=t,r}(e);return null!=t&&t.equal&&(r[W].equal=t.equal),r}function F1(e){const t=Ee(null);try{return e()}finally{Ee(t)}}function j1(e,t){const r=Rr(e),s=t.elementInjector||Va();return new Uf(r).create(s,t.projectableNodes,t.hostElement,t.environmentInjector)}function H1(e){const t=Rr(e);if(!t)return null;const r=new Uf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(Pn,Dt,V)=>{"use strict";V.d(Dt,{DS:()=>ze,X8:()=>Ze,$z:()=>me,UB:()=>oe,yy:()=>Ge,ZP:()=>we,AU:()=>De,CP:()=>un,gF:()=>Ne});var d=V(9842),B=(V(2438),V(177)),ve=V(4438),W=V(5407),Ee=V(9253),Se=V(1413),Be=V(7673),ot=V(1985),Re=V(8455),_e=V(6365),et=V(8750),Qe=V(983),Ke=V(3794),yt=V(941),mt=V(5558),ut=V(6354),Mt=V(6129);class At extends Se.B{constructor(st=1/0,_t=1/0,Ft=Mt.U){super(),this._bufferSize=st,this._windowTime=_t,this._timestampProvider=Ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_t===1/0,this._bufferSize=Math.max(1,st),this._windowTime=Math.max(1,_t)}next(st){const{isStopped:_t,_buffer:Ft,_infiniteTimeWindow:Nn,_timestampProvider:It,_windowTime:mn}=this;_t||(Ft.push(st),!Nn&&Ft.push(It.now()+mn)),this._trimBuffer(),super.next(st)}_subscribe(st){this._throwIfClosed(),this._trimBuffer();const _t=this._innerSubscribe(st),{_infiniteTimeWindow:Ft,_buffer:Nn}=this,It=Nn.slice();for(let mn=0;mn<It.length&&!st.closed;mn+=Ft?1:2)st.next(It[mn]);return this._checkFinalizedStatuses(st),_t}_trimBuffer(){const{_bufferSize:st,_timestampProvider:_t,_buffer:Ft,_infiniteTimeWindow:Nn}=this,It=(Nn?1:2)*st;if(st<1/0&&It<Ft.length&&Ft.splice(0,Ft.length-It),!Nn){const mn=_t.now();let kn=0;for(let Gn=1;Gn<Ft.length&&Ft[Gn]<=mn;Gn+=2)kn=Gn;kn&&Ft.splice(0,kn+1)}}}var Te=V(7707),xe=V(9974);function it(je,st,..._t){if(!0===st)return void je();if(!1===st)return;const Ft=new Te.Ms({next:()=>{Ft.unsubscribe(),je()}});return(0,et.Tg)(st(..._t)).subscribe(Ft)}function dt(je,st,_t){let Ft,Nn=!1;return je&&"object"==typeof je?({bufferSize:Ft=1/0,windowTime:st=1/0,refCount:Nn=!1,scheduler:_t}=je):Ft=null!=je?je:1/0,function Me(je={}){const{connector:st=()=>new Se.B,resetOnError:_t=!0,resetOnComplete:Ft=!0,resetOnRefCountZero:Nn=!0}=je;return It=>{let mn,kn,Gn,qt=0,jt=!1,On=!1;const rn=()=>{null==kn||kn.unsubscribe(),kn=void 0},ke=()=>{rn(),mn=Gn=void 0,jt=On=!1},Fe=()=>{const kt=mn;ke(),null==kt||kt.unsubscribe()};return(0,xe.N)((kt,xt)=>{qt++,!On&&!jt&&rn();const Qn=Gn=null!=Gn?Gn:st();xt.add(()=>{qt--,0===qt&&!On&&!jt&&(kn=it(Fe,Nn))}),Qn.subscribe(xt),!mn&&qt>0&&(mn=new Te.Ms({next:nr=>Qn.next(nr),error:nr=>{On=!0,rn(),kn=it(ke,_t,nr),Qn.error(nr)},complete:()=>{jt=!0,rn(),kn=it(ke,Ft),Qn.complete()}}),(0,et.Tg)(kt).subscribe(mn))})(It)}}({connector:()=>new At(Ft,st,_t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Nn})}var rt=V(1594),he=V(8071);function ht(je,st){return(0,he.T)(st)?(0,mt.n)(()=>je,st):(0,mt.n)(()=>je)}var ft=V(6745),Je=V(5964),Nt=V(7935);const un=new ve.nKC("angularfire2.auth.use-emulator"),Ge=new ve.nKC("angularfire2.auth.settings"),we=new ve.nKC("angularfire2.auth.tenant-id"),me=new ve.nKC("angularfire2.auth.langugage-code"),De=new ve.nKC("angularfire2.auth.use-device-language"),oe=new ve.nKC("angularfire.auth.persistence"),Ne=(je,st,_t,Ft,Nn,It,mn,kn)=>(0,Ee.BM)(`${je.name}.auth`,"AngularFireAuth",je.name,()=>{const Gn=st.runOutsideAngular(()=>je.auth());if(_t&&Gn.useEmulator(..._t),Ft&&(Gn.tenantId=Ft),Gn.languageCode=Nn,It&&Gn.useDeviceLanguage(),mn)for(const[qt,jt]of Object.entries(mn))Gn.settings[qt]=jt;return kn&&Gn.setPersistence(kn),Gn},[_t,Ft,Nn,It,mn,kn]);let ze=(()=>{var je;class st{constructor(Ft,Nn,It,mn,kn,Gn,qt,jt,On,rn,ke,Fe){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const kt=new Se.B,xt=(0,Be.of)(void 0).pipe((0,yt.Q)(kn.outsideAngular),(0,mt.n)(()=>mn.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2438)))),(0,ut.T)(()=>(0,Ee.iB)(Ft,mn,Nn)),(0,ut.T)(Qn=>Ne(Qn,mn,Gn,jt,On,rn,qt,ke)),dt({bufferSize:1,refCount:!1}));if((0,B.Vy)(It))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{xt.pipe((0,rt.$)()).subscribe();const Qn=xt.pipe((0,mt.n)(Tn=>Tn.getRedirectResult().then(gr=>gr,()=>null)),W.U0,dt({bufferSize:1,refCount:!1})),nr=xt.pipe((0,mt.n)(Tn=>new ot.c(gr=>({unsubscribe:mn.runOutsideAngular(()=>Tn.onAuthStateChanged(rr=>gr.next(rr),rr=>gr.error(rr),()=>gr.complete()))})))),Vn=xt.pipe((0,mt.n)(Tn=>new ot.c(gr=>({unsubscribe:mn.runOutsideAngular(()=>Tn.onIdTokenChanged(rr=>gr.next(rr),rr=>gr.error(rr),()=>gr.complete()))}))));this.authState=Qn.pipe(ht(nr),(0,ft._)(kn.outsideAngular),(0,yt.Q)(kn.insideAngular)),this.user=Qn.pipe(ht(Vn),(0,ft._)(kn.outsideAngular),(0,yt.Q)(kn.insideAngular)),this.idToken=this.user.pipe((0,mt.n)(Tn=>Tn?(0,Re.H)(Tn.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe((0,mt.n)(Tn=>Tn?(0,Re.H)(Tn.getIdTokenResult()):(0,Be.of)(null))),this.credential=function ct(...je){const st=(0,Ke.lI)(je),_t=(0,Ke.R0)(je,1/0),Ft=je;return Ft.length?1===Ft.length?(0,et.Tg)(Ft[0]):(0,_e.U)(_t)((0,Re.H)(Ft,st)):Qe.w}(Qn,kt,this.authState.pipe((0,Je.p)(Tn=>!Tn))).pipe((0,ut.T)(Tn=>null!=Tn&&Tn.user?Tn:null),(0,ft._)(kn.outsideAngular),(0,yt.Q)(kn.insideAngular))}return(0,Ee.Gt)(this,xt,mn,{spy:{apply:(Qn,nr,Vn)=>{(Qn.startsWith("signIn")||Qn.startsWith("createUser"))&&Vn.then(Tn=>kt.next(Tn))}}})}}return je=st,(0,d.A)(st,"\u0275fac",function(Ft){return new(Ft||je)(ve.KVO(Ee.rx),ve.KVO(Ee.uP,8),ve.KVO(ve.Agw),ve.KVO(ve.SKi),ve.KVO(W.u0),ve.KVO(un,8),ve.KVO(Ge,8),ve.KVO(we,8),ve.KVO(me,8),ve.KVO(De,8),ve.KVO(oe,8),ve.KVO(W.Jv,8))}),(0,d.A)(st,"\u0275prov",ve.jDH({token:je,factory:je.\u0275fac,providedIn:"any"})),st})(),Ze=(()=>{var je;class st{constructor(){Nt.A.registerVersion("angularfire",W.xv.full,"auth-compat")}}return je=st,(0,d.A)(st,"\u0275fac",function(Ft){return new(Ft||je)}),(0,d.A)(st,"\u0275mod",ve.$C({type:je})),(0,d.A)(st,"\u0275inj",ve.G2t({providers:[ze]})),st})()},8079:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Qe:()=>Jl,cM:()=>Gm});var d=V(9842),o=V(177),B=V(4438),ve=V(5407),W=V(9253),Ee=V(1182),Se=V(3236),Be=V(1985),ot=V(8455),Re=V(7673),_e=V(9172),et=V(9974),Qe=V(4360);function Ke(){return(0,et.N)((c,n)=>{let i,a=!1;c.subscribe((0,Qe._)(n,u=>{const f=i;i=u,a&&n.next([f,u]),a=!0}))})}var ht,ft,ct=V(6354),yt=V(2816),mt=V(3294),ut=V(5964),At=(V(2438),V(3345)),Te=V(467),xe=V(8742),Me=V(1362),it=V(8041),dt=V(1076),rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he={};(function(){var c;function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(Vt,pt,Pt){Pt||(Pt=0);var $t=Array(16);if("string"==typeof pt)for(var Wt=0;16>Wt;++Wt)$t[Wt]=pt.charCodeAt(Pt++)|pt.charCodeAt(Pt++)<<8|pt.charCodeAt(Pt++)<<16|pt.charCodeAt(Pt++)<<24;else for(Wt=0;16>Wt;++Wt)$t[Wt]=pt[Pt++]|pt[Pt++]<<8|pt[Pt++]<<16|pt[Pt++]<<24;var Zt=Vt.g[3],Rt=(pt=Vt.g[0])+(Zt^(Pt=Vt.g[1])&((Wt=Vt.g[2])^Zt))+$t[0]+3614090360&4294967295;Rt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=(Pt=(Wt=(Zt=(pt=Pt+(Rt<<7&4294967295|Rt>>>25))+((Rt=Zt+(Wt^pt&(Pt^Wt))+$t[1]+3905402710&4294967295)<<12&4294967295|Rt>>>20))+((Rt=Wt+(Pt^Zt&(pt^Pt))+$t[2]+606105819&4294967295)<<17&4294967295|Rt>>>15))+((Rt=Pt+(pt^Wt&(Zt^pt))+$t[3]+3250441966&4294967295)<<22&4294967295|Rt>>>10))+((Rt=pt+(Zt^Pt&(Wt^Zt))+$t[4]+4118548399&4294967295)<<7&4294967295|Rt>>>25))+((Rt=Zt+(Wt^pt&(Pt^Wt))+$t[5]+1200080426&4294967295)<<12&4294967295|Rt>>>20))+((Rt=Wt+(Pt^Zt&(pt^Pt))+$t[6]+2821735955&4294967295)<<17&4294967295|Rt>>>15))+((Rt=Pt+(pt^Wt&(Zt^pt))+$t[7]+4249261313&4294967295)<<22&4294967295|Rt>>>10))+((Rt=pt+(Zt^Pt&(Wt^Zt))+$t[8]+1770035416&4294967295)<<7&4294967295|Rt>>>25))+((Rt=Zt+(Wt^pt&(Pt^Wt))+$t[9]+2336552879&4294967295)<<12&4294967295|Rt>>>20))+((Rt=Wt+(Pt^Zt&(pt^Pt))+$t[10]+4294925233&4294967295)<<17&4294967295|Rt>>>15))+((Rt=Pt+(pt^Wt&(Zt^pt))+$t[11]+2304563134&4294967295)<<22&4294967295|Rt>>>10))+((Rt=pt+(Zt^Pt&(Wt^Zt))+$t[12]+1804603682&4294967295)<<7&4294967295|Rt>>>25))+((Rt=Zt+(Wt^pt&(Pt^Wt))+$t[13]+4254626195&4294967295)<<12&4294967295|Rt>>>20))+((Rt=Wt+(Pt^Zt&(pt^Pt))+$t[14]+2792965006&4294967295)<<17&4294967295|Rt>>>15))+((Rt=Pt+(pt^Wt&(Zt^pt))+$t[15]+1236535329&4294967295)<<22&4294967295|Rt>>>10))+((Rt=pt+(Wt^Zt&(Pt^Wt))+$t[1]+4129170786&4294967295)<<5&4294967295|Rt>>>27))+((Rt=Zt+(Pt^Wt&(pt^Pt))+$t[6]+3225465664&4294967295)<<9&4294967295|Rt>>>23))+((Rt=Wt+(pt^Pt&(Zt^pt))+$t[11]+643717713&4294967295)<<14&4294967295|Rt>>>18))+((Rt=Pt+(Zt^pt&(Wt^Zt))+$t[0]+3921069994&4294967295)<<20&4294967295|Rt>>>12))+((Rt=pt+(Wt^Zt&(Pt^Wt))+$t[5]+3593408605&4294967295)<<5&4294967295|Rt>>>27))+((Rt=Zt+(Pt^Wt&(pt^Pt))+$t[10]+38016083&4294967295)<<9&4294967295|Rt>>>23))+((Rt=Wt+(pt^Pt&(Zt^pt))+$t[15]+3634488961&4294967295)<<14&4294967295|Rt>>>18))+((Rt=Pt+(Zt^pt&(Wt^Zt))+$t[4]+3889429448&4294967295)<<20&4294967295|Rt>>>12))+((Rt=pt+(Wt^Zt&(Pt^Wt))+$t[9]+568446438&4294967295)<<5&4294967295|Rt>>>27))+((Rt=Zt+(Pt^Wt&(pt^Pt))+$t[14]+3275163606&4294967295)<<9&4294967295|Rt>>>23))+((Rt=Wt+(pt^Pt&(Zt^pt))+$t[3]+4107603335&4294967295)<<14&4294967295|Rt>>>18))+((Rt=Pt+(Zt^pt&(Wt^Zt))+$t[8]+1163531501&4294967295)<<20&4294967295|Rt>>>12))+((Rt=pt+(Wt^Zt&(Pt^Wt))+$t[13]+2850285829&4294967295)<<5&4294967295|Rt>>>27))+((Rt=Zt+(Pt^Wt&(pt^Pt))+$t[2]+4243563512&4294967295)<<9&4294967295|Rt>>>23))+((Rt=Wt+(pt^Pt&(Zt^pt))+$t[7]+1735328473&4294967295)<<14&4294967295|Rt>>>18))+((Rt=Pt+(Zt^pt&(Wt^Zt))+$t[12]+2368359562&4294967295)<<20&4294967295|Rt>>>12))+((Rt=pt+(Pt^Wt^Zt)+$t[5]+4294588738&4294967295)<<4&4294967295|Rt>>>28))+((Rt=Zt+(pt^Pt^Wt)+$t[8]+2272392833&4294967295)<<11&4294967295|Rt>>>21))+((Rt=Wt+(Zt^pt^Pt)+$t[11]+1839030562&4294967295)<<16&4294967295|Rt>>>16))+((Rt=Pt+(Wt^Zt^pt)+$t[14]+4259657740&4294967295)<<23&4294967295|Rt>>>9))+((Rt=pt+(Pt^Wt^Zt)+$t[1]+2763975236&4294967295)<<4&4294967295|Rt>>>28))+((Rt=Zt+(pt^Pt^Wt)+$t[4]+1272893353&4294967295)<<11&4294967295|Rt>>>21))+((Rt=Wt+(Zt^pt^Pt)+$t[7]+4139469664&4294967295)<<16&4294967295|Rt>>>16))+((Rt=Pt+(Wt^Zt^pt)+$t[10]+3200236656&4294967295)<<23&4294967295|Rt>>>9))+((Rt=pt+(Pt^Wt^Zt)+$t[13]+681279174&4294967295)<<4&4294967295|Rt>>>28))+((Rt=Zt+(pt^Pt^Wt)+$t[0]+3936430074&4294967295)<<11&4294967295|Rt>>>21))+((Rt=Wt+(Zt^pt^Pt)+$t[3]+3572445317&4294967295)<<16&4294967295|Rt>>>16))+((Rt=Pt+(Wt^Zt^pt)+$t[6]+76029189&4294967295)<<23&4294967295|Rt>>>9))+((Rt=pt+(Pt^Wt^Zt)+$t[9]+3654602809&4294967295)<<4&4294967295|Rt>>>28))+((Rt=Zt+(pt^Pt^Wt)+$t[12]+3873151461&4294967295)<<11&4294967295|Rt>>>21))+((Rt=Wt+(Zt^pt^Pt)+$t[15]+530742520&4294967295)<<16&4294967295|Rt>>>16))+((Rt=Pt+(Wt^Zt^pt)+$t[2]+3299628645&4294967295)<<23&4294967295|Rt>>>9))+((Rt=pt+(Wt^(Pt|~Zt))+$t[0]+4096336452&4294967295)<<6&4294967295|Rt>>>26))+((Rt=Zt+(Pt^(pt|~Wt))+$t[7]+1126891415&4294967295)<<10&4294967295|Rt>>>22))+((Rt=Wt+(pt^(Zt|~Pt))+$t[14]+2878612391&4294967295)<<15&4294967295|Rt>>>17))+((Rt=Pt+(Zt^(Wt|~pt))+$t[5]+4237533241&4294967295)<<21&4294967295|Rt>>>11))+((Rt=pt+(Wt^(Pt|~Zt))+$t[12]+1700485571&4294967295)<<6&4294967295|Rt>>>26))+((Rt=Zt+(Pt^(pt|~Wt))+$t[3]+2399980690&4294967295)<<10&4294967295|Rt>>>22))+((Rt=Wt+(pt^(Zt|~Pt))+$t[10]+4293915773&4294967295)<<15&4294967295|Rt>>>17))+((Rt=Pt+(Zt^(Wt|~pt))+$t[1]+2240044497&4294967295)<<21&4294967295|Rt>>>11))+((Rt=pt+(Wt^(Pt|~Zt))+$t[8]+1873313359&4294967295)<<6&4294967295|Rt>>>26))+((Rt=Zt+(Pt^(pt|~Wt))+$t[15]+4264355552&4294967295)<<10&4294967295|Rt>>>22))+((Rt=Wt+(pt^(Zt|~Pt))+$t[6]+2734768916&4294967295)<<15&4294967295|Rt>>>17))+((Rt=Pt+(Zt^(Wt|~pt))+$t[13]+1309151649&4294967295)<<21&4294967295|Rt>>>11))+((Zt=(pt=Pt+((Rt=pt+(Wt^(Pt|~Zt))+$t[4]+4149444226&4294967295)<<6&4294967295|Rt>>>26))+((Rt=Zt+(Pt^(pt|~Wt))+$t[11]+3174756917&4294967295)<<10&4294967295|Rt>>>22))^((Wt=Zt+((Rt=Wt+(pt^(Zt|~Pt))+$t[2]+718787259&4294967295)<<15&4294967295|Rt>>>17))|~pt))+$t[9]+3951481745&4294967295,Vt.g[0]=Vt.g[0]+pt&4294967295,Vt.g[1]=Vt.g[1]+(Wt+(Rt<<21&4294967295|Rt>>>11))&4294967295,Vt.g[2]=Vt.g[2]+Wt&4294967295,Vt.g[3]=Vt.g[3]+Zt&4294967295}function y(Vt,pt){this.h=pt;for(var Pt=[],$t=!0,Wt=Vt.length-1;0<=Wt;Wt--){var Zt=0|Vt[Wt];$t&&Zt==pt||(Pt[Wt]=Zt,$t=!1)}this.g=Pt}(function n(Vt,pt){function Pt(){}Pt.prototype=pt.prototype,Vt.D=pt.prototype,Vt.prototype=new Pt,Vt.prototype.constructor=Vt,Vt.C=function($t,Wt,Zt){for(var Rt=Array(arguments.length-2),Xc=2;Xc<arguments.length;Xc++)Rt[Xc-2]=arguments[Xc];return pt.prototype[Wt].apply($t,Rt)}})(a,function i(){this.blockSize=-1}),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},a.prototype.u=function(Vt,pt){void 0===pt&&(pt=Vt.length);for(var Pt=pt-this.blockSize,$t=this.B,Wt=this.h,Zt=0;Zt<pt;){if(0==Wt)for(;Zt<=Pt;)u(this,Vt,Zt),Zt+=this.blockSize;if("string"==typeof Vt){for(;Zt<pt;)if($t[Wt++]=Vt.charCodeAt(Zt++),Wt==this.blockSize){u(this,$t),Wt=0;break}}else for(;Zt<pt;)if($t[Wt++]=Vt[Zt++],Wt==this.blockSize){u(this,$t),Wt=0;break}}this.h=Wt,this.o+=pt},a.prototype.v=function(){var Vt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Vt[0]=128;for(var pt=1;pt<Vt.length-8;++pt)Vt[pt]=0;var Pt=8*this.o;for(pt=Vt.length-8;pt<Vt.length;++pt)Vt[pt]=255&Pt,Pt/=256;for(this.u(Vt),Vt=Array(16),pt=Pt=0;4>pt;++pt)for(var $t=0;32>$t;$t+=8)Vt[Pt++]=this.g[pt]>>>$t&255;return Vt};var N={};function U(Vt){return-128<=Vt&&128>Vt?function f(Vt,pt){var Pt=N;return Object.prototype.hasOwnProperty.call(Pt,Vt)?Pt[Vt]:Pt[Vt]=pt(Vt)}(Vt,function(pt){return new y([0|pt],0>pt?-1:0)}):new y([0|Vt],0>Vt?-1:0)}function te(Vt){if(isNaN(Vt)||!isFinite(Vt))return Ve;if(0>Vt)return xn(te(-Vt));for(var pt=[],Pt=1,$t=0;Vt>=Pt;$t++)pt[$t]=Vt/Pt|0,Pt*=4294967296;return new y(pt,0)}var Ve=U(0),vt=U(1),Yt=U(16777216);function vn(Vt){if(0!=Vt.h)return!1;for(var pt=0;pt<Vt.g.length;pt++)if(0!=Vt.g[pt])return!1;return!0}function $n(Vt){return-1==Vt.h}function xn(Vt){for(var pt=Vt.g.length,Pt=[],$t=0;$t<pt;$t++)Pt[$t]=~Vt.g[$t];return new y(Pt,~Vt.h).add(vt)}function ur(Vt,pt){return Vt.add(xn(pt))}function wr(Vt,pt){for(;(65535&Vt[pt])!=Vt[pt];)Vt[pt+1]+=Vt[pt]>>>16,Vt[pt]&=65535,pt++}function pr(Vt,pt){this.g=Vt,this.h=pt}function kr(Vt,pt){if(vn(pt))throw Error("division by zero");if(vn(Vt))return new pr(Ve,Ve);if($n(Vt))return pt=kr(xn(Vt),pt),new pr(xn(pt.g),xn(pt.h));if($n(pt))return pt=kr(Vt,xn(pt)),new pr(xn(pt.g),pt.h);if(30<Vt.g.length){if($n(Vt)||$n(pt))throw Error("slowDivide_ only works with positive integers.");for(var Pt=vt,$t=pt;0>=$t.l(Vt);)Pt=Li(Pt),$t=Li($t);var Wt=qr(Pt,1),Zt=qr($t,1);for($t=qr($t,2),Pt=qr(Pt,2);!vn($t);){var Rt=Zt.add($t);0>=Rt.l(Vt)&&(Wt=Wt.add(Pt),Zt=Rt),$t=qr($t,1),Pt=qr(Pt,1)}return pt=ur(Vt,Wt.j(pt)),new pr(Wt,pt)}for(Wt=Ve;0<=Vt.l(pt);){for(Pt=Math.max(1,Math.floor(Vt.m()/pt.m())),$t=48>=($t=Math.ceil(Math.log(Pt)/Math.LN2))?1:Math.pow(2,$t-48),Rt=(Zt=te(Pt)).j(pt);$n(Rt)||0<Rt.l(Vt);)Rt=(Zt=te(Pt-=$t)).j(pt);vn(Zt)&&(Zt=vt),Wt=Wt.add(Zt),Vt=ur(Vt,Rt)}return new pr(Wt,Vt)}function Li(Vt){for(var pt=Vt.g.length+1,Pt=[],$t=0;$t<pt;$t++)Pt[$t]=Vt.i($t)<<1|Vt.i($t-1)>>>31;return new y(Pt,Vt.h)}function qr(Vt,pt){var Pt=pt>>5;pt%=32;for(var $t=Vt.g.length-Pt,Wt=[],Zt=0;Zt<$t;Zt++)Wt[Zt]=0<pt?Vt.i(Zt+Pt)>>>pt|Vt.i(Zt+Pt+1)<<32-pt:Vt.i(Zt+Pt);return new y(Wt,Vt.h)}(c=y.prototype).m=function(){if($n(this))return-xn(this).m();for(var Vt=0,pt=1,Pt=0;Pt<this.g.length;Pt++){var $t=this.i(Pt);Vt+=(0<=$t?$t:4294967296+$t)*pt,pt*=4294967296}return Vt},c.toString=function(Vt){if(2>(Vt=Vt||10)||36<Vt)throw Error("radix out of range: "+Vt);if(vn(this))return"0";if($n(this))return"-"+xn(this).toString(Vt);for(var pt=te(Math.pow(Vt,6)),Pt=this,$t="";;){var Wt=kr(Pt,pt).g,Zt=((0<(Pt=ur(Pt,Wt.j(pt))).g.length?Pt.g[0]:Pt.h)>>>0).toString(Vt);if(vn(Pt=Wt))return Zt+$t;for(;6>Zt.length;)Zt="0"+Zt;$t=Zt+$t}},c.i=function(Vt){return 0>Vt?0:Vt<this.g.length?this.g[Vt]:this.h},c.l=function(Vt){return $n(Vt=ur(this,Vt))?-1:vn(Vt)?0:1},c.abs=function(){return $n(this)?xn(this):this},c.add=function(Vt){for(var pt=Math.max(this.g.length,Vt.g.length),Pt=[],$t=0,Wt=0;Wt<=pt;Wt++){var Zt=$t+(65535&this.i(Wt))+(65535&Vt.i(Wt)),Rt=(Zt>>>16)+(this.i(Wt)>>>16)+(Vt.i(Wt)>>>16);$t=Rt>>>16,Pt[Wt]=(Rt&=65535)<<16|(Zt&=65535)}return new y(Pt,-2147483648&Pt[Pt.length-1]?-1:0)},c.j=function(Vt){if(vn(this)||vn(Vt))return Ve;if($n(this))return $n(Vt)?xn(this).j(xn(Vt)):xn(xn(this).j(Vt));if($n(Vt))return xn(this.j(xn(Vt)));if(0>this.l(Yt)&&0>Vt.l(Yt))return te(this.m()*Vt.m());for(var pt=this.g.length+Vt.g.length,Pt=[],$t=0;$t<2*pt;$t++)Pt[$t]=0;for($t=0;$t<this.g.length;$t++)for(var Wt=0;Wt<Vt.g.length;Wt++){var Zt=this.i($t)>>>16,Rt=65535&this.i($t),Xc=Vt.i(Wt)>>>16,wh=65535&Vt.i(Wt);Pt[2*$t+2*Wt]+=Rt*wh,wr(Pt,2*$t+2*Wt),Pt[2*$t+2*Wt+1]+=Zt*wh,wr(Pt,2*$t+2*Wt+1),Pt[2*$t+2*Wt+1]+=Rt*Xc,wr(Pt,2*$t+2*Wt+1),Pt[2*$t+2*Wt+2]+=Zt*Xc,wr(Pt,2*$t+2*Wt+2)}for($t=0;$t<pt;$t++)Pt[$t]=Pt[2*$t+1]<<16|Pt[2*$t];for($t=pt;$t<2*pt;$t++)Pt[$t]=0;return new y(Pt,0)},c.A=function(Vt){return kr(this,Vt).h},c.and=function(Vt){for(var pt=Math.max(this.g.length,Vt.g.length),Pt=[],$t=0;$t<pt;$t++)Pt[$t]=this.i($t)&Vt.i($t);return new y(Pt,this.h&Vt.h)},c.or=function(Vt){for(var pt=Math.max(this.g.length,Vt.g.length),Pt=[],$t=0;$t<pt;$t++)Pt[$t]=this.i($t)|Vt.i($t);return new y(Pt,this.h|Vt.h)},c.xor=function(Vt){for(var pt=Math.max(this.g.length,Vt.g.length),Pt=[],$t=0;$t<pt;$t++)Pt[$t]=this.i($t)^Vt.i($t);return new y(Pt,this.h^Vt.h)},a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,ft=he.Md5=a,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=te,y.fromString=function ge(Vt,pt){if(0==Vt.length)throw Error("number format error: empty string");if(2>(pt=pt||10)||36<pt)throw Error("radix out of range: "+pt);if("-"==Vt.charAt(0))return xn(ge(Vt.substring(1),pt));if(0<=Vt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Pt=te(Math.pow(pt,8)),$t=Ve,Wt=0;Wt<Vt.length;Wt+=8){var Zt=Math.min(8,Vt.length-Wt),Rt=parseInt(Vt.substring(Wt,Wt+Zt),pt);8>Zt?(Zt=te(Math.pow(pt,Zt)),$t=$t.j(Zt).add(te(Rt))):$t=($t=$t.j(Pt)).add(te(Rt))}return $t},ht=he.Integer=y}).apply(typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{});var Ot,Ge,we,me,De,oe,Ne,ze,Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nt={};(function(){var c,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,H,ie){return v==Array.prototype||v==Object.prototype||(v[H]=ie.value),v},a=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Je&&Je];for(var H=0;H<v.length;++H){var ie=v[H];if(ie&&ie.Math==Math)return ie}throw Error("Cannot find global object")}(this);!function u(v,H){if(H)e:{var ie=a;v=v.split(".");for(var Pe=0;Pe<v.length-1;Pe++){var Xt=v[Pe];if(!(Xt in ie))break e;ie=ie[Xt]}(H=H(Pe=ie[v=v[v.length-1]]))!=Pe&&null!=H&&n(ie,v,{configurable:!0,writable:!0,value:H})}}("Array.prototype.values",function(v){return v||function(){return function f(v,H){v instanceof String&&(v+="");var ie=0,Pe=!1,Xt={next:function(){if(!Pe&&ie<v.length){var cn=ie++;return{value:H(cn,v[cn]),done:!1}}return Pe=!0,{done:!0,value:void 0}}};return Xt[Symbol.iterator]=function(){return Xt},Xt}(this,function(H,ie){return ie})}});var y=y||{},N=this||self;function U(v){var H=typeof v;return"array"==(H="object"!=H?H:v?Array.isArray(v)?"array":H:"null")||"object"==H&&"number"==typeof v.length}function te(v){var H=typeof v;return"object"==H&&null!=v||"function"==H}function ge(v,H,ie){return v.call.apply(v.bind,arguments)}function Ve(v,H,ie){if(!v)throw Error();if(2<arguments.length){var Pe=Array.prototype.slice.call(arguments,2);return function(){var Xt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Xt,Pe),v.apply(H,Xt)}}return function(){return v.apply(H,arguments)}}function vt(v,H,ie){return(vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ge:Ve).apply(null,arguments)}function Yt(v,H){var ie=Array.prototype.slice.call(arguments,1);return function(){var Pe=ie.slice();return Pe.push.apply(Pe,arguments),v.apply(this,Pe)}}function vn(v,H){function ie(){}ie.prototype=H.prototype,v.aa=H.prototype,v.prototype=new ie,v.prototype.constructor=v,v.Qb=function(Pe,Xt,cn){for(var Zn=Array(arguments.length-2),vo=2;vo<arguments.length;vo++)Zn[vo-2]=arguments[vo];return H.prototype[Xt].apply(Pe,Zn)}}function $n(v){const H=v.length;if(0<H){const ie=Array(H);for(let Pe=0;Pe<H;Pe++)ie[Pe]=v[Pe];return ie}return[]}function xn(v,H){for(let ie=1;ie<arguments.length;ie++){const Pe=arguments[ie];if(U(Pe)){const Xt=v.length||0,cn=Pe.length||0;v.length=Xt+cn;for(let Zn=0;Zn<cn;Zn++)v[Xt+Zn]=Pe[Zn]}else v.push(Pe)}}function wr(v){return/^[\s\xa0]*$/.test(v)}function pr(){var v=N.navigator;return v&&(v=v.userAgent)?v:""}function kr(v){return kr[" "](v),v}kr[" "]=function(){};var Li=!(-1==pr().indexOf("Gecko")||-1!=pr().toLowerCase().indexOf("webkit")&&-1==pr().indexOf("Edge")||-1!=pr().indexOf("Trident")||-1!=pr().indexOf("MSIE")||-1!=pr().indexOf("Edge"));function qr(v,H,ie){for(const Pe in v)H.call(ie,v[Pe],Pe,v)}function pt(v){const H={};for(const ie in v)H[ie]=v[ie];return H}const Pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(v,H){let ie,Pe;for(let Xt=1;Xt<arguments.length;Xt++){for(ie in Pe=arguments[Xt],Pe)v[ie]=Pe[ie];for(let cn=0;cn<Pt.length;cn++)ie=Pt[cn],Object.prototype.hasOwnProperty.call(Pe,ie)&&(v[ie]=Pe[ie])}}function Wt(v){var H=1;v=v.split(":");const ie=[];for(;0<H&&v.length;)ie.push(v.shift()),H--;return v.length&&ie.push(v.join(":")),ie}function Zt(v){N.setTimeout(()=>{throw v},0)}function Rt(){var v=Xp;let H=null;return v.g&&(H=v.g,v.g=v.g.next,v.g||(v.h=null),H.next=null),H}var wh=new class ur{constructor(H,ie){this.i=H,this.j=ie,this.h=0,this.g=null}get(){let H;return 0<this.h?(this.h--,H=this.g,this.g=H.next,H.next=null):H=this.i(),H}}(()=>new EI,v=>v.reset());class EI{constructor(){this.next=this.g=this.h=null}set(H,ie){this.h=H,this.g=ie,this.next=null}reset(){this.next=this.g=this.h=null}}let ju,Ef=!1,Xp=new class Xc{constructor(){this.h=this.g=null}add(H,ie){const Pe=wh.get();Pe.set(H,ie),this.h?this.h.next=Pe:this.g=Pe,this.h=Pe}},ny=()=>{const v=N.Promise.resolve(void 0);ju=()=>{v.then(ry)}};var ry=()=>{for(var v;v=Rt();){try{v.h.call(v.g)}catch(ie){Zt(ie)}var H=wh;H.j(v),100>H.h&&(H.h++,v.next=H.g,H.g=v)}Ef=!1};function Hu(){this.s=this.s,this.C=this.C}function Pa(v,H){this.type=v,this.g=this.target=H,this.defaultPrevented=!1}Hu.prototype.s=!1,Hu.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hu.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Pa.prototype.h=function(){this.defaultPrevented=!0};var iy=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var v=!1,H=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const ie=()=>{};N.addEventListener("test",ie,H),N.removeEventListener("test",ie,H)}catch{}return v}();function Ld(v,H){if(Pa.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var ie=this.type=v.type,Pe=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=H,H=v.relatedTarget){if(Li){e:{try{kr(H.nodeName);var Xt=!0;break e}catch{}Xt=!1}Xt||(H=null)}}else"mouseover"==ie?H=v.fromElement:"mouseout"==ie&&(H=v.toElement);this.relatedTarget=H,Pe?(this.clientX=void 0!==Pe.clientX?Pe.clientX:Pe.pageX,this.clientY=void 0!==Pe.clientY?Pe.clientY:Pe.pageY,this.screenX=Pe.screenX||0,this.screenY=Pe.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:oy[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&Ld.aa.h.call(this)}}vn(Ld,Pa);var oy={2:"touch",3:"pen",4:"mouse"};Ld.prototype.h=function(){Ld.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var qc="closure_listenable_"+(1e6*Math.random()|0),bf=0;function Cf(v,H,ie,Pe,Xt){this.listener=v,this.proxy=null,this.src=H,this.type=ie,this.capture=!!Pe,this.ha=Xt,this.key=++bf,this.da=this.fa=!1}function qp(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Qp(v){this.src=v,this.g={},this.h=0}function zm(v,H){var ie=H.type;if(ie in v.g){var cn,Pe=v.g[ie],Xt=Array.prototype.indexOf.call(Pe,H,void 0);(cn=0<=Xt)&&Array.prototype.splice.call(Pe,Xt,1),cn&&(qp(H),0==v.g[ie].length&&(delete v.g[ie],v.h--))}}function Dh(v,H,ie,Pe){for(var Xt=0;Xt<v.length;++Xt){var cn=v[Xt];if(!cn.da&&cn.listener==H&&cn.capture==!!ie&&cn.ha==Pe)return Xt}return-1}Qp.prototype.add=function(v,H,ie,Pe,Xt){var cn=v.toString();(v=this.g[cn])||(v=this.g[cn]=[],this.h++);var Zn=Dh(v,H,Pe,Xt);return-1<Zn?(H=v[Zn],ie||(H.fa=!1)):((H=new Cf(H,this.src,cn,!!Pe,Xt)).fa=ie,v.push(H)),H};var Af="closure_lm_"+(1e6*Math.random()|0),Wm={};function bI(v,H,ie,Pe,Xt){if(Pe&&Pe.once)return sy(v,H,ie,Pe,Xt);if(Array.isArray(H)){for(var cn=0;cn<H.length;cn++)bI(v,H[cn],ie,Pe,Xt);return null}return ie=Tf(ie),v&&v[qc]?v.K(H,ie,te(Pe)?!!Pe.capture:!!Pe,Xt):CI(v,H,ie,!1,Pe,Xt)}function CI(v,H,ie,Pe,Xt,cn){if(!H)throw Error("Invalid event type");var Zn=te(Xt)?!!Xt.capture:!!Xt,vo=Xm(v);if(vo||(v[Af]=vo=new Qp(v)),(ie=vo.add(H,ie,Pe,Zn,cn)).proxy)return ie;if(Pe=function AI(){const H=DI;return function v(ie){return H.call(v.src,v.listener,ie)}}(),ie.proxy=Pe,Pe.src=v,Pe.listener=ie,v.addEventListener)iy||(Xt=Zn),void 0===Xt&&(Xt=!1),v.addEventListener(H.toString(),Pe,Xt);else if(v.attachEvent)v.attachEvent(wI(H.toString()),Pe);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(Pe)}return ie}function sy(v,H,ie,Pe,Xt){if(Array.isArray(H)){for(var cn=0;cn<H.length;cn++)sy(v,H[cn],ie,Pe,Xt);return null}return ie=Tf(ie),v&&v[qc]?v.L(H,ie,te(Pe)?!!Pe.capture:!!Pe,Xt):CI(v,H,ie,!0,Pe,Xt)}function TI(v,H,ie,Pe,Xt){if(Array.isArray(H))for(var cn=0;cn<H.length;cn++)TI(v,H[cn],ie,Pe,Xt);else Pe=te(Pe)?!!Pe.capture:!!Pe,ie=Tf(ie),v&&v[qc]?(v=v.i,(H=String(H).toString())in v.g&&-1<(ie=Dh(cn=v.g[H],ie,Pe,Xt))&&(qp(cn[ie]),Array.prototype.splice.call(cn,ie,1),0==cn.length&&(delete v.g[H],v.h--))):v&&(v=Xm(v))&&(H=v.g[H.toString()],v=-1,H&&(v=Dh(H,ie,Pe,Xt)),(ie=-1<v?H[v]:null)&&Km(ie))}function Km(v){if("number"!=typeof v&&v&&!v.da){var H=v.src;if(H&&H[qc])zm(H.i,v);else{var ie=v.type,Pe=v.proxy;H.removeEventListener?H.removeEventListener(ie,Pe,v.capture):H.detachEvent?H.detachEvent(wI(ie),Pe):H.addListener&&H.removeListener&&H.removeListener(Pe),(ie=Xm(H))?(zm(ie,v),0==ie.h&&(ie.src=null,H[Af]=null)):qp(v)}}}function wI(v){return v in Wm?Wm[v]:Wm[v]="on"+v}function DI(v,H){if(v.da)v=!0;else{H=new Ld(H,this);var ie=v.listener,Pe=v.ha||v.src;v.fa&&Km(v),v=ie.call(Pe,H)}return v}function Xm(v){return(v=v[Af])instanceof Qp?v:null}var qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(v){return"function"==typeof v?v:(v[qm]||(v[qm]=function(H){return v.handleEvent(H)}),v[qm])}function xs(){Hu.call(this),this.i=new Qp(this),this.M=this,this.F=null}function ga(v,H){var ie,Pe=v.F;if(Pe)for(ie=[];Pe;Pe=Pe.F)ie.push(Pe);if(v=v.M,Pe=H.type||H,"string"==typeof H)H=new Pa(H,v);else if(H instanceof Pa)H.target=H.target||v;else{var Xt=H;$t(H=new Pa(Pe,v),Xt)}if(Xt=!0,ie)for(var cn=ie.length-1;0<=cn;cn--){var Zn=H.g=ie[cn];Xt=Vd(Zn,Pe,!0,H)&&Xt}if(Xt=Vd(Zn=H.g=v,Pe,!0,H)&&Xt,Xt=Vd(Zn,Pe,!1,H)&&Xt,ie)for(cn=0;cn<ie.length;cn++)Xt=Vd(Zn=H.g=ie[cn],Pe,!1,H)&&Xt}function Vd(v,H,ie,Pe){if(!(H=v.i.g[String(H)]))return!0;H=H.concat();for(var Xt=!0,cn=0;cn<H.length;++cn){var Zn=H[cn];if(Zn&&!Zn.da&&Zn.capture==ie){var vo=Zn.listener,ma=Zn.ha||Zn.src;Zn.fa&&zm(v.i,Zn),Xt=!1!==vo.call(ma,Pe)&&Xt}}return Xt&&!Pe.defaultPrevented}function Qm(v,H,ie){if("function"==typeof v)ie&&(v=vt(v,ie));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=vt(v.handleEvent,v)}return 2147483647<Number(H)?-1:N.setTimeout(v,H||0)}function Sh(v){v.g=Qm(()=>{v.g=null,v.i&&(v.i=!1,Sh(v))},v.l);const H=v.h;v.h=null,v.m.apply(null,H)}vn(xs,Hu),xs.prototype[qc]=!0,xs.prototype.removeEventListener=function(v,H,ie,Pe){TI(this,v,H,ie,Pe)},xs.prototype.N=function(){if(xs.aa.N.call(this),this.i){var H,v=this.i;for(H in v.g){for(var ie=v.g[H],Pe=0;Pe<ie.length;Pe++)qp(ie[Pe]);delete v.g[H],v.h--}}this.F=null},xs.prototype.K=function(v,H,ie,Pe){return this.i.add(String(v),H,!1,ie,Pe)},xs.prototype.L=function(v,H,ie,Pe){return this.i.add(String(v),H,!0,ie,Pe)};class ay extends Hu{constructor(H,ie){super(),this.m=H,this.l=ie,this.h=null,this.i=!1,this.g=null}j(H){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wf(v){Hu.call(this),this.h=v,this.g={}}vn(wf,Hu);var Rh=[];function Ym(v){qr(v.g,function(H,ie){this.g.hasOwnProperty(ie)&&Km(H)},v),v.g={}}wf.prototype.N=function(){wf.aa.N.call(this),Ym(this)},wf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yp=N.JSON.stringify,ly=N.JSON.parse,cy=class{stringify(v){return N.JSON.stringify(v,void 0)}parse(v){return N.JSON.parse(v,void 0)}};function Jm(){}function dy(){}Jm.prototype.h=null;var Qc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zm(){Pa.call(this,"d")}function e_(){Pa.call(this,"c")}vn(Zm,Pa),vn(e_,Pa);var Ud={},Df=null;function Sf(){return Df=Df||new xs}function t_(v){Pa.call(this,Ud.La,v)}function Ph(v){const H=Sf();ga(H,new t_(H))}function hy(v,H){Pa.call(this,Ud.STAT_EVENT,v),this.stat=H}function Ma(v){const H=Sf();ga(H,new hy(H,v))}function Jp(v,H){Pa.call(this,Ud.Ma,v),this.size=H}function Gu(v,H){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){v()},H)}function Rf(){this.g=!0}function Mh(v,H,ie,Pe){v.info(function(){return"XMLHTTP TEXT ("+H+"): "+function MI(v,H){if(!v.g)return H;if(!H)return null;try{var ie=JSON.parse(H);if(ie)for(v=0;v<ie.length;v++)if(Array.isArray(ie[v])){var Pe=ie[v];if(!(2>Pe.length)){var Xt=Pe[1];if(Array.isArray(Xt)&&!(1>Xt.length)){var cn=Xt[0];if("noop"!=cn&&"stop"!=cn&&"close"!=cn)for(var Zn=1;Zn<Xt.length;Zn++)Xt[Zn]=""}}}return Yp(ie)}catch{return H}}(v,ie)+(Pe?" "+Pe:"")})}Ud.La="serverreachability",vn(t_,Pa),Ud.STAT_EVENT="statevent",vn(hy,Pa),Ud.Ma="timingevent",vn(Jp,Pa),Rf.prototype.xa=function(){this.g=!1},Rf.prototype.info=function(){};var Zp,xh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pf(){}function zu(v,H,ie,Pe){this.j=v,this.i=H,this.l=ie,this.R=Pe||1,this.U=new wf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oh}function Oh(){this.i=null,this.g="",this.h=!1}vn(Pf,Jm),Pf.prototype.g=function(){return new XMLHttpRequest},Pf.prototype.i=function(){return{}},Zp=new Pf;var Mf={},fy={};function n_(v,H,ie){v.L=1,v.v=rg(Jc(H)),v.m=ie,v.P=!0,r_(v,null)}function r_(v,H){v.F=Date.now(),xf(v),v.A=Jc(v.v);var ie=v.A,Pe=v.R;Array.isArray(Pe)||(Pe=[String(Pe)]),$d(ie.i,"t",Pe),v.C=0,ie=v.j.J,v.h=new Oh,v.g=lg(v.j,ie?H:null,!v.m),0<v.O&&(v.M=new ay(vt(v.Y,v,v.g),v.O)),H=v.U,ie=v.g,Pe=v.ca;var Xt="readystatechange";Array.isArray(Xt)||(Xt&&(Rh[0]=Xt.toString()),Xt=Rh);for(var cn=0;cn<Xt.length;cn++){var Zn=bI(ie,Xt[cn],Pe||H.handleEvent,!1,H.h||H);if(!Zn)break;H.g[Zn.key]=Zn}H=v.H?pt(v.H):{},v.m?(v.u||(v.u="POST"),H["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,H)):(v.u="GET",v.g.ea(v.A,v.u,null,H)),Ph(),function SI(v,H,ie,Pe,Xt,cn){v.info(function(){if(v.g)if(cn)for(var Zn="",vo=cn.split("&"),ma=0;ma<vo.length;ma++){var to=vo[ma].split("=");if(1<to.length){var xa=to[0];to=to[1];var Na=xa.split("_");Zn=2<=Na.length&&"type"==Na[1]?Zn+(xa+"=")+to+"&":Zn+(xa+"=redacted&")}}else Zn=null;else Zn=cn;return"XMLHTTP REQ ("+Pe+") [attempt "+Xt+"]: "+H+"\n"+ie+"\n"+Zn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function eg(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function xI(v,H){var ie=v.C,Pe=H.indexOf("\n",ie);return-1==Pe?fy:(ie=Number(H.substring(ie,Pe)),isNaN(ie)?Mf:(Pe+=1)+ie>H.length?fy:(H=H.slice(Pe,Pe+ie),v.C=Pe+ie,H))}function xf(v){v.S=Date.now()+v.I,py(v,v.I)}function py(v,H){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Gu(vt(v.ba,v),H)}function tg(v){v.B&&(N.clearTimeout(v.B),v.B=null)}function kh(v){0==v.j.G||v.J||Bf(v.j,v)}function Wu(v){tg(v);var H=v.M;H&&"function"==typeof H.ma&&H.ma(),v.M=null,Ym(v.U),v.g&&(H=v.g,v.g=null,H.abort(),H.ma())}function Nf(v,H){try{var ie=v.j;if(0!=ie.G&&(ie.g==v||i_(ie.h,v)))if(!v.K&&i_(ie.h,v)&&3==ie.G){try{var Pe=ie.Da.g.parse(H)}catch{Pe=null}if(Array.isArray(Pe)&&3==Pe.length){var Xt=Pe;if(0==Xt[0]){e:if(!ie.u){if(ie.g){if(!(ie.g.F+3e3<v.F))break e;ag(ie),Vf(ie)}p_(ie),Ma(18)}}else ie.za=Xt[1],0<ie.za-ie.T&&37500>Xt[2]&&ie.F&&0==ie.v&&!ie.C&&(ie.C=Gu(vt(ie.Za,ie),6e3));if(1>=_y(ie.h)&&ie.ca){try{ie.ca()}catch{}ie.ca=void 0}}else jd(ie,11)}else if((v.K||ie.g==v)&&ag(ie),!wr(H))for(Xt=ie.Da.g.parse(H),H=0;H<Xt.length;H++){let to=Xt[H];if(ie.T=to[0],to=to[1],2==ie.G)if("c"==to[0]){ie.K=to[1],ie.ia=to[2];const xa=to[3];null!=xa&&(ie.la=xa,ie.j.info("VER="+ie.la));const Na=to[4];null!=Na&&(ie.Aa=Na,ie.j.info("SVER="+ie.Aa));const Gd=to[5];null!=Gd&&"number"==typeof Gd&&0<Gd&&(ie.L=Pe=1.5*Gd,ie.j.info("backChannelRequestTimeoutMs_="+Pe)),Pe=ie;const El=v.g;if(El){const Bh=El.g?El.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bh){var cn=Pe.h;cn.g||-1==Bh.indexOf("spdy")&&-1==Bh.indexOf("quic")&&-1==Bh.indexOf("h2")||(cn.j=cn.l,cn.g=new Set,cn.h&&(o_(cn,cn.h),cn.h=null))}if(Pe.D){const dg=El.g?El.g.getResponseHeader("X-HTTP-Session-Id"):null;dg&&(Pe.ya=dg,zo(Pe.I,Pe.D,dg))}}ie.G=3,ie.l&&ie.l.ua(),ie.ba&&(ie.R=Date.now()-v.F,ie.j.info("Handshake RTT: "+ie.R+"ms"));var Zn=v;if((Pe=ie).qa=__(Pe,Pe.J?Pe.ia:null,Pe.W),Zn.K){ng(Pe.h,Zn);var vo=Zn,ma=Pe.L;ma&&(vo.I=ma),vo.B&&(tg(vo),xf(vo)),Pe.g=Zn}else My(Pe);0<ie.i.length&&sg(ie)}else"stop"!=to[0]&&"close"!=to[0]||jd(ie,7);else 3==ie.G&&("stop"==to[0]||"close"==to[0]?"stop"==to[0]?jd(ie,7):$h(ie):"noop"!=to[0]&&ie.l&&ie.l.ta(to),ie.v=0)}Ph()}catch{}}zu.prototype.ca=function(v){v=v.target;const H=this.M;H&&3==Zl(v)?H.j():this.Y(v)},zu.prototype.Y=function(v){try{if(v==this.g)e:{const Na=Zl(this.g);var H=this.g.Ba();if(this.g.Z(),!(3>Na)&&(3!=Na||this.g&&(this.h.h||this.g.oa()||h_(this.g)))){this.J||4!=Na||7==H||Ph(),tg(this);var ie=this.g.Z();this.X=ie;t:if(eg(this)){var Pe=h_(this.g);v="";var Xt=Pe.length,cn=4==Zl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wu(this),kh(this);var Zn="";break t}this.h.i=new N.TextDecoder}for(H=0;H<Xt;H++)this.h.h=!0,v+=this.h.i.decode(Pe[H],{stream:!(cn&&H==Xt-1)});Pe.length=0,this.h.g+=v,this.C=0,Zn=this.h.g}else Zn=this.g.oa();if(this.o=200==ie,function RI(v,H,ie,Pe,Xt,cn,Zn){v.info(function(){return"XMLHTTP RESP ("+Pe+") [ attempt "+Xt+"]: "+H+"\n"+ie+"\n"+cn+" "+Zn})}(this.i,this.u,this.A,this.l,this.R,Na,ie),this.o){if(this.T&&!this.K){t:{if(this.g){var vo,ma=this.g;if((vo=ma.g?ma.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wr(vo)){var to=vo;break t}}to=null}if(!(ie=to)){this.o=!1,this.s=3,Ma(12),Wu(this),kh(this);break e}Mh(this.i,this.l,ie,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nf(this,ie)}if(this.P){let El;for(ie=!0;!this.J&&this.C<Zn.length;){if(El=xI(this,Zn),El==fy){4==Na&&(this.s=4,Ma(14),ie=!1),Mh(this.i,this.l,null,"[Incomplete Response]");break}if(El==Mf){this.s=4,Ma(15),Mh(this.i,this.l,Zn,"[Invalid Chunk]"),ie=!1;break}Mh(this.i,this.l,El,null),Nf(this,El)}if(eg(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Na||0!=Zn.length||this.h.h||(this.s=1,Ma(16),ie=!1),this.o=this.o&&ie,ie){if(0<Zn.length&&!this.W){this.W=!0;var xa=this.j;xa.g==this&&xa.ba&&!xa.M&&(xa.j.info("Great, no buffering proxy detected. Bytes received: "+Zn.length),g_(xa),xa.M=!0,Ma(11))}}else Mh(this.i,this.l,Zn,"[Invalid Chunked Response]"),Wu(this),kh(this)}else Mh(this.i,this.l,Zn,null),Nf(this,Zn);4==Na&&Wu(this),this.o&&!this.J&&(4==Na?Bf(this.j,this):(this.o=!1,xf(this)))}else(function Ju(v){const H={};v=(v.g&&2<=Zl(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let Pe=0;Pe<v.length;Pe++){if(wr(v[Pe]))continue;var ie=Wt(v[Pe]);const Xt=ie[0];if("string"!=typeof(ie=ie[1]))continue;ie=ie.trim();const cn=H[Xt]||[];H[Xt]=cn,cn.push(ie)}!function Vt(v,H){for(const ie in v)H.call(void 0,v[ie],ie,v)}(H,function(Pe){return Pe.join(", ")})})(this.g),400==ie&&0<Zn.indexOf("Unknown SID")?(this.s=3,Ma(12)):(this.s=0,Ma(13)),Wu(this),kh(this)}}}catch{}},zu.prototype.cancel=function(){this.J=!0,Wu(this)},zu.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function PI(v,H){v.info(function(){return"TIMEOUT: "+H})}(this.i,this.A),2!=this.L&&(Ph(),Ma(17)),Wu(this),this.s=2,kh(this)):py(this,this.S-v)};var NI=class{constructor(v,H){this.g=v,this.map=H}};function gy(v){this.l=v||10,v=N.PerformanceNavigationTiming?0<(v=N.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(N.chrome&&N.chrome.loadTimes&&N.chrome.loadTimes()&&N.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function my(v){return!!v.h||!!v.g&&v.g.size>=v.j}function _y(v){return v.h?1:v.g?v.g.size:0}function i_(v,H){return v.h?v.h==H:!!v.g&&v.g.has(H)}function o_(v,H){v.g?v.g.add(H):v.h=H}function ng(v,H){v.h&&v.h==H?v.h=null:v.g&&v.g.has(H)&&v.g.delete(H)}function vy(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let H=v.i;for(const ie of v.g.values())H=H.concat(ie.D);return H}return $n(v.i)}function Ku(v,H){if(v.forEach&&"function"==typeof v.forEach)v.forEach(H,void 0);else if(U(v)||"string"==typeof v)Array.prototype.forEach.call(v,H,void 0);else for(var ie=function kI(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(U(v)||"string"==typeof v){var H=[];v=v.length;for(var ie=0;ie<v;ie++)H.push(ie);return H}H=[],ie=0;for(const Pe in v)H[ie++]=Pe;return H}}}(v),Pe=function OI(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(U(v)){for(var H=[],ie=v.length,Pe=0;Pe<ie;Pe++)H.push(v[Pe]);return H}for(Pe in H=[],ie=0,v)H[ie++]=v[Pe];return H}(v),Xt=Pe.length,cn=0;cn<Xt;cn++)H.call(void 0,Pe[cn],ie&&ie[cn],v)}gy.prototype.cancel=function(){if(this.i=vy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Yc){this.h=v.h,Zc(this,v.j),this.o=v.o,this.g=v.g,Of(this,v.s),this.l=v.l;var H=v.i,ie=new Lh;ie.i=H.i,H.g&&(ie.g=new Map(H.g),ie.h=H.h),yy(this,ie),this.m=v.m}else v&&(H=String(v).match(Fh))?(this.h=!1,Zc(this,H[1]||"",!0),this.o=kf(H[2]||""),this.g=kf(H[3]||"",!0),Of(this,H[4]),this.l=kf(H[5]||"",!0),yy(this,H[6]||"",!0),this.m=kf(H[7]||"")):(this.h=!1,this.i=new Lh(null,this.h))}function Jc(v){return new Yc(v)}function Zc(v,H,ie){v.j=ie?kf(H,!0):H,v.j&&(v.j=v.j.replace(/:$/,""))}function Of(v,H){if(H){if(H=Number(H),isNaN(H)||0>H)throw Error("Bad port number "+H);v.s=H}else v.s=null}function yy(v,H,ie){H instanceof Lh?(v.i=H,function Eb(v,H){H&&!v.j&&(Xu(v),v.i=null,v.g.forEach(function(ie,Pe){var Xt=Pe.toLowerCase();Pe!=Xt&&(Cy(this,Pe),$d(this,Xt,ie))},v)),v.j=H}(v.i,v.h)):(ie||(H=Ff(H,FI)),v.i=new Lh(H,v.h))}function zo(v,H,ie){v.i.set(H,ie)}function rg(v){return zo(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function kf(v,H){return v?H?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ff(v,H,ie){return"string"==typeof v?(v=encodeURI(v).replace(H,Iy),ie&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Iy(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Yc.prototype.toString=function(){var v=[],H=this.j;H&&v.push(Ff(H,Ey,!0),":");var ie=this.g;return(ie||"file"==H)&&(v.push("//"),(H=this.o)&&v.push(Ff(H,Ey,!0),"@"),v.push(encodeURIComponent(String(ie)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ie=this.s)&&v.push(":",String(ie))),(ie=this.l)&&(this.g&&"/"!=ie.charAt(0)&&v.push("/"),v.push(Ff(ie,"/"==ie.charAt(0)?ig:by,!0))),(ie=this.i.toString())&&v.push("?",ie),(ie=this.m)&&v.push("#",Ff(ie,LI)),v.join("")};var Ey=/[#\/\?@]/g,by=/[#\?:]/g,ig=/[#\?]/g,FI=/[#\?@]/g,LI=/#/g;function Lh(v,H){this.h=this.g=null,this.i=v||null,this.j=!!H}function Xu(v){v.g||(v.g=new Map,v.h=0,v.i&&function s_(v,H){if(v){v=v.split("&");for(var ie=0;ie<v.length;ie++){var Pe=v[ie].indexOf("="),Xt=null;if(0<=Pe){var cn=v[ie].substring(0,Pe);Xt=v[ie].substring(Pe+1)}else cn=v[ie];H(cn,Xt?decodeURIComponent(Xt.replace(/\+/g," ")):"")}}}(v.i,function(H,ie){v.add(decodeURIComponent(H.replace(/\+/g," ")),ie)}))}function Cy(v,H){Xu(v),H=Cc(v,H),v.g.has(H)&&(v.i=null,v.h-=v.g.get(H).length,v.g.delete(H))}function qu(v,H){return Xu(v),H=Cc(v,H),v.g.has(H)}function $d(v,H,ie){Cy(v,H),0<ie.length&&(v.i=null,v.g.set(Cc(v,H),$n(ie)),v.h+=ie.length)}function Cc(v,H){return H=String(H),v.j&&(H=H.toLowerCase()),H}function Qu(v,H,ie,Pe,Xt){try{Xt&&(Xt.onload=null,Xt.onerror=null,Xt.onabort=null,Xt.ontimeout=null),Pe(ie)}catch{}}function Ty(){this.g=new cy}function VI(v,H,ie){const Pe=ie||"";try{Ku(v,function(Xt,cn){let Zn=Xt;te(Xt)&&(Zn=Yp(Xt)),H.push(Pe+cn+"="+encodeURIComponent(Zn))})}catch(Xt){throw H.push(Pe+"type="+encodeURIComponent("_badmap")),Xt}}function Vh(v){this.l=v.Ub||null,this.j=v.eb||!1}function l_(v,H){xs.call(this),this.D=v,this.o=H,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function wy(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function eu(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Bd(v)}function Bd(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function Dy(v){let H="";return qr(v,function(ie,Pe){H+=Pe,H+=":",H+=ie,H+="\r\n"}),H}function c_(v,H,ie){e:{for(Pe in ie){var Pe=!1;break e}Pe=!0}Pe||(ie=Dy(ie),"string"==typeof v?null!=ie&&encodeURIComponent(String(ie)):zo(v,H,ie))}function hs(v){xs.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=Lh.prototype).add=function(v,H){Xu(this),this.i=null,v=Cc(this,v);var ie=this.g.get(v);return ie||this.g.set(v,ie=[]),ie.push(H),this.h+=1,this},c.forEach=function(v,H){Xu(this),this.g.forEach(function(ie,Pe){ie.forEach(function(Xt){v.call(H,Xt,Pe,this)},this)},this)},c.na=function(){Xu(this);const v=Array.from(this.g.values()),H=Array.from(this.g.keys()),ie=[];for(let Pe=0;Pe<H.length;Pe++){const Xt=v[Pe];for(let cn=0;cn<Xt.length;cn++)ie.push(H[Pe])}return ie},c.V=function(v){Xu(this);let H=[];if("string"==typeof v)qu(this,v)&&(H=H.concat(this.g.get(Cc(this,v))));else{v=Array.from(this.g.values());for(let ie=0;ie<v.length;ie++)H=H.concat(v[ie])}return H},c.set=function(v,H){return Xu(this),this.i=null,qu(this,v=Cc(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[H]),this.h+=1,this},c.get=function(v,H){return v&&0<(v=this.V(v)).length?String(v[0]):H},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],H=Array.from(this.g.keys());for(var ie=0;ie<H.length;ie++){var Pe=H[ie];const cn=encodeURIComponent(String(Pe)),Zn=this.V(Pe);for(Pe=0;Pe<Zn.length;Pe++){var Xt=cn;""!==Zn[Pe]&&(Xt+="="+encodeURIComponent(String(Zn[Pe]))),v.push(Xt)}}return this.i=v.join("&")},vn(Vh,Jm),Vh.prototype.g=function(){return new l_(this.l,this.j)},Vh.prototype.i=function(v){return function(){return v}}({}),vn(l_,xs),(c=l_.prototype).open=function(v,H){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=H,this.readyState=1,Bd(this)},c.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const H={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(H.body=v),(this.D||N).fetch(new Request(this.A,H)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eu(this)),this.readyState=0},c.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Bd(this)),this.g&&(this.readyState=3,Bd(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wy(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var H=v.value?v.value:new Uint8Array(0);(H=this.v.decode(H,{stream:!v.done}))&&(this.response=this.responseText+=H)}v.done?eu(this):Bd(this),3==this.readyState&&wy(this)}},c.Ra=function(v){this.g&&(this.response=this.responseText=v,eu(this))},c.Qa=function(v){this.g&&(this.response=v,eu(this))},c.ga=function(){this.g&&eu(this)},c.setRequestHeader=function(v,H){this.u.append(v,H)},c.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],H=this.h.entries();for(var ie=H.next();!ie.done;)v.push((ie=ie.value)[0]+": "+ie[1]),ie=H.next();return v.join("\r\n")},Object.defineProperty(l_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),vn(hs,xs);var u_=/^https?$/i,Yu=["POST","PUT"];function Lf(v,H){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=H,v.m=5,d_(v),og(v)}function d_(v){v.A||(v.A=!0,ga(v,"complete"),ga(v,"error"))}function Uh(v){if(v.h&&typeof y<"u"&&(!v.v[1]||4!=Zl(v)||2!=v.Z()))if(v.u&&4==Zl(v))Qm(v.Ea,0,v);else if(ga(v,"readystatechange"),4==Zl(v)){v.h=!1;try{const Zn=v.Z();e:switch(Zn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var H=!0;break e;default:H=!1}var ie;if(!(ie=H)){var Pe;if(Pe=0===Zn){var Xt=String(v.D).match(Fh)[1]||null;!Xt&&N.self&&N.self.location&&(Xt=N.self.location.protocol.slice(0,-1)),Pe=!u_.test(Xt?Xt.toLowerCase():"")}ie=Pe}if(ie)ga(v,"complete"),ga(v,"success");else{v.m=6;try{var cn=2<Zl(v)?v.g.statusText:""}catch{cn=""}v.l=cn+" ["+v.Z()+"]",d_(v)}}finally{og(v)}}}function og(v,H){if(v.g){Sy(v);const ie=v.g,Pe=v.v[0]?()=>{}:null;v.g=null,v.v=null,H||ga(v,"ready");try{ie.onreadystatechange=Pe}catch{}}}function Sy(v){v.I&&(N.clearTimeout(v.I),v.I=null)}function Zl(v){return v.g?v.g.readyState:0}function h_(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function tu(v,H,ie){return ie&&ie.internalChannelParams&&ie.internalChannelParams[v]||H}function UI(v){this.Aa=0,this.i=[],this.j=new Rf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tu("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tu("baseRetryDelayMs",5e3,v),this.cb=tu("retryDelaySeedMs",1e4,v),this.Wa=tu("forwardChannelMaxRetries",2,v),this.wa=tu("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new gy(v&&v.concurrentRequestLimit),this.Da=new Ty,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $h(v){if(f_(v),3==v.G){var H=v.U++,ie=Jc(v.I);if(zo(ie,"SID",v.K),zo(ie,"RID",H),zo(ie,"TYPE","terminate"),$f(v,ie),(H=new zu(v,v.j,H)).L=2,H.v=rg(Jc(ie)),ie=!1,N.navigator&&N.navigator.sendBeacon)try{ie=N.navigator.sendBeacon(H.v.toString(),"")}catch{}!ie&&N.Image&&((new Image).src=H.v,ie=!0),ie||(H.g=lg(H.j,null),H.g.ea(H.v)),H.F=Date.now(),xf(H)}m_(v)}function Vf(v){v.g&&(g_(v),v.g.cancel(),v.g=null)}function f_(v){Vf(v),v.u&&(N.clearTimeout(v.u),v.u=null),ag(v),v.h.cancel(),v.s&&("number"==typeof v.s&&N.clearTimeout(v.s),v.s=null)}function sg(v){if(!my(v.h)&&!v.s){v.s=!0;var H=v.Ga;ju||ny(),Ef||(ju(),Ef=!0),Xp.add(H,v),v.B=0}}function Ry(v,H){var ie;ie=H?H.l:v.U++;const Pe=Jc(v.I);zo(Pe,"SID",v.K),zo(Pe,"RID",ie),zo(Pe,"AID",v.T),$f(v,Pe),v.m&&v.o&&c_(Pe,v.m,v.o),ie=new zu(v,v.j,ie,v.B+1),null===v.m&&(ie.H=v.o),H&&(v.i=H.D.concat(v.i)),H=Py(v,ie,1e3),ie.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),o_(v.h,ie),n_(ie,Pe,H)}function $f(v,H){v.H&&qr(v.H,function(ie,Pe){zo(H,Pe,ie)}),v.l&&Ku({},function(ie,Pe){zo(H,Pe,ie)})}function Py(v,H,ie){ie=Math.min(v.i.length,ie);var Pe=v.l?vt(v.l.Na,v.l,v):null;e:{var Xt=v.i;let cn=-1;for(;;){const Zn=["count="+ie];-1==cn?0<ie?(cn=Xt[0].g,Zn.push("ofs="+cn)):cn=0:Zn.push("ofs="+cn);let vo=!0;for(let ma=0;ma<ie;ma++){let to=Xt[ma].g;const xa=Xt[ma].map;if(to-=cn,0>to)cn=Math.max(0,Xt[ma].g-100),vo=!1;else try{VI(xa,Zn,"req"+to+"_")}catch{Pe&&Pe(xa)}}if(vo){Pe=Zn.join("&");break e}}}return v=v.i.splice(0,ie),H.D=v,Pe}function My(v){if(!v.g&&!v.u){v.Y=1;var H=v.Fa;ju||ny(),Ef||(ju(),Ef=!0),Xp.add(H,v),v.v=0}}function p_(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Gu(vt(v.Fa,v),Ny(v,v.v)),v.v++,0))}function g_(v){null!=v.A&&(N.clearTimeout(v.A),v.A=null)}function xy(v){v.g=new zu(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var H=Jc(v.qa);zo(H,"RID","rpc"),zo(H,"SID",v.K),zo(H,"AID",v.T),zo(H,"CI",v.F?"0":"1"),!v.F&&v.ja&&zo(H,"TO",v.ja),zo(H,"TYPE","xmlhttp"),$f(v,H),v.m&&v.o&&c_(H,v.m,v.o),v.L&&(v.g.I=v.L);var ie=v.g;v=v.ia,ie.L=1,ie.v=rg(Jc(H)),ie.m=null,ie.P=!0,r_(ie,v)}function ag(v){null!=v.C&&(N.clearTimeout(v.C),v.C=null)}function Bf(v,H){var ie=null;if(v.g==H){ag(v),g_(v),v.g=null;var Pe=2}else{if(!i_(v.h,H))return;ie=H.D,ng(v.h,H),Pe=1}if(0!=v.G)if(H.o)if(1==Pe){ie=H.m?H.m.length:0,H=Date.now()-H.F;var Xt=v.B;ga(Pe=Sf(),new Jp(Pe,ie)),sg(v)}else My(v);else if(3==(Xt=H.s)||0==Xt&&0<H.X||!(1==Pe&&function Uf(v,H){return!(_y(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=H.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Gu(vt(v.Ga,v,H),Ny(v,v.B)),v.B++,0)))}(v,H)||2==Pe&&p_(v)))switch(ie&&0<ie.length&&(H=v.h,H.i=H.i.concat(ie)),Xt){case 1:jd(v,5);break;case 4:jd(v,10);break;case 3:jd(v,6);break;default:jd(v,2)}}function Ny(v,H){let ie=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(ie*=2),ie*H}function jd(v,H){if(v.j.info("Error code "+H),2==H){var ie=vt(v.fb,v),Pe=v.Xa;const Xt=!Pe;Pe=new Yc(Pe||"//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||Zc(Pe,"https"),rg(Pe),Xt?function Ay(v,H){const ie=new Rf;if(N.Image){const Pe=new Image;Pe.onload=Yt(Qu,ie,"TestLoadImage: loaded",!0,H,Pe),Pe.onerror=Yt(Qu,ie,"TestLoadImage: error",!1,H,Pe),Pe.onabort=Yt(Qu,ie,"TestLoadImage: abort",!1,H,Pe),Pe.ontimeout=Yt(Qu,ie,"TestLoadImage: timeout",!1,H,Pe),N.setTimeout(function(){Pe.ontimeout&&Pe.ontimeout()},1e4),Pe.src=v}else H(!1)}(Pe.toString(),ie):function a_(v,H){new Rf;const Pe=new AbortController,Xt=setTimeout(()=>{Pe.abort(),Qu(0,0,!1,H)},1e4);fetch(v,{signal:Pe.signal}).then(cn=>{clearTimeout(Xt),Qu(0,0,!!cn.ok,H)}).catch(()=>{clearTimeout(Xt),Qu(0,0,!1,H)})}(Pe.toString(),ie)}else Ma(2);v.G=0,v.l&&v.l.sa(H),m_(v),f_(v)}function m_(v){if(v.G=0,v.ka=[],v.l){const H=vy(v.h);(0!=H.length||0!=v.i.length)&&(xn(v.ka,H),xn(v.ka,v.i),v.h.i.length=0,$n(v.i),v.i.length=0),v.l.ra()}}function __(v,H,ie){var Pe=ie instanceof Yc?Jc(ie):new Yc(ie);if(""!=Pe.g)H&&(Pe.g=H+"."+Pe.g),Of(Pe,Pe.s);else{var Xt=N.location;Pe=Xt.protocol,H=H?H+"."+Xt.hostname:Xt.hostname,Xt=+Xt.port;var cn=new Yc(null);Pe&&Zc(cn,Pe),H&&(cn.g=H),Xt&&Of(cn,Xt),ie&&(cn.l=ie),Pe=cn}return H=v.ya,(ie=v.D)&&H&&zo(Pe,ie,H),zo(Pe,"VER",v.la),$f(v,Pe),Pe}function lg(v,H,ie){if(H&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(H=new hs(v.Ca&&!v.pa?new Vh({eb:ie}):v.pa)).Ha(v.J),H}function v_(){}function cg(){}function ol(v,H){xs.call(this),this.g=new UI(H),this.l=v,this.h=H&&H.messageUrlParams||null,v=H&&H.messageHeaders||null,H&&H.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=H&&H.initMessageHeaders||null,H&&H.messageContentType&&(v?v["X-WebChannel-Content-Type"]=H.messageContentType:v={"X-WebChannel-Content-Type":H.messageContentType}),H&&H.va&&(v?v["X-WebChannel-Client-Profile"]=H.va:v={"X-WebChannel-Client-Profile":H.va}),this.g.S=v,(v=H&&H.Sb)&&!wr(v)&&(this.g.m=v),this.v=H&&H.supportsCrossDomainXhr||!1,this.u=H&&H.sendRawJson||!1,(H=H&&H.httpSessionIdParam)&&!wr(H)&&(this.g.D=H,null!==(v=this.h)&&H in v&&H in(v=this.h)&&delete v[H]),this.j=new Hd(this)}function ug(v){Zm.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var H=v.__sm__;if(H){e:{for(const ie in H){v=ie;break e}v=void 0}(this.i=v)&&(v=this.i,H=null!==H&&v in H?H[v]:void 0),this.data=H}else this.data=v}function y_(){e_.call(this),this.status=1}function Hd(v){this.g=v}(c=hs.prototype).Ha=function(v){this.J=v},c.ea=function(v,H,ie,Pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);H=H?H.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zp.g(),this.v=function uy(v){return v.h||(v.h=v.i())}(this.o?this.o:Zp),this.g.onreadystatechange=vt(this.Ea,this);try{this.B=!0,this.g.open(H,String(v),!0),this.B=!1}catch(cn){return void Lf(this,cn)}if(v=ie||"",ie=new Map(this.headers),Pe)if(Object.getPrototypeOf(Pe)===Object.prototype)for(var Xt in Pe)ie.set(Xt,Pe[Xt]);else{if("function"!=typeof Pe.keys||"function"!=typeof Pe.get)throw Error("Unknown input type for opt_headers: "+String(Pe));for(const cn of Pe.keys())ie.set(cn,Pe.get(cn))}Pe=Array.from(ie.keys()).find(cn=>"content-type"==cn.toLowerCase()),Xt=N.FormData&&v instanceof N.FormData,!(0<=Array.prototype.indexOf.call(Yu,H,void 0))||Pe||Xt||ie.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[cn,Zn]of ie)this.g.setRequestHeader(cn,Zn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Sy(this),this.u=!0,this.g.send(v),this.u=!1}catch(cn){Lf(this,cn)}},c.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,ga(this,"complete"),ga(this,"abort"),og(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),og(this,!0)),hs.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?Uh(this):this.bb())},c.bb=function(){Uh(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Zl(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(v){if(this.g){var H=this.g.responseText;return v&&0==H.indexOf(v)&&(H=H.substring(v.length)),ly(H)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=UI.prototype).la=8,c.G=1,c.connect=function(v,H,ie,Pe){Ma(0),this.W=v,this.H=H||{},ie&&void 0!==Pe&&(this.H.OSID=ie,this.H.OAID=Pe),this.F=this.X,this.I=__(this,null,this.W),sg(this)},c.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Xt=new zu(this,this.j,v);let cn=this.o;if(this.S&&(cn?(cn=pt(cn),$t(cn,this.S)):cn=this.S),null!==this.m||this.O||(Xt.H=cn,cn=null),this.P)e:{for(var H=0,ie=0;ie<this.i.length;ie++){var Pe=this.i[ie];if(void 0===(Pe="__data__"in Pe.map&&"string"==typeof(Pe=Pe.map.__data__)?Pe.length:void 0))break;if(4096<(H+=Pe)){H=ie;break e}if(4096===H||ie===this.i.length-1){H=ie+1;break e}}H=1e3}else H=1e3;H=Py(this,Xt,H),zo(ie=Jc(this.I),"RID",v),zo(ie,"CVER",22),this.D&&zo(ie,"X-HTTP-Session-Id",this.D),$f(this,ie),cn&&(this.O?H="headers="+encodeURIComponent(String(Dy(cn)))+"&"+H:this.m&&c_(ie,this.m,cn)),o_(this.h,Xt),this.Ua&&zo(ie,"TYPE","init"),this.P?(zo(ie,"$req",H),zo(ie,"SID","null"),Xt.T=!0,n_(Xt,ie,null)):n_(Xt,ie,H),this.G=2}}else 3==this.G&&(v?Ry(this,v):0==this.i.length||my(this.h)||Ry(this))},c.Fa=function(){if(this.u=null,xy(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Gu(vt(this.ab,this),v)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ma(10),Vf(this),xy(this))},c.Za=function(){null!=this.C&&(this.C=null,Vf(this),p_(this),Ma(19))},c.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ma(2)):(this.j.info("Failed to ping google.com"),Ma(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=v_.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},cg.prototype.g=function(v,H){return new ol(v,H)},vn(ol,xs),ol.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ol.prototype.close=function(){$h(this.g)},ol.prototype.o=function(v){var H=this.g;if("string"==typeof v){var ie={};ie.__data__=v,v=ie}else this.u&&((ie={}).__data__=Yp(v),v=ie);H.i.push(new NI(H.Ya++,v)),3==H.G&&sg(H)},ol.prototype.N=function(){this.g.l=null,delete this.j,$h(this.g),delete this.g,ol.aa.N.call(this)},vn(ug,Zm),vn(y_,e_),vn(Hd,v_),Hd.prototype.ua=function(){ga(this.g,"a")},Hd.prototype.ta=function(v){ga(this.g,new ug(v))},Hd.prototype.sa=function(v){ga(this.g,new y_)},Hd.prototype.ra=function(){ga(this.g,"b")},cg.prototype.createWebChannel=cg.prototype.g,ol.prototype.send=ol.prototype.o,ol.prototype.open=ol.prototype.m,ol.prototype.close=ol.prototype.close,ze=Nt.createWebChannelTransport=function(){return new cg},Ne=Nt.getStatEventTarget=function(){return Sf()},oe=Nt.Event=Ud,De=Nt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,me=Nt.ErrorCode=xh,Nh.COMPLETE="complete",we=Nt.EventType=Nh,dy.EventType=Qc,Qc.OPEN="a",Qc.CLOSE="b",Qc.ERROR="c",Qc.MESSAGE="d",xs.prototype.listen=xs.prototype.K,Ge=Nt.WebChannel=dy,Nt.FetchXmlHttpFactory=Vh,hs.prototype.listenOnce=hs.prototype.L,hs.prototype.getLastError=hs.prototype.Ka,hs.prototype.getLastErrorCode=hs.prototype.Ba,hs.prototype.getStatus=hs.prototype.Z,hs.prototype.getResponseJson=hs.prototype.Oa,hs.prototype.getResponseText=hs.prototype.oa,hs.prototype.send=hs.prototype.ea,hs.prototype.setWithCredentials=hs.prototype.Ha,Ot=Nt.XhrIo=hs}).apply(typeof Je<"u"?Je:typeof self<"u"?self:typeof window<"u"?window:{});const Ze="@firebase/firestore";class je{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");let st="10.14.0";const _t=new it.Vy("@firebase/firestore");function Ft(){return _t.logLevel}function It(c,...n){if(_t.logLevel<=it.$b.DEBUG){const i=n.map(Gn);_t.debug(`Firestore (${st}): ${c}`,...i)}}function mn(c,...n){if(_t.logLevel<=it.$b.ERROR){const i=n.map(Gn);_t.error(`Firestore (${st}): ${c}`,...i)}}function kn(c,...n){if(_t.logLevel<=it.$b.WARN){const i=n.map(Gn);_t.warn(`Firestore (${st}): ${c}`,...i)}}function Gn(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function qt(c="Unexpected state"){const n=`FIRESTORE (${st}) INTERNAL ASSERTION FAILED: `+c;throw mn(n),new Error(n)}function jt(c,n){c||qt()}function rn(c,n){return c}const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends dt.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kt{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class xt{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Qn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class nr{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Vn{constructor(n){this.t=n,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var a=this;jt(void 0===this.o);let u=this.i;const f=te=>this.i!==u?(u=this.i,i(te)):Promise.resolve();let y=new kt;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new kt,n.enqueueRetryable(()=>f(this.currentUser))};const N=()=>{const te=y;n.enqueueRetryable((0,Te.A)(function*(){yield te.promise,yield f(a.currentUser)}))},U=te=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.o&&(this.auth.addAuthTokenListener(this.o),N())};this.t.onInit(te=>U(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?U(te):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new kt)}},0),N()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==n?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt("string"==typeof a.accessToken),new xt(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return jt(null===n||"string"==typeof n),new je(n)}}class Tn{constructor(n,i,a){this.l=n,this.h=i,this.P=a,this.type="FirstParty",this.user=je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gr{constructor(n,i,a){this.l=n,this.h=i,this.P=a}getToken(){return Promise.resolve(new Tn(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rr{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zn{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){jt(void 0===this.o);const a=f=>{null!=f.error&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const y=f.token!==this.R;return this.R=f.token,It("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?i(f.token):Promise.resolve()};this.o=f=>{n.enqueueRetryable(()=>a(f))};const u=f=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(jt("string"==typeof i.token),this.R=i.token,new rr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dr(c){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let a=0;a<c;a++)i[a]=Math.floor(256*Math.random());return i}class jr{static newId(){const i=62*Math.floor(256/62);let a="";for(;a.length<20;){const u=dr(40);for(let f=0;f<u.length;++f)a.length<20&&u[f]<i&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return a}}function Cn(c,n){return c<n?-1:c>n?1:0}function Cr(c,n,i){return c.length===n.length&&c.every((a,u)=>i(a,n[u]))}function Un(c){return c+"\0"}class mr{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Fe(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Fe(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Fe(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return mr.fromMillis(Date.now())}static fromDate(n){return mr.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*i));return new mr(i,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Cn(this.nanoseconds,n.nanoseconds):Cn(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Dn(n)}static min(){return new Dn(new mr(0,0))}static max(){return new Dn(new mr(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ei{constructor(n,i,a){void 0===i?i=0:i>n.length&&qt(),void 0===a?a=n.length-i:a>n.length-i&&qt(),this.segments=n,this.offset=i,this.len=a}get length(){return this.len}isEqual(n){return 0===Ei.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Ei?n.forEach(a=>{i.push(a)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,a=this.limit();i<a;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const a=Math.min(n.length,i.length);for(let u=0;u<a;u++){const f=n.get(u),y=i.get(u);if(f<y)return-1;if(f>y)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class er extends Ei{construct(n,i,a){return new er(n,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const a of n){if(a.indexOf("//")>=0)throw new Fe(ke.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new er(i)}static emptyPath(){return new er([])}}const fr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends Ei{construct(n,i,a){return new _r(n,i,a)}static isValidIdentifier(n){return fr.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _r(["__name__"])}static fromServerFormat(n){const i=[];let a="",u=0;const f=()=>{if(0===a.length)throw new Fe(ke.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let y=!1;for(;u<n.length;){const N=n[u];if("\\"===N){if(u+1===n.length)throw new Fe(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const U=n[u+1];if("\\"!==U&&"."!==U&&"`"!==U)throw new Fe(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=U,u+=2}else"`"===N?(y=!y,u++):"."!==N||y?(a+=N,u++):(f(),u++)}if(f(),y)throw new Fe(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new _r(i)}static emptyPath(){return new _r([])}}class _n{constructor(n){this.path=n}static fromPath(n){return new _n(er.fromString(n))}static fromName(n){return new _n(er.fromString(n).popFirst(5))}static empty(){return new _n(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===er.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return er.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new _n(new er(n.slice()))}}class Gt{constructor(n,i,a,u){this.indexId=n,this.collectionGroup=i,this.fields=a,this.indexState=u}}function wt(c){return c.fields.find(n=>2===n.kind)}function Kt(c){return c.fields.filter(n=>2!==n.kind)}Gt.UNKNOWN_ID=-1;class Ue{constructor(n,i){this.fieldPath=n,this.kind=i}}class J{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new J(0,Oe.min())}}function Q(c,n){const i=c.toTimestamp().seconds,a=c.toTimestamp().nanoseconds+1,u=Dn.fromTimestamp(1e9===a?new mr(i+1,0):new mr(i,a));return new Oe(u,_n.empty(),n)}function re(c){return new Oe(c.readTime,c.key,-1)}class Oe{constructor(n,i,a){this.readTime=n,this.documentKey=i,this.largestBatchId=a}static min(){return new Oe(Dn.min(),_n.empty(),-1)}static max(){return new Oe(Dn.max(),_n.empty(),-1)}}function $e(c,n){let i=c.readTime.compareTo(n.readTime);return 0!==i?i:(i=_n.comparator(c.documentKey,n.documentKey),0!==i?i:Cn(c.largestBatchId,n.largestBatchId))}const Qt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class An{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function qn(c){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,Te.A)(function*(c){if(c.code!==ke.FAILED_PRECONDITION||c.message!==Qt)throw c;It("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class gt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new gt((a,u)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(a,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof gt?i:gt.resolve(i)}catch(i){return gt.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):gt.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):gt.reject(i)}static resolve(n){return new gt((i,a)=>{i(n)})}static reject(n){return new gt((i,a)=>{a(n)})}static waitFor(n){return new gt((i,a)=>{let u=0,f=0,y=!1;n.forEach(N=>{++u,N.next(()=>{++f,y&&f===u&&i()},U=>a(U))}),y=!0,f===u&&i()})}static or(n){let i=gt.resolve(!1);for(const a of n)i=i.next(u=>u?gt.resolve(u):a());return i}static forEach(n,i){const a=[];return n.forEach((u,f)=>{a.push(i.call(this,u,f))}),this.waitFor(a)}static mapArray(n,i){return new gt((a,u)=>{const f=n.length,y=new Array(f);let N=0;for(let U=0;U<f;U++){const te=U;i(n[te]).next(ge=>{y[te]=ge,++N,N===f&&a(y)},ge=>u(ge))}})}static doWhile(n,i){return new gt((a,u)=>{const f=()=>{!0===n()?i().next(()=>{f()},u):a()};f()})}}class vr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new kt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Jn(n,i.error)):this.V.resolve()},this.transaction.onerror=a=>{const u=Ko(a.target.error);this.V.reject(new Jn(n,u))}}static open(n,i,a,u){try{return new vr(i,n.transaction(u,a))}catch(f){throw new Jn(i,f)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(It("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new Wo(i)}}class Mn{constructor(n,i,a){this.name=n,this.version=i,this.p=a,12.2===Mn.S((0,dt.ZQ)())&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return It("SimpleDb","Removing database:",n),$i(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,dt.zW)())return!1;if(Mn.v())return!0;const n=(0,dt.ZQ)(),i=Mn.S(n),a=0<i&&i<10,u=Hr(n),f=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||f)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(a)}M(n){var i=this;return(0,Te.A)(function*(){return i.db||(It("SimpleDb","Opening database:",i.name),i.db=yield new Promise((a,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=y=>{a(y.target.result)},f.onblocked=()=>{u(new Jn(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=y=>{const N=y.target.error;u("VersionError"===N.name?new Fe(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===N.name?new Fe(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+N):new Jn(n,N))},f.onupgradeneeded=y=>{It("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',y.oldVersion),i.p.O(y.target.result,f.transaction,y.oldVersion,i.version).next(()=>{It("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=a=>i.N(a)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,a,u){var f=this;return(0,Te.A)(function*(){const y="readonly"===i;let N=0;for(;;){++N;try{f.db=yield f.M(n);const U=vr.open(f.db,n,y?"readonly":"readwrite",a),te=u(U).next(ge=>(U.g(),ge)).catch(ge=>(U.abort(ge),gt.reject(ge))).toPromise();return te.catch(()=>{}),yield U.m,te}catch(U){const te=U,ge="FirebaseError"!==te.name&&N<3;if(It("SimpleDb","Transaction failed with error:",te.message,"Retrying:",ge),f.close(),!ge)return Promise.reject(te)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Hr(c){const n=c.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Qr{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return $i(this.B.delete())}}class Jn extends Fe{constructor(n,i){super(ke.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function wi(c){return"IndexedDbTransactionError"===c.name}class Wo{constructor(n){this.store=n}put(n,i){let a;return void 0!==i?(It("SimpleDb","PUT",this.store.name,n,i),a=this.store.put(i,n)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),$i(a)}add(n){return It("SimpleDb","ADD",this.store.name,n,n),$i(this.store.add(n))}get(n){return $i(this.store.get(n)).next(i=>(void 0===i&&(i=null),It("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return It("SimpleDb","DELETE",this.store.name,n),$i(this.store.delete(n))}count(){return It("SimpleDb","COUNT",this.store.name),$i(this.store.count())}U(n,i){const a=this.options(n,i),u=a.index?this.store.index(a.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(a.range);return new gt((y,N)=>{f.onerror=U=>{N(U.target.error)},f.onsuccess=U=>{y(U.target.result)}})}{const f=this.cursor(a),y=[];return this.W(f,(N,U)=>{y.push(U)}).next(()=>y)}}G(n,i){const a=this.store.getAll(n,null===i?void 0:i);return new gt((u,f)=>{a.onerror=y=>{f(y.target.error)},a.onsuccess=y=>{u(y.target.result)}})}j(n,i){It("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,i);a.H=!1;const u=this.cursor(a);return this.W(u,(f,y,N)=>N.delete())}J(n,i){let a;i?a=n:(a={},i=n);const u=this.cursor(a);return this.W(u,i)}Y(n){const i=this.cursor({});return new gt((a,u)=>{i.onerror=f=>{const y=Ko(f.target.error);u(y)},i.onsuccess=f=>{const y=f.target.result;y?n(y.primaryKey,y.value).next(N=>{N?y.continue():a()}):a()}})}W(n,i){const a=[];return new gt((u,f)=>{n.onerror=y=>{f(y.target.error)},n.onsuccess=y=>{const N=y.target.result;if(!N)return void u();const U=new Qr(N),te=i(N.primaryKey,N.value,U);if(te instanceof gt){const ge=te.catch(Ve=>(U.done(),gt.reject(Ve)));a.push(ge)}U.isDone?u():null===U.K?N.continue():N.continue(U.K)}}).next(()=>gt.waitFor(a))}options(n,i){let a;return void 0!==n&&("string"==typeof n?a=n:i=n),{index:a,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const a=this.store.index(n.index);return n.H?a.openKeyCursor(n.range,i):a.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function $i(c){return new gt((n,i)=>{c.onsuccess=a=>{n(a.target.result)},c.onerror=a=>{const u=Ko(a.target.error);i(u)}})}let Ro=!1;function Ko(c){const n=Mn.S((0,dt.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(i)>=0){const a=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ro||(Ro=!0,setTimeout(()=>{throw a},0)),a}}return c}class Pr{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;It("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,Te.A)(function*(){i.task=null;try{It("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(a){wi(a)?It("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",a):yield qn(a)}yield i.X(6e4)}))}}class Ye{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,Te.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",a=>i.te(a,n))})()}te(n,i){const a=new Set;let u=i,f=!0;return gt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(y=>{if(null!==y&&!a.has(y))return It("IndexBackfiller",`Processing collection: ${y}`),this.ne(n,y,u).next(N=>{u-=N,a.add(y)});f=!1})).next(()=>i-u)}ne(n,i,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,a).next(f=>{const y=f.changes;return this.localStore.indexManager.updateIndexEntries(n,y).next(()=>this.re(u,f)).next(N=>(It("IndexBackfiller",`Updating offset: ${N}`),this.localStore.indexManager.updateCollectionGroup(n,i,N))).next(()=>y.size)}))}re(n,i){let a=n;return i.changes.forEach((u,f)=>{const y=re(f);$e(y,a)>0&&(a=y)}),new Oe(a.readTime,a.documentKey,Math.max(i.batchId,n.largestBatchId))}}let be=(()=>{class c{constructor(i,a){this.previousValue=i,a&&(a.sequenceNumberHandler=u=>this.ie(u),this.se=u=>a.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return c.oe=-1,c})();function Ct(c){return null==c}function de(c){return 0===c&&1/c==-1/0}function le(c){return"number"==typeof c&&Number.isInteger(c)&&!de(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function He(c){let n="";for(let i=0;i<c.length;i++)n.length>0&&(n=dn(n)),n=zt(c.get(i),n);return dn(n)}function zt(c,n){let i=n;const a=c.length;for(let u=0;u<a;u++){const f=c.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function dn(c){return c+"\x01\x01"}function Rn(c){const n=c.length;if(jt(n>=2),2===n)return jt("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),er.emptyPath();const i=n-2,a=[];let u="";for(let f=0;f<n;){const y=c.indexOf("\x01",f);switch((y<0||y>i)&&qt(),c.charAt(y+1)){case"\x01":const N=c.substring(f,y);let U;0===u.length?U=N:(u+=N,U=u,u=""),a.push(U);break;case"\x10":u+=c.substring(f,y),u+="\0";break;case"\x11":u+=c.substring(f,y+1);break;default:qt()}f=y+2}return new er(a)}const Hn=["userId","batchId"];function Ar(c,n){return[c,He(n)]}function tr(c,n,i){return[c,He(n),i]}const Bi={},hr=["prefixPath","collectionGroup","readTime","documentId"],Di=["prefixPath","collectionGroup","documentId"],Ui=["collectionGroup","readTime","prefixPath","documentId"],yo=["canonicalId","targetId"],ei=["targetId","path"],Po=["path","targetId"],Xi=["collectionId","parent"],co=["indexId","uid"],Io=["uid","sequenceNumber"],Xo=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qi=["indexId","uid","orderedDocumentKey"],Bo=["userId","collectionPath","documentId"],ts=["userId","collectionPath","largestBatchId"],qo=["userId","collectionGroup","largestBatchId"],uo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Kr=[...uo,"documentOverlays"],fs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fn=fs,$r=[...Fn,"indexConfiguration","indexState","indexEntries"],Ks=$r,Is=[...$r,"globals"];class ho extends An{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Si(c,n){const i=rn(c);return Mn.F(i._e,n)}function Es(c){let n=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n++;return n}function Mo(c,n){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&n(i,c[i])}function Xs(c){for(const n in c)if(Object.prototype.hasOwnProperty.call(c,n))return!1;return!0}class pi{constructor(n,i){this.comparator=n,this.root=i||Ri.EMPTY}insert(n,i){return new pi(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(n){return new pi(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(n,i.key);if(0===a)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(n){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(n,a.key);if(0===u)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,a)=>(n(i,a),!1))}toString(){const n=[];return this.inorderTraversal((i,a)=>(n.push(`${i}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new _i(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new _i(this.root,n,this.comparator,!1)}getReverseIterator(){return new _i(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new _i(this.root,n,this.comparator,!0)}}class _i{constructor(n,i,a,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=i?a(n.key,i):1,i&&u&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ri{constructor(n,i,a,u,f){this.key=n,this.value=i,this.color=null!=a?a:Ri.RED,this.left=null!=u?u:Ri.EMPTY,this.right=null!=f?f:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,a,u,f){return new Ri(null!=n?n:this.key,null!=i?i:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,a){let u=this;const f=a(n,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(n,i,a),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let a,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return Ri.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const n=this.left.check();if(n!==this.right.check())throw qt();return n+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,i,a,u,f){return this}insert(n,i,a){return new Ri(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class yr{constructor(n){this.comparator=n,this.data=new pi(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,a)=>(n(i),!1))}forEachInRange(n,i){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let a;for(a=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Qo(this.data.getIterator())}getIteratorFrom(n){return new Qo(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(a=>{i=i.add(a)}),i}isEqual(n){if(!(n instanceof yr)||this.size!==n.size)return!1;const i=this.data.getIterator(),a=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new yr(this.comparator);return i.data=n,i}}class Qo{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function so(c){return c.hasNext()?c.getNext():void 0}class ti{constructor(n){this.fields=n,n.sort(_r.comparator)}static empty(){return new ti([])}unionWith(n){let i=new yr(_r.comparator);for(const a of this.fields)i=i.add(a);for(const a of n)i=i.add(a);return new ti(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return Cr(this.fields,n.fields,(i,a)=>i.isEqual(a))}}class ns extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bi{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new ns("Invalid base64 string: "+f):f}}(n);return new bi(i)}static fromUint8Array(n){const i=function(u){let f="";for(let y=0;y<u.length;++y)f+=String.fromCharCode(u[y]);return f}(n);return new bi(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Cn(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const F=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function E(c){if(jt(!!c),"string"==typeof c){let n=0;const i=F.exec(c);if(jt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const a=new Date(c);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:O(c.seconds),nanos:O(c.nanos)}}function O(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function A(c){return"string"==typeof c?bi.fromBase64String(c):bi.fromUint8Array(c)}function G(c){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==c?void 0:c.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function se(c){const n=c.mapValue.fields.__previous_value__;return G(n)?se(n):n}function nt(c){const n=E(c.mapValue.fields.__local_write_time__.timestampValue);return new mr(n.seconds,n.nanos)}class tn{constructor(n,i,a,u,f,y,N,U,te){this.databaseId=n,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=f,this.forceLongPolling=y,this.autoDetectLongPolling=N,this.longPollingOptions=U,this.useFetchStreams=te}}class Et{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Et("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Et&&n.projectId===this.projectId&&n.database===this.database}}const Ht={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},an={nullValue:"NULL_VALUE"};function wn(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?G(c)?4:No(c)?9007199254740991:lo(c)?10:11:qt()}function Bn(c,n){if(c===n)return!0;const i=wn(c);if(i!==wn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===n.booleanValue;case 4:return nt(c).isEqual(nt(n));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const y=E(u.timestampValue),N=E(f.timestampValue);return y.seconds===N.seconds&&y.nanos===N.nanos}(c,n);case 5:return c.stringValue===n.stringValue;case 6:return f=n,A(c.bytesValue).isEqual(A(f.bytesValue));case 7:return c.referenceValue===n.referenceValue;case 8:return function(u,f){return O(u.geoPointValue.latitude)===O(f.geoPointValue.latitude)&&O(u.geoPointValue.longitude)===O(f.geoPointValue.longitude)}(c,n);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return O(u.integerValue)===O(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const y=O(u.doubleValue),N=O(f.doubleValue);return y===N?de(y)===de(N):isNaN(y)&&isNaN(N)}return!1}(c,n);case 9:return Cr(c.arrayValue.values||[],n.arrayValue.values||[],Bn);case 10:case 11:return function(u,f){const y=u.mapValue.fields||{},N=f.mapValue.fields||{};if(Es(y)!==Es(N))return!1;for(const U in y)if(y.hasOwnProperty(U)&&(void 0===N[U]||!Bn(y[U],N[U])))return!1;return!0}(c,n);default:return qt()}var f}function Xn(c,n){return void 0!==(c.values||[]).find(i=>Bn(i,n))}function ir(c,n){if(c===n)return 0;const i=wn(c),a=wn(n);if(i!==a)return Cn(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Cn(c.booleanValue,n.booleanValue);case 2:return function(f,y){const N=O(f.integerValue||f.doubleValue),U=O(y.integerValue||y.doubleValue);return N<U?-1:N>U?1:N===U?0:isNaN(N)?isNaN(U)?0:-1:1}(c,n);case 3:return Gr(c.timestampValue,n.timestampValue);case 4:return Gr(nt(c),nt(n));case 5:return Cn(c.stringValue,n.stringValue);case 6:return function(f,y){const N=A(f),U=A(y);return N.compareTo(U)}(c.bytesValue,n.bytesValue);case 7:return function(f,y){const N=f.split("/"),U=y.split("/");for(let te=0;te<N.length&&te<U.length;te++){const ge=Cn(N[te],U[te]);if(0!==ge)return ge}return Cn(N.length,U.length)}(c.referenceValue,n.referenceValue);case 8:return function(f,y){const N=Cn(O(f.latitude),O(y.latitude));return 0!==N?N:Cn(O(f.longitude),O(y.longitude))}(c.geoPointValue,n.geoPointValue);case 9:return vi(c.arrayValue,n.arrayValue);case 10:return function(f,y){var N,U,te,ge;const Yt=null===(N=(f.fields||{}).value)||void 0===N?void 0:N.arrayValue,vn=null===(U=(y.fields||{}).value)||void 0===U?void 0:U.arrayValue,$n=Cn((null===(te=null==Yt?void 0:Yt.values)||void 0===te?void 0:te.length)||0,(null===(ge=null==vn?void 0:vn.values)||void 0===ge?void 0:ge.length)||0);return 0!==$n?$n:vi(Yt,vn)}(c.mapValue,n.mapValue);case 11:return function(f,y){if(f===Ht.mapValue&&y===Ht.mapValue)return 0;if(f===Ht.mapValue)return 1;if(y===Ht.mapValue)return-1;const N=f.fields||{},U=Object.keys(N),te=y.fields||{},ge=Object.keys(te);U.sort(),ge.sort();for(let Ve=0;Ve<U.length&&Ve<ge.length;++Ve){const vt=Cn(U[Ve],ge[Ve]);if(0!==vt)return vt;const Yt=ir(N[U[Ve]],te[ge[Ve]]);if(0!==Yt)return Yt}return Cn(U.length,ge.length)}(c.mapValue,n.mapValue);default:throw qt()}}function Gr(c,n){if("string"==typeof c&&"string"==typeof n&&c.length===n.length)return Cn(c,n);const i=E(c),a=E(n),u=Cn(i.seconds,a.seconds);return 0!==u?u:Cn(i.nanos,a.nanos)}function vi(c,n){const i=c.values||[],a=n.values||[];for(let u=0;u<i.length&&u<a.length;++u){const f=ir(i[u],a[u]);if(f)return f}return Cn(i.length,a.length)}function ii(c){return ui(c)}function ui(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const a=E(i);return`time(${a.seconds},${a.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?A(c.bytesValue).toBase64():"referenceValue"in c?_n.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let a="[",u=!0;for(const f of i.values||[])u?u=!1:a+=",",a+=ui(f);return a+"]"}(c.arrayValue):"mapValue"in c?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const y of a)f?f=!1:u+=",",u+=`${y}:${ui(i.fields[y])}`;return u+"}"}(c.mapValue):qt()}function ao(c,n){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${n.path.canonicalString()}`}}function Eo(c){return!!c&&"integerValue"in c}function ji(c){return!!c&&"arrayValue"in c}function fo(c){return!!c&&"nullValue"in c}function rs(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function bs(c){return!!c&&"mapValue"in c}function lo(c){var n,i;return"__vector__"===(null===(i=((null===(n=null==c?void 0:c.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function ps(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const n={mapValue:{fields:{}}};return Mo(c.mapValue.fields,(i,a)=>n.mapValue.fields[i]=ps(a)),n}if(c.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ps(c.arrayValue.values[i]);return n}return Object.assign({},c)}function No(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}const po={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function is(c){return"nullValue"in c?an:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?ao(Et.empty(),_n.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?lo(c)?po:{mapValue:{}}:qt()}function ni(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?ao(Et.empty(),_n.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?po:"mapValue"in c?lo(c)?{mapValue:{}}:Ht:qt()}function ta(c,n){const i=ir(c.value,n.value);return 0!==i?i:c.inclusive&&!n.inclusive?-1:!c.inclusive&&n.inclusive?1:0}function Ns(c,n){const i=ir(c.value,n.value);return 0!==i?i:c.inclusive&&!n.inclusive?1:!c.inclusive&&n.inclusive?-1:0}class To{constructor(n){this.value=n}static empty(){return new To({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let a=0;a<n.length-1;++a)if(i=(i.mapValue.fields||{})[n.get(a)],!bs(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=ps(i)}setAll(n){let i=_r.emptyPath(),a={},u=[];n.forEach((y,N)=>{if(!i.isImmediateParentOf(N)){const U=this.getFieldsMap(i);this.applyChanges(U,a,u),a={},u=[],i=N.popLast()}y?a[N.lastSegment()]=ps(y):u.push(N.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,u)}delete(n){const i=this.field(n.popLast());bs(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return Bn(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<n.length;++a){let u=i.mapValue.fields[n.get(a)];bs(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,a){Mo(i,(u,f)=>n[u]=f);for(const u of a)delete n[u]}clone(){return new To(ps(this.value))}}function Cs(c){const n=[];return Mo(c.fields,(i,a)=>{const u=new _r([i]);if(bs(a)){const f=Cs(a.mapValue).fields;if(0===f.length)n.push(u);else for(const y of f)n.push(u.child(y))}else n.push(u)}),new ti(n)}class xr{constructor(n,i,a,u,f,y,N){this.key=n,this.documentType=i,this.version=a,this.readTime=u,this.createTime=f,this.data=y,this.documentState=N}static newInvalidDocument(n){return new xr(n,0,Dn.min(),Dn.min(),Dn.min(),To.empty(),0)}static newFoundDocument(n,i,a,u){return new xr(n,1,i,Dn.min(),a,u,0)}static newNoDocument(n,i){return new xr(n,2,i,Dn.min(),Dn.min(),To.empty(),0)}static newUnknownDocument(n,i){return new xr(n,3,i,Dn.min(),Dn.min(),To.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Dn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=To.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=To.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof xr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zr{constructor(n,i){this.position=n,this.inclusive=i}}function fe(c,n,i){let a=0;for(let u=0;u<c.position.length;u++){const f=n[u],y=c.position[u];if(a=f.field.isKeyField()?_n.comparator(_n.fromName(y.referenceValue),i.key):ir(y,i.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return a}function Xe(c,n){if(null===c)return null===n;if(null===n||c.inclusive!==n.inclusive||c.position.length!==n.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Bn(c.position[i],n.position[i]))return!1;return!0}class Ut{constructor(n,i="asc"){this.field=n,this.dir=i}}function gn(c,n){return c.dir===n.dir&&c.field.isEqual(n.field)}class jn{}class yn extends jn{constructor(n,i,a){super(),this.field=n,this.op=i,this.value=a}static create(n,i,a){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,a):new As(n,i,a):"array-contains"===i?new Yo(n,a):"in"===i?new Ia(n,a):"not-in"===i?new Z(n,a):"array-contains-any"===i?new L(n,a):new yn(n,i,a)}static createKeyFieldInFilter(n,i,a){return"in"===i?new Ll(n,a):new nc(n,a)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ir(i,this.value)):null!==i&&wn(this.value)===wn(i)&&this.matchesComparison(ir(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return qt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends jn{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Wn(n,i)}matches(n){return Vi(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vi(c){return"and"===c.op}function Qi(c){return"or"===c.op}function Ji(c){return os(c)&&Vi(c)}function os(c){for(const n of c.filters)if(n instanceof Wn)return!1;return!0}function oi(c){if(c instanceof yn)return c.field.canonicalString()+c.op.toString()+ii(c.value);if(Ji(c))return c.filters.map(n=>oi(n)).join(",");{const n=c.filters.map(i=>oi(i)).join(",");return`${c.op}(${n})`}}function Oa(c,n){return c instanceof yn?(a=c,(u=n)instanceof yn&&a.op===u.op&&a.field.isEqual(u.field)&&Bn(a.value,u.value)):c instanceof Wn?function(a,u){return u instanceof Wn&&a.op===u.op&&a.filters.length===u.filters.length&&a.filters.reduce((f,y,N)=>f&&Oa(y,u.filters[N]),!0)}(c,n):void qt();var a,u}function ka(c,n){const i=c.filters.concat(n);return Wn.create(i,c.op)}function gi(c){return c instanceof yn?`${(i=c).field.canonicalString()} ${i.op} ${ii(i.value)}`:c instanceof Wn?function(i){return i.op.toString()+" {"+i.getFilters().map(gi).join(" ,")+"}"}(c):"Filter";var i}class As extends yn{constructor(n,i,a){super(n,i,a),this.key=_n.fromName(a.referenceValue)}matches(n){const i=_n.comparator(n.key,this.key);return this.matchesComparison(i)}}class Ll extends yn{constructor(n,i){super(n,"in",i),this.keys=ss(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class nc extends yn{constructor(n,i){super(n,"not-in",i),this.keys=ss(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function ss(c,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(a=>_n.fromName(a.referenceValue))}class Yo extends yn{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return ji(i)&&Xn(i.arrayValue,this.value)}}class Ia extends yn{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Xn(this.value.arrayValue,i)}}class Z extends yn{constructor(n,i){super(n,"not-in",i)}matches(n){if(Xn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Xn(this.value.arrayValue,i)}}class L extends yn{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!ji(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Xn(this.value.arrayValue,a))}}class ae{constructor(n,i=null,a=[],u=[],f=null,y=null,N=null){this.path=n,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=f,this.startAt=y,this.endAt=N,this.ue=null}}function K(c,n=null,i=[],a=[],u=null,f=null,y=null){return new ae(c,n,i,a,u,f,y)}function ye(c){const n=rn(c);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(a=>oi(a)).join(","),i+="|ob:",i+=n.orderBy.map(a=>{return(f=a).field.canonicalString()+f.dir;var f}).join(","),Ct(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>ii(a)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>ii(a)).join(",")),n.ue=i}return n.ue}function fn(c,n){if(c.limit!==n.limit||c.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!gn(c.orderBy[i],n.orderBy[i]))return!1;if(c.filters.length!==n.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!Oa(c.filters[i],n.filters[i]))return!1;return c.collectionGroup===n.collectionGroup&&!!c.path.isEqual(n.path)&&!!Xe(c.startAt,n.startAt)&&Xe(c.endAt,n.endAt)}function or(c){return _n.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function Pi(c,n){return c.filters.filter(i=>i instanceof yn&&i.field.isEqual(n))}function ki(c,n,i){let a=an,u=!0;for(const f of Pi(c,n)){let y=an,N=!0;switch(f.op){case"<":case"<=":y=is(f.value);break;case"==":case"in":case">=":y=f.value;break;case">":y=f.value,N=!1;break;case"!=":case"not-in":y=an}ta({value:a,inclusive:u},{value:y,inclusive:N})<0&&(a=y,u=N)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(n)){const y=i.position[f];ta({value:a,inclusive:u},{value:y,inclusive:i.inclusive})<0&&(a=y,u=i.inclusive);break}return{value:a,inclusive:u}}function no(c,n,i){let a=Ht,u=!0;for(const f of Pi(c,n)){let y=Ht,N=!0;switch(f.op){case">=":case">":y=ni(f.value),N=!1;break;case"==":case"in":case"<=":y=f.value;break;case"<":y=f.value,N=!1;break;case"!=":case"not-in":y=Ht}Ns({value:a,inclusive:u},{value:y,inclusive:N})>0&&(a=y,u=N)}if(null!==i)for(let f=0;f<c.orderBy.length;++f)if(c.orderBy[f].field.isEqual(n)){const y=i.position[f];Ns({value:a,inclusive:u},{value:y,inclusive:i.inclusive})>0&&(a=y,u=i.inclusive);break}return{value:a,inclusive:u}}class bo{constructor(n,i=null,a=[],u=[],f=null,y="F",N=null,U=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=f,this.limitType=y,this.startAt=N,this.endAt=U,this.ce=null,this.le=null,this.he=null}}function na(c,n,i,a,u,f,y,N){return new bo(c,n,i,a,u,f,y,N)}function gs(c){return new bo(c)}function Fa(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function go(c){return null!==c.collectionGroup}function Rr(c){const n=rn(c);if(null===n.ce){n.ce=[];const i=new Set;for(const f of n.explicitOrderBy)n.ce.push(f),i.add(f.field.canonicalString());const a=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(y){let N=new yr(_r.comparator);return y.filters.forEach(U=>{U.getFlattenedFilters().forEach(te=>{te.isInequality()&&(N=N.add(te.field))})}),N})(n).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||n.ce.push(new Ut(f,a))}),i.has(_r.keyField().canonicalString())||n.ce.push(new Ut(_r.keyField(),a))}return n.ce}function yi(c){const n=rn(c);return n.le||(n.le=function Os(c,n){if("F"===c.limitType)return K(c.path,c.collectionGroup,n,c.filters,c.limit,c.startAt,c.endAt);{n=n.map(u=>new Ut(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new zr(c.endAt.position,c.endAt.inclusive):null,a=c.startAt?new zr(c.startAt.position,c.startAt.inclusive):null;return K(c.path,c.collectionGroup,n,c.filters,c.limit,i,a)}}(n,Rr(c))),n.le}function mo(c,n){const i=c.filters.concat([n]);return new bo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function za(c,n,i){return new bo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),n,i,c.startAt,c.endAt)}function ra(c,n){return fn(yi(c),yi(n))&&c.limitType===n.limitType}function ms(c){return`${ye(yi(c))}|lt:${c.limitType}`}function ks(c){return`Query(target=${function(i){let a=i.path.canonicalString();return null!==i.collectionGroup&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>gi(u)).join(", ")}]`),Ct(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>{return`${(y=u).field.canonicalString()} (${y.dir})`;var y}).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ii(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ii(u)).join(",")),`Target(${a})`}(yi(c))}; limitType=${c.limitType})`}function al(c,n){return n.isFoundDocument()&&function(a,u){const f=u.key.path;return null!==a.collectionGroup?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):_n.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(c,n)&&function(a,u){for(const f of Rr(a))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(c,n)&&function(a,u){for(const f of a.filters)if(!f.matches(u))return!1;return!0}(c,n)&&(u=n,!((a=c).startAt&&!function(y,N,U){const te=fe(y,N,U);return y.inclusive?te<=0:te<0}(a.startAt,Rr(a),u)||a.endAt&&!function(y,N,U){const te=fe(y,N,U);return y.inclusive?te>=0:te>0}(a.endAt,Rr(a),u)));var a,u}function La(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function Tc(c){return(n,i)=>{let a=!1;for(const u of Rr(c)){const f=_s(u,n,i);if(0!==f)return f;a=a||u.field.isKeyField()}return 0}}function _s(c,n,i){const a=c.field.isKeyField()?_n.comparator(n.key,i.key):function(f,y,N){const U=y.data.field(f),te=N.data.field(f);return null!==U&&null!==te?ir(U,te):qt()}(c.field,n,i);switch(c.dir){case"asc":return a;case"desc":return-1*a;default:return qt()}}class Oo{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0!==a)for(const[u,f]of a)if(this.equalsFn(u,n))return f}has(n){return void 0!==this.get(n)}set(n,i){const a=this.mapKeyFn(n),u=this.inner[a];if(void 0===u)return this.inner[a]=[[n,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],n))return void(u[f]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),a=this.inner[i];if(void 0===a)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],n))return 1===a.length?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Mo(this.inner,(i,a)=>{for(const[u,f]of a)n(u,f)})}isEmpty(){return Xs(this.inner)}size(){return this.innerSize}}const Wa=new pi(_n.comparator);function as(){return Wa}const ll=new pi(_n.comparator);function ia(...c){let n=ll;for(const i of c)n=n.insert(i.key,i);return n}function Fs(c){let n=ll;return c.forEach((i,a)=>n=n.insert(i,a.overlayedDocument)),n}function Ts(){return Ls()}function cl(){return Ls()}function Ls(){return new Oo(c=>c.toString(),(c,n)=>c.isEqual(n))}const Al=new pi(_n.comparator),Vl=new yr(_n.comparator);function Fr(...c){let n=Vl;for(const i of c)n=n.add(i);return n}const iu=new yr(Cn);function oa(){return iu}function Va(c,n){if(c.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:de(n)?"-0":n}}function jo(c){return{integerValue:""+c}}function vs(c,n){return le(n)?jo(n):Va(c,n)}class Ea{constructor(){this._=void 0}}function rc(c,n,i){return c instanceof ws?function(u,f){const y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&G(f)&&(f=se(f)),f&&(y.fields.__previous_value__=f),{mapValue:y}}(i,n):c instanceof ro?sa(c,n):c instanceof Vs?Ds(c,n):function(u,f){const y=ul(u,f),N=Ul(y)+Ul(u.Pe);return Eo(y)&&Eo(u.Pe)?jo(N):Va(u.serializer,N)}(c,n)}function Ka(c,n,i){return c instanceof ro?sa(c,n):c instanceof Vs?Ds(c,n):i}function ul(c,n){return c instanceof Ua?Eo(a=n)||(f=a)&&"doubleValue"in f?n:{integerValue:0}:null;var a,f}class ws extends Ea{}class ro extends Ea{constructor(n){super(),this.elements=n}}function sa(c,n){const i=R(n);for(const a of c.elements)i.some(u=>Bn(u,a))||i.push(a);return{arrayValue:{values:i}}}class Vs extends Ea{constructor(n){super(),this.elements=n}}function Ds(c,n){let i=R(n);for(const a of c.elements)i=i.filter(u=>!Bn(u,a));return{arrayValue:{values:i}}}class Ua extends Ea{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function Ul(c){return O(c.integerValue||c.doubleValue)}function R(c){return ji(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class q{constructor(n,i){this.field=n,this.transform=i}}class X{constructor(n,i){this.version=n,this.transformResults=i}}class ce{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new ce}static exists(n){return new ce(void 0,n)}static updateTime(n){return new ce(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function qe(c,n){return void 0!==c.updateTime?n.isFoundDocument()&&n.version.isEqual(c.updateTime):void 0===c.exists||c.exists===n.isFoundDocument()}class nn{}function En(c,n){if(!c.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return c.isNoDocument()?new Sn(c.key,ce.none()):new Mi(c.key,c.data,ce.none());{const i=c.data,a=To.empty();let u=new yr(_r.comparator);for(let f of n.fields)if(!u.has(f)){let y=i.field(f);null===y&&f.length>1&&(f=f.popLast(),y=i.field(f)),null===y?a.delete(f):a.set(f,y),u=u.add(f)}return new si(c.key,a,new ti(u.toArray()),ce.none())}}function Tr(c,n,i){c instanceof Mi?function(u,f,y){const N=u.value.clone(),U=Fi(u.fieldTransforms,f,y.transformResults);N.setAll(U),f.convertToFoundDocument(y.version,N).setHasCommittedMutations()}(c,n,i):c instanceof si?function(u,f,y){if(!qe(u.precondition,f))return void f.convertToUnknownDocument(y.version);const N=Fi(u.fieldTransforms,f,y.transformResults),U=f.data;U.setAll(zi(u)),U.setAll(N),f.convertToFoundDocument(y.version,U).setHasCommittedMutations()}(c,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function ri(c,n,i,a){return c instanceof Mi?function(f,y,N,U){if(!qe(f.precondition,y))return N;const te=f.value.clone(),ge=hi(f.fieldTransforms,U,y);return te.setAll(ge),y.convertToFoundDocument(y.version,te).setHasLocalMutations(),null}(c,n,i,a):c instanceof si?function(f,y,N,U){if(!qe(f.precondition,y))return N;const te=hi(f.fieldTransforms,U,y),ge=y.data;return ge.setAll(zi(f)),ge.setAll(te),y.convertToFoundDocument(y.version,ge).setHasLocalMutations(),null===N?null:N.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ve=>Ve.field))}(c,n,i,a):(N=i,qe(c.precondition,y=n)?(y.convertToNoDocument(y.version).setHasLocalMutations(),null):N);var y,N}function mi(c,n){let i=null;for(const a of c.fieldTransforms){const u=n.data.field(a.field),f=ul(a.transform,u||null);null!=f&&(null===i&&(i=To.empty()),i.set(a.field,f))}return i||null}function Jr(c,n){return c.type===n.type&&!!c.key.isEqual(n.key)&&!!c.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(a=c.fieldTransforms)&&void 0===u||a&&u&&Cr(a,u,(f,y)=>function Le(c,n){return c.field.isEqual(n.field)&&(u=n.transform,(a=c.transform)instanceof ro&&u instanceof ro||a instanceof Vs&&u instanceof Vs?Cr(a.elements,u.elements,Bn):a instanceof Ua&&u instanceof Ua?Bn(a.Pe,u.Pe):a instanceof ws&&u instanceof ws);var a,u}(f,y))))&&(0===c.type?c.value.isEqual(n.value):1!==c.type||c.data.isEqual(n.data)&&c.fieldMask.isEqual(n.fieldMask));var a,u}class Mi extends nn{constructor(n,i,a,u=[]){super(),this.key=n,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class si extends nn{constructor(n,i,a,u,f=[]){super(),this.key=n,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function zi(c){const n=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=c.data.field(i);n.set(i,a)}}),n}function Fi(c,n,i){const a=new Map;jt(c.length===i.length);for(let u=0;u<i.length;u++){const f=c[u],y=f.transform,N=n.data.field(f.field);a.set(f.field,Ka(y,N,i[u]))}return a}function hi(c,n,i){const a=new Map;for(const u of c){const f=u.transform,y=i.data.field(u.field);a.set(u.field,rc(f,y,n))}return a}class Sn extends nn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sr extends nn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wi{constructor(n,i,a,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(n,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(n.key)&&Tr(f,n,a[u])}}applyToLocalView(n,i){for(const a of this.baseMutations)a.key.isEqual(n.key)&&(i=ri(a,n,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(n.key)&&(i=ri(a,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const a=cl();return this.mutations.forEach(u=>{const f=n.get(u.key),y=f.overlayedDocument;let N=this.applyToLocalView(y,f.mutatedFields);N=i.has(u.key)?null:N;const U=En(y,N);null!==U&&a.set(u.key,U),y.isValidDocument()||y.convertToNoDocument(Dn.min())}),a}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),Fr())}isEqual(n){return this.batchId===n.batchId&&Cr(this.mutations,n.mutations,(i,a)=>Jr(i,a))&&Cr(this.baseMutations,n.baseMutations,(i,a)=>Jr(i,a))}}class wo{constructor(n,i,a,u){this.batch=n,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(n,i,a){jt(n.mutations.length===a.length);let u=function(){return Al}();const f=n.mutations;for(let y=0;y<f.length;y++)u=u.insert(f[y].key,a[y].version);return new wo(n,i,a,u)}}class Hi{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qs{constructor(n,i){this.count=n,this.unchangedNames=i}}var Lr,br;function ls(c){switch(c){default:return qt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function Nr(c){if(void 0===c)return mn("GRPC error has no .code"),ke.UNKNOWN;switch(c){case Lr.OK:return ke.OK;case Lr.CANCELLED:return ke.CANCELLED;case Lr.UNKNOWN:return ke.UNKNOWN;case Lr.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Lr.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Lr.INTERNAL:return ke.INTERNAL;case Lr.UNAVAILABLE:return ke.UNAVAILABLE;case Lr.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Lr.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Lr.NOT_FOUND:return ke.NOT_FOUND;case Lr.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Lr.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Lr.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Lr.ABORTED:return ke.ABORTED;case Lr.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Lr.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Lr.DATA_LOSS:return ke.DATA_LOSS;default:return qt()}}(br=Lr||(Lr={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";function Us(){return new TextEncoder}const Tl=new ht([4294967295,4294967295],0);function Zi(c){const n=Us().encode(c),i=new ft;return i.update(n),new Uint8Array(i.digest())}function $l(c){const n=new DataView(c.buffer),i=n.getUint32(0,!0),a=n.getUint32(4,!0),u=n.getUint32(8,!0),f=n.getUint32(12,!0);return[new ht([i,a],0),new ht([u,f],0)]}class Xa{constructor(n,i,a){if(this.bitmap=n,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ss(`Invalid padding: ${i}`);if(a<0)throw new Ss(`Invalid hash count: ${a}`);if(n.length>0&&0===this.hashCount)throw new Ss(`Invalid hash count: ${a}`);if(0===n.length&&0!==i)throw new Ss(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=ht.fromNumber(this.Ie)}Ee(n,i,a){let u=n.add(i.multiply(ht.fromNumber(a)));return 1===u.compare(Tl)&&(u=new ht([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Zi(n),[a,u]=$l(i);for(let f=0;f<this.hashCount;f++){const y=this.Ee(a,u,f);if(!this.de(y))return!1}return!0}static create(n,i,a){const u=n%8==0?0:8-n%8,f=new Uint8Array(Math.ceil(n/8)),y=new Xa(f,u,i);return a.forEach(N=>y.insert(N)),y}insert(n){if(0===this.Ie)return;const i=Zi(n),[a,u]=$l(i);for(let f=0;f<this.hashCount;f++){const y=this.Ee(a,u,f);this.Ae(y)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class la{constructor(n,i,a,u,f){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,i,a){const u=new Map;return u.set(n,Qs.createSynthesizedTargetChangeForCurrentChange(n,i,a)),new la(Dn.min(),u,new pi(Cn),as(),Fr())}}class Qs{constructor(n,i,a,u,f){this.resumeToken=n,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,i,a){return new Qs(a,i,Fr(),Fr(),Fr())}}class ca{constructor(n,i,a,u){this.Re=n,this.removedTargetIds=i,this.key=a,this.Ve=u}}class io{constructor(n,i){this.targetId=n,this.me=i}}class Ys{constructor(n,i,a=bi.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=a,this.cause=u}}class cr{constructor(){this.fe=0,this.ge=ba(),this.pe=bi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=Fr(),i=Fr(),a=Fr();return this.ge.forEach((u,f)=>{switch(f){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:qt()}}),new Qs(this.pe,this.ye,n,i,a)}Ce(){this.we=!1,this.ge=ba()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,jt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wc{constructor(n){this.Le=n,this.Be=new Map,this.ke=as(),this.qe=qa(),this.Qe=new pi(Cn)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const a=this.Ge(i);switch(n.state){case 0:this.ze(i)&&a.De(n.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(n.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(a.Ne(),a.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),a.De(n.resumeToken));break;default:qt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((a,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,a=n.me.count,u=this.Je(i);if(u){const f=u.target;if(or(f))if(0===a){const y=new _n(f.path);this.Ue(i,y,xr.newNoDocument(y,Dn.min()))}else jt(1===a);else{const y=this.Ye(i);if(y!==a){const N=this.Ze(n),U=N?this.Xe(N,n,y):1;0!==U&&(this.je(i),this.Qe=this.Qe.insert(i,2===U?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let y,N;try{y=A(a).toUint8Array()}catch(U){if(U instanceof ns)return kn("Decoding the base64 bloom filter in existence filter failed ("+U.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw U}try{N=new Xa(y,u,f)}catch(U){return kn(U instanceof Ss?"BloomFilter error: ":"Applying bloom filter failed: ",U),null}return 0===N.Ie?null:N}Xe(n,i,a){return i.me.count===a-this.nt(n,i.targetId)?0:2}nt(n,i){const a=this.Le.getRemoteKeysForTarget(i);let u=0;return a.forEach(f=>{const y=this.Le.tt(),N=`projects/${y.projectId}/databases/${y.database}/documents/${f.path.canonicalString()}`;n.mightContain(N)||(this.Ue(i,f,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((f,y)=>{const N=this.Je(y);if(N){if(f.current&&or(N.target)){const U=new _n(N.target.path);null!==this.ke.get(U)||this.it(y,U)||this.Ue(y,U,xr.newNoDocument(U,n))}f.be&&(i.set(y,f.ve()),f.Ce())}});let a=Fr();this.qe.forEach((f,y)=>{let N=!0;y.forEachWhile(U=>{const te=this.Je(U);return!te||"TargetPurposeLimboResolution"===te.purpose||(N=!1,!1)}),N&&(a=a.add(f))}),this.ke.forEach((f,y)=>y.setReadTime(n));const u=new la(n,i,this.Qe,this.ke,a);return this.ke=as(),this.qe=qa(),this.Qe=new pi(Cn),u}$e(n,i){if(!this.ze(n))return;const a=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,a){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new cr,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new yr(Cn),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||It("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new cr),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function qa(){return new pi(_n.comparator)}function ba(){return new pi(_n.comparator)}const ou={asc:"ASCENDING",desc:"DESCENDING"},Qa={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fo={and:"AND",or:"OR"};class Bl{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function _o(c,n){return c.useProto3Json||Ct(n)?n:{value:n}}function oo(c,n){return c.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Ca(c,n){return c.useProto3Json?n.toBase64():n.toUint8Array()}function Ya(c,n){return oo(c,n.toTimestamp())}function Yi(c){return jt(!!c),Dn.fromTimestamp(function(i){const a=E(i);return new mr(a.seconds,a.nanos)}(c))}function Co(c,n){return Aa(c,n).canonicalString()}function Aa(c,n){const i=(u=c,new er(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function ic(c){const n=er.fromString(c);return jt(cs(n)),n}function Ja(c,n){return Co(c.databaseId,n.path)}function $s(c,n){const i=ic(n);if(i.get(1)!==c.databaseId.projectId)throw new Fe(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new Fe(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new _n(id(i))}function su(c,n){return Co(c.databaseId,n)}function rd(c){const n=ic(c);return 4===n.length?er.emptyPath():id(n)}function Dc(c){return new er(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function id(c){return jt(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function od(c,n,i){return{name:Ja(c,n),fields:i.value.mapValue.fields}}function Sc(c,n,i){const a=$s(c,n.name),u=Yi(n.updateTime),f=n.createTime?Yi(n.createTime):Dn.min(),y=new To({mapValue:{fields:n.fields}}),N=xr.newFoundDocument(a,u,f,y);return i&&N.setHasCommittedMutations(),i?N.setHasCommittedMutations():N}function $(c,n){let i;if(n instanceof Mi)i={update:od(c,n.key,n.value)};else if(n instanceof Sn)i={delete:Ja(c,n.key)};else if(n instanceof si)i={update:od(c,n.key,n.data),updateMask:dl(n.fieldMask)};else{if(!(n instanceof sr))return qt();i={verify:Ja(c,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(a=>function(f,y){const N=y.transform;if(N instanceof ws)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(N instanceof ro)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:N.elements}};if(N instanceof Vs)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:N.elements}};if(N instanceof Ua)return{fieldPath:y.field.canonicalString(),increment:N.Pe};throw qt()}(0,a))),n.precondition.isNone||(i.currentDocument=void 0!==(f=n.precondition).updateTime?{updateTime:Ya(c,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:qt()),i;var f}function M(c,n){const i=n.currentDocument?void 0!==(f=n.currentDocument).updateTime?ce.updateTime(Yi(f.updateTime)):void 0!==f.exists?ce.exists(f.exists):ce.none():ce.none(),a=n.updateTransforms?n.updateTransforms.map(u=>function(y,N){let U=null;"setToServerValue"in N?(jt("REQUEST_TIME"===N.setToServerValue),U=new ws):"appendMissingElements"in N?U=new ro(N.appendMissingElements.values||[]):"removeAllFromArray"in N?U=new Vs(N.removeAllFromArray.values||[]):"increment"in N?U=new Ua(y,N.increment):qt();const te=_r.fromServerFormat(N.fieldPath);return new q(te,U)}(c,u)):[];var f;if(n.update){const u=$s(c,n.update.name),f=new To({mapValue:{fields:n.update.fields}});if(n.updateMask){const y=new ti((n.updateMask.fieldPaths||[]).map(ge=>_r.fromServerFormat(ge)));return new si(u,f,y,i,a)}return new Mi(u,f,i,a)}if(n.delete){const u=$s(c,n.delete);return new Sn(u,i)}if(n.verify){const u=$s(c,n.verify);return new sr(u,i)}return qt()}function pe(c,n){return{documents:[su(c,n.path)]}}function Ce(c,n){const i={structuredQuery:{}},a=n.path;let u;null!==n.collectionGroup?(u=a,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=su(c,u);const f=function(te){if(0!==te.length)return Jo(Wn.create(te,"and"))}(n.filters);f&&(i.structuredQuery.where=f);const y=function(te){if(0!==te.length)return te.map(ge=>{return{field:Ki((vt=ge).field),direction:Or(vt.dir)};var vt})}(n.orderBy);y&&(i.structuredQuery.orderBy=y);const N=_o(c,n.limit);return null!==N&&(i.structuredQuery.limit=N),n.startAt&&(i.structuredQuery.startAt={before:(te=n.startAt).inclusive,values:te.position}),n.endAt&&(i.structuredQuery.endAt=function(te){return{before:!te.inclusive,values:te.position}}(n.endAt)),{_t:i,parent:u};var te}function pn(c){let n=rd(c.parent);const i=c.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){jt(1===a);const ge=i.from[0];ge.allDescendants?u=ge.collectionId:n=n.child(ge.collectionId)}let f=[];i.where&&(f=function(Ve){const vt=Kn(Ve);return vt instanceof Wn&&Ji(vt)?vt.getFilters():[vt]}(i.where));let y=[];i.orderBy&&(y=i.orderBy.map(vt=>{return new Ut(Ho((vn=vt).field),function(xn){switch(xn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(vn.direction));var vn}));let N=null;i.limit&&(N=function(Ve){let vt;return vt="object"==typeof Ve?Ve.value:Ve,Ct(vt)?null:vt}(i.limit));let U=null;var Ve;i.startAt&&(U=new zr((Ve=i.startAt).values||[],!!Ve.before));let te=null;return i.endAt&&(te=function(Ve){return new zr(Ve.values||[],!Ve.before)}(i.endAt)),na(n,u,y,f,N,"F",U,te)}function Kn(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ho(i.unaryFilter.field);return yn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=Ho(i.unaryFilter.field);return yn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Ho(i.unaryFilter.field);return yn.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const y=Ho(i.unaryFilter.field);return yn.create(y,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}(c):void 0!==c.fieldFilter?yn.create(Ho((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return Wn.create(i.compositeFilter.filters.map(a=>Kn(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return qt()}}(i.compositeFilter.op))}(c):qt();var i}function Or(c){return ou[c]}function Ni(c){return Qa[c]}function Xr(c){return Fo[c]}function Ki(c){return{fieldPath:c.canonicalString()}}function Ho(c){return _r.fromServerFormat(c.fieldPath)}function Jo(c){return c instanceof yn?function(i){if("=="===i.op){if(rs(i.value))return{unaryFilter:{field:Ki(i.field),op:"IS_NAN"}};if(fo(i.value))return{unaryFilter:{field:Ki(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(rs(i.value))return{unaryFilter:{field:Ki(i.field),op:"IS_NOT_NAN"}};if(fo(i.value))return{unaryFilter:{field:Ki(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ki(i.field),op:Ni(i.op),value:i.value}}}(c):c instanceof Wn?function(i){const a=i.getFilters().map(u=>Jo(u));return 1===a.length?a[0]:{compositeFilter:{op:Xr(i.op),filters:a}}}(c):qt()}function dl(c){const n=[];return c.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function cs(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class Js{constructor(n,i,a,u,f=Dn.min(),y=Dn.min(),N=bi.EMPTY_BYTE_STRING,U=null){this.target=n,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=N,this.expectedCount=U}withSequenceNumber(n){return new Js(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class wl{constructor(n){this.ct=n}}function jl(c,n){const i=n.key,a={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Ta(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())a.document={name:Ja(f=c.ct,(y=n).key),fields:y.data.value.mapValue.fields,updateTime:oo(f,y.version.toTimestamp()),createTime:oo(f,y.createTime.toTimestamp())};else if(n.isNoDocument())a.noDocument={path:i.path.toArray(),readTime:$a(n.version)};else{if(!n.isUnknownDocument())return qt();a.unknownDocument={path:i.path.toArray(),version:$a(n.version)}}var f,y;return a}function Ta(c){const n=c.toTimestamp();return[n.seconds,n.nanoseconds]}function $a(c){const n=c.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function Hl(c){const n=new mr(c.seconds,c.nanoseconds);return Dn.fromTimestamp(n)}function us(c,n){const i=(n.baseMutations||[]).map(f=>M(c.ct,f));for(let f=0;f<n.mutations.length-1;++f)f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(n.mutations[f].updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f);const a=n.mutations.map(f=>M(c.ct,f)),u=mr.fromMillis(n.localWriteTimeMs);return new Wi(n.batchId,u,i,a)}function sc(c){const n=Hl(c.readTime),i=void 0!==c.lastLimboFreeSnapshotVersion?Hl(c.lastLimboFreeSnapshotVersion):Dn.min();let a;return a=void 0!==c.query.documents?(jt(1===(f=c.query).documents.length),yi(gs(rd(f.documents[0])))):function(f){return yi(pn(f))}(c.query),new Js(a,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,n,i,bi.fromBase64String(c.resumeToken));var f}function hl(c,n){const i=$a(n.snapshotVersion),a=$a(n.lastLimboFreeSnapshotVersion);let u;u=or(n.target)?pe(c.ct,n.target):Ce(c.ct,n.target)._t;const f=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:ye(n.target),readTime:i,resumeToken:f,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:u}}function Ci(c){const n=pn({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?za(n,n.limit,"L"):n}function Rc(c,n){return new Hi(n.largestBatchId,M(c.ct,n.overlayMutation))}function ac(c,n){const i=n.path.lastSegment();return[c,He(n.path.popLast()),i]}function Rs(c,n,i,a){return{indexId:c,uid:n,sequenceNumber:i,readTime:$a(a.readTime),documentKey:He(a.documentKey.path),largestBatchId:a.largestBatchId}}class sd{getBundleMetadata(n,i){return Gl(n).get(i).next(a=>{if(a)return{id:(f=a).bundleId,createTime:Hl(f.createTime),version:f.version};var f})}saveBundleMetadata(n,i){return Gl(n).put({bundleId:(u=i).id,createTime:$a(Yi(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return Dl(n).get(i).next(a=>{if(a)return{name:(f=a).name,query:Ci(f.bundledQuery),readTime:Hl(f.readTime)};var f})}saveNamedQuery(n,i){return Dl(n).put({name:(u=i).name,readTime:$a(Yi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Gl(c){return Si(c,"bundles")}function Dl(c){return Si(c,"namedQueries")}class Ps{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new Ps(n,i.uid||"")}getOverlay(n,i){return zl(n).get(ac(this.userId,i)).next(a=>a?Rc(this.serializer,a):null)}getOverlays(n,i){const a=Ts();return gt.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&a.set(u,f)})).next(()=>a)}saveOverlays(n,i,a){const u=[];return a.forEach((f,y)=>{const N=new Hi(i,y);u.push(this.ht(n,N))}),gt.waitFor(u)}removeOverlaysForBatchId(n,i,a){const u=new Set;i.forEach(y=>u.add(He(y.getCollectionPath())));const f=[];return u.forEach(y=>{const N=IDBKeyRange.bound([this.userId,y,a],[this.userId,y,a+1],!1,!0);f.push(zl(n).j("collectionPathOverlayIndex",N))}),gt.waitFor(f)}getOverlaysForCollection(n,i,a){const u=Ts(),f=He(i),y=IDBKeyRange.bound([this.userId,f,a],[this.userId,f,Number.POSITIVE_INFINITY],!0);return zl(n).U("collectionPathOverlayIndex",y).next(N=>{for(const U of N){const te=Rc(this.serializer,U);u.set(te.getKey(),te)}return u})}getOverlaysForCollectionGroup(n,i,a,u){const f=Ts();let y;const N=IDBKeyRange.bound([this.userId,i,a],[this.userId,i,Number.POSITIVE_INFINITY],!0);return zl(n).J({index:"collectionGroupOverlayIndex",range:N},(U,te,ge)=>{const Ve=Rc(this.serializer,te);f.size()<u||Ve.largestBatchId===y?(f.set(Ve.getKey(),Ve),y=Ve.largestBatchId):ge.done()}).next(()=>f)}ht(n,i){return zl(n).put(function(u,f,y){const[N,U,te]=ac(f,y.mutation.key);return{userId:f,collectionPath:U,documentId:te,collectionGroup:y.mutation.key.getCollectionGroup(),largestBatchId:y.largestBatchId,overlayMutation:$(u.ct,y.mutation)}}(this.serializer,this.userId,i))}}function zl(c){return Si(c,"documentOverlays")}class ad{Pt(n){return Si(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const a=null==i?void 0:i.value;return a?bi.fromUint8Array(a):bi.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class fl{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(O(n.integerValue));else if("doubleValue"in n){const a=O(n.doubleValue);isNaN(a)?this.dt(i,13):(this.dt(i,15),de(a)?i.At(0):i.At(a))}else if("timestampValue"in n){let a=n.timestampValue;this.dt(i,20),"string"==typeof a&&(a=E(a)),i.Rt(`${a.seconds||""}`),i.At(a.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(A(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const a=n.geoPointValue;this.dt(i,45),i.At(a.latitude||0),i.At(a.longitude||0)}else"mapValue"in n?No(n)?this.dt(i,Number.MAX_SAFE_INTEGER):lo(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):qt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const a=n.fields||{};this.dt(i,55);for(const u of Object.keys(a))this.Vt(u,i),this.Tt(a[u],i)}wt(n,i){var a,u;const f=n.fields||{};this.dt(i,53);const y="value",N=(null===(u=null===(a=f[y].arrayValue)||void 0===a?void 0:a.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(O(N)),this.Vt(y,i),this.Tt(f[y],i)}bt(n,i){const a=n.values||[];this.dt(i,50);for(const u of a)this.Tt(u,i)}yt(n,i){this.dt(i,37),_n.fromName(n).path.forEach(a=>{this.dt(i,60),this.Dt(a,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function wa(c){if(0===c)return 8;let n=0;return!(c>>4)&&(n+=4,c<<=4),!(c>>6)&&(n+=2,c<<=2),!(c>>7)&&(n+=1),n}function Pc(c){const n=64-function(a){let u=0;for(let f=0;f<8;++f){const y=wa(255&a[f]);if(u+=y,8!==y)break}return u}(c);return Math.ceil(n/8)}fl.vt=new fl;class au{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ft(a.value),a=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let a=i.next();for(;!a.done;)this.Ot(a.value),a=i.next();this.Nt()}Lt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ft(a);else if(a<2048)this.Ft(960|a>>>6),this.Ft(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|a>>>12),this.Ft(128|63&a>>>6),this.Ft(128|63&a);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const a=i.charCodeAt(0);if(a<128)this.Ot(a);else if(a<2048)this.Ot(960|a>>>6),this.Ot(128|63&a);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|a>>>12),this.Ot(128|63&a>>>6),this.Ot(128|63&a);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),a=Pc(i);this.Qt(1+a),this.buffer[this.position++]=255&a;for(let u=i.length-a;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),a=Pc(i);this.Qt(1+a),this.buffer[this.position++]=~(255&a);for(let u=i.length-a;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(f){const y=new DataView(new ArrayBuffer(8));return y.setFloat64(0,f,!1),new Uint8Array(y.buffer)}(n),a=!!(128&i[0]);i[0]^=a?255:128;for(let u=1;u<i.length;++u)i[u]^=a?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let a=2*this.buffer.length;a<i&&(a=i);const u=new Uint8Array(a);u.set(this.buffer),this.buffer=u}}class zd{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Sl{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class Wl{constructor(){this.jt=new au,this.Ht=new zd(this.jt),this.Jt=new Sl(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Za{constructor(n,i,a,u){this.indexId=n,this.documentKey=i,this.arrayValue=a,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,a=new Uint8Array(i);return a.set(this.directionalValue,0),i!==n?a.set([0],this.directionalValue.length):++a[a.length-1],new Za(this.indexId,this.documentKey,this.arrayValue,a)}}function ua(c,n){let i=c.indexId-n.indexId;return 0!==i?i:(i=lc(c.arrayValue,n.arrayValue),0!==i?i:(i=lc(c.directionalValue,n.directionalValue),0!==i?i:_n.comparator(c.documentKey,n.documentKey)))}function lc(c,n){for(let i=0;i<c.length&&i<n.length;++i){const a=c[i]-n[i];if(0!==a)return a}return c.length-n.length}class Da{constructor(n){this.Xt=new yr((i,a)=>_r.comparator(i.field,a.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const a=i;a.isInequality()?this.Xt=this.Xt.add(a):this.tn.push(a)}}get nn(){return this.Xt.size>1}rn(n){if(jt(n.collectionGroup===this.collectionId),this.nn)return!1;const i=wt(n);if(void 0!==i&&!this.sn(i))return!1;const a=Kt(n);let u=new Set,f=0,y=0;for(;f<a.length&&this.sn(a[f]);++f)u=u.add(a[f].fieldPath.canonicalString());if(f===a.length)return!0;if(this.Xt.size>0){const N=this.Xt.getIterator().getNext();if(!u.has(N.field.canonicalString())){const U=a[f];if(!this.on(N,U)||!this._n(this.en[y++],U))return!1}++f}for(;f<a.length;++f)if(y>=this.en.length||!this._n(this.en[y++],a[f]))return!1;return!0}an(){if(this.nn)return null;let n=new yr(_r.comparator);const i=[];for(const a of this.tn)if(!a.field.isKeyField())if("array-contains"===a.op||"array-contains-any"===a.op)i.push(new Ue(a.field,2));else{if(n.has(a.field))continue;n=n.add(a.field),i.push(new Ue(a.field,0))}for(const a of this.en)a.field.isKeyField()||n.has(a.field)||(n=n.add(a.field),i.push(new Ue(a.field,"asc"===a.dir?0:1)));return new Gt(Gt.UNKNOWN_ID,this.collectionId,i,J.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Br(c){var n,i;if(jt(c instanceof yn||c instanceof Wn),c instanceof yn){if(c instanceof Ia){const u=(null===(i=null===(n=c.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(f=>yn.create(c.field,"==",f)))||[];return Wn.create(u,"or")}return c}const a=c.filters.map(u=>Br(u));return Wn.create(a,c.op)}function Mc(c){if(0===c.getFilters().length)return[];const n=ld(Br(c));return jt(zh(n)),cc(n)||xc(n)?[n]:n.getFilters()}function cc(c){return c instanceof yn}function xc(c){return c instanceof Wn&&Ji(c)}function zh(c){return cc(c)||xc(c)||function(i){if(i instanceof Wn&&Qi(i)){for(const a of i.getFilters())if(!cc(a)&&!xc(a))return!1;return!0}return!1}(c)}function ld(c){if(jt(c instanceof yn||c instanceof Wn),c instanceof yn)return c;if(1===c.filters.length)return ld(c.filters[0]);const n=c.filters.map(a=>ld(a));let i=Wn.create(n,c.op);return i=Oc(i),zh(i)?i:(jt(i instanceof Wn),jt(Vi(i)),jt(i.filters.length>1),i.filters.reduce((a,u)=>Nc(a,u)))}function Nc(c,n){let i;return jt(c instanceof yn||c instanceof Wn),jt(n instanceof yn||n instanceof Wn),i=c instanceof yn?n instanceof yn?Wn.create([c,n],"and"):Wd(c,n):n instanceof yn?Wd(n,c):function(u,f){if(jt(u.filters.length>0&&f.filters.length>0),Vi(u)&&Vi(f))return ka(u,f.getFilters());const y=Qi(u)?u:f,N=Qi(u)?f:u,U=y.filters.map(te=>Nc(te,N));return Wn.create(U,"or")}(c,n),Oc(i)}function Wd(c,n){if(Vi(n))return ka(n,c.getFilters());{const i=n.filters.map(a=>Nc(c,a));return Wn.create(i,"or")}}function Oc(c){if(jt(c instanceof yn||c instanceof Wn),c instanceof yn)return c;const n=c.getFilters();if(1===n.length)return Oc(n[0]);if(os(c))return c;const i=n.map(u=>Oc(u)),a=[];return i.forEach(u=>{u instanceof yn?a.push(u):u instanceof Wn&&(u.op===c.op?a.push(...u.filters):a.push(u))}),1===a.length?a[0]:Wn.create(a,c.op)}class pl{constructor(){this.un=new cd}addToCollectionParentIndex(n,i){return this.un.add(i),gt.resolve()}getCollectionParents(n,i){return gt.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return gt.resolve()}deleteFieldIndex(n,i){return gt.resolve()}deleteAllFieldIndexes(n){return gt.resolve()}createTargetIndexes(n,i){return gt.resolve()}getDocumentsMatchingTarget(n,i){return gt.resolve(null)}getIndexType(n,i){return gt.resolve(0)}getFieldIndexes(n,i){return gt.resolve([])}getNextCollectionGroupToUpdate(n){return gt.resolve(null)}getMinOffset(n,i){return gt.resolve(Oe.min())}getMinOffsetFromCollectionGroup(n,i){return gt.resolve(Oe.min())}updateCollectionGroup(n,i,a){return gt.resolve()}updateIndexEntries(n,i){return gt.resolve()}}class cd{constructor(){this.index={}}add(n){const i=n.lastSegment(),a=n.popLast(),u=this.index[i]||new yr(er.comparator),f=!u.has(a);return this.index[i]=u.add(a),f}has(n){const i=n.lastSegment(),a=n.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(n){return(this.index[n]||new yr(er.comparator)).toArray()}}const lu=new Uint8Array(0);class ud{constructor(n,i){this.databaseId=i,this.cn=new cd,this.ln=new Oo(a=>ye(a),(a,u)=>fn(a,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const a=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:a,parent:He(u)};return Kd(n).put(f)}return gt.resolve()}getCollectionParents(n,i){const a=[],u=IDBKeyRange.bound([i,""],[Un(i),""],!1,!0);return Kd(n).U(u).next(f=>{for(const y of f){if(y.collectionId!==i)break;a.push(Rn(y.parent))}return a})}addFieldIndex(n,i){const a=ln(n),u={indexId:(N=i).indexId,collectionGroup:N.collectionGroup,fields:N.fields.map(U=>[U.fieldPath.canonicalString(),U.kind])};var N;delete u.indexId;const f=a.add(u);if(i.indexState){const y=Wr(n);return f.next(N=>{y.put(Rs(N,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(n,i){const a=ln(n),u=Wr(n),f=da(n);return a.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=ln(n),a=da(n),u=Wr(n);return i.j().next(()=>a.j()).next(()=>u.j())}createTargetIndexes(n,i){return gt.forEach(this.hn(i),a=>this.getIndexType(n,a).next(u=>{if(0===u||1===u){const f=new Da(a).an();if(null!=f)return this.addFieldIndex(n,f)}}))}getDocumentsMatchingTarget(n,i){const a=da(n);let u=!0;const f=new Map;return gt.forEach(this.hn(i),y=>this.Pn(n,y).next(N=>{u&&(u=!!N),f.set(y,N)})).next(()=>{if(u){let y=Fr();const N=[];return gt.forEach(f,(U,te)=>{var pr;It("IndexedDbIndexManager",`Using index ${pr=U,`id=${pr.indexId}|cg=${pr.collectionGroup}|f=${pr.fields.map(kr=>`${kr.fieldPath}:${kr.kind}`).join(",")}`} to execute ${ye(i)}`);const ge=function(pr,kr){const Li=wt(kr);if(void 0===Li)return null;for(const qr of Pi(pr,Li.fieldPath))switch(qr.op){case"array-contains-any":return qr.value.arrayValue.values||[];case"array-contains":return[qr.value]}return null}(te,U),Ve=function(pr,kr){const Li=new Map;for(const qr of Kt(kr))for(const Vt of Pi(pr,qr.fieldPath))switch(Vt.op){case"==":case"in":Li.set(qr.fieldPath.canonicalString(),Vt.value);break;case"not-in":case"!=":return Li.set(qr.fieldPath.canonicalString(),Vt.value),Array.from(Li.values())}return null}(te,U),vt=function(pr,kr){const Li=[];let qr=!0;for(const Vt of Kt(kr)){const pt=0===Vt.kind?ki(pr,Vt.fieldPath,pr.startAt):no(pr,Vt.fieldPath,pr.startAt);Li.push(pt.value),qr&&(qr=pt.inclusive)}return new zr(Li,qr)}(te,U),Yt=function(pr,kr){const Li=[];let qr=!0;for(const Vt of Kt(kr)){const pt=0===Vt.kind?no(pr,Vt.fieldPath,pr.endAt):ki(pr,Vt.fieldPath,pr.endAt);Li.push(pt.value),qr&&(qr=pt.inclusive)}return new zr(Li,qr)}(te,U),vn=this.In(U,te,vt),$n=this.In(U,te,Yt),xn=this.Tn(U,te,Ve),ur=this.En(U.indexId,ge,vn,vt.inclusive,$n,Yt.inclusive,xn);return gt.forEach(ur,wr=>a.G(wr,i.limit).next(pr=>{pr.forEach(kr=>{const Li=_n.fromSegments(kr.documentKey);y.has(Li)||(y=y.add(Li),N.push(Li))})}))}).next(()=>N)}return gt.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:Mc(Wn.create(n.filters,"and")).map(a=>K(n.path,n.collectionGroup,n.orderBy,a.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,a,u,f,y,N){const U=(null!=i?i.length:1)*Math.max(a.length,f.length),te=U/(null!=i?i.length:1),ge=[];for(let Ve=0;Ve<U;++Ve){const vt=i?this.dn(i[Ve/te]):lu,Yt=this.An(n,vt,a[Ve%te],u),vn=this.Rn(n,vt,f[Ve%te],y),$n=N.map(xn=>this.An(n,vt,xn,!0));ge.push(...this.createRange(Yt,vn,$n))}return ge}An(n,i,a,u){const f=new Za(n,_n.empty(),i,a);return u?f:f.Zt()}Rn(n,i,a,u){const f=new Za(n,_n.empty(),i,a);return u?f.Zt():f}Pn(n,i){const a=new Da(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(f=>{let y=null;for(const N of f)a.rn(N)&&(!y||N.fields.length>y.fields.length)&&(y=N);return y})}getIndexType(n,i){let a=2;const u=this.hn(i);return gt.forEach(u,f=>this.Pn(n,f).next(y=>{y?0!==a&&y.fields.length<function(U){let te=new yr(_r.comparator),ge=!1;for(const Ve of U.filters)for(const vt of Ve.getFlattenedFilters())vt.field.isKeyField()||("array-contains"===vt.op||"array-contains-any"===vt.op?ge=!0:te=te.add(vt.field));for(const Ve of U.orderBy)Ve.field.isKeyField()||(te=te.add(Ve.field));return te.size+(ge?1:0)}(f)&&(a=1):a=0})).next(()=>null!==i.limit&&u.length>1&&2===a?1:a)}Vn(n,i){const a=new Wl;for(const u of Kt(n)){const f=i.data.field(u.fieldPath);if(null==f)return null;const y=a.Yt(u.kind);fl.vt.It(f,y)}return a.zt()}dn(n){const i=new Wl;return fl.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const a=new Wl;return fl.vt.It(ao(this.databaseId,i),a.Yt(function(f){const y=Kt(f);return 0===y.length?0:y[y.length-1].kind}(n))),a.zt()}Tn(n,i,a){if(null===a)return[];let u=[];u.push(new Wl);let f=0;for(const y of Kt(n)){const N=a[f++];for(const U of u)if(this.fn(i,y.fieldPath)&&ji(N))u=this.gn(u,y,N);else{const te=U.Yt(y.kind);fl.vt.It(N,te)}}return this.pn(u)}In(n,i,a){return this.Tn(n,i,a.position)}pn(n){const i=[];for(let a=0;a<n.length;++a)i[a]=n[a].zt();return i}gn(n,i,a){const u=[...n],f=[];for(const y of a.arrayValue.values||[])for(const N of u){const U=new Wl;U.seed(N.zt()),fl.vt.It(y,U.Yt(i.kind)),f.push(U)}return f}fn(n,i){return!!n.filters.find(a=>a instanceof yn&&a.field.isEqual(i)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(n,i){const a=ln(n),u=Wr(n);return(i?a.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):a.U()).next(f=>{const y=[];return gt.forEach(f,N=>u.get([N.indexId,this.uid]).next(U=>{y.push(function(ge,Ve){const vt=Ve?new J(Ve.sequenceNumber,new Oe(Hl(Ve.readTime),new _n(Rn(Ve.documentKey)),Ve.largestBatchId)):J.empty(),Yt=ge.fields.map(([vn,$n])=>new Ue(_r.fromServerFormat(vn),$n));return new Gt(ge.indexId,ge.collectionGroup,Yt,vt)}(N,U))})).next(()=>y)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((a,u)=>{const f=a.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Cn(a.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,a){const u=ln(n),f=Wr(n);return this.yn(n).next(y=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(N=>gt.forEach(N,U=>f.put(Rs(U.indexId,this.uid,y,a)))))}updateIndexEntries(n,i){const a=new Map;return gt.forEach(i,(u,f)=>{const y=a.get(u.collectionGroup);return(y?gt.resolve(y):this.getFieldIndexes(n,u.collectionGroup)).next(N=>(a.set(u.collectionGroup,N),gt.forEach(N,U=>this.wn(n,u,U).next(te=>{const ge=this.Sn(f,U);return te.isEqual(ge)?gt.resolve():this.bn(n,f,U,te,ge)}))))})}Dn(n,i,a,u){return da(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(a,i.key),documentKey:i.key.path.toArray()})}vn(n,i,a,u){return da(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(a,i.key),i.key.path.toArray()])}wn(n,i,a){const u=da(n);let f=new yr(ua);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.mn(a,i)])},(y,N)=>{f=f.add(new Za(a.indexId,i,N.arrayValue,N.directionalValue))}).next(()=>f)}Sn(n,i){let a=new yr(ua);const u=this.Vn(i,n);if(null==u)return a;const f=wt(i);if(null!=f){const y=n.data.field(f.fieldPath);if(ji(y))for(const N of y.arrayValue.values||[])a=a.add(new Za(i.indexId,n.key,this.dn(N),u))}else a=a.add(new Za(i.indexId,n.key,lu,u));return a}bn(n,i,a,u,f){It("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const y=[];return function(U,te,ge,Ve,vt){const Yt=U.getIterator(),vn=te.getIterator();let $n=so(Yt),xn=so(vn);for(;$n||xn;){let ur=!1,wr=!1;if($n&&xn){const pr=ge($n,xn);pr<0?wr=!0:pr>0&&(ur=!0)}else null!=$n?wr=!0:ur=!0;ur?(Ve(xn),xn=so(vn)):wr?(vt($n),$n=so(Yt)):($n=so(Yt),xn=so(vn))}}(u,f,ua,N=>{y.push(this.Dn(n,i,a,N))},N=>{y.push(this.vn(n,i,a,N))}),gt.waitFor(y)}yn(n){let i=1;return Wr(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,a){a=a.sort((y,N)=>ua(y,N)).filter((y,N,U)=>!N||0!==ua(y,U[N-1]));const u=[];u.push(n);for(const y of a){const N=ua(y,n),U=ua(y,i);if(0===N)u[0]=n.Zt();else if(N>0&&U<0)u.push(y),u.push(y.Zt());else if(U>0)break}u.push(i);const f=[];for(let y=0;y<u.length;y+=2){if(this.Cn(u[y],u[y+1]))return[];f.push(IDBKeyRange.bound([u[y].indexId,this.uid,u[y].arrayValue,u[y].directionalValue,lu,[]],[u[y+1].indexId,this.uid,u[y+1].arrayValue,u[y+1].directionalValue,lu,[]]))}return f}Cn(n,i){return ua(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(kc)}getMinOffset(n,i){return gt.mapArray(this.hn(i),a=>this.Pn(n,a).next(u=>u||qt())).next(kc)}}function Kd(c){return Si(c,"collectionParents")}function da(c){return Si(c,"indexEntries")}function ln(c){return Si(c,"indexConfiguration")}function Wr(c){return Si(c,"indexState")}function kc(c){jt(0!==c.length);let n=c[0].indexState.offset,i=n.largestBatchId;for(let a=1;a<c.length;a++){const u=c[a].indexState.offset;$e(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Oe(n.readTime,n.documentKey,i)}const cu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zr{constructor(n,i,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new Zr(n,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uu(c,n,i){const a=c.store("mutations"),u=c.store("documentMutations"),f=[],y=IDBKeyRange.only(i.batchId);let N=0;const U=a.J({range:y},(ge,Ve,vt)=>(N++,vt.delete()));f.push(U.next(()=>{jt(1===N)}));const te=[];for(const ge of i.mutations){const Ve=tr(n,ge.key.path,i.batchId);f.push(u.delete(Ve)),te.push(ge.key)}return gt.waitFor(f).next(()=>te)}function gl(c){if(!c)return 0;let n;if(c.document)n=c.document;else if(c.unknownDocument)n=c.unknownDocument;else{if(!c.noDocument)throw qt();n=c.noDocument}return JSON.stringify(n).length}Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(41943040,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);class Bs{constructor(n,i,a,u){this.userId=n,this.serializer=i,this.indexManager=a,this.referenceDelegate=u,this.Fn={}}static lt(n,i,a,u){jt(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new Bs(f,i,a,u)}checkEmpty(n){let i=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ba(n).J({index:"userMutationsIndex",range:a},(u,f,y)=>{i=!1,y.done()}).next(()=>i)}addMutationBatch(n,i,a,u){const f=ml(n),y=Ba(n);return y.add({}).next(N=>{jt("number"==typeof N);const U=new Wi(N,i,a,u),te=function(Yt,vn,$n){const xn=$n.baseMutations.map(wr=>$(Yt.ct,wr)),ur=$n.mutations.map(wr=>$(Yt.ct,wr));return{userId:vn,batchId:$n.batchId,localWriteTimeMs:$n.localWriteTime.toMillis(),baseMutations:xn,mutations:ur}}(this.serializer,this.userId,U),ge=[];let Ve=new yr((vt,Yt)=>Cn(vt.canonicalString(),Yt.canonicalString()));for(const vt of u){const Yt=tr(this.userId,vt.key.path,N);Ve=Ve.add(vt.key.path.popLast()),ge.push(y.put(te)),ge.push(f.put(Yt,Bi))}return Ve.forEach(vt=>{ge.push(this.indexManager.addToCollectionParentIndex(n,vt))}),n.addOnCommittedListener(()=>{this.Fn[N]=U.keys()}),gt.waitFor(ge).next(()=>U)})}lookupMutationBatch(n,i){return Ba(n).get(i).next(a=>a?(jt(a.userId===this.userId),us(this.serializer,a)):null)}Mn(n,i){return this.Fn[i]?gt.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(a=>{if(a){const u=a.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const a=i+1,u=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return Ba(n).J({index:"userMutationsIndex",range:u},(y,N,U)=>{N.userId===this.userId&&(jt(N.batchId>=a),f=us(this.serializer,N)),U.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Ba(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,y)=>{a=f.batchId,y.done()}).next(()=>a)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ba(n).U("userMutationsIndex",i).next(a=>a.map(u=>us(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const a=Ar(this.userId,i.path),u=IDBKeyRange.lowerBound(a),f=[];return ml(n).J({range:u},(y,N,U)=>{const[te,ge,Ve]=y,vt=Rn(ge);if(te===this.userId&&i.path.isEqual(vt))return Ba(n).get(Ve).next(Yt=>{if(!Yt)throw qt();jt(Yt.userId===this.userId),f.push(us(this.serializer,Yt))});U.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new yr(Cn);const u=[];return i.forEach(f=>{const y=Ar(this.userId,f.path),N=IDBKeyRange.lowerBound(y),U=ml(n).J({range:N},(te,ge,Ve)=>{const[vt,Yt,vn]=te,$n=Rn(Yt);vt===this.userId&&f.path.isEqual($n)?a=a.add(vn):Ve.done()});u.push(U)}),gt.waitFor(u).next(()=>this.xn(n,a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,u=a.length+1,f=Ar(this.userId,a),y=IDBKeyRange.lowerBound(f);let N=new yr(Cn);return ml(n).J({range:y},(U,te,ge)=>{const[Ve,vt,Yt]=U,vn=Rn(vt);Ve===this.userId&&a.isPrefixOf(vn)?vn.length===u&&(N=N.add(Yt)):ge.done()}).next(()=>this.xn(n,N))}xn(n,i){const a=[],u=[];return i.forEach(f=>{u.push(Ba(n).get(f).next(y=>{if(null===y)throw qt();jt(y.userId===this.userId),a.push(us(this.serializer,y))}))}),gt.waitFor(u).next(()=>a)}removeMutationBatch(n,i){return uu(n._e,this.userId,i).next(a=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),gt.forEach(a,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return gt.resolve();const a=IDBKeyRange.lowerBound(function(y){return[y]}(this.userId)),u=[];return ml(n).J({range:a},(f,y,N)=>{if(f[0]===this.userId){const U=Rn(f[1]);u.push(U)}else N.done()}).next(()=>{jt(0===u.length)})})}containsKey(n,i){return du(n,this.userId,i)}Nn(n){return Wh(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function du(c,n,i){const a=Ar(n,i.path),u=a[1],f=IDBKeyRange.lowerBound(a);let y=!1;return ml(c).J({range:f,H:!0},(N,U,te)=>{const[ge,Ve,vt]=N;ge===n&&Ve===u&&(y=!0),te.done()}).next(()=>y)}function Ba(c){return Si(c,"mutations")}function ml(c){return Si(c,"documentMutations")}function Wh(c){return Si(c,"mutationQueues")}class uc{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new uc(0)}static kn(){return new uc(-1)}}class Xd{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const a=new uc(i.highestTargetId);return i.highestTargetId=a.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>Dn.fromTimestamp(new mr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,a){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,a&&(u.lastRemoteSnapshotVersion=a.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(a=>(a.targetCount+=1,this.$n(i,a),this.Qn(n,a))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>_l(n).delete(i.targetId)).next(()=>this.qn(n)).next(a=>(jt(a.targetCount>0),a.targetCount-=1,this.Qn(n,a)))}removeTargets(n,i,a){let u=0;const f=[];return _l(n).J((y,N)=>{const U=sc(N);U.sequenceNumber<=i&&null===a.get(U.targetId)&&(u++,f.push(this.removeTargetData(n,U)))}).next(()=>gt.waitFor(f)).next(()=>u)}forEachTarget(n,i){return _l(n).J((a,u)=>{const f=sc(u);i(f)})}qn(n){return dd(n).get("targetGlobalKey").next(i=>(jt(null!==i),i))}Qn(n,i){return dd(n).put("targetGlobalKey",i)}Kn(n,i){return _l(n).put(hl(this.serializer,i))}$n(n,i){let a=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,a=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const a=ye(i),u=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return _l(n).J({range:u,index:"queryTargetsIndex"},(y,N,U)=>{const te=sc(N);fn(i,te.target)&&(f=te,U.done())}).next(()=>f)}addMatchingKeys(n,i,a){const u=[],f=Lo(n);return i.forEach(y=>{const N=He(y.path);u.push(f.put({targetId:a,path:N})),u.push(this.referenceDelegate.addReference(n,a,y))}),gt.waitFor(u)}removeMatchingKeys(n,i,a){const u=Lo(n);return gt.forEach(i,f=>{const y=He(f.path);return gt.waitFor([u.delete([a,y]),this.referenceDelegate.removeReference(n,a,f)])})}removeMatchingKeysForTargetId(n,i){const a=Lo(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return a.delete(u)}getMatchingKeysForTargetId(n,i){const a=IDBKeyRange.bound([i],[i+1],!1,!0),u=Lo(n);let f=Fr();return u.J({range:a,H:!0},(y,N,U)=>{const te=Rn(y[1]),ge=new _n(te);f=f.add(ge)}).next(()=>f)}containsKey(n,i){const a=He(i.path),u=IDBKeyRange.bound([a],[Un(a)],!1,!0);let f=0;return Lo(n).J({index:"documentTargetsIndex",H:!0,range:u},([y,N],U,te)=>{0!==y&&(f++,te.done())}).next(()=>f>0)}ot(n,i){return _l(n).get(i).next(a=>a?sc(a):null)}}function _l(c){return Si(c,"targets")}function dd(c){return Si(c,"targetGlobal")}function Lo(c){return Si(c,"targetDocuments")}function ja([c,n],[i,a]){const u=Cn(c,i);return 0===u?Cn(n,a):u}class hd{constructor(n){this.Un=n,this.buffer=new yr(ja),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ja(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class js{constructor(n,i,a){this.garbageCollector=n,this.asyncQueue=i,this.localStore=a,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;It("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Te.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(a){wi(a)?It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield qn(a)}yield i.Hn(3e5)}))}}class vl{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(a=>Math.floor(i/100*a))}nthSequenceNumber(n,i){if(0===i)return gt.resolve(be.oe);const a=new hd(i);return this.Jn.forEachTarget(n,u=>a.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>a.zn(u))).next(()=>a.maxValue)}removeTargets(n,i,a){return this.Jn.removeTargets(n,i,a)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; disabled"),gt.resolve(cu)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cu):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let a,u,f,y,N,U,te;const ge=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Ve=>(Ve>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ve}`),u=this.params.maximumSequenceNumbersToCollect):u=Ve,y=Date.now(),this.nthSequenceNumber(n,u))).next(Ve=>(a=Ve,N=Date.now(),this.removeTargets(n,a,i))).next(Ve=>(f=Ve,U=Date.now(),this.removeOrphanedDocuments(n,a))).next(Ve=>(te=Date.now(),Ft()<=it.$b.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-ge}ms\n\tDetermined least recently used ${u} in `+(N-y)+`ms\n\tRemoved ${f} targets in `+(U-N)+`ms\n\tRemoved ${Ve} documents in `+(te-U)+`ms\nTotal Duration: ${te-ge}ms`),gt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ve})))}}class Fc{constructor(n,i){this.db=n,this.garbageCollector=function Rl(c,n){return new vl(c,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(a=>i.next(u=>a+u))}er(n){let i=0;return this.Zn(n,a=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(a,u)=>i(u))}addReference(n,i,a){return Lc(n,a)}removeReference(n,i,a){return Lc(n,a)}removeTargets(n,i,a){return this.db.getTargetCache().removeTargets(n,i,a)}markPotentiallyOrphaned(n,i){return Lc(n,i)}nr(n,i){return function(u,f){let y=!1;return Wh(u).Y(N=>du(u,N,f).next(U=>(U&&(y=!0),gt.resolve(!U)))).next(()=>y)}(n,i)}removeOrphanedDocuments(n,i){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(n,(y,N)=>{if(N<=i){const U=this.nr(n,y).next(te=>{if(!te)return f++,a.getEntry(n,y).next(()=>(a.removeEntry(y,Dn.min()),Lo(n).delete([0,He(y.path)])))});u.push(U)}}).next(()=>gt.waitFor(u)).next(()=>a.apply(n)).next(()=>f)}removeTarget(n,i){const a=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,i){return Lc(n,i)}tr(n,i){const a=Lo(n);let u,f=be.oe;return a.J({index:"documentTargetsIndex"},([y,N],{path:U,sequenceNumber:te})=>{0===y?(f!==be.oe&&i(new _n(Rn(u)),f),f=te,u=U):f=be.oe}).next(()=>{f!==be.oe&&i(new _n(Rn(u)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Lc(c,n){return Lo(c).put((u=c.currentSequenceNumber,{targetId:0,path:He(n.path),sequenceNumber:u}));var u}class Kh{constructor(){this.changes=new Oo(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,xr.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const a=this.changes.get(i);return void 0!==a?gt.resolve(a):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class fd{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,a){return Xl(n).put(a)}removeEntry(n,i,a){return Xl(n).delete(function(f,y){const N=f.path.toArray();return[N.slice(0,N.length-2),N[N.length-2],Ta(y),N[N.length-1]]}(i,a))}updateMetadata(n,i){return this.getMetadata(n).next(a=>(a.byteSize+=i,this.rr(n,a)))}getEntry(n,i){let a=xr.newInvalidDocument(i);return Xl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(i))},(u,f)=>{a=this.ir(i,f)}).next(()=>a)}sr(n,i){let a={size:0,document:xr.newInvalidDocument(i)};return Xl(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Vc(i))},(u,f)=>{a={document:this.ir(i,f),size:gl(f)}}).next(()=>a)}getEntries(n,i){let a=as();return this._r(n,i,(u,f)=>{const y=this.ir(u,f);a=a.insert(u,y)}).next(()=>a)}ar(n,i){let a=as(),u=new pi(_n.comparator);return this._r(n,i,(f,y)=>{const N=this.ir(f,y);a=a.insert(f,N),u=u.insert(f,gl(y))}).next(()=>({documents:a,ur:u}))}_r(n,i,a){if(i.isEmpty())return gt.resolve();let u=new yr(qd);i.forEach(U=>u=u.add(U));const f=IDBKeyRange.bound(Vc(u.first()),Vc(u.last())),y=u.getIterator();let N=y.getNext();return Xl(n).J({index:"documentKeyIndex",range:f},(U,te,ge)=>{const Ve=_n.fromSegments([...te.prefixPath,te.collectionGroup,te.documentId]);for(;N&&qd(N,Ve)<0;)a(N,null),N=y.getNext();N&&N.isEqual(Ve)&&(a(N,te),N=y.hasNext()?y.getNext():null),N?ge.$(Vc(N)):ge.done()}).next(()=>{for(;N;)a(N,null),N=y.hasNext()?y.getNext():null})}getDocumentsMatchingQuery(n,i,a,u,f){const y=i.path,N=[y.popLast().toArray(),y.lastSegment(),Ta(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],U=[y.popLast().toArray(),y.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xl(n).U(IDBKeyRange.bound(N,U,!0)).next(te=>{null==f||f.incrementDocumentReadCount(te.length);let ge=as();for(const Ve of te){const vt=this.ir(_n.fromSegments(Ve.prefixPath.concat(Ve.collectionGroup,Ve.documentId)),Ve);vt.isFoundDocument()&&(al(i,vt)||u.has(vt.key))&&(ge=ge.insert(vt.key,vt))}return ge})}getAllFromCollectionGroup(n,i,a,u){let f=as();const y=hu(i,a),N=hu(i,Oe.max());return Xl(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,N,!0)},(U,te,ge)=>{const Ve=this.ir(_n.fromSegments(te.prefixPath.concat(te.collectionGroup,te.documentId)),te);f=f.insert(Ve.key,Ve),f.size===u&&ge.done()}).next(()=>f)}newChangeBuffer(n){return new pd(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return Kl(n).get("remoteDocumentGlobalKey").next(i=>(jt(!!i),i))}rr(n,i){return Kl(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const a=function oc(c,n){let i;if(n.document)i=Sc(c.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const a=_n.fromSegments(n.noDocument.path),u=Hl(n.noDocument.readTime);i=xr.newNoDocument(a,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return qt();{const a=_n.fromSegments(n.unknownDocument.path),u=Hl(n.unknownDocument.version);i=xr.newUnknownDocument(a,u)}}return n.readTime&&i.setReadTime(function(u){const f=new mr(u[0],u[1]);return Dn.fromTimestamp(f)}(n.readTime)),i}(this.serializer,i);if(!a.isNoDocument()||!a.version.isEqual(Dn.min()))return a}return xr.newInvalidDocument(n)}}function dc(c){return new fd(c)}class pd extends Kh{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Oo(a=>a.toString(),(a,u)=>a.isEqual(u))}applyChanges(n){const i=[];let a=0,u=new yr((f,y)=>Cn(f.canonicalString(),y.canonicalString()));return this.changes.forEach((f,y)=>{const N=this.lr.get(f);if(i.push(this.cr.removeEntry(n,f,N.readTime)),y.isValidDocument()){const U=jl(this.cr.serializer,y);u=u.add(f.path.popLast());const te=gl(U);a+=te-N.size,i.push(this.cr.addEntry(n,f,U))}else if(a-=N.size,this.trackRemovals){const U=jl(this.cr.serializer,y.convertToNoDocument(Dn.min()));i.push(this.cr.addEntry(n,f,U))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,f))}),i.push(this.cr.updateMetadata(n,a)),gt.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(a=>(this.lr.set(i,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:a,ur:u})=>(u.forEach((f,y)=>{this.lr.set(f,{size:y,readTime:a.get(f).readTime})}),a))}}function Kl(c){return Si(c,"remoteDocumentGlobal")}function Xl(c){return Si(c,"remoteDocumentsV14")}function Vc(c){const n=c.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function hu(c,n){const i=n.documentKey.path.toArray();return[c,Ta(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function qd(c,n){const i=c.path.toArray(),a=n.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<a.length-2;++f)if(u=Cn(i[f],a[f]),u)return u;return u=Cn(i.length,a.length),u||(u=Cn(i[i.length-2],a[a.length-2]),u||Cn(i[i.length-1],a[a.length-1]))}class Xh{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class gd{constructor(n,i,a,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(n,i){let a=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==a&&ri(a.mutation,u,ti.empty(),mr.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.getLocalViewOfDocuments(n,a,Fr()).next(()=>a))}getLocalViewOfDocuments(n,i,a=Fr()){const u=Ts();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,a).next(f=>{let y=ia();return f.forEach((N,U)=>{y=y.insert(N,U.overlayedDocument)}),y}))}getOverlayedDocuments(n,i){const a=Ts();return this.populateOverlays(n,a,i).next(()=>this.computeViews(n,i,a,Fr()))}populateOverlays(n,i,a){const u=[];return a.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(n,u).next(f=>{f.forEach((y,N)=>{i.set(y,N)})})}computeViews(n,i,a,u){let f=as();const y=Ls(),N=Ls();return i.forEach((U,te)=>{const ge=a.get(te.key);u.has(te.key)&&(void 0===ge||ge.mutation instanceof si)?f=f.insert(te.key,te):void 0!==ge?(y.set(te.key,ge.mutation.getFieldMask()),ri(ge.mutation,te,ge.mutation.getFieldMask(),mr.now())):y.set(te.key,ti.empty())}),this.recalculateAndSaveOverlays(n,f).next(U=>(U.forEach((te,ge)=>y.set(te,ge)),i.forEach((te,ge)=>{var Ve;return N.set(te,new Xh(ge,null!==(Ve=y.get(te))&&void 0!==Ve?Ve:null))}),N))}recalculateAndSaveOverlays(n,i){const a=Ls();let u=new pi((y,N)=>y-N),f=Fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(y=>{for(const N of y)N.keys().forEach(U=>{const te=i.get(U);if(null===te)return;let ge=a.get(U)||ti.empty();ge=N.applyToLocalView(te,ge),a.set(U,ge);const Ve=(u.get(N.batchId)||Fr()).add(U);u=u.insert(N.batchId,Ve)})}).next(()=>{const y=[],N=u.getReverseIterator();for(;N.hasNext();){const U=N.getNext(),te=U.key,ge=U.value,Ve=cl();ge.forEach(vt=>{if(!f.has(vt)){const Yt=En(i.get(vt),a.get(vt));null!==Yt&&Ve.set(vt,Yt),f=f.add(vt)}}),y.push(this.documentOverlayCache.saveOverlays(n,te,Ve))}return gt.waitFor(y)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(a=>this.recalculateAndSaveOverlays(n,a))}getDocumentsMatchingQuery(n,i,a,u){return _n.isDocumentKey((y=i).path)&&null===y.collectionGroup&&0===y.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):go(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,a,u):this.getDocumentsMatchingCollectionQuery(n,i,a,u);var y}getNextDocuments(n,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,a,u).next(f=>{const y=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,a.largestBatchId,u-f.size):gt.resolve(Ts());let N=-1,U=f;return y.next(te=>gt.forEach(te,(ge,Ve)=>(N<Ve.largestBatchId&&(N=Ve.largestBatchId),f.get(ge)?gt.resolve():this.remoteDocumentCache.getEntry(n,ge).next(vt=>{U=U.insert(ge,vt)}))).next(()=>this.populateOverlays(n,te,f)).next(()=>this.computeViews(n,U,te,Fr())).next(ge=>({batchId:N,changes:Fs(ge)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new _n(i)).next(a=>{let u=ia();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,a,u){const f=i.collectionGroup;let y=ia();return this.indexManager.getCollectionParents(n,f).next(N=>gt.forEach(N,U=>{const te=(Ve=i,vt=U.child(f),new bo(vt,null,Ve.explicitOrderBy.slice(),Ve.filters.slice(),Ve.limit,Ve.limitType,Ve.startAt,Ve.endAt));var Ve,vt;return this.getDocumentsMatchingCollectionQuery(n,te,a,u).next(ge=>{ge.forEach((Ve,vt)=>{y=y.insert(Ve,vt)})})}).next(()=>y))}getDocumentsMatchingCollectionQuery(n,i,a,u){let f;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,a.largestBatchId).next(y=>(f=y,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,a,f,u))).next(y=>{f.forEach((U,te)=>{const ge=te.getKey();null===y.get(ge)&&(y=y.insert(ge,xr.newInvalidDocument(ge)))});let N=ia();return y.forEach((U,te)=>{const ge=f.get(U);void 0!==ge&&ri(ge.mutation,te,ti.empty(),mr.now()),al(i,te)&&(N=N.insert(U,te))}),N})}}class Qd{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return gt.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:Yi(u.createTime)}),gt.resolve();var u}getNamedQuery(n,i){return gt.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:Ci(u.bundledQuery),readTime:Yi(u.readTime)}),gt.resolve();var u}}class Yd{constructor(){this.overlays=new pi(_n.comparator),this.Ir=new Map}getOverlay(n,i){return gt.resolve(this.overlays.get(i))}getOverlays(n,i){const a=Ts();return gt.forEach(i,u=>this.getOverlay(n,u).next(f=>{null!==f&&a.set(u,f)})).next(()=>a)}saveOverlays(n,i,a){return a.forEach((u,f)=>{this.ht(n,i,f)}),gt.resolve()}removeOverlaysForBatchId(n,i,a){const u=this.Ir.get(a);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(a)),gt.resolve()}getOverlaysForCollection(n,i,a){const u=Ts(),f=i.length+1,y=new _n(i.child("")),N=this.overlays.getIteratorFrom(y);for(;N.hasNext();){const U=N.getNext().value,te=U.getKey();if(!i.isPrefixOf(te.path))break;te.path.length===f&&U.largestBatchId>a&&u.set(U.getKey(),U)}return gt.resolve(u)}getOverlaysForCollectionGroup(n,i,a,u){let f=new pi((te,ge)=>te-ge);const y=this.overlays.getIterator();for(;y.hasNext();){const te=y.getNext().value;if(te.getKey().getCollectionGroup()===i&&te.largestBatchId>a){let ge=f.get(te.largestBatchId);null===ge&&(ge=Ts(),f=f.insert(te.largestBatchId,ge)),ge.set(te.getKey(),te)}}const N=Ts(),U=f.getIterator();for(;U.hasNext()&&(U.getNext().value.forEach((te,ge)=>N.set(te,ge)),!(N.size()>=u)););return gt.resolve(N)}ht(n,i,a){const u=this.overlays.get(a.key);if(null!==u){const y=this.Ir.get(u.largestBatchId).delete(a.key);this.Ir.set(u.largestBatchId,y)}this.overlays=this.overlays.insert(a.key,new Hi(i,a));let f=this.Ir.get(i);void 0===f&&(f=Fr(),this.Ir.set(i,f)),this.Ir.set(i,f.add(a.key))}}class qf{constructor(){this.sessionToken=bi.EMPTY_BYTE_STRING}getSessionToken(n){return gt.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,gt.resolve()}}class ds{constructor(){this.Tr=new yr(Do.Er),this.dr=new yr(Do.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const a=new Do(n,i);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(n,i){n.forEach(a=>this.addReference(a,i))}removeReference(n,i){this.Vr(new Do(n,i))}mr(n,i){n.forEach(a=>this.removeReference(a,i))}gr(n){const i=new _n(new er([])),a=new Do(i,n),u=new Do(i,n+1),f=[];return this.dr.forEachInRange([a,u],y=>{this.Vr(y),f.push(y.key)}),f}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new _n(new er([])),a=new Do(i,n),u=new Do(i,n+1);let f=Fr();return this.dr.forEachInRange([a,u],y=>{f=f.add(y.key)}),f}containsKey(n){const i=new Do(n,0),a=this.Tr.firstAfterOrEqual(i);return null!==a&&n.isEqual(a.key)}}class Do{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return _n.comparator(n.key,i.key)||Cn(n.wr,i.wr)}static Ar(n,i){return Cn(n.wr,i.wr)||_n.comparator(n.key,i.key)}}class eo{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new yr(Do.Er)}checkEmpty(n){return gt.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,a,u){const f=this.Sr;this.Sr++;const y=new Wi(f,i,a,u);this.mutationQueue.push(y);for(const N of u)this.br=this.br.add(new Do(N.key,f)),this.indexManager.addToCollectionParentIndex(n,N.key.path.popLast());return gt.resolve(y)}lookupMutationBatch(n,i){return gt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),f=u<0?0:u;return gt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return gt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return gt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const a=new Do(i,0),u=new Do(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([a,u],y=>{const N=this.Dr(y.wr);f.push(N)}),gt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,i){let a=new yr(Cn);return i.forEach(u=>{const f=new Do(u,0),y=new Do(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,y],N=>{a=a.add(N.wr)})}),gt.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(n,i){const a=i.path,u=a.length+1;let f=a;_n.isDocumentKey(f)||(f=f.child(""));const y=new Do(new _n(f),0);let N=new yr(Cn);return this.br.forEachWhile(U=>{const te=U.key.path;return!!a.isPrefixOf(te)&&(te.length===u&&(N=N.add(U.wr)),!0)},y),gt.resolve(this.Cr(N))}Cr(n){const i=[];return n.forEach(a=>{const u=this.Dr(a);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){jt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let a=this.br;return gt.forEach(i.mutations,u=>{const f=new Do(u.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=a})}On(n){}containsKey(n,i){const a=new Do(i,0),u=this.br.firstAfterOrEqual(a);return gt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return gt.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Jd{constructor(n){this.Mr=n,this.docs=new pi(_n.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const a=i.key,u=this.docs.get(a),f=u?u.size:0,y=this.Mr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:y}),this.size+=y-f,this.indexManager.addToCollectionParentIndex(n,a.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const a=this.docs.get(i);return gt.resolve(a?a.document.mutableCopy():xr.newInvalidDocument(i))}getEntries(n,i){let a=as();return i.forEach(u=>{const f=this.docs.get(u);a=a.insert(u,f?f.document.mutableCopy():xr.newInvalidDocument(u))}),gt.resolve(a)}getDocumentsMatchingQuery(n,i,a,u){let f=as();const y=i.path,N=new _n(y.child("")),U=this.docs.getIteratorFrom(N);for(;U.hasNext();){const{key:te,value:{document:ge}}=U.getNext();if(!y.isPrefixOf(te.path))break;te.path.length>y.length+1||$e(re(ge),a)<=0||(u.has(ge.key)||al(i,ge))&&(f=f.insert(ge.key,ge.mutableCopy()))}return gt.resolve(f)}getAllFromCollectionGroup(n,i,a,u){qt()}Or(n,i){return gt.forEach(this.docs,a=>i(a))}newChangeBuffer(n){return new Zd(this)}getSize(n){return gt.resolve(this.size)}}class Zd extends Kh{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(a)}),gt.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Uc{constructor(n){this.persistence=n,this.Nr=new Oo(i=>ye(i),fn),this.lastRemoteSnapshotVersion=Dn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ds,this.targetCount=0,this.kr=uc.Bn()}forEachTarget(n,i){return this.Nr.forEach((a,u)=>i(u)),gt.resolve()}getLastRemoteSnapshotVersion(n){return gt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return gt.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),gt.resolve(this.highestTargetId)}setTargetsMetadata(n,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.Lr&&(this.Lr=i),gt.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new uc(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,gt.resolve()}updateTargetData(n,i){return this.Kn(i),gt.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,gt.resolve()}removeTargets(n,i,a){let u=0;const f=[];return this.Nr.forEach((y,N)=>{N.sequenceNumber<=i&&null===a.get(N.targetId)&&(this.Nr.delete(y),f.push(this.removeMatchingKeysForTargetId(n,N.targetId)),u++)}),gt.waitFor(f).next(()=>u)}getTargetCount(n){return gt.resolve(this.targetCount)}getTargetData(n,i){const a=this.Nr.get(i)||null;return gt.resolve(a)}addMatchingKeys(n,i,a){return this.Br.Rr(i,a),gt.resolve()}removeMatchingKeys(n,i,a){this.Br.mr(i,a);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(y=>{f.push(u.markPotentiallyOrphaned(n,y))}),gt.waitFor(f)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),gt.resolve()}getMatchingKeysForTargetId(n,i){const a=this.Br.yr(i);return gt.resolve(a)}containsKey(n,i){return gt.resolve(this.Br.containsKey(i))}}class md{constructor(n,i){this.qr={},this.overlays={},this.Qr=new be(0),this.Kr=!1,this.Kr=!0,this.$r=new qf,this.referenceDelegate=n(this),this.Ur=new Uc(this),this.indexManager=new pl,this.remoteDocumentCache=new Jd(a=>this.referenceDelegate.Wr(a)),this.serializer=new wl(i),this.Gr=new Qd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Yd,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let a=this.qr[n.toKey()];return a||(a=new eo(i,this.referenceDelegate),this.qr[n.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,a){It("MemoryPersistence","Starting transaction:",n);const u=new eh(this.Qr.next());return this.referenceDelegate.zr(),a(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(n,i){return gt.or(Object.values(this.qr).map(a=>()=>a.containsKey(n,i)))}}class eh extends An{constructor(n){super(),this.currentSequenceNumber=n}}class Pl{constructor(n){this.persistence=n,this.Jr=new ds,this.Yr=null}static Zr(n){return new Pl(n)}get Xr(){if(this.Yr)return this.Yr;throw qt()}addReference(n,i,a){return this.Jr.addReference(a,i),this.Xr.delete(a.toString()),gt.resolve()}removeReference(n,i,a){return this.Jr.removeReference(a,i),this.Xr.add(a.toString()),gt.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),gt.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>a.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return gt.forEach(this.Xr,a=>{const u=_n.fromPath(a);return this.ei(n,u).next(f=>{f||i.removeEntry(u,Dn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(a=>{a?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return gt.or([()=>gt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class tl{constructor(n){this.serializer=n}O(n,i,a,u){const f=new vr("createOrUpgrade",i);var U;a<1&&u>=1&&(n.createObjectStore("owner"),(U=n).createObjectStore("mutationQueues",{keyPath:"userId"}),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hn,{unique:!0}),U.createObjectStore("documentMutations"),qh(n),function(U){U.createObjectStore("remoteDocuments")}(n));let y=gt.resolve();return a<3&&u>=3&&(0!==a&&(function(U){U.deleteObjectStore("targetDocuments"),U.deleteObjectStore("targets"),U.deleteObjectStore("targetGlobal")}(n),qh(n)),y=y.next(()=>function(U){const te=U.store("targetGlobal"),ge={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dn.min().toTimestamp(),targetCount:0};return te.put("targetGlobalKey",ge)}(f))),a<4&&u>=4&&(0!==a&&(y=y.next(()=>function(U,te){return te.store("mutations").U().next(ge=>{U.deleteObjectStore("mutations"),U.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hn,{unique:!0});const Ve=te.store("mutations"),vt=ge.map(Yt=>Ve.put(Yt));return gt.waitFor(vt)})}(n,f))),y=y.next(()=>{!function(U){U.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),a<5&&u>=5&&(y=y.next(()=>this.ni(f))),a<6&&u>=6&&(y=y.next(()=>(function(U){U.createObjectStore("remoteDocumentGlobal")}(n),this.ri(f)))),a<7&&u>=7&&(y=y.next(()=>this.ii(f))),a<8&&u>=8&&(y=y.next(()=>this.si(n,f))),a<9&&u>=9&&(y=y.next(()=>{!function(U){U.objectStoreNames.contains("remoteDocumentChanges")&&U.deleteObjectStore("remoteDocumentChanges")}(n)})),a<10&&u>=10&&(y=y.next(()=>this.oi(f))),a<11&&u>=11&&(y=y.next(()=>{(function(U){U.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(U){U.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),a<12&&u>=12&&(y=y.next(()=>{!function(U){const te=U.createObjectStore("documentOverlays",{keyPath:Bo});te.createIndex("collectionPathOverlayIndex",ts,{unique:!1}),te.createIndex("collectionGroupOverlayIndex",qo,{unique:!1})}(n)})),a<13&&u>=13&&(y=y.next(()=>function(U){const te=U.createObjectStore("remoteDocumentsV14",{keyPath:hr});te.createIndex("documentKeyIndex",Di),te.createIndex("collectionGroupIndex",Ui)}(n)).next(()=>this._i(n,f)).next(()=>n.deleteObjectStore("remoteDocuments"))),a<14&&u>=14&&(y=y.next(()=>this.ai(n,f))),a<15&&u>=15&&(y=y.next(()=>function(U){U.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),U.createObjectStore("indexState",{keyPath:co}).createIndex("sequenceNumberIndex",Io,{unique:!1}),U.createObjectStore("indexEntries",{keyPath:Xo}).createIndex("documentKeyIndex",qi,{unique:!1})}(n))),a<16&&u>=16&&(y=y.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),a<17&&u>=17&&(y=y.next(()=>{!function(U){U.createObjectStore("globals",{keyPath:"name"})}(n)})),y}ri(n){let i=0;return n.store("remoteDocuments").J((a,u)=>{i+=gl(u)}).next(()=>{const a={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}ni(n){const i=n.store("mutationQueues"),a=n.store("mutations");return i.U().next(u=>gt.forEach(u,f=>{const y=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.U("userMutationsIndex",y).next(N=>gt.forEach(N,U=>{jt(U.userId===f.userId);const te=us(this.serializer,U);return uu(n,f.userId,te).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),a=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return a.J((y,N)=>{const U=new er(y),te=[0,He(U)];f.push(i.get(te).next(ge=>ge?gt.resolve():i.put({targetId:0,path:He(U),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>gt.waitFor(f))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:Xi});const a=i.store("collectionParents"),u=new cd,f=y=>{if(u.add(y)){const N=y.lastSegment(),U=y.popLast();return a.put({collectionId:N,parent:He(U)})}};return i.store("remoteDocuments").J({H:!0},(y,N)=>{const U=new er(y);return f(U.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([y,N,U],te)=>{const ge=Rn(N);return f(ge.popLast())}))}oi(n){const i=n.store("targets");return i.J((a,u)=>{const f=sc(u),y=hl(this.serializer,f);return i.put(y)})}_i(n,i){const a=i.store("remoteDocuments"),u=[];return a.J((f,y)=>{const N=i.store("remoteDocumentsV14"),U=(Ve=y,Ve.document?new _n(er.fromString(Ve.document.name).popFirst(5)):Ve.noDocument?_n.fromSegments(Ve.noDocument.path):Ve.unknownDocument?_n.fromSegments(Ve.unknownDocument.path):qt()).path.toArray(),te={prefixPath:U.slice(0,U.length-2),collectionGroup:U[U.length-2],documentId:U[U.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};var Ve;u.push(N.put(te))}).next(()=>gt.waitFor(u))}ai(n,i){const a=i.store("mutations"),u=dc(this.serializer),f=new md(Pl.Zr,this.serializer.ct);return a.U().next(y=>{const N=new Map;return y.forEach(U=>{var te;let ge=null!==(te=N.get(U.userId))&&void 0!==te?te:Fr();us(this.serializer,U).keys().forEach(Ve=>ge=ge.add(Ve)),N.set(U.userId,ge)}),gt.forEach(N,(U,te)=>{const ge=new je(te),Ve=Ps.lt(this.serializer,ge),vt=f.getIndexManager(ge),Yt=Bs.lt(ge,this.serializer,vt,f.referenceDelegate);return new gd(u,Yt,Ve,vt).recalculateAndSaveOverlaysForDocumentKeys(new ho(i,be.oe),U).next()})})}}function qh(c){c.createObjectStore("targetDocuments",{keyPath:ei}).createIndex("documentTargetsIndex",Po,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yo,{unique:!0}),c.createObjectStore("targetGlobal")}const Ml="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hc{constructor(n,i,a,u,f,y,N,U,te,ge,Ve=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=a,this.ui=f,this.window=y,this.document=N,this.ci=te,this.li=ge,this.hi=Ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=vt=>Promise.resolve(),!hc.D())throw new Fe(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fc(this,u),this.Ai=i+"main",this.serializer=new wl(U),this.Ri=new Mn(this.Ai,this.hi,new tl(this.serializer)),this.$r=new ad,this.Ur=new Xd(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dc(this.serializer),this.Gr=new sd,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ge&&mn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ke.FAILED_PRECONDITION,Ml);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new be(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var a=(0,Te.A)(function*(u){if(i.started)return n(u)});return function(u){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,Te.A)(function*(a){null===a.newVersion&&(yield n())});return function(a){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,Te.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>fc(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(wi(n))return It("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return Ha(n).get("owner").next(i=>gt.resolve(this.vi(i)))}Ci(n){return fc(n).delete(this.clientId)}Fi(){var n=this;return(0,Te.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const u=Si(a,"clientMetadata");return u.U().next(f=>{const y=n.xi(f,18e5),N=f.filter(U=>-1===y.indexOf(U));return gt.forEach(N,U=>u.delete(U.clientId)).next(()=>N)})}).catch(()=>[]);if(n.Vi)for(const a of i)n.Vi.removeItem(n.Oi(a.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?gt.resolve(!0):Ha(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Fe(ke.FAILED_PRECONDITION,Ml);return!1}}return!(!this.networkEnabled||!this.inForeground)||fc(n).U().next(a=>void 0===this.xi(a,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&It("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,Te.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const a=new ho(i,be.oe);return n.bi(a).next(()=>n.Ci(a))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(a=>this.Mi(a.updateTimeMs,i)&&!this.Ni(a.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>fc(n).U().next(i=>this.xi(i,18e5).map(a=>a.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Bs.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new ud(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return Ps.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,a){It("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",f=17===(U=this.hi)?Is:16===U?Ks:15===U?$r:14===U?Fn:13===U?fs:12===U?Kr:11===U?uo:void qt();var U;let y;return this.Ri.runTransaction(n,u,f,N=>(y=new ho(N,this.Qr?this.Qr.next():be.oe),"readwrite-primary"===i?this.wi(y).next(U=>!!U||this.Si(y)).next(U=>{if(!U)throw mn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Fe(ke.FAILED_PRECONDITION,Qt);return a(y)}).next(U=>this.Di(y).next(()=>U)):this.Ki(y).next(()=>a(y)))).then(N=>(y.raiseOnCommittedEvent(),N))}Ki(n){return Ha(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Fe(ke.FAILED_PRECONDITION,Ml)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ha(n).put("owner",i)}static D(){return Mn.D()}bi(n){const i=Ha(n);return i.get("owner").next(a=>this.vi(a)?(It("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):gt.resolve())}Mi(n,i){const a=Date.now();return!(n<a-i||n>a&&(mn(`Detected an update time that is in the future: ${n} > ${a}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,dt.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const a=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return It("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return mn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){mn("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Ha(c){return Si(c,"owner")}function fc(c){return Si(c,"clientMetadata")}function fu(c,n){let i=c.projectId;return c.isDefaultDatabase||(i+="."+c.database),"firestore/"+n+"/"+i+"/"}class _d{constructor(n,i,a,u){this.targetId=n,this.fromCache=i,this.$i=a,this.Ui=u}static Wi(n,i){let a=Fr(),u=Fr();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new _d(n,i.fromCache,a,u)}}class Qf{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class pc{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,dt.nr)()?8:Hr((0,dt.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,a,u){const f={result:null};return this.Yi(n,i).next(y=>{f.result=y}).next(()=>{if(!f.result)return this.Zi(n,i,u,a).next(y=>{f.result=y})}).next(()=>{if(f.result)return;const y=new Qf;return this.Xi(n,i,y).next(N=>{if(f.result=N,this.zi)return this.es(n,i,y,N.size)})}).next(()=>f.result)}es(n,i,a,u){return a.documentReadCount<this.ji?(Ft()<=it.$b.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",ks(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),gt.resolve()):(Ft()<=it.$b.DEBUG&&It("QueryEngine","Query:",ks(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.Hi*u?(Ft()<=it.$b.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",ks(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,yi(i))):gt.resolve())}Yi(n,i){if(Fa(i))return gt.resolve(null);let a=yi(i);return this.indexManager.getIndexType(n,a).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=za(i,null,"F"),a=yi(i)),this.indexManager.getDocumentsMatchingTarget(n,a).next(f=>{const y=Fr(...f);return this.Ji.getDocuments(n,y).next(N=>this.indexManager.getMinOffset(n,a).next(U=>{const te=this.ts(i,N);return this.ns(i,te,y,U.readTime)?this.Yi(n,za(i,null,"F")):this.rs(n,te,i,U)}))})))}Zi(n,i,a,u){return Fa(i)||u.isEqual(Dn.min())?gt.resolve(null):this.Ji.getDocuments(n,a).next(f=>{const y=this.ts(i,f);return this.ns(i,y,a,u)?gt.resolve(null):(Ft()<=it.$b.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ks(i)),this.rs(n,y,i,Q(u,-1)).next(N=>N))})}ts(n,i){let a=new yr(Tc(n));return i.forEach((u,f)=>{al(n,f)&&(a=a.add(f))}),a}ns(n,i,a,u){if(null===n.limit)return!1;if(a.size!==i.size)return!0;const f="F"===n.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(n,i,a){return Ft()<=it.$b.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",ks(i)),this.Ji.getDocumentsMatchingQuery(n,i,Oe.min(),a)}rs(n,i,a,u){return this.Ji.getDocumentsMatchingQuery(n,a,u).next(f=>(i.forEach(y=>{f=f.insert(y.key,y)}),f))}}class pu{constructor(n,i,a,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new pi(Cn),this._s=new Oo(f=>ye(f),fn),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(a)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new gd(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function Qh(c,n,i,a){return new pu(c,n,i,a)}function gu(c,n){return vd.apply(this,arguments)}function vd(){return(vd=(0,Te.A)(function*(c,n){const i=rn(c);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(f=>(u=f,i.ls(n),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const y=[],N=[];let U=Fr();for(const te of u){y.push(te.batchId);for(const ge of te.mutations)U=U.add(ge.key)}for(const te of f){N.push(te.batchId);for(const ge of te.mutations)U=U.add(ge.key)}return i.localDocuments.getDocuments(a,U).next(te=>({hs:te,removedBatchIds:y,addedBatchIds:N}))})})})).apply(this,arguments)}function Yh(c){const n=rn(c);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function p(c,n,i){let a=Fr(),u=Fr();return i.forEach(f=>a=a.add(f)),n.getEntries(c,a).next(f=>{let y=as();return i.forEach((N,U)=>{const te=f.get(N);U.isFoundDocument()!==te.isFoundDocument()&&(u=u.add(N)),U.isNoDocument()&&U.version.isEqual(Dn.min())?(n.removeEntry(N,U.readTime),y=y.insert(N,U)):!te.isValidDocument()||U.version.compareTo(te.version)>0||0===U.version.compareTo(te.version)&&te.hasPendingWrites?(n.addEntry(U),y=y.insert(N,U)):It("LocalStore","Ignoring outdated watch update for ",N,". Current version:",te.version," Watch version:",U.version)}),{Ps:y,Is:u}})}function _(c,n){const i=rn(c);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,n)))}function P(c,n){const i=rn(c);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Ur.getTargetData(a,n).next(f=>f?(u=f,gt.resolve(u)):i.Ur.allocateTargetId(a).next(y=>(u=new Js(n,y,"TargetPurposeListen",a.currentSequenceNumber),i.Ur.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.os.get(a.targetId);return(null===u||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(a.targetId,a),i._s.set(n,a.targetId)),a})}function ne(c,n,i){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,Te.A)(function*(c,n,i){const a=rn(c),u=a.os.get(n),f=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",f,y=>a.persistence.referenceDelegate.removeTarget(y,u)))}catch(y){if(!wi(y))throw y;It("LocalStore",`Failed to update sequence numbers for target ${n}: ${y}`)}a.os=a.os.remove(n),a._s.delete(u.target)})).apply(this,arguments)}function St(c,n,i){const a=rn(c);let u=Dn.min(),f=Fr();return a.persistence.runTransaction("Execute query","readwrite",y=>function(U,te,ge){const Ve=rn(U),vt=Ve._s.get(ge);return void 0!==vt?gt.resolve(Ve.os.get(vt)):Ve.Ur.getTargetData(te,ge)}(a,y,yi(n)).next(N=>{if(N)return u=N.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(y,N.targetId).next(U=>{f=U})}).next(()=>a.ss.getDocumentsMatchingQuery(y,n,i?u:Dn.min(),i?f:Fr())).next(N=>(ar(a,La(n),N),{documents:N,Ts:f})))}function en(c,n){const i=rn(c),a=rn(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>a.ot(f,n).next(y=>y?y.target:null))}function bn(c,n){const i=rn(c),a=i.us.get(n)||Dn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,Q(a,-1),Number.MAX_SAFE_INTEGER)).then(u=>(ar(i,n,u),u))}function ar(c,n,i){let a=c.us.get(n)||Dn.min();i.forEach((u,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),c.us.set(n,a)}function fi(){return(fi=(0,Te.A)(function*(c,n,i,a){const u=rn(c);let f=Fr(),y=as();for(const te of i){const ge=n.Es(te.metadata.name);te.document&&(f=f.add(ge));const Ve=n.ds(te);Ve.setReadTime(n.As(te.metadata.readTime)),y=y.insert(ge,Ve)}const N=u.cs.newChangeBuffer({trackRemovals:!0}),U=yield P(u,(ge=a,yi(gs(er.fromString(`__bundle__/docs/${ge}`)))));var ge;return u.persistence.runTransaction("Apply bundle documents","readwrite",te=>p(te,N,y).next(ge=>(N.apply(te),ge)).next(ge=>u.Ur.removeMatchingKeysForTargetId(te,U.targetId).next(()=>u.Ur.addMatchingKeys(te,f,U.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(te,ge.Ps,ge.Is)).next(()=>ge.Ps)))})).apply(this,arguments)}function Sa(c,n){return nl.apply(this,arguments)}function nl(){return(nl=(0,Te.A)(function*(c,n,i=Fr()){const a=yield P(c,yi(Ci(n.bundledQuery))),u=rn(c);return u.persistence.runTransaction("Save named query","readwrite",f=>{const y=Yi(n.readTime);if(a.snapshotVersion.compareTo(y)>=0)return u.Gr.saveNamedQuery(f,n);const N=a.withResumeToken(bi.EMPTY_BYTE_STRING,y);return u.os=u.os.insert(N.targetId,N),u.Ur.updateTargetData(f,N).next(()=>u.Ur.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,a.targetId)).next(()=>u.Gr.saveNamedQuery(f,n))})})).apply(this,arguments)}function $c(c,n){return`firestore_clients_${c}_${n}`}function th(c,n,i){let a=`firestore_mutations_${c}_${i}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function ha(c,n){return`firestore_targets_${c}_${n}`}class mu{constructor(n,i,a,u){this.user=n,this.batchId=i,this.state=a,this.error=u}static Rs(n,i,a){const u=JSON.parse(a);let f,y="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return y&&u.error&&(y="string"==typeof u.error.message&&"string"==typeof u.error.code,y&&(f=new Fe(u.error.code,u.error.message))),y?new mu(n,i,u.state,f):(mn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${a}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class xl{constructor(n,i,a){this.targetId=n,this.state=i,this.error=a}static Rs(n,i){const a=JSON.parse(i);let u,f="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(u=new Fe(a.error.code,a.error.message))),f?new xl(n,a.state,u):(mn("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class ql{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const a=JSON.parse(i);let u="object"==typeof a&&a.activeTargetIds instanceof Array,f=oa();for(let y=0;u&&y<a.activeTargetIds.length;++y)u=le(a.activeTargetIds[y]),f=f.add(a.activeTargetIds[y]);return u?new ql(n,f):(mn("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class _u{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new _u(i.clientId,i.onlineState):(mn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class gc{constructor(){this.activeTargetIds=oa()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class mc{constructor(n,i,a,u,f){this.window=n,this.ui=i,this.persistenceKey=a,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new pi(Cn),this.started=!1,this.bs=[];const y=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=$c(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new gc),this.Cs=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(U){return`firestore_bundle_loaded_v2_${U}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,Te.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const f=n.getItem($c(n.persistenceKey,u));if(f){const y=ql.Rs(u,f);y&&(n.Ss=n.Ss.insert(y.clientId,y))}}n.Ns();const a=n.storage.getItem(n.xs);if(a){const u=n.Ls(a);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((a,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,a){this.qs(n,i,a),this.Qs(n)}addLocalQueryTarget(n,i=!0){let a="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(ha(this.persistenceKey,n));if(u){const f=xl.Rs(n,u);f&&(a=f.state)}}return i&&this.Ks.fs(n),this.Ns(),a}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(ha(this.persistenceKey,n))}updateQueryState(n,i,a){this.$s(n,i,a)}handleUserChange(n,i,a){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,a.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return It("SharedClientState","READ",n,i),i}setItem(n,i){It("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){It("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const a=n;if(a.storageArea===this.storage){if(It("SharedClientState","EVENT",a.key,a.newValue),a.key===this.Ds)return void mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Te.A)(function*(){if(i.started){if(null!==a.key)if(i.Cs.test(a.key)){if(null==a.newValue){const u=i.Gs(a.key);return i.zs(u,null)}{const u=i.js(a.key,a.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(a.key)){if(null!==a.newValue){const u=i.Hs(a.key,a.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(a.key)){if(null!==a.newValue){const u=i.Ys(a.key,a.newValue);if(u)return i.Zs(u)}}else if(a.key===i.xs){if(null!==a.newValue){const u=i.Ls(a.newValue);if(u)return i.Bs(u)}}else if(a.key===i.vs){const u=function(y){let N=be.oe;if(null!=y)try{const U=JSON.parse(y);jt("number"==typeof U),N=U}catch(U){mn("SharedClientState","Failed to read sequence number from WebStorage",U)}return N}(a.newValue);u!==be.oe&&i.sequenceNumberHandler(u)}else if(a.key===i.Os){const u=i.Xs(a.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(a)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,a){const u=new mu(this.currentUser,n,i,a),f=th(this.persistenceKey,this.currentUser,n);this.setItem(f,u.Vs())}Qs(n){const i=th(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,a){const u=ha(this.persistenceKey,n),f=new xl(n,i,a);this.setItem(u,f.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const a=this.Gs(n);return ql.Rs(a,i)}Hs(n,i){const a=this.Fs.exec(n),u=Number(a[1]);return mu.Rs(new je(void 0!==a[2]?a[2]:null),u,i)}Ys(n,i){const a=this.Ms.exec(n),u=Number(a[1]);return xl.Rs(u,i)}Ls(n){return _u.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,Te.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);It("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const a=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),f=this.ks(a),y=[],N=[];return f.forEach(U=>{u.has(U)||y.push(U)}),u.forEach(U=>{f.has(U)||N.push(U)}),this.syncEngine.io(y,N).then(()=>{this.Ss=a})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=oa();return n.forEach((a,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class nh{constructor(){this.so=new gc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,a){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,a){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new gc,Promise.resolve()}handleUserChange(n,i,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class Jh{_o(n){}shutdown(){}}class vu{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let yu=null;function Zh(){return null===yu?yu=268435456+Math.round(2147483648*Math.random()):yu++,"0x"+yu.toString(16)}const B_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ef{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const Zo="WebChannelConnection";class j_ extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,a,u,f,y){const N=Zh(),U=this.xo(i,a.toUriEncodedString());It("RestConnection",`Sending RPC '${i}' ${N}:`,U,u);const te={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(te,f,y),this.No(i,U,te,u).then(ge=>(It("RestConnection",`Received RPC '${i}' ${N}: `,ge),ge),ge=>{throw kn("RestConnection",`RPC '${i}' ${N} failed with error: `,ge,"url: ",U,"request:",u),ge})}Lo(i,a,u,f,y,N){return this.Mo(i,a,u,f,y)}Oo(i,a,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+st,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((f,y)=>i[y]=f),u&&u.headers.forEach((f,y)=>i[y]=f)}xo(i,a){return`${this.Do}/v1/${a}:${B_[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,a,u){const f=Zh();return new Promise((y,N)=>{const U=new Ot;U.setWithCredentials(!0),U.listenOnce(we.COMPLETE,()=>{try{switch(U.getLastErrorCode()){case me.NO_ERROR:const ge=U.getResponseJson();It(Zo,`XHR for RPC '${n}' ${f} received:`,JSON.stringify(ge)),y(ge);break;case me.TIMEOUT:It(Zo,`RPC '${n}' ${f} timed out`),N(new Fe(ke.DEADLINE_EXCEEDED,"Request time out"));break;case me.HTTP_ERROR:const Ve=U.getStatus();if(It(Zo,`RPC '${n}' ${f} failed with status:`,Ve,"response text:",U.getResponseText()),Ve>0){let vt=U.getResponseJson();Array.isArray(vt)&&(vt=vt[0]);const Yt=null==vt?void 0:vt.error;if(Yt&&Yt.status&&Yt.message){const vn=function(xn){const ur=xn.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(ur)>=0?ur:ke.UNKNOWN}(Yt.status);N(new Fe(vn,Yt.message))}else N(new Fe(ke.UNKNOWN,"Server responded with status "+U.getStatus()))}else N(new Fe(ke.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{It(Zo,`RPC '${n}' ${f} completed.`)}});const te=JSON.stringify(u);It(Zo,`RPC '${n}' ${f} sending request:`,u),U.send(i,"POST",te,a,15)})}Bo(n,i,a){const u=Zh(),f=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],y=ze(),N=Ne(),U={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},te=this.longPollingOptions.timeoutSeconds;void 0!==te&&(U.longPollingTimeout=Math.round(1e3*te)),this.useFetchStreams&&(U.useFetchStreams=!0),this.Oo(U.initMessageHeaders,i,a),U.encodeInitMessageHeaders=!0;const ge=f.join("");It(Zo,`Creating RPC '${n}' stream ${u}: ${ge}`,U);const Ve=y.createWebChannel(ge,U);let vt=!1,Yt=!1;const vn=new ef({Io:xn=>{Yt?It(Zo,`Not sending because RPC '${n}' stream ${u} is closed:`,xn):(vt||(It(Zo,`Opening RPC '${n}' stream ${u} transport.`),Ve.open(),vt=!0),It(Zo,`RPC '${n}' stream ${u} sending:`,xn),Ve.send(xn))},To:()=>Ve.close()}),$n=(xn,ur,wr)=>{xn.listen(ur,pr=>{try{wr(pr)}catch(kr){setTimeout(()=>{throw kr},0)}})};return $n(Ve,Ge.EventType.OPEN,()=>{Yt||(It(Zo,`RPC '${n}' stream ${u} transport opened.`),vn.yo())}),$n(Ve,Ge.EventType.CLOSE,()=>{Yt||(Yt=!0,It(Zo,`RPC '${n}' stream ${u} transport closed`),vn.So())}),$n(Ve,Ge.EventType.ERROR,xn=>{Yt||(Yt=!0,kn(Zo,`RPC '${n}' stream ${u} transport errored:`,xn),vn.So(new Fe(ke.UNAVAILABLE,"The operation could not be completed")))}),$n(Ve,Ge.EventType.MESSAGE,xn=>{var ur;if(!Yt){const wr=xn.data[0];jt(!!wr);const kr=wr.error||(null===(ur=wr[0])||void 0===ur?void 0:ur.error);if(kr){It(Zo,`RPC '${n}' stream ${u} received error:`,kr);const Li=kr.status;let qr=function(Pt){const $t=Lr[Pt];if(void 0!==$t)return Nr($t)}(Li),Vt=kr.message;void 0===qr&&(qr=ke.INTERNAL,Vt="Unknown error status: "+Li+" with message "+kr.message),Yt=!0,vn.So(new Fe(qr,Vt)),Ve.close()}else It(Zo,`RPC '${n}' stream ${u} received:`,wr),vn.bo(wr)}}),$n(N,oe.STAT_EVENT,xn=>{xn.stat===De.PROXY?It(Zo,`RPC '${n}' stream ${u} detected buffering proxy`):xn.stat===De.NOPROXY&&It(Zo,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{vn.wo()},0),vn}}function Jf(){return typeof window<"u"?window:null}function rh(){return typeof document<"u"?document:null}function Ql(c){return new Bl(c,!0)}class Bc{constructor(n,i,a=1e3,u=1.5,f=6e4){this.ui=n,this.timerId=i,this.ko=a,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-a);u>0&&It("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class ys{constructor(n,i,a,u,f,y,N,U){this.ui=n,this.Ho=a,this.Jo=u,this.connection=f,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=N,this.listener=U,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bc(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,Te.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,Te.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var a=this;return(0,Te.A)(function*(){a.u_(),a.c_(),a.t_.cancel(),a.Yo++,4!==n?a.t_.reset():i&&i.code===ke.RESOURCE_EXHAUSTED?(mn(i.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),a.t_.Wo()):i&&i.code===ke.UNAUTHENTICATED&&3!==a.state&&(a.authCredentialsProvider.invalidateToken(),a.appCheckCredentialsProvider.invalidateToken()),null!==a.stream&&(a.l_(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.Yo===i&&this.P_(a,u)},a=>{n(()=>{const u=new Fe(ke.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(u)})})}P_(n,i){const a=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{a(()=>this.listener.Eo())}),this.stream.Ro(()=>{a(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{a(()=>this.I_(u))}),this.stream.onMessage(u=>{a(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,Te.A)(function*(){n.state=0,n.start()}))}I_(n){return It("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H_ extends ys{constructor(n,i,a,u,f,y){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,y),this.serializer=f}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function x(c,n){let i;if("targetChange"in n){const a="NO_CHANGE"===(te=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===te?1:"REMOVE"===te?2:"CURRENT"===te?3:"RESET"===te?4:qt(),u=n.targetChange.targetIds||[],f=function(te,ge){return te.useProto3Json?(jt(void 0===ge||"string"==typeof ge),bi.fromBase64String(ge||"")):(jt(void 0===ge||ge instanceof Buffer||ge instanceof Uint8Array),bi.fromUint8Array(ge||new Uint8Array))}(c,n.targetChange.resumeToken),y=n.targetChange.cause,N=y&&function(te){const ge=void 0===te.code?ke.UNKNOWN:Nr(te.code);return new Fe(ge,te.message||"")}(y);i=new Ys(a,u,f,N||null)}else if("documentChange"in n){const a=n.documentChange,u=$s(c,a.document.name),f=Yi(a.document.updateTime),y=a.document.createTime?Yi(a.document.createTime):Dn.min(),N=new To({mapValue:{fields:a.document.fields}}),U=xr.newFoundDocument(u,f,y,N);i=new ca(a.targetIds||[],a.removedTargetIds||[],U.key,U)}else if("documentDelete"in n){const a=n.documentDelete,u=$s(c,a.document),f=a.readTime?Yi(a.readTime):Dn.min(),y=xr.newNoDocument(u,f);i=new ca([],a.removedTargetIds||[],y.key,y)}else if("documentRemove"in n){const a=n.documentRemove,u=$s(c,a.document);i=new ca([],a.removedTargetIds||[],u,null)}else{if(!("filter"in n))return qt();{const a=n.filter,{count:u=0,unchangedNames:f}=a,y=new qs(u,f);i=new io(a.targetId,y)}}var te;return i}(this.serializer,n),a=function(f){if(!("targetChange"in f))return Dn.min();const y=f.targetChange;return y.targetIds&&y.targetIds.length?Dn.min():y.readTime?Yi(y.readTime):Dn.min()}(n);return this.listener.d_(i,a)}A_(n){const i={};i.database=Dc(this.serializer),i.addTarget=function(f,y){let N;const U=y.target;if(N=or(U)?{documents:pe(f,U)}:{query:Ce(f,U)._t},N.targetId=y.targetId,y.resumeToken.approximateByteSize()>0){N.resumeToken=Ca(f,y.resumeToken);const te=_o(f,y.expectedCount);null!==te&&(N.expectedCount=te)}else if(y.snapshotVersion.compareTo(Dn.min())>0){N.readTime=oo(f,y.snapshotVersion.toTimestamp());const te=_o(f,y.expectedCount);null!==te&&(N.expectedCount=te)}return N}(this.serializer,n);const a=function Bt(c,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);a&&(i.labels=a),this.a_(i)}R_(n){const i={};i.database=Dc(this.serializer),i.removeTarget=n,this.a_(i)}}class kg extends ys{constructor(n,i,a,u,f,y){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,y),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return jt(!!n.streamToken),this.lastStreamToken=n.streamToken,jt(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){jt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function j(c,n){return c&&c.length>0?(jt(void 0!==n),c.map(i=>function(u,f){let y=Yi(u.updateTime?u.updateTime:f);return y.isEqual(Dn.min())&&(y=Yi(f)),new X(y,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),a=Yi(n.commitTime);return this.listener.g_(a,i)}p_(){const n={};n.database=Dc(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(a=>$(this.serializer,a))};this.a_(i)}}class Zf extends class{}{constructor(n,i,a,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Fe(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,a,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,y])=>this.connection.Mo(n,Aa(i,a),u,f,y)).catch(f=>{throw"FirebaseError"===f.name?(f.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Fe(ke.UNKNOWN,f.toString())})}Lo(n,i,a,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,N])=>this.connection.Lo(n,Aa(i,a),u,y,N,f)).catch(y=>{throw"FirebaseError"===y.name?(y.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Fe(ke.UNKNOWN,y.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class G_{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mn(i),this.D_=!1):It("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Fg{constructor(n,i,a,u,f){var y=this;this.localStore=n,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(N=>{a.enqueueAndForget((0,Te.A)(function*(){var U;k(y)&&(It("RemoteStore","Restarting streams for network reachability change."),yield(U=(0,Te.A)(function*(ge){const Ve=rn(ge);Ve.L_.add(4),yield Iu(Ve),Ve.q_.set("Unknown"),Ve.L_.delete(4),yield jc(Ve)}),function te(ge){return U.apply(this,arguments)})(y))}))}),this.q_=new G_(a,u)}}function jc(c){return ep.apply(this,arguments)}function ep(){return(ep=(0,Te.A)(function*(c){if(k(c))for(const n of c.B_)yield n(!0)})).apply(this,arguments)}function Iu(c){return ih.apply(this,arguments)}function ih(){return(ih=(0,Te.A)(function*(c){for(const n of c.B_)yield n(!1)})).apply(this,arguments)}function _c(c,n){const i=rn(c);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),b(i)?D(i):Au(i).r_()&&m(i,n))}function Hc(c,n){const i=rn(c),a=Au(i);i.N_.delete(n),a.r_()&&C(i,n),0===i.N_.size&&(a.r_()?a.o_():k(i)&&i.q_.set("Unknown"))}function m(c,n){if(c.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Dn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}Au(c).A_(n)}function C(c,n){c.Q_.xe(n),Au(c).R_(n)}function D(c){c.Q_=new wc({getRemoteKeysForTarget:n=>c.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>c.N_.get(n)||null,tt:()=>c.datastore.serializer.databaseId}),Au(c).start(),c.q_.v_()}function b(c){return k(c)&&!Au(c).n_()&&c.N_.size>0}function k(c){return 0===rn(c).L_.size}function Y(c){c.Q_=void 0}function Ae(c){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,Te.A)(function*(c){c.q_.set("Online")})).apply(this,arguments)}function Jt(c){return on.apply(this,arguments)}function on(){return(on=(0,Te.A)(function*(c){c.N_.forEach((n,i)=>{m(c,n)})})).apply(this,arguments)}function lr(c,n){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,Te.A)(function*(c,n){Y(c),b(c)?(c.q_.M_(n),D(c)):c.q_.set("Unknown")})).apply(this,arguments)}function Ai(c,n,i){return ai.apply(this,arguments)}function ai(){return ai=(0,Te.A)(function*(c,n,i){if(c.q_.set("Online"),n instanceof Ys&&2===n.state&&n.cause)try{yield(a=(0,Te.A)(function*(f,y){const N=y.cause;for(const U of y.targetIds)f.N_.has(U)&&(yield f.remoteSyncer.rejectListen(U,N),f.N_.delete(U),f.Q_.removeTarget(U))}),function u(f,y){return a.apply(this,arguments)})(c,n)}catch(a){It("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield li(c,a)}else if(n instanceof ca?c.Q_.Ke(n):n instanceof io?c.Q_.He(n):c.Q_.We(n),!i.isEqual(Dn.min()))try{const a=yield Yh(c.localStore);i.compareTo(a)>=0&&(yield function(f,y){const N=f.Q_.rt(y);return N.targetChanges.forEach((U,te)=>{if(U.resumeToken.approximateByteSize()>0){const ge=f.N_.get(te);ge&&f.N_.set(te,ge.withResumeToken(U.resumeToken,y))}}),N.targetMismatches.forEach((U,te)=>{const ge=f.N_.get(U);if(!ge)return;f.N_.set(U,ge.withResumeToken(bi.EMPTY_BYTE_STRING,ge.snapshotVersion)),C(f,U);const Ve=new Js(ge.target,U,te,ge.sequenceNumber);m(f,Ve)}),f.remoteSyncer.applyRemoteEvent(N)}(c,i))}catch(a){It("RemoteStore","Failed to raise snapshot:",a),yield li(c,a)}var a}),ai.apply(this,arguments)}function li(c,n,i){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,Te.A)(function*(c,n,i){if(!wi(n))throw n;c.L_.add(1),yield Iu(c),c.q_.set("Offline"),i||(i=()=>Yh(c.localStore)),c.asyncQueue.enqueueRetryable((0,Te.A)(function*(){It("RemoteStore","Retrying IndexedDB access"),yield i(),c.L_.delete(1),yield jc(c)}))})).apply(this,arguments)}function Sr(c,n){return n().catch(i=>li(c,i,n))}function Vr(c){return So.apply(this,arguments)}function So(){return(So=(0,Te.A)(function*(c){const n=rn(c),i=Tu(n);let a=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;xi(n);)try{const u=yield _(n.localStore,a);if(null===u){0===n.O_.length&&i.o_();break}a=u.batchId,Ti(n,u)}catch(u){yield li(n,u)}Hs(n)&&es(n)})).apply(this,arguments)}function xi(c){return k(c)&&c.O_.length<10}function Ti(c,n){c.O_.push(n);const i=Tu(c);i.r_()&&i.V_&&i.m_(n.mutations)}function Hs(c){return k(c)&&!Tu(c).n_()&&c.O_.length>0}function es(c){Tu(c).start()}function Gc(c){return yl.apply(this,arguments)}function yl(){return(yl=(0,Te.A)(function*(c){Tu(c).p_()})).apply(this,arguments)}function fa(c){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,Te.A)(function*(c){const n=Tu(c);for(const i of c.O_)n.m_(i.mutations)})).apply(this,arguments)}function vc(c,n,i){return bu.apply(this,arguments)}function bu(){return(bu=(0,Te.A)(function*(c,n,i){const a=c.O_.shift(),u=wo.from(a,n,i);yield Sr(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield Vr(c)})).apply(this,arguments)}function z_(c,n){return zc.apply(this,arguments)}function zc(){return zc=(0,Te.A)(function*(c,n){var i;n&&Tu(c).V_&&(yield(i=(0,Te.A)(function*(u,f){if(ls(N=f.code)&&N!==ke.ABORTED){const y=u.O_.shift();Tu(u).s_(),yield Sr(u,()=>u.remoteSyncer.rejectFailedWrite(y.batchId,f)),yield Vr(u)}var N}),function a(u,f){return i.apply(this,arguments)})(c,n)),Hs(c)&&es(c)}),zc.apply(this,arguments)}function Cu(c,n){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,Te.A)(function*(c,n){const i=rn(c);i.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const a=k(i);i.L_.add(3),yield Iu(i),a&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield jc(i)})).apply(this,arguments)}function Vo(c,n){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,Te.A)(function*(c,n){const i=rn(c);n?(i.L_.delete(2),yield jc(i)):n||(i.L_.add(2),yield Iu(i),i.q_.set("Unknown"))})).apply(this,arguments)}function Au(c){return c.K_||(c.K_=function(i,a,u){const f=rn(i);return f.w_(),new H_(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Eo:Ae.bind(null,c),Ro:Jt.bind(null,c),mo:lr.bind(null,c),d_:Ai.bind(null,c)}),c.B_.push(function(){var n=(0,Te.A)(function*(i){i?(c.K_.s_(),b(c)?D(c):c.q_.set("Unknown")):(yield c.K_.stop(),Y(c))});return function(i){return n.apply(this,arguments)}}())),c.K_}function Tu(c){return c.U_||(c.U_=function(i,a,u){const f=rn(i);return f.w_(),new kg(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(c.datastore,c.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Gc.bind(null,c),mo:z_.bind(null,c),f_:fa.bind(null,c),g_:vc.bind(null,c)}),c.B_.push(function(){var n=(0,Te.A)(function*(i){i?(c.U_.s_(),yield Vr(c)):(yield c.U_.stop(),c.O_.length>0&&(It("RemoteStore",`Stopping write stream with ${c.O_.length} pending writes`),c.O_=[]))});return function(i){return n.apply(this,arguments)}}())),c.U_}class Ug{constructor(n,i,a,u,f){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=f,this.deferred=new kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,a,u,f){const y=Date.now()+a,N=new Ug(n,i,y,u,f);return N.start(a),N}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ke.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wu(c,n){if(mn("AsyncQueue",`${n}: ${c}`),wi(c))return new Fe(ke.UNAVAILABLE,`${n}: ${c}`);throw c}class yd{constructor(n){this.comparator=n?(i,a)=>n(i,a)||_n.comparator(i.key,a.key):(i,a)=>_n.comparator(i.key,a.key),this.keyedMap=ia(),this.sortedSet=new pi(this.comparator)}static emptySet(n){return new yd(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,a)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof yd)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const a=new yd;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=i,a}}class $g{constructor(){this.W_=new pi(_n.comparator)}track(n){const i=n.doc.key,a=this.W_.get(i);a?0!==n.type&&3===a.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==a.type?this.W_=this.W_.insert(i,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.W_=this.W_.remove(i):1===n.type&&2===a.type?this.W_=this.W_.insert(i,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):qt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,a)=>{n.push(a)}),n}}class Du{constructor(n,i,a,u,f,y,N,U,te){this.query=n,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=f,this.fromCache=y,this.syncStateChanged=N,this.excludesMetadataChanges=U,this.hasCachedResults=te}static fromInitialDocuments(n,i,a,u,f){const y=[];return i.forEach(N=>{y.push({type:0,doc:N})}),new Du(n,i,yd.emptySet(i),y,a,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ra(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,a=n.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}class E0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class b0{constructor(){this.queries=Bg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,a){const u=rn(i),f=u.queries;u.queries=Bg(),f.forEach((y,N)=>{for(const U of N.j_)U.onError(a)})}(this,new Fe(ke.ABORTED,"Firestore shutting down"))}}function Bg(){return new Oo(c=>ms(c),ra)}function jg(c,n){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,Te.A)(function*(c,n){const i=rn(c);let a=3;const u=n.query;let f=i.queries.get(u);f?!f.H_()&&n.J_()&&(a=2):(f=new E0,a=n.J_()?0:1);try{switch(a){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(y){const N=wu(y,`Initialization of query '${ks(n.query)}' failed`);return void n.onError(N)}i.queries.set(u,f),f.j_.push(n),n.Z_(i.onlineState),f.z_&&n.X_(f.z_)&&W_(i)})).apply(this,arguments)}function Hg(c,n){return tp.apply(this,arguments)}function tp(){return(tp=(0,Te.A)(function*(c,n){const i=rn(c),a=n.query;let u=3;const f=i.queries.get(a);if(f){const y=f.j_.indexOf(n);y>=0&&(f.j_.splice(y,1),0===f.j_.length?u=n.J_()?0:1:!f.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})).apply(this,arguments)}function nb(c,n){const i=rn(c);let a=!1;for(const u of n){const y=i.queries.get(u.query);if(y){for(const N of y.j_)N.X_(u)&&(a=!0);y.z_=u}}a&&W_(i)}function rb(c,n,i){const a=rn(c),u=a.queries.get(n);if(u)for(const f of u.j_)f.onError(i);a.queries.delete(n)}function W_(c){c.Y_.forEach(n=>{n.next()})}var K_,C0;(C0=K_||(K_={})).ea="default",C0.Cache="cache";class Gg{constructor(n,i,a){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(n){if(!this.options.includeMetadataChanges){const a=[];for(const u of n.docChanges)3!==u.type&&a.push(u);n=new Du(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=Du.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==K_.Cache}}class oh{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class sh{constructor(n){this.serializer=n}Es(n){return $s(this.serializer,n)}ds(n){return n.metadata.exists?Sc(this.serializer,n.document,!1):xr.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return Yi(n)}}class X_{constructor(n,i,a){this.ca=n,this.localStore=i,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=q_(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const a=er.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,a=new sh(this.serializer);for(const u of n)if(u.metadata.queries){const f=a.Es(u.metadata.name);for(const y of u.metadata.queries){const N=(i.get(y)||Fr()).add(f);i.set(y,N)}}return i}complete(){var n=this;return(0,Te.A)(function*(){const i=yield function Er(c,n,i,a){return fi.apply(this,arguments)}(n.localStore,new sh(n.serializer),n.documents,n.ca.id),a=n.ha(n.documents);for(const u of n.queries)yield Sa(n.localStore,u,a.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function q_(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class np{constructor(n){this.key=n}}class ah{constructor(n){this.key=n}}class Q_{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fr(),this.mutatedKeys=Fr(),this.Aa=Tc(n),this.Ra=new yd(this.Aa)}get Va(){return this.Ta}ma(n,i){const a=i?i.fa:new $g,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,y=u,N=!1;const U="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,te="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((ge,Ve)=>{const vt=u.get(ge),Yt=al(this.query,Ve)?Ve:null,vn=!!vt&&this.mutatedKeys.has(vt.key),$n=!!Yt&&(Yt.hasLocalMutations||this.mutatedKeys.has(Yt.key)&&Yt.hasCommittedMutations);let xn=!1;vt&&Yt?vt.data.isEqual(Yt.data)?vn!==$n&&(a.track({type:3,doc:Yt}),xn=!0):this.ga(vt,Yt)||(a.track({type:2,doc:Yt}),xn=!0,(U&&this.Aa(Yt,U)>0||te&&this.Aa(Yt,te)<0)&&(N=!0)):!vt&&Yt?(a.track({type:0,doc:Yt}),xn=!0):vt&&!Yt&&(a.track({type:1,doc:vt}),xn=!0,(U||te)&&(N=!0)),xn&&(Yt?(y=y.add(Yt),f=$n?f.add(ge):f.delete(ge)):(y=y.delete(ge),f=f.delete(ge)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const ge="F"===this.query.limitType?y.last():y.first();y=y.delete(ge.key),f=f.delete(ge.key),a.track({type:1,doc:ge})}return{Ra:y,fa:a,ns:N,mutatedKeys:f}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,a,u){const f=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const y=n.fa.G_();y.sort((ge,Ve)=>function(Yt,vn){const $n=xn=>{switch(xn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return $n(Yt)-$n(vn)}(ge.type,Ve.type)||this.Aa(ge.doc,Ve.doc)),this.pa(a),u=null!=u&&u;const N=i&&!u?this.ya():[],U=0===this.da.size&&this.current&&!u?1:0,te=U!==this.Ea;return this.Ea=U,0!==y.length||te?{snapshot:new Du(this.query,n.Ra,f,y,n.mutatedKeys,0===U,te,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:N}:{wa:N}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $g,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=Fr(),this.Ra.forEach(a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))});const i=[];return n.forEach(a=>{this.da.has(a)||i.push(new ah(a))}),this.da.forEach(a=>{n.has(a)||i.push(new np(a))}),i}ba(n){this.Ta=n.Ts,this.da=Fr();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return Du.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class zg{constructor(n,i,a){this.query=n,this.targetId=i,this.view=a}}class Y_{constructor(n){this.key=n,this.va=!1}}class tf{constructor(n,i,a,u,f,y){this.localStore=n,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=y,this.Ca={},this.Fa=new Oo(N=>ms(N),ra),this.Ma=new Map,this.xa=new Set,this.Oa=new pi(_n.comparator),this.Na=new Map,this.La=new ds,this.Ba={},this.ka=new Map,this.qa=uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function nf(c,n){return rp.apply(this,arguments)}function rp(){return(rp=(0,Te.A)(function*(c,n,i=!0){const a=gp(c);let u;const f=a.Fa.get(n);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield J_(a,n,i,!0),u})).apply(this,arguments)}function Wg(c,n){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,Te.A)(function*(c,n){const i=gp(c);yield J_(i,n,!0,!1)})).apply(this,arguments)}function J_(c,n,i,a){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,Te.A)(function*(c,n,i,a){const u=yield P(c.localStore,yi(n)),f=u.targetId,y=c.sharedClientState.addLocalQueryTarget(f,i);let N;return a&&(N=yield ip(c,n,f,"current"===y,u.resumeToken)),c.isPrimaryClient&&i&&_c(c.remoteStore,u),N})).apply(this,arguments)}function ip(c,n,i,a,u){return rf.apply(this,arguments)}function rf(){return rf=(0,Te.A)(function*(c,n,i,a,u){c.Ka=(Ve,vt,Yt)=>{return(vn=(0,Te.A)(function*(xn,ur,wr,pr){let kr=ur.view.ma(wr);kr.ns&&(kr=yield St(xn.localStore,ur.query,!1).then(({documents:pt})=>ur.view.ma(pt,kr)));const Li=pr&&pr.targetChanges.get(ur.targetId),qr=pr&&null!=pr.targetMismatches.get(ur.targetId),Vt=ur.view.applyChanges(kr,xn.isPrimaryClient,Li,qr);return dp(xn,ur.targetId,Vt.wa),Vt.snapshot}),function $n(xn,ur,wr,pr){return vn.apply(this,arguments)})(c,Ve,vt,Yt);var vn};const f=yield St(c.localStore,n,!0),y=new Q_(n,f.Ts),N=y.ma(f.documents),U=Qs.createSynthesizedTargetChangeForCurrentChange(i,a&&"Offline"!==c.onlineState,u),te=y.applyChanges(N,c.isPrimaryClient,U);dp(c,i,te.wa);const ge=new zg(n,i,y);return c.Fa.set(n,ge),c.Ma.has(i)?c.Ma.get(i).push(n):c.Ma.set(i,[n]),te.snapshot}),rf.apply(this,arguments)}function A0(c,n,i){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,Te.A)(function*(c,n,i){const a=rn(c),u=a.Fa.get(n),f=a.Ma.get(u.targetId);if(f.length>1)return a.Ma.set(u.targetId,f.filter(y=>!ra(y,n))),void a.Fa.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||(yield ne(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&Hc(a.remoteStore,u.targetId),lh(a,u.targetId)}).catch(qn))):(lh(a,u.targetId),yield ne(a.localStore,u.targetId,!0))})).apply(this,arguments)}function qg(c,n){return op.apply(this,arguments)}function op(){return(op=(0,Te.A)(function*(c,n){const i=rn(c),a=i.Fa.get(n),u=i.Ma.get(a.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hc(i.remoteStore,a.targetId))})).apply(this,arguments)}function Z_(){return(Z_=(0,Te.A)(function*(c,n,i){const a=mp(c);try{const u=yield function(y,N){const U=rn(y),te=mr.now(),ge=N.reduce((Yt,vn)=>Yt.add(vn.key),Fr());let Ve,vt;return U.persistence.runTransaction("Locally write mutations","readwrite",Yt=>{let vn=as(),$n=Fr();return U.cs.getEntries(Yt,ge).next(xn=>{vn=xn,vn.forEach((ur,wr)=>{wr.isValidDocument()||($n=$n.add(ur))})}).next(()=>U.localDocuments.getOverlayedDocuments(Yt,vn)).next(xn=>{Ve=xn;const ur=[];for(const wr of N){const pr=mi(wr,Ve.get(wr.key).overlayedDocument);null!=pr&&ur.push(new si(wr.key,pr,Cs(pr.value.mapValue),ce.exists(!0)))}return U.mutationQueue.addMutationBatch(Yt,te,ur,N)}).next(xn=>{vt=xn;const ur=xn.applyToLocalDocumentSet(Ve,$n);return U.documentOverlayCache.saveOverlays(Yt,xn.batchId,ur)})}).then(()=>({batchId:vt.batchId,changes:Fs(Ve)}))}(a.localStore,n);a.sharedClientState.addPendingMutation(u.batchId),function(y,N,U){let te=y.Ba[y.currentUser.toKey()];te||(te=new pi(Cn)),te=te.insert(N,U),y.Ba[y.currentUser.toKey()]=te}(a,u.batchId,i),yield Nl(a,u.changes),yield Vr(a.remoteStore)}catch(u){const f=wu(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function T0(c,n){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,Te.A)(function*(c,n){const i=rn(c);try{const a=yield function w(c,n){const i=rn(c),a=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const y=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const N=[];n.targetChanges.forEach((ge,Ve)=>{const vt=u.get(Ve);if(!vt)return;N.push(i.Ur.removeMatchingKeys(f,ge.removedDocuments,Ve).next(()=>i.Ur.addMatchingKeys(f,ge.addedDocuments,Ve)));let Yt=vt.withSequenceNumber(f.currentSequenceNumber);var $n,xn,ur;null!==n.targetMismatches.get(Ve)?Yt=Yt.withResumeToken(bi.EMPTY_BYTE_STRING,Dn.min()).withLastLimboFreeSnapshotVersion(Dn.min()):ge.resumeToken.approximateByteSize()>0&&(Yt=Yt.withResumeToken(ge.resumeToken,a)),u=u.insert(Ve,Yt),xn=Yt,ur=ge,(0===($n=vt).resumeToken.approximateByteSize()||xn.snapshotVersion.toMicroseconds()-$n.snapshotVersion.toMicroseconds()>=3e8||ur.addedDocuments.size+ur.modifiedDocuments.size+ur.removedDocuments.size>0)&&N.push(i.Ur.updateTargetData(f,Yt))});let U=as(),te=Fr();if(n.documentUpdates.forEach(ge=>{n.resolvedLimboDocuments.has(ge)&&N.push(i.persistence.referenceDelegate.updateLimboDocument(f,ge))}),N.push(p(f,y,n.documentUpdates).next(ge=>{U=ge.Ps,te=ge.Is})),!a.isEqual(Dn.min())){const ge=i.Ur.getLastRemoteSnapshotVersion(f).next(Ve=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,a));N.push(ge)}return gt.waitFor(N).next(()=>y.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,U,te)).next(()=>U)}).then(f=>(i.os=u,f))}(i.localStore,n);n.targetChanges.forEach((u,f)=>{const y=i.Na.get(f);y&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?y.va=!0:u.modifiedDocuments.size>0?jt(y.va):u.removedDocuments.size>0&&(jt(y.va),y.va=!1))}),yield Nl(i,a,n)}catch(a){yield qn(a)}})).apply(this,arguments)}function Id(c,n,i){const a=rn(c);if(a.isPrimaryClient&&0===i||!a.isPrimaryClient&&1===i){const u=[];a.Fa.forEach((f,y)=>{const N=y.view.Z_(n);N.snapshot&&u.push(N.snapshot)}),function(y,N){const U=rn(y);U.onlineState=N;let te=!1;U.queries.forEach((ge,Ve)=>{for(const vt of Ve.j_)vt.Z_(N)&&(te=!0)}),te&&W_(U)}(a.eventManager,n),u.length&&a.Ca.d_(u),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function ev(c,n,i){return ap.apply(this,arguments)}function ap(){return(ap=(0,Te.A)(function*(c,n,i){const a=rn(c);a.sharedClientState.updateQueryState(n,"rejected",i);const u=a.Na.get(n),f=u&&u.key;if(f){let y=new pi(_n.comparator);y=y.insert(f,xr.newNoDocument(f,Dn.min()));const N=Fr().add(f),U=new la(Dn.min(),new Map,new pi(Cn),y,N);yield T0(a,U),a.Oa=a.Oa.remove(f),a.Na.delete(n),hp(a)}else yield ne(a.localStore,n,!1).then(()=>lh(a,n,i)).catch(qn)})).apply(this,arguments)}function w0(c,n){return lp.apply(this,arguments)}function lp(){return(lp=(0,Te.A)(function*(c,n){const i=rn(c),a=n.batch.batchId;try{const u=yield function Yf(c,n){const i=rn(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=n.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(N,U,te,ge){const Ve=te.batch,vt=Ve.keys();let Yt=gt.resolve();return vt.forEach(vn=>{Yt=Yt.next(()=>ge.getEntry(U,vn)).next($n=>{const xn=te.docVersions.get(vn);jt(null!==xn),$n.version.compareTo(xn)<0&&(Ve.applyToRemoteDocument($n,te),$n.isValidDocument()&&($n.setReadTime(te.commitVersion),ge.addEntry($n)))})}),Yt.next(()=>N.mutationQueue.removeMutationBatch(U,Ve))}(i,a,n,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(N){let U=Fr();for(let te=0;te<N.mutationResults.length;++te)N.mutationResults[te].transformResults.length>0&&(U=U.add(N.batch.mutations[te].key));return U}(n))).next(()=>i.localDocuments.getDocuments(a,u))})}(i.localStore,n);Yg(i,a,null),Qg(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield Nl(i,u)}catch(u){yield qn(u)}})).apply(this,arguments)}function D0(c,n,i){return cp.apply(this,arguments)}function cp(){return(cp=(0,Te.A)(function*(c,n,i){const a=rn(c);try{const u=yield function(y,N){const U=rn(y);return U.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let ge;return U.mutationQueue.lookupMutationBatch(te,N).next(Ve=>(jt(null!==Ve),ge=Ve.keys(),U.mutationQueue.removeMutationBatch(te,Ve))).next(()=>U.mutationQueue.performConsistencyCheck(te)).next(()=>U.documentOverlayCache.removeOverlaysForBatchId(te,ge,N)).next(()=>U.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(te,ge)).next(()=>U.localDocuments.getDocuments(te,ge))})}(a.localStore,n);Yg(a,n,i),Qg(a,n),a.sharedClientState.updateMutationState(n,"rejected",i),yield Nl(a,u)}catch(u){yield qn(u)}})).apply(this,arguments)}function up(){return(up=(0,Te.A)(function*(c,n){const i=rn(c);k(i.remoteStore)||It("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(y){const N=rn(y);return N.persistence.runTransaction("Get highest unacknowledged batch id","readonly",U=>N.mutationQueue.getHighestUnacknowledgedBatchId(U))}(i.localStore);if(-1===a)return void n.resolve();const u=i.ka.get(a)||[];u.push(n),i.ka.set(a,u)}catch(a){const u=wu(a,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function Qg(c,n){(c.ka.get(n)||[]).forEach(i=>{i.resolve()}),c.ka.delete(n)}function Yg(c,n,i){const a=rn(c);let u=a.Ba[a.currentUser.toKey()];if(u){const f=u.get(n);f&&(i?f.reject(i):f.resolve(),u=u.remove(n)),a.Ba[a.currentUser.toKey()]=u}}function lh(c,n,i=null){c.sharedClientState.removeLocalQueryTarget(n);for(const a of c.Ma.get(n))c.Fa.delete(a),i&&c.Ca.$a(a,i);c.Ma.delete(n),c.isPrimaryClient&&c.La.gr(n).forEach(a=>{c.La.containsKey(a)||tv(c,a)})}function tv(c,n){c.xa.delete(n.path.canonicalString());const i=c.Oa.get(n);null!==i&&(Hc(c.remoteStore,i),c.Oa=c.Oa.remove(n),c.Na.delete(i),hp(c))}function dp(c,n,i){for(const a of i)a instanceof np?(c.La.addReference(a.key,n),nv(c,a)):a instanceof ah?(It("SyncEngine","Document no longer in limbo: "+a.key),c.La.removeReference(a.key,n),c.La.containsKey(a.key)||tv(c,a.key)):qt()}function nv(c,n){const i=n.key,a=i.path.canonicalString();c.Oa.get(i)||c.xa.has(a)||(It("SyncEngine","New document in limbo: "+i),c.xa.add(a),hp(c))}function hp(c){for(;c.xa.size>0&&c.Oa.size<c.maxConcurrentLimboResolutions;){const n=c.xa.values().next().value;c.xa.delete(n);const i=new _n(er.fromString(n)),a=c.qa.next();c.Na.set(a,new Y_(i)),c.Oa=c.Oa.insert(i,a),_c(c.remoteStore,new Js(yi(gs(i.path)),a,"TargetPurposeLimboResolution",be.oe))}}function Nl(c,n,i){return fp.apply(this,arguments)}function fp(){return fp=(0,Te.A)(function*(c,n,i){const a=rn(c),u=[],f=[],y=[];var N;a.Fa.isEmpty()||(a.Fa.forEach((N,U)=>{y.push(a.Ka(U,n,i).then(te=>{var ge;if((te||i)&&a.isPrimaryClient){const Ve=te?!te.fromCache:null===(ge=null==i?void 0:i.targetChanges.get(U.targetId))||void 0===ge?void 0:ge.current;a.sharedClientState.updateQueryState(U.targetId,Ve?"current":"not-current")}if(te){u.push(te);const Ve=_d.Wi(U.targetId,te);f.push(Ve)}}))}),yield Promise.all(y),a.Ca.d_(u),yield(N=(0,Te.A)(function*(te,ge){const Ve=rn(te);try{yield Ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",vt=>gt.forEach(ge,Yt=>gt.forEach(Yt.$i,vn=>Ve.persistence.referenceDelegate.addReference(vt,Yt.targetId,vn)).next(()=>gt.forEach(Yt.Ui,vn=>Ve.persistence.referenceDelegate.removeReference(vt,Yt.targetId,vn)))))}catch(vt){if(!wi(vt))throw vt;It("LocalStore","Failed to update sequence numbers: "+vt)}for(const vt of ge){const Yt=vt.targetId;if(!vt.fromCache){const vn=Ve.os.get(Yt),xn=vn.withLastLimboFreeSnapshotVersion(vn.snapshotVersion);Ve.os=Ve.os.insert(Yt,xn)}}}),function U(te,ge){return N.apply(this,arguments)})(a.localStore,f))}),fp.apply(this,arguments)}function rv(c,n){return pp.apply(this,arguments)}function pp(){return(pp=(0,Te.A)(function*(c,n){const i=rn(c);if(!i.currentUser.isEqual(n)){It("SyncEngine","User change. New user:",n.toKey());const a=yield gu(i.localStore,n);i.currentUser=n,(f=i).ka.forEach(N=>{N.forEach(U=>{U.reject(new Fe(ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield Nl(i,a.hs)}var f})).apply(this,arguments)}function iv(c,n){const i=rn(c),a=i.Na.get(n);if(a&&a.va)return Fr().add(a.key);{let u=Fr();const f=i.Ma.get(n);if(!f)return u;for(const y of f){const N=i.Fa.get(y);u=u.unionWith(N.view.Va)}return u}}function R0(c,n){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,Te.A)(function*(c,n){const i=rn(c),a=yield St(i.localStore,n.query,!0),u=n.view.ba(a);return i.isPrimaryClient&&dp(i,n.targetId,u.wa),u})).apply(this,arguments)}function P0(c,n){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,Te.A)(function*(c,n){const i=rn(c);return bn(i.localStore,n).then(a=>Nl(i,a))})).apply(this,arguments)}function ov(c,n,i,a){return sv.apply(this,arguments)}function sv(){return(sv=(0,Te.A)(function*(c,n,i,a){const u=rn(c),f=yield function(N,U){const te=rn(N),ge=rn(te.mutationQueue);return te.persistence.runTransaction("Lookup mutation documents","readonly",Ve=>ge.Mn(Ve,U).next(vt=>vt?te.localDocuments.getDocuments(Ve,vt):gt.resolve(null)))}(u.localStore,n);var U;null!==f?("pending"===i?yield Vr(u.remoteStore):"acknowledged"===i||"rejected"===i?(Yg(u,n,a||null),Qg(u,n),U=n,rn(rn(u.localStore).mutationQueue).On(U)):qt(),yield Nl(u,f)):It("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function em(){return(em=(0,Te.A)(function*(c,n){const i=rn(c);if(gp(i),mp(i),!0===n&&!0!==i.Qa){const a=i.sharedClientState.getAllActiveQueryTargets(),u=yield lv(i,a.toArray());i.Qa=!0,yield Vo(i.remoteStore,!0);for(const f of u)_c(i.remoteStore,f)}else if(!1===n&&!1!==i.Qa){const a=[];let u=Promise.resolve();i.Ma.forEach((f,y)=>{i.sharedClientState.isLocalQueryTarget(y)?a.push(y):u=u.then(()=>(lh(i,y),ne(i.localStore,y,!0))),Hc(i.remoteStore,y)}),yield u,yield lv(i,a),function(y){const N=rn(y);N.Na.forEach((U,te)=>{Hc(N.remoteStore,te)}),N.La.pr(),N.Na=new Map,N.Oa=new pi(_n.comparator)}(i),i.Qa=!1,yield Vo(i.remoteStore,!1)}})).apply(this,arguments)}function lv(c,n,i){return cv.apply(this,arguments)}function cv(){return(cv=(0,Te.A)(function*(c,n,i){const a=rn(c),u=[],f=[];for(const y of n){let N;const U=a.Ma.get(y);if(U&&0!==U.length){N=yield P(a.localStore,yi(U[0]));for(const te of U){const ge=a.Fa.get(te),Ve=yield R0(a,ge);Ve.snapshot&&f.push(Ve.snapshot)}}else{const te=yield en(a.localStore,y);N=yield P(a.localStore,te),yield ip(a,uv(te),y,!1,N.resumeToken)}u.push(N)}return a.Ca.d_(f),u})).apply(this,arguments)}function uv(c){return na(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function dv(c){return i=rn(c).localStore,rn(rn(i).persistence).Qi();var i}function tm(c,n,i,a){return nm.apply(this,arguments)}function nm(){return(nm=(0,Te.A)(function*(c,n,i,a){const u=rn(c);if(u.Qa)return void It("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(n);if(f&&f.length>0)switch(i){case"current":case"not-current":{const y=yield bn(u.localStore,La(f[0])),N=la.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,bi.EMPTY_BYTE_STRING);yield Nl(u,y,N);break}case"rejected":yield ne(u.localStore,n,!0),lh(u,n,a);break;default:qt()}})).apply(this,arguments)}function Su(c,n,i){return ch.apply(this,arguments)}function ch(){return(ch=(0,Te.A)(function*(c,n,i){const a=gp(c);if(a.Qa){for(const u of n){if(a.Ma.has(u)&&a.sharedClientState.isActiveQueryTarget(u)){It("SyncEngine","Adding an already active target "+u);continue}const f=yield en(a.localStore,u),y=yield P(a.localStore,f);yield ip(a,uv(f),y.targetId,!1,y.resumeToken),_c(a.remoteStore,y)}for(const u of i)a.Ma.has(u)&&(yield ne(a.localStore,u,!1).then(()=>{Hc(a.remoteStore,u),lh(a,u)}).catch(qn))}})).apply(this,arguments)}function gp(c){const n=rn(c);return n.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=iv.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=ev.bind(null,n),n.Ca.d_=nb.bind(null,n.eventManager),n.Ca.$a=rb.bind(null,n.eventManager),n}function mp(c){const n=rn(c);return n.remoteStore.remoteSyncer.applySuccessfulWrite=w0.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=D0.bind(null,n),n}let sf=(()=>{class c{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(i){var a=this;return(0,Te.A)(function*(){a.serializer=Ql(i.databaseInfo.databaseId),a.sharedClientState=a.Wa(i),a.persistence=a.Ga(i),yield a.persistence.start(),a.localStore=a.za(i),a.gcScheduler=a.ja(i,a.localStore),a.indexBackfillerScheduler=a.Ha(i,a.localStore)})()}ja(i,a){return null}Ha(i,a){return null}za(i){return Qh(this.persistence,new pc,i.initialUser,this.serializer)}Ga(i){return new md(Pl.Zr,this.serializer)}Wa(i){return new nh}terminate(){var i=this;return(0,Te.A)(function*(){var a,u;null===(a=i.gcScheduler)||void 0===a||a.stop(),null===(u=i.indexBackfillerScheduler)||void 0===u||u.stop(),i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}return c.provider={build:()=>new c},c})();class rm extends sf{constructor(n,i,a){super(),this.Ja=n,this.cacheSizeBytes=i,this.forceOwnership=a,this.kind="persistent",this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,a=this;return(0,Te.A)(function*(){yield i().call(a,n),yield a.Ja.initialize(a,n),yield mp(a.Ja.syncEngine),yield Vr(a.Ja.remoteStore),yield a.persistence.yi(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(),a.indexBackfillerScheduler&&!a.indexBackfillerScheduler.started&&a.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(n){return Qh(this.persistence,new pc,n.initialUser,this.serializer)}ja(n,i){return new js(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}Ha(n,i){const a=new Ye(i,this.persistence);return new Pr(n.asyncQueue,a)}Ga(n){const i=fu(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new hc(this.synchronizeTabs,i,n.clientId,a,n.asyncQueue,Jf(),rh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(n){return new nh}}class hv extends rm{constructor(n,i){super(n,i,!1),this.Ja=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,a=this;return(0,Te.A)(function*(){yield i().call(a,n);const u=a.Ja.syncEngine;a.sharedClientState instanceof mc&&(a.sharedClientState.syncEngine={no:ov.bind(null,u),ro:tm.bind(null,u),io:Su.bind(null,u),Qi:dv.bind(null,u),eo:P0.bind(null,u)},yield a.sharedClientState.start()),yield a.persistence.yi(function(){var f=(0,Te.A)(function*(y){yield function av(c,n){return em.apply(this,arguments)}(a.Ja.syncEngine,y),a.gcScheduler&&(y&&!a.gcScheduler.started?a.gcScheduler.start():y||a.gcScheduler.stop()),a.indexBackfillerScheduler&&(y&&!a.indexBackfillerScheduler.started?a.indexBackfillerScheduler.start():y||a.indexBackfillerScheduler.stop())});return function(y){return f.apply(this,arguments)}}())})()}Wa(n){const i=Jf();if(!mc.D(i))throw new Fe(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=fu(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new mc(i,n.asyncQueue,a,n.clientId,n.initialUser)}}let uh=(()=>{class c{initialize(i,a){var u=this;return(0,Te.A)(function*(){u.localStore||(u.localStore=i.localStore,u.sharedClientState=i.sharedClientState,u.datastore=u.createDatastore(a),u.remoteStore=u.createRemoteStore(a),u.eventManager=u.createEventManager(a),u.syncEngine=u.createSyncEngine(a,!i.synchronizeTabs),u.sharedClientState.onlineStateHandler=f=>Id(u.syncEngine,f,1),u.remoteStore.remoteSyncer.handleCredentialChange=rv.bind(null,u.syncEngine),yield Vo(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(i){return new b0}createDatastore(i){const a=Ql(i.databaseInfo.databaseId),u=new j_(i.databaseInfo);return new Zf(i.authCredentials,i.appCheckCredentials,u,a)}createRemoteStore(i){return u=this.localStore,f=this.datastore,y=i.asyncQueue,N=a=>Id(this.syncEngine,a,0),U=vu.D()?new vu:new Jh,new Fg(u,f,y,N,U);var u,f,y,N,U}createSyncEngine(i,a){return function(f,y,N,U,te,ge,Ve){const vt=new tf(f,y,N,U,te,ge);return Ve&&(vt.Qa=!0),vt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,a)}terminate(){var i=this;return(0,Te.A)(function*(){var a,u,f;yield(f=(0,Te.A)(function*(N){const U=rn(N);It("RemoteStore","RemoteStore shutting down."),U.L_.add(5),yield Iu(U),U.k_.shutdown(),U.q_.set("Unknown")}),function y(N){return f.apply(this,arguments)})(i.remoteStore),null===(a=i.datastore)||void 0===a||a.terminate(),null===(u=i.eventManager)||void 0===u||u.terminate()})()}}return c.provider={build:()=>new c},c})();function M0(c,n=10240){let i=0;return{read:()=>(0,Te.A)(function*(){if(i<c.byteLength){const a={value:c.slice(i,i+n),done:!1};return i+=n,a}return{done:!0}})(),cancel:()=>(0,Te.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class im{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ya(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ya(this.observer.error,n):mn("Uncaught Error in snapshot listener:",n.toString()))}Za(){this.muted=!0}Ya(n,i){setTimeout(()=>{this.muted||n(i)},0)}}class vp{constructor(n,i){this.Xa=n,this.serializer=i,this.metadata=new kt,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(a=>{a&&a.ua()?this.metadata.resolve(a.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.aa)}`))},a=>this.metadata.reject(a))}close(){return this.Xa.cancel()}getMetadata(){var n=this;return(0,Te.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,Te.A)(function*(){return yield n.getMetadata(),n.tu()})()}tu(){var n=this;return(0,Te.A)(function*(){const i=yield n.nu();if(null===i)return null;const a=n.eu.decode(i),u=Number(a);isNaN(u)&&n.ru(`length string (${a}) is not valid number`);const f=yield n.iu(u);return new oh(JSON.parse(f),i.length+u)})()}su(){return this.buffer.findIndex(n=>123===n)}nu(){var n=this;return(0,Te.A)(function*(){for(;n.su()<0&&!(yield n.ou()););if(0===n.buffer.length)return null;const i=n.su();i<0&&n.ru("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),a})()}iu(n){var i=this;return(0,Te.A)(function*(){for(;i.buffer.length<n;)(yield i.ou())&&i.ru("Reached the end of bundle when more is expected.");const a=i.eu.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),a})()}ru(n){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${n}`)}ou(){var n=this;return(0,Te.A)(function*(){const i=yield n.Xa.read();if(!i.done){const a=new Uint8Array(n.buffer.length+i.value.length);a.set(n.buffer),a.set(i.value,n.buffer.length),n.buffer=a}return i.done})()}}class x0{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,Te.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Fe(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const a=yield(u=(0,Te.A)(function*(y,N){const U=rn(y),te={documents:N.map(Yt=>Ja(U.serializer,Yt))},ge=yield U.Lo("BatchGetDocuments",U.serializer.databaseId,er.emptyPath(),te,N.length),Ve=new Map;ge.forEach(Yt=>{const vn=function T(c,n){return"found"in n?function(a,u){jt(!!u.found);const f=$s(a,u.found.name),y=Yi(u.found.updateTime),N=u.found.createTime?Yi(u.found.createTime):Dn.min(),U=new To({mapValue:{fields:u.found.fields}});return xr.newFoundDocument(f,y,N,U)}(c,n):"missing"in n?function(a,u){jt(!!u.missing),jt(!!u.readTime);const f=$s(a,u.missing),y=Yi(u.readTime);return xr.newNoDocument(f,y)}(c,n):qt()}(U.serializer,Yt);Ve.set(vn.key.toString(),vn)});const vt=[];return N.forEach(Yt=>{const vn=Ve.get(Yt.toString());jt(!!vn),vt.push(vn)}),vt}),function f(y,N){return u.apply(this,arguments)})(i.datastore,n);var u;return a.forEach(u=>i.recordVersion(u)),a})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new Sn(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,Te.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var a;n.mutations.forEach(a=>{i.delete(a.key.toString())}),i.forEach((a,u)=>{const f=_n.fromPath(u);n.mutations.push(new sr(f,n.precondition(f)))}),yield(a=(0,Te.A)(function*(f,y){const N=rn(f),U={writes:y.map(te=>$(N.serializer,te))};yield N.Mo("Commit",N.serializer.databaseId,er.emptyPath(),U)}),function u(f,y){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw qt();i=Dn.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!i.isEqual(a))throw new Fe(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Dn.min())?ce.exists(!1):ce.updateTime(i):ce.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Dn.min()))throw new Fe(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ce.updateTime(i)}return ce.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class om{constructor(n,i,a,u,f){this.asyncQueue=n,this.datastore=i,this.options=a,this.updateFunction=u,this.deferred=f,this._u=a.maxAttempts,this.t_=new Bc(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var n=this;this.t_.Go((0,Te.A)(function*(){const i=new x0(n.datastore),a=n.cu(i);a&&a.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(f=>{n.lu(f)}))}).catch(u=>{n.lu(u)})}))}cu(n){try{const i=this.updateFunction(n);return!Ct(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}lu(n){this._u>0&&this.hu(n)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(n)}hu(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!ls(i)}return!1}}class sm{constructor(n,i,a,u,f){var y=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=je.UNAUTHENTICATED,this.clientId=jr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,function(){var N=(0,Te.A)(function*(U){It("FirestoreClient","Received user=",U.uid),yield y.authCredentialListener(U),y.user=U});return function(U){return N.apply(this,arguments)}}()),this.appCheckCredentials.start(a,N=>(It("FirestoreClient","Received new app check token=",N),this.appCheckCredentialListener(N,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new kt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(a){const u=wu(a,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Ru(c,n){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,Te.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const i=c.configuration;yield n.initialize(i);let a=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,Te.A)(function*(f){a.isEqual(f)||(yield gu(n.localStore,f),a=f)});return function(f){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=n}),Ed.apply(this,arguments)}function af(c,n){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,Te.A)(function*(c,n){c.asyncQueue.verifyOperationInProgress();const i=yield bd(c);It("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,c.configuration),c.setCredentialChangeListener(a=>Cu(n.remoteStore,a)),c.setAppCheckTokenChangeListener((a,u)=>Cu(n.remoteStore,u)),c._onlineComponents=n})).apply(this,arguments)}function bd(c){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,Te.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){It("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ru(c,c._uninitializedComponentsProvider._offline)}catch(n){if(!("FirebaseError"===(u=n).name?u.code===ke.FAILED_PRECONDITION||u.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw n;kn("Error using user provided cache. Falling back to memory cache: "+n),yield Ru(c,new sf)}}else It("FirestoreClient","Using default OfflineComponentProvider"),yield Ru(c,new sf);var u;return c._offlineComponents})).apply(this,arguments)}function dh(c){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,Te.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(It("FirestoreClient","Using user provided OnlineComponentProvider"),yield af(c,c._uninitializedComponentsProvider._online)):(It("FirestoreClient","Using default OnlineComponentProvider"),yield af(c,new uh))),c._onlineComponents})).apply(this,arguments)}function Ad(c){return bd(c).then(n=>n.persistence)}function Wc(c){return bd(c).then(n=>n.localStore)}function N0(c){return dh(c).then(n=>n.remoteStore)}function lf(c){return dh(c).then(n=>n.syncEngine)}function fh(c){return yp.apply(this,arguments)}function yp(){return(yp=(0,Te.A)(function*(c){const n=yield dh(c),i=n.eventManager;return i.onListen=nf.bind(null,n.syncEngine),i.onUnlisten=A0.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=Wg.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=qg.bind(null,n.syncEngine),i})).apply(this,arguments)}function lm(c,n,i={}){const a=new kt;return c.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function(f,y,N,U,te){const ge=new im({next:vt=>{ge.Za(),y.enqueueAndForget(()=>Hg(f,Ve));const Yt=vt.docs.has(N);!Yt&&vt.fromCache?te.reject(new Fe(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):Yt&&vt.fromCache&&U&&"server"===U.source?te.reject(new Fe(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):te.resolve(vt)},error:vt=>te.reject(vt)}),Ve=new Gg(gs(N.path),ge,{includeMetadataChanges:!0,_a:!0});return jg(f,Ve)}(yield fh(c),c.asyncQueue,n,i,a)})),a.promise}function fv(c,n,i={}){const a=new kt;return c.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function(f,y,N,U,te){const ge=new im({next:vt=>{ge.Za(),y.enqueueAndForget(()=>Hg(f,Ve)),vt.fromCache&&"server"===U.source?te.reject(new Fe(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):te.resolve(vt)},error:vt=>te.reject(vt)}),Ve=new Gg(N,ge,{includeMetadataChanges:!0,_a:!0});return jg(f,Ve)}(yield fh(c),c.asyncQueue,n,i,a)})),a.promise}function gv(c){const n={};return void 0!==c.timeoutSeconds&&(n.timeoutSeconds=c.timeoutSeconds),n}const df=new Map;function hf(c,n,i){if(!i)throw new Fe(ke.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${n}.`)}function um(c,n,i,a){if(!0===n&&!0===a)throw new Fe(ke.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)}function mv(c){if(!_n.isDocumentKey(c))throw new Fe(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function dm(c){if(_n.isDocumentKey(c))throw new Fe(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function ph(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const n=(a=c).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof c?"a function":qt()}function Oi(c,n){if("_delegate"in c&&(c=c._delegate),!(c instanceof n)){if(n.name===c.constructor.name)throw new Fe(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ph(c);throw new Fe(ke.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return c}function xu(c,n){if(n<=0)throw new Fe(ke.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${n}.`)}class hm{constructor(n){var i,a;if(void 0===n.host){if(void 0!==n.ssl)throw new Fe(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Fe(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}um("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=gv(null!==(a=n.experimentalLongPollingOptions)&&void 0!==a?a:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Fe(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Fe(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Fe(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Nu{constructor(n,i,a,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Fe(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hm(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new Qn;switch(a.type){case"firstParty":return new gr(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var n=this;return(0,Te.A)(function*(){"notTerminated"===n._terminateTask?yield n._terminate():n._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=df.get(i);a&&(It("ComponentProvider","Removing Datastore"),df.delete(i),a.terminate())}(this),Promise.resolve()}}class ea{constructor(n,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new ea(this.firestore,n,this._query)}}class Uo{constructor(n,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ol(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Uo(this.firestore,n,this._key)}}class Ol extends ea{constructor(n,i,a){super(n,i,gs(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Uo(this.firestore,null,new _n(n))}withConverter(n){return new Ol(this.firestore,n,this._path)}}function pm(c,n,...i){if(c=(0,dt.Ku)(c),hf("collection","path",n),c instanceof Nu){const a=er.fromString(n,...i);return dm(a),new Ol(c,null,a)}{if(!(c instanceof Uo||c instanceof Ol))throw new Fe(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(er.fromString(n,...i));return dm(a),new Ol(c.firestore,null,a)}}function gh(c,n,...i){if(c=(0,dt.Ku)(c),1===arguments.length&&(n=jr.newId()),hf("doc","path",n),c instanceof Nu){const a=er.fromString(n,...i);return mv(a),new Uo(c,null,new _n(a))}{if(!(c instanceof Uo||c instanceof Ol))throw new Fe(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=c._path.child(er.fromString(n,...i));return mv(a),new Uo(c.firestore,c instanceof Ol?c.converter:null,new _n(a))}}function Td(c,n){return c=(0,dt.Ku)(c),n=(0,dt.Ku)(n),(c instanceof Uo||c instanceof Ol)&&(n instanceof Uo||n instanceof Ol)&&c.firestore===n.firestore&&c.path===n.path&&c.converter===n.converter}function gm(c,n){return c=(0,dt.Ku)(c),n=(0,dt.Ku)(n),c instanceof ea&&n instanceof ea&&c.firestore===n.firestore&&ra(c._query,n._query)&&c.converter===n.converter}class _v{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bc(this,"async_queue_retry"),this.Vu=()=>{const a=rh();a&&It("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=n;const i=rh();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const i=rh();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const i=new kt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}pu(){var n=this;return(0,Te.A)(function*(){if(0!==n.Pu.length){try{yield n.Pu[0](),n.Pu.shift(),n.t_.reset()}catch(i){if(!wi(i))throw i;It("AsyncQueue","Operation failed with retryable error: "+i)}n.Pu.length>0&&n.t_.Go(()=>n.pu())}})()}gu(n){const i=this.mu.then(()=>(this.du=!0,n().catch(a=>{throw this.Eu=a,this.du=!1,mn("INTERNAL UNHANDLED ERROR: ",function(y){let N=y.message||"";return y.stack&&(N=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),N}(a)),a}).then(a=>(this.du=!1,a))));return this.mu=i,i}enqueueAfterDelay(n,i,a){this.fu(),this.Ru.indexOf(n)>-1&&(i=0);const u=Ug.createAndSchedule(this,n,i,a,f=>this.yu(f));return this.Tu.push(u),u}fu(){this.Eu&&qt()}verifyOperationInProgress(){}wu(){var n=this;return(0,Te.A)(function*(){let i;do{i=n.mu,yield i}while(i!==n.mu)})()}Su(n){for(const i of this.Tu)if(i.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Tu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const i=this.Tu.indexOf(n);this.Tu.splice(i,1)}}function vv(c){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(c)}class Ep{constructor(){this._progressObserver={},this._taskCompletionResolver=new kt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,a){this._progressObserver={next:n,error:i,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Ao extends Nu{constructor(n,i,a,u){super(n,i,a,u),this.type="firestore",this._queue=new _v,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){var n=this;return(0,Te.A)(function*(){if(n._firestoreClient){const i=n._firestoreClient.terminate();n._queue=new _v(i),n._firestoreClient=void 0,yield i}})()}}function Go(c){if(c._terminated)throw new Fe(ke.FAILED_PRECONDITION,"The client has already been terminated.");return c._firestoreClient||yv(c),c._firestoreClient}function yv(c){var n,i,a;const u=c._freezeSettings(),f=(U=(null===(n=c._app)||void 0===n?void 0:n.options.appId)||"",new tn(c._databaseId,U,c._persistenceKey,(ge=u).host,ge.ssl,ge.experimentalForceLongPolling,ge.experimentalAutoDetectLongPolling,gv(ge.experimentalLongPollingOptions),ge.useFetchStreams));var U,ge;c._componentsProvider||!(null===(i=u.localCache)||void 0===i)&&i._offlineComponentProvider&&!(null===(a=u.localCache)||void 0===a)&&a._onlineComponentProvider&&(c._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),c._firestoreClient=new sm(c._authCredentials,c._appCheckCredentials,c._queue,f,c._componentsProvider&&function(N){const U=null==N?void 0:N._online.build();return{_offline:null==N?void 0:N._offline.build(U),_online:U}}(c._componentsProvider))}function _m(){return(_m=(0,Te.A)(function*(c){kn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=c._freezeSettings();Iv(c,uh.provider,{build:i=>new hv(i,n.cacheSizeBytes)})})).apply(this,arguments)}function Iv(c,n,i){if((c=Oi(c,Ao))._firestoreClient||c._terminated)throw new Fe(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(c._componentsProvider||c._getSettings().localCache)throw new Fe(ke.FAILED_PRECONDITION,"SDK cache is already specified.");c._componentsProvider={_online:n,_offline:i},yv(c)}class yc{constructor(n){this._byteString=n}static fromBase64String(n){try{return new yc(bi.fromBase64String(n))}catch(i){throw new Fe(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new yc(bi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Kc{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Fe(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class wd{constructor(n){this._methodName=n}}class mh{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Fe(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Fe(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Cn(this._lat,n._lat)||Cn(this._long,n._long)}}class kl{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(a,u){if(a.length!==u.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==u[f])return!1;return!0}(this._values,n._values)}}const pf=/^__.*__$/;class bv{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return null!==this.fieldMask?new si(n,this.data,this.fieldMask,i,this.fieldTransforms):new Mi(n,this.data,i,this.fieldTransforms)}}class vm{constructor(n,i,a){this.data=n,this.fieldMask=i,this.fieldTransforms=a}toMutation(n,i){return new si(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function ym(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class Im{constructor(n,i,a,u,f,y){this.settings=n,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,void 0===f&&this.vu(),this.fieldTransforms=f||[],this.fieldMask=y||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(n){return new Im(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:a,xu:!1});return u.Ou(n),u}Nu(n){var i;const a=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Fu({path:a,xu:!1});return u.vu(),u}Lu(n){return this.Fu({path:void 0,xu:!0})}Bu(n){return Ih(n,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}vu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Ou(this.path.get(n))}Ou(n){if(0===n.length)throw this.Bu("Document fields must not be empty");if(ym(this.Cu)&&pf.test(n))throw this.Bu('Document fields cannot begin and end with "__"')}}class db{constructor(n,i,a){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=a||Ql(n)}Qu(n,i,a,u=!1){return new Im({Cu:n,methodName:i,qu:a,path:_r.emptyPath(),xu:!1,ku:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _h(c){const n=c._freezeSettings(),i=Ql(c._databaseId);return new db(c._databaseId,!!n.ignoreUndefinedProperties,i)}function vh(c,n,i,a,u,f={}){const y=c.Qu(f.merge||f.mergeFields?2:0,n,i,u);wm("Data must be an object, but it was:",y,a);const N=Tm(a,y);let U,te;if(f.merge)U=new ti(y.fieldMask),te=y.fieldTransforms;else if(f.mergeFields){const ge=[];for(const Ve of f.mergeFields){const vt=yh(n,Ve,i);if(!y.contains(vt))throw new Fe(ke.INVALID_ARGUMENT,`Field '${vt}' is specified in your field mask but missing from your input data.`);wv(ge,vt)||ge.push(vt)}U=new ti(ge),te=y.fieldTransforms.filter(Ve=>U.covers(Ve.field))}else U=null,te=y.fieldTransforms;return new bv(new To(N),U,te)}class Dd extends wd{_toFieldTransform(n){if(2!==n.Cu)throw n.Bu(1===n.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Dd}}function H0(c,n,i){return new Im({Cu:3,qu:n.settings.qu,methodName:c._methodName,xu:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class Cv extends wd{_toFieldTransform(n){return new q(n.path,new ws)}isEqual(n){return n instanceof Cv}}class Cp extends wd{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=H0(this,n,!0),a=this.Ku.map(f=>ku(f,i)),u=new ro(a);return new q(n.path,u)}isEqual(n){return n instanceof Cp&&(0,dt.bD)(this.Ku,n.Ku)}}class Em extends wd{constructor(n,i){super(n),this.Ku=i}_toFieldTransform(n){const i=H0(this,n,!0),a=this.Ku.map(f=>ku(f,i)),u=new Vs(a);return new q(n.path,u)}isEqual(n){return n instanceof Em&&(0,dt.bD)(this.Ku,n.Ku)}}class bm extends wd{constructor(n,i){super(n),this.$u=i}_toFieldTransform(n){const i=new Ua(n.serializer,vs(n.serializer,this.$u));return new q(n.path,i)}isEqual(n){return n instanceof bm&&this.$u===n.$u}}function Cm(c,n,i,a){const u=c.Qu(1,n,i);wm("Data must be an object, but it was:",u,a);const f=[],y=To.empty();Mo(a,(U,te)=>{const ge=Tp(n,U,i);te=(0,dt.Ku)(te);const Ve=u.Nu(ge);if(te instanceof Dd)f.push(ge);else{const vt=ku(te,Ve);null!=vt&&(f.push(ge),y.set(ge,vt))}});const N=new ti(f);return new vm(y,N,u.fieldTransforms)}function Am(c,n,i,a,u,f){const y=c.Qu(1,n,i),N=[yh(n,a,i)],U=[u];if(f.length%2!=0)throw new Fe(ke.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let vt=0;vt<f.length;vt+=2)N.push(yh(n,f[vt])),U.push(f[vt+1]);const te=[],ge=To.empty();for(let vt=N.length-1;vt>=0;--vt)if(!wv(te,N[vt])){const Yt=N[vt];let vn=U[vt];vn=(0,dt.Ku)(vn);const $n=y.Nu(Yt);if(vn instanceof Dd)te.push(Yt);else{const xn=ku(vn,$n);null!=xn&&(te.push(Yt),ge.set(Yt,xn))}}const Ve=new ti(te);return new vm(ge,Ve,y.fieldTransforms)}function Av(c,n,i,a=!1){return ku(i,c.Qu(a?4:3,n))}function ku(c,n){if(Tv(c=(0,dt.Ku)(c)))return wm("Unsupported field value:",n,c),Tm(c,n);if(c instanceof wd)return function(a,u){if(!ym(u.Cu))throw u.Bu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Bu(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(c,n),null;if(void 0===c&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),c instanceof Array){if(n.settings.xu&&4!==n.Cu)throw n.Bu("Nested arrays are not supported");return function(a,u){const f=[];let y=0;for(const N of a){let U=ku(N,u.Lu(y));null==U&&(U={nullValue:"NULL_VALUE"}),f.push(U),y++}return{arrayValue:{values:f}}}(c,n)}return function(a,u){if(null===(a=(0,dt.Ku)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return vs(u.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const f=mr.fromDate(a);return{timestampValue:oo(u.serializer,f)}}if(a instanceof mr){const f=new mr(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oo(u.serializer,f)}}if(a instanceof mh)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof yc)return{bytesValue:Ca(u.serializer,a._byteString)};if(a instanceof Uo){const f=u.databaseId,y=a.firestore._databaseId;if(!y.isEqual(f))throw u.Bu(`Document reference is for database ${y.projectId}/${y.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Co(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof kl)return N=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(U=>{if("number"!=typeof U)throw N.Bu("VectorValues must only contain numeric values.");return Va(N.serializer,U)})}}}}};var N;throw u.Bu(`Unsupported field value: ${ph(a)}`)}(c,n)}function Tm(c,n){const i={};return Xs(c)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Mo(c,(a,u)=>{const f=ku(u,n.Mu(a));null!=f&&(i[a]=f)}),{mapValue:{fields:i}}}function Tv(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof mr||c instanceof mh||c instanceof yc||c instanceof Uo||c instanceof wd||c instanceof kl)}function wm(c,n,i){if(!Tv(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const a=ph(i);throw n.Bu("an object"===a?c+" a custom object":c+" "+a)}var u}function yh(c,n,i){if((n=(0,dt.Ku)(n))instanceof Kc)return n._internalPath;if("string"==typeof n)return Tp(c,n);throw Ih("Field path arguments must be of type string or ",c,!1,void 0,i)}const Ap=new RegExp("[~\\*/\\[\\]]");function Tp(c,n,i){if(n.search(Ap)>=0)throw Ih(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new Kc(...n.split("."))._internalPath}catch{throw Ih(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Ih(c,n,i,a,u){const f=a&&!a.isEmpty(),y=void 0!==u;let N=`Function ${n}() called with invalid data`;i&&(N+=" (via `toFirestore()`)"),N+=". ";let U="";return(f||y)&&(U+=" (found",f&&(U+=` in field ${a}`),y&&(U+=` in document ${u}`),U+=")"),new Fe(ke.INVALID_ARGUMENT,N+c+U)}function wv(c,n){return c.some(i=>i.isEqual(n))}class Ic{constructor(n,i,a,u,f){this._firestore=n,this._userDataWriter=i,this._key=a,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Uo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new G0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(wp("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class G0 extends Ic{data(){return super.data()}}function wp(c,n){return"string"==typeof n?Tp(c,n):n instanceof Kc?n._internalPath:n._delegate._internalPath}function Dp(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new Fe(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sp{}class gf extends Sp{}function Fu(c,n,...i){let a=[];n instanceof Sp&&a.push(n),a=a.concat(i),function(f){const y=f.filter(U=>U instanceof Sd).length,N=f.filter(U=>U instanceof mf).length;if(y>1||y>0&&N>0)throw new Fe(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)c=u._apply(c);return c}class mf extends gf{constructor(n,i,a){super(),this._field=n,this._op=i,this._value=a,this.type="where"}static _create(n,i,a){return new mf(n,i,a)}_apply(n){const i=this._parse(n);return Np(n._query,i),new ea(n.firestore,n.converter,mo(n._query,i))}_parse(n){const i=_h(n.firestore);return function(f,y,N,U,te,ge,Ve){let vt;if(te.isKeyField()){if("array-contains"===ge||"array-contains-any"===ge)throw new Fe(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ge}' queries on documentId().`);if("in"===ge||"not-in"===ge){Z0(Ve,ge);const Yt=[];for(const vn of Ve)Yt.push(J0(U,f,vn));vt={arrayValue:{values:Yt}}}else vt=J0(U,f,Ve)}else"in"!==ge&&"not-in"!==ge&&"array-contains-any"!==ge||Z0(Ve,ge),vt=Av(N,"where",Ve,"in"===ge||"not-in"===ge);return yn.create(te,ge,vt)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class Sd extends Sp{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new Sd(n,i)}_parse(n){const i=this._queryConstraints.map(a=>a._parse(n)).filter(a=>a.getFilters().length>0);return 1===i.length?i[0]:Wn.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,f){let y=u;const N=f.getFlattenedFilters();for(const U of N)Np(y,U),y=mo(y,U)}(n._query,i),new ea(n.firestore,n.converter,mo(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Rd extends gf{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new Rd(n,i)}_apply(n){const i=function(u,f,y){if(null!==u.startAt)throw new Fe(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Fe(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ut(f,y)}(n._query,this._field,this._direction);return new ea(n.firestore,n.converter,function(u,f){const y=u.explicitOrderBy.concat([f]);return new bo(u.path,u.collectionGroup,y,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class Rp extends gf{constructor(n,i,a){super(),this.type=n,this._limit=i,this._limitType=a}static _create(n,i,a){return new Rp(n,i,a)}_apply(n){return new ea(n.firestore,n.converter,za(n._query,this._limit,this._limitType))}}class Pp extends gf{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new Pp(n,i,a)}_apply(n){const i=xp(n,this.type,this._docOrFields,this._inclusive);return new ea(n.firestore,n.converter,(f=i,new bo((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Mp extends gf{constructor(n,i,a){super(),this.type=n,this._docOrFields=i,this._inclusive=a}static _create(n,i,a){return new Mp(n,i,a)}_apply(n){const i=xp(n,this.type,this._docOrFields,this._inclusive);return new ea(n.firestore,n.converter,(f=i,new bo((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function xp(c,n,i,a){if(i[0]=(0,dt.Ku)(i[0]),i[0]instanceof Ic)return function(f,y,N,U,te){if(!U)throw new Fe(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${N}().`);const ge=[];for(const Ve of Rr(f))if(Ve.field.isKeyField())ge.push(ao(y,U.key));else{const vt=U.data.field(Ve.field);if(G(vt))throw new Fe(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===vt){const Yt=Ve.field.canonicalString();throw new Fe(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Yt}' (used as the orderBy) does not exist.`)}ge.push(vt)}return new zr(ge,te)}(c._query,c.firestore._databaseId,n,i[0]._document,a);{const u=_h(c.firestore);return function(y,N,U,te,ge,Ve){const vt=y.explicitOrderBy;if(ge.length>vt.length)throw new Fe(ke.INVALID_ARGUMENT,`Too many arguments provided to ${te}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Yt=[];for(let vn=0;vn<ge.length;vn++){const $n=ge[vn];if(vt[vn].field.isKeyField()){if("string"!=typeof $n)throw new Fe(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${te}(), but got a ${typeof $n}`);if(!go(y)&&-1!==$n.indexOf("/"))throw new Fe(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${te}() must be a plain document ID, but '${$n}' contains a slash.`);const xn=y.path.child(er.fromString($n));if(!_n.isDocumentKey(xn))throw new Fe(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${te}() must result in a valid document path, but '${xn}' is not because it contains an odd number of segments.`);const ur=new _n(xn);Yt.push(ao(N,ur))}else{const xn=Av(U,te,$n);Yt.push(xn)}}return new zr(Yt,Ve)}(c._query,c.firestore._databaseId,u,n,i,a)}}function J0(c,n,i){if("string"==typeof(i=(0,dt.Ku)(i))){if(""===i)throw new Fe(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!go(n)&&-1!==i.indexOf("/"))throw new Fe(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=n.path.child(er.fromString(i));if(!_n.isDocumentKey(a))throw new Fe(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ao(c,new _n(a))}if(i instanceof Uo)return ao(c,i._key);throw new Fe(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ph(i)}.`)}function Z0(c,n){if(!Array.isArray(c)||0===c.length)throw new Fe(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Np(c,n){const i=function(u,f){for(const y of u)for(const N of y.getFlattenedFilters())if(f.indexOf(N.op)>=0)return N.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Fe(ke.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class Sv{convertValue(n,i="none"){switch(wn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return O(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(A(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw qt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const a={};return Mo(n,(u,f)=>{a[u]=this.convertValue(f,i)}),a}convertVectorValue(n){var i,a,u;const f=null===(u=null===(a=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===a?void 0:a.values)||void 0===u?void 0:u.map(y=>O(y.doubleValue));return new kl(f)}convertGeoPoint(n){return new mh(O(n.latitude),O(n.longitude))}convertArray(n,i){return(n.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(n,i){switch(i){case"previous":const a=se(n);return null==a?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(nt(n));default:return null}}convertTimestamp(n){const i=E(n);return new mr(i.seconds,i.nanos)}convertDocumentKey(n,i){const a=er.fromString(n);jt(cs(a));const u=new Et(a.get(1),a.get(3)),f=new _n(a.popFirst(5));return u.isEqual(i)||mn(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function Dm(c,n,i){let a;return a=c?i&&(i.merge||i.mergeFields)?c.toFirestore(n,i):c.toFirestore(n):n,a}class hb extends Sv{constructor(n){super(),this.firestore=n}convertBytes(n){return new yc(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Uo(this.firestore,null,i)}}class Lu{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Ec extends Ic{constructor(n,i,a,u,f,y){super(n,i,a,u,y),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new _f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const a=this._document.data.field(wp("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class _f extends Ec{data(n={}){return super.data(n)}}class Vu{constructor(n,i,a,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new Lu(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(a=>{n.call(i,new _f(this._firestore,this._userDataWriter,a.key,a,new Lu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let y=0;return u._snapshot.docChanges.map(N=>({type:"added",doc:new _f(u._firestore,u._userDataWriter,N.doc.key,N.doc,new Lu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:y++}))}{let y=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(N=>f||3!==N.type).map(N=>{const U=new _f(u._firestore,u._userDataWriter,N.doc.key,N.doc,new Lu(u._snapshot.mutatedKeys.has(N.doc.key),u._snapshot.fromCache),u.query.converter);let te=-1,ge=-1;return 0!==N.type&&(te=y.indexOf(N.doc.key),y=y.delete(N.doc.key)),1!==N.type&&(y=y.add(N.doc),ge=y.indexOf(N.doc.key)),{type:Rv(N.type),doc:U,oldIndex:te,newIndex:ge}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Rv(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function Pd(c,n){return c instanceof Ec&&n instanceof Ec?c._firestore===n._firestore&&c._key.isEqual(n._key)&&(null===c._document?null===n._document:c._document.isEqual(n._document))&&c._converter===n._converter:c instanceof Vu&&n instanceof Vu&&c._firestore===n._firestore&&gm(c.query,n.query)&&c.metadata.isEqual(n.metadata)&&c._snapshot.isEqual(n._snapshot)}class Ms extends Sv{constructor(n){super(),this.firestore=n}convertBytes(n){return new yc(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Uo(this.firestore,null,i)}}function Rm(c,n,i){c=Oi(c,Uo);const a=Oi(c.firestore,Ao),u=Dm(c.converter,n,i);return Eh(a,[vh(_h(a),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,ce.none())])}function Pm(c,n,i,...a){c=Oi(c,Uo);const u=Oi(c.firestore,Ao),f=_h(u);let y;return y="string"==typeof(n=(0,dt.Ku)(n))||n instanceof Kc?Am(f,"updateDoc",c._key,n,i,a):Cm(f,"updateDoc",c._key,n),Eh(u,[y.toMutation(c._key,ce.exists(!0))])}function Fp(c,...n){var i,a,u;c=(0,dt.Ku)(c);let f={includeMetadataChanges:!1,source:"default"},y=0;"object"!=typeof n[y]||vv(n[y])||(f=n[y],y++);const N={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(vv(n[y])){const Ve=n[y];n[y]=null===(i=Ve.next)||void 0===i?void 0:i.bind(Ve),n[y+1]=null===(a=Ve.error)||void 0===a?void 0:a.bind(Ve),n[y+2]=null===(u=Ve.complete)||void 0===u?void 0:u.bind(Ve)}let U,te,ge;if(c instanceof Uo)te=Oi(c.firestore,Ao),ge=gs(c._key.path),U={next:Ve=>{n[y]&&n[y](Uu(te,c,Ve))},error:n[y+1],complete:n[y+2]};else{const Ve=Oi(c,ea);te=Oi(Ve.firestore,Ao),ge=Ve._query;const vt=new Ms(te);U={next:Yt=>{n[y]&&n[y](new Vu(te,vt,Ve,Yt))},error:n[y+1],complete:n[y+2]},Dp(c._query)}return function(vt,Yt,vn,$n){const xn=new im($n),ur=new Gg(Yt,xn,vn);return vt.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return jg(yield fh(vt),ur)})),()=>{xn.Za(),vt.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return Hg(yield fh(vt),ur)}))}}(Go(te),ge,N,U)}function Eh(c,n){return function(a,u){const f=new kt;return a.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function sp(c,n,i){return Z_.apply(this,arguments)}(yield lf(a),u,f)})),f.promise}(Go(c),n)}function Uu(c,n,i){const a=i.docs.get(n._key),u=new Ms(c);return new Ec(c,u,n._key,a,new Lu(i.hasPendingWrites,i.fromCache),n.converter)}const aI={maxAttempts:5};class Ov{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=_h(n)}set(n,i,a){this._verifyNotCommitted();const u=bc(n,this._firestore),f=Dm(u.converter,i,a),y=vh(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,a);return this._mutations.push(y.toMutation(u._key,ce.none())),this}update(n,i,a,...u){this._verifyNotCommitted();const f=bc(n,this._firestore);let y;return y="string"==typeof(i=(0,dt.Ku)(i))||i instanceof Kc?Am(this._dataReader,"WriteBatch.update",f._key,i,a,u):Cm(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(y.toMutation(f._key,ce.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=bc(n,this._firestore);return this._mutations=this._mutations.concat(new Sn(i._key,ce.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bc(c,n){if((c=(0,dt.Ku)(c)).firestore!==n)throw new Fe(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class kv extends class{constructor(i,a){this._firestore=i,this._transaction=a,this._dataReader=_h(i)}get(i){const a=bc(i,this._firestore),u=new hb(this._firestore);return this._transaction.lookup([a._key]).then(f=>{if(!f||1!==f.length)return qt();const y=f[0];if(y.isFoundDocument())return new Ic(this._firestore,u,y.key,y,a.converter);if(y.isNoDocument())return new Ic(this._firestore,u,a._key,null,a.converter);throw qt()})}set(i,a,u){const f=bc(i,this._firestore),y=Dm(f.converter,a,u),N=vh(this._dataReader,"Transaction.set",f._key,y,null!==f.converter,u);return this._transaction.set(f._key,N),this}update(i,a,u,...f){const y=bc(i,this._firestore);let N;return N="string"==typeof(a=(0,dt.Ku)(a))||a instanceof Kc?Am(this._dataReader,"Transaction.update",y._key,a,u,f):Cm(this._dataReader,"Transaction.update",y._key,a),this._transaction.update(y._key,N),this}delete(i){const a=bc(i,this._firestore);return this._transaction.delete(a._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=bc(n,this._firestore),a=new Ms(this._firestore);return super.get(n).then(u=>new Ec(this._firestore,a,i._key,u._document,new Lu(!1,!1),i.converter))}}function Hp(c,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return n}function ci(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function Um(){if(!function xo(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){st=xe.SDK_VERSION,(0,xe._registerComponent)(new Me.uA("firestore",(a,{instanceIdentifier:u,options:f})=>{const y=a.getProvider("app").getImmediate(),N=new Ao(new Vn(a.getProvider("auth-internal")),new zn(a.getProvider("app-check-internal")),function(te,ge){if(!Object.prototype.hasOwnProperty.apply(te.options,["projectId"]))throw new Fe(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Et(te.options.projectId,ge)}(y,u),y);return f=Object.assign({useFetchStreams:i},f),N._setSettings(f),N},"PUBLIC").setMultipleInstances(!0)),(0,xe.registerVersion)(Ze,"4.7.3",n),(0,xe.registerVersion)(Ze,"4.7.3","esm2017")}();class Ch{constructor(n){this._delegate=n}static fromBase64String(n){return Um(),new Ch(yc.fromBase64String(n))}static fromUint8Array(n){return ci(),new Ch(yc.fromUint8Array(n))}toBase64(){return Um(),this._delegate.toBase64()}toUint8Array(){return ci(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function $u(c){return function jv(c,n){if("object"!=typeof c||null===c)return!1;const i=c;for(const a of n)if(a in i&&"function"==typeof i[a])return!0;return!1}(c,["next","error","complete"])}class Hv{enableIndexedDbPersistence(n,i){return function $0(c,n){kn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=c._freezeSettings();return Iv(c,uh.provider,{build:a=>new rm(a,i.cacheSizeBytes,null==n?void 0:n.forceOwnership)}),Promise.resolve()}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function B0(c){return _m.apply(this,arguments)}(n._delegate)}clearIndexedDbPersistence(n){return function Ou(c){if(c._initialized&&!c._terminated)throw new Fe(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new kt;return c._queue.enqueueAndForgetEvenWhileRestricted((0,Te.A)(function*(){try{yield(i=(0,Te.A)(function*(u){if(!Mn.D())return Promise.resolve();const f=u+"main";yield Mn.delete(f)}),function a(u){return i.apply(this,arguments)})(fu(c._databaseId,c._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class Gv{constructor(n,i,a){this._delegate=i,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Et||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&kn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,a={}){!function fm(c,n,i,a={}){var u;const f=(c=Oi(c,Nu))._getSettings(),y=`${n}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==y&&kn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},f),{host:y,ssl:!1})),a.mockUserToken){let N,U;if("string"==typeof a.mockUserToken)N=a.mockUserToken,U=je.MOCK_USER;else{N=(0,dt.Fy)(a.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const te=a.mockUserToken.sub||a.mockUserToken.user_id;if(!te)throw new Fe(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");U=new je(te)}c._authCredentials=new nr(new xt(N,U))}}(this._delegate,n,i,a)}enableNetwork(){return function j0(c){return function O0(c){return c.asyncQueue.enqueue((0,Te.A)(function*(){const n=yield Ad(c),i=yield N0(c);return n.setNetworkEnabled(!0),function(u){const f=rn(u);return f.L_.delete(0),jc(f)}(i)}))}(Go(c=Oi(c,Ao)))}(this._delegate)}disableNetwork(){return function ab(c){return function k0(c){return c.asyncQueue.enqueue((0,Te.A)(function*(){const n=yield Ad(c),i=yield N0(c);return n.setNetworkEnabled(!1),(a=(0,Te.A)(function*(f){const y=rn(f);y.L_.add(0),yield Iu(y),y.q_.set("Offline")}),function u(f){return a.apply(this,arguments)})(i);var a}))}(Go(c=Oi(c,Ao)))}(this._delegate)}enablePersistence(n){let i=!1,a=!1;return n&&(i=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,um("synchronizeTabs",i,"experimentalForceOwningTab",a)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ff(c){return function(i){const a=new kt;return i.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return function S0(c,n){return up.apply(this,arguments)}(yield lf(i),a)})),a.promise}(Go(c=Oi(c,Ao)))}(this._delegate)}onSnapshotsInSync(n){return function Mm(c,n){return function pv(c,n){const i=new im(n);return c.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return u=yield fh(c),f=i,rn(u).Y_.add(f),void f.next();var u,f})),()=>{i.Za(),c.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return u=yield fh(c),f=i,void rn(u).Y_.delete(f);var u,f}))}}(Go(c=Oi(c,Ao)),vv(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Th(this,pm(this._delegate,n))}catch(i){throw pa(i,"collection()","Firestore.collection()")}}doc(n){try{return new rl(this,gh(this._delegate,n))}catch(i){throw pa(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ga(this,function Ip(c,n){if(c=Oi(c,Nu),hf("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Fe(ke.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ea(c,null,(a=n,new bo(er.emptyPath(),a)));var a}(this._delegate,n))}catch(i){throw pa(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function Md(c,n,i){c=Oi(c,Ao);const a=Object.assign(Object.assign({},aI),i);return function(f){if(f.maxAttempts<1)throw new Fe(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(f,y,N){const U=new kt;return f.asyncQueue.enqueueAndForget((0,Te.A)(function*(){const te=yield function hh(c){return dh(c).then(n=>n.datastore)}(f);new om(f.asyncQueue,te,N,y,U).au()})),U.promise}(Go(c),u=>n(new kv(c,u)),a)}(this._delegate,i=>n(new Gp(this,i)))}batch(){return Go(this._delegate),new Ah(new Ov(this._delegate,n=>Eh(this._delegate,n)))}loadBundle(n){return function lb(c,n){const i=Go(c=Oi(c,Ao)),a=new Ep;return function cm(c,n,i,a){const u=function(y,N){let U;return U="string"==typeof y?Us().encode(y):y,ge=function(ge){if(ge instanceof Uint8Array)return M0(ge,void 0);if(ge instanceof ArrayBuffer)return M0(new Uint8Array(ge),void 0);if(ge instanceof ReadableStream)return ge.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(U),new vp(ge,N);var ge}(i,Ql(n));c.asyncQueue.enqueueAndForget((0,Te.A)(function*(){!function _p(c,n,i){const a=rn(c);var u;(u=(0,Te.A)(function*(y,N,U){try{const te=yield N.getMetadata();if(yield function(vn,$n){const xn=rn(vn),ur=Yi($n.createTime);return xn.persistence.runTransaction("hasNewerBundle","readonly",wr=>xn.Gr.getBundleMetadata(wr,$n.id)).then(wr=>!!wr&&wr.createTime.compareTo(ur)>=0)}(y.localStore,te))return yield N.close(),U._completeWith({taskState:"Success",documentsLoaded:(vn=te).totalDocuments,bytesLoaded:vn.totalBytes,totalDocuments:vn.totalDocuments,totalBytes:vn.totalBytes}),Promise.resolve(new Set);U._updateProgress(q_(te));const ge=new X_(te,y.localStore,N.serializer);let Ve=yield N.Ua();for(;Ve;){const Yt=yield ge.la(Ve);Yt&&U._updateProgress(Yt),Ve=yield N.Ua()}const vt=yield ge.complete();return yield Nl(y,vt.Ia,void 0),yield function(vn,$n){const xn=rn(vn);return xn.persistence.runTransaction("Save bundle","readwrite",ur=>xn.Gr.saveBundleMetadata(ur,$n))}(y.localStore,te),U._completeWith(vt.progress),Promise.resolve(vt.Pa)}catch(te){return kn("SyncEngine",`Loading bundle failed with ${te}`),U._failWith(te),Promise.resolve(new Set)}var vn}),function f(y,N,U){return u.apply(this,arguments)})(a,n,i).then(u=>{a.sharedClientState.notifyBundleLoaded(u)})}(yield lf(c),u,a)}))}(i,c._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function cb(c,n){return function L0(c,n){return c.asyncQueue.enqueue((0,Te.A)(function*(){return function(a,u){const f=rn(a);return f.persistence.runTransaction("Get named query","readonly",y=>f.Gr.getNamedQuery(y,u))}(yield Wc(c),n)}))}(Go(c=Oi(c,Ao)),n).then(i=>i?new ea(c,null,i.query):null)}(this._delegate,n).then(i=>i?new Ga(this,i):null)}}class xd extends Sv{constructor(n){super(),this.firestore=n}convertBytes(n){return new Ch(new yc(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return rl.forKey(i,this.firestore,null)}}class Gp{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new xd(n)}get(n){const i=kd(n);return this._delegate.get(i).then(a=>new Od(this._firestore,new Ec(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,i.converter)))}set(n,i,a){const u=kd(n);return a?(Hp("Transaction.set",a),this._delegate.set(u,i,a)):this._delegate.set(u,i),this}update(n,i,a,...u){const f=kd(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,a,...u),this}delete(n){const i=kd(n);return this._delegate.delete(i),this}}class Ah{constructor(n){this._delegate=n}set(n,i,a){const u=kd(n);return a?(Hp("WriteBatch.set",a),this._delegate.set(u,i,a)):this._delegate.set(u,i),this}update(n,i,a,...u){const f=kd(n);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,a,...u),this}delete(n){const i=kd(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Bu{constructor(n,i,a){this._firestore=n,this._userDataWriter=i,this._delegate=a}fromFirestore(n,i){const a=new _f(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new yf(this._firestore,a),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const a=Bu.INSTANCES;let u=a.get(n);u||(u=new WeakMap,a.set(n,u));let f=u.get(i);return f||(f=new Bu(n,new xd(n),i),u.set(i,f)),f}}Bu.INSTANCES=new WeakMap;class rl{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new xd(n)}static forPath(n,i,a){if(n.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new rl(i,new Uo(i._delegate,a,new _n(n)))}static forKey(n,i,a){return new rl(i,new Uo(i._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Th(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Th(this.firestore,pm(this._delegate,n))}catch(i){throw pa(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,dt.Ku)(n))instanceof Uo&&Td(this._delegate,n)}set(n,i){i=Hp("DocumentReference.set",i);try{return i?Rm(this._delegate,n,i):Rm(this._delegate,n)}catch(a){throw pa(a,"setDoc()","DocumentReference.set()")}}update(n,i,...a){try{return 1===arguments.length?Pm(this._delegate,n):Pm(this._delegate,n,i,...a)}catch(u){throw pa(u,"updateDoc()","DocumentReference.update()")}}delete(){return function _b(c){return Eh(Oi(c.firestore,Ao),[new Sn(c._key,ce.none())])}(this._delegate)}onSnapshot(...n){const i=zp(n),a=$m(n,u=>new Od(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Fp(this._delegate,i,a)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function Pv(c){c=Oi(c,Uo);const n=Oi(c.firestore,Ao),i=Go(n),a=new Ms(n);return function am(c,n){const i=new kt;return c.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return(a=(0,Te.A)(function*(f,y,N){try{const U=yield function(ge,Ve){const vt=rn(ge);return vt.persistence.runTransaction("read document","readonly",Yt=>vt.localDocuments.getDocument(Yt,Ve))}(f,y);U.isFoundDocument()?N.resolve(U):U.isNoDocument()?N.resolve(null):N.reject(new Fe(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(U){const te=wu(U,`Failed to get document '${y} from cache`);N.reject(te)}}),function u(f,y,N){return a.apply(this,arguments)})(yield Wc(c),n,i);var a})),i.promise}(i,c._key).then(u=>new Ec(n,a,c._key,u,new Lu(null!==u&&u.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function pb(c){c=Oi(c,Uo);const n=Oi(c.firestore,Ao);return lm(Go(n),c._key,{source:"server"}).then(i=>Uu(n,c,i))}(this._delegate):function Il(c){c=Oi(c,Uo);const n=Oi(c.firestore,Ao);return lm(Go(n),c._key).then(i=>Uu(n,c,i))}(this._delegate),i.then(a=>new Od(this.firestore,new Ec(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new rl(this.firestore,this._delegate.withConverter(n?Bu.getInstance(this.firestore,n):null))}}function pa(c,n,i){return c.message=c.message.replace(n,i),c}function zp(c){for(const n of c)if("object"==typeof n&&!$u(n))return n;return{}}function $m(c,n){var i,a;let u;return u=$u(c[0])?c[0]:$u(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:f=>{u.next&&u.next(n(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(a=u.complete)||void 0===a?void 0:a.bind(u)}}class Od{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new rl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return Pd(this._delegate,n._delegate)}}class yf extends Od{data(n){const i=this._delegate.data(n);return this._delegate._converter||function On(c){c||qt()}(void 0!==i),i}}class Ga{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new xd(n)}where(n,i,a){try{return new Ga(this.firestore,Fu(this._delegate,function z0(c,n,i){const a=n,u=wp("where",c);return mf._create(u,a,i)}(n,i,a)))}catch(u){throw pa(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new Ga(this.firestore,Fu(this._delegate,function W0(c,n="asc"){const i=n,a=wp("orderBy",c);return Rd._create(a,i)}(n,i)))}catch(a){throw pa(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ga(this.firestore,Fu(this._delegate,function K0(c){return xu("limit",c),Rp._create("limit",c,"F")}(n)))}catch(i){throw pa(i,"limit()","Query.limit()")}}limitToLast(n){try{return new Ga(this.firestore,Fu(this._delegate,function Dv(c){return xu("limitToLast",c),Rp._create("limitToLast",c,"L")}(n)))}catch(i){throw pa(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ga(this.firestore,Fu(this._delegate,function X0(...c){return Pp._create("startAt",c,!0)}(...n)))}catch(i){throw pa(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ga(this.firestore,Fu(this._delegate,function q0(...c){return Pp._create("startAfter",c,!1)}(...n)))}catch(i){throw pa(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ga(this.firestore,Fu(this._delegate,function Q0(...c){return Mp._create("endBefore",c,!1)}(...n)))}catch(i){throw pa(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ga(this.firestore,Fu(this._delegate,function Y0(...c){return Mp._create("endAt",c,!0)}(...n)))}catch(i){throw pa(i,"endAt()","Query.endAt()")}}isEqual(n){return gm(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function gb(c){c=Oi(c,ea);const n=Oi(c.firestore,Ao),i=Go(n),a=new Ms(n);return function F0(c,n){const i=new kt;return c.asyncQueue.enqueueAndForget((0,Te.A)(function*(){return(a=(0,Te.A)(function*(f,y,N){try{const U=yield St(f,y,!0),te=new Q_(y,U.Ts),ge=te.ma(U.documents),Ve=te.applyChanges(ge,!1);N.resolve(Ve.snapshot)}catch(U){const te=wu(U,`Failed to execute query '${y} against cache`);N.reject(te)}}),function u(f,y,N){return a.apply(this,arguments)})(yield Wc(c),n,i);var a})),i.promise}(i,c._query).then(u=>new Vu(n,a,c,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function mb(c){c=Oi(c,ea);const n=Oi(c.firestore,Ao),i=Go(n),a=new Ms(n);return fv(i,c._query,{source:"server"}).then(u=>new Vu(n,a,c,u))}(this._delegate):function nI(c){c=Oi(c,ea);const n=Oi(c.firestore,Ao),i=Go(n),a=new Ms(n);return Dp(c._query),fv(i,c._query).then(u=>new Vu(n,a,c,u))}(this._delegate),i.then(a=>new Wp(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const i=zp(n),a=$m(n,u=>new Wp(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Fp(this._delegate,i,a)}withConverter(n){return new Ga(this.firestore,this._delegate.withConverter(n?Bu.getInstance(this.firestore,n):null))}}class pI{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new yf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Wp{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new Ga(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new yf(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new pI(this._firestore,i))}forEach(n,i){this._delegate.forEach(a=>{n.call(i,new yf(this._firestore,a))})}isEqual(n){return Pd(this._delegate,n._delegate)}}class Th extends Ga{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new rl(this.firestore,n):null}doc(n){try{return new rl(this.firestore,void 0===n?gh(this._delegate):gh(this._delegate,n))}catch(i){throw pa(i,"doc()","CollectionReference.doc()")}}add(n){return function kp(c,n){const i=Oi(c.firestore,Ao),a=gh(c),u=Dm(c.converter,n);return Eh(i,[vh(_h(c.firestore),"addDoc",a._key,u,null!==c.converter,{}).toMutation(a._key,ce.exists(!1))]).then(()=>a)}(this._delegate,n).then(i=>new rl(this.firestore,i))}isEqual(n){return Td(this._delegate,n._delegate)}withConverter(n){return new Th(this.firestore,this._delegate.withConverter(n?Bu.getInstance(this.firestore,n):null))}}function kd(c){return Oi(c,Uo)}class Bm{constructor(...n){this._delegate=new Kc(...n)}static documentId(){return new Bm(_r.keyField().canonicalString())}isEqual(n){return(n=(0,dt.Ku)(n))instanceof Kc&&this._delegate._internalPath.isEqual(n._internalPath)}}class Fd{constructor(n){this._delegate=n}static serverTimestamp(){const n=function Lv(){return new Cv("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Fd(n)}static delete(){const n=function Fv(){return new Dd("deleteField")}();return n._methodName="FieldValue.delete",new Fd(n)}static arrayUnion(...n){const i=function Om(...c){return new Cp("arrayUnion",c)}(...n);return i._methodName="FieldValue.arrayUnion",new Fd(i)}static arrayRemove(...n){const i=function lI(...c){return new Em("arrayRemove",c)}(...n);return i._methodName="FieldValue.arrayRemove",new Fd(i)}static increment(n){const i=function Vv(c){return new bm("increment",c)}(n);return i._methodName="FieldValue.increment",new Fd(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const zv={Firestore:Gv,GeoPoint:mh,Timestamp:mr,Blob:Ch,Transaction:Gp,WriteBatch:Ah,DocumentReference:rl,DocumentSnapshot:Od,Query:Ga,QueryDocumentSnapshot:yf,QuerySnapshot:Wp,CollectionReference:Th,FieldPath:Bm,FieldValue:Fd,setLogLevel:function Nd(c){!function Nn(c){_t.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};!function gI(c){(function Wv(c,n){c.INTERNAL.registerComponent(new Me.uA("firestore-compat",i=>{const a=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(a,u)},"PUBLIC").setServiceProps(Object.assign({},zv)))})(c,(n,i)=>new Gv(n,i,new Hv)),c.registerVersion("@firebase/firestore-compat","0.3.38")}(At.A);var mI=V(7935);function Kv(c,n){return function il(c,n=Se.E){return new Be.c(i=>{let a;return null!=n?n.schedule(()=>{a=c.onSnapshot({includeMetadataChanges:!0},i)}):a=c.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=a&&a()}})}(c,n)}function Xv(c,n){return Kv(c,n).pipe((0,ct.T)(i=>({payload:i,type:"query"})))}class Kp{constructor(n,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const a=this.ref.collection(n),{ref:u,query:f}=ty(a,i);return new Jv(u,f,this.afs)}snapshotChanges(){return function _I(c,n){return Kv(c,n).pipe((0,_e.Z)(void 0),Ke(),(0,ct.T)(i=>{const[a,u]=i;return u.exists?null!=a&&a.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ve.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,ct.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,ot.H)(this.ref.get(n)).pipe(ve.U0)}}function If(c,n){return Xv(c,n).pipe((0,_e.Z)(void 0),Ke(),(0,ct.T)(i=>{const[a,u]=i,f=u.payload.docChanges(),y=f.map(N=>({type:N.type,payload:N}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((N,U)=>{const te=f.find(Ve=>Ve.doc.ref.isEqual(N.ref)),ge=null==a?void 0:a.payload.docs.find(Ve=>Ve.ref.isEqual(N.ref));te&&JSON.stringify(te.doc.metadata)===JSON.stringify(N.metadata)||!te&&ge&&JSON.stringify(ge.metadata)===JSON.stringify(N.metadata)||y.push({type:"modified",payload:{oldIndex:U,newIndex:U,type:"modified",doc:N}})}),y}))}function qv(c,n,i){return If(c,i).pipe((0,yt.S)((a,u)=>function vI(c,n,i){return n.forEach(a=>{i.indexOf(a.type)>-1&&(c=function Qv(c,n){switch(n.type){case"added":if(!c[n.newIndex]||!c[n.newIndex].doc.ref.isEqual(n.doc.ref))return jm(c,n.newIndex,0,n);break;case"modified":if(null==c[n.oldIndex]||c[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=c.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return jm(c,n.newIndex,1,n)}break;case"removed":if(c[n.oldIndex]&&c[n.oldIndex].doc.ref.isEqual(n.doc.ref))return jm(c,n.oldIndex,1)}return c}(c,a))}),c}(a,u.map(f=>f.payload),n),[]),(0,mt.F)(),(0,ct.T)(a=>a.map(u=>({type:u.type,payload:u}))))}function jm(c,n,i,...a){const u=c.slice();return u.splice(n,i,...a),u}function Yv(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class Jv{constructor(n,i,a){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=a}stateChanges(n){let i=If(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,ct.T)(a=>a.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,_e.Z)(void 0),Ke(),(0,ut.p)(([a,u])=>u.length>0||!a),(0,ct.T)(([,a])=>a),ve.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,yt.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=Yv(n);return qv(this.query,i,this.afs.schedulers.outsideAngular).pipe(ve.U0)}valueChanges(n={}){return Xv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(i=>i.payload.docs.map(a=>n.idField?{...a.data(),[n.idField]:a.id}:a.data())),ve.U0)}get(n){return(0,ot.H)(this.query.get(n)).pipe(ve.U0)}add(n){return this.ref.add(n)}doc(n){return new Kp(this.ref.doc(n),this.afs)}}class Hm{constructor(n,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?If(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(i=>i.filter(a=>n.indexOf(a.type)>-1)),(0,ut.p)(i=>i.length>0),ve.U0):If(this.query,this.afs.schedulers.outsideAngular).pipe(ve.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,yt.S)((i,a)=>[...i,...a],[]))}snapshotChanges(n){const i=Yv(n);return qv(this.query,i,this.afs.schedulers.outsideAngular).pipe(ve.U0)}valueChanges(n={}){return Xv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.T)(a=>a.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),ve.U0)}get(n){return(0,ot.H)(this.query.get(n)).pipe(ve.U0)}}const Zv=new B.nKC("angularfire2.enableFirestorePersistence"),ey=new B.nKC("angularfire2.firestore.persistenceSettings"),yI=new B.nKC("angularfire2.firestore.settings"),II=new B.nKC("angularfire2.firestore.use-emulator");function ty(c,n=i=>i){return{query:n(c),ref:c}}let Jl=(()=>{var c;class n{constructor(a,u,f,y,N,U,te,ge,Ve,vt,Yt,vn,$n,xn,ur,wr,pr){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=te;const kr=(0,W.iB)(a,U,u),Li=Ve;vt&&(0,Ee.gF)(kr,U,Yt,$n,xn,ur,vn,wr),[this.firestore,this.persistenceEnabled$]=(0,W.BM)(`${kr.name}.firestore`,"AngularFirestore",kr.name,()=>{const qr=U.runOutsideAngular(()=>kr.firestore());if(y&&qr.settings(y),Li&&qr.useEmulator(...Li),f&&!(0,o.Vy)(N)){const Vt=()=>{try{return(0,ot.H)(qr.enablePersistence(ge||void 0).then(()=>!0,()=>!1))}catch(pt){return typeof console<"u"&&console.warn(pt),(0,Re.of)(!1)}};return[qr,U.runOutsideAngular(Vt)]}return[qr,(0,Re.of)(!1)]},[y,Li,f])}collection(a,u){let f;f="string"==typeof a?this.firestore.collection(a):a;const{ref:y,query:N}=ty(f,u),U=this.schedulers.ngZone.run(()=>y);return new Jv(U,N,this)}collectionGroup(a,u){const f=u||(N=>N),y=this.firestore.collectionGroup(a);return new Hm(f(y),this)}doc(a){let u;u="string"==typeof a?this.firestore.doc(a):a;const f=this.schedulers.ngZone.run(()=>u);return new Kp(f,this)}createId(){return this.firestore.collection("_").doc().id}}return c=n,(0,d.A)(n,"\u0275fac",function(a){return new(a||c)(B.KVO(W.rx),B.KVO(W.uP,8),B.KVO(Zv,8),B.KVO(yI,8),B.KVO(B.Agw),B.KVO(B.SKi),B.KVO(ve.u0),B.KVO(ey,8),B.KVO(II,8),B.KVO(Ee.DS,8),B.KVO(Ee.CP,8),B.KVO(Ee.yy,8),B.KVO(Ee.ZP,8),B.KVO(Ee.$z,8),B.KVO(Ee.AU,8),B.KVO(Ee.UB,8),B.KVO(ve.Jv,8))}),(0,d.A)(n,"\u0275prov",B.jDH({token:c,factory:c.\u0275fac,providedIn:"any"})),n})(),Gm=(()=>{var c;class n{constructor(){mI.A.registerVersion("angularfire",ve.xv.full,"fst-compat")}static enablePersistence(a){return{ngModule:n,providers:[{provide:Zv,useValue:!0},{provide:ey,useValue:a}]}}}return c=n,(0,d.A)(n,"\u0275fac",function(a){return new(a||c)}),(0,d.A)(n,"\u0275mod",B.$C({type:c})),(0,d.A)(n,"\u0275inj",B.G2t({providers:[Jl]})),n})()},9253:(Pn,Dt,V)=>{"use strict";V.d(Dt,{BM:()=>ct,Gt:()=>Ee,bf:()=>Ke,e7:()=>Se,iB:()=>_e,rx:()=>ot,uP:()=>Re});var d=V(9842),o=V(4438),B=V(5407),ve=V(7935);const W=["ngOnDestroy"],Ee=(Mt,At,Te,xe={})=>new Proxy(Mt,{get:(Me,it)=>Te.runOutsideAngular(()=>{var dt;if(Mt[it])return null!=xe&&null!==(dt=xe.spy)&&void 0!==dt&&dt.get&&xe.spy.get(it,Mt[it]),Mt[it];if(W.indexOf(it)>-1)return()=>{};const rt=At.toPromise().then(he=>{const ht=null==he?void 0:he[it];return"function"==typeof ht?ht.bind(he):null!=ht&&ht.then?ht.then(ft=>Te.run(()=>ft)):Te.run(()=>ht)});return new Proxy(()=>{},{get:(he,ht)=>rt[ht],apply:(he,ht,ft)=>rt.then(Je=>{var Nt;const Ot=null==Je?void 0:Je(...ft);return null!=xe&&null!==(Nt=xe.spy)&&void 0!==Nt&&Nt.apply&&xe.spy.apply(it,ft,Ot),Ot})})})}),Se=(Mt,At)=>{At.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(xe=>{Object.defineProperty(Mt.prototype,xe,Object.getOwnPropertyDescriptor(Te.prototype||Te,xe))})})};class Be{constructor(At){return At}}const ot=new o.nKC("angularfire2.app.options"),Re=new o.nKC("angularfire2.app.name");function _e(Mt,At,Te){const Me="object"==typeof Te&&Te||{};Me.name=Me.name||"string"==typeof Te&&Te||"[DEFAULT]";const dt=ve.A.apps.filter(rt=>rt&&rt.name===Me.name)[0]||At.runOutsideAngular(()=>ve.A.initializeApp(Mt,Me));try{if(JSON.stringify(Mt)!==JSON.stringify(dt.options)){const rt=!!module.hot;et("error",`${dt.name} Firebase App already initialized with different options${rt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Be(dt)}const et=(Mt,...At)=>{(0,o.naY)()&&typeof console<"u"&&console[Mt](...At)},Qe={provide:Be,useFactory:_e,deps:[ot,o.SKi,[new o.Xx1,Re]]};let Ke=(()=>{var Mt;class At{static initializeApp(xe,Me){return{ngModule:At,providers:[{provide:ot,useValue:xe},{provide:Re,useValue:Me}]}}constructor(xe){ve.A.registerVersion("angularfire",B.xv.full,"core"),ve.A.registerVersion("angularfire",B.xv.full,"app-compat"),ve.A.registerVersion("angular",o.xvI.full,xe.toString())}}return Mt=At,(0,d.A)(At,"\u0275fac",function(xe){return new(xe||Mt)(o.KVO(o.Agw))}),(0,d.A)(At,"\u0275mod",o.$C({type:Mt})),(0,d.A)(At,"\u0275inj",o.G2t({providers:[Qe]})),At})();function ct(Mt,At,Te,xe,Me){const[,it,dt]=globalThis.\u0275AngularfireInstanceCache.find(rt=>rt[0]===Mt)||[];if(it)return function yt(Mt,At){try{return Mt.toString()===At.toString()}catch{return Mt===At}}(Me,dt)||(ut("error",`${At} was already initialized on the ${Te} Firebase App with different settings.${mt?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Me,was:dt})),it;{const rt=xe();return globalThis.\u0275AngularfireInstanceCache.push([Mt,rt,Me]),rt}}const mt=typeof module<"u"&&!!module.hot,ut=(Mt,...At)=>{(0,o.naY)()&&typeof console<"u"&&console[Mt](...At)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5407:(Pn,Dt,V)=>{"use strict";V.d(Dt,{xv:()=>ct,U0:()=>Je,Oe:()=>ht,u0:()=>it,Jv:()=>Mt,CA:()=>ut,lR:()=>mt,S3:()=>un});var d=V(9842),o=V(4438),B=V(2214),ve=V(6780),Ee=V(9687);const Be=new class Se extends Ee.q{}(class W extends ve.R{constructor(we,me){super(we,me),this.scheduler=we,this.work=me}schedule(we,me=0){return me>0?super.schedule(we,me):(this.delay=me,this.state=we,this.scheduler.flush(this),this)}execute(we,me){return me>0||this.closed?super.execute(we,me):this._execute(we,me)}requestAsyncId(we,me,De=0){return null!=De&&De>0||null==De&&this.delay>0?super.requestAsyncId(we,me,De):(we.flush(this),0)}});var Re=V(3236),_e=V(1985),et=V(8141),Qe=V(941),Ke=V(6745);const ct=new o.RxE("ANGULARFIRE2_VERSION");function mt(Ge,we,me){if(we){if(1===we.length)return we[0];const Ne=we.filter(ze=>ze.app===me);if(1===Ne.length)return Ne[0]}return me.container.getProvider(Ge).getImmediate({optional:!0})}const ut=(Ge,we)=>{const me=we?[we]:(0,B.Dk)(),De=[];return me.forEach(oe=>{oe.container.getProvider(Ge).instances.forEach(ze=>{De.includes(ze)||De.push(ze)})}),De};class Mt{constructor(){return ut(At)}}const At="app-check";function Te(){}class xe{constructor(we,me=Be){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=we,this.delegate=me}now(){return this.delegate.now()}schedule(we,me,De){const oe=this.zone;return this.delegate.schedule(function(ze){oe.runGuarded(()=>{we.apply(this,[ze])})},me,De)}}class Me{constructor(we){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=we}call(we,me){const De=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Te,{},Te,Te)),me.pipe((0,et.M)({next:De,complete:De,error:De})).subscribe(we).add(De)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let it=(()=>{var Ge;class we{constructor(De){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=De,this.outsideAngular=De.runOutsideAngular(()=>new xe(Zone.current)),this.insideAngular=De.run(()=>new xe(Zone.current,Re.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ge=we,(0,d.A)(we,"\u0275fac",function(De){return new(De||Ge)(o.KVO(o.SKi))}),(0,d.A)(we,"\u0275prov",o.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})),we})();function dt(){const Ge=globalThis.\u0275AngularFireScheduler;if(!Ge)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ge}function he(Ge){return dt().ngZone.run(()=>Ge())}function ht(Ge){return Ge.pipe((0,Qe.Q)(dt().outsideAngular))}function Je(Ge){return function Nt(Ge){return function(me){return(me=me.lift(new Me(Ge.ngZone))).pipe((0,Ke._)(Ge.outsideAngular),(0,Qe.Q)(Ge.insideAngular))}}(dt())(Ge)}const Ot=(Ge,we)=>function(){const De=arguments;return we&&setTimeout(()=>{"scheduled"===we.state&&we.invoke()},10),he(()=>Ge.apply(void 0,De))},un=(Ge,we)=>function(){let me;const De=arguments;for(let Ne=0;Ne<arguments.length;Ne++)"function"==typeof De[Ne]&&(we&&(me||(me=he(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Te,{},Te,Te)))),De[Ne]=Ot(De[Ne],me));const oe=function rt(Ge){return dt().ngZone.runOutsideAngular(()=>Ge())}(()=>Ge.apply(this,De));if(!we){if(oe instanceof _e.c){const Ne=dt();return oe.pipe((0,Ke._)(Ne.outsideAngular),(0,Qe.Q)(Ne.insideAngular))}return he(()=>oe)}return oe instanceof _e.c?oe.pipe(Je):oe instanceof Promise?he(()=>new Promise((Ne,ze)=>oe.then(Ze=>he(()=>Ne(Ze)),Ze=>he(()=>ze(Ze))))):"function"==typeof oe&&me?function(){return setTimeout(()=>{me&&"scheduled"===me.state&&me.invoke()},10),oe.apply(this,arguments)}:he(()=>oe)}},4341:(Pn,Dt,V)=>{"use strict";V.d(Dt,{v8:()=>wn,ok:()=>As,JD:()=>ir,j4:()=>tn,$R:()=>Ht,YN:()=>Yo,zX:()=>is,VZ:()=>ta,cz:()=>dt,kq:()=>yt,vO:()=>kt,BC:()=>Vn,cb:()=>Tn,vS:()=>yr,X1:()=>Ia,YS:()=>Cs,k0:()=>ht,qT:()=>Qo});var d=V(4438),o=V(177),B=V(8455),ve=V(1985),W=V(3073),Ee=V(8750),Se=V(3794),Be=V(4360),ot=V(6450),Re=V(8496),et=V(1413),Qe=V(6354);let Ke=(()=>{var Z;class L{constructor(K,ye){this._renderer=K,this._elementRef=ye,this.onChange=fn=>{},this.onTouched=()=>{}}setProperty(K,ye){this._renderer.setProperty(this._elementRef.nativeElement,K,ye)}registerOnTouched(K){this.onTouched=K}registerOnChange(K){this.onChange=K}setDisabledState(K){this.setProperty("disabled",K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(d.sFG),d.rXU(d.aKT))},Z.\u0275dir=d.FsC({type:Z}),L})(),ct=(()=>{var Z;class L extends Ke{}return(Z=L).\u0275fac=(()=>{let ae;return function(ye){return(ae||(ae=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,features:[d.Vt3]}),L})();const yt=new d.nKC(""),Mt={provide:yt,useExisting:(0,d.Rfq)(()=>xe),multi:!0},Te=new d.nKC("");let xe=(()=>{var Z;class L extends Ke{constructor(K,ye,fn){super(K,ye),this._compositionMode=fn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function At(){const Z=(0,o.QT)()?(0,o.QT)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(K){this.setProperty("value",null==K?"":K)}_handleInput(K){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(K)}_compositionStart(){this._composing=!0}_compositionEnd(K){this._composing=!1,this._compositionMode&&this.onChange(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(Te,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(K,ye){1&K&&d.bIt("input",function(or){return ye._handleInput(or.target.value)})("blur",function(){return ye.onTouched()})("compositionstart",function(){return ye._compositionStart()})("compositionend",function(or){return ye._compositionEnd(or.target.value)})},features:[d.Jv_([Mt]),d.Vt3]}),L})();function Me(Z){return null==Z||("string"==typeof Z||Array.isArray(Z))&&0===Z.length}function it(Z){return null!=Z&&"number"==typeof Z.length}const dt=new d.nKC(""),rt=new d.nKC(""),he=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ht{static min(L){return ft(L)}static max(L){return Je(L)}static required(L){return Nt(L)}static requiredTrue(L){return function Ot(Z){return!0===Z.value?null:{required:!0}}(L)}static email(L){return function un(Z){return Me(Z.value)||he.test(Z.value)?null:{email:!0}}(L)}static minLength(L){return function Ge(Z){return L=>Me(L.value)||!it(L.value)?null:L.value.length<Z?{minlength:{requiredLength:Z,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function we(Z){return L=>it(L.value)&&L.value.length>Z?{maxlength:{requiredLength:Z,actualLength:L.value.length}}:null}(L)}static pattern(L){return function me(Z){if(!Z)return De;let L,ae;return"string"==typeof Z?(ae="","^"!==Z.charAt(0)&&(ae+="^"),ae+=Z,"$"!==Z.charAt(Z.length-1)&&(ae+="$"),L=new RegExp(ae)):(ae=Z.toString(),L=Z),K=>{if(Me(K.value))return null;const ye=K.value;return L.test(ye)?null:{pattern:{requiredPattern:ae,actualValue:ye}}}}(L)}static nullValidator(L){return null}static compose(L){return _t(L)}static composeAsync(L){return Nn(L)}}function ft(Z){return L=>{if(Me(L.value)||Me(Z))return null;const ae=parseFloat(L.value);return!isNaN(ae)&&ae<Z?{min:{min:Z,actual:L.value}}:null}}function Je(Z){return L=>{if(Me(L.value)||Me(Z))return null;const ae=parseFloat(L.value);return!isNaN(ae)&&ae>Z?{max:{max:Z,actual:L.value}}:null}}function Nt(Z){return Me(Z.value)?{required:!0}:null}function De(Z){return null}function oe(Z){return null!=Z}function Ne(Z){return(0,d.jNT)(Z)?(0,B.H)(Z):Z}function ze(Z){let L={};return Z.forEach(ae=>{L=null!=ae?{...L,...ae}:L}),0===Object.keys(L).length?null:L}function Ze(Z,L){return L.map(ae=>ae(Z))}function st(Z){return Z.map(L=>function je(Z){return!Z.validate}(L)?L:ae=>L.validate(ae))}function _t(Z){if(!Z)return null;const L=Z.filter(oe);return 0==L.length?null:function(ae){return ze(Ze(ae,L))}}function Ft(Z){return null!=Z?_t(st(Z)):null}function Nn(Z){if(!Z)return null;const L=Z.filter(oe);return 0==L.length?null:function(ae){return function _e(...Z){const L=(0,Se.ms)(Z),{args:ae,keys:K}=(0,W.D)(Z),ye=new ve.c(fn=>{const{length:or}=ae;if(!or)return void fn.complete();const Pi=new Array(or);let ki=or,no=or;for(let bo=0;bo<or;bo++){let na=!1;(0,Ee.Tg)(ae[bo]).subscribe((0,Be._)(fn,gs=>{na||(na=!0,no--),Pi[bo]=gs},()=>ki--,void 0,()=>{(!ki||!na)&&(no||fn.next(K?(0,Re.e)(K,Pi):Pi),fn.complete())}))}});return L?ye.pipe((0,ot.I)(L)):ye}(Ze(ae,L).map(Ne)).pipe((0,Qe.T)(ze))}}function It(Z){return null!=Z?Nn(st(Z)):null}function mn(Z,L){return null===Z?[L]:Array.isArray(Z)?[...Z,L]:[Z,L]}function kn(Z){return Z._rawValidators}function Gn(Z){return Z._rawAsyncValidators}function qt(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function jt(Z,L){return Array.isArray(Z)?Z.includes(L):Z===L}function On(Z,L){const ae=qt(L);return qt(Z).forEach(ye=>{jt(ae,ye)||ae.push(ye)}),ae}function rn(Z,L){return qt(L).filter(ae=>!jt(Z,ae))}class ke{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Ft(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=It(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L=void 0){this.control&&this.control.reset(L)}hasError(L,ae){return!!this.control&&this.control.hasError(L,ae)}getError(L,ae){return this.control?this.control.getError(L,ae):null}}class Fe extends ke{get formDirective(){return null}get path(){return null}}class kt extends ke{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xt{constructor(L){this._cd=L}get isTouched(){var L,ae,K;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(ae=L._touched)||void 0===ae||ae.call(L),!(null===(K=this._cd)||void 0===K||null===(K=K.control)||void 0===K||!K.touched)}get isUntouched(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.untouched)}get isPristine(){var L,ae,K;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(ae=L._pristine)||void 0===ae||ae.call(L),!(null===(K=this._cd)||void 0===K||null===(K=K.control)||void 0===K||!K.pristine)}get isDirty(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.dirty)}get isValid(){var L,ae,K;return null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||null===(ae=L._status)||void 0===ae||ae.call(L),!(null===(K=this._cd)||void 0===K||null===(K=K.control)||void 0===K||!K.valid)}get isInvalid(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.invalid)}get isPending(){var L;return!(null===(L=this._cd)||void 0===L||null===(L=L.control)||void 0===L||!L.pending)}get isSubmitted(){var L,ae,K;return null===(L=this._cd)||void 0===L||null===(ae=L._submitted)||void 0===ae||ae.call(L),!(null===(K=this._cd)||void 0===K||!K.submitted)}}let Vn=(()=>{var Z;class L extends xt{constructor(K){super(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(kt,2))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(K,ye){2&K&&d.AVh("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)},features:[d.Vt3]}),L})(),Tn=(()=>{var Z;class L extends xt{constructor(K){super(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Fe,10))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(K,ye){2&K&&d.AVh("ng-untouched",ye.isUntouched)("ng-touched",ye.isTouched)("ng-pristine",ye.isPristine)("ng-dirty",ye.isDirty)("ng-valid",ye.isValid)("ng-invalid",ye.isInvalid)("ng-pending",ye.isPending)("ng-submitted",ye.isSubmitted)},features:[d.Vt3]}),L})();const Kt="VALID",bt="INVALID",Ue="PENDING",at="DISABLED";class J{}class Q extends J{constructor(L,ae){super(),this.value=L,this.source=ae}}class re extends J{constructor(L,ae){super(),this.pristine=L,this.source=ae}}class Oe extends J{constructor(L,ae){super(),this.touched=L,this.source=ae}}class $e extends J{constructor(L,ae){super(),this.status=L,this.source=ae}}class Qt extends J{constructor(L){super(),this.source=L}}class An extends J{constructor(L){super(),this.source=L}}function qn(Z){return(Mn(Z)?Z.validators:Z)||null}function gt(Z,L){return(Mn(L)?L.asyncValidators:Z)||null}function Mn(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}function Hr(Z,L,ae){const K=Z.controls;if(!(L?Object.keys(K):K).length)throw new d.wOt(1e3,"");if(!K[ae])throw new d.wOt(1001,"")}function Qr(Z,L,ae){Z._forEachChild((K,ye)=>{if(void 0===ae[ye])throw new d.wOt(1002,"")})}class Jn{constructor(L,ae){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new et.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(L),this._assignAsyncValidators(ae)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(L){(0,d.O8t)(()=>this.statusReactive.set(L))}get valid(){return this.status===Kt}get invalid(){return this.status===bt}get pending(){return this.status==Ue}get disabled(){return this.status===at}get enabled(){return this.status!==at}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(L){(0,d.O8t)(()=>this.pristineReactive.set(L))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(L){(0,d.O8t)(()=>this.touchedReactive.set(L))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._assignValidators(L)}setAsyncValidators(L){this._assignAsyncValidators(L)}addValidators(L){this.setValidators(On(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(On(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(rn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(rn(L,this._rawAsyncValidators))}hasValidator(L){return jt(this._rawValidators,L)}hasAsyncValidator(L){return jt(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){var ae;const K=!1===this.touched;this.touched=!0;const ye=null!==(ae=L.sourceControl)&&void 0!==ae?ae:this;this._parent&&!L.onlySelf&&this._parent.markAsTouched({...L,sourceControl:ye}),K&&!1!==L.emitEvent&&this._events.next(new Oe(!0,ye))}markAllAsTouched(L={}){this.markAsTouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:this}),this._forEachChild(ae=>ae.markAllAsTouched(L))}markAsUntouched(L={}){var ae;const K=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const ye=null!==(ae=L.sourceControl)&&void 0!==ae?ae:this;this._forEachChild(fn=>{fn.markAsUntouched({onlySelf:!0,emitEvent:L.emitEvent,sourceControl:ye})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,ye),K&&!1!==L.emitEvent&&this._events.next(new Oe(!1,ye))}markAsDirty(L={}){var ae;const K=!0===this.pristine;this.pristine=!1;const ye=null!==(ae=L.sourceControl)&&void 0!==ae?ae:this;this._parent&&!L.onlySelf&&this._parent.markAsDirty({...L,sourceControl:ye}),K&&!1!==L.emitEvent&&this._events.next(new re(!1,ye))}markAsPristine(L={}){var ae;const K=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const ye=null!==(ae=L.sourceControl)&&void 0!==ae?ae:this;this._forEachChild(fn=>{fn.markAsPristine({onlySelf:!0,emitEvent:L.emitEvent})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L,ye),K&&!1!==L.emitEvent&&this._events.next(new re(!0,ye))}markAsPending(L={}){var ae;this.status=Ue;const K=null!==(ae=L.sourceControl)&&void 0!==ae?ae:this;!1!==L.emitEvent&&(this._events.next(new $e(this.status,K)),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.markAsPending({...L,sourceControl:K})}disable(L={}){var ae;const K=this._parentMarkedDirty(L.onlySelf);this.status=at,this.errors=null,this._forEachChild(fn=>{fn.disable({...L,onlySelf:!0})}),this._updateValue();const ye=null!==(ae=L.sourceControl)&&void 0!==ae?ae:this;!1!==L.emitEvent&&(this._events.next(new Q(this.value,ye)),this._events.next(new $e(this.status,ye)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:K},this),this._onDisabledChange.forEach(fn=>fn(!0))}enable(L={}){const ae=this._parentMarkedDirty(L.onlySelf);this.status=Kt,this._forEachChild(K=>{K.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:ae},this),this._onDisabledChange.forEach(K=>K(!1))}_updateAncestors(L,ae){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine({},ae),this._parent._updateTouched({},ae))}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){var ae;if(this._setInitialStatus(),this._updateValue(),this.enabled){const ye=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kt||this.status===Ue)&&this._runAsyncValidator(ye,L.emitEvent)}const K=null!==(ae=L.sourceControl)&&void 0!==ae?ae:this;!1!==L.emitEvent&&(this._events.next(new Q(this.value,K)),this._events.next(new $e(this.status,K)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity({...L,sourceControl:K})}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(ae=>ae._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?at:Kt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L,ae){if(this.asyncValidator){this.status=Ue,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ae};const K=Ne(this.asyncValidator(this));this._asyncValidationSubscription=K.subscribe(ye=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ye,{emitEvent:ae,shouldHaveEmitted:L})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var L,ae;this._asyncValidationSubscription.unsubscribe();const K=null!==(L=null===(ae=this._hasOwnPendingAsyncValidator)||void 0===ae?void 0:ae.emitEvent)&&void 0!==L&&L;return this._hasOwnPendingAsyncValidator=null,K}return!1}setErrors(L,ae={}){this.errors=L,this._updateControlsErrors(!1!==ae.emitEvent,this,ae.shouldHaveEmitted)}get(L){let ae=L;return null==ae||(Array.isArray(ae)||(ae=ae.split(".")),0===ae.length)?null:ae.reduce((K,ye)=>K&&K._find(ye),this)}getError(L,ae){const K=ae?this.get(ae):this;return K&&K.errors?K.errors[L]:null}hasError(L,ae){return!!this.getError(L,ae)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L,ae,K){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),(L||K)&&this._events.next(new $e(this.status,ae)),this._parent&&this._parent._updateControlsErrors(L,ae,K)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?at:this.errors?bt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ue)?Ue:this._anyControlsHaveStatus(bt)?bt:Kt}_anyControlsHaveStatus(L){return this._anyControls(ae=>ae.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L,ae){const K=!this._anyControlsDirty(),ye=this.pristine!==K;this.pristine=K,this._parent&&!L.onlySelf&&this._parent._updatePristine(L,ae),ye&&this._events.next(new re(this.pristine,ae))}_updateTouched(L={},ae){this.touched=this._anyControlsTouched(),this._events.next(new Oe(this.touched,ae)),this._parent&&!L.onlySelf&&this._parent._updateTouched(L,ae)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){Mn(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}_assignValidators(L){this._rawValidators=Array.isArray(L)?L.slice():L,this._composedValidatorFn=function Ir(Z){return Array.isArray(Z)?Ft(Z):Z||null}(this._rawValidators)}_assignAsyncValidators(L){this._rawAsyncValidators=Array.isArray(L)?L.slice():L,this._composedAsyncValidatorFn=function vr(Z){return Array.isArray(Z)?It(Z):Z||null}(this._rawAsyncValidators)}}class wi extends Jn{constructor(L,ae,K){super(qn(ae),gt(K,ae)),this.controls=L,this._initObservables(),this._setUpdateStrategy(ae),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,ae){return this.controls[L]?this.controls[L]:(this.controls[L]=ae,ae.setParent(this),ae._registerOnCollectionChange(this._onCollectionChange),ae)}addControl(L,ae,K={}){this.registerControl(L,ae),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}removeControl(L,ae={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}setControl(L,ae,K={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],ae&&this.registerControl(L,ae),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,ae={}){Qr(this,0,L),Object.keys(L).forEach(K=>{Hr(this,!0,K),this.controls[K].setValue(L[K],{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae)}patchValue(L,ae={}){null!=L&&(Object.keys(L).forEach(K=>{const ye=this.controls[K];ye&&ye.patchValue(L[K],{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae))}reset(L={},ae={}){this._forEachChild((K,ye)=>{K.reset(L?L[ye]:null,{onlySelf:!0,emitEvent:ae.emitEvent})}),this._updatePristine(ae,this),this._updateTouched(ae,this),this.updateValueAndValidity(ae)}getRawValue(){return this._reduceChildren({},(L,ae,K)=>(L[K]=ae.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(ae,K)=>!!K._syncPendingControls()||ae);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(ae=>{const K=this.controls[ae];K&&L(K,ae)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[ae,K]of Object.entries(this.controls))if(this.contains(ae)&&L(K))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ae,K,ye)=>((K.enabled||this.disabled)&&(ae[ye]=K.value),ae))}_reduceChildren(L,ae){let K=L;return this._forEachChild((ye,fn)=>{K=ae(K,ye,fn)}),K}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}class Ko extends wi{}const Ye=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>be}),be="always";function Ct(Z,L){return[...L.path,Z]}function de(Z,L,ae=be){var K,ye;dn(Z,L),L.valueAccessor.writeValue(Z.value),(Z.disabled||"always"===ae)&&(null===(K=(ye=L.valueAccessor).setDisabledState)||void 0===K||K.call(ye,Z.disabled)),function Hn(Z,L){L.valueAccessor.registerOnChange(ae=>{Z._pendingValue=ae,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&tr(Z,L)})}(Z,L),function Bi(Z,L){const ae=(K,ye)=>{L.valueAccessor.writeValue(K),ye&&L.viewToModelUpdate(K)};Z.registerOnChange(ae),L._registerOnDestroy(()=>{Z._unregisterOnChange(ae)})}(Z,L),function Ar(Z,L){L.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&tr(Z,L),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,L),function zt(Z,L){if(L.valueAccessor.setDisabledState){const ae=K=>{L.valueAccessor.setDisabledState(K)};Z.registerOnDisabledChange(ae),L._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(ae)})}}(Z,L)}function le(Z,L,ae=!0){const K=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(K),L.valueAccessor.registerOnTouched(K)),Rn(Z,L),Z&&(L._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function He(Z,L){Z.forEach(ae=>{ae.registerOnValidatorChange&&ae.registerOnValidatorChange(L)})}function dn(Z,L){const ae=kn(Z);null!==L.validator?Z.setValidators(mn(ae,L.validator)):"function"==typeof ae&&Z.setValidators([ae]);const K=Gn(Z);null!==L.asyncValidator?Z.setAsyncValidators(mn(K,L.asyncValidator)):"function"==typeof K&&Z.setAsyncValidators([K]);const ye=()=>Z.updateValueAndValidity();He(L._rawValidators,ye),He(L._rawAsyncValidators,ye)}function Rn(Z,L){let ae=!1;if(null!==Z){if(null!==L.validator){const ye=kn(Z);if(Array.isArray(ye)&&ye.length>0){const fn=ye.filter(or=>or!==L.validator);fn.length!==ye.length&&(ae=!0,Z.setValidators(fn))}}if(null!==L.asyncValidator){const ye=Gn(Z);if(Array.isArray(ye)&&ye.length>0){const fn=ye.filter(or=>or!==L.asyncValidator);fn.length!==ye.length&&(ae=!0,Z.setAsyncValidators(fn))}}}const K=()=>{};return He(L._rawValidators,K),He(L._rawAsyncValidators,K),ae}function tr(Z,L){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function co(Z,L){if(!Z.hasOwnProperty("model"))return!1;const ae=Z.model;return!!ae.isFirstChange()||!Object.is(L,ae.currentValue)}function qi(Z,L){if(!L)return null;let ae,K,ye;return Array.isArray(L),L.forEach(fn=>{fn.constructor===xe?ae=fn:function Io(Z){return Object.getPrototypeOf(Z.constructor)===ct}(fn)?K=fn:ye=fn}),ye||K||ae||null}function fs(Z,L){const ae=Z.indexOf(L);ae>-1&&Z.splice(ae,1)}function Fn(Z){return"object"==typeof Z&&null!==Z&&2===Object.keys(Z).length&&"value"in Z&&"disabled"in Z}Promise.resolve();const $r=class extends Jn{constructor(L=null,ae,K){super(qn(ae),gt(K,ae)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(ae),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mn(ae)&&(ae.nonNullable||ae.initialValueIsDefault)&&(this.defaultValue=Fn(L)?L.value:L)}setValue(L,ae={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==ae.emitModelToViewChange&&this._onChange.forEach(K=>K(this.value,!1!==ae.emitViewToModelChange)),this.updateValueAndValidity(ae)}patchValue(L,ae={}){this.setValue(L,ae)}reset(L=this.defaultValue,ae={}){this._applyFormState(L),this.markAsPristine(ae),this.markAsUntouched(ae),this.setValue(this.value,ae),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){fs(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){fs(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){Fn(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}};let ho=(()=>{var Z;class L extends Fe{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ct(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return(Z=L).\u0275fac=(()=>{let ae;return function(ye){return(ae||(ae=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,features:[d.Vt3]}),L})();const _i={provide:kt,useExisting:(0,d.Rfq)(()=>yr)},Ri=Promise.resolve();let yr=(()=>{var Z;class L extends kt{constructor(K,ye,fn,or,Pi,ki){super(),this._changeDetectorRef=Pi,this.callSetDisabledState=ki,this.control=new $r,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=K,this._setValidators(ye),this._setAsyncValidators(fn),this.valueAccessor=qi(0,or)}ngOnChanges(K){if(this._checkForErrors(),!this._registered||"name"in K){if(this._registered&&(this._checkName(),this.formDirective)){const ye=K.name.previousValue;this.formDirective.removeControl({name:ye,path:this._getPath(ye)})}this._setUpControl()}"isDisabled"in K&&this._updateDisabled(K),co(K,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){de(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(K){Ri.then(()=>{var ye;this.control.setValue(K,{emitViewToModelChange:!1}),null===(ye=this._changeDetectorRef)||void 0===ye||ye.markForCheck()})}_updateDisabled(K){const ye=K.isDisabled.currentValue,fn=0!==ye&&(0,d.L39)(ye);Ri.then(()=>{var or;fn&&!this.control.disabled?this.control.disable():!fn&&this.control.disabled&&this.control.enable(),null===(or=this._changeDetectorRef)||void 0===or||or.markForCheck()})}_getPath(K){return this._parent?Ct(K,this._parent):[K]}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Fe,9),d.rXU(dt,10),d.rXU(rt,10),d.rXU(yt,10),d.rXU(d.gRc,8),d.rXU(Ye,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([_i]),d.Vt3,d.OA$]}),L})(),Qo=(()=>{var Z;class L{}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275dir=d.FsC({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const A=new d.nKC(""),nt={provide:Fe,useExisting:(0,d.Rfq)(()=>tn)};let tn=(()=>{var Z;class L extends Fe{get submitted(){return(0,d.O8t)(this._submittedReactive)}set submitted(K){this._submittedReactive.set(K)}constructor(K,ye,fn){super(),this.callSetDisabledState=fn,this._submitted=(0,d.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,d.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.bkB,this._setValidators(K),this._setAsyncValidators(ye)}ngOnChanges(K){this._checkFormPresent(),K.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(K){const ye=this.form.get(K.path);return de(ye,K,this.callSetDisabledState),ye.updateValueAndValidity({emitEvent:!1}),this.directives.push(K),ye}getControl(K){return this.form.get(K.path)}removeControl(K){le(K.control||null,K,!1),function Bo(Z,L){const ae=Z.indexOf(L);ae>-1&&Z.splice(ae,1)}(this.directives,K)}addFormGroup(K){this._setUpFormContainer(K)}removeFormGroup(K){this._cleanUpFormContainer(K)}getFormGroup(K){return this.form.get(K.path)}addFormArray(K){this._setUpFormContainer(K)}removeFormArray(K){this._cleanUpFormContainer(K)}getFormArray(K){return this.form.get(K.path)}updateModel(K,ye){this.form.get(K.path).setValue(ye)}onSubmit(K){var ye;return this._submittedReactive.set(!0),function Xo(Z,L){Z._syncPendingControls(),L.forEach(ae=>{const K=ae.control;"submit"===K.updateOn&&K._pendingChange&&(ae.viewToModelUpdate(K._pendingValue),K._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(K),this.form._events.next(new Qt(this.control)),"dialog"===(null==K||null===(ye=K.target)||void 0===ye?void 0:ye.method)}onReset(){this.resetForm()}resetForm(K=void 0){this.form.reset(K),this._submittedReactive.set(!1),this.form._events.next(new An(this.form))}_updateDomValue(){this.directives.forEach(K=>{const ye=K.control,fn=this.form.get(K.path);ye!==fn&&(le(ye||null,K),(Z=>Z instanceof $r)(fn)&&(de(fn,K,this.callSetDisabledState),K.control=fn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(K){const ye=this.form.get(K.path);(function hr(Z,L){dn(Z,L)})(ye,K),ye.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(K){if(this.form){const ye=this.form.get(K.path);ye&&function Di(Z,L){return Rn(Z,L)}(ye,K)&&ye.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dn(this.form,this),this._oldForm&&Rn(this._oldForm,this)}_checkFormPresent(){}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(dt,10),d.rXU(rt,10),d.rXU(Ye,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formGroup",""]],hostBindings:function(K,ye){1&K&&d.bIt("submit",function(or){return ye.onSubmit(or)})("reset",function(){return ye.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([nt]),d.Vt3,d.OA$]}),L})();const Et={provide:Fe,useExisting:(0,d.Rfq)(()=>Ht)};let Ht=(()=>{var Z;class L extends ho{constructor(K,ye,fn){super(),this.name=null,this._parent=K,this._setValidators(ye),this._setAsyncValidators(fn)}_checkParentType(){Bn(this._parent)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Fe,13),d.rXU(dt,10),d.rXU(rt,10))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[d.Jv_([Et]),d.Vt3]}),L})();const an={provide:Fe,useExisting:(0,d.Rfq)(()=>wn)};let wn=(()=>{var Z;class L extends Fe{constructor(K,ye,fn){super(),this.name=null,this._parent=K,this._setValidators(ye),this._setAsyncValidators(fn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ct(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Bn(this._parent)}}return(Z=L).\u0275fac=function(K){return new(K||Z)(d.rXU(Fe,13),d.rXU(dt,10),d.rXU(rt,10))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[d.Jv_([an]),d.Vt3]}),L})();function Bn(Z){return!(Z instanceof Ht||Z instanceof tn||Z instanceof wn)}const Xn={provide:kt,useExisting:(0,d.Rfq)(()=>ir)};let ir=(()=>{var Z;class L extends kt{set isDisabled(K){}constructor(K,ye,fn,or,Pi){super(),this._ngModelWarningConfig=Pi,this._added=!1,this.name=null,this.update=new d.bkB,this._ngModelWarningSent=!1,this._parent=K,this._setValidators(ye),this._setAsyncValidators(fn),this.valueAccessor=qi(0,or)}ngOnChanges(K){this._added||this._setUpControl(),co(K,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(K){this.viewModel=K,this.update.emit(K)}get path(){return Ct(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(Z=L)._ngModelWarningSentOnce=!1,Z.\u0275fac=function(K){return new(K||Z)(d.rXU(Fe,13),d.rXU(dt,10),d.rXU(rt,10),d.rXU(yt,10),d.rXU(A,8))},Z.\u0275dir=d.FsC({type:Z,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[d.Jv_([Xn]),d.Vt3,d.OA$]}),L})();function ps(Z){return"number"==typeof Z?Z:parseFloat(Z)}let No=(()=>{var Z;class L{constructor(){this._validator=De}ngOnChanges(K){if(this.inputName in K){const ye=this.normalizeInput(K[this.inputName].currentValue);this._enabled=this.enabled(ye),this._validator=this._enabled?this.createValidator(ye):De,this._onChange&&this._onChange()}}validate(K){return this._validator(K)}registerOnValidatorChange(K){this._onChange=K}enabled(K){return null!=K}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275dir=d.FsC({type:Z,features:[d.OA$]}),L})();const po={provide:dt,useExisting:(0,d.Rfq)(()=>is),multi:!0};let is=(()=>{var Z;class L extends No{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=K=>ps(K),this.createValidator=K=>Je(K)}}return(Z=L).\u0275fac=(()=>{let ae;return function(ye){return(ae||(ae=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(K,ye){2&K&&d.BMQ("max",ye._enabled?ye.max:null)},inputs:{max:"max"},features:[d.Jv_([po]),d.Vt3]}),L})();const ni={provide:dt,useExisting:(0,d.Rfq)(()=>ta),multi:!0};let ta=(()=>{var Z;class L extends No{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=K=>ps(K),this.createValidator=K=>ft(K)}}return(Z=L).\u0275fac=(()=>{let ae;return function(ye){return(ae||(ae=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(K,ye){2&K&&d.BMQ("min",ye._enabled?ye.min:null)},inputs:{min:"min"},features:[d.Jv_([ni]),d.Vt3]}),L})();const Ns={provide:dt,useExisting:(0,d.Rfq)(()=>Cs),multi:!0};let Cs=(()=>{var Z;class L extends No{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=K=>Nt}enabled(K){return K}}return(Z=L).\u0275fac=(()=>{let ae;return function(ye){return(ae||(ae=d.xGo(Z)))(ye||Z)}})(),Z.\u0275dir=d.FsC({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(K,ye){2&K&&d.BMQ("required",ye._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([Ns]),d.Vt3]}),L})(),os=(()=>{var Z;class L{}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275mod=d.$C({type:Z}),Z.\u0275inj=d.G2t({}),L})();class oi extends Jn{constructor(L,ae,K){super(qn(ae),gt(K,ae)),this.controls=L,this._initObservables(),this._setUpdateStrategy(ae),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[this._adjustIndex(L)]}push(L,ae={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}insert(L,ae,K={}){this.controls.splice(L,0,ae),this._registerControl(ae),this.updateValueAndValidity({emitEvent:K.emitEvent})}removeAt(L,ae={}){let K=this._adjustIndex(L);K<0&&(K=0),this.controls[K]&&this.controls[K]._registerOnCollectionChange(()=>{}),this.controls.splice(K,1),this.updateValueAndValidity({emitEvent:ae.emitEvent})}setControl(L,ae,K={}){let ye=this._adjustIndex(L);ye<0&&(ye=0),this.controls[ye]&&this.controls[ye]._registerOnCollectionChange(()=>{}),this.controls.splice(ye,1),ae&&(this.controls.splice(ye,0,ae),this._registerControl(ae)),this.updateValueAndValidity({emitEvent:K.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,ae={}){Qr(this,0,L),L.forEach((K,ye)=>{Hr(this,!1,ye),this.at(ye).setValue(K,{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae)}patchValue(L,ae={}){null!=L&&(L.forEach((K,ye)=>{this.at(ye)&&this.at(ye).patchValue(K,{onlySelf:!0,emitEvent:ae.emitEvent})}),this.updateValueAndValidity(ae))}reset(L=[],ae={}){this._forEachChild((K,ye)=>{K.reset(L[ye],{onlySelf:!0,emitEvent:ae.emitEvent})}),this._updatePristine(ae,this),this._updateTouched(ae,this),this.updateValueAndValidity(ae)}getRawValue(){return this.controls.map(L=>L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(ae=>ae._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_adjustIndex(L){return L<0?L+this.length:L}_syncPendingControls(){let L=this.controls.reduce((ae,K)=>!!K._syncPendingControls()||ae,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){this.controls.forEach((ae,K)=>{L(ae,K)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(ae=>ae.enabled&&L(ae))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}_find(L){var ae;return null!==(ae=this.at(L))&&void 0!==ae?ae:null}}function gi(Z){return!!Z&&(void 0!==Z.asyncValidators||void 0!==Z.validators||void 0!==Z.updateOn)}let As=(()=>{var Z;class L{constructor(){this.useNonNullable=!1}get nonNullable(){const K=new L;return K.useNonNullable=!0,K}group(K,ye=null){const fn=this._reduceControls(K);let or={};return gi(ye)?or=ye:null!==ye&&(or.validators=ye.validator,or.asyncValidators=ye.asyncValidator),new wi(fn,or)}record(K,ye=null){const fn=this._reduceControls(K);return new Ko(fn,ye)}control(K,ye,fn){let or={};return this.useNonNullable?(gi(ye)?or=ye:(or.validators=ye,or.asyncValidators=fn),new $r(K,{...or,nonNullable:!0})):new $r(K,ye,fn)}array(K,ye,fn){const or=K.map(Pi=>this._createControl(Pi));return new oi(or,ye,fn)}_reduceControls(K){const ye={};return Object.keys(K).forEach(fn=>{ye[fn]=this._createControl(K[fn])}),ye}_createControl(K){return K instanceof $r||K instanceof Jn?K:Array.isArray(K)?this.control(K[0],K.length>1?K[1]:null,K.length>2?K[2]:null):this.control(K)}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275prov=d.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"}),L})(),Yo=(()=>{var Z;class L{static withConfig(K){var ye;return{ngModule:L,providers:[{provide:Ye,useValue:null!==(ye=K.callSetDisabledState)&&void 0!==ye?ye:be}]}}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275mod=d.$C({type:Z}),Z.\u0275inj=d.G2t({imports:[os]}),L})(),Ia=(()=>{var Z;class L{static withConfig(K){var ye,fn;return{ngModule:L,providers:[{provide:A,useValue:null!==(ye=K.warnOnNgModelWithFormControl)&&void 0!==ye?ye:"always"},{provide:Ye,useValue:null!==(fn=K.callSetDisabledState)&&void 0!==fn?fn:be}]}}}return(Z=L).\u0275fac=function(K){return new(K||Z)},Z.\u0275mod=d.$C({type:Z}),Z.\u0275inj=d.G2t({imports:[os]}),L})()},345:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Bb:()=>Gn,hE:()=>On,sG:()=>Nn});var d=V(177),o=V(4438);class B extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends B{static makeCurrent(){(0,d.ZD)(new ve)}onAndCancel(wt,Kt,bt){return wt.addEventListener(Kt,bt),()=>{wt.removeEventListener(Kt,bt)}}dispatchEvent(wt,Kt){wt.dispatchEvent(Kt)}remove(wt){wt.remove()}createElement(wt,Kt){return(Kt=Kt||this.getDefaultDocument()).createElement(wt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(wt){return wt.nodeType===Node.ELEMENT_NODE}isShadowRoot(wt){return wt instanceof DocumentFragment}getGlobalEventTarget(wt,Kt){return"window"===Kt?window:"document"===Kt?wt:"body"===Kt?wt.body:null}getBaseHref(wt){const Kt=function Ee(){return W=W||document.querySelector("base"),W?W.getAttribute("href"):null}();return null==Kt?null:function Se(Gt){return new URL(Gt,document.baseURI).pathname}(Kt)}resetBaseElement(){W=null}getUserAgent(){return window.navigator.userAgent}getCookie(wt){return(0,d._b)(document.cookie,wt)}}let W=null,ot=(()=>{var Gt;class wt{build(){return new XMLHttpRequest}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)},Gt.\u0275prov=o.jDH({token:Gt,factory:Gt.\u0275fac}),wt})();const Re=new o.nKC("");let _e=(()=>{var Gt;class wt{constructor(bt,Ue){this._zone=Ue,this._eventNameToPlugin=new Map,bt.forEach(at=>{at.manager=this}),this._plugins=bt.slice().reverse()}addEventListener(bt,Ue,at){return this._findPluginFor(Ue).addEventListener(bt,Ue,at)}getZone(){return this._zone}_findPluginFor(bt){let Ue=this._eventNameToPlugin.get(bt);if(Ue)return Ue;if(Ue=this._plugins.find(J=>J.supports(bt)),!Ue)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(bt,Ue),Ue}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)(o.KVO(Re),o.KVO(o.SKi))},Gt.\u0275prov=o.jDH({token:Gt,factory:Gt.\u0275fac}),wt})();class et{constructor(wt){this._doc=wt}}const Qe="ng-app-id";let Ke=(()=>{var Gt;class wt{constructor(bt,Ue,at,J={}){this.doc=bt,this.appId=Ue,this.nonce=at,this.platformId=J,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(J),this.resetHostNodes()}addStyles(bt){for(const Ue of bt)1===this.changeUsageCount(Ue,1)&&this.onStyleAdded(Ue)}removeStyles(bt){for(const Ue of bt)this.changeUsageCount(Ue,-1)<=0&&this.onStyleRemoved(Ue)}ngOnDestroy(){const bt=this.styleNodesInDOM;bt&&(bt.forEach(Ue=>Ue.remove()),bt.clear());for(const Ue of this.getAllStyles())this.onStyleRemoved(Ue);this.resetHostNodes()}addHost(bt){this.hostNodes.add(bt);for(const Ue of this.getAllStyles())this.addStyleToHost(bt,Ue)}removeHost(bt){this.hostNodes.delete(bt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(bt){for(const Ue of this.hostNodes)this.addStyleToHost(Ue,bt)}onStyleRemoved(bt){var Ue;const at=this.styleRef;null===(Ue=at.get(bt))||void 0===Ue||null===(Ue=Ue.elements)||void 0===Ue||Ue.forEach(J=>J.remove()),at.delete(bt)}collectServerRenderedStyles(){var bt;const Ue=null===(bt=this.doc.head)||void 0===bt?void 0:bt.querySelectorAll(`style[${Qe}="${this.appId}"]`);if(null!=Ue&&Ue.length){const at=new Map;return Ue.forEach(J=>{null!=J.textContent&&at.set(J.textContent,J)}),at}return null}changeUsageCount(bt,Ue){const at=this.styleRef;if(at.has(bt)){const J=at.get(bt);return J.usage+=Ue,J.usage}return at.set(bt,{usage:Ue,elements:[]}),Ue}getStyleElement(bt,Ue){const at=this.styleNodesInDOM,J=null==at?void 0:at.get(Ue);if((null==J?void 0:J.parentNode)===bt)return at.delete(Ue),J.removeAttribute(Qe),J;{const Q=this.doc.createElement("style");return this.nonce&&Q.setAttribute("nonce",this.nonce),Q.textContent=Ue,this.platformIsServer&&Q.setAttribute(Qe,this.appId),bt.appendChild(Q),Q}}addStyleToHost(bt,Ue){var at;const J=this.getStyleElement(bt,Ue),Q=this.styleRef,re=null===(at=Q.get(Ue))||void 0===at?void 0:at.elements;re?re.push(J):Q.set(Ue,{elements:[J],usage:1})}resetHostNodes(){const bt=this.hostNodes;bt.clear(),bt.add(this.doc.head)}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)(o.KVO(d.qQ),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))},Gt.\u0275prov=o.jDH({token:Gt,factory:Gt.\u0275fac}),wt})();const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yt=/%COMP%/g,Te=new o.nKC("",{providedIn:"root",factory:()=>!0});function it(Gt,wt){return wt.map(Kt=>Kt.replace(yt,Gt))}let dt=(()=>{var Gt;class wt{constructor(bt,Ue,at,J,Q,re,Oe,$e=null){this.eventManager=bt,this.sharedStylesHost=Ue,this.appId=at,this.removeStylesOnCompDestroy=J,this.doc=Q,this.platformId=re,this.ngZone=Oe,this.nonce=$e,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(re),this.defaultRenderer=new rt(bt,Q,Oe,this.platformIsServer)}createRenderer(bt,Ue){if(!bt||!Ue)return this.defaultRenderer;this.platformIsServer&&Ue.encapsulation===o.gXe.ShadowDom&&(Ue={...Ue,encapsulation:o.gXe.Emulated});const at=this.getOrCreateRenderer(bt,Ue);return at instanceof Ot?at.applyToHost(bt):at instanceof Nt&&at.applyStyles(),at}getOrCreateRenderer(bt,Ue){const at=this.rendererByCompId;let J=at.get(Ue.id);if(!J){const Q=this.doc,re=this.ngZone,Oe=this.eventManager,$e=this.sharedStylesHost,Qt=this.removeStylesOnCompDestroy,An=this.platformIsServer;switch(Ue.encapsulation){case o.gXe.Emulated:J=new Ot(Oe,$e,Ue,this.appId,Qt,Q,re,An);break;case o.gXe.ShadowDom:return new Je(Oe,$e,bt,Ue,Q,re,this.nonce,An);default:J=new Nt(Oe,$e,Ue,Qt,Q,re,An)}at.set(Ue.id,J)}return J}ngOnDestroy(){this.rendererByCompId.clear()}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)(o.KVO(_e),o.KVO(Ke),o.KVO(o.sZ2),o.KVO(Te),o.KVO(d.qQ),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))},Gt.\u0275prov=o.jDH({token:Gt,factory:Gt.\u0275fac}),wt})();class rt{constructor(wt,Kt,bt,Ue){this.eventManager=wt,this.doc=Kt,this.ngZone=bt,this.platformIsServer=Ue,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(wt,Kt){return Kt?this.doc.createElementNS(ct[Kt]||Kt,wt):this.doc.createElement(wt)}createComment(wt){return this.doc.createComment(wt)}createText(wt){return this.doc.createTextNode(wt)}appendChild(wt,Kt){(ft(wt)?wt.content:wt).appendChild(Kt)}insertBefore(wt,Kt,bt){wt&&(ft(wt)?wt.content:wt).insertBefore(Kt,bt)}removeChild(wt,Kt){Kt.remove()}selectRootElement(wt,Kt){let bt="string"==typeof wt?this.doc.querySelector(wt):wt;if(!bt)throw new o.wOt(-5104,!1);return Kt||(bt.textContent=""),bt}parentNode(wt){return wt.parentNode}nextSibling(wt){return wt.nextSibling}setAttribute(wt,Kt,bt,Ue){if(Ue){Kt=Ue+":"+Kt;const at=ct[Ue];at?wt.setAttributeNS(at,Kt,bt):wt.setAttribute(Kt,bt)}else wt.setAttribute(Kt,bt)}removeAttribute(wt,Kt,bt){if(bt){const Ue=ct[bt];Ue?wt.removeAttributeNS(Ue,Kt):wt.removeAttribute(`${bt}:${Kt}`)}else wt.removeAttribute(Kt)}addClass(wt,Kt){wt.classList.add(Kt)}removeClass(wt,Kt){wt.classList.remove(Kt)}setStyle(wt,Kt,bt,Ue){Ue&(o.czy.DashCase|o.czy.Important)?wt.style.setProperty(Kt,bt,Ue&o.czy.Important?"important":""):wt.style[Kt]=bt}removeStyle(wt,Kt,bt){bt&o.czy.DashCase?wt.style.removeProperty(Kt):wt.style[Kt]=""}setProperty(wt,Kt,bt){null!=wt&&(wt[Kt]=bt)}setValue(wt,Kt){wt.nodeValue=Kt}listen(wt,Kt,bt){if("string"==typeof wt&&!(wt=(0,d.QT)().getGlobalEventTarget(this.doc,wt)))throw new Error(`Unsupported event target ${wt} for event ${Kt}`);return this.eventManager.addEventListener(wt,Kt,this.decoratePreventDefault(bt))}decoratePreventDefault(wt){return Kt=>{if("__ngUnwrap__"===Kt)return wt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>wt(Kt)):wt(Kt))&&Kt.preventDefault()}}}function ft(Gt){return"TEMPLATE"===Gt.tagName&&void 0!==Gt.content}class Je extends rt{constructor(wt,Kt,bt,Ue,at,J,Q,re){super(wt,at,J,re),this.sharedStylesHost=Kt,this.hostEl=bt,this.shadowRoot=bt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Oe=it(Ue.id,Ue.styles);for(const $e of Oe){const Qt=document.createElement("style");Q&&Qt.setAttribute("nonce",Q),Qt.textContent=$e,this.shadowRoot.appendChild(Qt)}}nodeOrShadowRoot(wt){return wt===this.hostEl?this.shadowRoot:wt}appendChild(wt,Kt){return super.appendChild(this.nodeOrShadowRoot(wt),Kt)}insertBefore(wt,Kt,bt){return super.insertBefore(this.nodeOrShadowRoot(wt),Kt,bt)}removeChild(wt,Kt){return super.removeChild(null,Kt)}parentNode(wt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(wt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nt extends rt{constructor(wt,Kt,bt,Ue,at,J,Q,re){super(wt,at,J,Q),this.sharedStylesHost=Kt,this.removeStylesOnCompDestroy=Ue,this.styles=re?it(re,bt.styles):bt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ot extends Nt{constructor(wt,Kt,bt,Ue,at,J,Q,re){const Oe=Ue+"-"+bt.id;super(wt,Kt,bt,at,J,Q,re,Oe),this.contentAttr=function xe(Gt){return"_ngcontent-%COMP%".replace(yt,Gt)}(Oe),this.hostAttr=function Me(Gt){return"_nghost-%COMP%".replace(yt,Gt)}(Oe)}applyToHost(wt){this.applyStyles(),this.setAttribute(wt,this.hostAttr,"")}createElement(wt,Kt){const bt=super.createElement(wt,Kt);return super.setAttribute(bt,this.contentAttr,""),bt}}let un=(()=>{var Gt;class wt extends et{constructor(bt){super(bt)}supports(bt){return!0}addEventListener(bt,Ue,at){return bt.addEventListener(Ue,at,!1),()=>this.removeEventListener(bt,Ue,at)}removeEventListener(bt,Ue,at){return bt.removeEventListener(Ue,at)}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)(o.KVO(d.qQ))},Gt.\u0275prov=o.jDH({token:Gt,factory:Gt.\u0275fac}),wt})();const Ge=["alt","control","meta","shift"],we={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},me={alt:Gt=>Gt.altKey,control:Gt=>Gt.ctrlKey,meta:Gt=>Gt.metaKey,shift:Gt=>Gt.shiftKey};let De=(()=>{var Gt;class wt extends et{constructor(bt){super(bt)}supports(bt){return null!=wt.parseEventName(bt)}addEventListener(bt,Ue,at){const J=wt.parseEventName(Ue),Q=wt.eventCallback(J.fullKey,at,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(bt,J.domEventName,Q))}static parseEventName(bt){const Ue=bt.toLowerCase().split("."),at=Ue.shift();if(0===Ue.length||"keydown"!==at&&"keyup"!==at)return null;const J=wt._normalizeKey(Ue.pop());let Q="",re=Ue.indexOf("code");if(re>-1&&(Ue.splice(re,1),Q="code."),Ge.forEach($e=>{const Qt=Ue.indexOf($e);Qt>-1&&(Ue.splice(Qt,1),Q+=$e+".")}),Q+=J,0!=Ue.length||0===J.length)return null;const Oe={};return Oe.domEventName=at,Oe.fullKey=Q,Oe}static matchEventFullKeyCode(bt,Ue){let at=we[bt.key]||bt.key,J="";return Ue.indexOf("code.")>-1&&(at=bt.code,J="code."),!(null==at||!at)&&(at=at.toLowerCase()," "===at?at="space":"."===at&&(at="dot"),Ge.forEach(Q=>{Q!==at&&(0,me[Q])(bt)&&(J+=Q+".")}),J+=at,J===Ue)}static eventCallback(bt,Ue,at){return J=>{wt.matchEventFullKeyCode(J,bt)&&at.runGuarded(()=>Ue(J))}}static _normalizeKey(bt){return"esc"===bt?"escape":bt}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)(o.KVO(d.qQ))},Gt.\u0275prov=o.jDH({token:Gt,factory:Gt.\u0275fac}),wt})();const Nn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:d.AJ},{provide:o.PLl,useValue:function je(){ve.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function _t(){return(0,o.TL$)(document),document},deps:[]}]),It=new o.nKC(""),mn=[{provide:o.e01,useClass:class Be{addToWindow(wt){o.JZv.getAngularTestability=(bt,Ue=!0)=>{const at=wt.findTestabilityInTree(bt,Ue);if(null==at)throw new o.wOt(5103,!1);return at},o.JZv.getAllAngularTestabilities=()=>wt.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>wt.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(bt=>{const Ue=o.JZv.getAllAngularTestabilities();let at=Ue.length;const J=function(){at--,0==at&&bt()};Ue.forEach(Q=>{Q.whenStable(J)})})}findTestabilityInTree(wt,Kt,bt){if(null==Kt)return null;const Ue=wt.getTestability(Kt);return null!=Ue?Ue:bt?(0,d.QT)().isShadowRoot(Kt)?this.findTestabilityInTree(wt,Kt.host,!0):this.findTestabilityInTree(wt,Kt.parentElement,!0):null}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],kn=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function st(){return new o.zcH},deps:[]},{provide:Re,useClass:un,multi:!0,deps:[d.qQ,o.SKi,o.Agw]},{provide:Re,useClass:De,multi:!0,deps:[d.qQ]},dt,Ke,_e,{provide:o._9s,useExisting:dt},{provide:d.N0,useClass:ot,deps:[]},[]];let Gn=(()=>{var Gt;class wt{constructor(bt){}static withServerTransition(bt){return{ngModule:wt,providers:[{provide:o.sZ2,useValue:bt.appId}]}}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)(o.KVO(It,12))},Gt.\u0275mod=o.$C({type:Gt}),Gt.\u0275inj=o.G2t({providers:[...kn,...mn],imports:[d.MD,o.Hbi]}),wt})(),On=(()=>{var Gt;class wt{constructor(bt){this._doc=bt}getTitle(){return this._doc.title}setTitle(bt){this._doc.title=bt||""}}return(Gt=wt).\u0275fac=function(bt){return new(bt||Gt)(o.KVO(d.qQ))},Gt.\u0275prov=o.jDH({token:Gt,factory:Gt.\u0275fac,providedIn:"root"}),wt})()},9384:(Pn,Dt,V)=>{"use strict";V.d(Dt,{nX:()=>Ht,Zp:()=>F,Z:()=>Ui,Xk:()=>Ft,Kp:()=>ko,b:()=>qe,Ix:()=>Fi,Wk:()=>sr,wQ:()=>Wi,iI:()=>Ca,Sd:()=>Un});var d=V(4438),o=V(1985),B=V(8071),W=V(8455),Ee=V(7673),Se=V(4412),Be=V(4572),ot=V(9350),Re=V(8793),_e=V(8750);function et(T){return new o.c(x=>{(0,_e.Tg)(T()).subscribe(x)})}var Qe=V(1203);function Ke(T,x){const $=(0,B.T)(T)?T:()=>T,M=j=>j.error($());return new o.c(x?j=>x.schedule(M,0,j):M)}var ct=V(983),yt=V(8359),mt=V(9974),ut=V(4360);function Mt(){return(0,mt.N)((T,x)=>{let $=null;T._refCount++;const M=(0,ut._)(x,void 0,void 0,void 0,()=>{if(!T||T._refCount<=0||0<--T._refCount)return void($=null);const j=T._connection,pe=$;$=null,j&&(!pe||j===pe)&&j.unsubscribe(),x.unsubscribe()});T.subscribe(M),M.closed||($=T.connect())})}class At extends o.c{constructor(x,$){super(),this.source=x,this.subjectFactory=$,this._subject=null,this._refCount=0,this._connection=null,(0,mt.S)(x)&&(this.lift=x.lift)}_subscribe(x){return this.getSubject().subscribe(x)}getSubject(){const x=this._subject;return(!x||x.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:x}=this;this._subject=this._connection=null,null==x||x.unsubscribe()}connect(){let x=this._connection;if(!x){x=this._connection=new yt.yU;const $=this.getSubject();x.add(this.source.subscribe((0,ut._)($,void 0,()=>{this._teardown(),$.complete()},M=>{this._teardown(),$.error(M)},()=>this._teardown()))),x.closed&&(this._connection=null,x=yt.yU.EMPTY)}return x}refCount(){return Mt()(this)}}var Te=V(1413),xe=V(177),Me=V(6354),it=V(5558),dt=V(6697),rt=V(9172),he=V(5964),ht=V(1397),ft=V(1594),Je=V(274),Nt=V(8141);function Ot(T){return(0,mt.N)((x,$)=>{let pe,M=null,j=!1;M=x.subscribe((0,ut._)($,void 0,void 0,Ce=>{pe=(0,_e.Tg)(T(Ce,Ot(T)(x))),M?(M.unsubscribe(),M=null,pe.subscribe($)):j=!0})),j&&(M.unsubscribe(),M=null,pe.subscribe($))})}var un=V(2816),Ge=V(9901);function we(T){return T<=0?()=>ct.w:(0,mt.N)((x,$)=>{let M=[];x.subscribe((0,ut._)($,j=>{M.push(j),T<M.length&&M.shift()},()=>{for(const j of M)$.next(j);$.complete()},void 0,()=>{M=null}))})}var me=V(3774),De=V(3669),ze=V(980),Ze=V(5343),st=V(6365),_t=V(345);const Ft="primary",Nn=Symbol("RouteTitle");class It{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const $=this.params[x];return Array.isArray($)?$[0]:$}return null}getAll(x){if(this.has(x)){const $=this.params[x];return Array.isArray($)?$:[$]}return[]}get keys(){return Object.keys(this.params)}}function mn(T){return new It(T)}function kn(T,x,$){const M=$.path.split("/");if(M.length>T.length||"full"===$.pathMatch&&(x.hasChildren()||M.length<T.length))return null;const j={};for(let pe=0;pe<M.length;pe++){const Ce=M[pe],Lt=T[pe];if(":"===Ce[0])j[Ce.substring(1)]=Lt;else if(Ce!==Lt.path)return null}return{consumed:T.slice(0,M.length),posParams:j}}function qt(T,x){const $=T?jt(T):void 0,M=x?jt(x):void 0;if(!$||!M||$.length!=M.length)return!1;let j;for(let pe=0;pe<$.length;pe++)if(j=$[pe],!On(T[j],x[j]))return!1;return!0}function jt(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}function On(T,x){if(Array.isArray(T)&&Array.isArray(x)){if(T.length!==x.length)return!1;const $=[...T].sort(),M=[...x].sort();return $.every((j,pe)=>M[pe]===j)}return T===x}function rn(T){return T.length>0?T[T.length-1]:null}function ke(T){return function ve(T){return!!T&&(T instanceof o.c||(0,B.T)(T.lift)&&(0,B.T)(T.subscribe))}(T)?T:(0,d.jNT)(T)?(0,W.H)(Promise.resolve(T)):(0,Ee.of)(T)}const Fe={exact:function nr(T,x,$){if(!Cn(T.segments,x.segments)||!rr(T.segments,x.segments,$)||T.numberOfChildren!==x.numberOfChildren)return!1;for(const M in x.children)if(!T.children[M]||!nr(T.children[M],x.children[M],$))return!1;return!0},subset:Tn},kt={exact:function Qn(T,x){return qt(T,x)},subset:function Vn(T,x){return Object.keys(x).length<=Object.keys(T).length&&Object.keys(x).every($=>On(T[$],x[$]))},ignored:()=>!0};function xt(T,x,$){return Fe[$.paths](T.root,x.root,$.matrixParams)&&kt[$.queryParams](T.queryParams,x.queryParams)&&!("exact"===$.fragment&&T.fragment!==x.fragment)}function Tn(T,x,$){return gr(T,x,x.segments,$)}function gr(T,x,$,M){if(T.segments.length>$.length){const j=T.segments.slice(0,$.length);return!(!Cn(j,$)||x.hasChildren()||!rr(j,$,M))}if(T.segments.length===$.length){if(!Cn(T.segments,$)||!rr(T.segments,$,M))return!1;for(const j in x.children)if(!T.children[j]||!Tn(T.children[j],x.children[j],M))return!1;return!0}{const j=$.slice(0,T.segments.length),pe=$.slice(T.segments.length);return!!(Cn(T.segments,j)&&rr(T.segments,j,M)&&T.children[Ft])&&gr(T.children[Ft],x,pe,M)}}function rr(T,x,$){return x.every((M,j)=>kt[$](T[j].parameters,M.parameters))}class zn{constructor(x=new Yn([],{}),$={},M=null){this.root=x,this.queryParams=$,this.fragment=M}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return Dn.serialize(this)}}class Yn{constructor(x,$){this.segments=x,this.children=$,this.parent=null,Object.values($).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ei(this)}}class dr{constructor(x,$){this.path=x,this.parameters=$}get parameterMap(){var x;return null!==(x=this._parameterMap)&&void 0!==x||(this._parameterMap=mn(this.parameters)),this._parameterMap}toString(){return bt(this)}}function Cn(T,x){return T.length===x.length&&T.every(($,M)=>$.path===x[M].path)}let Un=(()=>{var T;class x{}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:()=>new mr,providedIn:"root"}),x})();class mr{parse(x){const $=new Ir(x);return new zn($.parseRootSegment(),$.parseQueryParams(),$.parseFragment())}serialize(x){const $=`/${er(x.root,!0)}`,M=function at(T){const x=Object.entries(T).map(([$,M])=>Array.isArray(M)?M.map(j=>`${_r($)}=${_r(j)}`).join("&"):`${_r($)}=${_r(M)}`).filter($=>$);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${$}${M}${"string"==typeof x.fragment?`#${function _n(T){return encodeURI(T)}(x.fragment)}`:""}`}}const Dn=new mr;function Ei(T){return T.segments.map(x=>bt(x)).join("/")}function er(T,x){if(!T.hasChildren())return Ei(T);if(x){const $=T.children[Ft]?er(T.children[Ft],!1):"",M=[];return Object.entries(T.children).forEach(([j,pe])=>{j!==Ft&&M.push(`${j}:${er(pe,!1)}`)}),M.length>0?`${$}(${M.join("//")})`:$}{const $=function Cr(T,x){let $=[];return Object.entries(T.children).forEach(([M,j])=>{M===Ft&&($=$.concat(x(j,M)))}),Object.entries(T.children).forEach(([M,j])=>{M!==Ft&&($=$.concat(x(j,M)))}),$}(T,(M,j)=>j===Ft?[er(T.children[Ft],!1)]:[`${j}:${er(M,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Ft]?`${Ei(T)}/${$[0]}`:`${Ei(T)}/(${$.join("//")})`}}function fr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _r(T){return fr(T).replace(/%3B/gi,";")}function Gt(T){return fr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wt(T){return decodeURIComponent(T)}function Kt(T){return wt(T.replace(/\+/g,"%20"))}function bt(T){return`${Gt(T.path)}${function Ue(T){return Object.entries(T).map(([x,$])=>`;${Gt(x)}=${Gt($)}`).join("")}(T.parameters)}`}const J=/^[^\/()?;#]+/;function Q(T){const x=T.match(J);return x?x[0]:""}const re=/^[^\/()?;=#]+/,$e=/^[^=?&#]+/,An=/^[^&#]+/;class Ir{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yn([],{}):new Yn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let $={};this.peekStartsWith("/(")&&(this.capture("/"),$=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(x.length>0||Object.keys($).length>0)&&(M[Ft]=new Yn(x,$)),M}parseSegment(){const x=Q(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(x),new dr(wt(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const $=function Oe(T){const x=T.match(re);return x?x[0]:""}(this.remaining);if(!$)return;this.capture($);let M="";if(this.consumeOptional("=")){const j=Q(this.remaining);j&&(M=j,this.capture(M))}x[wt($)]=wt(M)}parseQueryParam(x){const $=function Qt(T){const x=T.match($e);return x?x[0]:""}(this.remaining);if(!$)return;this.capture($);let M="";if(this.consumeOptional("=")){const Ce=function qn(T){const x=T.match(An);return x?x[0]:""}(this.remaining);Ce&&(M=Ce,this.capture(M))}const j=Kt($),pe=Kt(M);if(x.hasOwnProperty(j)){let Ce=x[j];Array.isArray(Ce)||(Ce=[Ce],x[j]=Ce),Ce.push(pe)}else x[j]=pe}parseParens(x){const $={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Q(this.remaining),j=this.remaining[M.length];if("/"!==j&&")"!==j&&";"!==j)throw new d.wOt(4010,!1);let pe;M.indexOf(":")>-1?(pe=M.slice(0,M.indexOf(":")),this.capture(pe),this.capture(":")):x&&(pe=Ft);const Ce=this.parseChildren();$[pe]=1===Object.keys(Ce).length?Ce[Ft]:new Yn([],Ce),this.consumeOptional("//")}return $}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new d.wOt(4011,!1)}}function gt(T){return T.segments.length>0?new Yn([],{[Ft]:T}):T}function vr(T){const x={};for(const[M,j]of Object.entries(T.children)){const pe=vr(j);if(M===Ft&&0===pe.segments.length&&pe.hasChildren())for(const[Ce,Lt]of Object.entries(pe.children))x[Ce]=Lt;else(pe.segments.length>0||pe.hasChildren())&&(x[M]=pe)}return function Mn(T){if(1===T.numberOfChildren&&T.children[Ft]){const x=T.children[Ft];return new Yn(T.segments.concat(x.segments),x.children)}return T}(new Yn(T.segments,x))}function Hr(T){return T instanceof zn}function Jn(T){var x;let $;const pe=gt(function M(Ce){const Lt={};for(const Bt of Ce.children){const Kn=M(Bt);Lt[Bt.outlet]=Kn}const pn=new Yn(Ce.url,Lt);return Ce===T&&($=pn),pn}(T.root));return null!==(x=$)&&void 0!==x?x:pe}function wi(T,x,$,M){let j=T;for(;j.parent;)j=j.parent;if(0===x.length)return Ro(j,j,j,$,M);const pe=function Ye(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new Pr(!0,0,T);let x=0,$=!1;const M=T.reduce((j,pe,Ce)=>{if("object"==typeof pe&&null!=pe){if(pe.outlets){const Lt={};return Object.entries(pe.outlets).forEach(([pn,Bt])=>{Lt[pn]="string"==typeof Bt?Bt.split("/"):Bt}),[...j,{outlets:Lt}]}if(pe.segmentPath)return[...j,pe.segmentPath]}return"string"!=typeof pe?[...j,pe]:0===Ce?(pe.split("/").forEach((Lt,pn)=>{0==pn&&"."===Lt||(0==pn&&""===Lt?$=!0:".."===Lt?x++:""!=Lt&&j.push(Lt))}),j):[...j,pe]},[]);return new Pr($,x,M)}(x);if(pe.toRoot())return Ro(j,j,new Yn([],{}),$,M);const Ce=function Ct(T,x,$){if(T.isAbsolute)return new be(x,!0,0);if(!$)return new be(x,!1,NaN);if(null===$.parent)return new be($,!0,0);const M=Wo(T.commands[0])?0:1;return function de(T,x,$){let M=T,j=x,pe=$;for(;pe>j;){if(pe-=j,M=M.parent,!M)throw new d.wOt(4005,!1);j=M.segments.length}return new be(M,!1,j-pe)}($,$.segments.length-1+M,T.numberOfDoubleDots)}(pe,j,T),Lt=Ce.processChildren?zt(Ce.segmentGroup,Ce.index,pe.commands):He(Ce.segmentGroup,Ce.index,pe.commands);return Ro(j,Ce.segmentGroup,Lt,$,M)}function Wo(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function $i(T){return"object"==typeof T&&null!=T&&T.outlets}function Ro(T,x,$,M,j){let Ce,pe={};M&&Object.entries(M).forEach(([pn,Bt])=>{pe[pn]=Array.isArray(Bt)?Bt.map(Kn=>`${Kn}`):`${Bt}`}),Ce=T===x?$:Ko(T,x,$);const Lt=gt(vr(Ce));return new zn(Lt,pe,j)}function Ko(T,x,$){const M={};return Object.entries(T.children).forEach(([j,pe])=>{M[j]=pe===x?$:Ko(pe,x,$)}),new Yn(T.segments,M)}class Pr{constructor(x,$,M){if(this.isAbsolute=x,this.numberOfDoubleDots=$,this.commands=M,x&&M.length>0&&Wo(M[0]))throw new d.wOt(4003,!1);const j=M.find($i);if(j&&j!==rn(M))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class be{constructor(x,$,M){this.segmentGroup=x,this.processChildren=$,this.index=M}}function He(T,x,$){var M;if(null!==(M=T)&&void 0!==M||(T=new Yn([],{})),0===T.segments.length&&T.hasChildren())return zt(T,x,$);const j=function dn(T,x,$){let M=0,j=x;const pe={match:!1,pathIndex:0,commandIndex:0};for(;j<T.segments.length;){if(M>=$.length)return pe;const Ce=T.segments[j],Lt=$[M];if($i(Lt))break;const pn=`${Lt}`,Bt=M<$.length-1?$[M+1]:null;if(j>0&&void 0===pn)break;if(pn&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!tr(pn,Bt,Ce))return pe;M+=2}else{if(!tr(pn,{},Ce))return pe;M++}j++}return{match:!0,pathIndex:j,commandIndex:M}}(T,x,$),pe=$.slice(j.commandIndex);if(j.match&&j.pathIndex<T.segments.length){const Ce=new Yn(T.segments.slice(0,j.pathIndex),{});return Ce.children[Ft]=new Yn(T.segments.slice(j.pathIndex),T.children),zt(Ce,0,pe)}return j.match&&0===pe.length?new Yn(T.segments,{}):j.match&&!T.hasChildren()?Rn(T,x,$):j.match?zt(T,0,pe):Rn(T,x,$)}function zt(T,x,$){if(0===$.length)return new Yn(T.segments,{});{const M=function le(T){return $i(T[0])?T[0].outlets:{[Ft]:T}}($),j={};if(Object.keys(M).some(pe=>pe!==Ft)&&T.children[Ft]&&1===T.numberOfChildren&&0===T.children[Ft].segments.length){const pe=zt(T.children[Ft],x,$);return new Yn(T.segments,pe.children)}return Object.entries(M).forEach(([pe,Ce])=>{"string"==typeof Ce&&(Ce=[Ce]),null!==Ce&&(j[pe]=He(T.children[pe],x,Ce))}),Object.entries(T.children).forEach(([pe,Ce])=>{void 0===M[pe]&&(j[pe]=Ce)}),new Yn(T.segments,j)}}function Rn(T,x,$){const M=T.segments.slice(0,x);let j=0;for(;j<$.length;){const pe=$[j];if($i(pe)){const pn=Hn(pe.outlets);return new Yn(M,pn)}if(0===j&&Wo($[0])){M.push(new dr(T.segments[x].path,Ar($[0]))),j++;continue}const Ce=$i(pe)?pe.outlets[Ft]:`${pe}`,Lt=j<$.length-1?$[j+1]:null;Ce&&Lt&&Wo(Lt)?(M.push(new dr(Ce,Ar(Lt))),j+=2):(M.push(new dr(Ce,{})),j++)}return new Yn(M,{})}function Hn(T){const x={};return Object.entries(T).forEach(([$,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(x[$]=Rn(new Yn([],{}),0,M))}),x}function Ar(T){const x={};return Object.entries(T).forEach(([$,M])=>x[$]=`${M}`),x}function tr(T,x,$){return T==$.path&&qt(x,$.parameters)}const Bi="imperative";var hr=function(T){return T[T.NavigationStart=0]="NavigationStart",T[T.NavigationEnd=1]="NavigationEnd",T[T.NavigationCancel=2]="NavigationCancel",T[T.NavigationError=3]="NavigationError",T[T.RoutesRecognized=4]="RoutesRecognized",T[T.ResolveStart=5]="ResolveStart",T[T.ResolveEnd=6]="ResolveEnd",T[T.GuardsCheckStart=7]="GuardsCheckStart",T[T.GuardsCheckEnd=8]="GuardsCheckEnd",T[T.RouteConfigLoadStart=9]="RouteConfigLoadStart",T[T.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",T[T.ChildActivationStart=11]="ChildActivationStart",T[T.ChildActivationEnd=12]="ChildActivationEnd",T[T.ActivationStart=13]="ActivationStart",T[T.ActivationEnd=14]="ActivationEnd",T[T.Scroll=15]="Scroll",T[T.NavigationSkipped=16]="NavigationSkipped",T}(hr||{});class Di{constructor(x,$){this.id=x,this.url=$}}class Ui extends Di{constructor(x,$,M="imperative",j=null){super(x,$),this.type=hr.NavigationStart,this.navigationTrigger=M,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yo extends Di{constructor(x,$,M){super(x,$),this.urlAfterRedirects=M,this.type=hr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ei=function(T){return T[T.Redirect=0]="Redirect",T[T.SupersededByNewNavigation=1]="SupersededByNewNavigation",T[T.NoDataFromResolver=2]="NoDataFromResolver",T[T.GuardRejected=3]="GuardRejected",T}(ei||{}),Po=function(T){return T[T.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",T[T.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",T}(Po||{});class Xi extends Di{constructor(x,$,M,j){super(x,$),this.reason=M,this.code=j,this.type=hr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class co extends Di{constructor(x,$,M,j){super(x,$),this.reason=M,this.code=j,this.type=hr.NavigationSkipped}}class Io extends Di{constructor(x,$,M,j){super(x,$),this.error=M,this.target=j,this.type=hr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xo extends Di{constructor(x,$,M,j){super(x,$),this.urlAfterRedirects=M,this.state=j,this.type=hr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi extends Di{constructor(x,$,M,j){super(x,$),this.urlAfterRedirects=M,this.state=j,this.type=hr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends Di{constructor(x,$,M,j,pe){super(x,$),this.urlAfterRedirects=M,this.state=j,this.shouldActivate=pe,this.type=hr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ts extends Di{constructor(x,$,M,j){super(x,$),this.urlAfterRedirects=M,this.state=j,this.type=hr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qo extends Di{constructor(x,$,M,j){super(x,$),this.urlAfterRedirects=M,this.state=j,this.type=hr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uo{constructor(x){this.route=x,this.type=hr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kr{constructor(x){this.route=x,this.type=hr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fs{constructor(x){this.snapshot=x,this.type=hr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(x){this.snapshot=x,this.type=hr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(x){this.snapshot=x,this.type=hr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ks{constructor(x){this.snapshot=x,this.type=hr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(x,$,M){this.routerEvent=x,this.position=$,this.anchor=M,this.type=hr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ho{}class Si{constructor(x,$){this.url=x,this.navigationBehaviorOptions=$}}function ti(T){return T.outlet||Ft}function xo(T){var x;if(!T)return null;if(null!==(x=T.routeConfig)&&void 0!==x&&x._injector)return T.routeConfig._injector;for(let $=T.parent;$;$=$.parent){const M=$.routeConfig;if(null!=M&&M._loadedInjector)return M._loadedInjector;if(null!=M&&M._injector)return M._injector}return null}class bi{get injector(){var x,$;return null!==(x=xo(null===($=this.route)||void 0===$?void 0:$.snapshot))&&void 0!==x?x:this.rootInjector}set injector(x){}constructor(x){this.rootInjector=x,this.outlet=null,this.route=null,this.children=new F(this.rootInjector),this.attachRef=null}}let F=(()=>{var T;class x{constructor(M){this.rootInjector=M,this.contexts=new Map}onChildOutletCreated(M,j){const pe=this.getOrCreateContext(M);pe.outlet=j,this.contexts.set(M,pe)}onChildOutletDestroyed(M){const j=this.getContext(M);j&&(j.outlet=null,j.attachRef=null)}onOutletDeactivated(){const M=this.contexts;return this.contexts=new Map,M}onOutletReAttached(M){this.contexts=M}getOrCreateContext(M){let j=this.getContext(M);return j||(j=new bi(this.rootInjector),this.contexts.set(M,j)),j}getContext(M){return this.contexts.get(M)||null}}return(T=x).\u0275fac=function(M){return new(M||T)(d.KVO(d.uvJ))},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();class E{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const $=this.pathFromRoot(x);return $.length>1?$[$.length-2]:null}children(x){const $=O(x,this._root);return $?$.children.map(M=>M.value):[]}firstChild(x){const $=O(x,this._root);return $&&$.children.length>0?$.children[0].value:null}siblings(x){const $=A(x,this._root);return $.length<2?[]:$[$.length-2].children.map(j=>j.value).filter(j=>j!==x)}pathFromRoot(x){return A(x,this._root).map($=>$.value)}}function O(T,x){if(T===x.value)return x;for(const $ of x.children){const M=O(T,$);if(M)return M}return null}function A(T,x){if(T===x.value)return[x];for(const $ of x.children){const M=A(T,$);if(M.length)return M.unshift(x),M}return[]}class G{constructor(x,$){this.value=x,this.children=$}toString(){return`TreeNode(${this.value})`}}function se(T){const x={};return T&&T.children.forEach($=>x[$.value.outlet]=$),x}class nt extends E{constructor(x,$){super(x),this.snapshot=$,Xn(this,x)}toString(){return this.snapshot.toString()}}function tn(T){const x=function Et(T){const pe=new wn([],{},{},"",{},Ft,T,null,{});return new Bn("",new G(pe,[]))}(T),$=new Se.t([new dr("",{})]),M=new Se.t({}),j=new Se.t({}),pe=new Se.t({}),Ce=new Se.t(""),Lt=new Ht($,M,pe,Ce,j,Ft,T,x.root);return Lt.snapshot=x.root,new nt(new G(Lt,[]),x)}class Ht{constructor(x,$,M,j,pe,Ce,Lt,pn){var Bt,Kn;this.urlSubject=x,this.paramsSubject=$,this.queryParamsSubject=M,this.fragmentSubject=j,this.dataSubject=pe,this.outlet=Ce,this.component=Lt,this._futureSnapshot=pn,this.title=null!==(Bt=null===(Kn=this.dataSubject)||void 0===Kn?void 0:Kn.pipe((0,Me.T)(Or=>Or[Nn])))&&void 0!==Bt?Bt:(0,Ee.of)(void 0),this.url=x,this.params=$,this.queryParams=M,this.fragment=j,this.data=pe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var x;return null!==(x=this._paramMap)&&void 0!==x||(this._paramMap=this.params.pipe((0,Me.T)($=>mn($)))),this._paramMap}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=this.queryParams.pipe((0,Me.T)($=>mn($)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function an(T,x,$="emptyOnly"){var M;let j;const{routeConfig:pe}=T;var Ce;return j=null===x||"always"!==$&&""!==(null==pe?void 0:pe.path)&&(x.component||null!==(M=x.routeConfig)&&void 0!==M&&M.loadComponent)?{params:{...T.params},data:{...T.data},resolve:{...T.data,...null!==(Ce=T._resolvedData)&&void 0!==Ce?Ce:{}}}:{params:{...x.params,...T.params},data:{...x.data,...T.data},resolve:{...T.data,...x.data,...null==pe?void 0:pe.data,...T._resolvedData}},pe&&ii(pe)&&(j.resolve[Nn]=pe.title),j}class wn{get title(){var x;return null===(x=this.data)||void 0===x?void 0:x[Nn]}constructor(x,$,M,j,pe,Ce,Lt,pn,Bt){this.url=x,this.params=$,this.queryParams=M,this.fragment=j,this.data=pe,this.outlet=Ce,this.component=Lt,this.routeConfig=pn,this._resolve=Bt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var x;return null!==(x=this._paramMap)&&void 0!==x||(this._paramMap=mn(this.params)),this._paramMap}get queryParamMap(){var x;return null!==(x=this._queryParamMap)&&void 0!==x||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bn extends E{constructor(x,$){super($),this.url=x,Xn(this,$)}toString(){return ir(this._root)}}function Xn(T,x){x.value._routerState=T,x.children.forEach($=>Xn(T,$))}function ir(T){const x=T.children.length>0?` { ${T.children.map(ir).join(", ")} } `:"";return`${T.value}${x}`}function Gr(T){if(T.snapshot){const x=T.snapshot,$=T._futureSnapshot;T.snapshot=$,qt(x.queryParams,$.queryParams)||T.queryParamsSubject.next($.queryParams),x.fragment!==$.fragment&&T.fragmentSubject.next($.fragment),qt(x.params,$.params)||T.paramsSubject.next($.params),function Gn(T,x){if(T.length!==x.length)return!1;for(let $=0;$<T.length;++$)if(!qt(T[$],x[$]))return!1;return!0}(x.url,$.url)||T.urlSubject.next($.url),qt(x.data,$.data)||T.dataSubject.next($.data)}else T.snapshot=T._futureSnapshot,T.dataSubject.next(T._futureSnapshot.data)}function vi(T,x){const $=qt(T.params,x.params)&&function jr(T,x){return Cn(T,x)&&T.every(($,M)=>qt($.parameters,x[M].parameters))}(T.url,x.url);return $&&!(!T.parent!=!x.parent)&&(!T.parent||vi(T.parent,x.parent))}function ii(T){return"string"==typeof T.title||null===T.title}let ui=(()=>{var T;class x{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(F),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(ao,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(M){if(M.name){const{firstChange:j,previousValue:pe}=M.name;if(j)return;this.isTrackedInParentContexts(pe)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(pe)),this.initializeOutletWithName()}}ngOnDestroy(){var M;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(M=this.inputBinder)||void 0===M||M.unsubscribeFromRouteData(this)}isTrackedInParentContexts(M){var j;return(null===(j=this.parentContexts.getContext(M))||void 0===j?void 0:j.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const M=this.parentContexts.getContext(this.name);null!=M&&M.route&&(M.attachRef?this.attach(M.attachRef,M.route):this.activateWith(M.route,M.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const M=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(M.instance),M}attach(M,j){var pe;this.activated=M,this._activatedRoute=j,this.location.insert(M.hostView),null===(pe=this.inputBinder)||void 0===pe||pe.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(M.instance)}deactivate(){if(this.activated){const M=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(M)}}activateWith(M,j){var pe;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=M;const Ce=this.location,pn=M.snapshot.component,Bt=this.parentContexts.getOrCreateContext(this.name).children,Kn=new di(M,Bt,Ce.injector);this.activated=Ce.createComponent(pn,{index:Ce.length,injector:Kn,environmentInjector:j}),this.changeDetector.markForCheck(),null===(pe=this.inputBinder)||void 0===pe||pe.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275dir=d.FsC({type:T,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),x})();class di{__ngOutletInjector(x){return new di(this.route,this.childContexts,x)}constructor(x,$,M){this.route=x,this.childContexts=$,this.parent=M}get(x,$){return x===Ht?this.route:x===F?this.childContexts:this.parent.get(x,$)}}const ao=new d.nKC("");let Eo=(()=>{var T;class x{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(M){this.unsubscribeFromRouteData(M),this.subscribeToRouteData(M)}unsubscribeFromRouteData(M){var j;null===(j=this.outletDataSubscriptions.get(M))||void 0===j||j.unsubscribe(),this.outletDataSubscriptions.delete(M)}subscribeToRouteData(M){const{activatedRoute:j}=M,pe=(0,Be.z)([j.queryParams,j.params,j.data]).pipe((0,it.n)(([Ce,Lt,pn],Bt)=>(pn={...Ce,...Lt,...pn},0===Bt?(0,Ee.of)(pn):Promise.resolve(pn)))).subscribe(Ce=>{if(!M.isActivated||!M.activatedComponentRef||M.activatedRoute!==j||null===j.component)return void this.unsubscribeFromRouteData(M);const Lt=(0,d.HJs)(j.component);if(Lt)for(const{templateName:pn}of Lt.inputs)M.activatedComponentRef.setInput(pn,Ce[pn]);else this.unsubscribeFromRouteData(M)});this.outletDataSubscriptions.set(M,pe)}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac}),x})();function fo(T,x,$){if($&&T.shouldReuseRoute(x.value,$.value.snapshot)){const M=$.value;M._futureSnapshot=x.value;const j=function rs(T,x,$){return x.children.map(M=>{for(const j of $.children)if(T.shouldReuseRoute(M.value,j.value.snapshot))return fo(T,M,j);return fo(T,M)})}(T,x,$);return new G(M,j)}{if(T.shouldAttach(x.value)){const pe=T.retrieve(x.value);if(null!==pe){const Ce=pe.route;return Ce.value._futureSnapshot=x.value,Ce.children=x.children.map(Lt=>fo(T,Lt)),Ce}}const M=function bs(T){return new Ht(new Se.t(T.url),new Se.t(T.params),new Se.t(T.queryParams),new Se.t(T.fragment),new Se.t(T.data),T.outlet,T.component,T)}(x.value),j=x.children.map(pe=>fo(T,pe));return new G(M,j)}}class lo{constructor(x,$){this.redirectTo=x,this.navigationBehaviorOptions=$}}const ps="ngNavigationCancelingError";function No(T,x){const{redirectTo:$,navigationBehaviorOptions:M}=Hr(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,j=po(!1,ei.Redirect);return j.url=$,j.navigationBehaviorOptions=M,j}function po(T,x){const $=new Error(`NavigationCancelingError: ${T||""}`);return $[ps]=!0,$.cancellationCode=x,$}function ni(T){return!!T&&T[ps]}class To{constructor(x,$,M,j,pe){this.routeReuseStrategy=x,this.futureState=$,this.currState=M,this.forwardEvent=j,this.inputBindingEnabled=pe}activate(x){const $=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes($,M,x),Gr(this.futureState.root),this.activateChildRoutes($,M,x)}deactivateChildRoutes(x,$,M){const j=se($);x.children.forEach(pe=>{const Ce=pe.value.outlet;this.deactivateRoutes(pe,j[Ce],M),delete j[Ce]}),Object.values(j).forEach(pe=>{this.deactivateRouteAndItsChildren(pe,M)})}deactivateRoutes(x,$,M){const j=x.value,pe=$?$.value:null;if(j===pe)if(j.component){const Ce=M.getContext(j.outlet);Ce&&this.deactivateChildRoutes(x,$,Ce.children)}else this.deactivateChildRoutes(x,$,M);else pe&&this.deactivateRouteAndItsChildren($,M)}deactivateRouteAndItsChildren(x,$){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,$):this.deactivateRouteAndOutlet(x,$)}detachAndStoreRouteSubtree(x,$){const M=$.getContext(x.value.outlet),j=M&&x.value.component?M.children:$,pe=se(x);for(const Ce of Object.values(pe))this.deactivateRouteAndItsChildren(Ce,j);if(M&&M.outlet){const Ce=M.outlet.detach(),Lt=M.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:Ce,route:x,contexts:Lt})}}deactivateRouteAndOutlet(x,$){const M=$.getContext(x.value.outlet),j=M&&x.value.component?M.children:$,pe=se(x);for(const Ce of Object.values(pe))this.deactivateRouteAndItsChildren(Ce,j);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(x,$,M){const j=se($);x.children.forEach(pe=>{this.activateRoutes(pe,j[pe.value.outlet],M),this.forwardEvent(new Ks(pe.value.snapshot))}),x.children.length&&this.forwardEvent(new Fn(x.value.snapshot))}activateRoutes(x,$,M){const j=x.value,pe=$?$.value:null;if(Gr(j),j===pe)if(j.component){const Ce=M.getOrCreateContext(j.outlet);this.activateChildRoutes(x,$,Ce.children)}else this.activateChildRoutes(x,$,M);else if(j.component){const Ce=M.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Lt=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Ce.children.onOutletReAttached(Lt.contexts),Ce.attachRef=Lt.componentRef,Ce.route=Lt.route.value,Ce.outlet&&Ce.outlet.attach(Lt.componentRef,Lt.route.value),Gr(Lt.route.value),this.activateChildRoutes(x,null,Ce.children)}else Ce.attachRef=null,Ce.route=j,Ce.outlet&&Ce.outlet.activateWith(j,Ce.injector),this.activateChildRoutes(x,null,Ce.children)}else this.activateChildRoutes(x,null,M)}}class Cs{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class xr{constructor(x,$){this.component=x,this.route=$}}function zr(T,x,$){const M=T._root;return Ut(M,x?x._root:null,$,[M.value])}function Xe(T,x){const $=Symbol(),M=x.get(T,$);return M===$?"function"!=typeof T||(0,d.LfX)(T)?x.get(T):T:M}function Ut(T,x,$,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const pe=se(x);return T.children.forEach(Ce=>{(function gn(T,x,$,M,j={canDeactivateChecks:[],canActivateChecks:[]}){const pe=T.value,Ce=x?x.value:null,Lt=$?$.getContext(T.value.outlet):null;if(Ce&&pe.routeConfig===Ce.routeConfig){const pn=function jn(T,x,$){if("function"==typeof $)return $(T,x);switch($){case"pathParamsChange":return!Cn(T.url,x.url);case"pathParamsOrQueryParamsChange":return!Cn(T.url,x.url)||!qt(T.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vi(T,x)||!qt(T.queryParams,x.queryParams);default:return!vi(T,x)}}(Ce,pe,pe.routeConfig.runGuardsAndResolvers);pn?j.canActivateChecks.push(new Cs(M)):(pe.data=Ce.data,pe._resolvedData=Ce._resolvedData),Ut(T,x,pe.component?Lt?Lt.children:null:$,M,j),pn&&Lt&&Lt.outlet&&Lt.outlet.isActivated&&j.canDeactivateChecks.push(new xr(Lt.outlet.component,Ce))}else Ce&&yn(x,Lt,j),j.canActivateChecks.push(new Cs(M)),Ut(T,null,pe.component?Lt?Lt.children:null:$,M,j)})(Ce,pe[Ce.value.outlet],$,M.concat([Ce.value]),j),delete pe[Ce.value.outlet]}),Object.entries(pe).forEach(([Ce,Lt])=>yn(Lt,$.getContext(Ce),j)),j}function yn(T,x,$){const M=se(T),j=T.value;Object.entries(M).forEach(([pe,Ce])=>{yn(Ce,j.component?x?x.children.getContext(pe):null:x,$)}),$.canDeactivateChecks.push(new xr(j.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,j))}function Wn(T){return"function"==typeof T}function ka(T){return T instanceof ot.G||"EmptyError"===(null==T?void 0:T.name)}const gi=Symbol("INITIAL_VALUE");function As(){return(0,it.n)(T=>(0,Be.z)(T.map(x=>x.pipe((0,dt.s)(1),(0,rt.Z)(gi)))).pipe((0,Me.T)(x=>{for(const $ of x)if(!0!==$){if($===gi)return gi;if(!1===$||Ll($))return $}return!0}),(0,he.p)(x=>x!==gi),(0,dt.s)(1)))}function Ll(T){return Hr(T)||T instanceof lo}function fn(T){return(0,Qe.F)((0,Nt.M)(x=>{if("boolean"!=typeof x)throw No(0,x)}),(0,Me.T)(x=>!0===x))}class Pi{constructor(x){this.segmentGroup=x||null}}class ki extends Error{constructor(x){super(),this.urlTree=x}}function no(T){return Ke(new Pi(T))}class Fa{constructor(x,$){this.urlSerializer=x,this.urlTree=$}lineralizeSegments(x,$){let M=[],j=$.root;for(;;){if(M=M.concat(j.segments),0===j.numberOfChildren)return(0,Ee.of)(M);if(j.numberOfChildren>1||!j.children[Ft])return Ke(new d.wOt(4e3,!1));j=j.children[Ft]}}applyRedirectCommands(x,$,M,j,pe){if("string"!=typeof $){const Lt=$,{queryParams:pn,fragment:Bt,routeConfig:Kn,url:Or,outlet:Ni,params:Xr,data:Ki,title:Ho}=j,Jo=(0,d.N4e)(pe,()=>Lt({params:Xr,data:Ki,queryParams:pn,fragment:Bt,routeConfig:Kn,url:Or,outlet:Ni,title:Ho}));if(Jo instanceof zn)throw new ki(Jo);$=Jo}const Ce=this.applyRedirectCreateUrlTree($,this.urlSerializer.parse($),x,M);if("/"===$[0])throw new ki(Ce);return Ce}applyRedirectCreateUrlTree(x,$,M,j){const pe=this.createSegmentGroup(x,$.root,M,j);return new zn(pe,this.createQueryParams($.queryParams,this.urlTree.queryParams),$.fragment)}createQueryParams(x,$){const M={};return Object.entries(x).forEach(([j,pe])=>{if("string"==typeof pe&&":"===pe[0]){const Lt=pe.substring(1);M[j]=$[Lt]}else M[j]=pe}),M}createSegmentGroup(x,$,M,j){const pe=this.createSegments(x,$.segments,M,j);let Ce={};return Object.entries($.children).forEach(([Lt,pn])=>{Ce[Lt]=this.createSegmentGroup(x,pn,M,j)}),new Yn(pe,Ce)}createSegments(x,$,M,j){return $.map(pe=>":"===pe.path[0]?this.findPosParam(x,pe,j):this.findOrReturn(pe,M))}findPosParam(x,$,M){const j=M[$.path.substring(1)];if(!j)throw new d.wOt(4001,!1);return j}findOrReturn(x,$){let M=0;for(const j of $){if(j.path===x.path)return $.splice(M),j;M++}return x}}const go={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rr(T,x,$,M,j){const pe=yi(T,x,$);return pe.matched?(M=function Mo(T,x){var $;return T.providers&&!T._injector&&(T._injector=(0,d.Ol2)(T.providers,x,`Route: ${T.path}`)),null!==($=T._injector)&&void 0!==$?$:x}(x,M),function or(T,x,$,M){const j=x.canMatch;if(!j||0===j.length)return(0,Ee.of)(!0);const pe=j.map(Ce=>{const Lt=Xe(Ce,T);return ke(function Oa(T){return T&&Wn(T.canMatch)}(Lt)?Lt.canMatch(x,$):(0,d.N4e)(T,()=>Lt(x,$)))});return(0,Ee.of)(pe).pipe(As(),fn())}(M,x,$).pipe((0,Me.T)(Ce=>!0===Ce?pe:{...go}))):(0,Ee.of)(pe)}function yi(T,x,$){var M,j;if("**"===x.path)return function Gi(T){return{matched:!0,parameters:T.length>0?rn(T).parameters:{},consumedSegments:T,remainingSegments:[],positionalParamSegments:{}}}($);if(""===x.path)return"full"===x.pathMatch&&(T.hasChildren()||$.length>0)?{...go}:{matched:!0,consumedSegments:[],remainingSegments:$,parameters:{},positionalParamSegments:{}};const Ce=(x.matcher||kn)($,T,x);if(!Ce)return{...go};const Lt={};Object.entries(null!==(M=Ce.posParams)&&void 0!==M?M:{}).forEach(([Bt,Kn])=>{Lt[Bt]=Kn.path});const pn=Ce.consumed.length>0?{...Lt,...Ce.consumed[Ce.consumed.length-1].parameters}:Lt;return{matched:!0,consumedSegments:Ce.consumed,remainingSegments:$.slice(Ce.consumed.length),parameters:pn,positionalParamSegments:null!==(j=Ce.posParams)&&void 0!==j?j:{}}}function Os(T,x,$,M){return $.length>0&&function ra(T,x,$){return $.some(M=>ks(T,x,M)&&ti(M)!==Ft)}(T,$,M)?{segmentGroup:new Yn(x,za(M,new Yn($,T.children))),slicedSegments:[]}:0===$.length&&function ms(T,x,$){return $.some(M=>ks(T,x,M))}(T,$,M)?{segmentGroup:new Yn(T.segments,mo(T,$,M,T.children)),slicedSegments:$}:{segmentGroup:new Yn(T.segments,T.children),slicedSegments:$}}function mo(T,x,$,M){const j={};for(const pe of $)if(ks(T,x,pe)&&!M[ti(pe)]){const Ce=new Yn([],{});j[ti(pe)]=Ce}return{...M,...j}}function za(T,x){const $={};$[Ft]=x;for(const M of T)if(""===M.path&&ti(M)!==Ft){const j=new Yn([],{});$[ti(M)]=j}return $}function ks(T,x,$){return(!(T.hasChildren()||x.length>0)||"full"!==$.pathMatch)&&""===$.path}class La{}class Oo{constructor(x,$,M,j,pe,Ce,Lt){this.injector=x,this.configLoader=$,this.rootComponentType=M,this.config=j,this.urlTree=pe,this.paramsInheritanceStrategy=Ce,this.urlSerializer=Lt,this.applyRedirects=new Fa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(x){return new d.wOt(4002,`'${x.segmentGroup}'`)}recognize(){const x=Os(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(x).pipe((0,Me.T)(({children:$,rootSnapshot:M})=>{const j=new G(M,$),pe=new Bn("",j),Ce=function Qr(T,x,$=null,M=null){return wi(Jn(T),x,$,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return Ce.queryParams=this.urlTree.queryParams,pe.url=this.urlSerializer.serialize(Ce),{state:pe,tree:Ce}}))}match(x){const $=new wn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ft,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,x,Ft,$).pipe((0,Me.T)(M=>({children:M,rootSnapshot:$})),Ot(M=>{if(M instanceof ki)return this.urlTree=M.urlTree,this.match(M.urlTree.root);throw M instanceof Pi?this.noMatchError(M):M}))}processSegmentGroup(x,$,M,j,pe){return 0===M.segments.length&&M.hasChildren()?this.processChildren(x,$,M,pe):this.processSegment(x,$,M,M.segments,j,!0,pe).pipe((0,Me.T)(Ce=>Ce instanceof G?[Ce]:[]))}processChildren(x,$,M,j){const pe=[];for(const Ce of Object.keys(M.children))"primary"===Ce?pe.unshift(Ce):pe.push(Ce);return(0,W.H)(pe).pipe((0,Je.H)(Ce=>{const Lt=M.children[Ce],pn=function ns(T,x){const $=T.filter(M=>ti(M)===x);return $.push(...T.filter(M=>ti(M)!==x)),$}($,Ce);return this.processSegmentGroup(x,pn,Lt,Ce,j)}),(0,un.S)((Ce,Lt)=>(Ce.push(...Lt),Ce)),(0,Ge.U)(null),function oe(T,x){const $=arguments.length>=2;return M=>M.pipe(T?(0,he.p)((j,pe)=>T(j,pe,M)):De.D,we(1),$?(0,Ge.U)(x):(0,me.v)(()=>new ot.G))}(),(0,ht.Z)(Ce=>{if(null===Ce)return no(M);const Lt=ll(Ce);return function Wa(T){T.sort((x,$)=>x.value.outlet===Ft?-1:$.value.outlet===Ft?1:x.value.outlet.localeCompare($.value.outlet))}(Lt),(0,Ee.of)(Lt)}))}processSegment(x,$,M,j,pe,Ce,Lt){return(0,W.H)($).pipe((0,Je.H)(pn=>{var Bt;return this.processSegmentAgainstRoute(null!==(Bt=pn._injector)&&void 0!==Bt?Bt:x,$,pn,M,j,pe,Ce,Lt).pipe(Ot(Kn=>{if(Kn instanceof Pi)return(0,Ee.of)(null);throw Kn}))}),(0,ft.$)(pn=>!!pn),Ot(pn=>{if(ka(pn))return function al(T,x,$){return 0===x.length&&!T.children[$]}(M,j,pe)?(0,Ee.of)(new La):no(M);throw pn}))}processSegmentAgainstRoute(x,$,M,j,pe,Ce,Lt,pn){return ti(M)===Ce||Ce!==Ft&&ks(j,pe,M)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(x,j,M,pe,Ce,pn):this.allowRedirects&&Lt?this.expandSegmentAgainstRouteUsingRedirect(x,j,$,M,pe,Ce,pn):no(j):no(j)}expandSegmentAgainstRouteUsingRedirect(x,$,M,j,pe,Ce,Lt){var pn,Bt;const{matched:Kn,parameters:Or,consumedSegments:Ni,positionalParamSegments:Xr,remainingSegments:Ki}=yi($,j,pe);if(!Kn)return no($);"string"==typeof j.redirectTo&&"/"===j.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ho=new wn(pe,Or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fs(j),ti(j),null!==(pn=null!==(Bt=j.component)&&void 0!==Bt?Bt:j._loadedComponent)&&void 0!==pn?pn:null,j,Ts(j)),Jo=an(Ho,Lt,this.paramsInheritanceStrategy);Ho.params=Object.freeze(Jo.params),Ho.data=Object.freeze(Jo.data);const dl=this.applyRedirects.applyRedirectCommands(Ni,j.redirectTo,Xr,Ho,x);return this.applyRedirects.lineralizeSegments(j,dl).pipe((0,ht.Z)(cs=>this.processSegment(x,M,$,cs.concat(Ki),Ce,!1,Lt)))}matchSegmentAgainstRoute(x,$,M,j,pe,Ce){const Lt=Rr($,M,j,x);return"**"===M.path&&($.children={}),Lt.pipe((0,it.n)(pn=>{var Bt;return pn.matched?(x=null!==(Bt=M._injector)&&void 0!==Bt?Bt:x,this.getChildConfig(x,M,j).pipe((0,it.n)(({routes:Kn})=>{var Or,Ni,Xr;const Ki=null!==(Or=M._loadedInjector)&&void 0!==Or?Or:x,{parameters:Ho,consumedSegments:Jo,remainingSegments:dl}=pn,cs=new wn(Jo,Ho,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Fs(M),ti(M),null!==(Ni=null!==(Xr=M.component)&&void 0!==Xr?Xr:M._loadedComponent)&&void 0!==Ni?Ni:null,M,Ts(M)),Js=an(cs,Ce,this.paramsInheritanceStrategy);cs.params=Object.freeze(Js.params),cs.data=Object.freeze(Js.data);const{segmentGroup:wl,slicedSegments:oc}=Os($,Jo,dl,Kn);if(0===oc.length&&wl.hasChildren())return this.processChildren(Ki,Kn,wl,cs).pipe((0,Me.T)(Ta=>new G(cs,Ta)));if(0===Kn.length&&0===oc.length)return(0,Ee.of)(new G(cs,[]));const jl=ti(M)===pe;return this.processSegment(Ki,Kn,wl,oc,jl?Ft:pe,!0,cs).pipe((0,Me.T)(Ta=>new G(cs,Ta instanceof G?[Ta]:[])))}))):no($)}))}getChildConfig(x,$,M){return $.children?(0,Ee.of)({routes:$.children,injector:x}):$.loadChildren?void 0!==$._loadedRoutes?(0,Ee.of)({routes:$._loadedRoutes,injector:$._loadedInjector}):function ye(T,x,$,M){const j=x.canLoad;if(void 0===j||0===j.length)return(0,Ee.of)(!0);const pe=j.map(Ce=>{const Lt=Xe(Ce,T);return ke(function Qi(T){return T&&Wn(T.canLoad)}(Lt)?Lt.canLoad(x,$):(0,d.N4e)(T,()=>Lt(x,$)))});return(0,Ee.of)(pe).pipe(As(),fn())}(x,$,M).pipe((0,ht.Z)(j=>j?this.configLoader.loadChildren(x,$).pipe((0,Nt.M)(pe=>{$._loadedRoutes=pe.routes,$._loadedInjector=pe.injector})):function gs(){return Ke(po(!1,ei.GuardRejected))}())):(0,Ee.of)({routes:[],injector:x})}}function as(T){const x=T.value.routeConfig;return x&&""===x.path}function ll(T){const x=[],$=new Set;for(const M of T){if(!as(M)){x.push(M);continue}const j=x.find(pe=>M.value.routeConfig===pe.value.routeConfig);void 0!==j?(j.children.push(...M.children),$.add(j)):x.push(M)}for(const M of $){const j=ll(M.children);x.push(new G(M.value,j))}return x.filter(M=>!$.has(M))}function Fs(T){return T.data||{}}function Ts(T){return T.resolve||{}}function Al(T){const x=T.children.map($=>Al($)).flat();return[T,...x]}function oa(T){return(0,it.n)(x=>{const $=T(x);return $?(0,W.H)($).pipe((0,Me.T)(()=>x)):(0,Ee.of)(x)})}let Va=(()=>{var T;class x{buildTitle(M){let j,pe=M.root;for(;void 0!==pe;){var Ce;j=null!==(Ce=this.getResolvedTitleForRoute(pe))&&void 0!==Ce?Ce:j,pe=pe.children.find(Lt=>Lt.outlet===Ft)}return j}getResolvedTitleForRoute(M){return M.data[Nn]}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(jo),providedIn:"root"}),x})(),jo=(()=>{var T;class x extends Va{constructor(M){super(),this.title=M}updateTitle(M){const j=this.buildTitle(M);void 0!==j&&this.title.setTitle(j)}}return(T=x).\u0275fac=function(M){return new(M||T)(d.KVO(_t.hE))},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();const vs=new d.nKC("",{providedIn:"root",factory:()=>({})});let Ea=(()=>{var T;class x{}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275cmp=d.VBU({type:T,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(M,j){1&M&&d.nrm(0,"router-outlet")},dependencies:[ui],encapsulation:2}),x})();function rc(T){const x=T.children&&T.children.map(rc),$=x?{...T,children:x}:{...T};return!$.component&&!$.loadComponent&&(x||$.loadChildren)&&$.outlet&&$.outlet!==Ft&&($.component=Ea),$}const Ka=new d.nKC("");let ul=(()=>{var T;class x{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(M){if(this.componentLoaders.get(M))return this.componentLoaders.get(M);if(M._loadedComponent)return(0,Ee.of)(M._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(M);const j=ke(M.loadComponent()).pipe((0,Me.T)(sa),(0,Nt.M)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(M),M._loadedComponent=Ce}),(0,ze.j)(()=>{this.componentLoaders.delete(M)})),pe=new At(j,()=>new Te.B).pipe(Mt());return this.componentLoaders.set(M,pe),pe}loadChildren(M,j){if(this.childrenLoaders.get(j))return this.childrenLoaders.get(j);if(j._loadedRoutes)return(0,Ee.of)({routes:j._loadedRoutes,injector:j._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(j);const Ce=function ws(T,x,$,M){return ke(T.loadChildren()).pipe((0,Me.T)(sa),(0,ht.Z)(j=>j instanceof d.Co$||Array.isArray(j)?(0,Ee.of)(j):(0,W.H)(x.compileModuleAsync(j))),(0,Me.T)(j=>{M&&M(T);let pe,Ce,Lt=!1;return Array.isArray(j)?(Ce=j,!0):(pe=j.create($).injector,Ce=pe.get(Ka,[],{optional:!0,self:!0}).flat()),{routes:Ce.map(rc),injector:pe}}))}(j,this.compiler,M,this.onLoadEndListener).pipe((0,ze.j)(()=>{this.childrenLoaders.delete(j)})),Lt=new At(Ce,()=>new Te.B).pipe(Mt());return this.childrenLoaders.set(j,Lt),Lt}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();function sa(T){return function ro(T){return T&&"object"==typeof T&&"default"in T}(T)?T.default:T}let Vs=(()=>{var T;class x{}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(Ds),providedIn:"root"}),x})(),Ds=(()=>{var T;class x{shouldProcessUrl(M){return!0}extract(M){return M}merge(M,j){return M}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();const Ua=new d.nKC(""),Ul=new d.nKC("");function R(T,x,$){const M=T.get(Ul),j=T.get(xe.qQ);return T.get(d.SKi).runOutsideAngular(()=>{if(!j.startViewTransition||M.skipNextTransition)return M.skipNextTransition=!1,new Promise(Bt=>setTimeout(Bt));let pe;const Ce=new Promise(Bt=>{pe=Bt}),Lt=j.startViewTransition(()=>(pe(),function q(T){return new Promise(x=>{(0,d.mal)({read:()=>setTimeout(x)},{injector:T})})}(T))),{onViewTransitionCreated:pn}=M;return pn&&(0,d.N4e)(T,()=>pn({transition:Lt,from:x,to:$})),Ce})}const Le=new d.nKC("");let X=(()=>{var T;class x{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te.B,this.transitionAbortSubject=new Te.B,this.configLoader=(0,d.WQX)(ul),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Un),this.rootContexts=(0,d.WQX)(F),this.location=(0,d.WQX)(xe.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(ao,{optional:!0}),this.titleStrategy=(0,d.WQX)(Va),this.options=(0,d.WQX)(vs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(Vs),this.createViewTransition=(0,d.WQX)(Ua,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(Le,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ee.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=pe=>this.events.next(new Kr(pe)),this.configLoader.onLoadStartListener=pe=>this.events.next(new uo(pe))}complete(){var M;null===(M=this.transitions)||void 0===M||M.complete()}handleNavigationRequest(M){var j;const pe=++this.navigationId;null===(j=this.transitions)||void 0===j||j.next({...this.transitions.value,...M,id:pe})}setupNavigations(M,j,pe){return this.transitions=new Se.t({id:0,currentUrlTree:j,currentRawUrl:j,extractedUrl:this.urlHandlingStrategy.extract(j),urlAfterRedirects:this.urlHandlingStrategy.extract(j),rawUrl:j,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Bi,restoredState:null,currentSnapshot:pe.snapshot,targetSnapshot:null,currentRouterState:pe,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,he.p)(Ce=>0!==Ce.id),(0,Me.T)(Ce=>({...Ce,extractedUrl:this.urlHandlingStrategy.extract(Ce.rawUrl)})),(0,it.n)(Ce=>{let Lt=!1,pn=!1;return(0,Ee.of)(Ce).pipe((0,it.n)(Bt=>{var Kn;if(this.navigationId>Ce.id)return this.cancelNavigationTransition(Ce,"",ei.SupersededByNewNavigation),ct.w;this.currentTransition=Ce,this.currentNavigation={id:Bt.id,initialUrl:Bt.rawUrl,extractedUrl:Bt.extractedUrl,targetBrowserUrl:"string"==typeof Bt.extras.browserUrl?this.urlSerializer.parse(Bt.extras.browserUrl):Bt.extras.browserUrl,trigger:Bt.source,extras:Bt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Or=!M.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Ni=null!==(Kn=Bt.extras.onSameUrlNavigation)&&void 0!==Kn?Kn:M.onSameUrlNavigation;if(!Or&&"reload"!==Ni){const Xr="";return this.events.next(new co(Bt.id,this.urlSerializer.serialize(Bt.rawUrl),Xr,Po.IgnoredSameUrlNavigation)),Bt.resolve(!1),ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(Bt.rawUrl))return(0,Ee.of)(Bt).pipe((0,it.n)(Xr=>{var Ki,Ho;const Jo=null===(Ki=this.transitions)||void 0===Ki?void 0:Ki.getValue();return this.events.next(new Ui(Xr.id,this.urlSerializer.serialize(Xr.extractedUrl),Xr.source,Xr.restoredState)),Jo!==(null===(Ho=this.transitions)||void 0===Ho?void 0:Ho.getValue())?ct.w:Promise.resolve(Xr)}),function cl(T,x,$,M,j,pe){return(0,ht.Z)(Ce=>function Tc(T,x,$,M,j,pe,Ce="emptyOnly"){return new Oo(T,x,$,M,j,Ce,pe).recognize()}(T,x,$,M,Ce.extractedUrl,j,pe).pipe((0,Me.T)(({state:Lt,tree:pn})=>({...Ce,targetSnapshot:Lt,urlAfterRedirects:pn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,M.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Nt.M)(Xr=>{Ce.targetSnapshot=Xr.targetSnapshot,Ce.urlAfterRedirects=Xr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Xr.urlAfterRedirects};const Ki=new Xo(Xr.id,this.urlSerializer.serialize(Xr.extractedUrl),this.urlSerializer.serialize(Xr.urlAfterRedirects),Xr.targetSnapshot);this.events.next(Ki)}));if(Or&&this.urlHandlingStrategy.shouldProcessUrl(Bt.currentRawUrl)){const{id:Xr,extractedUrl:Ki,source:Ho,restoredState:Jo,extras:dl}=Bt,cs=new Ui(Xr,this.urlSerializer.serialize(Ki),Ho,Jo);this.events.next(cs);const Js=tn(this.rootComponentType).snapshot;return this.currentTransition=Ce={...Bt,targetSnapshot:Js,urlAfterRedirects:Ki,extras:{...dl,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ki,(0,Ee.of)(Ce)}{const Xr="";return this.events.next(new co(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),Xr,Po.IgnoredByUrlHandlingStrategy)),Bt.resolve(!1),ct.w}}),(0,Nt.M)(Bt=>{const Kn=new qi(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot);this.events.next(Kn)}),(0,Me.T)(Bt=>(this.currentTransition=Ce={...Bt,guards:zr(Bt.targetSnapshot,Bt.currentSnapshot,this.rootContexts)},Ce)),function nc(T,x){return(0,ht.Z)($=>{const{targetSnapshot:M,currentSnapshot:j,guards:{canActivateChecks:pe,canDeactivateChecks:Ce}}=$;return 0===Ce.length&&0===pe.length?(0,Ee.of)({...$,guardsResult:!0}):function ss(T,x,$,M){return(0,W.H)(T).pipe((0,ht.Z)(j=>function K(T,x,$,M,j){const pe=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!pe||0===pe.length)return(0,Ee.of)(!0);const Ce=pe.map(Lt=>{var pn;const Bt=null!==(pn=xo(x))&&void 0!==pn?pn:j,Kn=Xe(Lt,Bt);return ke(function oi(T){return T&&Wn(T.canDeactivate)}(Kn)?Kn.canDeactivate(T,x,$,M):(0,d.N4e)(Bt,()=>Kn(T,x,$,M))).pipe((0,ft.$)())});return(0,Ee.of)(Ce).pipe(As())}(j.component,j.route,$,x,M)),(0,ft.$)(j=>!0!==j,!0))}(Ce,M,j,T).pipe((0,ht.Z)(Lt=>Lt&&function Vi(T){return"boolean"==typeof T}(Lt)?function Yo(T,x,$,M){return(0,W.H)(x).pipe((0,Je.H)(j=>(0,Re.x)(function Z(T,x){return null!==T&&x&&x(new fs(T)),(0,Ee.of)(!0)}(j.route.parent,M),function Ia(T,x){return null!==T&&x&&x(new $r(T)),(0,Ee.of)(!0)}(j.route,M),function ae(T,x,$){const M=x[x.length-1],pe=x.slice(0,x.length-1).reverse().map(Ce=>function fe(T){const x=T.routeConfig?T.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:T,guards:x}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>et(()=>{const Lt=Ce.guards.map(pn=>{var Bt;const Kn=null!==(Bt=xo(Ce.node))&&void 0!==Bt?Bt:$,Or=Xe(pn,Kn);return ke(function os(T){return T&&Wn(T.canActivateChild)}(Or)?Or.canActivateChild(M,T):(0,d.N4e)(Kn,()=>Or(M,T))).pipe((0,ft.$)())});return(0,Ee.of)(Lt).pipe(As())}));return(0,Ee.of)(pe).pipe(As())}(T,j.path,$),function L(T,x,$){const M=x.routeConfig?x.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Ee.of)(!0);const j=M.map(pe=>et(()=>{var Ce;const Lt=null!==(Ce=xo(x))&&void 0!==Ce?Ce:$,pn=Xe(pe,Lt);return ke(function Ji(T){return T&&Wn(T.canActivate)}(pn)?pn.canActivate(x,T):(0,d.N4e)(Lt,()=>pn(x,T))).pipe((0,ft.$)())}));return(0,Ee.of)(j).pipe(As())}(T,j.route,$))),(0,ft.$)(j=>!0!==j,!0))}(M,pe,T,x):(0,Ee.of)(Lt)),(0,Me.T)(Lt=>({...$,guardsResult:Lt})))})}(this.environmentInjector,Bt=>this.events.next(Bt)),(0,Nt.M)(Bt=>{if(Ce.guardsResult=Bt.guardsResult,Bt.guardsResult&&"boolean"!=typeof Bt.guardsResult)throw No(0,Bt.guardsResult);const Kn=new Bo(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects),Bt.targetSnapshot,!!Bt.guardsResult);this.events.next(Kn)}),(0,he.p)(Bt=>!!Bt.guardsResult||(this.cancelNavigationTransition(Bt,"",ei.GuardRejected),!1)),oa(Bt=>{if(Bt.guards.canActivateChecks.length)return(0,Ee.of)(Bt).pipe((0,Nt.M)(Kn=>{const Or=new ts(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(Or)}),(0,it.n)(Kn=>{let Or=!1;return(0,Ee.of)(Kn).pipe(function Ls(T,x){return(0,ht.Z)($=>{const{targetSnapshot:M,guards:{canActivateChecks:j}}=$;if(!j.length)return(0,Ee.of)($);const pe=new Set(j.map(pn=>pn.route)),Ce=new Set;for(const pn of pe)if(!Ce.has(pn))for(const Bt of Al(pn))Ce.add(Bt);let Lt=0;return(0,W.H)(Ce).pipe((0,Je.H)(pn=>pe.has(pn)?function Vl(T,x,$,M){const j=T.routeConfig,pe=T._resolve;return void 0!==(null==j?void 0:j.title)&&!ii(j)&&(pe[Nn]=j.title),function Fr(T,x,$,M){const j=jt(T);if(0===j.length)return(0,Ee.of)({});const pe={};return(0,W.H)(j).pipe((0,ht.Z)(Ce=>function iu(T,x,$,M){var j;const pe=null!==(j=xo(x))&&void 0!==j?j:M,Ce=Xe(T,pe);return ke(Ce.resolve?Ce.resolve(x,$):(0,d.N4e)(pe,()=>Ce(x,$)))}(T[Ce],x,$,M).pipe((0,ft.$)(),(0,Nt.M)(Lt=>{if(Lt instanceof lo)throw No(new mr,Lt);pe[Ce]=Lt}))),we(1),function Ne(T){return(0,Me.T)(()=>T)}(pe),Ot(Ce=>ka(Ce)?ct.w:Ke(Ce)))}(pe,T,x,M).pipe((0,Me.T)(Ce=>(T._resolvedData=Ce,T.data=an(T,T.parent,$).resolve,null)))}(pn,M,T,x):(pn.data=an(pn,pn.parent,T).resolve,(0,Ee.of)(void 0))),(0,Nt.M)(()=>Lt++),we(1),(0,ht.Z)(pn=>Lt===Ce.size?(0,Ee.of)($):ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Nt.M)({next:()=>Or=!0,complete:()=>{Or||this.cancelNavigationTransition(Kn,"",ei.NoDataFromResolver)}}))}),(0,Nt.M)(Kn=>{const Or=new qo(Kn.id,this.urlSerializer.serialize(Kn.extractedUrl),this.urlSerializer.serialize(Kn.urlAfterRedirects),Kn.targetSnapshot);this.events.next(Or)}))}),oa(Bt=>{const Kn=Or=>{var Ni;const Xr=[];null!==(Ni=Or.routeConfig)&&void 0!==Ni&&Ni.loadComponent&&!Or.routeConfig._loadedComponent&&Xr.push(this.configLoader.loadComponent(Or.routeConfig).pipe((0,Nt.M)(Ki=>{Or.component=Ki}),(0,Me.T)(()=>{})));for(const Ki of Or.children)Xr.push(...Kn(Ki));return Xr};return(0,Be.z)(Kn(Bt.targetSnapshot.root)).pipe((0,Ge.U)(null),(0,dt.s)(1))}),oa(()=>this.afterPreactivation()),(0,it.n)(()=>{var Bt;const{currentSnapshot:Kn,targetSnapshot:Or}=Ce,Ni=null===(Bt=this.createViewTransition)||void 0===Bt?void 0:Bt.call(this,this.environmentInjector,Kn.root,Or.root);return Ni?(0,W.H)(Ni).pipe((0,Me.T)(()=>Ce)):(0,Ee.of)(Ce)}),(0,Me.T)(Bt=>{const Kn=function ji(T,x,$){const M=fo(T,x._root,$?$._root:void 0);return new nt(M,x)}(M.routeReuseStrategy,Bt.targetSnapshot,Bt.currentRouterState);return this.currentTransition=Ce={...Bt,targetRouterState:Kn},this.currentNavigation.targetRouterState=Kn,Ce}),(0,Nt.M)(()=>{this.events.next(new ho)}),((T,x,$,M)=>(0,Me.T)(j=>(new To(x,j.targetRouterState,j.currentRouterState,$,M).activate(T),j)))(this.rootContexts,M.routeReuseStrategy,Bt=>this.events.next(Bt),this.inputBindingEnabled),(0,dt.s)(1),(0,Nt.M)({next:Bt=>{var Kn;Lt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new yo(Bt.id,this.urlSerializer.serialize(Bt.extractedUrl),this.urlSerializer.serialize(Bt.urlAfterRedirects))),null===(Kn=this.titleStrategy)||void 0===Kn||Kn.updateTitle(Bt.targetRouterState.snapshot),Bt.resolve(!0)},complete:()=>{Lt=!0}}),function je(T){return(0,mt.N)((x,$)=>{(0,_e.Tg)(T).subscribe((0,ut._)($,()=>$.complete(),Ze.l)),!$.closed&&x.subscribe($)})}(this.transitionAbortSubject.pipe((0,Nt.M)(Bt=>{throw Bt}))),(0,ze.j)(()=>{var Bt;!Lt&&!pn&&this.cancelNavigationTransition(Ce,"",ei.SupersededByNewNavigation),(null===(Bt=this.currentTransition)||void 0===Bt?void 0:Bt.id)===Ce.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ot(Bt=>{if(pn=!0,ni(Bt))this.events.next(new Xi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Bt.message,Bt.cancellationCode)),function is(T){return ni(T)&&Hr(T.url)}(Bt)?this.events.next(new Si(Bt.url,Bt.navigationBehaviorOptions)):Ce.resolve(!1);else{var Kn;const Or=new Io(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Bt,null!==(Kn=Ce.targetSnapshot)&&void 0!==Kn?Kn:void 0);try{const Ni=(0,d.N4e)(this.environmentInjector,()=>{var Xr;return null===(Xr=this.navigationErrorHandler)||void 0===Xr?void 0:Xr.call(this,Or)});if(Ni instanceof lo){const{message:Xr,cancellationCode:Ki}=No(0,Ni);this.events.next(new Xi(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),Xr,Ki)),this.events.next(new Si(Ni.redirectTo,Ni.navigationBehaviorOptions))}else{this.events.next(Or);const Xr=M.errorHandler(Bt);Ce.resolve(!!Xr)}}catch(Ni){this.options.resolveNavigationPromiseOnError?Ce.resolve(!1):Ce.reject(Ni)}}return ct.w}))}))}cancelNavigationTransition(M,j,pe){const Ce=new Xi(M.id,this.urlSerializer.serialize(M.extractedUrl),j,pe);this.events.next(Ce),M.resolve(!1)}isUpdatingInternalState(){var M,j;return(null===(M=this.currentTransition)||void 0===M?void 0:M.extractedUrl.toString())!==(null===(j=this.currentTransition)||void 0===j?void 0:j.currentUrlTree.toString())}isUpdatedBrowserUrl(){var M,j,pe,Ce;const Lt=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),pn=null!==(M=null===(j=this.currentNavigation)||void 0===j?void 0:j.targetBrowserUrl)&&void 0!==M?M:null===(pe=this.currentNavigation)||void 0===pe?void 0:pe.extractedUrl;return Lt.toString()!==(null==pn?void 0:pn.toString())&&!(null!==(Ce=this.currentNavigation)&&void 0!==Ce&&Ce.extras.skipLocationChange)}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();function ce(T){return T!==Bi}let qe=(()=>{var T;class x{}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(En),providedIn:"root"}),x})();class nn{shouldDetach(x){return!1}store(x,$){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,$){return x.routeConfig===$.routeConfig}}let En=(()=>{var T;class x extends nn{}return(T=x).\u0275fac=(()=>{let $;return function(j){return($||($=d.xGo(T)))(j||T)}})(),T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})(),Tr=(()=>{var T;class x{}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:()=>(0,d.WQX)(ri),providedIn:"root"}),x})(),ri=(()=>{var T;class x extends Tr{constructor(){super(...arguments),this.location=(0,d.WQX)(xe.aZ),this.urlSerializer=(0,d.WQX)(Un),this.options=(0,d.WQX)(vs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(Vs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tn(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var M,j;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(M=null===(j=this.restoredState())||void 0===j?void 0:j.\u0275routerPageId)&&void 0!==M?M:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(M){return this.location.subscribe(j=>{"popstate"===j.type&&M(j.url,j.state)})}handleRouterEvent(M,j){if(M instanceof Ui)this.stateMemento=this.createStateMemento();else if(M instanceof co)this.rawUrlTree=j.initialUrl;else if(M instanceof Xo){if("eager"===this.urlUpdateStrategy&&!j.extras.skipLocationChange){var pe;const Lt=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl);this.setBrowserUrl(null!==(pe=j.targetBrowserUrl)&&void 0!==pe?pe:Lt,j)}}else if(M instanceof ho){var Ce;this.currentUrlTree=j.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(j.finalUrl,j.initialUrl),this.routerState=j.targetRouterState,"deferred"!==this.urlUpdateStrategy||j.extras.skipLocationChange||this.setBrowserUrl(null!==(Ce=j.targetBrowserUrl)&&void 0!==Ce?Ce:this.rawUrlTree,j)}else M instanceof Xi&&(M.code===ei.GuardRejected||M.code===ei.NoDataFromResolver)?this.restoreHistory(j):M instanceof Io?this.restoreHistory(j,!0):M instanceof yo&&(this.lastSuccessfulId=M.id,this.currentPageId=this.browserPageId)}setBrowserUrl(M,j){const pe=M instanceof zn?this.urlSerializer.serialize(M):M;if(this.location.isCurrentPathEqualTo(pe)||j.extras.replaceUrl){const Lt={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId)};this.location.replaceState(pe,"",Lt)}else{const Ce={...j.extras.state,...this.generateNgRouterState(j.id,this.browserPageId+1)};this.location.go(pe,"",Ce)}}restoreHistory(M,j=!1){if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-this.browserPageId;0!==Ce?this.location.historyGo(Ce):this.currentUrlTree===M.finalUrl&&0===Ce&&(this.resetState(M),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(M),this.resetUrlToCurrentUrlTree())}resetState(M){var j;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(j=M.finalUrl)&&void 0!==j?j:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(M,j){return"computed"===this.canceledNavigationResolution?{navigationId:M,\u0275routerPageId:j}:{navigationId:M}}}return(T=x).\u0275fac=(()=>{let $;return function(j){return($||($=d.xGo(T)))(j||T)}})(),T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();var mi=function(T){return T[T.COMPLETE=0]="COMPLETE",T[T.FAILED=1]="FAILED",T[T.REDIRECTING=2]="REDIRECTING",T}(mi||{});function Jr(T,x){T.events.pipe((0,he.p)($=>$ instanceof yo||$ instanceof Xi||$ instanceof Io||$ instanceof co),(0,Me.T)($=>$ instanceof yo||$ instanceof co?mi.COMPLETE:$ instanceof Xi&&($.code===ei.Redirect||$.code===ei.SupersededByNewNavigation)?mi.REDIRECTING:mi.FAILED),(0,he.p)($=>$!==mi.REDIRECTING),(0,dt.s)(1)).subscribe(()=>{x()})}function Mi(T){throw T}const si={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fi=(()=>{var T;class x{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var M,j;this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(Tr),this.options=(0,d.WQX)(vs,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(X),this.urlSerializer=(0,d.WQX)(Un),this.location=(0,d.WQX)(xe.aZ),this.urlHandlingStrategy=(0,d.WQX)(Vs),this._events=new Te.B,this.errorHandler=this.options.errorHandler||Mi,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(qe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(M=null===(j=(0,d.WQX)(Ka,{optional:!0}))||void 0===j?void 0:j.flat())&&void 0!==M?M:[],this.componentInputBindingEnabled=!!(0,d.WQX)(ao,{optional:!0}),this.eventsSubscription=new yt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:pe=>{this.console.warn(pe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const M=this.navigationTransitions.events.subscribe(j=>{try{const pe=this.navigationTransitions.currentTransition,Ce=this.navigationTransitions.currentNavigation;if(null!==pe&&null!==Ce)if(this.stateManager.handleRouterEvent(j,Ce),j instanceof Xi&&j.code!==ei.Redirect&&j.code!==ei.SupersededByNewNavigation)this.navigated=!0;else if(j instanceof yo)this.navigated=!0;else if(j instanceof Si){const Lt=j.navigationBehaviorOptions,pn=this.urlHandlingStrategy.merge(j.url,pe.currentRawUrl),Bt={browserUrl:pe.extras.browserUrl,info:pe.extras.info,skipLocationChange:pe.extras.skipLocationChange,replaceUrl:pe.extras.replaceUrl||"eager"===this.urlUpdateStrategy||ce(pe.source),...Lt};this.scheduleNavigation(pn,Bi,null,Bt,{resolve:pe.resolve,reject:pe.reject,promise:pe.promise})}(function Sn(T){return!(T instanceof ho||T instanceof Si)})(j)&&this._events.next(j)}catch(pe){this.navigationTransitions.transitionAbortSubject.next(pe)}});this.eventsSubscription.add(M)}resetRootComponentType(M){this.routerState.root.component=M,this.navigationTransitions.rootComponentType=M}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bi,this.stateManager.restoredState())}setUpLocationChangeListener(){var M;null!==(M=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==M||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((j,pe)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(j,"popstate",pe)},0)}))}navigateToSyncWithBrowser(M,j,pe){const Ce={replaceUrl:!0},Lt=null!=pe&&pe.navigationId?pe:null;if(pe){const Bt={...pe};delete Bt.navigationId,delete Bt.\u0275routerPageId,0!==Object.keys(Bt).length&&(Ce.state=Bt)}const pn=this.parseUrl(M);this.scheduleNavigation(pn,j,Lt,Ce)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(M){this.config=M.map(rc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(M,j={}){const{relativeTo:pe,queryParams:Ce,fragment:Lt,queryParamsHandling:pn,preserveFragment:Bt}=j,Kn=Bt?this.currentUrlTree.fragment:Lt;let Ni,Or=null;switch(null!=pn?pn:this.options.defaultQueryParamsHandling){case"merge":Or={...this.currentUrlTree.queryParams,...Ce};break;case"preserve":Or=this.currentUrlTree.queryParams;break;default:Or=Ce||null}null!==Or&&(Or=this.removeEmptyProps(Or));try{Ni=Jn(pe?pe.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof M[0]||"/"!==M[0][0])&&(M=[]),Ni=this.currentUrlTree.root}return wi(Ni,M,Or,null!=Kn?Kn:null)}navigateByUrl(M,j={skipLocationChange:!1}){const pe=Hr(M)?M:this.parseUrl(M),Ce=this.urlHandlingStrategy.merge(pe,this.rawUrlTree);return this.scheduleNavigation(Ce,Bi,null,j)}navigate(M,j={skipLocationChange:!1}){return function hi(T){for(let x=0;x<T.length;x++)if(null==T[x])throw new d.wOt(4008,!1)}(M),this.navigateByUrl(this.createUrlTree(M,j),j)}serializeUrl(M){return this.urlSerializer.serialize(M)}parseUrl(M){try{return this.urlSerializer.parse(M)}catch{return this.urlSerializer.parse("/")}}isActive(M,j){let pe;if(pe=!0===j?{...si}:!1===j?{...zi}:j,Hr(M))return xt(this.currentUrlTree,M,pe);const Ce=this.parseUrl(M);return xt(this.currentUrlTree,Ce,pe)}removeEmptyProps(M){return Object.entries(M).reduce((j,[pe,Ce])=>(null!=Ce&&(j[pe]=Ce),j),{})}scheduleNavigation(M,j,pe,Ce,Lt){if(this.disposed)return Promise.resolve(!1);let pn,Bt,Kn;Lt?(pn=Lt.resolve,Bt=Lt.reject,Kn=Lt.promise):Kn=new Promise((Ni,Xr)=>{pn=Ni,Bt=Xr});const Or=this.pendingTasks.add();return Jr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Or))}),this.navigationTransitions.handleNavigationRequest({source:j,restoredState:pe,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:M,extras:Ce,resolve:pn,reject:Bt,promise:Kn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Kn.catch(Ni=>Promise.reject(Ni))}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})(),sr=(()=>{var T;class x{constructor(M,j,pe,Ce,Lt,pn){var Bt;this.router=M,this.route=j,this.tabIndexAttribute=pe,this.renderer=Ce,this.el=Lt,this.locationStrategy=pn,this.href=null,this.onChanges=new Te.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Kn=null===(Bt=Lt.nativeElement.tagName)||void 0===Bt?void 0:Bt.toLowerCase();this.isAnchorElement="a"===Kn||"area"===Kn,this.isAnchorElement?this.subscription=M.events.subscribe(Or=>{Or instanceof yo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(M){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",M)}ngOnChanges(M){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(M){null==M?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Hr(M)||Array.isArray(M)?M:[M],this.setTabIndexIfNotOnNativeEl("0"))}onClick(M,j,pe,Ce,Lt){const pn=this.urlTree;return!!(null===pn||this.isAnchorElement&&(0!==M||j||pe||Ce||Lt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(pn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var M;null===(M=this.subscription)||void 0===M||M.unsubscribe()}updateHref(){var M;const j=this.urlTree;this.href=null!==j&&this.locationStrategy?null===(M=this.locationStrategy)||void 0===M?void 0:M.prepareExternalUrl(this.router.serializeUrl(j)):null;const pe=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",pe)}applyAttributeValue(M,j){const pe=this.renderer,Ce=this.el.nativeElement;null!==j?pe.setAttribute(Ce,M,j):pe.removeAttribute(Ce,M)}get urlTree(){return null===this.routerLinkInput?null:Hr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(T=x).\u0275fac=function(M){return new(M||T)(d.rXU(Fi),d.rXU(Ht),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(xe.hb))},T.\u0275dir=d.FsC({type:T,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,j){1&M&&d.bIt("click",function(Ce){return j.onClick(Ce.button,Ce.ctrlKey,Ce.shiftKey,Ce.altKey,Ce.metaKey)}),2&M&&d.BMQ("target",j.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),x})(),Wi=(()=>{var T;class x{get isActive(){return this._isActive}constructor(M,j,pe,Ce,Lt){this.router=M,this.element=j,this.renderer=pe,this.cdr=Ce,this.link=Lt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new d.bkB,this.routerEventsSubscription=M.events.subscribe(pn=>{pn instanceof yo&&this.update()})}ngAfterContentInit(){(0,Ee.of)(this.links.changes,(0,Ee.of)(null)).pipe((0,st.U)()).subscribe(M=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var M;null===(M=this.linkInputChangesSubscription)||void 0===M||M.unsubscribe();const j=[...this.links.toArray(),this.link].filter(pe=>!!pe).map(pe=>pe.onChanges);this.linkInputChangesSubscription=(0,W.H)(j).pipe((0,st.U)()).subscribe(pe=>{this._isActive!==this.isLinkActive(this.router)(pe)&&this.update()})}set routerLinkActive(M){const j=Array.isArray(M)?M:M.split(" ");this.classes=j.filter(pe=>!!pe)}ngOnChanges(M){this.update()}ngOnDestroy(){var M;this.routerEventsSubscription.unsubscribe(),null===(M=this.linkInputChangesSubscription)||void 0===M||M.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const M=this.hasActiveLinks();this.classes.forEach(j=>{M?this.renderer.addClass(this.element.nativeElement,j):this.renderer.removeClass(this.element.nativeElement,j)}),M&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==M&&(this._isActive=M,this.cdr.markForCheck(),this.isActiveChange.emit(M))})}isLinkActive(M){const j=function wo(T){return!!T.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return pe=>{const Ce=pe.urlTree;return!!Ce&&M.isActive(Ce,j)}}hasActiveLinks(){const M=this.isLinkActive(this.router);return this.link&&M(this.link)||this.links.some(M)}}return(T=x).\u0275fac=function(M){return new(M||T)(d.rXU(Fi),d.rXU(d.aKT),d.rXU(d.sFG),d.rXU(d.gRc),d.rXU(sr,8))},T.\u0275dir=d.FsC({type:T,selectors:[["","routerLinkActive",""]],contentQueries:function(M,j,pe){if(1&M&&d.wni(pe,sr,5),2&M){let Ce;d.mGM(Ce=d.lsd())&&(j.links=Ce)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[d.OA$]}),x})();class Hi{}let ko=(()=>{var T;class x{preload(M,j){return j().pipe(Ot(()=>(0,Ee.of)(null)))}}return(T=x).\u0275fac=function(M){return new(M||T)},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})(),Lr=(()=>{var T;class x{constructor(M,j,pe,Ce,Lt){this.router=M,this.injector=pe,this.preloadingStrategy=Ce,this.loader=Lt}setUpPreloading(){this.subscription=this.router.events.pipe((0,he.p)(M=>M instanceof yo),(0,Je.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(M,j){const pe=[];for(const Bt of j){var Ce,Lt;Bt.providers&&!Bt._injector&&(Bt._injector=(0,d.Ol2)(Bt.providers,M,`Route: ${Bt.path}`));const Kn=null!==(Ce=Bt._injector)&&void 0!==Ce?Ce:M,Or=null!==(Lt=Bt._loadedInjector)&&void 0!==Lt?Lt:Kn;var pn;(Bt.loadChildren&&!Bt._loadedRoutes&&void 0===Bt.canLoad||Bt.loadComponent&&!Bt._loadedComponent)&&pe.push(this.preloadConfig(Kn,Bt)),(Bt.children||Bt._loadedRoutes)&&pe.push(this.processRoutes(Or,null!==(pn=Bt.children)&&void 0!==pn?pn:Bt._loadedRoutes))}return(0,W.H)(pe).pipe((0,st.U)())}preloadConfig(M,j){return this.preloadingStrategy.preload(j,()=>{let pe;pe=j.loadChildren&&void 0===j.canLoad?this.loader.loadChildren(M,j):(0,Ee.of)(null);const Ce=pe.pipe((0,ht.Z)(Lt=>{var pn;return null===Lt?(0,Ee.of)(void 0):(j._loadedRoutes=Lt.routes,j._loadedInjector=Lt.injector,this.processRoutes(null!==(pn=Lt.injector)&&void 0!==pn?pn:M,Lt.routes))}));if(j.loadComponent&&!j._loadedComponent){const Lt=this.loader.loadComponent(j);return(0,W.H)([Ce,Lt]).pipe((0,st.U)())}return Ce})}}return(T=x).\u0275fac=function(M){return new(M||T)(d.KVO(Fi),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(Hi),d.KVO(ul))},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac,providedIn:"root"}),x})();const br=new d.nKC("");let ls=(()=>{var T;class x{constructor(M,j,pe,Ce,Lt={}){this.urlSerializer=M,this.transitions=j,this.viewportScroller=pe,this.zone=Ce,this.options=Lt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Lt.scrollPositionRestoration||(Lt.scrollPositionRestoration="disabled"),Lt.anchorScrolling||(Lt.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=M.navigationTrigger,this.restoredId=M.restoredState?M.restoredState.navigationId:0):M instanceof yo?(this.lastId=M.id,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.urlAfterRedirects).fragment)):M instanceof co&&M.code===Po.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(M,this.urlSerializer.parse(M.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(M=>{M instanceof Is&&(M.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(M.position):M.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(M.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(M,j){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Is(M,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))})},0)})}ngOnDestroy(){var M,j;null===(M=this.routerEventsSubscription)||void 0===M||M.unsubscribe(),null===(j=this.scrollEventsSubscription)||void 0===j||j.unsubscribe()}}return(T=x).\u0275fac=function(M){d.QTQ()},T.\u0275prov=d.jDH({token:T,factory:T.\u0275fac}),x})();function Us(T,x){return{\u0275kind:T,\u0275providers:x}}function Ss(){const T=(0,d.WQX)(d.zZn);return x=>{var $,M;const j=T.get(d.o8S);if(x!==j.components[0])return;const pe=T.get(Fi),Ce=T.get(la);1===T.get(Qs)&&pe.initialNavigation(),null===($=T.get(cr,null,d.$GK.Optional))||void 0===$||$.setUpPreloading(),null===(M=T.get(br,null,d.$GK.Optional))||void 0===M||M.init(),pe.resetRootComponentType(j.componentTypes[0]),Ce.closed||(Ce.next(),Ce.complete(),Ce.unsubscribe())}}const la=new d.nKC("",{factory:()=>new Te.B}),Qs=new d.nKC("",{providedIn:"root",factory:()=>1}),cr=new d.nKC("");function wc(T){return Us(0,[{provide:cr,useExisting:Lr},{provide:Hi,useExisting:T}])}function Fo(T){return Us(9,[{provide:Ua,useValue:R},{provide:Ul,useValue:{skipNextTransition:!(null==T||!T.skipInitialTransition),...T}}])}const _o=new d.nKC("ROUTER_FORROOT_GUARD"),oo=[xe.aZ,{provide:Un,useClass:mr},Fi,F,{provide:Ht,useFactory:function aa(T){return T.routerState.root},deps:[Fi]},ul,[]];let Ca=(()=>{var T;class x{constructor(M){}static forRoot(M,j){return{ngModule:x,providers:[oo,[],{provide:Ka,multi:!0,useValue:M},{provide:_o,useFactory:Aa,deps:[[Fi,new d.Xx1,new d.kdw]]},{provide:vs,useValue:j||{}},null!=j&&j.useHash?{provide:xe.hb,useClass:xe.fw}:{provide:xe.hb,useClass:xe.Sm},{provide:br,useFactory:()=>{const T=(0,d.WQX)(xe.Xr),x=(0,d.WQX)(d.SKi),$=(0,d.WQX)(vs),M=(0,d.WQX)(X),j=(0,d.WQX)(Un);return $.scrollOffset&&T.setOffset($.scrollOffset),new ls(j,M,T,x,$)}},null!=j&&j.preloadingStrategy?wc(j.preloadingStrategy).\u0275providers:[],null!=j&&j.initialNavigation?ic(j):[],null!=j&&j.bindToComponentInputs?Us(8,[Eo,{provide:ao,useExisting:Eo}]).\u0275providers:[],null!=j&&j.enableViewTransitions?Fo().\u0275providers:[],[{provide:Ja,useFactory:Ss},{provide:d.iLQ,multi:!0,useExisting:Ja}]]}}static forChild(M){return{ngModule:x,providers:[{provide:Ka,multi:!0,useValue:M}]}}}return(T=x).\u0275fac=function(M){return new(M||T)(d.KVO(_o,8))},T.\u0275mod=d.$C({type:T}),T.\u0275inj=d.G2t({}),x})();function Aa(T){return"guarded"}function ic(T){return["disabled"===T.initialNavigation?Us(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const x=(0,d.WQX)(Fi);return()=>{x.setUpLocationChangeListener()}}},{provide:Qs,useValue:2}]).\u0275providers:[],"enabledBlocking"===T.initialNavigation?Us(2,[{provide:Qs,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:x=>{const $=x.get(xe.hj,Promise.resolve());return()=>$.then(()=>new Promise(M=>{const j=x.get(Fi),pe=x.get(la);Jr(j,()=>{M(!0)}),x.get(X).afterPreactivation=()=>(M(!0),pe.closed?(0,Ee.of)(void 0):pe),j.initialNavigation()}))}}]).\u0275providers:[]]}const Ja=new d.nKC("")},3345:(Pn,Dt,V)=>{"use strict";V.d(Dt,{A:()=>ct});var d=V(1076),o=V(1362),B=V(8742),ve=V(8041);class W{constructor(mt,ut){this._delegate=mt,this.firebase=ut,(0,B._addComponent)(mt,new o.uA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(mt,ut=B._DEFAULT_ENTRY_NAME){var Mt;this._delegate.checkDestroyed();const At=this._delegate.container.getProvider(mt);return!At.isInitialized()&&"EXPLICIT"===(null===(Mt=At.getComponent())||void 0===Mt?void 0:Mt.instantiationMode)&&At.initialize(),At.getImmediate({identifier:ut})}_removeServiceInstance(mt,ut=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(ut)}_addComponent(mt){(0,B._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,B._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Re=function ot(){const yt=function Be(yt){const mt={},ut={__esModule:!0,initializeApp:function Te(dt,rt={}){const he=B.initializeApp(dt,rt);if((0,d.gR)(mt,he.name))return mt[he.name];const ht=new yt(he,ut);return mt[he.name]=ht,ht},app:At,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Me(dt){const rt=dt.name,he=rt.replace("-compat","");if(B._registerComponent(dt)&&"PUBLIC"===dt.type){const ht=(ft=At())=>{if("function"!=typeof ft[he])throw Se.create("invalid-app-argument",{appName:rt});return ft[he]()};void 0!==dt.serviceProps&&(0,d.zw)(ht,dt.serviceProps),ut[he]=ht,yt.prototype[he]=function(...ft){return this._getService.bind(this,rt).apply(this,dt.multipleInstances?ft:[])}}return"PUBLIC"===dt.type?ut[he]:null},removeApp:function Mt(dt){delete mt[dt]},useAsService:function it(dt,rt){return"serverAuth"===rt?null:rt},modularAPIs:B}};function At(dt){if(!(0,d.gR)(mt,dt=dt||B._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:dt});return mt[dt]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function xe(){return Object.keys(mt).map(dt=>mt[dt])}}),At.App=yt,ut}(W);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:ot,extendNamespace:function mt(ut){(0,d.zw)(yt,ut)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),yt}(),_e=new ve.Vy("@firebase/app-compat");try{const yt=(0,d.mS)();if(void 0!==yt.firebase){_e.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const mt=yt.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&_e.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const ct=Re;!function Ke(yt){(0,B.registerVersion)("@firebase/app-compat","0.2.43",yt)}()},8742:(Pn,Dt,V)=>{"use strict";V.r(Dt),V.d(Dt,{FirebaseError:()=>ve.g,SDK_VERSION:()=>ke,_DEFAULT_ENTRY_NAME:()=>oe,_addComponent:()=>st,_addOrOverwriteComponent:()=>_t,_apps:()=>ze,_clearComponents:()=>Gn,_components:()=>je,_getProvider:()=>Nn,_isFirebaseApp:()=>mn,_isFirebaseServerApp:()=>kn,_registerComponent:()=>Ft,_removeServiceInstance:()=>It,_serverApps:()=>Ze,deleteApp:()=>nr,getApp:()=>xt,getApps:()=>Qn,initializeApp:()=>Fe,initializeServerApp:()=>kt,onLog:()=>gr,registerVersion:()=>Tn,setLogLevel:()=>rr});var d=V(467),o=V(1362),B=V(8041),ve=V(1076),W=V(6749);class Ee{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(J=>{if(function Se(Ue){const at=Ue.getComponent();return"VERSION"===(null==at?void 0:at.type)}(J)){const Q=J.getImmediate();return`${Q.library}/${Q.version}`}return null}).filter(J=>J).join(" ")}}const Be="@firebase/app",ot="0.10.13",Re=new B.Vy("@firebase/app"),_e="@firebase/app-compat",et="@firebase/analytics-compat",Qe="@firebase/analytics",Ke="@firebase/app-check-compat",ct="@firebase/app-check",yt="@firebase/auth",mt="@firebase/auth-compat",ut="@firebase/database",Mt="@firebase/data-connect",At="@firebase/database-compat",Te="@firebase/functions",xe="@firebase/functions-compat",Me="@firebase/installations",it="@firebase/installations-compat",dt="@firebase/messaging",rt="@firebase/messaging-compat",he="@firebase/performance",ht="@firebase/performance-compat",ft="@firebase/remote-config",Je="@firebase/remote-config-compat",Nt="@firebase/storage",Ot="@firebase/storage-compat",un="@firebase/firestore",Ge="@firebase/vertexai-preview",we="@firebase/firestore-compat",me="firebase",oe="[DEFAULT]",Ne={[Be]:"fire-core",[_e]:"fire-core-compat",[Qe]:"fire-analytics",[et]:"fire-analytics-compat",[ct]:"fire-app-check",[Ke]:"fire-app-check-compat",[yt]:"fire-auth",[mt]:"fire-auth-compat",[ut]:"fire-rtdb",[Mt]:"fire-data-connect",[At]:"fire-rtdb-compat",[Te]:"fire-fn",[xe]:"fire-fn-compat",[Me]:"fire-iid",[it]:"fire-iid-compat",[dt]:"fire-fcm",[rt]:"fire-fcm-compat",[he]:"fire-perf",[ht]:"fire-perf-compat",[ft]:"fire-rc",[Je]:"fire-rc-compat",[Nt]:"fire-gcs",[Ot]:"fire-gcs-compat",[un]:"fire-fst",[we]:"fire-fst-compat",[Ge]:"fire-vertex","fire-js":"fire-js",[me]:"fire-js-all"},ze=new Map,Ze=new Map,je=new Map;function st(Ue,at){try{Ue.container.addComponent(at)}catch(J){Re.debug(`Component ${at.name} failed to register with FirebaseApp ${Ue.name}`,J)}}function _t(Ue,at){Ue.container.addOrOverwriteComponent(at)}function Ft(Ue){const at=Ue.name;if(je.has(at))return Re.debug(`There were multiple attempts to register component ${at}.`),!1;je.set(at,Ue);for(const J of ze.values())st(J,Ue);for(const J of Ze.values())st(J,Ue);return!0}function Nn(Ue,at){const J=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return J&&J.triggerHeartbeat(),Ue.container.getProvider(at)}function It(Ue,at,J=oe){Nn(Ue,at).clearInstance(J)}function mn(Ue){return void 0!==Ue.options}function kn(Ue){return void 0!==Ue.settings}function Gn(){je.clear()}const jt=new ve.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class On{constructor(at,J,Q){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},J),this._name=J.name,this._automaticDataCollectionEnabled=J.automaticDataCollectionEnabled,this._container=Q,this.container.addComponent(new o.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}}class rn extends On{constructor(at,J,Q,re){const Oe=void 0!==J.automaticDataCollectionEnabled&&J.automaticDataCollectionEnabled,$e={name:Q,automaticDataCollectionEnabled:Oe};super(void 0!==at.apiKey?at:at.options,$e,re),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Oe},J),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,J.releaseOnDeref=void 0,Tn(Be,ot,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(at){this.isDeleted||(this._refCount++,void 0!==at&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(at,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){nr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw jt.create("server-app-deleted")}}const ke="10.14.1";function Fe(Ue,at={}){let J=Ue;"object"!=typeof at&&(at={name:at});const Q=Object.assign({name:oe,automaticDataCollectionEnabled:!1},at),re=Q.name;if("string"!=typeof re||!re)throw jt.create("bad-app-name",{appName:String(re)});if(J||(J=(0,ve.T9)()),!J)throw jt.create("no-options");const Oe=ze.get(re);if(Oe){if((0,ve.bD)(J,Oe.options)&&(0,ve.bD)(Q,Oe.config))return Oe;throw jt.create("duplicate-app",{appName:re})}const $e=new o.h1(re);for(const An of je.values())$e.addComponent(An);const Qt=new On(J,Q,$e);return ze.set(re,Qt),Qt}function kt(Ue,at){if((0,ve.Bd)()&&!(0,ve.p7)())throw jt.create("invalid-server-app-environment");let J;void 0===at.automaticDataCollectionEnabled&&(at.automaticDataCollectionEnabled=!1),J=mn(Ue)?Ue.options:Ue;const Q=Object.assign(Object.assign({},at),J);if(void 0!==Q.releaseOnDeref&&delete Q.releaseOnDeref,void 0!==at.releaseOnDeref&&typeof FinalizationRegistry>"u")throw jt.create("finalization-registry-not-supported",{});const Oe=""+(qn=JSON.stringify(Q),[...qn].reduce((Ir,gt)=>Math.imul(31,Ir)+gt.charCodeAt(0)|0,0)),$e=Ze.get(Oe);var qn;if($e)return $e.incRefCount(at.releaseOnDeref),$e;const Qt=new o.h1(Oe);for(const qn of je.values())Qt.addComponent(qn);const An=new rn(J,at,Oe,Qt);return Ze.set(Oe,An),An}function xt(Ue=oe){const at=ze.get(Ue);if(!at&&Ue===oe&&(0,ve.T9)())return Fe();if(!at)throw jt.create("no-app",{appName:Ue});return at}function Qn(){return Array.from(ze.values())}function nr(Ue){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.A)(function*(Ue){let at=!1;const J=Ue.name;ze.has(J)?(at=!0,ze.delete(J)):Ze.has(J)&&Ue.decRefCount()<=0&&(Ze.delete(J),at=!0),at&&(yield Promise.all(Ue.container.getProviders().map(Q=>Q.delete())),Ue.isDeleted=!0)})).apply(this,arguments)}function Tn(Ue,at,J){var Q;let re=null!==(Q=Ne[Ue])&&void 0!==Q?Q:Ue;J&&(re+=`-${J}`);const Oe=re.match(/\s|\//),$e=at.match(/\s|\//);if(Oe||$e){const Qt=[`Unable to register library "${re}" with version "${at}":`];return Oe&&Qt.push(`library name "${re}" contains illegal characters (whitespace or "/")`),Oe&&$e&&Qt.push("and"),$e&&Qt.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Re.warn(Qt.join(" "))}Ft(new o.uA(`${re}-version`,()=>({library:re,version:at}),"VERSION"))}function gr(Ue,at){if(null!==Ue&&"function"!=typeof Ue)throw jt.create("invalid-log-argument");(0,B.Ey)(Ue,at)}function rr(Ue){(0,B.He)(Ue)}const zn="firebase-heartbeat-database",Yn=1,dr="firebase-heartbeat-store";let jr=null;function Cn(){return jr||(jr=(0,W.P2)(zn,Yn,{upgrade:(Ue,at)=>{if(0===at)try{Ue.createObjectStore(dr)}catch(J){console.warn(J)}}}).catch(Ue=>{throw jt.create("idb-open",{originalErrorMessage:Ue.message})})),jr}function Un(){return(Un=(0,d.A)(function*(Ue){try{const J=(yield Cn()).transaction(dr),Q=yield J.objectStore(dr).get(Ei(Ue));return yield J.done,Q}catch(at){if(at instanceof ve.g)Re.warn(at.message);else{const J=jt.create("idb-get",{originalErrorMessage:null==at?void 0:at.message});Re.warn(J.message)}}})).apply(this,arguments)}function mr(Ue,at){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,d.A)(function*(Ue,at){try{const Q=(yield Cn()).transaction(dr,"readwrite");yield Q.objectStore(dr).put(at,Ei(Ue)),yield Q.done}catch(J){if(J instanceof ve.g)Re.warn(J.message);else{const Q=jt.create("idb-set",{originalErrorMessage:null==J?void 0:J.message});Re.warn(Q.message)}}})).apply(this,arguments)}function Ei(Ue){return`${Ue.name}!${Ue.options.appId}`}class _r{constructor(at){this.container=at,this._heartbeatsCache=null;const J=this.container.getProvider("app").getImmediate();this._storage=new wt(J),this._heartbeatsCachePromise=this._storage.read().then(Q=>(this._heartbeatsCache=Q,Q))}triggerHeartbeat(){var at=this;return(0,d.A)(function*(){var J,Q;try{const Oe=at.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=_n();return null==(null===(J=at._heartbeatsCache)||void 0===J?void 0:J.heartbeats)&&(at._heartbeatsCache=yield at._heartbeatsCachePromise,null==(null===(Q=at._heartbeatsCache)||void 0===Q?void 0:Q.heartbeats))||at._heartbeatsCache.lastSentHeartbeatDate===$e||at._heartbeatsCache.heartbeats.some(Qt=>Qt.date===$e)?void 0:(at._heartbeatsCache.heartbeats.push({date:$e,agent:Oe}),at._heartbeatsCache.heartbeats=at._heartbeatsCache.heartbeats.filter(Qt=>{const An=new Date(Qt.date).valueOf();return Date.now()-An<=2592e6}),at._storage.overwrite(at._heartbeatsCache))}catch(re){Re.warn(re)}})()}getHeartbeatsHeader(){var at=this;return(0,d.A)(function*(){var J;try{if(null===at._heartbeatsCache&&(yield at._heartbeatsCachePromise),null==(null===(J=at._heartbeatsCache)||void 0===J?void 0:J.heartbeats)||0===at._heartbeatsCache.heartbeats.length)return"";const Q=_n(),{heartbeatsToSend:re,unsentEntries:Oe}=function Gt(Ue,at=1024){const J=[];let Q=Ue.slice();for(const re of Ue){const Oe=J.find($e=>$e.agent===re.agent);if(Oe){if(Oe.dates.push(re.date),Kt(J)>at){Oe.dates.pop();break}}else if(J.push({agent:re.agent,dates:[re.date]}),Kt(J)>at){J.pop();break}Q=Q.slice(1)}return{heartbeatsToSend:J,unsentEntries:Q}}(at._heartbeatsCache.heartbeats),$e=(0,ve.Uj)(JSON.stringify({version:2,heartbeats:re}));return at._heartbeatsCache.lastSentHeartbeatDate=Q,Oe.length>0?(at._heartbeatsCache.heartbeats=Oe,yield at._storage.overwrite(at._heartbeatsCache)):(at._heartbeatsCache.heartbeats=[],at._storage.overwrite(at._heartbeatsCache)),$e}catch(Q){return Re.warn(Q),""}})()}}function _n(){return(new Date).toISOString().substring(0,10)}class wt{constructor(at){this.app=at,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,ve.zW)()&&(0,ve.eX)().then(()=>!0).catch(()=>!1)})()}read(){var at=this;return(0,d.A)(function*(){if(yield at._canUseIndexedDBPromise){const Q=yield function Cr(Ue){return Un.apply(this,arguments)}(at.app);return null!=Q&&Q.heartbeats?Q:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(at){var J=this;return(0,d.A)(function*(){var Q;if(yield J._canUseIndexedDBPromise){const Oe=yield J.read();return mr(J.app,{lastSentHeartbeatDate:null!==(Q=at.lastSentHeartbeatDate)&&void 0!==Q?Q:Oe.lastSentHeartbeatDate,heartbeats:at.heartbeats})}})()}add(at){var J=this;return(0,d.A)(function*(){var Q;if(yield J._canUseIndexedDBPromise){const Oe=yield J.read();return mr(J.app,{lastSentHeartbeatDate:null!==(Q=at.lastSentHeartbeatDate)&&void 0!==Q?Q:Oe.lastSentHeartbeatDate,heartbeats:[...Oe.heartbeats,...at.heartbeats]})}})()}}function Kt(Ue){return(0,ve.Uj)(JSON.stringify({version:2,heartbeats:Ue})).length}!function bt(Ue){Ft(new o.uA("platform-logger",at=>new Ee(at),"PRIVATE")),Ft(new o.uA("heartbeat",at=>new _r(at),"PRIVATE")),Tn(Be,ot,Ue),Tn(Be,ot,"esm2017"),Tn("fire-js","")}("")},1362:(Pn,Dt,V)=>{"use strict";V.d(Dt,{h1:()=>Be,uA:()=>B});var d=V(467),o=V(1076);class B{constructor(Re,_e,et){this.name=Re,this.instanceFactory=_e,this.type=et,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Re){return this.instantiationMode=Re,this}setMultipleInstances(Re){return this.multipleInstances=Re,this}setServiceProps(Re){return this.serviceProps=Re,this}setInstanceCreatedCallback(Re){return this.onInstanceCreated=Re,this}}const ve="[DEFAULT]";class W{constructor(Re,_e){this.name=Re,this.container=_e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Re){const _e=this.normalizeInstanceIdentifier(Re);if(!this.instancesDeferred.has(_e)){const et=new o.cY;if(this.instancesDeferred.set(_e,et),this.isInitialized(_e)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:_e});Qe&&et.resolve(Qe)}catch{}}return this.instancesDeferred.get(_e).promise}getImmediate(Re){var _e;const et=this.normalizeInstanceIdentifier(null==Re?void 0:Re.identifier),Qe=null!==(_e=null==Re?void 0:Re.optional)&&void 0!==_e&&_e;if(!this.isInitialized(et)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:et})}catch(Ke){if(Qe)return null;throw Ke}}getComponent(){return this.component}setComponent(Re){if(Re.name!==this.name)throw Error(`Mismatching Component ${Re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Re,this.shouldAutoInitialize()){if(function Se(ot){return"EAGER"===ot.instantiationMode}(Re))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[_e,et]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(_e);try{const Ke=this.getOrInitializeService({instanceIdentifier:Qe});et.resolve(Ke)}catch{}}}}clearInstance(Re=ve){this.instancesDeferred.delete(Re),this.instancesOptions.delete(Re),this.instances.delete(Re)}delete(){var Re=this;return(0,d.A)(function*(){const _e=Array.from(Re.instances.values());yield Promise.all([..._e.filter(et=>"INTERNAL"in et).map(et=>et.INTERNAL.delete()),..._e.filter(et=>"_delete"in et).map(et=>et._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Re=ve){return this.instances.has(Re)}getOptions(Re=ve){return this.instancesOptions.get(Re)||{}}initialize(Re={}){const{options:_e={}}=Re,et=this.normalizeInstanceIdentifier(Re.instanceIdentifier);if(this.isInitialized(et))throw Error(`${this.name}(${et}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:et,options:_e});for(const[Ke,ct]of this.instancesDeferred.entries())et===this.normalizeInstanceIdentifier(Ke)&&ct.resolve(Qe);return Qe}onInit(Re,_e){var et;const Qe=this.normalizeInstanceIdentifier(_e),Ke=null!==(et=this.onInitCallbacks.get(Qe))&&void 0!==et?et:new Set;Ke.add(Re),this.onInitCallbacks.set(Qe,Ke);const ct=this.instances.get(Qe);return ct&&Re(ct,Qe),()=>{Ke.delete(Re)}}invokeOnInitCallbacks(Re,_e){const et=this.onInitCallbacks.get(_e);if(et)for(const Qe of et)try{Qe(Re,_e)}catch{}}getOrInitializeService({instanceIdentifier:Re,options:_e={}}){let et=this.instances.get(Re);if(!et&&this.component&&(et=this.component.instanceFactory(this.container,{instanceIdentifier:(ot=Re,ot===ve?void 0:ot),options:_e}),this.instances.set(Re,et),this.instancesOptions.set(Re,_e),this.invokeOnInitCallbacks(et,Re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Re,et)}catch{}var ot;return et||null}normalizeInstanceIdentifier(Re=ve){return this.component?this.component.multipleInstances?Re:ve:Re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(Re){this.name=Re,this.providers=new Map}addComponent(Re){const _e=this.getProvider(Re.name);if(_e.isComponentSet())throw new Error(`Component ${Re.name} has already been registered with ${this.name}`);_e.setComponent(Re)}addOrOverwriteComponent(Re){this.getProvider(Re.name).isComponentSet()&&this.providers.delete(Re.name),this.addComponent(Re)}getProvider(Re){if(this.providers.has(Re))return this.providers.get(Re);const _e=new W(Re,this);return this.providers.set(Re,_e),_e}getProviders(){return Array.from(this.providers.values())}}},8041:(Pn,Dt,V)=>{"use strict";V.d(Dt,{$b:()=>o,Ey:()=>ot,He:()=>Be,Vy:()=>Se});const d=[];var o=function(Re){return Re[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",Re}(o||{});const B={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},ve=o.INFO,W={[o.DEBUG]:"log",[o.VERBOSE]:"log",[o.INFO]:"info",[o.WARN]:"warn",[o.ERROR]:"error"},Ee=(Re,_e,...et)=>{if(_e<Re.logLevel)return;const Qe=(new Date).toISOString(),Ke=W[_e];if(!Ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${_e})`);console[Ke](`[${Qe}]  ${Re.name}:`,...et)};class Se{constructor(_e){this.name=_e,this._logLevel=ve,this._logHandler=Ee,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(_e){if(!(_e in o))throw new TypeError(`Invalid value "${_e}" assigned to \`logLevel\``);this._logLevel=_e}setLogLevel(_e){this._logLevel="string"==typeof _e?B[_e]:_e}get logHandler(){return this._logHandler}set logHandler(_e){if("function"!=typeof _e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_e}get userLogHandler(){return this._userLogHandler}set userLogHandler(_e){this._userLogHandler=_e}debug(..._e){this._userLogHandler&&this._userLogHandler(this,o.DEBUG,..._e),this._logHandler(this,o.DEBUG,..._e)}log(..._e){this._userLogHandler&&this._userLogHandler(this,o.VERBOSE,..._e),this._logHandler(this,o.VERBOSE,..._e)}info(..._e){this._userLogHandler&&this._userLogHandler(this,o.INFO,..._e),this._logHandler(this,o.INFO,..._e)}warn(..._e){this._userLogHandler&&this._userLogHandler(this,o.WARN,..._e),this._logHandler(this,o.WARN,..._e)}error(..._e){this._userLogHandler&&this._userLogHandler(this,o.ERROR,..._e),this._logHandler(this,o.ERROR,..._e)}}function Be(Re){d.forEach(_e=>{_e.setLogLevel(Re)})}function ot(Re,_e){for(const et of d){let Qe=null;_e&&_e.level&&(Qe=B[_e.level]),et.userLogHandler=null===Re?null:(Ke,ct,...yt)=>{const mt=yt.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");ct>=(null!=Qe?Qe:Ke.logLevel)&&Re({level:o[ct].toLowerCase(),message:mt,args:yt,type:Ke.name})}}}},2872:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Yq:()=>rn,TS:()=>Gn,sR:()=>qt,el:()=>An,Sb:()=>Un,QE:()=>Mn,CF:()=>jr,Rg:()=>at,p4:()=>Hr,jM:()=>Ko,_t:()=>ze,q9:()=>Nn,Kb:()=>Pr,OD:()=>st,CE:()=>qn,pF:()=>Ir,fL:()=>Jn,YV:()=>Oe,er:()=>Qr,z3:()=>wi});var d=V(467),o=V(9842),B=V(4438),ve=V(9384),W=V(177),Ee=V(5531),Se=V(4442);var ft=V(1413),Je=V(3726),Nt=V(4412),Ot=V(4572),un=V(7673),Ge=V(1635),we=V(5964),me=V(5558),De=V(3294),oe=V(4341);const Ne=["tabsInner"];class ze{constructor(be){(0,o.A)(this,"menuController",void 0),this.menuController=be}open(be){return this.menuController.open(be)}close(be){return this.menuController.close(be)}toggle(be){return this.menuController.toggle(be)}enable(be,Ct){return this.menuController.enable(be,Ct)}swipeGesture(be,Ct){return this.menuController.swipeGesture(be,Ct)}isOpen(be){return this.menuController.isOpen(be)}isEnabled(be){return this.menuController.isEnabled(be)}get(be){return this.menuController.get(be)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(be,Ct){return this.menuController.registerAnimation(be,Ct)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(be,Ct){return this.menuController._createAnimation(be,Ct)}_register(be){return this.menuController._register(be)}_unregister(be){return this.menuController._unregister(be)}_setOpen(be,Ct,de){return this.menuController._setOpen(be,Ct,de)}}let st=(()=>{var Ye;class be{constructor(de,le){(0,o.A)(this,"doc",void 0),(0,o.A)(this,"_readyPromise",void 0),(0,o.A)(this,"win",void 0),(0,o.A)(this,"backButton",new ft.B),(0,o.A)(this,"keyboardDidShow",new ft.B),(0,o.A)(this,"keyboardDidHide",new ft.B),(0,o.A)(this,"pause",new ft.B),(0,o.A)(this,"resume",new ft.B),(0,o.A)(this,"resize",new ft.B),this.doc=de,le.run(()=>{var He;let zt;this.win=de.defaultView,this.backButton.subscribeWithPriority=function(dn,Rn){return this.subscribe(Hn=>Hn.register(dn,Ar=>le.run(()=>Rn(Ar))))},Ft(this.pause,de,"pause",le),Ft(this.resume,de,"resume",le),Ft(this.backButton,de,"ionBackButton",le),Ft(this.resize,this.win,"resize",le),Ft(this.keyboardDidShow,this.win,"ionKeyboardDidShow",le),Ft(this.keyboardDidHide,this.win,"ionKeyboardDidHide",le),this._readyPromise=new Promise(dn=>{zt=dn}),null!==(He=this.win)&&void 0!==He&&He.cordova?de.addEventListener("deviceready",()=>{zt("cordova")},{once:!0}):zt("dom")})}is(de){return(0,Ee.a)(this.win,de)}platforms(){return(0,Ee.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(de){return _t(this.win.location.href,de)}isLandscape(){return!this.isPortrait()}isPortrait(){var de,le;return null===(de=(le=this.win).matchMedia)||void 0===de?void 0:de.call(le,"(orientation: portrait)").matches}testUserAgent(de){const le=this.win.navigator;return!!(null!=le&&le.userAgent&&le.userAgent.indexOf(de)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)(B.KVO(W.qQ),B.KVO(B.SKi))}),(0,o.A)(be,"\u0275prov",B.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),be})();const _t=(Ye,be)=>{be=be.replace(/[[\]\\]/g,"\\$&");const de=new RegExp("[\\?&]"+be+"=([^&#]*)").exec(Ye);return de?decodeURIComponent(de[1].replace(/\+/g," ")):null},Ft=(Ye,be,Ct,de)=>{be&&be.addEventListener(Ct,le=>{de.run(()=>{Ye.next(null!=le?le.detail:void 0)})})};let Nn=(()=>{var Ye;class be{constructor(de,le,He,zt){(0,o.A)(this,"location",void 0),(0,o.A)(this,"serializer",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"topOutlet",void 0),(0,o.A)(this,"direction",mn),(0,o.A)(this,"animated",kn),(0,o.A)(this,"animationBuilder",void 0),(0,o.A)(this,"guessDirection","forward"),(0,o.A)(this,"guessAnimation",void 0),(0,o.A)(this,"lastNavId",-1),this.location=le,this.serializer=He,this.router=zt,zt&&zt.events.subscribe(dn=>{if(dn instanceof ve.Z){const Rn=dn.restoredState?dn.restoredState.navigationId:dn.id;this.guessDirection=this.guessAnimation=Rn<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?dn.id:Rn}}),de.backButton.subscribeWithPriority(0,dn=>{this.pop(),dn()})}navigateForward(de,le={}){return this.setDirection("forward",le.animated,le.animationDirection,le.animation),this.navigate(de,le)}navigateBack(de,le={}){return this.setDirection("back",le.animated,le.animationDirection,le.animation),this.navigate(de,le)}navigateRoot(de,le={}){return this.setDirection("root",le.animated,le.animationDirection,le.animation),this.navigate(de,le)}back(de={animated:!0,animationDirection:"back"}){return this.setDirection("back",de.animated,de.animationDirection,de.animation),this.location.back()}pop(){var de=this;return(0,d.A)(function*(){let le=de.topOutlet;for(;le;){if(yield le.pop())return!0;le=le.parentOutlet}return!1})()}setDirection(de,le,He,zt){this.direction=de,this.animated=It(de,le,He),this.animationBuilder=zt}setTopOutlet(de){this.topOutlet=de}consumeTransition(){let le,de="root";const He=this.animationBuilder;return"auto"===this.direction?(de=this.guessDirection,le=this.guessAnimation):(le=this.animated,de=this.direction),this.direction=mn,this.animated=kn,this.animationBuilder=void 0,{direction:de,animation:le,animationBuilder:He}}navigate(de,le){if(Array.isArray(de))return this.router.navigate(de,le);{const He=this.serializer.parse(de.toString());return void 0!==le.queryParams&&(He.queryParams={...le.queryParams}),void 0!==le.fragment&&(He.fragment=le.fragment),this.router.navigateByUrl(He,le)}}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)(B.KVO(st),B.KVO(W.aZ),B.KVO(ve.Sd),B.KVO(ve.Ix,8))}),(0,o.A)(be,"\u0275prov",B.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),be})();const It=(Ye,be,Ct)=>{if(!1!==be){if(void 0!==Ct)return Ct;if("forward"===Ye||"back"===Ye)return Ye;if("root"===Ye&&!0===be)return"forward"}},mn="auto",kn=void 0;let Gn=(()=>{var Ye;class be{get(de,le){const He=jt();return He?He.get(de,le):null}getBoolean(de,le){const He=jt();return!!He&&He.getBoolean(de,le)}getNumber(de,le){const He=jt();return He?He.getNumber(de,le):0}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)}),(0,o.A)(be,"\u0275prov",B.jDH({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})),be})();const qt=new B.nKC("USERCONFIG"),jt=()=>{if(typeof window<"u"){const Ye=window.Ionic;if(null!=Ye&&Ye.config)return Ye.config}return null};class On{constructor(be={}){(0,o.A)(this,"data",void 0),this.data=be,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(be){return this.data[be]}}let rn=(()=>{var Ye;class be{constructor(){(0,o.A)(this,"zone",(0,B.WQX)(B.SKi)),(0,o.A)(this,"applicationRef",(0,B.WQX)(B.o8S)),(0,o.A)(this,"config",(0,B.WQX)(qt))}create(de,le,He){var zt;return new ke(de,le,this.applicationRef,this.zone,He,null!==(zt=this.config.useSetInputAPI)&&void 0!==zt&&zt)}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)}),(0,o.A)(be,"\u0275prov",B.jDH({token:Ye,factory:Ye.\u0275fac})),be})();class ke{constructor(be,Ct,de,le,He,zt){(0,o.A)(this,"environmentInjector",void 0),(0,o.A)(this,"injector",void 0),(0,o.A)(this,"applicationRef",void 0),(0,o.A)(this,"zone",void 0),(0,o.A)(this,"elementReferenceKey",void 0),(0,o.A)(this,"enableSignalsSupport",void 0),(0,o.A)(this,"elRefMap",new WeakMap),(0,o.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=be,this.injector=Ct,this.applicationRef=de,this.zone=le,this.elementReferenceKey=He,this.enableSignalsSupport=zt}attachViewToDom(be,Ct,de,le){return this.zone.run(()=>new Promise(He=>{const zt={...de};void 0!==this.elementReferenceKey&&(zt[this.elementReferenceKey]=be),He(Fe(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,be,Ct,zt,le,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(be,Ct){return this.zone.run(()=>new Promise(de=>{const le=this.elRefMap.get(Ct);if(le){le.destroy(),this.elRefMap.delete(Ct);const He=this.elEventsMap.get(Ct);He&&(He(),this.elEventsMap.delete(Ct))}de()}))}}const Fe=(Ye,be,Ct,de,le,He,zt,dn,Rn,Hn,Ar,tr)=>{const Bi=B.zZn.create({providers:nr(Rn),parent:Ct}),hr=(0,B.a0P)(dn,{environmentInjector:be,elementInjector:Bi}),Di=hr.instance,Ui=hr.location.nativeElement;if(Rn)if(Ar&&void 0!==Di[Ar]&&console.error(`[Ionic Error]: ${Ar} is a reserved property when using ${zt.tagName.toLowerCase()}. Rename or remove the "${Ar}" property from ${dn.name}.`),!0===tr&&void 0!==hr.setInput){const{modal:ei,popover:Po,...Xi}=Rn;for(const co in Xi)hr.setInput(co,Xi[co]);void 0!==ei&&Object.assign(Di,{modal:ei}),void 0!==Po&&Object.assign(Di,{popover:Po})}else Object.assign(Di,Rn);if(Hn)for(const ei of Hn)Ui.classList.add(ei);const yo=xt(Ye,Di,Ui);return zt.appendChild(Ui),de.attachView(hr.hostView),le.set(Ui,hr),He.set(Ui,yo),Ui},kt=[Se.L,Se.a,Se.b,Se.c,Se.d],xt=(Ye,be,Ct)=>Ye.run(()=>{const de=kt.filter(le=>"function"==typeof be[le]).map(le=>{const He=zt=>be[le](zt.detail);return Ct.addEventListener(le,He),()=>Ct.removeEventListener(le,He)});return()=>de.forEach(le=>le())}),Qn=new B.nKC("NavParamsToken"),nr=Ye=>[{provide:Qn,useValue:Ye},{provide:On,useFactory:Vn,deps:[Qn]}],Vn=Ye=>new On(Ye),Tn=(Ye,be)=>{const Ct=Ye.prototype;be.forEach(de=>{Object.defineProperty(Ct,de,{get(){return this.el[de]},set(le){this.z.runOutsideAngular(()=>this.el[de]=le)}})})},gr=(Ye,be)=>{const Ct=Ye.prototype;be.forEach(de=>{Ct[de]=function(){const le=arguments;return this.z.runOutsideAngular(()=>this.el[de].apply(this.el,le))}})},rr=(Ye,be,Ct)=>{Ct.forEach(de=>Ye[de]=(0,Je.R)(be,de))};function zn(Ye){return function(Ct){const{defineCustomElementFn:de,inputs:le,methods:He}=Ye;return void 0!==de&&de(),le&&Tn(Ct,le),He&&gr(Ct,He),Ct}}const Yn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],dr=["present","dismiss","onDidDismiss","onWillDismiss"];let jr=(()=>{var Ye;let be=((0,o.A)(Ye=class{constructor(de,le,He){(0,o.A)(this,"z",void 0),(0,o.A)(this,"template",void 0),(0,o.A)(this,"isCmpOpen",!1),(0,o.A)(this,"el",void 0),this.z=He,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,de.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,de.detectChanges()}),rr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(de){return new(de||Ye)(B.rXU(B.gRc),B.rXU(B.aKT),B.rXU(B.SKi))}),(0,o.A)(Ye,"\u0275dir",B.FsC({type:Ye,selectors:[["ion-popover"]],contentQueries:function(de,le,He){if(1&de&&B.wni(He,B.C4Q,5),2&de){let zt;B.mGM(zt=B.lsd())&&(le.template=zt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),Ye);return be=(0,Ge.Cg)([zn({inputs:Yn,methods:dr})],be),be})();const Cn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Cr=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Un=(()=>{var Ye;let be=((0,o.A)(Ye=class{constructor(de,le,He){(0,o.A)(this,"z",void 0),(0,o.A)(this,"template",void 0),(0,o.A)(this,"isCmpOpen",!1),(0,o.A)(this,"el",void 0),this.z=He,this.el=le.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,de.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,de.detectChanges()}),rr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(de){return new(de||Ye)(B.rXU(B.gRc),B.rXU(B.aKT),B.rXU(B.SKi))}),(0,o.A)(Ye,"\u0275dir",B.FsC({type:Ye,selectors:[["ion-modal"]],contentQueries:function(de,le,He){if(1&de&&B.wni(He,B.C4Q,5),2&de){let zt;B.mGM(zt=B.lsd())&&(le.template=zt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),Ye);return be=(0,Ge.Cg)([zn({inputs:Cn,methods:Cr})],be),be})();const Dn=(Ye,be)=>((Ye=Ye.filter(Ct=>Ct.stackId!==be.stackId)).push(be),Ye),fr=(Ye,be)=>{const Ct=Ye.createUrlTree(["."],{relativeTo:be});return Ye.serializeUrl(Ct)},_r=(Ye,be)=>!be||Ye.stackId!==be.stackId,_n=(Ye,be)=>{if(!Ye)return;const Ct=Gt(be);for(let de=0;de<Ct.length;de++){if(de>=Ye.length)return Ct[de];if(Ct[de]!==Ye[de])return}},Gt=Ye=>Ye.split("/").map(be=>be.trim()).filter(be=>""!==be),wt=Ye=>{Ye&&(Ye.ref.destroy(),Ye.unlistenEvents())};class Kt{constructor(be,Ct,de,le,He,zt){(0,o.A)(this,"containerEl",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"zone",void 0),(0,o.A)(this,"location",void 0),(0,o.A)(this,"views",[]),(0,o.A)(this,"runningTask",void 0),(0,o.A)(this,"skipTransition",!1),(0,o.A)(this,"tabsPrefix",void 0),(0,o.A)(this,"activeView",void 0),(0,o.A)(this,"nextId",0),this.containerEl=Ct,this.router=de,this.navCtrl=le,this.zone=He,this.location=zt,this.tabsPrefix=void 0!==be?Gt(be):void 0}createView(be,Ct){var de;const le=fr(this.router,Ct),He=null==be||null===(de=be.location)||void 0===de?void 0:de.nativeElement,zt=xt(this.zone,be.instance,He);return{id:this.nextId++,stackId:_n(this.tabsPrefix,le),unlistenEvents:zt,element:He,ref:be,url:le}}getExistingView(be){const Ct=fr(this.router,be),de=this.views.find(le=>le.url===Ct);return de&&de.ref.changeDetectorRef.reattach(),de}setActive(be){var Ct,de;const le=this.navCtrl.consumeTransition();let{direction:He,animation:zt,animationBuilder:dn}=le;const Rn=this.activeView,Hn=_r(be,Rn);Hn&&(He="back",zt=void 0);const Ar=this.views.slice();let tr;const Bi=this.router;Bi.getCurrentNavigation?tr=Bi.getCurrentNavigation():null!==(Ct=Bi.navigations)&&void 0!==Ct&&Ct.value&&(tr=Bi.navigations.value),null!==(de=tr)&&void 0!==de&&null!==(de=de.extras)&&void 0!==de&&de.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const hr=this.views.includes(be),Di=this.insertView(be,He);hr||be.ref.changeDetectorRef.detectChanges();const Ui=be.animationBuilder;return void 0===dn&&"back"===He&&!Hn&&void 0!==Ui&&(dn=Ui),Rn&&(Rn.animationBuilder=dn),this.zone.runOutsideAngular(()=>this.wait(()=>(Rn&&Rn.ref.changeDetectorRef.detach(),be.ref.changeDetectorRef.reattach(),this.transition(be,Rn,zt,this.canGoBack(1),!1,dn).then(()=>bt(be,Di,Ar,this.location,this.zone)).then(()=>({enteringView:be,direction:He,animation:zt,tabSwitch:Hn})))))}canGoBack(be,Ct=this.getActiveStackId()){return this.getStack(Ct).length>be}pop(be,Ct=this.getActiveStackId()){return this.zone.run(()=>{const de=this.getStack(Ct);if(de.length<=be)return Promise.resolve(!1);const le=de[de.length-be-1];let He=le.url;const zt=le.savedData;if(zt){var dn;const Hn=zt.get("primary");null!=Hn&&null!==(dn=Hn.route)&&void 0!==dn&&null!==(dn=dn._routerState)&&void 0!==dn&&dn.snapshot.url&&(He=Hn.route._routerState.snapshot.url)}const{animationBuilder:Rn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(He,{...le.savedExtras,animation:Rn}).then(()=>!0)})}startBackTransition(){const be=this.activeView;if(be){const Ct=this.getStack(be.stackId),de=Ct[Ct.length-2],le=de.animationBuilder;return this.wait(()=>this.transition(de,be,"back",this.canGoBack(2),!0,le))}return Promise.resolve()}endBackTransition(be){be?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ue(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(be){const Ct=this.getStack(be);return Ct.length>0?Ct[Ct.length-1]:void 0}getRootUrl(be){const Ct=this.getStack(be);return Ct.length>0?Ct[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(wt),this.activeView=void 0,this.views=[]}getStack(be){return this.views.filter(Ct=>Ct.stackId===be)}insertView(be,Ct){return this.activeView=be,this.views=((Ye,be,Ct)=>"root"===Ct?Dn(Ye,be):"forward"===Ct?((Ye,be)=>(Ye.indexOf(be)>=0?Ye=Ye.filter(de=>de.stackId!==be.stackId||de.id<=be.id):Ye.push(be),Ye))(Ye,be):((Ye,be)=>Ye.indexOf(be)>=0?Ye.filter(de=>de.stackId!==be.stackId||de.id<=be.id):Dn(Ye,be))(Ye,be))(this.views,be,Ct),this.views.slice()}transition(be,Ct,de,le,He,zt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Ct===be)return Promise.resolve(!1);const dn=be?be.element:void 0,Rn=Ct?Ct.element:void 0,Hn=this.containerEl;return dn&&dn!==Rn&&(dn.classList.add("ion-page"),dn.classList.add("ion-page-invisible"),Hn.commit)?Hn.commit(dn,Rn,{duration:void 0===de?0:void 0,direction:de,showGoBack:le,progressAnimation:He,animationBuilder:zt}):Promise.resolve(!1)}wait(be){var Ct=this;return(0,d.A)(function*(){void 0!==Ct.runningTask&&(yield Ct.runningTask,Ct.runningTask=void 0);const de=Ct.runningTask=be();return de.finally(()=>Ct.runningTask=void 0),de})()}}const bt=(Ye,be,Ct,de,le)=>"function"==typeof requestAnimationFrame?new Promise(He=>{requestAnimationFrame(()=>{Ue(Ye,be,Ct,de,le),He()})}):Promise.resolve(),Ue=(Ye,be,Ct,de,le)=>{le.run(()=>Ct.filter(He=>!be.includes(He)).forEach(wt)),be.forEach(He=>{const dn=de.path().split("?")[0].split("#")[0];if(He!==Ye&&He.url!==dn){const Rn=He.element;Rn.setAttribute("aria-hidden","true"),Rn.classList.add("ion-page-hidden"),He.ref.changeDetectorRef.detach()}})};let at=(()=>{var Ye;class be{get activatedComponentRef(){return this.activated}set animation(de){this.nativeEl.animation=de}set animated(de){this.nativeEl.animated=de}set swipeGesture(de){this._swipeGesture=de,this.nativeEl.swipeHandler=de?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:le=>this.stackCtrl.endBackTransition(le)}:void 0}constructor(de,le,He,zt,dn,Rn,Hn,Ar){(0,o.A)(this,"parentOutlet",void 0),(0,o.A)(this,"nativeEl",void 0),(0,o.A)(this,"activatedView",null),(0,o.A)(this,"tabsPrefix",void 0),(0,o.A)(this,"_swipeGesture",void 0),(0,o.A)(this,"stackCtrl",void 0),(0,o.A)(this,"proxyMap",new WeakMap),(0,o.A)(this,"currentActivatedRoute$",new Nt.t(null)),(0,o.A)(this,"activated",null),(0,o.A)(this,"_activatedRoute",null),(0,o.A)(this,"name",ve.Xk),(0,o.A)(this,"stackWillChange",new B.bkB),(0,o.A)(this,"stackDidChange",new B.bkB),(0,o.A)(this,"activateEvents",new B.bkB),(0,o.A)(this,"deactivateEvents",new B.bkB),(0,o.A)(this,"parentContexts",(0,B.WQX)(ve.Zp)),(0,o.A)(this,"location",(0,B.WQX)(B.c1b)),(0,o.A)(this,"environmentInjector",(0,B.WQX)(B.uvJ)),(0,o.A)(this,"inputBinder",(0,B.WQX)(Q,{optional:!0})),(0,o.A)(this,"supportsBindingToComponentInputs",!0),(0,o.A)(this,"config",(0,B.WQX)(Gn)),(0,o.A)(this,"navCtrl",(0,B.WQX)(Nn)),this.parentOutlet=Ar,this.nativeEl=zt.nativeElement,this.name=de||ve.Xk,this.tabsPrefix="true"===le?fr(dn,Hn):void 0,this.stackCtrl=new Kt(this.tabsPrefix,this.nativeEl,dn,this.navCtrl,Rn,He),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var de;this.stackCtrl.destroy(),null===(de=this.inputBinder)||void 0===de||de.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const de=this.getContext();null!=de&&de.route&&this.activateWith(de.route,de.injector)}new Promise(de=>((Ye,be)=>{Ye.componentOnReady?Ye.componentOnReady().then(Ct=>be(Ct)):(Ye=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye)})(()=>be(Ye))})(this.nativeEl,de)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(de,le){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const le=this.getContext();this.activatedView.savedData=new Map(le.children.contexts);const He=this.activatedView.savedData.get("primary");if(He&&le.route&&(He.route={...le.route}),this.activatedView.savedExtras={},le.route){const zt=le.route.snapshot;this.activatedView.savedExtras.queryParams=zt.queryParams,this.activatedView.savedExtras.fragment=zt.fragment}}const de=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(de)}}activateWith(de,le){var He;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=de;let zt,dn=this.stackCtrl.getExistingView(de);if(dn){zt=this.activated=dn.ref;const Ar=dn.savedData;Ar&&(this.getContext().children.contexts=Ar),this.updateActivatedRouteProxy(zt.instance,de)}else{var Rn;const Ar=de._futureSnapshot,tr=this.parentContexts.getOrCreateContext(this.name).children,Bi=new Nt.t(null),hr=this.createActivatedRouteProxy(Bi,de),Di=new J(hr,tr,this.location.injector),Ui=null!==(Rn=Ar.routeConfig.component)&&void 0!==Rn?Rn:Ar.component;zt=this.activated=this.outletContent.createComponent(Ui,{index:this.outletContent.length,injector:Di,environmentInjector:null!=le?le:this.environmentInjector}),Bi.next(zt.instance),dn=this.stackCtrl.createView(this.activated,de),this.proxyMap.set(zt.instance,hr),this.currentActivatedRoute$.next({component:zt.instance,activatedRoute:de})}null===(He=this.inputBinder)||void 0===He||He.bindActivatedRouteToOutletComponent(this),this.activatedView=dn,this.navCtrl.setTopOutlet(this);const Hn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:dn,tabSwitch:_r(dn,Hn)}),this.stackCtrl.setActive(dn).then(Ar=>{this.activateEvents.emit(zt.instance),this.stackDidChange.emit(Ar)})}canGoBack(de=1,le){return this.stackCtrl.canGoBack(de,le)}pop(de=1,le){return this.stackCtrl.pop(de,le)}getLastUrl(de){const le=this.stackCtrl.getLastUrl(de);return le?le.url:void 0}getLastRouteView(de){return this.stackCtrl.getLastUrl(de)}getRootView(de){return this.stackCtrl.getRootUrl(de)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(de,le){const He=new ve.nX;return He._futureSnapshot=le._futureSnapshot,He._routerState=le._routerState,He.snapshot=le.snapshot,He.outlet=le.outlet,He.component=le.component,He._paramMap=this.proxyObservable(de,"paramMap"),He._queryParamMap=this.proxyObservable(de,"queryParamMap"),He.url=this.proxyObservable(de,"url"),He.params=this.proxyObservable(de,"params"),He.queryParams=this.proxyObservable(de,"queryParams"),He.fragment=this.proxyObservable(de,"fragment"),He.data=this.proxyObservable(de,"data"),He}proxyObservable(de,le){return de.pipe((0,we.p)(He=>!!He),(0,me.n)(He=>this.currentActivatedRoute$.pipe((0,we.p)(zt=>null!==zt&&zt.component===He),(0,me.n)(zt=>zt&&zt.activatedRoute[le]),(0,De.F)())))}updateActivatedRouteProxy(de,le){const He=this.proxyMap.get(de);if(!He)throw new Error("Could not find activated route proxy for view");He._futureSnapshot=le._futureSnapshot,He._routerState=le._routerState,He.snapshot=le.snapshot,He.outlet=le.outlet,He.component=le.component,this.currentActivatedRoute$.next({component:de,activatedRoute:le})}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)(B.kS0("name"),B.kS0("tabs"),B.rXU(W.aZ),B.rXU(B.aKT),B.rXU(ve.Ix),B.rXU(B.SKi),B.rXU(ve.nX),B.rXU(Ye,12))}),(0,o.A)(be,"\u0275dir",B.FsC({type:Ye,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),be})();class J{constructor(be,Ct,de){(0,o.A)(this,"route",void 0),(0,o.A)(this,"childContexts",void 0),(0,o.A)(this,"parent",void 0),this.route=be,this.childContexts=Ct,this.parent=de}get(be,Ct){return be===ve.nX?this.route:be===ve.Zp?this.childContexts:this.parent.get(be,Ct)}}const Q=new B.nKC("");let re=(()=>{var Ye;class be{constructor(){(0,o.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(de){this.unsubscribeFromRouteData(de),this.subscribeToRouteData(de)}unsubscribeFromRouteData(de){var le;null===(le=this.outletDataSubscriptions.get(de))||void 0===le||le.unsubscribe(),this.outletDataSubscriptions.delete(de)}subscribeToRouteData(de){const{activatedRoute:le}=de,He=(0,Ot.z)([le.queryParams,le.params,le.data]).pipe((0,me.n)(([zt,dn,Rn],Hn)=>(Rn={...zt,...dn,...Rn},0===Hn?(0,un.of)(Rn):Promise.resolve(Rn)))).subscribe(zt=>{if(!de.isActivated||!de.activatedComponentRef||de.activatedRoute!==le||null===le.component)return void this.unsubscribeFromRouteData(de);const dn=(0,B.HJs)(le.component);if(dn)for(const{templateName:Rn}of dn.inputs)de.activatedComponentRef.setInput(Rn,zt[Rn]);else this.unsubscribeFromRouteData(de)});this.outletDataSubscriptions.set(de,He)}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)}),(0,o.A)(be,"\u0275prov",B.jDH({token:Ye,factory:Ye.\u0275fac})),be})();const Oe=()=>({provide:Q,useFactory:$e,deps:[ve.Ix]});function $e(Ye){return null!=Ye&&Ye.componentInputBindingEnabled?new re:null}const Qt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let An=(()=>{var Ye;let be=((0,o.A)(Ye=class{constructor(de,le,He,zt,dn,Rn){(0,o.A)(this,"routerOutlet",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"config",void 0),(0,o.A)(this,"r",void 0),(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.routerOutlet=de,this.navCtrl=le,this.config=He,this.r=zt,this.z=dn,Rn.detach(),this.el=this.r.nativeElement}onClick(de){var le;const He=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(le=this.routerOutlet)&&void 0!==le&&le.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),de.preventDefault()):null!=He&&(this.navCtrl.navigateBack(He,{animation:this.routerAnimation}),de.preventDefault())}},"\u0275fac",function(de){return new(de||Ye)(B.rXU(at,8),B.rXU(Nn),B.rXU(Gn),B.rXU(B.aKT),B.rXU(B.SKi),B.rXU(B.gRc))}),(0,o.A)(Ye,"\u0275dir",B.FsC({type:Ye,hostBindings:function(de,le){1&de&&B.bIt("click",function(zt){return le.onClick(zt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),Ye);return be=(0,Ge.Cg)([zn({inputs:Qt})],be),be})(),qn=(()=>{var Ye;class be{constructor(de,le,He,zt,dn){(0,o.A)(this,"locationStrategy",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"elementRef",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"routerLink",void 0),(0,o.A)(this,"routerDirection","forward"),(0,o.A)(this,"routerAnimation",void 0),this.locationStrategy=de,this.navCtrl=le,this.elementRef=He,this.router=zt,this.routerLink=dn}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const le=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(le.tagName)&&"0"===le.getAttribute("tabindex")&&le.removeAttribute("tabindex")}updateTargetUrlAndHref(){var de;if(null!==(de=this.routerLink)&&void 0!==de&&de.urlTree){const le=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=le}}onClick(de){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),de.preventDefault()}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)(B.rXU(W.hb),B.rXU(Nn),B.rXU(B.aKT),B.rXU(ve.Ix),B.rXU(ve.Wk,8))}),(0,o.A)(be,"\u0275dir",B.FsC({type:Ye,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(de,le){1&de&&B.bIt("click",function(zt){return le.onClick(zt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[B.OA$]})),be})(),Ir=(()=>{var Ye;class be{constructor(de,le,He,zt,dn){(0,o.A)(this,"locationStrategy",void 0),(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"elementRef",void 0),(0,o.A)(this,"router",void 0),(0,o.A)(this,"routerLink",void 0),(0,o.A)(this,"routerDirection","forward"),(0,o.A)(this,"routerAnimation",void 0),this.locationStrategy=de,this.navCtrl=le,this.elementRef=He,this.router=zt,this.routerLink=dn}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var de;if(null!==(de=this.routerLink)&&void 0!==de&&de.urlTree){const le=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=le}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)(B.rXU(W.hb),B.rXU(Nn),B.rXU(B.aKT),B.rXU(ve.Ix),B.rXU(ve.Wk,8))}),(0,o.A)(be,"\u0275dir",B.FsC({type:Ye,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(de,le){1&de&&B.bIt("click",function(){return le.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[B.OA$]})),be})();const gt=["animated","animation","root","rootParams","swipeGesture"],vr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Mn=(()=>{var Ye;let be=((0,o.A)(Ye=class{constructor(de,le,He,zt,dn,Rn){(0,o.A)(this,"z",void 0),(0,o.A)(this,"el",void 0),this.z=dn,Rn.detach(),this.el=de.nativeElement,de.nativeElement.delegate=zt.create(le,He),rr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(de){return new(de||Ye)(B.rXU(B.aKT),B.rXU(B.uvJ),B.rXU(B.zZn),B.rXU(rn),B.rXU(B.SKi),B.rXU(B.gRc))}),(0,o.A)(Ye,"\u0275dir",B.FsC({type:Ye,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),Ye);return be=(0,Ge.Cg)([zn({inputs:gt,methods:vr})],be),be})(),Hr=(()=>{var Ye;class be{constructor(de){(0,o.A)(this,"navCtrl",void 0),(0,o.A)(this,"tabsInner",void 0),(0,o.A)(this,"ionTabsWillChange",new B.bkB),(0,o.A)(this,"ionTabsDidChange",new B.bkB),(0,o.A)(this,"tabBarSlot","bottom"),(0,o.A)(this,"hasTab",!1),(0,o.A)(this,"selectedTab",void 0),(0,o.A)(this,"leavingTab",void 0),this.navCtrl=de}ngAfterViewInit(){const de=this.tabs.length>0?this.tabs.first:void 0;de&&(this.hasTab=!0,this.setActiveTab(de.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:de,tabSwitch:le}){const He=de.stackId;le&&void 0!==He&&this.ionTabsWillChange.emit({tab:He})}onStackDidChange({enteringView:de,tabSwitch:le}){const He=de.stackId;le&&void 0!==He&&(this.tabBar&&(this.tabBar.selectedTab=He),this.ionTabsDidChange.emit({tab:He}))}select(de){const le="string"==typeof de,He=le?de:de.detail.tab;if(this.hasTab)return this.setActiveTab(He),void this.tabSwitch();const zt=this.outlet.getActiveStackId()===He,dn=`${this.outlet.tabsPrefix}/${He}`;if(le||de.stopPropagation(),zt){const Rn=this.outlet.getActiveStackId(),Hn=this.outlet.getLastRouteView(Rn);if((null==Hn?void 0:Hn.url)===dn)return;const Ar=this.outlet.getRootView(He);return this.navCtrl.navigateRoot(dn,{...Ar&&dn===Ar.url&&Ar.savedExtras,animated:!0,animationDirection:"back"})}{const Rn=this.outlet.getLastRouteView(He);return this.navCtrl.navigateRoot((null==Rn?void 0:Rn.url)||dn,{...null==Rn?void 0:Rn.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(de){const He=this.tabs.find(zt=>zt.tab===de);He?(this.leavingTab=this.selectedTab,this.selectedTab=He,this.ionTabsWillChange.emit({tab:de}),He.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${de}" does not exist`)}tabSwitch(){const{selectedTab:de,leavingTab:le}=this;this.tabBar&&de&&(this.tabBar.selectedTab=de.tab),(null==le?void 0:le.tab)!==(null==de?void 0:de.tab)&&null!=le&&le.el&&(le.el.active=!1),de&&this.ionTabsDidChange.emit({tab:de.tab})}getSelected(){var de;return this.hasTab?null===(de=this.selectedTab)||void 0===de?void 0:de.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(de=>{const le=de.el.getAttribute("slot");le!==this.tabBarSlot&&(this.tabBarSlot=le,this.relocateTabBar())})}relocateTabBar(){const de=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(de):this.tabsInner.nativeElement.after(de)}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)(B.rXU(Nn))}),(0,o.A)(be,"\u0275dir",B.FsC({type:Ye,selectors:[["ion-tabs"]],viewQuery:function(de,le){if(1&de&&B.GBs(Ne,7,B.aKT),2&de){let He;B.mGM(He=B.lsd())&&(le.tabsInner=He.first)}},hostBindings:function(de,le){1&de&&B.bIt("ionTabButtonClick",function(zt){return le.select(zt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),be})();const Qr=Ye=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Ye):"function"==typeof requestAnimationFrame?requestAnimationFrame(Ye):setTimeout(Ye);let Jn=(()=>{var Ye;class be{constructor(de,le){(0,o.A)(this,"injector",void 0),(0,o.A)(this,"elementRef",void 0),(0,o.A)(this,"onChange",()=>{}),(0,o.A)(this,"onTouched",()=>{}),(0,o.A)(this,"lastValue",void 0),(0,o.A)(this,"statusChanges",void 0),this.injector=de,this.elementRef=le}writeValue(de){this.elementRef.nativeElement.value=this.lastValue=de,wi(this.elementRef)}handleValueChange(de,le){de===this.elementRef.nativeElement&&(le!==this.lastValue&&(this.lastValue=le,this.onChange(le)),wi(this.elementRef))}_handleBlurEvent(de){de===this.elementRef.nativeElement&&(this.onTouched(),wi(this.elementRef))}registerOnChange(de){this.onChange=de}registerOnTouched(de){this.onTouched=de}setDisabledState(de){this.elementRef.nativeElement.disabled=de}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let de;try{de=this.injector.get(oe.vO)}catch{}if(!de)return;de.statusChanges&&(this.statusChanges=de.statusChanges.subscribe(()=>wi(this.elementRef)));const le=de.control;le&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(zt=>{if(typeof le[zt]<"u"){const dn=le[zt].bind(le);le[zt]=(...Rn)=>{dn(...Rn),wi(this.elementRef)}}})}}return Ye=be,(0,o.A)(be,"\u0275fac",function(de){return new(de||Ye)(B.rXU(B.zZn),B.rXU(B.aKT))}),(0,o.A)(be,"\u0275dir",B.FsC({type:Ye,hostBindings:function(de,le){1&de&&B.bIt("ionBlur",function(zt){return le._handleBlurEvent(zt.target)})}})),be})();const wi=Ye=>{Qr(()=>{const be=Ye.nativeElement,Ct=null!=be.value&&be.value.toString().length>0,de=Wo(be);$i(be,de);const le=be.closest("ion-item");le&&$i(le,Ct?[...de,"item-has-value"]:de)})},Wo=Ye=>{const be=Ye.classList,Ct=[];for(let de=0;de<be.length;de++){const le=be.item(de);null!==le&&Ro(le,"ng-")&&Ct.push(`ion-${le.substring(3)}`)}return Ct},$i=(Ye,be)=>{const Ct=Ye.classList;Ct.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Ct.add(...be)},Ro=(Ye,be)=>Ye.substring(0,be.length)===be;class Ko{shouldDetach(be){return!1}shouldAttach(be){return!1}store(be,Ct){}retrieve(be){return null}shouldReuseRoute(be,Ct){if(be.routeConfig!==Ct.routeConfig)return!1;const de=be.params,le=Ct.params,He=Object.keys(de),zt=Object.keys(le);if(He.length!==zt.length)return!1;for(const dn of He)if(le[dn]!==de[dn])return!1;return!0}}class Pr{constructor(be){(0,o.A)(this,"ctrl",void 0),this.ctrl=be}create(be){return this.ctrl.create(be||{})}dismiss(be,Ct,de){return this.ctrl.dismiss(be,Ct,de)}getTop(){return this.ctrl.getTop()}}},4742:(Pn,Dt,V)=>{"use strict";V.d(Dt,{hG:()=>Es,xk:()=>Ft,YH:()=>Nn,U1:()=>kn,Jm:()=>ke,QW:()=>Fe,b_:()=>kt,I9:()=>xt,ME:()=>Qn,HW:()=>nr,tN:()=>Vn,W9:()=>zn,A9:()=>Yn,eU:()=>Dn,iq:()=>Ei,KW:()=>er,$w:()=>_n,uz:()=>wt,he:()=>Q,nf:()=>re,AF:()=>Oe,oS:()=>Qt,MC:()=>An,cA:()=>qn,Sb:()=>Fn,JI:()=>gt,Ob:()=>$i,Rg:()=>Bo,S1:()=>de,Gp:()=>le,eP:()=>He,Nm:()=>Rn,Ip:()=>Ar,HP:()=>hr,IO:()=>ei,nc:()=>Po,BC:()=>co,ai:()=>qi,bv:()=>bi,_t:()=>_i,su:()=>De,IE:()=>Qo,N7:()=>Kr,Je:()=>oe,Gw:()=>Ne});var d=V(9842),o=V(4438),B=V(4341),ve=V(2872),W=V(1635),Ee=V(3726),Se=V(177),Be=V(9384),Ke=(V(9986),V(3604),V(5022),V(3615),V(8607),V(9483)),ct=V(464),yt=V(1702),mt=V(3617),Mt=(V(8476),V(4261));V(1970),V(7192);var it=V(467);const dt=Ke.i,rt=function(){var F=(0,it.A)(function*(E,O){if(!(typeof window>"u"))return yield dt(),(0,Mt.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[1,"ion-segment-content"]]],["ion-segment-view",[[33,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select-modal",[[34,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"setFocus":[64]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),O)});return function(O,A){return F.apply(this,arguments)}}(),he=["*"],ht=["outletContent"];function Ge(F,E){if(1&F&&(o.j41(0,"div",1),o.eu8(1,2),o.k0s()),2&F){const O=o.XpG();o.R7$(),o.Y8G("ngTemplateOutlet",O.template)}}let De=(()=>{var F;class E extends ve.fL{constructor(A,G){super(A,G),(0,d.A)(this,"el",void 0),this.el=G}handleInputEvent(A){this.handleValueChange(A,A.value)}registerOnChange(A){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?G=>{A(""===G?null:parseFloat(G))}:A)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.rXU(o.zZn),o.rXU(o.aKT))}),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(A,G){1&A&&o.bIt("ionInput",function(nt){return G.handleInputEvent(nt.target)})},features:[o.Jv_([{provide:B.kq,useExisting:F,multi:!0}]),o.Vt3]})),E})(),oe=(()=>{var F;class E extends ve.fL{constructor(A,G){super(A,G)}_handleChangeEvent(A){this.handleValueChange(A,A.value)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.rXU(o.zZn),o.rXU(o.aKT))}),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(A,G){1&A&&o.bIt("ionChange",function(nt){return G._handleChangeEvent(nt.target)})},features:[o.Jv_([{provide:B.kq,useExisting:F,multi:!0}]),o.Vt3]})),E})(),Ne=(()=>{var F;class E extends ve.fL{constructor(A,G){super(A,G)}_handleInputEvent(A){this.handleValueChange(A,A.value)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.rXU(o.zZn),o.rXU(o.aKT))}),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(A,G){1&A&&o.bIt("ionInput",function(nt){return G._handleInputEvent(nt.target)})},features:[o.Jv_([{provide:B.kq,useExisting:F,multi:!0}]),o.Vt3]})),E})();const ze=(F,E)=>{const O=F.prototype;E.forEach(A=>{Object.defineProperty(O,A,{get(){return this.el[A]},set(G){this.z.runOutsideAngular(()=>this.el[A]=G)},configurable:!0})})},Ze=(F,E)=>{const O=F.prototype;E.forEach(A=>{O[A]=function(){const G=arguments;return this.z.runOutsideAngular(()=>this.el[A].apply(this.el,G))}})},je=(F,E,O)=>{O.forEach(A=>F[A]=(0,Ee.R)(E,A))};function _t(F){return function(O){const{defineCustomElementFn:A,inputs:G,methods:se}=F;return void 0!==A&&A(),G&&ze(O,G),se&&Ze(O,se),O}}let Ft=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-accordion"]],inputs:{disabled:"disabled",mode:"mode",readonly:"readonly",toggleIcon:"toggleIcon",toggleIconSlot:"toggleIconSlot",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["disabled","mode","readonly","toggleIcon","toggleIconSlot","value"]})],E),E})(),Nn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionChange"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-accordion-group"]],inputs:{animated:"animated",disabled:"disabled",expand:"expand",mode:"mode",multiple:"multiple",readonly:"readonly",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["animated","disabled","expand","mode","multiple","readonly","value"]})],E),E})(),kn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-app"]],ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({methods:["setFocus"]})],E),E})(),ke=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Fe=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["collapse"]})],E),E})(),kt=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),xt=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["mode"]})],E),E})(),Qn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","mode","translucent"]})],E),E})(),nr=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","mode"]})],E),E})(),Vn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","mode"]})],E),E})(),zn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),Yn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",formatOptions:"formatOptions",highlightedDates:"highlightedDates",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",multiple:"multiple",name:"name",preferWheel:"preferWheel",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",titleSelectedDatesFormatter:"titleSelectedDatesFormatter",value:"value",yearValues:"yearValues"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","formatOptions","highlightedDates","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","multiple","name","preferWheel","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","titleSelectedDatesFormatter","value","yearValues"],methods:["confirm","reset","cancel"]})],E),E})(),Dn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["collapse","mode","translucent"]})],E),E})(),Ei=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),er=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["alt","src"]})],E),E})(),_n=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),wt=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Q=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","mode","position"]})],E),E})(),re=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),Oe=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","lines","mode"]})],E),E})(),Qt=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],E),E})(),An=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["autoHide","color","disabled","menu","mode","type"]})],E),E})(),qn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["autoHide","menu"]})],E),E})(),gt=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-note"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","mode"]})],E),E})(),$i=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],E),E})(),de=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["animated","autocapitalize","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),le=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionChange"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-segment"]],inputs:{color:"color",disabled:"disabled",mode:"mode",scrollable:"scrollable",selectOnFocus:"selectOnFocus",swipeGesture:"swipeGesture",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","disabled","mode","scrollable","selectOnFocus","swipeGesture","value"]})],E),E})(),He=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-segment-button"]],inputs:{contentId:"contentId",disabled:"disabled",layout:"layout",mode:"mode",type:"type",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["contentId","disabled","layout","mode","type","value"]})],E),E})(),Rn=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],E),E})(),Ar=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["disabled","value"]})],E),E})(),hr=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionSplitPaneVisible"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["contentId","disabled","when"]})],E),E})(),ei=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","mode"]})],E),E})(),Po=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement,je(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],E),E})(),co=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","size"]})],E),E})(),qi=(()=>{var F;let E=((0,d.A)(F=class{constructor(A,G,se){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=se,A.detach(),this.el=G.nativeElement}},"\u0275fac",function(A){return new(A||F)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(o.SKi))}),(0,d.A)(F,"\u0275cmp",o.VBU({type:F,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:he,decls:1,vars:0,template:function(A,G){1&A&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})),F);return E=(0,W.Cg)([_t({inputs:["color","mode"]})],E),E})(),Bo=(()=>{var F;class E extends ve.Rg{constructor(A,G,se,nt,tn,Et,Ht,an){super(A,G,se,nt,tn,Et,Ht,an),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=an}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)(o.kS0("name"),o.kS0("tabs"),o.rXU(Se.aZ),o.rXU(o.aKT),o.rXU(Be.Ix),o.rXU(o.SKi),o.rXU(Be.nX),o.rXU(F,12))}),(0,d.A)(E,"\u0275cmp",o.VBU({type:F,selectors:[["ion-router-outlet"]],viewQuery:function(A,G){if(1&A&&o.GBs(ht,7,o.c1b),2&A){let se;o.mGM(se=o.lsd())&&(G.outletContent=se.first)}},features:[o.Vt3],ngContentSelectors:he,decls:3,vars:0,consts:[["outletContent",""]],template:function(A,G){1&A&&(o.NAR(),o.qex(0,null,0),o.SdG(2),o.bVm())},encapsulation:2})),E})(),Kr=(()=>{var F;class E extends ve.CE{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["","routerLink","",5,"a",5,"area"]],features:[o.Vt3]})),E})(),Fn=(()=>{var F;class E extends ve.Sb{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275cmp",o.VBU({type:F,selectors:[["ion-modal"]],features:[o.Vt3],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(A,G){1&A&&o.DNE(0,Ge,2,1,"div",0),2&A&&o.Y8G("ngIf",G.isCmpOpen||G.keepContentsMounted)},dependencies:[Se.bT,Se.T3],encapsulation:2,changeDetection:0})),E})();const Ks={provide:B.cz,useExisting:(0,o.Rfq)(()=>Is),multi:!0};let Is=(()=>{var F;class E extends B.zX{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(A,G){2&A&&o.BMQ("max",G._enabled?G.max:null)},features:[o.Jv_([Ks]),o.Vt3]})),E})();const ho={provide:B.cz,useExisting:(0,o.Rfq)(()=>Si),multi:!0};let Si=(()=>{var F;class E extends B.VZ{}return F=E,(0,d.A)(E,"\u0275fac",(()=>{let O;return function(G){return(O||(O=o.xGo(F)))(G||F)}})()),(0,d.A)(E,"\u0275dir",o.FsC({type:F,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(A,G){2&A&&o.BMQ("min",G._enabled?G.min:null)},features:[o.Jv_([ho]),o.Vt3]})),E})(),Es=(()=>{var F;class E extends ve.Kb{constructor(){super(mt.a)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275prov",o.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})),E})(),_i=(()=>{var F;class E extends ve._t{constructor(){super(yt.m)}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275prov",o.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})),E})(),Ri=(()=>{var F;class E extends ve.Kb{constructor(){super(mt.m),(0,d.A)(this,"angularDelegate",(0,o.WQX)(ve.Yq)),(0,d.A)(this,"injector",(0,o.WQX)(o.zZn)),(0,d.A)(this,"environmentInjector",(0,o.WQX)(o.uvJ))}create(A){return super.create({...A,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275prov",o.jDH({token:F,factory:F.\u0275fac})),E})();class Qo extends ve.Kb{constructor(){super(mt.c),(0,d.A)(this,"angularDelegate",(0,o.WQX)(ve.Yq)),(0,d.A)(this,"injector",(0,o.WQX)(o.zZn)),(0,d.A)(this,"environmentInjector",(0,o.WQX)(o.uvJ))}create(E){return super.create({...E,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const ti=(F,E,O)=>()=>{const A=E.defaultView;if(A&&typeof window<"u"){(0,ct.s)({...F,_zoneGate:se=>O.run(se)});const G="__zone_symbol__addEventListener"in E.body?"__zone_symbol__addEventListener":"addEventListener";return function Me(){var F=[];if(typeof window<"u"){var E=window;(!E.customElements||E.Element&&(!E.Element.prototype.closest||!E.Element.prototype.matches||!E.Element.prototype.remove||!E.Element.prototype.getRootNode))&&F.push(V.e(7278).then(V.t.bind(V,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||E.NodeList&&!E.NodeList.prototype.forEach||!E.fetch||!function(){try{var A=new URL("b","http://a");return A.pathname="c%20d","http://a/c%20d"===A.href&&A.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&F.push(V.e(9329).then(V.t.bind(V,7783,23)))}return Promise.all(F)}().then(()=>rt(A,{exclude:["ion-tabs"],syncQueue:!0,raf:ve.er,jmp:se=>O.runOutsideAngular(se),ael(se,nt,tn,Et){se[G](nt,tn,Et)},rel(se,nt,tn,Et){se.removeEventListener(nt,tn,Et)}}))}};let bi=(()=>{var F;class E{static forRoot(A={}){return{ngModule:E,providers:[{provide:ve.sR,useValue:A},{provide:o.hnV,useFactory:ti,multi:!0,deps:[ve.sR,Se.qQ,o.SKi]},ve.Yq,(0,ve.YV)()]}}}return F=E,(0,d.A)(E,"\u0275fac",function(A){return new(A||F)}),(0,d.A)(E,"\u0275mod",o.$C({type:F})),(0,d.A)(E,"\u0275inj",o.G2t({providers:[Ri,Qo],imports:[Se.MD]})),E})()},2214:(Pn,Dt,V)=>{"use strict";V.d(Dt,{Dk:()=>d.getApps,KO:()=>d.registerVersion,Sx:()=>d.getApp,Wp:()=>d.initializeApp});var d=V(8742);(0,d.registerVersion)("firebase","10.14.1","app")},7935:(Pn,Dt,V)=>{"use strict";V.d(Dt,{A:()=>d.A});var d=V(3345);d.A.registerVersion("firebase","10.14.1","app-compat")},2438:(Pn,Dt,V)=>{"use strict";var d=V(467),o=V(3345),B=V(5504),ve=V(1076),Se=(V(8742),V(8041),V(1362));function Be(){return window}function _e(){return _e=(0,d.A)(function*(J,Q,re){var Oe;const{BuildInfo:$e}=Be();(0,B.au)(Q.sessionId,"AuthEvent did not contain a session ID");const Qt=yield function ut(J){return Mt.apply(this,arguments)}(Q.sessionId),An={};return(0,B.av)()?An.ibi=$e.packageName:(0,B.aw)()?An.apn=$e.packageName:(0,B.ax)(J,"operation-not-supported-in-this-environment"),$e.displayName&&(An.appDisplayName=$e.displayName),An.sessionId=Qt,(0,B.ay)(J,re,Q.type,void 0,null!==(Oe=Q.eventId)&&void 0!==Oe?Oe:void 0,An)}),_e.apply(this,arguments)}function Qe(){return(Qe=(0,d.A)(function*(J){const{BuildInfo:Q}=Be(),re={};(0,B.av)()?re.iosBundleId=Q.packageName:(0,B.aw)()?re.androidPackageName=Q.packageName:(0,B.ax)(J,"operation-not-supported-in-this-environment"),yield(0,B.az)(J,re)})).apply(this,arguments)}function yt(){return(yt=(0,d.A)(function*(J,Q,re){const{cordova:Oe}=Be();let $e=()=>{};try{yield new Promise((Qt,An)=>{let qn=null;function Ir(){var Mn;Qt();const Hr=null===(Mn=Oe.plugins.browsertab)||void 0===Mn?void 0:Mn.close;"function"==typeof Hr&&Hr(),"function"==typeof(null==re?void 0:re.close)&&re.close()}function gt(){qn||(qn=window.setTimeout(()=>{An((0,B.aB)(J,"redirect-cancelled-by-user"))},2e3))}function vr(){"visible"===(null==document?void 0:document.visibilityState)&&gt()}Q.addPassiveListener(Ir),document.addEventListener("resume",gt,!1),(0,B.aw)()&&document.addEventListener("visibilitychange",vr,!1),$e=()=>{Q.removePassiveListener(Ir),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",vr,!1),qn&&window.clearTimeout(qn)}})}finally{$e()}})).apply(this,arguments)}function Mt(){return(Mt=(0,d.A)(function*(J){const Q=function At(J){if((0,B.au)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(J);const Q=new ArrayBuffer(J.length),re=new Uint8Array(Q);for(let Oe=0;Oe<J.length;Oe++)re[Oe]=J.charCodeAt(Oe);return re}(J),re=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(re)).map($e=>$e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class xe extends B.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInitialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInitialized(),this.passiveListeners.forEach(re=>re(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,d.A)(function*(){yield Q.initPromise})()}}function dt(J){return rt.apply(this,arguments)}function rt(){return(rt=(0,d.A)(function*(J){const Q=yield ft()._get(Je(J));return Q&&(yield ft()._remove(Je(J))),Q})).apply(this,arguments)}function ht(){const J=[];for(let re=0;re<20;re++){const Oe=Math.floor(62*Math.random());J.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Oe))}return J.join("")}function ft(){return(0,B.aE)(B.b)}function Je(J){return(0,B.aF)("authEvent",J.config.apiKey,J.name)}function un(J){if(null==J||!J.includes("?"))return{};const[Q,...re]=J.split("?");return(0,ve.I9)(re.join("?"))}const me=class we{constructor(){this._redirectPersistence=B.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(Q){var re=this;return(0,d.A)(function*(){const Oe=Q._key();let $e=re.eventManagers.get(Oe);return $e||($e=new xe(Q),re.eventManagers.set(Oe,$e),re.attachCallbackListeners(Q,$e)),$e})()}_openPopup(Q){(0,B.ax)(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,re,Oe,$e){var Qt=this;return(0,d.A)(function*(){!function mt(J){var Q,re,Oe,$e,Qt,An,qn,Ir,gt,vr;const Mn=Be();(0,B.aC)("function"==typeof(null===(Q=null==Mn?void 0:Mn.universalLinks)||void 0===Q?void 0:Q.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,B.aC)(typeof(null===(re=null==Mn?void 0:Mn.BuildInfo)||void 0===re?void 0:re.packageName)<"u",J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,B.aC)("function"==typeof(null===(Qt=null===($e=null===(Oe=null==Mn?void 0:Mn.cordova)||void 0===Oe?void 0:Oe.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===Qt?void 0:Qt.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(Ir=null===(qn=null===(An=null==Mn?void 0:Mn.cordova)||void 0===An?void 0:An.plugins)||void 0===qn?void 0:qn.browsertab)||void 0===Ir?void 0:Ir.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,B.aC)("function"==typeof(null===(vr=null===(gt=null==Mn?void 0:Mn.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===vr?void 0:vr.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const An=yield Qt._initialize(Q);yield An.initialized(),An.resetRedirect(),(0,B.aI)(),yield Qt._originValidation(Q);const qn=function Me(J,Q,re=null){return{type:Q,eventId:re,urlResponse:null,sessionId:ht(),postBody:null,tenantId:J.tenantId,error:(0,B.aB)(J,"no-auth-event")}}(Q,Oe,$e);yield function it(J,Q){return ft()._set(Je(J),Q)}(Q,qn);const Ir=yield function Re(J,Q,re){return _e.apply(this,arguments)}(Q,qn,re),gt=yield function Ke(J){const{cordova:Q}=Be();return new Promise(re=>{Q.plugins.browsertab.isAvailable(Oe=>{let $e=null;Oe?Q.plugins.browsertab.openUrl(J):$e=Q.InAppBrowser.open(J,(0,B.aA)()?"_blank":"_system","location=yes"),re($e)})})}(Ir);return function ct(J,Q,re){return yt.apply(this,arguments)}(Q,An,gt)})()}_isIframeWebStorageSupported(Q,re){throw new Error("Method not implemented.")}_originValidation(Q){const re=Q._key();return this.originValidationPromises[re]||(this.originValidationPromises[re]=function et(J){return Qe.apply(this,arguments)}(Q)),this.originValidationPromises[re]}attachCallbackListeners(Q,re){const{universalLinks:Oe,handleOpenURL:$e,BuildInfo:Qt}=Be(),An=setTimeout((0,d.A)(function*(){yield dt(Q),re.onEvent(De())}),500),qn=function(){var vr=(0,d.A)(function*(Mn){clearTimeout(An);const Hr=yield dt(Q);let Qr=null;Hr&&null!=Mn&&Mn.url&&(Qr=function he(J,Q){var re,Oe;const $e=function Ot(J){const Q=un(J),re=Q.link?decodeURIComponent(Q.link):void 0,Oe=un(re).link,$e=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return un($e).link||$e||Oe||re||J}(Q);if($e.includes("/__/auth/callback")){const Qt=un($e),An=Qt.firebaseError?function Nt(J){try{return JSON.parse(J)}catch{return null}}(decodeURIComponent(Qt.firebaseError)):null,qn=null===(Oe=null===(re=null==An?void 0:An.code)||void 0===re?void 0:re.split("auth/"))||void 0===Oe?void 0:Oe[1],Ir=qn?(0,B.aB)(qn):null;return Ir?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:Ir,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:$e,postBody:null}}return null}(Hr,Mn.url)),re.onEvent(Qr||De())});return function(Hr){return vr.apply(this,arguments)}}();typeof Oe<"u"&&"function"==typeof Oe.subscribe&&Oe.subscribe(null,qn);const Ir=$e,gt=`${Qt.packageName.toLowerCase()}://`;Be().handleOpenURL=function(){var vr=(0,d.A)(function*(Mn){if(Mn.toLowerCase().startsWith(gt)&&qn({url:Mn}),"function"==typeof Ir)try{Ir(Mn)}catch(Hr){console.error(Hr)}});return function(Mn){return vr.apply(this,arguments)}}()}};function De(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,B.aB)("no-auth-event")}}function je(){var J;return(null===(J=null==self?void 0:self.location)||void 0===J?void 0:J.protocol)||null}function _t(J=(0,ve.ZQ)()){return!("file:"!==je()&&"ionic:"!==je()&&"capacitor:"!==je()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function kn(){try{const J=self.localStorage,Q=B.aN();if(J)return J.setItem(Q,"1"),J.removeItem(Q),!function mn(J=(0,ve.ZQ)()){return function Nn(){return(0,ve.lT)()&&11===(null==document?void 0:document.documentMode)}()||function It(J=(0,ve.ZQ)()){return/Edge\/\d+/.test(J)}(J)}()||(0,ve.zW)()}catch{return Gn()&&(0,ve.zW)()}return!1}function Gn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qt(){return(function st(){return"http:"===je()||"https:"===je()}()||(0,ve.sr)()||_t())&&!function Ft(){return(0,ve.lV)()||(0,ve.Ll)()}()&&kn()&&!Gn()}function jt(){return _t()&&typeof document<"u"}function rn(){return(rn=(0,d.A)(function*(){return!!jt()&&new Promise(J=>{const Q=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),J(!0)})})})).apply(this,arguments)}const Fe={LOCAL:"local",NONE:"none",SESSION:"session"},kt=B.aC,xt="persistence";function nr(J){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.A)(function*(J){yield J._initializationPromise;const Q=gr(),re=B.aF(xt,J.config.apiKey,J.name);Q&&Q.setItem(re,J._getPersistence())})).apply(this,arguments)}function gr(){var J;try{return(null===(J=function ke(){return typeof window<"u"?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch{return null}}const rr=B.aC;class zn{constructor(){this.browserResolver=B.aE(B.k),this.cordovaResolver=B.aE(me),this.underlyingResolver=null,this._redirectPersistence=B.a,this._completeRedirectFn=B.aG,this._overrideRedirectResult=B.aH}_initialize(Q){var re=this;return(0,d.A)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,re,Oe,$e){var Qt=this;return(0,d.A)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openPopup(Q,re,Oe,$e)})()}_openRedirect(Q,re,Oe,$e){var Qt=this;return(0,d.A)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openRedirect(Q,re,Oe,$e)})()}_isIframeWebStorageSupported(Q,re){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,re)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return jt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,d.A)(function*(){if(Q.underlyingResolver)return;const re=yield function On(){return rn.apply(this,arguments)}();Q.underlyingResolver=re?Q.cordovaResolver:Q.browserResolver})()}}function Yn(J){return J.unwrap()}function jr(J){return Cr(J)}function Cr(J){const{_tokenResponse:Q}=J instanceof ve.g?J.customData:J;if(!Q)return null;if(!(J instanceof ve.g)&&"temporaryProof"in Q&&"phoneNumber"in Q)return B.P.credentialFromResult(J);const re=Q.providerId;if(!re||re===B.p.PASSWORD)return null;let Oe;switch(re){case B.p.GOOGLE:Oe=B.X;break;case B.p.FACEBOOK:Oe=B.W;break;case B.p.GITHUB:Oe=B.Y;break;case B.p.TWITTER:Oe=B.$;break;default:const{oauthIdToken:$e,oauthAccessToken:Qt,oauthTokenSecret:An,pendingToken:qn,nonce:Ir}=Q;return Qt||An||$e||qn?qn?re.startsWith("saml.")?B.aQ._create(re,qn):B.N._fromParams({providerId:re,signInMethod:re,pendingToken:qn,idToken:$e,accessToken:Qt}):new B.Z(re).credential({idToken:$e,accessToken:Qt,rawNonce:Ir}):null}return J instanceof ve.g?Oe.credentialFromError(J):Oe.credentialFromResult(J)}function Un(J,Q){return Q.catch(re=>{throw re instanceof ve.g&&function Cn(J,Q){var re;const Oe=null===(re=Q.customData)||void 0===re?void 0:re._tokenResponse;if("auth/multi-factor-auth-required"===(null==Q?void 0:Q.code))Q.resolver=new Ei(J,B.as(J,Q));else if(Oe){const $e=Cr(Q),Qt=Q;$e&&(Qt.credential=$e,Qt.tenantId=Oe.tenantId||void 0,Qt.email=Oe.email||void 0,Qt.phoneNumber=Oe.phoneNumber||void 0)}}(J,re),re}).then(re=>{const $e=re.user;return{operationType:re.operationType,credential:jr(re),additionalUserInfo:B.aq(re),user:er.getOrCreate($e)}})}function mr(J,Q){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,d.A)(function*(J,Q){const re=yield Q;return{verificationId:re.verificationId,confirm:Oe=>Un(J,re.confirm(Oe))}})).apply(this,arguments)}class Ei{constructor(Q,re){this.resolver=re,this.auth=function dr(J){return J.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return Un(Yn(this.auth),this.resolver.resolveSignIn(Q))}}class er{constructor(Q){this._delegate=Q,this.multiFactor=B.at(Q)}static getOrCreate(Q){return er.USER_MAP.has(Q)||er.USER_MAP.set(Q,new er(Q)),er.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var re=this;return(0,d.A)(function*(){return Un(re.auth,B.a2(re._delegate,Q))})()}linkWithPhoneNumber(Q,re){var Oe=this;return(0,d.A)(function*(){return mr(Oe.auth,B.l(Oe._delegate,Q,re))})()}linkWithPopup(Q){var re=this;return(0,d.A)(function*(){return Un(re.auth,B.d(re._delegate,Q,zn))})()}linkWithRedirect(Q){var re=this;return(0,d.A)(function*(){return yield nr(B.aJ(re.auth)),B.g(re._delegate,Q,zn)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var re=this;return(0,d.A)(function*(){return Un(re.auth,B.a3(re._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,re){return mr(this.auth,B.r(this._delegate,Q,re))}reauthenticateWithPopup(Q){return Un(this.auth,B.e(this._delegate,Q,zn))}reauthenticateWithRedirect(Q){var re=this;return(0,d.A)(function*(){return yield nr(B.aJ(re.auth)),B.h(re._delegate,Q,zn)})()}sendEmailVerification(Q){return B.ag(this._delegate,Q)}unlink(Q){var re=this;return(0,d.A)(function*(){return yield B.ap(re._delegate,Q),re})()}updateEmail(Q){return B.al(this._delegate,Q)}updatePassword(Q){return B.am(this._delegate,Q)}updatePhoneNumber(Q){return B.u(this._delegate,Q)}updateProfile(Q){return B.ak(this._delegate,Q)}verifyBeforeUpdateEmail(Q,re){return B.ah(this._delegate,Q,re)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}er.USER_MAP=new WeakMap;const fr=B.aC;let _r=(()=>{class J{constructor(re,Oe){if(this.app=re,Oe.isInitialized())return this._delegate=Oe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$e}=re.options;fr($e,"invalid-api-key",{appName:re.name}),fr($e,"invalid-api-key",{appName:re.name});const Qt=typeof window<"u"?zn:void 0;this._delegate=Oe.initialize({options:{persistence:Gt($e,re.name),popupRedirectResolver:Qt}}),this._delegate._updateErrorMap(B.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(re){this._delegate.languageCode=re}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(re){this._delegate.tenantId=re}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(re,Oe){B.K(this._delegate,re,Oe)}applyActionCode(re){return B.a7(this._delegate,re)}checkActionCode(re){return B.a8(this._delegate,re)}confirmPasswordReset(re,Oe){return B.a6(this._delegate,re,Oe)}createUserWithEmailAndPassword(re,Oe){var $e=this;return(0,d.A)(function*(){return Un($e._delegate,B.aa($e._delegate,re,Oe))})()}fetchProvidersForEmail(re){return this.fetchSignInMethodsForEmail(re)}fetchSignInMethodsForEmail(re){return B.af(this._delegate,re)}isSignInWithEmailLink(re){return B.ad(this._delegate,re)}getRedirectResult(){var re=this;return(0,d.A)(function*(){fr(qt(),re._delegate,"operation-not-supported-in-this-environment");const Oe=yield B.j(re._delegate,zn);return Oe?Un(re._delegate,Promise.resolve(Oe)):{credential:null,user:null}})()}addFrameworkForLogging(re){!function oe(J,Q){(0,B.aJ)(J)._logFramework(Q)}(this._delegate,re)}onAuthStateChanged(re,Oe,$e){const{next:Qt,error:An,complete:qn}=_n(re,Oe,$e);return this._delegate.onAuthStateChanged(Qt,An,qn)}onIdTokenChanged(re,Oe,$e){const{next:Qt,error:An,complete:qn}=_n(re,Oe,$e);return this._delegate.onIdTokenChanged(Qt,An,qn)}sendSignInLinkToEmail(re,Oe){return B.ac(this._delegate,re,Oe)}sendPasswordResetEmail(re,Oe){return B.a5(this._delegate,re,Oe||void 0)}setPersistence(re){var Oe=this;return(0,d.A)(function*(){let $e;switch(function Qn(J,Q){kt(Object.values(Fe).includes(Q),J,"invalid-persistence-type"),(0,ve.lV)()?kt(Q!==Fe.SESSION,J,"unsupported-persistence-type"):(0,ve.Ll)()?kt(Q===Fe.NONE,J,"unsupported-persistence-type"):Gn()?kt(Q===Fe.NONE||Q===Fe.LOCAL&&(0,ve.zW)(),J,"unsupported-persistence-type"):kt(Q===Fe.NONE||kn(),J,"unsupported-persistence-type")}(Oe._delegate,re),re){case Fe.SESSION:$e=B.a;break;case Fe.LOCAL:$e=(yield B.aE(B.i)._isAvailable())?B.i:B.b;break;case Fe.NONE:$e=B.U;break;default:return B.ax("argument-error",{appName:Oe._delegate.name})}return Oe._delegate.setPersistence($e)})()}signInAndRetrieveDataWithCredential(re){return this.signInWithCredential(re)}signInAnonymously(){return Un(this._delegate,B.a0(this._delegate))}signInWithCredential(re){return Un(this._delegate,B.a1(this._delegate,re))}signInWithCustomToken(re){return Un(this._delegate,B.a4(this._delegate,re))}signInWithEmailAndPassword(re,Oe){return Un(this._delegate,B.ab(this._delegate,re,Oe))}signInWithEmailLink(re,Oe){return Un(this._delegate,B.ae(this._delegate,re,Oe))}signInWithPhoneNumber(re,Oe){return mr(this._delegate,B.s(this._delegate,re,Oe))}signInWithPopup(re){var Oe=this;return(0,d.A)(function*(){return fr(qt(),Oe._delegate,"operation-not-supported-in-this-environment"),Un(Oe._delegate,B.c(Oe._delegate,re,zn))})()}signInWithRedirect(re){var Oe=this;return(0,d.A)(function*(){return fr(qt(),Oe._delegate,"operation-not-supported-in-this-environment"),yield nr(Oe._delegate),B.f(Oe._delegate,re,zn)})()}updateCurrentUser(re){return this._delegate.updateCurrentUser(re)}verifyPasswordResetCode(re){return B.a9(this._delegate,re)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=Fe,J})();function _n(J,Q,re){let Oe=J;"function"!=typeof J&&({next:Oe,error:Q,complete:re}=J);const $e=Oe;return{next:An=>$e(An&&er.getOrCreate(An)),error:Q,complete:re}}function Gt(J,Q){const re=function Tn(J,Q){const re=gr();if(!re)return[];const Oe=B.aF(xt,J,Q);switch(re.getItem(Oe)){case Fe.NONE:return[B.U];case Fe.LOCAL:return[B.i,B.a];case Fe.SESSION:return[B.a];default:return[]}}(J,Q);if(typeof self<"u"&&!re.includes(B.i)&&re.push(B.i),typeof window<"u")for(const Oe of[B.b,B.a])re.includes(Oe)||re.push(Oe);return re.includes(B.U)||re.push(B.U),re}class wt{constructor(){this.providerId="phone",this._delegate=new B.P(Yn(o.A.auth()))}static credential(Q,re){return B.P.credential(Q,re)}verifyPhoneNumber(Q,re){return this._delegate.verifyPhoneNumber(Q,re)}unwrap(){return this._delegate}}wt.PHONE_SIGN_IN_METHOD=B.P.PHONE_SIGN_IN_METHOD,wt.PROVIDER_ID=B.P.PROVIDER_ID;const Kt=B.aC;class bt{constructor(Q,re,Oe=o.A.app()){var $e;Kt(null===($e=Oe.options)||void 0===$e?void 0:$e.apiKey,"invalid-api-key",{appName:Oe.name}),this._delegate=new B.R(Oe.auth(),Q,re),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function at(J){J.INTERNAL.registerComponent(new Se.uA("auth-compat",Q=>{const re=Q.getProvider("app-compat").getImmediate(),Oe=Q.getProvider("auth");return new _r(re,Oe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:B.A.EMAIL_SIGNIN,PASSWORD_RESET:B.A.PASSWORD_RESET,RECOVER_EMAIL:B.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:B.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:B.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:B.A.VERIFY_EMAIL}},EmailAuthProvider:B.V,FacebookAuthProvider:B.W,GithubAuthProvider:B.Y,GoogleAuthProvider:B.X,OAuthProvider:B.Z,SAMLAuthProvider:B._,PhoneAuthProvider:wt,PhoneMultiFactorGenerator:B.m,RecaptchaVerifier:bt,TwitterAuthProvider:B.$,Auth:_r,AuthCredential:B.L,Error:ve.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.5.14")}(o.A)},3146:(Pn,Dt,V)=>{"use strict";V.d(Dt,{ni:()=>xr,dG:()=>Ns,gf:()=>To,TT:()=>No,xD:()=>zr});var d=V(467),o=V(8742),B=V(1362),ve=V(1076),W=V(6749);const Ee="@firebase/installations",Se="0.6.9",Be=1e4,ot=`w:${Se}`,Re="FIS_v2",_e="https://firebaseinstallations.googleapis.com/v1",et=36e5,yt=new ve.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(fe){return fe instanceof ve.g&&fe.code.includes("request-failed")}function ut({projectId:fe}){return`${_e}/projects/${fe}/installations`}function Mt(fe){return{token:fe.token,requestStatus:2,expiresIn:rt(fe.expiresIn),creationTime:Date.now()}}function At(fe,Xe){return Te.apply(this,arguments)}function Te(){return(Te=(0,d.A)(function*(fe,Xe){const gn=(yield Xe.json()).error;return yt.create("request-failed",{requestName:fe,serverCode:gn.code,serverMessage:gn.message,serverStatus:gn.status})})).apply(this,arguments)}function xe({apiKey:fe}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":fe})}function it(fe){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.A)(function*(fe){const Xe=yield fe();return Xe.status>=500&&Xe.status<600?fe():Xe})).apply(this,arguments)}function rt(fe){return Number(fe.replace("s","000"))}function ft(){return(ft=(0,d.A)(function*({appConfig:fe,heartbeatServiceProvider:Xe},{fid:Ut}){const gn=ut(fe),jn=xe(fe),yn=Xe.getImmediate({optional:!0});if(yn){const Ji=yield yn.getHeartbeatsHeader();Ji&&jn.append("x-firebase-client",Ji)}const Vi={method:"POST",headers:jn,body:JSON.stringify({fid:Ut,authVersion:Re,appId:fe.appId,sdkVersion:ot})},Qi=yield it(()=>fetch(gn,Vi));if(Qi.ok){const Ji=yield Qi.json();return{fid:Ji.fid||Ut,registrationStatus:2,refreshToken:Ji.refreshToken,authToken:Mt(Ji.authToken)}}throw yield At("Create Installation",Qi)})).apply(this,arguments)}function Je(fe){return new Promise(Xe=>{setTimeout(Xe,fe)})}const Ot=/^[cdef][\w-]{21}$/,un="";function Ge(){try{const fe=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(fe),fe[0]=112+fe[0]%16;const Ut=function we(fe){return function Nt(fe){return btoa(String.fromCharCode(...fe)).replace(/\+/g,"-").replace(/\//g,"_")}(fe).substr(0,22)}(fe);return Ot.test(Ut)?Ut:un}catch{return un}}function me(fe){return`${fe.appName}!${fe.appId}`}const De=new Map;function oe(fe,Xe){const Ut=me(fe);Ze(Ut,Xe),function je(fe,Xe){const Ut=function _t(){return!st&&"BroadcastChannel"in self&&(st=new BroadcastChannel("[Firebase] FID Change"),st.onmessage=fe=>{Ze(fe.data.key,fe.data.fid)}),st}();Ut&&Ut.postMessage({key:fe,fid:Xe}),function Ft(){0===De.size&&st&&(st.close(),st=null)}()}(Ut,Xe)}function Ze(fe,Xe){const Ut=De.get(fe);if(Ut)for(const gn of Ut)gn(Xe)}let st=null;const Nn="firebase-installations-database",It=1,mn="firebase-installations-store";let kn=null;function Gn(){return kn||(kn=(0,W.P2)(Nn,It,{upgrade:(fe,Xe)=>{0===Xe&&fe.createObjectStore(mn)}})),kn}function qt(fe,Xe){return jt.apply(this,arguments)}function jt(){return(jt=(0,d.A)(function*(fe,Xe){const Ut=me(fe),jn=(yield Gn()).transaction(mn,"readwrite"),yn=jn.objectStore(mn),Wn=yield yn.get(Ut);return yield yn.put(Xe,Ut),yield jn.done,(!Wn||Wn.fid!==Xe.fid)&&oe(fe,Xe.fid),Xe})).apply(this,arguments)}function On(fe){return rn.apply(this,arguments)}function rn(){return(rn=(0,d.A)(function*(fe){const Xe=me(fe),gn=(yield Gn()).transaction(mn,"readwrite");yield gn.objectStore(mn).delete(Xe),yield gn.done})).apply(this,arguments)}function ke(fe,Xe){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,d.A)(function*(fe,Xe){const Ut=me(fe),jn=(yield Gn()).transaction(mn,"readwrite"),yn=jn.objectStore(mn),Wn=yield yn.get(Ut),Vi=Xe(Wn);return void 0===Vi?yield yn.delete(Ut):yield yn.put(Vi,Ut),yield jn.done,Vi&&(!Wn||Wn.fid!==Vi.fid)&&oe(fe,Vi.fid),Vi})).apply(this,arguments)}function kt(fe){return xt.apply(this,arguments)}function xt(){return xt=(0,d.A)(function*(fe){let Xe;const Ut=yield ke(fe.appConfig,gn=>{const jn=function Qn(fe){return Yn(fe||{fid:Ge(),registrationStatus:0})}(gn),yn=function nr(fe,Xe){if(0===Xe.registrationStatus){if(!navigator.onLine)return{installationEntry:Xe,registrationPromise:Promise.reject(yt.create("app-offline"))};const Ut={fid:Xe.fid,registrationStatus:1,registrationTime:Date.now()},gn=function Vn(fe,Xe){return Tn.apply(this,arguments)}(fe,Ut);return{installationEntry:Ut,registrationPromise:gn}}return 1===Xe.registrationStatus?{installationEntry:Xe,registrationPromise:gr(fe)}:{installationEntry:Xe}}(fe,jn);return Xe=yn.registrationPromise,yn.installationEntry});return Ut.fid===un?{installationEntry:yield Xe}:{installationEntry:Ut,registrationPromise:Xe}}),xt.apply(this,arguments)}function Tn(){return Tn=(0,d.A)(function*(fe,Xe){try{const Ut=yield function ht(fe,Xe){return ft.apply(this,arguments)}(fe,Xe);return qt(fe.appConfig,Ut)}catch(Ut){throw mt(Ut)&&409===Ut.customData.serverCode?yield On(fe.appConfig):yield qt(fe.appConfig,{fid:Xe.fid,registrationStatus:0}),Ut}}),Tn.apply(this,arguments)}function gr(fe){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.A)(function*(fe){let Xe=yield zn(fe.appConfig);for(;1===Xe.registrationStatus;)yield Je(100),Xe=yield zn(fe.appConfig);if(0===Xe.registrationStatus){const{installationEntry:Ut,registrationPromise:gn}=yield kt(fe);return gn||Ut}return Xe})).apply(this,arguments)}function zn(fe){return ke(fe,Xe=>{if(!Xe)throw yt.create("installation-not-found");return Yn(Xe)})}function Yn(fe){return function dr(fe){return 1===fe.registrationStatus&&fe.registrationTime+Be<Date.now()}(fe)?{fid:fe.fid,registrationStatus:0}:fe}function Cn(){return(Cn=(0,d.A)(function*({appConfig:fe,heartbeatServiceProvider:Xe},Ut){const gn=function Cr(fe,{fid:Xe}){return`${ut(fe)}/${Xe}/authTokens:generate`}(fe,Ut),jn=function Me(fe,{refreshToken:Xe}){const Ut=xe(fe);return Ut.append("Authorization",function he(fe){return`${Re} ${fe}`}(Xe)),Ut}(fe,Ut),yn=Xe.getImmediate({optional:!0});if(yn){const Ji=yield yn.getHeartbeatsHeader();Ji&&jn.append("x-firebase-client",Ji)}const Vi={method:"POST",headers:jn,body:JSON.stringify({installation:{sdkVersion:ot,appId:fe.appId}})},Qi=yield it(()=>fetch(gn,Vi));if(Qi.ok)return Mt(yield Qi.json());throw yield At("Generate Auth Token",Qi)})).apply(this,arguments)}function Un(fe){return mr.apply(this,arguments)}function mr(){return mr=(0,d.A)(function*(fe,Xe=!1){let Ut;const gn=yield ke(fe.appConfig,yn=>{if(!_n(yn))throw yt.create("not-registered");const Wn=yn.authToken;if(!Xe&&function Gt(fe){return 2===fe.requestStatus&&!function wt(fe){const Xe=Date.now();return Xe<fe.creationTime||fe.creationTime+fe.expiresIn<Xe+et}(fe)}(Wn))return yn;if(1===Wn.requestStatus)return Ut=function Dn(fe,Xe){return Ei.apply(this,arguments)}(fe,Xe),yn;{if(!navigator.onLine)throw yt.create("app-offline");const Vi=function Kt(fe){const Xe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},fe),{authToken:Xe})}(yn);return Ut=function fr(fe,Xe){return _r.apply(this,arguments)}(fe,Vi),Vi}});return Ut?yield Ut:gn.authToken}),mr.apply(this,arguments)}function Ei(){return(Ei=(0,d.A)(function*(fe,Xe){let Ut=yield er(fe.appConfig);for(;1===Ut.authToken.requestStatus;)yield Je(100),Ut=yield er(fe.appConfig);const gn=Ut.authToken;return 0===gn.requestStatus?Un(fe,Xe):gn})).apply(this,arguments)}function er(fe){return ke(fe,Xe=>{if(!_n(Xe))throw yt.create("not-registered");return function bt(fe){return 1===fe.requestStatus&&fe.requestTime+Be<Date.now()}(Xe.authToken)?Object.assign(Object.assign({},Xe),{authToken:{requestStatus:0}}):Xe})}function _r(){return _r=(0,d.A)(function*(fe,Xe){try{const Ut=yield function jr(fe,Xe){return Cn.apply(this,arguments)}(fe,Xe),gn=Object.assign(Object.assign({},Xe),{authToken:Ut});return yield qt(fe.appConfig,gn),Ut}catch(Ut){if(!mt(Ut)||401!==Ut.customData.serverCode&&404!==Ut.customData.serverCode){const gn=Object.assign(Object.assign({},Xe),{authToken:{requestStatus:0}});yield qt(fe.appConfig,gn)}else yield On(fe.appConfig);throw Ut}}),_r.apply(this,arguments)}function _n(fe){return void 0!==fe&&2===fe.registrationStatus}function at(){return(at=(0,d.A)(function*(fe){const Xe=fe,{installationEntry:Ut,registrationPromise:gn}=yield kt(Xe);return gn?gn.catch(console.error):Un(Xe).catch(console.error),Ut.fid})).apply(this,arguments)}function Q(){return Q=(0,d.A)(function*(fe,Xe=!1){const Ut=fe;return yield function re(fe){return Oe.apply(this,arguments)}(Ut),(yield Un(Ut,Xe)).token}),Q.apply(this,arguments)}function Oe(){return(Oe=(0,d.A)(function*(fe){const{registrationPromise:Xe}=yield kt(fe);Xe&&(yield Xe)})).apply(this,arguments)}function Hr(fe){return yt.create("missing-app-config-values",{valueName:fe})}const Qr="installations",wi=fe=>{const Xe=fe.getProvider("app").getImmediate(),Ut=function Mn(fe){if(!fe||!fe.options)throw Hr("App Configuration");if(!fe.name)throw Hr("App Name");const Xe=["projectId","apiKey","appId"];for(const Ut of Xe)if(!fe.options[Ut])throw Hr(Ut);return{appName:fe.name,projectId:fe.options.projectId,apiKey:fe.options.apiKey,appId:fe.options.appId}}(Xe);return{app:Xe,appConfig:Ut,heartbeatServiceProvider:(0,o._getProvider)(Xe,"heartbeat"),_delete:()=>Promise.resolve()}},Wo=fe=>{const Xe=fe.getProvider("app").getImmediate(),Ut=(0,o._getProvider)(Xe,Qr).getImmediate();return{getId:()=>function Ue(fe){return at.apply(this,arguments)}(Ut),getToken:jn=>function J(fe){return Q.apply(this,arguments)}(Ut,jn)}};(function $i(){(0,o._registerComponent)(new B.uA(Qr,wi,"PUBLIC")),(0,o._registerComponent)(new B.uA("installations-internal",Wo,"PRIVATE"))})(),(0,o.registerVersion)(Ee,Se),(0,o.registerVersion)(Ee,Se,"esm2017");const Ro="/firebase-messaging-sw.js",Ko="/firebase-cloud-messaging-push-scope",Pr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ye="https://fcmregistrations.googleapis.com/v1",be="google.c.a.c_id",Ct="google.c.a.c_l",de="google.c.a.ts";var zt=function(fe){return fe.PUSH_RECEIVED="push-received",fe.NOTIFICATION_CLICKED="notification-clicked",fe}(zt||{});function dn(fe){const Xe=new Uint8Array(fe);return btoa(String.fromCharCode(...Xe)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rn(fe){const Ut=(fe+"=".repeat((4-fe.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),gn=atob(Ut),jn=new Uint8Array(gn.length);for(let yn=0;yn<gn.length;++yn)jn[yn]=gn.charCodeAt(yn);return jn}const Hn="fcm_token_details_db",Ar=5,tr="fcm_token_object_Store";function hr(){return hr=(0,d.A)(function*(fe){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(yn=>yn.name).includes(Hn))return null;let Xe=null;return(yield(0,W.P2)(Hn,Ar,{upgrade:(gn=(0,d.A)(function*(jn,yn,Wn,Vi){var Qi;if(yn<2||!jn.objectStoreNames.contains(tr))return;const Ji=Vi.objectStore(tr),os=yield Ji.index("fcmSenderId").get(fe);if(yield Ji.clear(),os)if(2===yn){const oi=os;if(!oi.auth||!oi.p256dh||!oi.endpoint)return;Xe={token:oi.fcmToken,createTime:null!==(Qi=oi.createTime)&&void 0!==Qi?Qi:Date.now(),subscriptionOptions:{auth:oi.auth,p256dh:oi.p256dh,endpoint:oi.endpoint,swScope:oi.swScope,vapidKey:"string"==typeof oi.vapidKey?oi.vapidKey:dn(oi.vapidKey)}}}else if(3===yn){const oi=os;Xe={token:oi.fcmToken,createTime:oi.createTime,subscriptionOptions:{auth:dn(oi.auth),p256dh:dn(oi.p256dh),endpoint:oi.endpoint,swScope:oi.swScope,vapidKey:dn(oi.vapidKey)}}}else if(4===yn){const oi=os;Xe={token:oi.fcmToken,createTime:oi.createTime,subscriptionOptions:{auth:dn(oi.auth),p256dh:dn(oi.p256dh),endpoint:oi.endpoint,swScope:oi.swScope,vapidKey:dn(oi.vapidKey)}}}}),function(yn,Wn,Vi,Qi){return gn.apply(this,arguments)})})).close(),yield(0,W.MR)(Hn),yield(0,W.MR)("fcm_vapid_details_db"),yield(0,W.MR)("undefined"),function Di(fe){if(!fe||!fe.subscriptionOptions)return!1;const{subscriptionOptions:Xe}=fe;return"number"==typeof fe.createTime&&fe.createTime>0&&"string"==typeof fe.token&&fe.token.length>0&&"string"==typeof Xe.auth&&Xe.auth.length>0&&"string"==typeof Xe.p256dh&&Xe.p256dh.length>0&&"string"==typeof Xe.endpoint&&Xe.endpoint.length>0&&"string"==typeof Xe.swScope&&Xe.swScope.length>0&&"string"==typeof Xe.vapidKey&&Xe.vapidKey.length>0}(Xe)?Xe:null;var gn}),hr.apply(this,arguments)}const Ui="firebase-messaging-database",yo=1,ei="firebase-messaging-store";let Po=null;function Xi(){return Po||(Po=(0,W.P2)(Ui,yo,{upgrade:(fe,Xe)=>{0===Xe&&fe.createObjectStore(ei)}})),Po}function co(fe){return Io.apply(this,arguments)}function Io(){return Io=(0,d.A)(function*(fe){const Xe=qo(fe),gn=yield(yield Xi()).transaction(ei).objectStore(ei).get(Xe);if(gn)return gn;{const jn=yield function Bi(fe){return hr.apply(this,arguments)}(fe.appConfig.senderId);if(jn)return yield Xo(fe,jn),jn}}),Io.apply(this,arguments)}function Xo(fe,Xe){return qi.apply(this,arguments)}function qi(){return(qi=(0,d.A)(function*(fe,Xe){const Ut=qo(fe),jn=(yield Xi()).transaction(ei,"readwrite");return yield jn.objectStore(ei).put(Xe,Ut),yield jn.done,Xe})).apply(this,arguments)}function ts(){return(ts=(0,d.A)(function*(fe){const Xe=qo(fe),gn=(yield Xi()).transaction(ei,"readwrite");yield gn.objectStore(ei).delete(Xe),yield gn.done})).apply(this,arguments)}function qo({appConfig:fe}){return fe.appId}const Kr=new ve.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fs(fe,Xe){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,d.A)(function*(fe,Xe){const Ut=yield Es(fe),gn=Mr(Xe),jn={method:"POST",headers:Ut,body:JSON.stringify(gn)};let yn;try{yn=yield(yield fetch(Si(fe.appConfig),jn)).json()}catch(Wn){throw Kr.create("token-subscribe-failed",{errorInfo:null==Wn?void 0:Wn.toString()})}if(yn.error)throw Kr.create("token-subscribe-failed",{errorInfo:yn.error.message});if(!yn.token)throw Kr.create("token-subscribe-no-token");return yn.token})).apply(this,arguments)}function Ks(){return(Ks=(0,d.A)(function*(fe,Xe){const Ut=yield Es(fe),gn=Mr(Xe.subscriptionOptions),jn={method:"PATCH",headers:Ut,body:JSON.stringify(gn)};let yn;try{yn=yield(yield fetch(`${Si(fe.appConfig)}/${Xe.token}`,jn)).json()}catch(Wn){throw Kr.create("token-update-failed",{errorInfo:null==Wn?void 0:Wn.toString()})}if(yn.error)throw Kr.create("token-update-failed",{errorInfo:yn.error.message});if(!yn.token)throw Kr.create("token-update-no-token");return yn.token})).apply(this,arguments)}function Is(fe,Xe){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.A)(function*(fe,Xe){const gn={method:"DELETE",headers:yield Es(fe)};try{const yn=yield(yield fetch(`${Si(fe.appConfig)}/${Xe}`,gn)).json();if(yn.error)throw Kr.create("token-unsubscribe-failed",{errorInfo:yn.error.message})}catch(jn){throw Kr.create("token-unsubscribe-failed",{errorInfo:null==jn?void 0:jn.toString()})}})).apply(this,arguments)}function Si({projectId:fe}){return`${Ye}/projects/${fe}/registrations`}function Es(fe){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.A)(function*({appConfig:fe,installations:Xe}){const Ut=yield Xe.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":fe.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ut}`})})).apply(this,arguments)}function Mr({p256dh:fe,auth:Xe,endpoint:Ut,vapidKey:gn}){const jn={web:{endpoint:Ut,auth:Xe,p256dh:fe}};return gn!==Pr&&(jn.web.applicationPubKey=gn),jn}const Xs=6048e5;function _i(){return _i=(0,d.A)(function*(fe){const Xe=yield function xo(fe,Xe){return bi.apply(this,arguments)}(fe.swRegistration,fe.vapidKey),Ut={vapidKey:fe.vapidKey,swScope:fe.swRegistration.scope,endpoint:Xe.endpoint,auth:dn(Xe.getKey("auth")),p256dh:dn(Xe.getKey("p256dh"))},gn=yield co(fe.firebaseDependencies);if(gn){if(function F(fe,Xe){return Xe.vapidKey===fe.vapidKey&&Xe.endpoint===fe.endpoint&&Xe.auth===fe.auth&&Xe.p256dh===fe.p256dh}(gn.subscriptionOptions,Ut))return Date.now()>=gn.createTime+Xs?function Qo(fe,Xe){return so.apply(this,arguments)}(fe,{token:gn.token,createTime:Date.now(),subscriptionOptions:Ut}):gn.token;try{yield Is(fe.firebaseDependencies,gn.token)}catch(jn){console.warn(jn)}return ti(fe.firebaseDependencies,Ut)}return ti(fe.firebaseDependencies,Ut)}),_i.apply(this,arguments)}function yr(){return yr=(0,d.A)(function*(fe){const Xe=yield co(fe.firebaseDependencies);Xe&&(yield Is(fe.firebaseDependencies,Xe.token),yield function Bo(fe){return ts.apply(this,arguments)}(fe.firebaseDependencies));const Ut=yield fe.swRegistration.pushManager.getSubscription();return!Ut||Ut.unsubscribe()}),yr.apply(this,arguments)}function so(){return so=(0,d.A)(function*(fe,Xe){try{const Ut=yield function $r(fe,Xe){return Ks.apply(this,arguments)}(fe.firebaseDependencies,Xe),gn=Object.assign(Object.assign({},Xe),{token:Ut,createTime:Date.now()});return yield Xo(fe.firebaseDependencies,gn),Ut}catch(Ut){throw Ut}}),so.apply(this,arguments)}function ti(fe,Xe){return ns.apply(this,arguments)}function ns(){return(ns=(0,d.A)(function*(fe,Xe){const gn={token:yield fs(fe,Xe),createTime:Date.now(),subscriptionOptions:Xe};return yield Xo(fe,gn),gn.token})).apply(this,arguments)}function bi(){return(bi=(0,d.A)(function*(fe,Xe){return(yield fe.pushManager.getSubscription())||fe.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rn(Xe)})})).apply(this,arguments)}function E(fe){const Xe={from:fe.from,collapseKey:fe.collapse_key,messageId:fe.fcmMessageId};return function O(fe,Xe){if(!Xe.notification)return;fe.notification={};const Ut=Xe.notification.title;Ut&&(fe.notification.title=Ut);const gn=Xe.notification.body;gn&&(fe.notification.body=gn);const jn=Xe.notification.image;jn&&(fe.notification.image=jn);const yn=Xe.notification.icon;yn&&(fe.notification.icon=yn)}(Xe,fe),function A(fe,Xe){Xe.data&&(fe.data=Xe.data)}(Xe,fe),function G(fe,Xe){var Ut,gn,jn,yn,Wn;if(!(Xe.fcmOptions||null!==(Ut=Xe.notification)&&void 0!==Ut&&Ut.click_action))return;fe.fcmOptions={};const Vi=null!==(jn=null===(gn=Xe.fcmOptions)||void 0===gn?void 0:gn.link)&&void 0!==jn?jn:null===(yn=Xe.notification)||void 0===yn?void 0:yn.click_action;Vi&&(fe.fcmOptions.link=Vi);const Qi=null===(Wn=Xe.fcmOptions)||void 0===Wn?void 0:Wn.analytics_label;Qi&&(fe.fcmOptions.analyticsLabel=Qi)}(Xe,fe),Xe}function Et(fe){return Kr.create("missing-app-config-values",{valueName:fe})}!function nt(fe,Xe){const Ut=[];for(let gn=0;gn<fe.length;gn++)Ut.push(fe.charAt(gn)),gn<Xe.length&&Ut.push(Xe.charAt(gn));Ut.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ht{constructor(Xe,Ut,gn){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const jn=function tn(fe){if(!fe||!fe.options)throw Et("App Configuration Object");if(!fe.name)throw Et("App Name");const Xe=["projectId","apiKey","appId","messagingSenderId"],{options:Ut}=fe;for(const gn of Xe)if(!Ut[gn])throw Et(gn);return{appName:fe.name,projectId:Ut.projectId,apiKey:Ut.apiKey,appId:Ut.appId,senderId:Ut.messagingSenderId}}(Xe);this.firebaseDependencies={app:Xe,appConfig:jn,installations:Ut,analyticsProvider:gn}}_delete(){return Promise.resolve()}}function an(fe){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(fe){try{fe.swRegistration=yield navigator.serviceWorker.register(Ro,{scope:Ko}),fe.swRegistration.update().catch(()=>{})}catch(Xe){throw Kr.create("failed-service-worker-registration",{browserErrorMessage:null==Xe?void 0:Xe.message})}})).apply(this,arguments)}function Xn(){return(Xn=(0,d.A)(function*(fe,Xe){if(!Xe&&!fe.swRegistration&&(yield an(fe)),Xe||!fe.swRegistration){if(!(Xe instanceof ServiceWorkerRegistration))throw Kr.create("invalid-sw-registration");fe.swRegistration=Xe}})).apply(this,arguments)}function Gr(){return(Gr=(0,d.A)(function*(fe,Xe){Xe?fe.vapidKey=Xe:fe.vapidKey||(fe.vapidKey=Pr)})).apply(this,arguments)}function vi(fe,Xe){return ii.apply(this,arguments)}function ii(){return ii=(0,d.A)(function*(fe,Xe){if(!navigator)throw Kr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kr.create("permission-blocked");return yield function ir(fe,Xe){return Gr.apply(this,arguments)}(fe,null==Xe?void 0:Xe.vapidKey),yield function Bn(fe,Xe){return Xn.apply(this,arguments)}(fe,null==Xe?void 0:Xe.serviceWorkerRegistration),function pi(fe){return _i.apply(this,arguments)}(fe)}),ii.apply(this,arguments)}function di(){return(di=(0,d.A)(function*(fe,Xe,Ut){const gn=function ao(fe){switch(fe){case zt.NOTIFICATION_CLICKED:return"notification_open";case zt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(Xe);(yield fe.firebaseDependencies.analyticsProvider.get()).logEvent(gn,{message_id:Ut[be],message_name:Ut[Ct],message_time:Ut[de],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ji(){return ji=(0,d.A)(function*(fe,Xe){const Ut=Xe.data;if(!Ut.isFirebaseMessaging)return;fe.onMessageHandler&&Ut.messageType===zt.PUSH_RECEIVED&&("function"==typeof fe.onMessageHandler?fe.onMessageHandler(E(Ut)):fe.onMessageHandler.next(E(Ut)));const gn=Ut.data;(function se(fe){return"object"==typeof fe&&!!fe&&be in fe})(gn)&&"1"===gn["google.c.a.e"]&&(yield function ui(fe,Xe,Ut){return di.apply(this,arguments)}(fe,Ut.messageType,gn))}),ji.apply(this,arguments)}const fo="@firebase/messaging",rs="0.12.12",bs=fe=>{const Xe=new Ht(fe.getProvider("app").getImmediate(),fe.getProvider("installations-internal").getImmediate(),fe.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ut=>function Eo(fe,Xe){return ji.apply(this,arguments)}(Xe,Ut)),Xe},lo=fe=>{const Xe=fe.getProvider("messaging").getImmediate();return{getToken:gn=>vi(Xe,gn)}};function No(){return po.apply(this,arguments)}function po(){return(po=(0,d.A)(function*(){try{yield(0,ve.eX)()}catch{return!1}return typeof window<"u"&&(0,ve.zW)()&&(0,ve.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function ni(){return ni=(0,d.A)(function*(fe){if(!navigator)throw Kr.create("only-available-in-window");return fe.swRegistration||(yield an(fe)),function Ri(fe){return yr.apply(this,arguments)}(fe)}),ni.apply(this,arguments)}function Ns(fe=(0,o.getApp)()){return No().then(Xe=>{if(!Xe)throw Kr.create("unsupported-browser")},Xe=>{throw Kr.create("indexed-db-unsupported")}),(0,o._getProvider)((0,ve.Ku)(fe),"messaging").getImmediate()}function To(fe,Xe){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,d.A)(function*(fe,Xe){return vi(fe=(0,ve.Ku)(fe),Xe)})).apply(this,arguments)}function xr(fe){return function is(fe){return ni.apply(this,arguments)}(fe=(0,ve.Ku)(fe))}function zr(fe,Xe){return function ta(fe,Xe){if(!navigator)throw Kr.create("only-available-in-window");return fe.onMessageHandler=Xe,()=>{fe.onMessageHandler=null}}(fe=(0,ve.Ku)(fe),Xe)}!function ps(){(0,o._registerComponent)(new B.uA("messaging",bs,"PUBLIC")),(0,o._registerComponent)(new B.uA("messaging-internal",lo,"PRIVATE")),(0,o.registerVersion)(fo,rs),(0,o.registerVersion)(fo,rs,"esm2017")}()},6749:(Pn,Dt,V)=>{"use strict";V.d(Dt,{MR:()=>Te,P2:()=>At});var d=V(467);const o=(rt,he)=>he.some(ht=>rt instanceof ht);let B,ve;const Se=new WeakMap,Be=new WeakMap,ot=new WeakMap,Re=new WeakMap,_e=new WeakMap;let Ke={get(rt,he,ht){if(rt instanceof IDBTransaction){if("done"===he)return Be.get(rt);if("objectStoreNames"===he)return rt.objectStoreNames||ot.get(rt);if("store"===he)return ht.objectStoreNames[1]?void 0:ht.objectStore(ht.objectStoreNames[0])}return ut(rt[he])},set:(rt,he,ht)=>(rt[he]=ht,!0),has:(rt,he)=>rt instanceof IDBTransaction&&("done"===he||"store"===he)||he in rt};function mt(rt){return"function"==typeof rt?function yt(rt){return rt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(rt)?function(...he){return rt.apply(Mt(this),he),ut(Se.get(this))}:function(...he){return ut(rt.apply(Mt(this),he))}:function(he,...ht){const ft=rt.call(Mt(this),he,...ht);return ot.set(ft,he.sort?he.sort():[he]),ut(ft)}}(rt):(rt instanceof IDBTransaction&&function Qe(rt){if(Be.has(rt))return;const he=new Promise((ht,ft)=>{const Je=()=>{rt.removeEventListener("complete",Nt),rt.removeEventListener("error",Ot),rt.removeEventListener("abort",Ot)},Nt=()=>{ht(),Je()},Ot=()=>{ft(rt.error||new DOMException("AbortError","AbortError")),Je()};rt.addEventListener("complete",Nt),rt.addEventListener("error",Ot),rt.addEventListener("abort",Ot)});Be.set(rt,he)}(rt),o(rt,function W(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(rt,Ke):rt)}function ut(rt){if(rt instanceof IDBRequest)return function et(rt){const he=new Promise((ht,ft)=>{const Je=()=>{rt.removeEventListener("success",Nt),rt.removeEventListener("error",Ot)},Nt=()=>{ht(ut(rt.result)),Je()},Ot=()=>{ft(rt.error),Je()};rt.addEventListener("success",Nt),rt.addEventListener("error",Ot)});return he.then(ht=>{ht instanceof IDBCursor&&Se.set(ht,rt)}).catch(()=>{}),_e.set(he,rt),he}(rt);if(Re.has(rt))return Re.get(rt);const he=mt(rt);return he!==rt&&(Re.set(rt,he),_e.set(he,rt)),he}const Mt=rt=>_e.get(rt);function At(rt,he,{blocked:ht,upgrade:ft,blocking:Je,terminated:Nt}={}){const Ot=indexedDB.open(rt,he),un=ut(Ot);return ft&&Ot.addEventListener("upgradeneeded",Ge=>{ft(ut(Ot.result),Ge.oldVersion,Ge.newVersion,ut(Ot.transaction),Ge)}),ht&&Ot.addEventListener("blocked",Ge=>ht(Ge.oldVersion,Ge.newVersion,Ge)),un.then(Ge=>{Nt&&Ge.addEventListener("close",()=>Nt()),Je&&Ge.addEventListener("versionchange",we=>Je(we.oldVersion,we.newVersion,we))}).catch(()=>{}),un}function Te(rt,{blocked:he}={}){const ht=indexedDB.deleteDatabase(rt);return he&&ht.addEventListener("blocked",ft=>he(ft.oldVersion,ft)),ut(ht).then(()=>{})}const xe=["get","getKey","getAll","getAllKeys","count"],Me=["put","add","delete","clear"],it=new Map;function dt(rt,he){if(!(rt instanceof IDBDatabase)||he in rt||"string"!=typeof he)return;if(it.get(he))return it.get(he);const ht=he.replace(/FromIndex$/,""),ft=he!==ht,Je=Me.includes(ht);if(!(ht in(ft?IDBIndex:IDBObjectStore).prototype)||!Je&&!xe.includes(ht))return;const Nt=function(){var Ot=(0,d.A)(function*(un,...Ge){const we=this.transaction(un,Je?"readwrite":"readonly");let me=we.store;return ft&&(me=me.index(Ge.shift())),(yield Promise.all([me[ht](...Ge),Je&&we.done]))[0]});return function(Ge){return Ot.apply(this,arguments)}}();return it.set(he,Nt),Nt}!function ct(rt){Ke=rt(Ke)}(rt=>({...rt,get:(he,ht,ft)=>dt(he,ht)||rt.get(he,ht,ft),has:(he,ht)=>!!dt(he,ht)||rt.has(he,ht)}))},467:(Pn,Dt,V)=>{"use strict";function d(B,ve,W,Ee,Se,Be,ot){try{var Re=B[Be](ot),_e=Re.value}catch(et){return void W(et)}Re.done?ve(_e):Promise.resolve(_e).then(Ee,Se)}function o(B){return function(){var ve=this,W=arguments;return new Promise(function(Ee,Se){var Be=B.apply(ve,W);function ot(_e){d(Be,Ee,Se,ot,Re,"next",_e)}function Re(_e){d(Be,Ee,Se,ot,Re,"throw",_e)}ot(void 0)})}}V.d(Dt,{A:()=>o})},9842:(Pn,Dt,V)=>{"use strict";function d(W){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ee){return typeof Ee}:function(Ee){return Ee&&"function"==typeof Symbol&&Ee.constructor===Symbol&&Ee!==Symbol.prototype?"symbol":typeof Ee})(W)}function ve(W,Ee,Se){return(Ee=function B(W){var Ee=function o(W,Ee){if("object"!=d(W)||!W)return W;var Se=W[Symbol.toPrimitive];if(void 0!==Se){var Be=Se.call(W,Ee||"default");if("object"!=d(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ee?String:Number)(W)}(W,"string");return"symbol"==d(Ee)?Ee:Ee+""}(Ee))in W?Object.defineProperty(W,Ee,{value:Se,enumerable:!0,configurable:!0,writable:!0}):W[Ee]=Se,W}V.d(Dt,{A:()=>ve})},1635:(Pn,Dt,V)=>{"use strict";function ve(oe,Ne){var ze={};for(var Ze in oe)Object.prototype.hasOwnProperty.call(oe,Ze)&&Ne.indexOf(Ze)<0&&(ze[Ze]=oe[Ze]);if(null!=oe&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Ze=Object.getOwnPropertySymbols(oe);je<Ze.length;je++)Ne.indexOf(Ze[je])<0&&Object.prototype.propertyIsEnumerable.call(oe,Ze[je])&&(ze[Ze[je]]=oe[Ze[je]])}return ze}function W(oe,Ne,ze,Ze){var _t,je=arguments.length,st=je<3?Ne:null===Ze?Ze=Object.getOwnPropertyDescriptor(Ne,ze):Ze;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)st=Reflect.decorate(oe,Ne,ze,Ze);else for(var Ft=oe.length-1;Ft>=0;Ft--)(_t=oe[Ft])&&(st=(je<3?_t(st):je>3?_t(Ne,ze,st):_t(Ne,ze))||st);return je>3&&st&&Object.defineProperty(Ne,ze,st),st}function et(oe,Ne,ze,Ze){return new(ze||(ze=Promise))(function(st,_t){function Ft(mn){try{It(Ze.next(mn))}catch(kn){_t(kn)}}function Nn(mn){try{It(Ze.throw(mn))}catch(kn){_t(kn)}}function It(mn){mn.done?st(mn.value):function je(st){return st instanceof ze?st:new ze(function(_t){_t(st)})}(mn.value).then(Ft,Nn)}It((Ze=Ze.apply(oe,Ne||[])).next())})}function Te(oe){return this instanceof Te?(this.v=oe,this):new Te(oe)}function xe(oe,Ne,ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Ze=ze.apply(oe,Ne||[]),st=[];return je=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Ft("next"),Ft("throw"),Ft("return",function _t(qt){return function(jt){return Promise.resolve(jt).then(qt,kn)}}),je[Symbol.asyncIterator]=function(){return this},je;function Ft(qt,jt){Ze[qt]&&(je[qt]=function(On){return new Promise(function(rn,ke){st.push([qt,On,rn,ke])>1||Nn(qt,On)})},jt&&(je[qt]=jt(je[qt])))}function Nn(qt,jt){try{!function It(qt){qt.value instanceof Te?Promise.resolve(qt.value.v).then(mn,kn):Gn(st[0][2],qt)}(Ze[qt](jt))}catch(On){Gn(st[0][3],On)}}function mn(qt){Nn("next",qt)}function kn(qt){Nn("throw",qt)}function Gn(qt,jt){qt(jt),st.shift(),st.length&&Nn(st[0][0],st[0][1])}}function it(oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ze,Ne=oe[Symbol.asyncIterator];return Ne?Ne.call(oe):(oe=function yt(oe){var Ne="function"==typeof Symbol&&Symbol.iterator,ze=Ne&&oe[Ne],Ze=0;if(ze)return ze.call(oe);if(oe&&"number"==typeof oe.length)return{next:function(){return oe&&Ze>=oe.length&&(oe=void 0),{value:oe&&oe[Ze++],done:!oe}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(oe),ze={},Ze("next"),Ze("throw"),Ze("return"),ze[Symbol.asyncIterator]=function(){return this},ze);function Ze(st){ze[st]=oe[st]&&function(_t){return new Promise(function(Ft,Nn){!function je(st,_t,Ft,Nn){Promise.resolve(Nn).then(function(It){st({value:It,done:Ft})},_t)}(Ft,Nn,(_t=oe[st](_t)).done,_t.value)})}}}V.d(Dt,{AQ:()=>xe,Cg:()=>W,N3:()=>Te,Tt:()=>ve,sH:()=>et,xN:()=>it}),"function"==typeof SuppressedError&&SuppressedError}},Pn=>{Pn(Pn.s=7911)}]);