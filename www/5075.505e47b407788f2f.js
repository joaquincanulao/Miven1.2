"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(v,l,r)=>{r.r(l),r.d(l,{HomePageModule:()=>f});var p=r(177),u=r(4341),t=r(4742),c=r(9384),e=r(4438),d=r(6422);function m(n,a){if(1&n&&(e.j41(0,"div",7)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Receta M\xe1s Popular"),e.k0s()(),e.j41(5,"ion-card-content")(6,"h1"),e.EFF(7),e.k0s(),e.nrm(8,"img",8),e.j41(9,"p"),e.EFF(10),e.k0s(),e.j41(11,"ion-button",9),e.EFF(12,"Ver Receta"),e.k0s()()()()),2&n){const i=e.XpG();e.R7$(7),e.JRh(i.popularRecipe.titulo),e.R7$(),e.Y8G("src",i.popularRecipe.imageUrl,e.B4B),e.R7$(2),e.SpI("Calificaci\xf3n: ",i.popularRecipe.rating," / 5"),e.R7$(),e.Mz_("routerLink","/recipe/",i.popularRecipe.id,"")}}const g=[{path:"",component:(()=>{var n;class a{constructor(o){this.firestore=o,this.tips=[],this.currentTip="",this.popularRecipe=null}ngOnInit(){this.loadTips(),setInterval(()=>{this.showRandomTip()},1e4),this.loadPopularRecipe()}loadTips(){console.log("Intentando cargar los consejos..."),this.firestore.collection("consejos").valueChanges().subscribe({next:o=>{console.log("Datos recibidos:",o),this.tips=o.map(s=>s.e),this.showRandomTip()},error:o=>{console.error("Error al cargar los consejos:",o)}})}showRandomTip(){if(this.tips.length>0){const o=Math.floor(Math.random()*this.tips.length);this.currentTip=this.tips[o]}}loadPopularRecipe(){this.firestore.collection("recetas",o=>o.orderBy("rating","desc").limit(1)).valueChanges({idField:"id"}).subscribe({next:o=>{o.length>0?(this.popularRecipe=o[0],console.log("Receta m\xe1s popular:",this.popularRecipe)):console.warn("No se encontraron recetas populares.")},error:o=>{console.error("Error al cargar la receta m\xe1s popular:",o)}})}}return(n=a).\u0275fac=function(o){return new(o||n)(e.rXU(d.Qe))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-home"]],decls:32,vars:2,consts:[["slot","start"],[1,"ion-padding"],[1,"welcome-message"],["expand","full","routerLink","/inventory"],[1,"food-tips-container"],["expand","block",3,"click"],["class","popular-recipe-container",4,"ngIf"],[1,"popular-recipe-container"],["alt","Imagen de la receta",1,"popular-recipe-image",3,"src"],["expand","block",3,"routerLink"]],template:function(o,s){1&o&&(e.j41(0,"ion-header")(1,"ion-buttons",0),e.nrm(2,"ion-menu-button"),e.k0s(),e.j41(3,"ion-toolbar")(4,"ion-title"),e.EFF(5,"Bienvenido a Miven"),e.k0s()()(),e.j41(6,"ion-content",1)(7,"div",2)(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),e.EFF(11,"Bienvenido a Miven"),e.k0s()(),e.j41(12,"ion-card-content")(13,"p"),e.EFF(14," Miven es una aplicaci\xf3n que te permite gestionar tu inventario de alimentos y, al mismo tiempo, lo vincula con recetas. Aqu\xed puedes ver recetas de otros usuarios, as\xed como crear tus propias recetas. "),e.k0s(),e.j41(15,"p"),e.EFF(16," Cada vez que consultes una receta, autom\xe1ticamente te informaremos si tienes los ingredientes necesarios en tu inventario. "),e.k0s(),e.j41(17,"p"),e.EFF(18," \xa1Explora recetas, gestiona tu inventario y disfruta de una experiencia culinaria conectada con Miven! "),e.k0s(),e.j41(19,"ion-button",3),e.EFF(20,"Gestionar Inventario"),e.k0s()()()(),e.j41(21,"div",4)(22,"ion-card")(23,"ion-card-header")(24,"ion-card-title"),e.EFF(25,"Consejo del D\xeda"),e.k0s()(),e.j41(26,"ion-card-content")(27,"p"),e.EFF(28),e.k0s(),e.j41(29,"ion-button",5),e.bIt("click",function(){return s.showRandomTip()}),e.EFF(30,"Siguiente Consejo"),e.k0s()()()(),e.DNE(31,m,13,5,"div",6),e.k0s()),2&o&&(e.R7$(28),e.JRh(s.currentTip||"Cargando consejo..."),e.R7$(3),e.Y8G("ngIf",s.popularRecipe))},dependencies:[p.bT,t.Jm,t.QW,t.b_,t.I9,t.ME,t.tN,t.W9,t.eU,t.MC,t.BC,t.ai,t.N7,c.Wk],styles:[".welcome-message[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.welcome-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.welcome-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;margin:15px 0}ion-button[_ngcontent-%COMP%]{margin-top:20px}"]}),a})()}];let h=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[c.iI.forChild(g),c.iI]}),a})(),f=(()=>{var n;class a{}return(n=a).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.MD,u.YN,t.bv,h]}),a})()}}]);